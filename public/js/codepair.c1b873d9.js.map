{"version":3,"sources":["webpack:///./node_modules/yeast/index.js","webpack:///./node_modules/backo2/index.js","webpack:///./node_modules/codemirror/addon/search/search.js","webpack:///./node_modules/codemirror/addon/edit/closebrackets.js","webpack:///./node_modules/core-js/internals/same-value.js","webpack:///./node_modules/engine.io-client/build/esm/transports/websocket.js","webpack:///./node_modules/base64-js/index.js","webpack:///./node_modules/engine.io-client/build/esm/globalThis.browser.js","webpack:///./node_modules/codemirror/addon/dialog/dialog.js","webpack:///./node_modules/core-js/modules/es.object.is.js","webpack:///./node_modules/engine.io-parser/build/esm/commons.js","webpack:///./node_modules/engine.io-parser/build/esm/encodePacket.browser.js","webpack:///./node_modules/base64-arraybuffer/dist/base64-arraybuffer.es5.js","webpack:///./node_modules/engine.io-parser/build/esm/decodePacket.browser.js","webpack:///./node_modules/engine.io-parser/build/esm/index.js","webpack:///./node_modules/engine.io-client/build/esm/transport.js","webpack:///./node_modules/core-js/modules/es.map.js","webpack:///./node_modules/parseqs/index.js","webpack:///./node_modules/parseuri/index.js","webpack:///./node_modules/codemirror/lib/codemirror.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/diff-match-patch/index.js","webpack:///./node_modules/core-js/internals/collection-strong.js","webpack:///./node_modules/core-js/internals/collection.js","webpack:///./node_modules/codemirror/addon/comment/comment.js","webpack:///./src/util/controller.js","webpack:///./node_modules/engine.io-client/build/esm/transports/websocket-constructor.browser.js","webpack:///./src/views/CodePair.vue?1667","webpack:///./node_modules/socket.io-client/build/esm/url.js","webpack:///./node_modules/engine.io-client/build/esm/transports/xmlhttprequest.browser.js","webpack:///./node_modules/engine.io-client/build/esm/transports/polling.js","webpack:///./node_modules/engine.io-client/build/esm/transports/polling-xhr.js","webpack:///./node_modules/engine.io-client/build/esm/transports/index.js","webpack:///./node_modules/engine.io-client/build/esm/socket.js","webpack:///./node_modules/engine.io-client/build/esm/index.js","webpack:///./node_modules/socket.io-parser/build/esm/is-binary.js","webpack:///./node_modules/socket.io-parser/build/esm/binary.js","webpack:///./node_modules/socket.io-parser/build/esm/index.js","webpack:///./node_modules/socket.io-client/build/esm/on.js","webpack:///./node_modules/socket.io-client/build/esm/socket.js","webpack:///./node_modules/socket.io-client/build/esm/manager.js","webpack:///./node_modules/socket.io-client/build/esm/index.js","webpack:///./src/components/Editor.vue?7e4b","webpack:///src/components/Editor.vue","webpack:///./src/components/Editor.vue?5a9d","webpack:///../../../src/components/VSheet/index.ts","webpack:///../../../src/components/transitions/createTransition.ts","webpack:///../../../src/components/transitions/expand-transition.ts","webpack:///../../../src/components/transitions/index.ts","webpack:///../../../src/mixins/proxyable/index.ts","webpack:///../../../src/components/VProgressLinear/VProgressLinear.ts","webpack:///../../../src/components/VProgressLinear/index.ts","webpack:///../../../src/mixins/loadable/index.ts","webpack:///../../../src/directives/ripple/index.ts","webpack:///../../../src/mixins/routable/index.ts","webpack:///../../../src/components/VCard/VCard.ts","webpack:///../../../src/components/VGrid/VCol.ts","webpack:///../../../src/components/VGrid/VRow.ts","webpack:///./src/components/Editor.vue","webpack:///src/views/CodePair.vue","webpack:///./src/views/CodePair.vue?7716","webpack:///../../../src/components/VProgressCircular/VProgressCircular.ts","webpack:///../../../src/components/VProgressCircular/index.ts","webpack:///../../../src/mixins/registrable/index.ts","webpack:///../../../src/mixins/groupable/index.ts","webpack:///../../../src/mixins/sizeable/index.ts","webpack:///../../../src/components/VBtn/VBtn.ts","webpack:///../../../src/components/VCard/index.ts","webpack:///../../../src/components/VGrid/grid.ts","webpack:///../../../src/components/VGrid/VContainer.ts","webpack:///../../../src/components/VForm/VForm.ts","webpack:///../../../src/components/VSnackbar/VSnackbar.ts","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///../../../src/components/VIcon/VIcon.ts","webpack:///../../../src/components/VIcon/index.ts","webpack:///../../../src/components/VLabel/VLabel.ts","webpack:///../../../src/components/VLabel/index.ts","webpack:///../../../src/components/VMessages/VMessages.ts","webpack:///../../../src/components/VMessages/index.ts","webpack:///../../../src/mixins/validatable/index.ts","webpack:///../../../src/components/VInput/VInput.ts","webpack:///../../../src/components/VInput/index.ts","webpack:///../../../src/components/VCounter/VCounter.ts","webpack:///../../../src/components/VCounter/index.ts","webpack:///../../../src/mixins/intersectable/index.ts","webpack:///../../../src/directives/resize/index.ts","webpack:///../../src/util/dom.ts","webpack:///../../../src/components/VTextField/VTextField.ts","webpack:///./src/views/CodePair.vue","webpack:///./node_modules/vue-codemirror/dist/vue-codemirror.js","webpack:///./node_modules/ieee754/index.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/core-js/modules/es.string.link.js","webpack:///./node_modules/codemirror/addon/hint/show-hint.js","webpack:///./node_modules/engine.io-client/build/esm/util.js","webpack:///./node_modules/@socket.io/component-emitter/index.js","webpack:///./node_modules/buffer/index.js","webpack:///./node_modules/codemirror/addon/search/searchcursor.js","webpack:///./node_modules/core-js/modules/es.string.small.js","webpack:///./node_modules/has-cors/index.js","webpack:///./node_modules/codemirror/addon/display/placeholder.js","webpack:///./node_modules/isarray/index.js","webpack:///./node_modules/core-js/modules/es.json.stringify.js"],"names":["prev","alphabet","split","length","map","seed","i","encode","num","encoded","Math","floor","decode","str","decoded","charAt","yeast","now","Date","module","exports","Backoff","opts","this","ms","min","max","factor","jitter","attempts","prototype","duration","pow","rand","random","deviation","reset","setMin","setMax","setJitter","mod","CodeMirror","searchOverlay","query","caseInsensitive","RegExp","replace","global","source","ignoreCase","token","stream","lastIndex","pos","match","exec","string","index","skipToEnd","SearchState","posFrom","posTo","lastQuery","overlay","getSearchState","cm","state","search","queryCaseInsensitive","toLowerCase","getSearchCursor","caseFold","multiline","persistentDialog","text","deflt","onEnter","onKeyDown","openDialog","value","selectValueOnOpen","closeOnEnter","onClose","clearSearch","bottom","options","dialog","shortText","f","prompt","confirmDialog","fs","openConfirm","confirm","parseString","ch","parseQuery","isRE","indexOf","e","test","startSearch","queryText","removeOverlay","addOverlay","showMatchesOnScrollbar","annotate","clear","doSearch","rev","persistent","immediate","findNext","q","getSelection","hiding","searchNext","event","e_stop","getCursor","style","opacity","shiftKey","_","to","line","document","querySelector","display","wrapper","getBoundingClientRect","cursorCoords","top","getQueryDialog","keyName","extra","getOption","cmd","keyMap","execCommand","operation","callback","cursor","find","Pos","lastLine","firstLine","setSelection","from","scrollIntoView","el","tag","attrs","element","createElement","createDocumentFragment","key","arguments","child","appendChild","createTextNode","className","phrase","type","getReplaceQueryDialog","getReplacementQueryDialog","getDoReplaceConfirm","replaceAll","getRange","all","dialogText","fragment","advance","start","doReplace","defineOption","commands","findPersistent","findPersistentNext","findPersistentPrev","findPrev","defaults","pairs","closeBefore","triples","explode","conf","name","val","old","Init","removeKeyMap","closeBrackets","ensureBound","addKeyMap","Backspace","handleBackspace","Enter","handleEnter","chars","handler","handleChar","getConfig","override","mode","getModeAt","Pass","ranges","listSelections","empty","around","charsAround","head","cur","replaceRange","linesep","lineSeparator","replaceSelection","moveSel","indentLine","dir","newRanges","primary","range","push","anchor","setSelections","contractSelection","sel","inverted","cmpPos","identical","opening","curType","next","getTokenTypeAt","isWordChar","stringStartsAfter","left","right","sels","getSelections","replaceSelections","slice","triggerElectric","getTokenAt","Object","is","x","y","isReactNative","navigator","product","WS","super","supportsBinary","forceBase64","check","uri","protocols","extraHeaders","headers","ws","err","emit","binaryType","socket","addEventListeners","onopen","autoUnref","_socket","unref","onOpen","onclose","bind","onmessage","ev","onData","data","onerror","onError","packets","writable","packet","lastPacket","compress","perMessageDeflate","len","Buffer","byteLength","threshold","send","setTimeoutFn","close","schema","secure","port","Number","timestampRequests","timestampParam","b64","encodedQuery","ipv6","hostname","path","toByteArray","fromByteArray","lookup","revLookup","Arr","Uint8Array","Array","code","charCodeAt","getLens","Error","validLen","placeHoldersLen","lens","_byteLength","tmp","arr","curByte","tripletToBase64","encodeChunk","uint8","end","output","join","extraBytes","parts","maxChunkLength","len2","self","window","Function","dialogDiv","template","wrap","getWrapperElement","innerHTML","addClass","closeNotification","newVal","currentNotificationClose","defineExtension","closed","me","inp","rmClass","parentNode","removeChild","focus","button","getElementsByTagName","select","onInput","on","onKeyUp","keyCode","blur","closeOnBlur","evt","relatedTarget","callbacks","buttons","blurring","b","e_preventDefault","setTimeout","doneTimer","clearTimeout","$","target","stat","PACKET_TYPES","create","PACKET_TYPES_REVERSE","keys","forEach","ERROR_PACKET","withNativeBlob","Blob","toString","call","withNativeArrayBuffer","ArrayBuffer","isView","obj","buffer","encodePacket","encodeBlobAsBase64","fileReader","FileReader","onload","content","result","readAsDataURL","base64","encoded1","encoded2","encoded3","encoded4","bufferLength","p","arraybuffer","bytes","decodePacket","encodedPacket","mapBinary","decodeBase64Packet","substring","packetType","SEPARATOR","String","fromCharCode","encodePayload","encodedPackets","count","decodePayload","encodedPayload","decodedPacket","protocol","Transport","readyState","msg","desc","description","doOpen","doClose","write","onPacket","collection","collectionStrong","init","undefined","hasOwnProperty","encodeURIComponent","qs","qry","l","pair","decodeURIComponent","re","pathNames","regx","names","substr","splice","queryKey","$0","$1","$2","src","m","host","authority","ipv6uri","factory","userAgent","platform","gecko","ie_upto10","ie_11up","edge","ie","ie_version","documentMode","webkit","qtwebkit","chrome","presto","safari","vendor","mac_geMountainLion","phantom","ios","maxTouchPoints","android","mobile","mac","chromeOS","windows","presto_version","flipCtrlCmd","captureRightClick","classTest","cls","node","current","after","removeChildren","childNodes","firstChild","removeChildrenAndAdd","parent","elt","cssText","eltP","setAttribute","contains","nodeType","activeElt","activeElement","body","shadowRoot","joinClasses","a","as","createRange","endNode","r","setEnd","setStart","createTextRange","moveToElementText","collapse","moveEnd","moveStart","selectInput","args","apply","copyObj","overwrite","prop","countColumn","tabSize","startIndex","startValue","n","nextTab","selectionStart","selectionEnd","_e","Delayed","id","time","onTimeout","array","set","scrollerGap","sel_dontScroll","scroll","sel_mouse","origin","sel_move","findColumn","goal","col","skipped","spaceStrs","spaceStr","lst","out","insertSorted","score","priority","nothing","createObj","base","props","inst","nonASCIISingleCaseWordChar","isWordCharBasic","toUpperCase","helper","isEmpty","extendingChars","isExtendingChar","skipExtendingChars","findFirst","pred","midF","mid","ceil","iterateBidiSections","order","found","part","level","bidiOther","getBidiPartAt","sticky","bidiOrdering","lowTypes","arabicTypes","charType","bidiRE","isNeutral","isStrong","countsAsLeft","countsAsNum","BidiSpan","direction","outerType","types","i$1","i$2","type$1","i$3","prev$1","type$2","i$4","type$3","j","i$5","cur$1","type$4","i$6","end$1","before","replace$1","j$1","i$7","at","isRTL","j$2","nstart","unshift","reverse","getOrder","noHandlers","emitter","addEventListener","attachEvent","_handlers","concat","getHandlers","off","removeEventListener","detachEvent","signal","handlers","signalDOMEvent","preventDefault","defaultPrevented","e_defaultPrevented","codemirrorIgnore","signalCursorActivity","cursorActivity","curOp","cursorActivityHandlers","hasHandler","eventMixin","ctor","returnValue","e_stopPropagation","stopPropagation","cancelBubble","e_target","srcElement","e_button","which","ctrlKey","zwspSupported","badBidiRects","dragAndDrop","div","zeroWidthElement","measure","offsetHeight","offsetWidth","hasBadBidiRects","txt","r0","r1","splitLinesAuto","nl","rt","hasSelection","te","ownerDocument","selection","parentElement","compareEndPoints","hasCopyEvent","oncopy","badZoomedRects","hasBadZoomedRects","normal","fromRange","abs","modes","mimeModes","defineMode","dependencies","defineMIME","mime","spec","resolveMode","getMode","mfactory","modeObj","modeExtensions","exts","helperType","modeProps","prop$1","extendMode","properties","copyState","nstate","innerMode","info","startState","a1","a2","StringStream","lineOracle","lastColumnPos","lastColumnValue","lineStart","getLine","doc","first","size","chunk","lines","children","sz","chunkSize","getBetween","iter","getLines","updateLineHeight","height","diff","lineNo","no","lineAtHeight","h","outer","lh","isLine","lineNumberFor","lineNumberFormatter","firstLineNumber","cmp","equalCursorPos","copyPos","maxPos","minPos","clipLine","clipPos","last","clipToLen","linelen","clipPosArray","eol","sol","peek","eat","ok","eatWhile","eatSpace","skipTo","backUp","column","indentation","pattern","consume","cased","hideFirstChars","inner","lookAhead","oracle","baseToken","SavedContext","Context","maxLookAhead","baseTokens","baseTokenPos","highlightLine","context","forceToEnd","st","modeGen","lineClasses","runMode","loop","o","overlays","i_end","opaque","styles","classes","bgClass","textClass","getLineStyles","updateFrontier","getContextBefore","resetState","maxHighlightLength","stateAfter","save","styleClasses","highlightFrontier","modeFrontier","precise","findStartLine","saved","fromSaved","processLine","viewFrom","viewTo","nextLine","startAt","callBlankLine","readToken","blankLine","copy","Token","takeToken","asArray","tokens","extractLineClasses","lineClass","flattenSpans","curStart","curStyle","addModeClass","mName","minindent","minline","lim","indented","retreatFrontier","sawReadOnlySpans","sawCollapsedSpans","seeReadOnlySpans","seeCollapsedSpans","MarkedSpan","marker","getMarkedSpanFor","spans","span","removeMarkedSpan","addMarkedSpan","op","inThisOp","WeakSet","markedSpans","has","add","attachLine","markedSpansBefore","startCh","isInsert","nw","startsBefore","inclusiveLeft","insertLeft","endsAfter","inclusiveRight","markedSpansAfter","endCh","stretchSpansOverChange","change","full","oldFirst","oldLast","sameLine","offset","span$1","found$1","clearEmptySpans","newMarkers","gapMarkers","gap","clearWhenEmpty","removeReadOnlyRanges","markers","mark","readOnly","mk","newParts","dfrom","dto","detachMarkedSpans","detachLine","attachMarkedSpans","extraLeft","extraRight","compareCollapsedMarkers","lenDiff","aPos","bPos","fromCmp","toCmp","collapsedSpanAtSide","sps","sp","collapsed","collapsedSpanAtStart","collapsedSpanAtEnd","collapsedSpanAround","conflictingCollapsedRange","visualLine","merged","visualLineEnd","visualLineContinued","visualLineNo","lineN","vis","visualLineEndNo","lineIsHidden","widgetNode","lineIsHiddenInner","heightAtLine","lineObj","lineLength","findMaxLine","d","maxLine","maxLineLength","maxLineChanged","Line","estimateHeight","updateLine","estHeight","cleanUpLine","styleToClassCache","styleToClassCacheWithMode","interpretTokenStyle","cache","buildLineContent","lineView","builder","pre","trailingSpace","splitSpaces","rest","addToken","buildToken","buildTokenBadBidi","allowFrontierUpdate","externalMeasured","insertLineContent","maps","caches","lastChild","defaultSpecialCharPlaceholder","title","startStyle","endStyle","css","attributes","displayText","special","specialChars","mustWrap","txt$1","tabWidth","specialCharPlaceholder","fullStyle","attr","trailingBefore","spaceBefore","buildCollapsedSpan","ignoreWidget","widget","input","needsContentAttribute","setUneditable","allText","spanStyle","spanEndStyle","spanStartStyle","nextChange","Infinity","foundBookmarks","endStyles","upto","tokenText","LineView","hidden","buildViewArray","nextPos","view","operationGroup","pushOperation","ops","ownsGroup","delayedCallbacks","fireCallbacksForOps","group","cursorActivityCalled","finishOperation","endCb","orphanDelayedCallbacks","signalLater","list","fireOrphanDelayed","delayed","updateLineForChanges","dims","changes","updateLineText","updateLineGutter","updateLineClasses","updateLineWidgets","ensureLineWrapped","replaceChild","zIndex","updateLineBackground","background","insertBefore","getLineContent","ext","built","wrapClass","gutter","gutterBackground","gutterClass","fixedGutter","fixedPos","gutterTotalWidth","gutterMarkers","lineNumbers","wrap$1","gutterWrap","lineNumber","gutterLeft","k","gutterSpecs","gutterWidth","alignable","isWidget","nextSibling","insertLineWidgets","buildLineElement","insertLineWidgetsFor","allowAbove","widgets","handleMouseEvents","positionLineWidget","above","noHScroll","width","wrapperWidth","coverGutter","paddingLeft","position","marginLeft","widgetHeight","parentStyle","gutters","clientWidth","eventInWidget","getAttribute","sizer","mover","paddingTop","lineSpace","offsetTop","paddingVert","paddingH","cachedPaddingH","getComputedStyle","currentStyle","parseInt","paddingRight","isNaN","scrollGap","nativeBarWidth","displayWidth","scroller","barWidth","displayHeight","clientHeight","barHeight","ensureLineHeights","rect","wrapping","lineWrapping","curWidth","heights","rects","getClientRects","mapFromLineView","updateExternalMeasurement","lineMeasure","measureChar","bias","measureCharPrepared","prepareMeasureForLine","findViewForLine","findViewIndex","getDimensions","forceUpdate","hasHeights","prepared","varHeight","measureCharInner","bogus","rtop","rbottom","measureText","nullRect","nodeAndOffsetInLineMap","mStart","mEnd","coverStart","coverEnd","getUsefulRect","place","maybeUpdateRectForZooming","rSpan","charWidth","rbot","bot","singleCursorHeightPerLine","screen","logicalXDPI","deviceXDPI","scaleX","scaleY","logicalYDPI","deviceYDPI","clearLineMeasurementCacheFor","clearLineMeasurementCache","externalMeasure","clearCaches","cachedCharWidth","cachedTextHeight","lineNumChars","pageScrollX","pageXOffset","documentElement","scrollLeft","pageScrollY","marginTop","pageYOffset","scrollTop","widgetTopHeight","intoCoordSystem","includeWidgets","yOff","viewOffset","lOff","xOff","fromCoordSystem","coords","localBox","lineSpaceBox","charCoords","preparedMeasure","get","getBidi","partPos","invert","other","estimateCoords","PosWithInfo","outside","xRel","coordsChar","coordsCharInner","rangeEnd","wrappedLineExtent","begin","wrappedLineExtentChar","targetTop","boxIsAfter","box","ltr","coordsBidiPartWrapped","coordsBidiPart","baseX","chAround","boxAround","atLeft","atStart","_lineNo","ref","closestDist","endX","dist","textHeight","clientLeft","offsetLeft","compensateForHScroll","th","perLine","widgetsHeight","estimateLineHeights","est","posFromMouse","liberal","forRect","space","clientX","clientY","e$1","colDiff","round","regChange","lendiff","updateLineNumbers","viewChanged","resetView","cut","viewCuttingPoint","cut$1","cutTop","cutBot","regLineChange","oldN","newN","adjustView","countDirtyView","dirty","updateSelection","showSelection","prepareSelection","curFragment","cursors","selFragment","customCursor","$customCursor","primIndex","drawSelectionCursor","showCursorWhenSelecting","drawSelectionRange","cursorHeight","charPos","defaultCharWidth","otherCursor","cmpCoords","padding","leftSide","rightSide","sizerWidth","docLTR","drawForLine","fromArg","toArg","lineLen","wrapX","side","extent","fromPos","toPos","openStart","openEnd","openLeft","openRight","topLeft","topRight","botLeft","botRight","sFrom","sTo","fromLine","toLine","singleVLine","leftEnd","rightStart","restartBlink","focused","clearInterval","blinker","cursorDiv","visibility","cursorBlinkRate","setInterval","hasFocus","onBlur","ensureFocus","onFocus","delayBlurEvent","delayingBlurEvent","draggingText","selForContextMenu","receivedFocus","shift","updateHeightsInViewport","prevBottom","lineDiv","viewTop","oldHeight","mustScroll","updateWidgetHeight","chWidth","w","visibleLines","viewport","ensure","ensureFrom","ensureTo","maybeScrollWindow","doScroll","innerHeight","scrollNode","scrollPosIntoView","margin","limit","changed","endCoords","scrollPos","calculateScrollPos","startTop","startLeft","updateScrollTop","setScrollLeft","snapMargin","screentop","docBottom","atTop","atBottom","newTop","gutterSpace","screenleft","screenw","tooWide","addToScrollTop","resolveScrollToPos","ensureCursorVisible","scrollToPos","cursorScrollMargin","scrollToCoords","scrollToRange","scrollToCoordsRange","sPos","updateDisplaySimple","setScrollTop","startWorker","forceScroll","scrollHeight","scrollbars","isScroller","scrollWidth","alignHorizontally","measureForScrollbars","gutterW","docH","viewHeight","viewWidth","barLeft","docHeight","NativeScrollbars","vert","horiz","tabIndex","checkedZeroWidth","minHeight","minWidth","update","needsH","needsV","sWidth","totalHeight","totalWidth","zeroWidthHack","disableHoriz","enableZeroWidthBar","disableVert","pointerEvents","bar","delay","maybeDisable","elementFromPoint","NullScrollbars","updateScrollbars","startWidth","startHeight","updateScrollbarsInner","sizes","paddingBottom","heightForcer","borderBottom","scrollbarFiller","coverGutterNextToScrollbar","gutterFiller","scrollbarModel","initScrollbars","scrollbarStyle","axis","nextOpId","startOperation","updateInput","typing","changeObjs","selectionChanged","updateMaxLine","markArrays","endOperation","endOperations","endOperation_R1","endOperation_W1","endOperation_R2","endOperation_W2","endOperation_finish","maybeClipScrollbars","mustUpdate","DisplayUpdate","updatedDisplay","updateDisplayIfNeeded","barMeasure","adjustWidthTo","maxScrollLeft","preparedSelection","takeFocus","setDocumentHeight","postUpdateDisplay","wheelStartX","wheelStartY","maybeHiddenMarkers","unhidden","maybeUnhiddenMarkers","finish","runInOp","methodOp","docMethodOp","highlight","highlightWorker","workTime","changedLines","oldStyles","highlighted","oldCls","newCls","ischange","workDelay","force","visible","editorIsHidden","wrapperHeight","oldDisplayWidth","events","scrollbarsClipped","marginBottom","borderRightWidth","selectionSnapshot","active","anchorNode","extend","anchorOffset","focusNode","focusOffset","restoreSelection","snapshot","nodeName","removeAllRanges","addRange","renderedView","maybeUpdateLineNumberWidth","viewportMargin","different","lastWrapHeight","lastWrapWidth","toUpdate","selSnapshot","patchDisplay","selectionDiv","reportedViewFrom","reportedViewTo","updateNumbersFrom","container","rm","currentWheelTarget","updateNumber","updateGutterSpace","alignWidgets","comp","align","innerW","lineGutter","lineNumInnerWidth","lineNumWidth","getGutters","sawLineNumbers","renderGutters","specs","gElt","updateGutters","Display","draggable","wheelDX","wheelDY","activeTouch","wheelSamples","wheelPixelsPerUnit","wheelEventDelta","dx","wheelDeltaX","dy","wheelDeltaY","detail","HORIZONTAL_AXIS","VERTICAL_AXIS","wheelDelta","wheelEventPixels","delta","onScrollWheel","pixelsPerUnit","deltaMode","deltaX","deltaY","canScrollX","canScrollY","pixels","movedX","movedY","sample","Selection","equals","here","there","deepCopy","Range","somethingSelected","normalizeSelection","mayTouch","selectionsMayTouch","prim","sort","inv","simpleSelection","changeEnd","adjustForChange","computeSelAfterChange","offsetPos","computeReplacedSel","hint","oldPrev","newPrev","loadMode","modeOption","resetModeState","isWholeLineUpdate","wholeLineUpdateBefore","updateDoc","spansFor","linesFor","lastText","lastSpans","nlines","insert","remove","added","added$1","added$2","linkedDocs","sharedHistOnly","propagate","skip","sharedHist","linked","rel","shared","attachDoc","setDirectionClass","directionChanged","History","done","undone","undoDepth","lastModTime","lastSelTime","lastOp","lastSelOp","lastOrigin","lastSelOrigin","generation","maxGeneration","historyChangeFromChange","histChange","attachLocalSpans","clearSelectionEvents","pop","lastChangeEvent","hist","addChangeToHistory","selAfter","opId","history","historyEventDelay","pushSelectionToHistory","selectionEventCanBeMerged","addSelectionToHistory","clearRedo","dest","existing","removeClearedSpans","explicitlyCleared","getOldSpans","mergeOldSpans","stretched","oldCur","stretchCur","copyHistoryArray","newGroup","instantiateSel","newChanges","extendRange","posBefore","extendSelection","extendSelections","heads","newSel","replaceOneSelection","setSimpleSelection","filterSelectionChange","setSelectionReplaceHistory","setSelectionNoUndo","NaN","setSelectionInner","skipAtomicInSelection","reCheckSelection","mayClear","newAnchor","skipAtomic","newHead","skipAtomicInner","oldPos","preventCursorLeft","selectLeft","preventCursorRight","selectRight","atomic","near","movePos","far","cantEdit","selectAll","filterChange","canceled","cancel","makeChange","ignoreReadOnly","suppressEdits","makeChangeInner","makeChangeSingleDoc","rebased","rebaseHist","makeChangeFromHistory","allowSelectionOnly","suppress","antiChanges","filter","returned","v","shiftDoc","distance","removed","makeChangeSingleDocInEditor","recomputeMaxLength","checkWidthStart","changesHandler","changeHandler","assign","splitLines","rebaseHistSelSingle","rebaseHistArray","sub","copied","changeLine","handle","changeType","LeafChunk","BranchChunk","removeInner","insertInner","iterN","remaining","leaf","maybeSpill","spilled","sibling","myIndex","used","LineWidget","opt","adjustScrollWhenAboveVisible","addLineWidget","insertAt","aboveVisible","this$1","oldH","nextMarkerId","TextMarker","markText","markTextShared","replacedWith","addToHistory","curLine","clearOnEnter","clearHistory","withOp","visual","dHeight","SharedTextMarker","cloneNode","isParent","findSharedMarkers","findMarks","copySharedMarkers","mFrom","mTo","subMark","detachSharedMarkers","subMarker","nextDocId","Doc","lineSep","cleanGeneration","constructor","getValue","setValue","getLineHandle","getLineNumber","getLineHandleVisualStart","lineCount","setCursor","extendSelectionsBy","addSelection","dup","undo","redo","undoSelection","redoSelection","setExtending","getExtending","historySize","markClean","changeGeneration","forceSplit","isClean","gen","getHistory","setHistory","histData","setGutterMarker","gutterID","clearGutter","lineInfo","addLineClass","where","removeLineClass","removeLineWidget","setBookmark","realOpts","findMarksAt","getAllMarks","posFromIndex","sepSize","indexFromPos","copyHistory","linkedDoc","unlinkDoc","link","splitIds","iterLinkedDocs","getEditor","setDirection","eachLine","lastDrop","onDrop","clearDragCursor","files","dataTransfer","isReadOnly","File","read","markAsReadAndPasteIfAllFilesAreRead","t","readTextFromFile","file","allowDropFileTypes","reader","readAsText","text$1","getData","selected","onDragStart","setData","effectAllowed","setDragImage","img","_top","onDragOver","frag","dragCursor","forEachCodeMirror","getElementsByClassName","byClass","editors","globalsRegistered","ensureGlobalHandlers","registerGlobalHandlers","resizeTimer","onResize","setSize","keyNames","3","8","9","13","16","17","18","19","20","27","32","33","34","35","36","37","38","39","40","44","45","46","59","61","91","92","93","106","107","109","110","111","145","173","186","187","188","189","190","191","192","219","220","221","222","224","63232","63233","63234","63235","63272","63273","63275","63276","63277","63302","normalizeKeyName","alt","ctrl","normalizeKeyMap","keymap","keyname","lookupKey","getKeyMap","fallthrough","isModifierKey","addModifierNames","noShift","altKey","metaKey","altGraphKey","deleteNearSelection","compute","kill","toKill","replaced","moveCharLogically","moveLogically","endOfLine","visually","moveInStorageOrder","prep","moveVisually","bidi","mv","getWrappedLineExtent","searchInVisualLine","getRes","res","nextCh","basic","pcDefault","emacsy","macDefault","singleSelection","killLine","deleteLine","delLineLeft","delWrappedLineLeft","leftPos","delWrappedLineRight","rightPos","goDocStart","goDocEnd","goLineStart","goLineStartSmart","lineStartSmart","goLineEnd","lineEnd","goLineRight","goLineLeft","goLineLeftSmart","goLineUp","moveV","goLineDown","goPageUp","goPageDown","goCharLeft","moveH","goCharRight","goColumnLeft","goColumnRight","goWordLeft","goGroupRight","goGroupLeft","goWordRight","delCharBefore","deleteH","delCharAfter","delWordBefore","delWordAfter","delGroupBefore","delGroupAfter","indentAuto","indentSelection","indentMore","indentLess","insertTab","insertSoftTab","spaces","defaultTab","transposeChars","newlineAndIndent","openLine","toggleOverwrite","firstNonWS","inWS","doHandleBinding","bound","dropShift","ensurePolled","prevShift","lookupKeyForEditor","keyMaps","extraKeys","stopSeq","dispatchKey","seq","keySeq","dispatchKeyInner","handleKeyBinding","motion","handleCharBinding","lastStoppedKey","getField","handled","showCrossHair","up","onKeyPress","charCode","lastClick","lastDoubleClick","DOUBLECLICK_DELAY","PastClick","clickRepeat","compare","onMouseDown","supportsTouch","clickInGutter","repeat","selectingText","handleMappedButton","leftButtonDown","onContextMenu","configureMouse","option","unit","addNew","moveOnDrag","contained","behavior","dragDrop","leftButtonStartDrag","leftButtonSelect","moved","dragEnd","mouseMove","dragStart","preventScroll","e2","rangeForUnit","findWordAt","ourRange","ourIndex","startSel","lastPos","extendTo","startCol","posCol","oldRange","ranges$1","bidiSimplify","editorSize","counter","curCount","move","anchorLine","boundary","headIndex","usePart","gutterEvent","prevent","mX","mY","touches","lineBox","g","contextMenuInGutter","themeChanged","theme","optionHandlers","defineOptions","notOnInit","newBreaks","refresh","getInputField","spellcheck","autocorrect","autocapitalize","detach","attach","wrappingChanged","integer","readOnlyChanged","screenReaderLabelChanged","dragDropChanged","resetPosition","wasOn","funcs","dragFunctions","toggle","enter","over","leave","drop","inputStyles","inputStyle","pasteIncoming","cutIncoming","autofocus","registerEventHandlers","finishInit","initHooks","textRendering","word","touchFinished","prevTouch","finishTouch","isMouseLikeTouchEvent","touch","radiusX","radiusY","farAway","pageX","pageY","how","aggressive","indent","curSpace","curSpaceString","indentUnit","indentString","indentWithTabs","pos$1","defineInitHook","lastCopied","setLastCopied","newLastCopied","applyTextInput","inserted","deleted","recent","paste","textLines","multiPaste","pasteLinesPerSelection","lineWise","changeEvent","handlePaste","pasted","clipboardData","disableInput","electricChars","smartIndent","electricInput","copyableRanges","lineRange","disableBrowserMagic","field","hiddenTextarea","border","addEditorMethods","helpers","setOption","getDoc","modeSpec","getLineTokens","getHelper","getHelpers","help","_global","getStateAfter","defaultTextHeight","getViewport","addWidget","vspace","hspace","triggerOnKeyDown","triggerOnKeyPress","triggerOnKeyUp","triggerOnMouseDown","findPosH","amount","hitSide","rtlMoveVisually","findPosV","goalColumn","goals","headPos","startChar","scrollTo","getScrollInfo","interpret","swapDoc","phraseText","phrases","getScrollerElement","getGutterElement","registerHelper","registerGlobalHelper","predicate","origDir","lineDir","findNextLine","moveOnce","boundToLine","astral","sawType","pageSize","moveAmount","ContentEditableInput","lastAnchorNode","lastAnchorOffset","lastFocusNode","lastFocusOffset","polling","composing","gracePeriod","readDOMTimeout","posToDOM","isInGutter","scan","badPos","bad","domTextBetween","closing","extraLinebreak","recognizeMarker","addText","walk","cmText","markerID","isBlock","textContent","nodeValue","domToPos","lineNode","locateNodeInLineView","textNode","topNode","curNode","previousSibling","dist$1","belongsToInput","onCopyCut","lineWiseCopyCut","clearData","kludge","hadFocus","showPrimarySelection","contentEditable","updateFromDOM","readFromDOMSoon","forceCompositionEnd","label","removeAttribute","showMultipleSelections","curAnchor","curFocus","rng","rangeCount","getRangeAt","startGracePeriod","rememberSelection","selectionInEditor","commonAncestorContainer","poll","pollSelection","pollInterval","pollContent","fromIndex","fromNode","toNode","toIndex","newText","oldText","cutFront","cutEnd","oldTop","maxCutFront","newBot","oldBot","maxCutEnd","chFrom","chTo","TextareaInput","prevInput","pollingFast","fromTextArea","textarea","tabindex","placeholder","realSubmit","form","leaveSubmitMethodAlone","submit","wrappedSubmit","getTextArea","toTextArea","addLegacyProps","createField","prepareCopyCut","fastPoll","dispatchEvent","Event","_display","moveInputWithCursor","wrapOff","lineOff","teTop","teLeft","drawn","contextMenuPending","slowPoll","missed","same","resetSelectionOnContextMenu","oldScrollY","oldCSS","oldWrapperCSS","wrapperBox","offsetParent","scrollY","rehide","detectingSelectAll","prepareSelectAllHack","mouseup","extval","disabled","dontDelegate","method","func","defineDocExtension","version","_defineProperties","descriptor","enumerable","configurable","defineProperty","_createClass","Constructor","protoProps","staticProps","__esModule","diff_match_patch","Diff_Timeout","Diff_EditCost","Match_Threshold","Match_Distance","Patch_DeleteThreshold","Patch_Margin","Match_MaxBits","DIFF_DELETE","DIFF_INSERT","DIFF_EQUAL","Diff","diff_main","text1","text2","opt_checklines","opt_deadline","MAX_VALUE","getTime","deadline","checklines","commonlength","diff_commonPrefix","commonprefix","diff_commonSuffix","commonsuffix","diffs","diff_compute_","diff_cleanupMerge","longtext","shorttext","hm","diff_halfMatch_","text1_a","text1_b","text2_a","text2_b","mid_common","diffs_a","diffs_b","diff_lineMode_","diff_bisect_","diff_linesToChars_","chars1","chars2","linearray","lineArray","diff_charsToLines_","diff_cleanupSemantic","pointer","count_delete","count_insert","text_delete","text_insert","subDiff","text1_length","text2_length","max_d","v_offset","v_length","v1","v2","front","k1start","k1end","k2start","k2end","k1","k1_offset","x1","y1","k2_offset","x2","diff_bisectSplit_","k2","y2","text1a","text2a","text1b","text2b","diffsb","lineHash","diff_linesToCharsMunge_","lineArrayLength","maxLines","pointermin","pointermax","pointermid","pointerstart","pointerend","diff_commonOverlap_","text_length","best","dmp","diff_halfMatchI_","best_longtext_a","best_longtext_b","best_shorttext_a","best_shorttext_b","best_common","prefixLength","suffixLength","hm1","hm2","equalities","equalitiesLength","lastEquality","length_insertions1","length_deletions1","length_insertions2","length_deletions2","diff_cleanupSemanticLossless","deletion","insertion","overlap_length1","overlap_length2","diff_cleanupSemanticScore_","one","two","char1","char2","nonAlphaNumeric1","nonAlphaNumericRegex_","nonAlphaNumeric2","whitespace1","whitespaceRegex_","whitespace2","lineBreak1","linebreakRegex_","lineBreak2","blankLine1","blanklineEndRegex_","blankLine2","blanklineStartRegex_","equality1","edit","equality2","commonOffset","commonString","bestEquality1","bestEdit","bestEquality2","bestScore","diff_cleanupEfficiency","pre_ins","pre_del","post_ins","post_del","diff_xIndex","loc","last_chars1","last_chars2","diff_prettyHtml","html","pattern_amp","pattern_lt","pattern_gt","pattern_para","diff_text1","diff_text2","diff_levenshtein","levenshtein","insertions","deletions","diff_toDelta","encodeURI","diff_fromDelta","diffsLength","param","decodeURI","ex","match_main","match_bitap_","s","match_alphabet_","match_bitapScore_","accuracy","proximity","score_threshold","best_loc","lastIndexOf","bin_min","bin_mid","matchmask","last_rd","bin_max","rd","charMatch","patch_addContext_","patch","start2","length1","prefix","suffix","start1","length2","patch_make","opt_b","opt_c","patches","patch_obj","patchDiffLength","char_count1","char_count2","prepatch_text","postpatch_text","diff_type","diff_text","patch_deepCopy","patchesCopy","patchCopy","patch_apply","nullPadding","patch_addPadding","patch_splitMax","results","start_loc","expected_loc","end_loc","index2","index1","paddingLength","extraLength","patch_size","bigpatch","precontext","postcontext","patch_toText","patch_fromText","textline","textPointer","patchHeader","sign","coords1","coords2","redefineAll","anInstance","iterate","defineIterator","setSpecies","DESCRIPTORS","fastKey","InternalStateModule","setInternalState","internalStateGetterFor","getterFor","getConstructor","CONSTRUCTOR_NAME","IS_MAP","ADDER","that","iterable","Prototype","AS_ENTRIES","getInternalState","define","previous","entry","getEntry","callbackfn","boundFunction","setStrong","ITERATOR_NAME","getInternalCollectionState","getInternalIteratorState","iterated","kind","uncurryThis","isForced","redefine","InternalMetadataModule","isCallable","isObject","fails","checkCorrectnessOfIteration","setToStringTag","inheritIfRequired","common","IS_WEAK","NativeConstructor","NativePrototype","exported","fixMethod","KEY","uncurriedNativeMethod","REPLACE","entries","enable","instance","HASNT_CHAINING","THROWS_ON_PRIMITIVES","ACCEPT_ITERABLES","BUGGY_ZERO","$instance","dummy","forced","noOptions","nonWS","probablyInsideString","useInnerComments","toggleComment","minLine","uncomment","lineComment","commentString","pad","blankLines","commentBlankLines","baseString","whitespace","blockCommentStart","fullLines","blockComment","startString","endString","blockCommentEnd","lastLineHasText","lead","blockCommentLead","atCursor","didSomething","lineString","endPos","startLine","open","endLine","insideStart","insideEnd","lastStart","firstEnd","almostLastStart","foundEnd","DiffPatchMatch","require","TextController","shadow","cursorPos","patch_applied","console","log","lastEndlineFound","makePatch","nextTick","isPromiseAvailable","Promise","resolve","cb","then","WebSocket","MozWebSocket","usingBrowserWebSocket","defaultBinaryType","_vm","_h","$createElement","_c","_self","staticClass","logged","_v","_s","users","_l","user","exitRoom","socketUpdateText","socketUpdateCursor","model","$$v","expression","room","createUser","timeout","snackbar","notiContent","staticRenderFns","url","location","href","xdomain","XMLHttpRequest","onPause","pause","total","once","doPoll","doWrite","sid","hasXHR2","xhr","responseType","isSSL","xd","xs","fn","req","request","pollXhr","async","xscheme","setDisableHeaderCheck","setRequestHeader","withCredentials","requestTimeout","onreadystatechange","status","onLoad","requestsCount","requests","cleanup","onSuccess","fromError","abort","responseText","unloadHandler","terminationEvent","transports","websocket","writeBuffer","prevBufferLen","agent","upgrade","rememberUpgrade","rejectUnauthorized","transportOptions","closeOnBeforeunload","upgrades","pingInterval","pingTimeout","pingTimeoutTimer","transport","removeAllListeners","offlineEventListener","clone","EIO","priorWebsocketSuccess","emitReserved","createTransport","setTransport","onDrain","failed","onTransportOpen","upgrading","flush","freezeTransport","error","onTransportClose","onupgrade","removeListener","probe","onHandshake","JSON","parse","resetPingTimeout","sendPacket","filterUpgrades","clearTimeoutFn","cleanupAndClose","waitForUpgrade","reason","filteredUpgrades","withNativeFile","isBinary","hasBinary","toJSON","isArray","deconstructPacket","buffers","packetData","pack","_deconstructPacket","attachments","_placeholder","newData","reconstructPacket","_reconstructPacket","PacketType","EVENT","ACK","encodeAsString","BINARY_EVENT","BINARY_ACK","encodeAsBinary","nsp","stringify","deconstruction","decodeString","reconstructor","takeBinaryData","buf","c","payload","tryParse","isPayloadValid","CONNECT","DISCONNECT","CONNECT_ERROR","finishedReconstruction","reconPack","binData","RESERVED_EVENTS","freeze","connect","connect_error","disconnect","disconnecting","newListener","io","connected","disconnected","receiveBuffer","sendBuffer","ids","acks","flags","auth","_autoConnect","subs","onpacket","subEvents","_readyState","ack","_registerAckCallback","isTransportWritable","engine","discardPacket","volatile","timer","_packet","sameNamespace","onconnect","onevent","onack","ondisconnect","destroy","message","emitEvent","_anyListeners","listeners","listener","sent","emitBuffered","subDestroy","_a","nsps","reconnection","reconnectionAttempts","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","_parser","parser","encoder","Encoder","decoder","Decoder","autoConnect","_reconnection","_reconnectionAttempts","_reconnectionDelay","_randomizationFactor","_reconnectionDelayMax","_timeout","_reconnecting","reconnect","skipReconnect","openSubDestroy","errorSub","maybeReconnectOnOpen","onping","ondata","ondecoded","_close","onreconnect","attempt","parsed","newConnection","forceNew","multiplex","Manager","Socket","class","fontSize","cmOptions","onCmReady","onCodeChange","autoCloseBrackets","language","required","components","codemirror","computed","$refs","myCm","styleActiveLine","matchBrackets","foldGutter","methods","$emit","newValue","modifyCursor","onNewLine","mergeTransitions","functional","default","hideOnLeave","leaveAbsolute","render","beforeEnter","mergeData","functions","expandedParentClass","sizeProperty","offsetProperty","transition","overflow","initialStyle","requestAnimationFrame","afterEnter","enterCancelled","afterLeave","leaveCancelled","resetStyles","VFadeTransition","createSimpleTransition","VSlideXTransition","createJavascriptTransition","internalLazyValue","internalValue","watch","Proxyable","baseMixins","mixins","directives","intersect","backgroundColor","backgroundOpacity","bufferValue","color","indeterminate","rounded","striped","isVisible","__cachedBackground","setBackgroundColor","backgroundStyle","__cachedBar","__cachedBarType","__cachedBuffer","__cachedDeterminate","__cachedIndeterminate","genProgressBar","__cachedStream","setTextColor","parseFloat","isReversed","normalizedBuffer","themeClasses","computedTransition","$vuetify","rtl","normalize","normalizedValue","reactive","Boolean","$listeners","genContent","slot","genListeners","onClick","$el","onObserve","role","loading","loaderHeight","genProgress","$slots","progress","absolute","DELAY_RIPPLE","transform","isTouchEvent","isKeyboardEvent","calculate","localX","localY","radius","scale","centerX","centerY","ripples","show","animation","performance","hide","isRippleEnabled","rippleShow","rippleHide","rippleCancelShow","keyboardRipple","keyboardRippleShow","keyboardRippleHide","focusRippleHide","updateRipple","enabled","binding","passive","removeListeners","directive","unbind","wasEnabled","Ripple","activeClass","append","exact","exactPath","exactActiveClass","nuxt","ripple","isActive","proxyClass","computedRipple","isClickable","isLink","$attrs","$route","mounted","generateRouteLink","click","onRouteChange","flat","hover","raised","breakpoints","breakpointProps","offsetProps","orderProps","propMap","breakpointClass","breakpoint","cols","alignSelf","validator","includes","cacheKey","classList","hasColClasses","ALIGNMENT","makeProps","def","alignValidator","alignProps","justifyValidator","justifyProps","alignContentValidator","alignContentProps","justify","alignContent","classMap","dense","noGutters","component","VCard","VCol","VRow","intel","clp","tc","resetPass","resetTextPass","Editor","initializeSocket","editor","updateCursor","localPatch","rotate","calculatedSize","circumference","strokeDashArray","strokeDashOffset","strokeWidth","svgStyles","viewBoxSize","genCircle","fill","cx","cy","genSvg","xmlns","viewBox","genInfo","generateWarning","defaultImpl","register","unregister","inject","provide","namespace","groupClasses","created","beforeDestroy","large","small","xLarge","xSmall","medium","sizeableClasses","btnToggle","block","depressed","fab","icon","outlined","plain","retainFocusOnClick","tile","computedElevation","defaultRipple","circle","hasBg","isElevated","elevation","isRound","measurableStyles","breakingProps","original","replacement","genLoader","loader","setColor","VCardText","fluid","inheritAttrs","lazyValidation","readonly","inputs","watchers","errorBag","errors","deep","watchInput","watcher","_uid","valid","shouldValidate","validate","resetErrorBag","resetValidation","unwatch","novalidate","attrs$","app","centered","contentClass","multiLine","vertical","activeTimeout","hasBackground","isDark","genActions","genWrapper","VSheet","pointerenter","pointerleave","genTransition","_arrayWithoutHoles","arrayLikeToArray","_iterableToArray","Symbol","iterator","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","isFontAwesome5","some","iconType","isSvgPath","SIZE_MAP","hasClickListener","listeners$","getIcon","iconName","getSize","explicitSize","getDefaultData","getSvgWrapperData","wrapperData","applyColors","renderFontIcon","newChildren","delimiterIndex","isMaterialIcon","renderSvgIcon","svgData","renderSvgIconComponent","$_wrapperFor","for","ctx","genChildren","genMessage","errorCount","errorMessages","messages","rules","success","successMessages","validateOnBlur","errorBucket","hasColor","hasFocused","hasInput","isFocused","isResetting","lazyValue","computedColor","hasError","internalErrorMessages","hasSuccess","internalSuccessMessages","externalError","hasMessages","validationTarget","hasState","genInternalMessages","internalMessages","isDisabled","isInteractive","isReadonly","validations","validationState","$nextTick","beforeMount","rule","appendIcon","hideDetails","hideSpinButtons","persistentHint","prependIcon","hasMouseDown","computedId","hasDetails","messagesToDisplay","hasHint","hasLabel","isDirty","isLabelActive","validation","validationResult","showDetails","beforeCreate","$options","genControl","genDefaultSlot","genIcon","extraData","eventName","hasListener","dark","light","genInputSlot","mousedown","onMouseUp","genLabel","genMessages","scopedSlots","genSlot","genPrependSlot","genAppendSlot","isGreater","isIntersecting","destroyed","vnode","Resize","root","composed","onVisible","dirtyTypes","resize","appendOuterIcon","clearable","clearIcon","counterValue","filled","fullWidth","prependInnerIcon","persistentPlaceholder","shaped","singleLine","solo","soloInverted","badInput","labelWidth","prefixWidth","prependWidth","initialValue","isBooted","isClearing","computedCounterValue","hasCounter","isEnclosed","isSingle","isSolo","labelPosition","labelValue","showLabel","clearableCallback","genPrependInnerSlot","genIconSlot","prepend","genClearIcon","genCounter","genFieldset","genLegend","domProps","genInput","inputAttrs","keydown","modifiers","quiet","messagesNode","counterNode","genTextFieldSlot","genAffix","attachedRoot","setLabelWidth","setPrefixWidth","setPrependWidth","tryAutofocus","updateValue","VBtn","VContainer","VForm","VSnackbar","VTextField","cminstance","unseenLines","merge","globalOptions","globalEvents","switchMerge","handerCodeChange","initialize","MergeView","mergeview","unseenLineMarkers","install","u","_compiled","_scopeId","$vnode","ssrContext","__VUE_SSR_CONTEXT__","_registeredComponents","_ssrRegister","_injectStyles","esModule","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","LN2","_classCallCheck","createHTML","forcedStringHTMLMethod","proto","HINT_ELEMENT_CLASS","ACTIVE_HINT_ELEMENT_CLASS","Completion","debounce","tick","startPos","startLen","updateOnCursorActivity","activityFunc","showHint","getHints","newOpts","parseOptions","selections","supportsSelection","completionActive","completion","cancelAnimationFrame","hintOptions","defaultOptions","getText","buildKeyMap","baseMap","Up","moveFocus","Down","PageUp","menuSize","PageDown","Home","setFocus","End","pick","Tab","Esc","custom","customKeys","ourMap","addBinding","getHintElement","hintsElement","Widget","picked","parentWindow","defaultView","hints","selectedHint","completions","hintId","alignWithWord","below","isContainerPositioned","offsetParentPosition","bodyPosition","winW","innerWidth","winH","startScroll","moveOnOverlap","DOMRect","scrolls","paddingForScrollbar","overlapY","curTop","closingOnBlur","overlapX","avoidWrap","changeActive","screenAmount","closeOnUnfocus","onScroll","curScroll","point","completeOnSingleClick","selectedHintRange","getSelectedHintRange","scrollToActive","applicableHelpers","fetchHints","resolveAutoHints","words","resolved","run","fromList","anyword","closeOnPick","identStart","closeCharacters","disable","myTick","finishUpdate","completeSingle","node1","node2","firstNode","scrollMargin","term","autocomplete","auto","reduce","acc","NATIVE_SET_TIMEOUT","NATIVE_CLEAR_TIMEOUT","installTimerFunctions","useNativeTimers","Emitter","mixin","_callbacks","hasListeners","ieee754","typedArraySupport","__proto__","foo","subarray","kMaxLength","TYPED_ARRAY_SUPPORT","createBuffer","RangeError","arg","encodingOrOffset","allocUnsafe","fromArrayBuffer","fromString","fromObject","assertSize","alloc","encoding","checked","isEncoding","actual","fromArrayLike","byteOffset","isBuffer","isnan","SlowBuffer","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","arrayIndexOf","indexSize","arrLength","valLength","readUInt16BE","foundIndex","hexWrite","strLen","utf8Write","blitBuffer","asciiWrite","asciiToBytes","latin1Write","base64Write","ucs2Write","utf16leToBytes","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","decodeCodePointsArray","INSPECT_MAX_BYTES","poolSize","_augment","species","allocUnsafeSlow","_isBuffer","swap16","swap32","swap64","inspect","thisStart","thisEnd","thisCopy","targetCopy","isFinite","_arr","MAX_ARGUMENTS_LENGTH","codePoints","ret","toHex","checkOffset","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","maxBytes","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","INVALID_BASE64_RE","base64clean","stringtrim","trim","units","leadSurrogate","byteArray","hi","lo","dst","doFold","noFold","regexpFlags","regexp","ensureFlags","maybeMultiline","searchRegexpForward","searchRegexpForwardMultiline","inside","lastMatchIn","endMargin","newMatch","searchRegexpBackward","searchRegexpBackwardMultiline","adjustPos","orig","folded","foldFunc","searchStringForward","fold","cutFrom","searchStringBackward","topString","SearchCursor","atOccurrence","afterEmptyMatch","matches","findPrevious","clearPlaceholder","setPlaceholder","placeHolder","onComposition","onChange","placeholderCompose","getBuiltIn","$stringify","numberToString","tester","low","fix","FORCED","it","replacer"],"mappings":"4GAEA,IAKIA,EALAC,EAAW,mEAAmEC,MAAM,IACpFC,EAAS,GACTC,EAAM,GACNC,EAAO,EACPC,EAAI,EAUR,SAASC,EAAOC,GACd,IAAIC,EAAU,GAEd,GACEA,EAAUR,EAASO,EAAML,GAAUM,EACnCD,EAAME,KAAKC,MAAMH,EAAML,SAChBK,EAAM,GAEf,OAAOC,EAUT,SAASG,EAAOC,GACd,IAAIC,EAAU,EAEd,IAAKR,EAAI,EAAGA,EAAIO,EAAIV,OAAQG,IAC1BQ,EAAUA,EAAUX,EAASC,EAAIS,EAAIE,OAAOT,IAG9C,OAAOQ,EAST,SAASE,IACP,IAAIC,EAAMV,GAAQ,IAAIW,MAEtB,OAAID,IAAQjB,GAAaK,EAAO,EAAGL,EAAOiB,GACnCA,EAAK,IAAKV,EAAOF,KAM1B,KAAOC,EAAIH,EAAQG,IAAKF,EAAIH,EAASK,IAAMA,EAK3CU,EAAMT,OAASA,EACfS,EAAMJ,OAASA,EACfO,EAAOC,QAAUJ,G,qBChDjB,SAASK,EAAQC,GACfA,EAAOA,GAAQ,GACfC,KAAKC,GAAKF,EAAKG,KAAO,IACtBF,KAAKG,IAAMJ,EAAKI,KAAO,IACvBH,KAAKI,OAASL,EAAKK,QAAU,EAC7BJ,KAAKK,OAASN,EAAKM,OAAS,GAAKN,EAAKM,QAAU,EAAIN,EAAKM,OAAS,EAClEL,KAAKM,SAAW,EApBlBV,EAAOC,QAAUC,EA8BjBA,EAAQS,UAAUC,SAAW,WAC3B,IAAIP,EAAKD,KAAKC,GAAKd,KAAKsB,IAAIT,KAAKI,OAAQJ,KAAKM,YAC9C,GAAIN,KAAKK,OAAQ,CACf,IAAIK,EAAQvB,KAAKwB,SACbC,EAAYzB,KAAKC,MAAMsB,EAAOV,KAAKK,OAASJ,GAChDA,EAAoC,IAAN,EAAxBd,KAAKC,MAAa,GAAPsB,IAAwBT,EAAKW,EAAYX,EAAKW,EAEjE,OAAgC,EAAzBzB,KAAKe,IAAID,EAAID,KAAKG,MAS3BL,EAAQS,UAAUM,MAAQ,WACxBb,KAAKM,SAAW,GASlBR,EAAQS,UAAUO,OAAS,SAASZ,GAClCF,KAAKC,GAAKC,GASZJ,EAAQS,UAAUQ,OAAS,SAASZ,GAClCH,KAAKG,IAAMA,GASbL,EAAQS,UAAUS,UAAY,SAASX,GACrCL,KAAKK,OAASA,I,wBCvEhB,SAAUY,GAENA,EAAI,EAAQ,QAAyB,EAAQ,QAAmB,EAAQ,UAF5E,EAOG,SAASC,GACV,aAKA,SAASC,EAAcC,EAAOC,GAM5B,MALoB,iBAATD,EACTA,EAAQ,IAAIE,OAAOF,EAAMG,QAAQ,sCAAuC,QAASF,EAAkB,KAAO,KAClGD,EAAMI,SACdJ,EAAQ,IAAIE,OAAOF,EAAMK,OAAQL,EAAMM,WAAa,KAAO,MAEtD,CAACC,MAAO,SAASC,GACtBR,EAAMS,UAAYD,EAAOE,IACzB,IAAIC,EAAQX,EAAMY,KAAKJ,EAAOK,QAC9B,GAAIF,GAASA,EAAMG,OAASN,EAAOE,IAEjC,OADAF,EAAOE,KAAOC,EAAM,GAAGnD,QAAU,EAC1B,YACEmD,EACTH,EAAOE,IAAMC,EAAMG,MAEnBN,EAAOO,cAKb,SAASC,IACPpC,KAAKqC,QAAUrC,KAAKsC,MAAQtC,KAAKuC,UAAYvC,KAAKoB,MAAQ,KAC1DpB,KAAKwC,QAAU,KAGjB,SAASC,EAAeC,GACtB,OAAOA,EAAGC,MAAMC,SAAWF,EAAGC,MAAMC,OAAS,IAAIR,GAGnD,SAASS,EAAqBzB,GAC5B,MAAuB,iBAATA,GAAqBA,GAASA,EAAM0B,cAGpD,SAASC,EAAgBL,EAAItB,EAAOU,GAElC,OAAOY,EAAGK,gBAAgB3B,EAAOU,EAAK,CAACkB,SAAUH,EAAqBzB,GAAQ6B,WAAW,IAG3F,SAASC,EAAiBR,EAAIS,EAAMC,EAAOC,EAASC,GAClDZ,EAAGa,WAAWJ,EAAME,EAAS,CAC3BG,MAAOJ,EACPK,mBAAmB,EACnBC,cAAc,EACdC,QAAS,WAAaC,EAAYlB,IAClCY,UAAWA,EACXO,OAAQnB,EAAGoB,QAAQlB,OAAOiB,SAI9B,SAASE,EAAOrB,EAAIS,EAAMa,EAAWZ,EAAOa,GACtCvB,EAAGa,WAAYb,EAAGa,WAAWJ,EAAMc,EAAG,CAACT,MAAOJ,EAAOK,mBAAmB,EAAMI,OAAQnB,EAAGoB,QAAQlB,OAAOiB,SACvGI,EAAEC,OAAOF,EAAWZ,IAG3B,SAASe,EAAczB,EAAIS,EAAMa,EAAWI,GACtC1B,EAAG2B,YAAa3B,EAAG2B,YAAYlB,EAAMiB,GAChCE,QAAQN,IAAYI,EAAG,KAGlC,SAASG,EAAYtC,GACnB,OAAOA,EAAOV,QAAQ,gBAAgB,SAASQ,EAAOyC,GACpD,MAAU,KAANA,EAAkB,KACZ,KAANA,EAAkB,KACZ,KAANA,EAAkB,KACZ,MAANA,EAAmB,KAChBzC,KAIX,SAAS0C,EAAWrD,GAClB,IAAIsD,EAAOtD,EAAMW,MAAM,sBACvB,GAAI2C,EACF,IAAMtD,EAAQ,IAAIE,OAAOoD,EAAK,IAA6B,GAAzBA,EAAK,GAAGC,QAAQ,KAAa,GAAK,KACpE,MAAMC,SAENxD,EAAQmD,EAAYnD,GAItB,OAFoB,iBAATA,EAA6B,IAATA,EAAcA,EAAMyD,KAAK,OACtDzD,EAAQ,MACHA,EAGT,SAAS0D,EAAYpC,EAAIC,EAAOvB,GAC9BuB,EAAMoC,UAAY3D,EAClBuB,EAAMvB,MAAQqD,EAAWrD,GACzBsB,EAAGsC,cAAcrC,EAAMH,QAASK,EAAqBF,EAAMvB,QAC3DuB,EAAMH,QAAUrB,EAAcwB,EAAMvB,MAAOyB,EAAqBF,EAAMvB,QACtEsB,EAAGuC,WAAWtC,EAAMH,SAChBE,EAAGwC,yBACDvC,EAAMwC,WAAYxC,EAAMwC,SAASC,QAASzC,EAAMwC,SAAW,MAC/DxC,EAAMwC,SAAWzC,EAAGwC,uBAAuBvC,EAAMvB,MAAOyB,EAAqBF,EAAMvB,SAIvF,SAASiE,EAAS3C,EAAI4C,EAAKC,EAAYC,GACrC,IAAI7C,EAAQF,EAAeC,GAC3B,GAAIC,EAAMvB,MAAO,OAAOqE,EAAS/C,EAAI4C,GACrC,IAAII,EAAIhD,EAAGiD,gBAAkBhD,EAAMJ,UAEnC,GADImD,aAAapE,QAAsB,MAAZoE,EAAEjE,SAAgBiE,EAAI,MAC7CH,GAAc7C,EAAGa,WAAY,CAC/B,IAAIqC,EAAS,KACTC,EAAa,SAASzE,EAAO0E,GAC/B5E,EAAW6E,OAAOD,GACb1E,IACDA,GAASuB,EAAMoC,YACjBD,EAAYpC,EAAIC,EAAOvB,GACvBuB,EAAMN,QAAUM,EAAML,MAAQI,EAAGsD,aAE/BJ,IAAQA,EAAOK,MAAMC,QAAU,GACnCT,EAAS/C,EAAIoD,EAAMK,UAAU,SAASC,EAAGC,GACvC,IAAItC,EACAsC,EAAGC,KAAO,GAAKC,SAASC,gBACvBzC,EAASrB,EAAG+D,QAAQC,QAAQF,cAAc,wBAC3CzC,EAAO4C,wBAAwB9C,OAAS,EAAInB,EAAGkE,aAAaP,EAAI,UAAUQ,OAC3EjB,EAAS7B,GAAQkC,MAAMC,QAAU,SAGxChD,EAAiBR,EAAIoE,EAAepE,GAAKgD,EAAGG,GAAY,SAASC,EAAO1E,GACtE,IAAI2F,EAAU7F,EAAW6F,QAAQjB,GAC7BkB,EAAQtE,EAAGuE,UAAU,aAAcC,EAAOF,GAASA,EAAMD,IAAa7F,EAAWiG,OAAOzE,EAAGuE,UAAU,WAAWF,GACzG,YAAPG,GAA4B,YAAPA,GAChB,sBAAPA,GAAsC,sBAAPA,GAC/BhG,EAAW6E,OAAOD,GAClBhB,EAAYpC,EAAID,EAAeC,GAAKtB,GACpCsB,EAAG0E,YAAYF,IACC,QAAPA,GAAwB,kBAAPA,IAC1BhG,EAAW6E,OAAOD,GAClBD,EAAWzE,EAAO0E,OAGlBN,GAAaE,IACfZ,EAAYpC,EAAIC,EAAO+C,GACvBD,EAAS/C,EAAI4C,SAGfvB,EAAOrB,EAAIoE,EAAepE,GAAK,cAAegD,GAAG,SAAStE,GACpDA,IAAUuB,EAAMvB,OAAOsB,EAAG2E,WAAU,WACtCvC,EAAYpC,EAAIC,EAAOvB,GACvBuB,EAAMN,QAAUM,EAAML,MAAQI,EAAGsD,YACjCP,EAAS/C,EAAI4C,SAMrB,SAASG,EAAS/C,EAAI4C,EAAKgC,GAAW5E,EAAG2E,WAAU,WACjD,IAAI1E,EAAQF,EAAeC,GACvB6E,EAASxE,EAAgBL,EAAIC,EAAMvB,MAAOkE,EAAM3C,EAAMN,QAAUM,EAAML,QACrEiF,EAAOC,KAAKlC,KACfiC,EAASxE,EAAgBL,EAAIC,EAAMvB,MAAOkE,EAAMpE,EAAWuG,IAAI/E,EAAGgF,YAAcxG,EAAWuG,IAAI/E,EAAGiF,YAAa,IAC1GJ,EAAOC,KAAKlC,OAEnB5C,EAAGkF,aAAaL,EAAOM,OAAQN,EAAOlB,MACtC3D,EAAGoF,eAAe,CAACD,KAAMN,EAAOM,OAAQxB,GAAIkB,EAAOlB,MAAO,IAC1D1D,EAAMN,QAAUkF,EAAOM,OAAQlF,EAAML,MAAQiF,EAAOlB,KAChDiB,GAAUA,EAASC,EAAOM,OAAQN,EAAOlB,UAG/C,SAASzC,EAAYlB,GAAKA,EAAG2E,WAAU,WACrC,IAAI1E,EAAQF,EAAeC,GAC3BC,EAAMJ,UAAYI,EAAMvB,MACnBuB,EAAMvB,QACXuB,EAAMvB,MAAQuB,EAAMoC,UAAY,KAChCrC,EAAGsC,cAAcrC,EAAMH,SACnBG,EAAMwC,WAAYxC,EAAMwC,SAASC,QAASzC,EAAMwC,SAAW,UAGjE,SAAS4C,EAAGC,EAAKC,GACf,IAAIC,EAAUF,EAAMzB,SAAS4B,cAAcH,GAAOzB,SAAS6B,yBAC3D,IAAK,IAAIC,KAAOJ,EACdC,EAAQG,GAAOJ,EAAMI,GAEvB,IAAK,IAAItJ,EAAI,EAAGA,EAAIuJ,UAAU1J,OAAQG,IAAK,CACzC,IAAIwJ,EAAQD,UAAUvJ,GACtBmJ,EAAQM,YAA4B,iBAATD,EAAoBhC,SAASkC,eAAeF,GAASA,GAElF,OAAOL,EAGT,SAASpB,EAAepE,GACtB,OAAOqF,EAAG,GAAI,KACJA,EAAG,OAAQ,CAACW,UAAW,2BAA4BhG,EAAGiG,OAAO,YAAa,IAC1EZ,EAAG,QAAS,CAACa,KAAM,OAAQ,MAAS,cAAeF,UAAW,4BAA6B,IAC3FX,EAAG,OAAQ,CAAC9B,MAAO,cAAeyC,UAAW,0BAC1ChG,EAAGiG,OAAO,yCAEzB,SAASE,EAAsBnG,GAC7B,OAAOqF,EAAG,GAAI,KAAM,IACVA,EAAG,QAAS,CAACa,KAAM,OAAQ,MAAS,cAAeF,UAAW,4BAA6B,IAC3FX,EAAG,OAAQ,CAAC9B,MAAO,cAAeyC,UAAW,0BAC1ChG,EAAGiG,OAAO,yCAEzB,SAASG,EAA0BpG,GACjC,OAAOqF,EAAG,GAAI,KACJA,EAAG,OAAQ,CAACW,UAAW,2BAA4BhG,EAAGiG,OAAO,UAAW,IACxEZ,EAAG,QAAS,CAACa,KAAM,OAAQ,MAAS,cAAeF,UAAW,6BAE1E,SAASK,EAAoBrG,GAC3B,OAAOqF,EAAG,GAAI,KACJA,EAAG,OAAQ,CAACW,UAAW,2BAA4BhG,EAAGiG,OAAO,aAAc,IAC3EZ,EAAG,SAAU,GAAIrF,EAAGiG,OAAO,QAAS,IACpCZ,EAAG,SAAU,GAAIrF,EAAGiG,OAAO,OAAQ,IACnCZ,EAAG,SAAU,GAAIrF,EAAGiG,OAAO,QAAS,IACpCZ,EAAG,SAAU,GAAIrF,EAAGiG,OAAO,UAGvC,SAASK,EAAWtG,EAAItB,EAAO+B,GAC7BT,EAAG2E,WAAU,WACX,IAAK,IAAIE,EAASxE,EAAgBL,EAAItB,GAAQmG,EAAO9B,YACnD,GAAoB,iBAATrE,EAAmB,CAC5B,IAAIW,EAAQW,EAAGuG,SAAS1B,EAAOM,OAAQN,EAAOlB,MAAMtE,MAAMX,GAC1DmG,EAAOhG,QAAQ4B,EAAK5B,QAAQ,WAAW,SAAS6E,EAAGrH,GAAI,OAAOgD,EAAMhD,YAC/DwI,EAAOhG,QAAQ4B,MAK5B,SAAS5B,EAAQmB,EAAIwG,GACnB,IAAIxG,EAAGuE,UAAU,YAAjB,CACA,IAAI7F,EAAQsB,EAAGiD,gBAAkBlD,EAAeC,GAAIH,UAChD4G,EAAaD,EAAMxG,EAAGiG,OAAO,gBAAkBjG,EAAGiG,OAAO,YACzDS,EAAWrB,EAAG,GAAI,KACJA,EAAG,OAAQ,CAACW,UAAW,2BAA4BS,GACnDN,EAAsBnG,IACxCqB,EAAOrB,EAAI0G,EAAUD,EAAY/H,GAAO,SAASA,GAC1CA,IACLA,EAAQqD,EAAWrD,GACnB2C,EAAOrB,EAAIoG,EAA0BpG,GAAKA,EAAGiG,OAAO,iBAAkB,IAAI,SAASxF,GAEjF,GADAA,EAAOoB,EAAYpB,GACf+F,EACFF,EAAWtG,EAAItB,EAAO+B,OACjB,CACLS,EAAYlB,GACZ,IAAI6E,EAASxE,EAAgBL,EAAItB,EAAOsB,EAAGsD,UAAU,SACjDqD,EAAU,WACZ,IAA2BtH,EAAvBuH,EAAQ/B,EAAOM,SACb9F,EAAQwF,EAAO9B,cACnB8B,EAASxE,EAAgBL,EAAItB,KACvBW,EAAQwF,EAAO9B,aAChB6D,GAAS/B,EAAOM,OAAOvB,MAAQgD,EAAMhD,MAAQiB,EAAOM,OAAOrD,IAAM8E,EAAM9E,MAE9E9B,EAAGkF,aAAaL,EAAOM,OAAQN,EAAOlB,MACtC3D,EAAGoF,eAAe,CAACD,KAAMN,EAAOM,OAAQxB,GAAIkB,EAAOlB,OACnDlC,EAAczB,EAAIqG,EAAoBrG,GAAKA,EAAGiG,OAAO,YACvC,CAAC,WAAYY,EAAUxH,IAAUsH,EAChC,WAAYL,EAAWtG,EAAItB,EAAO+B,QAE/CoG,EAAY,SAASxH,GACvBwF,EAAOhG,QAAwB,iBAATH,EAAoB+B,EAC3BA,EAAK5B,QAAQ,WAAW,SAAS6E,EAAGrH,GAAI,OAAOgD,EAAMhD,OACpEsK,KAEFA,aA9PRnI,EAAWsI,aAAa,SAAU,CAAC3F,QAAQ,IAoQ3C3C,EAAWuI,SAASjC,KAAO,SAAS9E,GAAKkB,EAAYlB,GAAK2C,EAAS3C,IACnExB,EAAWuI,SAASC,eAAiB,SAAShH,GAAKkB,EAAYlB,GAAK2C,EAAS3C,GAAI,GAAO,IACxFxB,EAAWuI,SAASE,mBAAqB,SAASjH,GAAK2C,EAAS3C,GAAI,GAAO,GAAM,IACjFxB,EAAWuI,SAASG,mBAAqB,SAASlH,GAAK2C,EAAS3C,GAAI,GAAM,GAAM,IAChFxB,EAAWuI,SAAShE,SAAWJ,EAC/BnE,EAAWuI,SAASI,SAAW,SAASnH,GAAK2C,EAAS3C,GAAI,IAC1DxB,EAAWuI,SAAS7F,YAAcA,EAClC1C,EAAWuI,SAASlI,QAAUA,EAC9BL,EAAWuI,SAAST,WAAa,SAAStG,GAAKnB,EAAQmB,GAAI,Q,wBC/R7D,SAAUzB,GAENA,EAAI,EAAQ,UAFhB,EAOG,SAASC,GACV,IAAI4I,EAAW,CACbC,MAAO,eACPC,YAAa,YACbC,QAAS,GACTC,QAAS,QAGPzC,EAAMvG,EAAWuG,IAcrB,SAASR,EAAUkD,EAAMC,GACvB,MAAY,SAARA,GAAkC,iBAARD,EAAyBA,EACpC,iBAARA,GAAkC,MAAdA,EAAKC,GAAsBD,EAAKC,GACxDN,EAASM,GAflBlJ,EAAWsI,aAAa,qBAAqB,GAAO,SAAS9G,EAAI2H,EAAKC,GAChEA,GAAOA,GAAOpJ,EAAWqJ,OAC3B7H,EAAG8H,aAAarD,GAChBzE,EAAGC,MAAM8H,cAAgB,MAEvBJ,IACFK,EAAYzD,EAAUoD,EAAK,UAC3B3H,EAAGC,MAAM8H,cAAgBJ,EACzB3H,EAAGiI,UAAUxD,OAUjB,IAAIA,EAAS,CAACyD,UAAWC,EAAiBC,MAAOC,GACjD,SAASL,EAAYM,GACnB,IAAK,IAAIjM,EAAI,EAAGA,EAAIiM,EAAMpM,OAAQG,IAAK,CACrC,IAAIyF,EAAKwG,EAAMxL,OAAOT,GAAIsJ,EAAM,IAAM7D,EAAK,IACtC2C,EAAOkB,KAAMlB,EAAOkB,GAAO4C,EAAQzG,KAK5C,SAASyG,EAAQzG,GACf,OAAO,SAAS9B,GAAM,OAAOwI,EAAWxI,EAAI8B,IAG9C,SAAS2G,EAAUzI,GACjB,IAAIU,EAAQV,EAAGC,MAAM8H,cACrB,IAAKrH,GAASA,EAAMgI,SAAU,OAAOhI,EACrC,IAAIiI,EAAO3I,EAAG4I,UAAU5I,EAAGsD,aAC3B,OAAOqF,EAAKZ,eAAiBrH,EAG/B,SAASyH,EAAgBnI,GACvB,IAAIyH,EAAOgB,EAAUzI,GACrB,IAAKyH,GAAQzH,EAAGuE,UAAU,gBAAiB,OAAO/F,EAAWqK,KAI7D,IAFA,IAAIxB,EAAQ9C,EAAUkD,EAAM,SACxBqB,EAAS9I,EAAG+I,iBACP1M,EAAI,EAAGA,EAAIyM,EAAO5M,OAAQG,IAAK,CACtC,IAAKyM,EAAOzM,GAAG2M,QAAS,OAAOxK,EAAWqK,KAC1C,IAAII,EAASC,EAAYlJ,EAAI8I,EAAOzM,GAAG8M,MACvC,IAAKF,GAAU5B,EAAMpF,QAAQgH,GAAU,GAAK,EAAG,OAAOzK,EAAWqK,KAEnE,IAASxM,EAAIyM,EAAO5M,OAAS,EAAGG,GAAK,EAAGA,IAAK,CAC3C,IAAI+M,EAAMN,EAAOzM,GAAG8M,KACpBnJ,EAAGqJ,aAAa,GAAItE,EAAIqE,EAAIxF,KAAMwF,EAAItH,GAAK,GAAIiD,EAAIqE,EAAIxF,KAAMwF,EAAItH,GAAK,GAAI,YAI9E,SAASuG,EAAYrI,GACnB,IAAIyH,EAAOgB,EAAUzI,GACjBwH,EAAUC,GAAQlD,EAAUkD,EAAM,WACtC,IAAKD,GAAWxH,EAAGuE,UAAU,gBAAiB,OAAO/F,EAAWqK,KAGhE,IADA,IAAIC,EAAS9I,EAAG+I,iBACP1M,EAAI,EAAGA,EAAIyM,EAAO5M,OAAQG,IAAK,CACtC,IAAKyM,EAAOzM,GAAG2M,QAAS,OAAOxK,EAAWqK,KAC1C,IAAII,EAASC,EAAYlJ,EAAI8I,EAAOzM,GAAG8M,MACvC,IAAKF,GAAUzB,EAAQvF,QAAQgH,GAAU,GAAK,EAAG,OAAOzK,EAAWqK,KAErE7I,EAAG2E,WAAU,WACX,IAAI2E,EAAUtJ,EAAGuJ,iBAAmB,KACpCvJ,EAAGwJ,iBAAiBF,EAAUA,EAAS,MACvCG,EAAQzJ,GAAK,GACb8I,EAAS9I,EAAG+I,iBACZ,IAAK,IAAI1M,EAAI,EAAGA,EAAIyM,EAAO5M,OAAQG,IAAK,CACtC,IAAIuH,EAAOkF,EAAOzM,GAAG8M,KAAKvF,KAC1B5D,EAAG0J,WAAW9F,EAAM,MAAM,GAC1B5D,EAAG0J,WAAW9F,EAAO,EAAG,MAAM,OAKpC,SAAS6F,EAAQzJ,EAAI2J,GAEnB,IADA,IAAIC,EAAY,GAAId,EAAS9I,EAAG+I,iBAAkBc,EAAU,EACnDxN,EAAI,EAAGA,EAAIyM,EAAO5M,OAAQG,IAAK,CACtC,IAAIyN,EAAQhB,EAAOzM,GACfyN,EAAMX,MAAQnJ,EAAGsD,cAAauG,EAAUxN,GAC5C,IAAI+C,EAAM0K,EAAMX,KAAKrH,IAAM6H,EAAM,EAAI,CAAC/F,KAAMkG,EAAMX,KAAKvF,KAAM9B,GAAIgI,EAAMX,KAAKrH,GAAK6H,GAAO,CAAC/F,KAAMkG,EAAMX,KAAKvF,KAAO,GACjHgG,EAAUG,KAAK,CAACC,OAAQ5K,EAAK+J,KAAM/J,IAErCY,EAAGiK,cAAcL,EAAWC,GAG9B,SAASK,EAAkBC,GACzB,IAAIC,EAAW5L,EAAW6L,OAAOF,EAAIH,OAAQG,EAAIhB,MAAQ,EACzD,MAAO,CAACa,OAAQ,IAAIjF,EAAIoF,EAAIH,OAAOpG,KAAMuG,EAAIH,OAAOlI,IAAMsI,GAAY,EAAI,IAClEjB,KAAM,IAAIpE,EAAIoF,EAAIhB,KAAKvF,KAAMuG,EAAIhB,KAAKrH,IAAMsI,EAAW,GAAK,KAGtE,SAAS5B,EAAWxI,EAAI8B,GACtB,IAAI2F,EAAOgB,EAAUzI,GACrB,IAAKyH,GAAQzH,EAAGuE,UAAU,gBAAiB,OAAO/F,EAAWqK,KAE7D,IAAIxB,EAAQ9C,EAAUkD,EAAM,SACxBrI,EAAMiI,EAAMpF,QAAQH,GACxB,IAAY,GAAR1C,EAAW,OAAOZ,EAAWqK,KAWjC,IATA,IAQI3C,EARAoB,EAAc/C,EAAUkD,EAAK,eAE7BF,EAAUhD,EAAUkD,EAAM,WAE1B6C,EAAYjD,EAAMvK,OAAOsC,EAAM,IAAM0C,EACrCgH,EAAS9I,EAAG+I,iBACZwB,EAAUnL,EAAM,GAAK,EAGhB/C,EAAI,EAAGA,EAAIyM,EAAO5M,OAAQG,IAAK,CACtC,IAAyCmO,EAArCV,EAAQhB,EAAOzM,GAAI+M,EAAMU,EAAMX,KAC/BsB,EAAOzK,EAAGuG,SAAS6C,EAAKrE,EAAIqE,EAAIxF,KAAMwF,EAAItH,GAAK,IACnD,GAAIyI,IAAYT,EAAMd,QACpBwB,EAAU,gBACL,IAAKF,GAAcC,GAAYE,GAAQ3I,EAOvC,GAAIwI,GAAalB,EAAItH,GAAK,GAAKyF,EAAQtF,QAAQH,IAAO,GAClD9B,EAAGuG,SAASxB,EAAIqE,EAAIxF,KAAMwF,EAAItH,GAAK,GAAIsH,IAAQtH,EAAKA,EAAI,CACjE,GAAIsH,EAAItH,GAAK,GAAK,WAAWK,KAAKnC,EAAG0K,eAAe3F,EAAIqE,EAAIxF,KAAMwF,EAAItH,GAAK,KAAM,OAAOtD,EAAWqK,KACnG2B,EAAU,eACL,GAAIF,EAAW,CACpB,IAAIvO,EAAiB,GAAVqN,EAAItH,GAAU,IAAM9B,EAAGuG,SAASxB,EAAIqE,EAAIxF,KAAMwF,EAAItH,GAAK,GAAIsH,GACtE,GAAK5K,EAAWmM,WAAWF,IAAS1O,GAAQ+F,GAAOtD,EAAWmM,WAAW5O,GACpE,OAAOyC,EAAWqK,KADyD2B,EAAU,WAErF,KAAID,KAA4B,IAAhBE,EAAKvO,QAAgB,KAAKiG,KAAKsI,IAASnD,EAAYrF,QAAQwI,IAAS,GAG1F,OAAOjM,EAAWqK,KAFlB2B,EAAU,YAdRA,EADEF,GAAaM,EAAkB5K,EAAIoJ,GAC3B,OACH7B,EAAQtF,QAAQH,IAAO,GAAK9B,EAAGuG,SAAS6C,EAAKrE,EAAIqE,EAAIxF,KAAMwF,EAAItH,GAAK,KAAOA,EAAKA,EAAKA,EAClF,YAEA,OAcd,GAAKoE,GACA,GAAIA,GAAQsE,EAAS,OAAOhM,EAAWqK,UADjC3C,EAAOsE,EAIpB,IAAIK,EAAOzL,EAAM,EAAIiI,EAAMvK,OAAOsC,EAAM,GAAK0C,EACzCgJ,EAAQ1L,EAAM,EAAI0C,EAAKuF,EAAMvK,OAAOsC,EAAM,GAC9CY,EAAG2E,WAAU,WACX,GAAY,QAARuB,EACFuD,EAAQzJ,EAAI,QACP,GAAY,aAARkG,EACTuD,EAAQzJ,EAAI,QACP,GAAY,YAARkG,EAAoB,CAE7B,IADA,IAAI6E,EAAO/K,EAAGgL,gBACL3O,EAAI,EAAGA,EAAI0O,EAAK7O,OAAQG,IAC/B0O,EAAK1O,GAAKwO,EAAOE,EAAK1O,GAAKyO,EAC7B9K,EAAGiL,kBAAkBF,EAAM,UAC3BA,EAAO/K,EAAG+I,iBAAiBmC,QAC3B,IAAS7O,EAAI,EAAGA,EAAI0O,EAAK7O,OAAQG,IAC/B0O,EAAK1O,GAAK6N,EAAkBa,EAAK1O,IACnC2D,EAAGiK,cAAcc,OACA,QAAR7E,GACTlG,EAAGwJ,iBAAiBqB,EAAOC,EAAO,MAClC9K,EAAGmL,gBAAgBN,EAAOC,GAC1BrB,EAAQzJ,GAAK,IACI,WAARkG,IACTlG,EAAGwJ,iBAAiBqB,EAAOA,EAAOA,EAAOA,EAAM,UAC/CpB,EAAQzJ,EAAI,OAKlB,SAASkJ,EAAYlJ,EAAIZ,GACvB,IAAIxC,EAAMoD,EAAGuG,SAASxB,EAAI3F,EAAIwE,KAAMxE,EAAI0C,GAAK,GACvBiD,EAAI3F,EAAIwE,KAAMxE,EAAI0C,GAAK,IAC7C,OAAqB,GAAdlF,EAAIV,OAAcU,EAAM,KAGjC,SAASgO,EAAkB5K,EAAIZ,GAC7B,IAAIH,EAAQe,EAAGoL,WAAWrG,EAAI3F,EAAIwE,KAAMxE,EAAI0C,GAAK,IACjD,MAAO,WAAWK,KAAKlD,EAAMiH,OAASjH,EAAM2H,OAASxH,EAAI0C,KAC5C,GAAV1C,EAAI0C,KAAY,WAAWK,KAAKnC,EAAG0K,eAAetL,KAzJvD4I,EAAYZ,EAASC,MAAQ,S,qBC1C/BnK,EAAOC,QAAUkO,OAAOC,IAAM,SAAYC,EAAGC,GAE3C,OAAOD,IAAMC,EAAU,IAAND,GAAW,EAAIA,IAAM,EAAIC,EAAID,GAAKA,GAAKC,GAAKA,I,8DCL/D,4IAOA,MAAMC,EAAqC,qBAAdC,WACI,kBAAtBA,UAAUC,SACmB,gBAApCD,UAAUC,QAAQvL,cACf,MAAMwL,UAAW,OAOpB,YAAYvO,GACRwO,MAAMxO,GACNC,KAAKwO,gBAAkBzO,EAAK0O,YAOhC,WACI,MAAO,YAOX,SACI,IAAKzO,KAAK0O,QAEN,OAEJ,MAAMC,EAAM3O,KAAK2O,MACXC,EAAY5O,KAAKD,KAAK6O,UAEtB7O,EAAOoO,EACP,GACA,eAAKnO,KAAKD,KAAM,QAAS,oBAAqB,MAAO,MAAO,aAAc,OAAQ,KAAM,UAAW,qBAAsB,eAAgB,kBAAmB,SAAU,aAAc,SAAU,uBAChMC,KAAKD,KAAK8O,eACV9O,EAAK+O,QAAU9O,KAAKD,KAAK8O,cAE7B,IACI7O,KAAK+O,GACD,SAA0BZ,EACpBS,EACI,IAAI,OAAUD,EAAKC,GACnB,IAAI,OAAUD,GAClB,IAAI,OAAUA,EAAKC,EAAW7O,GAE5C,MAAOiP,GACH,OAAOhP,KAAKiP,KAAK,QAASD,GAE9BhP,KAAK+O,GAAGG,WAAalP,KAAKmP,OAAOD,YAAc,OAC/ClP,KAAKoP,oBAOT,oBACIpP,KAAK+O,GAAGM,OAAS,KACTrP,KAAKD,KAAKuP,WACVtP,KAAK+O,GAAGQ,QAAQC,QAEpBxP,KAAKyP,UAETzP,KAAK+O,GAAGW,QAAU1P,KAAK2D,QAAQgM,KAAK3P,MACpCA,KAAK+O,GAAGa,UAAYC,GAAM7P,KAAK8P,OAAOD,EAAGE,MACzC/P,KAAK+O,GAAGiB,QAAUpL,GAAK5E,KAAKiQ,QAAQ,kBAAmBrL,GAQ3D,MAAMsL,GACFlQ,KAAKmQ,UAAW,EAGhB,IAAK,IAAIpR,EAAI,EAAGA,EAAImR,EAAQtR,OAAQG,IAAK,CACrC,MAAMqR,EAASF,EAAQnR,GACjBsR,EAAatR,IAAMmR,EAAQtR,OAAS,EAC1C,eAAawR,EAAQpQ,KAAKwO,eAAgBuB,IAEtC,MAAMhQ,EAAO,GACb,IAAK,SACGqQ,EAAOtM,UACP/D,EAAKuQ,SAAWF,EAAOtM,QAAQwM,UAE/BtQ,KAAKD,KAAKwQ,mBAAmB,CAC7B,MAAMC,EAAM,kBAAoBT,EAAOU,EAAOC,WAAWX,GAAQA,EAAKnR,OAClE4R,EAAMxQ,KAAKD,KAAKwQ,kBAAkBI,YAClC5Q,EAAKuQ,UAAW,GAO5B,IACQ,OAEAtQ,KAAK+O,GAAG6B,KAAKb,GAGb/P,KAAK+O,GAAG6B,KAAKb,EAAMhQ,GAG3B,MAAO6E,IAEHyL,GAGA,eAAS,KACLrQ,KAAKmQ,UAAW,EAChBnQ,KAAKiP,KAAK,UACXjP,KAAK6Q,iBAUxB,UAC2B,qBAAZ7Q,KAAK+O,KACZ/O,KAAK+O,GAAG+B,QACR9Q,KAAK+O,GAAK,MAQlB,MACI,IAAI3N,EAAQpB,KAAKoB,OAAS,GAC1B,MAAM2P,EAAS/Q,KAAKD,KAAKiR,OAAS,MAAQ,KAC1C,IAAIC,EAAO,GAEPjR,KAAKD,KAAKkR,OACR,QAAUF,GAAqC,MAA3BG,OAAOlR,KAAKD,KAAKkR,OAClC,OAASF,GAAqC,KAA3BG,OAAOlR,KAAKD,KAAKkR,SACzCA,EAAO,IAAMjR,KAAKD,KAAKkR,MAGvBjR,KAAKD,KAAKoR,oBACV/P,EAAMpB,KAAKD,KAAKqR,gBAAkB,OAGjCpR,KAAKwO,iBACNpN,EAAMiQ,IAAM,GAEhB,MAAMC,EAAe,IAAQtS,OAAOoC,GAC9BmQ,GAA4C,IAArCvR,KAAKD,KAAKyR,SAAS7M,QAAQ,KACxC,OAAQoM,EACJ,OACCQ,EAAO,IAAMvR,KAAKD,KAAKyR,SAAW,IAAMxR,KAAKD,KAAKyR,UACnDP,EACAjR,KAAKD,KAAK0R,MACTH,EAAa1S,OAAS,IAAM0S,EAAe,IAQpD,QACI,QAAU,UACJ,iBAAkB,QAAatR,KAAKoK,OAASkE,EAAG/N,UAAU6J,U,iECnLxEvK,EAAQ6Q,WAAaA,EACrB7Q,EAAQ6R,YAAcA,EACtB7R,EAAQ8R,cAAgBA,EAOxB,IALA,IAAIC,EAAS,GACTC,EAAY,GACZC,EAA4B,qBAAfC,WAA6BA,WAAaC,MAEvDC,EAAO,mEACFlT,EAAI,EAAGyR,EAAMyB,EAAKrT,OAAQG,EAAIyR,IAAOzR,EAC5C6S,EAAO7S,GAAKkT,EAAKlT,GACjB8S,EAAUI,EAAKC,WAAWnT,IAAMA,EAQlC,SAASoT,EAASd,GAChB,IAAIb,EAAMa,EAAIzS,OAEd,GAAI4R,EAAM,EAAI,EACZ,MAAM,IAAI4B,MAAM,kDAKlB,IAAIC,EAAWhB,EAAI1M,QAAQ,MACT,IAAd0N,IAAiBA,EAAW7B,GAEhC,IAAI8B,EAAkBD,IAAa7B,EAC/B,EACA,EAAK6B,EAAW,EAEpB,MAAO,CAACA,EAAUC,GAIpB,SAAS5B,EAAYW,GACnB,IAAIkB,EAAOJ,EAAQd,GACfgB,EAAWE,EAAK,GAChBD,EAAkBC,EAAK,GAC3B,OAAuC,GAA9BF,EAAWC,GAAuB,EAAKA,EAGlD,SAASE,EAAanB,EAAKgB,EAAUC,GACnC,OAAuC,GAA9BD,EAAWC,GAAuB,EAAKA,EAGlD,SAASZ,EAAaL,GACpB,IAAIoB,EAcA1T,EAbAwT,EAAOJ,EAAQd,GACfgB,EAAWE,EAAK,GAChBD,EAAkBC,EAAK,GAEvBG,EAAM,IAAIZ,EAAIU,EAAYnB,EAAKgB,EAAUC,IAEzCK,EAAU,EAGVnC,EAAM8B,EAAkB,EACxBD,EAAW,EACXA,EAGJ,IAAKtT,EAAI,EAAGA,EAAIyR,EAAKzR,GAAK,EACxB0T,EACGZ,EAAUR,EAAIa,WAAWnT,KAAO,GAChC8S,EAAUR,EAAIa,WAAWnT,EAAI,KAAO,GACpC8S,EAAUR,EAAIa,WAAWnT,EAAI,KAAO,EACrC8S,EAAUR,EAAIa,WAAWnT,EAAI,IAC/B2T,EAAIC,KAAcF,GAAO,GAAM,IAC/BC,EAAIC,KAAcF,GAAO,EAAK,IAC9BC,EAAIC,KAAmB,IAANF,EAmBnB,OAhBwB,IAApBH,IACFG,EACGZ,EAAUR,EAAIa,WAAWnT,KAAO,EAChC8S,EAAUR,EAAIa,WAAWnT,EAAI,KAAO,EACvC2T,EAAIC,KAAmB,IAANF,GAGK,IAApBH,IACFG,EACGZ,EAAUR,EAAIa,WAAWnT,KAAO,GAChC8S,EAAUR,EAAIa,WAAWnT,EAAI,KAAO,EACpC8S,EAAUR,EAAIa,WAAWnT,EAAI,KAAO,EACvC2T,EAAIC,KAAcF,GAAO,EAAK,IAC9BC,EAAIC,KAAmB,IAANF,GAGZC,EAGT,SAASE,EAAiB3T,GACxB,OAAO2S,EAAO3S,GAAO,GAAK,IACxB2S,EAAO3S,GAAO,GAAK,IACnB2S,EAAO3S,GAAO,EAAI,IAClB2S,EAAa,GAAN3S,GAGX,SAAS4T,EAAaC,EAAOxJ,EAAOyJ,GAGlC,IAFA,IAAIN,EACAO,EAAS,GACJjU,EAAIuK,EAAOvK,EAAIgU,EAAKhU,GAAK,EAChC0T,GACIK,EAAM/T,IAAM,GAAM,WAClB+T,EAAM/T,EAAI,IAAM,EAAK,QACP,IAAf+T,EAAM/T,EAAI,IACbiU,EAAOvG,KAAKmG,EAAgBH,IAE9B,OAAOO,EAAOC,KAAK,IAGrB,SAAStB,EAAemB,GAQtB,IAPA,IAAIL,EACAjC,EAAMsC,EAAMlU,OACZsU,EAAa1C,EAAM,EACnB2C,EAAQ,GACRC,EAAiB,MAGZrU,EAAI,EAAGsU,EAAO7C,EAAM0C,EAAYnU,EAAIsU,EAAMtU,GAAKqU,EACtDD,EAAM1G,KAAKoG,EAAYC,EAAO/T,EAAIA,EAAIqU,EAAkBC,EAAOA,EAAQtU,EAAIqU,IAqB7E,OAjBmB,IAAfF,GACFT,EAAMK,EAAMtC,EAAM,GAClB2C,EAAM1G,KACJmF,EAAOa,GAAO,GACdb,EAAQa,GAAO,EAAK,IACpB,OAEsB,IAAfS,IACTT,GAAOK,EAAMtC,EAAM,IAAM,GAAKsC,EAAMtC,EAAM,GAC1C2C,EAAM1G,KACJmF,EAAOa,GAAO,IACdb,EAAQa,GAAO,EAAK,IACpBb,EAAQa,GAAO,EAAK,IACpB,MAIGU,EAAMF,KAAK,IAlIpBpB,EAAU,IAAIK,WAAW,IAAM,GAC/BL,EAAU,IAAIK,WAAW,IAAM,I,oCCnBhB,YACS,qBAAToB,KACAA,KAEgB,qBAAXC,OACLA,OAGAC,SAAS,cAATA,GARA,I,iDCKf,SAAUvS,GAENA,EAAI,EAAQ,UAFhB,EAOG,SAASC,GACV,SAASuS,EAAU/Q,EAAIgR,EAAU7P,GAC/B,IACIE,EADA4P,EAAOjR,EAAGkR,oBAcd,OAZA7P,EAAS4P,EAAKnL,YAAYjC,SAAS4B,cAAc,QAE/CpE,EAAO2E,UADL7E,EACiB,6CAEA,0CAEE,iBAAZ6P,EACT3P,EAAO8P,UAAYH,EAEnB3P,EAAOyE,YAAYkL,GAErBxS,EAAW4S,SAASH,EAAM,iBACnB5P,EAGT,SAASgQ,EAAkBrR,EAAIsR,GACzBtR,EAAGC,MAAMsR,0BACXvR,EAAGC,MAAMsR,2BACXvR,EAAGC,MAAMsR,yBAA2BD,EAGtC9S,EAAWgT,gBAAgB,cAAc,SAASR,EAAUpM,EAAUxD,GAC/DA,IAASA,EAAU,IAExBiQ,EAAkB/T,KAAM,MAExB,IAAI+D,EAAS0P,EAAUzT,KAAM0T,EAAU5P,EAAQD,QAC3CsQ,GAAS,EAAOC,EAAKpU,KACzB,SAAS8Q,EAAMkD,GACb,GAAqB,iBAAVA,EACTK,EAAI7Q,MAAQwQ,MACP,CACL,GAAIG,EAAQ,OACZA,GAAS,EACTjT,EAAWoT,QAAQvQ,EAAOwQ,WAAY,iBACtCxQ,EAAOwQ,WAAWC,YAAYzQ,GAC9BqQ,EAAGK,QAEC3Q,EAAQH,SAASG,EAAQH,QAAQI,IAIzC,IAAmD2Q,EAA/CL,EAAMtQ,EAAO4Q,qBAAqB,SAAS,GAuC/C,OAtCIN,GACFA,EAAII,QAEA3Q,EAAQN,QACV6Q,EAAI7Q,MAAQM,EAAQN,OACc,IAA9BM,EAAQL,mBACV4Q,EAAIO,UAIJ9Q,EAAQ+Q,SACV3T,EAAW4T,GAAGT,EAAK,SAAS,SAASzP,GAAKd,EAAQ+Q,QAAQjQ,EAAGyP,EAAI7Q,MAAOsN,MACtEhN,EAAQiR,SACV7T,EAAW4T,GAAGT,EAAK,SAAS,SAASzP,GAAId,EAAQiR,QAAQnQ,EAAGyP,EAAI7Q,MAAOsN,MAEzE5P,EAAW4T,GAAGT,EAAK,WAAW,SAASzP,GACjCd,GAAWA,EAAQR,WAAaQ,EAAQR,UAAUsB,EAAGyP,EAAI7Q,MAAOsN,MACnD,IAAblM,EAAEoQ,UAA2C,IAAzBlR,EAAQJ,cAAuC,IAAbkB,EAAEoQ,WAC1DX,EAAIY,OACJ/T,EAAW6E,OAAOnB,GAClBkM,KAEe,IAAblM,EAAEoQ,SAAe1N,EAAS+M,EAAI7Q,MAAOoB,QAGf,IAAxBd,EAAQoR,aAAuBhU,EAAW4T,GAAG/Q,EAAQ,YAAY,SAAUoR,GACnD,OAAtBA,EAAIC,eAAwBtE,SAEzB4D,EAAS3Q,EAAO4Q,qBAAqB,UAAU,MACxDzT,EAAW4T,GAAGJ,EAAQ,SAAS,WAC7B5D,IACAsD,EAAGK,YAGuB,IAAxB3Q,EAAQoR,aAAuBhU,EAAW4T,GAAGJ,EAAQ,OAAQ5D,GAEjE4D,EAAOD,SAEF3D,KAGT5P,EAAWgT,gBAAgB,eAAe,SAASR,EAAU2B,EAAWvR,GACtEiQ,EAAkB/T,KAAM,MACxB,IAAI+D,EAAS0P,EAAUzT,KAAM0T,EAAU5P,GAAWA,EAAQD,QACtDyR,EAAUvR,EAAO4Q,qBAAqB,UACtCR,GAAS,EAAOC,EAAKpU,KAAMuV,EAAW,EAC1C,SAASzE,IACHqD,IACJA,GAAS,EACTjT,EAAWoT,QAAQvQ,EAAOwQ,WAAY,iBACtCxQ,EAAOwQ,WAAWC,YAAYzQ,GAC9BqQ,EAAGK,SAELa,EAAQ,GAAGb,QACX,IAAK,IAAI1V,EAAI,EAAGA,EAAIuW,EAAQ1W,SAAUG,EAAG,CACvC,IAAIyW,EAAIF,EAAQvW,IAChB,SAAUuI,GACRpG,EAAW4T,GAAGU,EAAG,SAAS,SAAS5Q,GACjC1D,EAAWuU,iBAAiB7Q,GAC5BkM,IACIxJ,GAAUA,EAAS8M,OAJ3B,CAMGiB,EAAUtW,IACbmC,EAAW4T,GAAGU,EAAG,QAAQ,aACrBD,EACFG,YAAW,WAAiBH,GAAY,GAAGzE,MAAY,QAEzD5P,EAAW4T,GAAGU,EAAG,SAAS,aAAeD,SAY7CrU,EAAWgT,gBAAgB,oBAAoB,SAASR,EAAU5P,GAChEiQ,EAAkB/T,KAAM8Q,GACxB,IACoB6E,EADhB5R,EAAS0P,EAAUzT,KAAM0T,EAAU5P,GAAWA,EAAQD,QACtDsQ,GAAS,EACT3T,EAAWsD,GAAuC,qBAArBA,EAAQtD,SAA2BsD,EAAQtD,SAAW,IAEvF,SAASsQ,IACHqD,IACJA,GAAS,EACTyB,aAAaD,GACbzU,EAAWoT,QAAQvQ,EAAOwQ,WAAY,iBACtCxQ,EAAOwQ,WAAWC,YAAYzQ,IAWhC,OARA7C,EAAW4T,GAAG/Q,EAAQ,SAAS,SAASa,GACtC1D,EAAWuU,iBAAiB7Q,GAC5BkM,OAGEtQ,IACFmV,EAAYD,WAAW5E,EAAOtQ,IAEzBsQ,S,uBChKX,IAAI+E,EAAI,EAAQ,QACZ7H,EAAK,EAAQ,QAIjB6H,EAAE,CAAEC,OAAQ,SAAUC,MAAM,GAAQ,CAClC/H,GAAIA,K,8MCNN,MAAMgI,EAAejI,OAAOkI,OAAO,MACnCD,EAAa,QAAU,IACvBA,EAAa,SAAW,IACxBA,EAAa,QAAU,IACvBA,EAAa,QAAU,IACvBA,EAAa,WAAa,IAC1BA,EAAa,WAAa,IAC1BA,EAAa,QAAU,IACvB,MAAME,EAAuBnI,OAAOkI,OAAO,MAC3ClI,OAAOoI,KAAKH,GAAcI,QAAQ/N,IAC9B6N,EAAqBF,EAAa3N,IAAQA,IAE9C,MAAMgO,EAAe,CAAEzN,KAAM,QAASmH,KAAM,gBCXtCuG,EAAiC,oBAATC,MACT,qBAATA,MACqC,6BAAzCxI,OAAOxN,UAAUiW,SAASC,KAAKF,MACjCG,EAA+C,oBAAhBC,YAE/BC,EAASC,GAC0B,oBAAvBF,YAAYC,OACpBD,YAAYC,OAAOC,GACnBA,GAAOA,EAAIC,kBAAkBH,YAEjCI,EAAe,EAAGnO,OAAMmH,QAAQvB,EAAgBlH,IAC9CgP,GAAkBvG,aAAgBwG,KAC9B/H,EACOlH,EAASyI,GAGTiH,EAAmBjH,EAAMzI,GAG/BoP,IACJ3G,aAAgB4G,aAAeC,EAAO7G,IACnCvB,EACOlH,EAASyI,GAGTiH,EAAmB,IAAIT,KAAK,CAACxG,IAAQzI,GAI7CA,EAAS0O,EAAapN,IAASmH,GAAQ,KAE5CiH,EAAqB,CAACjH,EAAMzI,KAC9B,MAAM2P,EAAa,IAAIC,WAKvB,OAJAD,EAAWE,OAAS,WAChB,MAAMC,EAAUH,EAAWI,OAAO1Y,MAAM,KAAK,GAC7C2I,EAAS,IAAM8P,IAEZH,EAAWK,cAAcvH,IC9BpC,IDgCe,QCnCX/E,EAAQ,mEAER4G,EAA+B,qBAAfG,WAA6B,GAAK,IAAIA,WAAW,KAC5D,EAAI,EAAG,EAAI/G,EAAMpM,OAAQ,IAC9BgT,EAAO5G,EAAMkH,WAAW,IAAM,EAElC,IAgBI7S,EAAS,SAAUkY,GACnB,IAA8DxY,EAAUyY,EAAUC,EAAUC,EAAUC,EAAlGC,EAA+B,IAAhBL,EAAO3Y,OAAe4R,EAAM+G,EAAO3Y,OAAWiZ,EAAI,EACnC,MAA9BN,EAAOA,EAAO3Y,OAAS,KACvBgZ,IACkC,MAA9BL,EAAOA,EAAO3Y,OAAS,IACvBgZ,KAGR,IAAIE,EAAc,IAAInB,YAAYiB,GAAeG,EAAQ,IAAIhG,WAAW+F,GACxE,IAAK/Y,EAAI,EAAGA,EAAIyR,EAAKzR,GAAK,EACtByY,EAAW5F,EAAO2F,EAAOrF,WAAWnT,IACpC0Y,EAAW7F,EAAO2F,EAAOrF,WAAWnT,EAAI,IACxC2Y,EAAW9F,EAAO2F,EAAOrF,WAAWnT,EAAI,IACxC4Y,EAAW/F,EAAO2F,EAAOrF,WAAWnT,EAAI,IACxCgZ,EAAMF,KAAQL,GAAY,EAAMC,GAAY,EAC5CM,EAAMF,MAAoB,GAAXJ,IAAkB,EAAMC,GAAY,EACnDK,EAAMF,MAAoB,EAAXH,IAAiB,EAAiB,GAAXC,EAE1C,OAAOG,GC3CX,MAAM,EAA+C,oBAAhBnB,YAC/BqB,EAAe,CAACC,EAAe/I,KACjC,GAA6B,kBAAlB+I,EACP,MAAO,CACHrP,KAAM,UACNmH,KAAMmI,EAAUD,EAAe/I,IAGvC,MAAMtG,EAAOqP,EAAczY,OAAO,GAClC,GAAa,MAAToJ,EACA,MAAO,CACHA,KAAM,UACNmH,KAAMoI,EAAmBF,EAAcG,UAAU,GAAIlJ,IAG7D,MAAMmJ,EAAanC,EAAqBtN,GACxC,OAAKyP,EAGEJ,EAAcrZ,OAAS,EACxB,CACEgK,KAAMsN,EAAqBtN,GAC3BmH,KAAMkI,EAAcG,UAAU,IAEhC,CACExP,KAAMsN,EAAqBtN,IARxByN,GAWT8B,EAAqB,CAACpI,EAAMb,KAC9B,GAAI,EAAuB,CACvB,MAAM3P,EAAUF,EAAO0Q,GACvB,OAAOmI,EAAU3Y,EAAS2P,GAG1B,MAAO,CAAEqI,QAAQ,EAAMxH,SAGzBmI,EAAY,CAACnI,EAAMb,KACrB,OAAQA,GACJ,IAAK,OACD,OAAOa,aAAgB4G,YAAc,IAAIJ,KAAK,CAACxG,IAASA,EAC5D,IAAK,cACL,QACI,OAAOA,IAGJ,QC9Cf,MAAMuI,EAAYC,OAAOC,aAAa,IAChCC,EAAgB,CAACvI,EAAS5I,KAE5B,MAAM1I,EAASsR,EAAQtR,OACjB8Z,EAAiB,IAAI1G,MAAMpT,GACjC,IAAI+Z,EAAQ,EACZzI,EAAQkG,QAAQ,CAAChG,EAAQrR,KAErB,EAAaqR,GAAQ,EAAO6H,IACxBS,EAAe3Z,GAAKkZ,IACdU,IAAU/Z,GACZ0I,EAASoR,EAAezF,KAAKqF,SAKvCM,EAAgB,CAACC,EAAgB3J,KACnC,MAAMwJ,EAAiBG,EAAela,MAAM2Z,GACtCpI,EAAU,GAChB,IAAK,IAAInR,EAAI,EAAGA,EAAI2Z,EAAe9Z,OAAQG,IAAK,CAC5C,MAAM+Z,EAAgB,EAAaJ,EAAe3Z,GAAImQ,GAEtD,GADAgB,EAAQzD,KAAKqM,GACc,UAAvBA,EAAclQ,KACd,MAGR,OAAOsH,GAEE6I,EAAW,G,oCC9BxB,0EAGO,MAAMC,UAAkB,aAO3B,YAAYjZ,GACRwO,QACAvO,KAAKmQ,UAAW,EAChB,eAAsBnQ,KAAMD,GAC5BC,KAAKD,KAAOA,EACZC,KAAKoB,MAAQrB,EAAKqB,MAClBpB,KAAKiZ,WAAa,GAClBjZ,KAAKmP,OAASpP,EAAKoP,OASvB,QAAQ+J,EAAKC,GACT,MAAMnK,EAAM,IAAIoD,MAAM8G,GAMtB,OAJAlK,EAAIpG,KAAO,iBAEXoG,EAAIoK,YAAcD,EAClB5K,MAAMU,KAAK,QAASD,GACbhP,KAOX,OAKI,MAJI,WAAaA,KAAKiZ,YAAc,KAAOjZ,KAAKiZ,aAC5CjZ,KAAKiZ,WAAa,UAClBjZ,KAAKqZ,UAEFrZ,KAOX,QAKI,MAJI,YAAcA,KAAKiZ,YAAc,SAAWjZ,KAAKiZ,aACjDjZ,KAAKsZ,UACLtZ,KAAK2D,WAEF3D,KAQX,KAAKkQ,GACG,SAAWlQ,KAAKiZ,YAChBjZ,KAAKuZ,MAAMrJ,GAWnB,SACIlQ,KAAKiZ,WAAa,OAClBjZ,KAAKmQ,UAAW,EAChB5B,MAAMU,KAAK,QAQf,OAAOc,GACH,MAAMK,EAAS,eAAaL,EAAM/P,KAAKmP,OAAOD,YAC9ClP,KAAKwZ,SAASpJ,GAOlB,SAASA,GACL7B,MAAMU,KAAK,SAAUmB,GAOzB,UACIpQ,KAAKiZ,WAAa,SAClB1K,MAAMU,KAAK,Y,oFC3GnB,IAAIwK,EAAa,EAAQ,QACrBC,EAAmB,EAAQ,QAI/BD,EAAW,OAAO,SAAUE,GAC1B,OAAO,WAAiB,OAAOA,EAAK3Z,KAAMsI,UAAU1J,OAAS0J,UAAU,QAAKsR,MAC3EF,I,qBCAH7Z,EAAQb,OAAS,SAAU6X,GACzB,IAAIvX,EAAM,GAEV,IAAK,IAAIP,KAAK8X,EACRA,EAAIgD,eAAe9a,KACjBO,EAAIV,SAAQU,GAAO,KACvBA,GAAOwa,mBAAmB/a,GAAK,IAAM+a,mBAAmBjD,EAAI9X,KAIhE,OAAOO,GAUTO,EAAQR,OAAS,SAAS0a,GAGxB,IAFA,IAAIC,EAAM,GACNjQ,EAAQgQ,EAAGpb,MAAM,KACZI,EAAI,EAAGkb,EAAIlQ,EAAMnL,OAAQG,EAAIkb,EAAGlb,IAAK,CAC5C,IAAImb,EAAOnQ,EAAMhL,GAAGJ,MAAM,KAC1Bqb,EAAIG,mBAAmBD,EAAK,KAAOC,mBAAmBD,EAAK,IAE7D,OAAOF,I,4CC5BT,IAAII,EAAK,0OAELjH,EAAQ,CACR,SAAU,WAAY,YAAa,WAAY,OAAQ,WAAY,OAAQ,OAAQ,WAAY,OAAQ,YAAa,OAAQ,QAAS,UAiCzI,SAASkH,EAAUxD,EAAKpF,GACpB,IAAI6I,EAAO,WACPC,EAAQ9I,EAAKlQ,QAAQ+Y,EAAM,KAAK3b,MAAM,KAS1C,MAPyB,KAArB8S,EAAK+I,OAAO,EAAG,IAA6B,IAAhB/I,EAAK7S,QACjC2b,EAAME,OAAO,EAAG,GAEmB,KAAnChJ,EAAK+I,OAAO/I,EAAK7S,OAAS,EAAG,IAC7B2b,EAAME,OAAOF,EAAM3b,OAAS,EAAG,GAG5B2b,EAGX,SAASG,EAAS/L,EAAKvN,GACnB,IAAI2O,EAAO,GAQX,OANA3O,EAAMG,QAAQ,6BAA6B,SAAUoZ,EAAIC,EAAIC,GACrDD,IACA7K,EAAK6K,GAAMC,MAIZ9K,EArDXnQ,EAAOC,QAAU,SAAkBP,GAC/B,IAAIwb,EAAMxb,EACNkW,EAAIlW,EAAIqF,QAAQ,KAChBC,EAAItF,EAAIqF,QAAQ,MAEV,GAAN6Q,IAAiB,GAAN5Q,IACXtF,EAAMA,EAAI8Y,UAAU,EAAG5C,GAAKlW,EAAI8Y,UAAU5C,EAAG5Q,GAAGrD,QAAQ,KAAM,KAAOjC,EAAI8Y,UAAUxT,EAAGtF,EAAIV,SAG9F,IAAImc,EAAIX,EAAGpY,KAAK1C,GAAO,IACnBqP,EAAM,GACN5P,EAAI,GAER,MAAOA,IACH4P,EAAIwE,EAAMpU,IAAMgc,EAAEhc,IAAM,GAa5B,OAVU,GAANyW,IAAiB,GAAN5Q,IACX+J,EAAIlN,OAASqZ,EACbnM,EAAIqM,KAAOrM,EAAIqM,KAAK5C,UAAU,EAAGzJ,EAAIqM,KAAKpc,OAAS,GAAG2C,QAAQ,KAAM,KACpEoN,EAAIsM,UAAYtM,EAAIsM,UAAU1Z,QAAQ,IAAK,IAAIA,QAAQ,IAAK,IAAIA,QAAQ,KAAM,KAC9EoN,EAAIuM,SAAU,GAGlBvM,EAAI0L,UAAYA,EAAU1L,EAAKA,EAAI,SACnCA,EAAI+L,SAAWA,EAAS/L,EAAKA,EAAI,UAE1BA,I,wBC/BV,SAAUnN,EAAQ2Z,GAC8Cvb,EAAOC,QAAUsb,KADlF,CAIEnb,GAAM,WAAe,aAIrB,IAAIob,EAAYhN,UAAUgN,UACtBC,EAAWjN,UAAUiN,SAErBC,EAAQ,aAAazW,KAAKuW,GAC1BG,EAAY,UAAU1W,KAAKuW,GAC3BI,EAAU,wCAAwCxZ,KAAKoZ,GACvDK,EAAO,cAAczZ,KAAKoZ,GAC1BM,EAAKH,GAAaC,GAAWC,EAC7BE,EAAaD,IAAOH,EAAYhV,SAASqV,cAAgB,IAAMH,GAAQD,GAAS,IAChFK,GAAUJ,GAAQ,WAAW5W,KAAKuW,GAClCU,EAAWD,GAAU,eAAehX,KAAKuW,GACzCW,GAAUN,GAAQ,WAAW5W,KAAKuW,GAClCY,EAAS,UAAUnX,KAAKuW,GACxBa,EAAS,iBAAiBpX,KAAKuJ,UAAU8N,QACzCC,EAAqB,+BAA+BtX,KAAKuW,GACzDgB,EAAU,YAAYvX,KAAKuW,GAE3BiB,EAAMJ,IAAW,cAAcpX,KAAKuW,IAAchN,UAAUkO,eAAiB,GAC7EC,EAAU,UAAU1X,KAAKuW,GAEzBoB,EAASH,GAAOE,GAAW,mDAAmD1X,KAAKuW,GACnFqB,EAAMJ,GAAO,MAAMxX,KAAKwW,GACxBqB,EAAW,WAAW7X,KAAKuW,GAC3BuB,EAAU,OAAO9X,KAAKwW,GAEtBuB,EAAiBZ,GAAUZ,EAAUrZ,MAAM,uBAC3C6a,IAAkBA,EAAiB1L,OAAO0L,EAAe,KACzDA,GAAkBA,GAAkB,KAAMZ,GAAS,EAAOH,GAAS,GAEvE,IAAIgB,EAAcJ,IAAQX,GAAYE,IAA6B,MAAlBY,GAA0BA,EAAiB,QACxFE,EAAoBxB,GAAUI,GAAMC,GAAc,EAEtD,SAASoB,EAAUC,GAAO,OAAO,IAAI1b,OAAO,UAAY0b,EAAM,iBAE9D,IAkCIxQ,EAlCA8H,EAAU,SAAS2I,EAAMD,GAC3B,IAAIE,EAAUD,EAAKvU,UACf3G,EAAQgb,EAAUC,GAAKhb,KAAKkb,GAChC,GAAInb,EAAO,CACT,IAAIob,EAAQD,EAAQtP,MAAM7L,EAAMG,MAAQH,EAAM,GAAGnD,QACjDqe,EAAKvU,UAAYwU,EAAQtP,MAAM,EAAG7L,EAAMG,QAAUib,EAAQpb,EAAM,GAAKob,EAAQ,MAIjF,SAASC,EAAexY,GACtB,IAAK,IAAI+T,EAAQ/T,EAAEyY,WAAWze,OAAQ+Z,EAAQ,IAAKA,EAC/C/T,EAAE4P,YAAY5P,EAAE0Y,YACpB,OAAO1Y,EAGT,SAAS2Y,EAAqBC,EAAQ5Y,GACpC,OAAOwY,EAAeI,GAAQhV,YAAY5D,GAG5C,SAAS6Y,EAAIzV,EAAKoP,EAAS1O,EAAWzC,GACpC,IAAIrB,EAAI2B,SAAS4B,cAAcH,GAG/B,GAFIU,IAAa9D,EAAE8D,UAAYA,GAC3BzC,IAASrB,EAAEqB,MAAMyX,QAAUzX,GACT,iBAAXmR,EAAuBxS,EAAE4D,YAAYjC,SAASkC,eAAe2O,SACnE,GAAIA,EAAW,IAAK,IAAIrY,EAAI,EAAGA,EAAIqY,EAAQxY,SAAUG,EAAK6F,EAAE4D,YAAY4O,EAAQrY,IACrF,OAAO6F,EAGT,SAAS+Y,EAAK3V,EAAKoP,EAAS1O,EAAWzC,GACrC,IAAIrB,EAAI6Y,EAAIzV,EAAKoP,EAAS1O,EAAWzC,GAErC,OADArB,EAAEgZ,aAAa,OAAQ,gBAChBhZ,EAoBT,SAASiZ,EAASL,EAAQjV,GAGxB,GAFsB,GAAlBA,EAAMuV,WACNvV,EAAQA,EAAMgM,YACdiJ,EAAOK,SACP,OAAOL,EAAOK,SAAStV,GAC3B,GAEE,GADsB,IAAlBA,EAAMuV,WAAkBvV,EAAQA,EAAMyS,MACtCzS,GAASiV,EAAU,OAAO,QACvBjV,EAAQA,EAAMgM,YAGzB,SAASwJ,IAIP,IAAIC,EACJ,IACEA,EAAgBzX,SAASyX,cACzB,MAAMpZ,GACNoZ,EAAgBzX,SAAS0X,MAAQ,KAEnC,MAAOD,GAAiBA,EAAcE,YAAcF,EAAcE,WAAWF,cACzEA,EAAgBA,EAAcE,WAAWF,cAC7C,OAAOA,EAGT,SAASlK,EAASmJ,EAAMD,GACtB,IAAIE,EAAUD,EAAKvU,UACdqU,EAAUC,GAAKnY,KAAKqY,KAAYD,EAAKvU,YAAcwU,EAAU,IAAM,IAAMF,GAEhF,SAASmB,EAAYC,EAAG5I,GAEtB,IADA,IAAI6I,EAAKD,EAAEzf,MAAM,KACRI,EAAI,EAAGA,EAAIsf,EAAGzf,OAAQG,IACvBsf,EAAGtf,KAAOge,EAAUsB,EAAGtf,IAAI8F,KAAK2Q,KAAMA,GAAK,IAAM6I,EAAGtf,IAC5D,OAAOyW,EAlDmBhJ,EAAxBjG,SAAS+X,YAAuB,SAASrB,EAAM3T,EAAOyJ,EAAKwL,GAC7D,IAAIC,EAAIjY,SAAS+X,cAGjB,OAFAE,EAAEC,OAAOF,GAAWtB,EAAMlK,GAC1ByL,EAAEE,SAASzB,EAAM3T,GACVkV,GAEM,SAASvB,EAAM3T,EAAOyJ,GACnC,IAAIyL,EAAIjY,SAAS0X,KAAKU,kBACtB,IAAMH,EAAEI,kBAAkB3B,EAAK1I,YAC/B,MAAM3P,GAAK,OAAO4Z,EAIlB,OAHAA,EAAEK,UAAS,GACXL,EAAEM,QAAQ,YAAa/L,GACvByL,EAAEO,UAAU,YAAazV,GAClBkV,GAwCT,IAAIQ,EAAc,SAAS/B,GAAQA,EAAKrI,UAMxC,SAASjF,EAAK1L,GACZ,IAAIgb,EAAOjN,MAAMzR,UAAUqN,MAAM6I,KAAKnO,UAAW,GACjD,OAAO,WAAW,OAAOrE,EAAEib,MAAM,KAAMD,IAGzC,SAASE,EAAQtI,EAAKf,EAAQsJ,GAE5B,IAAK,IAAIC,KADJvJ,IAAUA,EAAS,IACPe,GACTA,EAAIgD,eAAewF,KAAwB,IAAdD,GAAwBtJ,EAAO+D,eAAewF,KAC7EvJ,EAAOuJ,GAAQxI,EAAIwI,IACzB,OAAOvJ,EAKT,SAASwJ,EAAYrd,EAAQ8Q,EAAKwM,EAASC,EAAYC,GAC1C,MAAP1M,IACFA,EAAM9Q,EAAOW,OAAO,gBACR,GAARmQ,IAAaA,EAAM9Q,EAAOrD,SAEhC,IAAK,IAAIG,EAAIygB,GAAc,EAAGE,EAAID,GAAc,IAAK,CACnD,IAAIE,EAAU1d,EAAO0C,QAAQ,KAAM5F,GACnC,GAAI4gB,EAAU,GAAKA,GAAW5M,EAC1B,OAAO2M,GAAK3M,EAAMhU,GACtB2gB,GAAKC,EAAU5gB,EACf2gB,GAAKH,EAAWG,EAAIH,EACpBxgB,EAAI4gB,EAAU,GA/BdtD,EACA2C,EAAc,SAAS/B,GAAQA,EAAK2C,eAAiB,EAAG3C,EAAK4C,aAAe5C,EAAKzZ,MAAM5E,QAClF8c,IACLsD,EAAc,SAAS/B,GAAQ,IAAMA,EAAKrI,SAAY,MAAMkL,OAgChE,IAAIC,EAAU,WACZ/f,KAAKggB,GAAK,KACVhgB,KAAKiE,EAAI,KACTjE,KAAKigB,KAAO,EACZjgB,KAAKiL,QAAU0E,EAAK3P,KAAKkgB,UAAWlgB,OAoBtC,SAAS2E,EAAQwb,EAAO1C,GACtB,IAAK,IAAI1e,EAAI,EAAGA,EAAIohB,EAAMvhB,SAAUG,EAChC,GAAIohB,EAAMphB,IAAM0e,EAAO,OAAO1e,EAClC,OAAQ,EArBVghB,EAAQxf,UAAU2f,UAAY,SAAU5M,GACtCA,EAAK0M,GAAK,EACN1M,EAAK2M,OAAS,IAAItgB,KACpB2T,EAAKrP,IAELyR,WAAWpC,EAAKrI,QAASqI,EAAK2M,MAAQ,IAAItgB,OAG9CogB,EAAQxf,UAAU6f,IAAM,SAAUngB,EAAIgE,GACpCjE,KAAKiE,EAAIA,EACT,IAAIgc,GAAQ,IAAItgB,KAAOM,IAClBD,KAAKggB,IAAMC,EAAOjgB,KAAKigB,QAC1BrK,aAAa5V,KAAKggB,IAClBhgB,KAAKggB,GAAKtK,WAAW1V,KAAKiL,QAAShL,GACnCD,KAAKigB,KAAOA,IAWhB,IAAII,EAAc,GAId9U,EAAO,CAACiL,SAAU,WAAW,MAAO,oBAGpC8J,EAAiB,CAACC,QAAQ,GAAQC,EAAY,CAACC,OAAQ,UAAWC,EAAW,CAACD,OAAQ,SAI1F,SAASE,EAAW1e,EAAQ2e,EAAMrB,GAChC,IAAK,IAAIzd,EAAM,EAAG+e,EAAM,IAAK,CAC3B,IAAIlB,EAAU1d,EAAO0C,QAAQ,KAAM7C,IACnB,GAAZ6d,IAAiBA,EAAU1d,EAAOrD,QACtC,IAAIkiB,EAAUnB,EAAU7d,EACxB,GAAI6d,GAAW1d,EAAOrD,QAAUiiB,EAAMC,GAAWF,EAC7C,OAAO9e,EAAM3C,KAAKe,IAAI4gB,EAASF,EAAOC,GAI1C,GAHAA,GAAOlB,EAAU7d,EACjB+e,GAAOtB,EAAWsB,EAAMtB,EACxBzd,EAAM6d,EAAU,EACZkB,GAAOD,EAAQ,OAAO9e,GAI9B,IAAIif,EAAY,CAAC,IACjB,SAASC,EAAStB,GAChB,MAAOqB,EAAUniB,QAAU8gB,EACvBqB,EAAUtU,KAAKwU,EAAIF,GAAa,KACpC,OAAOA,EAAUrB,GAGnB,SAASuB,EAAIvO,GAAO,OAAOA,EAAIA,EAAI9T,OAAO,GAE1C,SAASC,EAAIshB,EAAOlc,GAElB,IADA,IAAIid,EAAM,GACDniB,EAAI,EAAGA,EAAIohB,EAAMvhB,OAAQG,IAAOmiB,EAAIniB,GAAKkF,EAAEkc,EAAMphB,GAAIA,GAC9D,OAAOmiB,EAGT,SAASC,EAAahB,EAAO3c,EAAO4d,GAClC,IAAItf,EAAM,EAAGuf,EAAWD,EAAM5d,GAC9B,MAAO1B,EAAMqe,EAAMvhB,QAAUwiB,EAAMjB,EAAMre,KAASuf,EAAYvf,IAC9Dqe,EAAM1F,OAAO3Y,EAAK,EAAG0B,GAGvB,SAAS8d,KAET,SAASC,EAAUC,EAAMC,GACvB,IAAIC,EAQJ,OAPI3T,OAAOkI,OACTyL,EAAO3T,OAAOkI,OAAOuL,IAErBF,EAAQ/gB,UAAYihB,EACpBE,EAAO,IAAIJ,GAETG,GAAStC,EAAQsC,EAAOC,GACrBA,EAGT,IAAIC,GAA6B,4GACjC,SAASC,GAAgBpd,GACvB,MAAO,KAAKK,KAAKL,IAAOA,EAAK,MAC1BA,EAAGqd,eAAiBrd,EAAG1B,eAAiB6e,GAA2B9c,KAAKL,IAE7E,SAAS6I,GAAW7I,EAAIsd,GACtB,OAAKA,KACDA,EAAOrgB,OAAOkD,QAAQ,QAAU,GAAKid,GAAgBpd,KAClDsd,EAAOjd,KAAKL,GAFGod,GAAgBpd,GAKxC,SAASud,GAAQlL,GACf,IAAK,IAAI6I,KAAK7I,EAAO,GAAIA,EAAIgD,eAAe6F,IAAM7I,EAAI6I,GAAM,OAAO,EACnE,OAAO,EAQT,IAAIsC,GAAiB,64DACrB,SAASC,GAAgBzd,GAAM,OAAOA,EAAG0N,WAAW,IAAM,KAAO8P,GAAend,KAAKL,GAGrF,SAAS0d,GAAmB5iB,EAAKwC,EAAKuK,GACpC,OAAQA,EAAM,EAAIvK,EAAM,EAAIA,EAAMxC,EAAIV,SAAWqjB,GAAgB3iB,EAAIE,OAAOsC,IAASA,GAAOuK,EAC5F,OAAOvK,EAMT,SAASqgB,GAAUC,EAAMva,EAAMxB,GAI7B,IADA,IAAIgG,EAAMxE,EAAOxB,GAAM,EAAI,IAClB,CACP,GAAIwB,GAAQxB,EAAM,OAAOwB,EACzB,IAAIwa,GAAQxa,EAAOxB,GAAM,EAAGic,EAAMjW,EAAM,EAAIlN,KAAKojB,KAAKF,GAAQljB,KAAKC,MAAMijB,GACzE,GAAIC,GAAOza,EAAQ,OAAOua,EAAKE,GAAOza,EAAOxB,EACzC+b,EAAKE,GAAQjc,EAAKic,EACfza,EAAOya,EAAMjW,GAMxB,SAASmW,GAAoBC,EAAO5a,EAAMxB,EAAIpC,GAC5C,IAAKwe,EAAS,OAAOxe,EAAE4D,EAAMxB,EAAI,MAAO,GAExC,IADA,IAAIqc,GAAQ,EACH3jB,EAAI,EAAGA,EAAI0jB,EAAM7jB,SAAUG,EAAG,CACrC,IAAI4jB,EAAOF,EAAM1jB,IACb4jB,EAAK9a,KAAOxB,GAAMsc,EAAKtc,GAAKwB,GAAQA,GAAQxB,GAAMsc,EAAKtc,IAAMwB,KAC/D5D,EAAE9E,KAAKgB,IAAIwiB,EAAK9a,KAAMA,GAAO1I,KAAKe,IAAIyiB,EAAKtc,GAAIA,GAAmB,GAAdsc,EAAKC,MAAa,MAAQ,MAAO7jB,GACrF2jB,GAAQ,GAGPA,GAASze,EAAE4D,EAAMxB,EAAI,OAG5B,IAAIwc,GAAY,KAChB,SAASC,GAAcL,EAAOje,EAAIue,GAChC,IAAIL,EACJG,GAAY,KACZ,IAAK,IAAI9jB,EAAI,EAAGA,EAAI0jB,EAAM7jB,SAAUG,EAAG,CACrC,IAAI+M,EAAM2W,EAAM1jB,GAChB,GAAI+M,EAAIjE,KAAOrD,GAAMsH,EAAIzF,GAAK7B,EAAM,OAAOzF,EACvC+M,EAAIzF,IAAM7B,IACRsH,EAAIjE,MAAQiE,EAAIzF,IAAgB,UAAV0c,EAAsBL,EAAQ3jB,EACjD8jB,GAAY9jB,GAEjB+M,EAAIjE,MAAQrD,IACVsH,EAAIjE,MAAQiE,EAAIzF,IAAgB,UAAV0c,EAAsBL,EAAQ3jB,EACjD8jB,GAAY9jB,GAGvB,OAAgB,MAAT2jB,EAAgBA,EAAQG,GA0BjC,IAAIG,GAAe,WAEjB,IAAIC,EAAW,2PAEXC,EAAc,6PAClB,SAASC,EAASlR,GAChB,OAAIA,GAAQ,IAAegR,EAASzjB,OAAOyS,GAClC,MAASA,GAAQA,GAAQ,KAAgB,IACzC,MAASA,GAAQA,GAAQ,KAAgBiR,EAAY1jB,OAAOyS,EAAO,MACnE,MAASA,GAAQA,GAAQ,KAAgB,IACzC,MAAUA,GAAQA,GAAQ,KAAiB,IACnC,MAARA,EAAyB,IACpB,IAGhB,IAAImR,EAAS,4CACTC,EAAY,SAAUC,EAAW,QAASC,EAAe,SAAUC,EAAc,OAErF,SAASC,EAASb,EAAO/a,EAAMxB,GAC7BrG,KAAK4iB,MAAQA,EACb5iB,KAAK6H,KAAOA,EAAM7H,KAAKqG,GAAKA,EAG9B,OAAO,SAAS/G,EAAKokB,GACnB,IAAIC,EAAyB,OAAbD,EAAqB,IAAM,IAE3C,GAAkB,GAAdpkB,EAAIV,QAA4B,OAAb8kB,IAAuBN,EAAOve,KAAKvF,GAAQ,OAAO,EAEzE,IADA,IAAIkR,EAAMlR,EAAIV,OAAQglB,EAAQ,GACrB7kB,EAAI,EAAGA,EAAIyR,IAAOzR,EACvB6kB,EAAMnX,KAAK0W,EAAS7jB,EAAI4S,WAAWnT,KAMvC,IAAK,IAAI8kB,EAAM,EAAGplB,EAAOklB,EAAWE,EAAMrT,IAAOqT,EAAK,CACpD,IAAIjb,EAAOgb,EAAMC,GACL,KAARjb,EAAegb,EAAMC,GAAOplB,EACzBA,EAAOmK,EAQhB,IAAK,IAAIkb,EAAM,EAAGhY,EAAM6X,EAAWG,EAAMtT,IAAOsT,EAAK,CACnD,IAAIC,EAASH,EAAME,GACL,KAAVC,GAAwB,KAAPjY,EAAc8X,EAAME,GAAO,IACvCR,EAASze,KAAKkf,KAAWjY,EAAMiY,EAAsB,KAAVA,IAAiBH,EAAME,GAAO,MAMpF,IAAK,IAAIE,EAAM,EAAGC,EAASL,EAAM,GAAII,EAAMxT,EAAM,IAAKwT,EAAK,CACzD,IAAIE,EAASN,EAAMI,GACL,KAAVE,GAA2B,KAAVD,GAAiC,KAAhBL,EAAMI,EAAI,GAAaJ,EAAMI,GAAO,IACvD,KAAVE,GAAiBD,GAAUL,EAAMI,EAAI,IAC1B,KAAVC,GAA2B,KAAVA,IAAkBL,EAAMI,GAAOC,GAC1DA,EAASC,EAOX,IAAK,IAAIC,EAAM,EAAGA,EAAM3T,IAAO2T,EAAK,CAClC,IAAIC,EAASR,EAAMO,GACnB,GAAc,KAAVC,EAAiBR,EAAMO,GAAO,SAC7B,GAAc,KAAVC,EAAe,CACtB,IAAIrR,OAAM,EACV,IAAKA,EAAMoR,EAAM,EAAGpR,EAAMvC,GAAqB,KAAdoT,EAAM7Q,KAAeA,GAEtD,IADA,IAAIxR,EAAW4iB,GAAuB,KAAhBP,EAAMO,EAAI,IAAepR,EAAMvC,GAAqB,KAAdoT,EAAM7Q,GAAe,IAAM,IAC9EsR,EAAIF,EAAKE,EAAItR,IAAOsR,EAAKT,EAAMS,GAAK9iB,EAC7C4iB,EAAMpR,EAAM,GAOhB,IAAK,IAAIuR,EAAM,EAAGC,EAAQZ,EAAWW,EAAM9T,IAAO8T,EAAK,CACrD,IAAIE,EAASZ,EAAMU,GACN,KAATC,GAA0B,KAAVC,EAAiBZ,EAAMU,GAAO,IACzChB,EAASze,KAAK2f,KAAWD,EAAQC,GAS5C,IAAK,IAAIC,EAAM,EAAGA,EAAMjU,IAAOiU,EAC7B,GAAIpB,EAAUxe,KAAK+e,EAAMa,IAAO,CAC9B,IAAIC,OAAQ,EACZ,IAAKA,EAAQD,EAAM,EAAGC,EAAQlU,GAAO6S,EAAUxe,KAAK+e,EAAMc,MAAWA,GAIrE,IAHA,IAAIC,EAA6C,MAAnCF,EAAMb,EAAMa,EAAI,GAAKd,GAC/BxG,EAAoD,MAA3CuH,EAAQlU,EAAMoT,EAAMc,GAASf,GACtCiB,EAAYD,GAAUxH,EAASwH,EAAS,IAAM,IAAOhB,EAChDkB,EAAMJ,EAAKI,EAAMH,IAASG,EAAOjB,EAAMiB,GAAOD,EACvDH,EAAMC,EAAQ,EAUlB,IADA,IAAgB3J,EAAZ0H,EAAQ,GACHqC,EAAM,EAAGA,EAAMtU,GACtB,GAAI+S,EAAa1e,KAAK+e,EAAMkB,IAAO,CACjC,IAAIxb,EAAQwb,EACZ,MAAOA,EAAKA,EAAMtU,GAAO+S,EAAa1e,KAAK+e,EAAMkB,MAASA,GAC1DrC,EAAMhW,KAAK,IAAIgX,EAAS,EAAGna,EAAOwb,QAC7B,CACL,IAAIhjB,EAAMgjB,EAAKC,EAAKtC,EAAM7jB,OAAQomB,EAAqB,OAAbtB,EAAqB,EAAI,EACnE,MAAOoB,EAAKA,EAAMtU,GAAqB,KAAdoT,EAAMkB,KAAeA,GAC9C,IAAK,IAAIG,EAAMnjB,EAAKmjB,EAAMH,GACxB,GAAItB,EAAY3e,KAAK+e,EAAMqB,IAAO,CAC5BnjB,EAAMmjB,IAAOxC,EAAMhI,OAAOsK,EAAI,EAAG,IAAItB,EAAS,EAAG3hB,EAAKmjB,IAAOF,GAAMC,GACvE,IAAIE,EAASD,EACb,MAAOA,EAAKA,EAAMH,GAAOtB,EAAY3e,KAAK+e,EAAMqB,MAASA,GACzDxC,EAAMhI,OAAOsK,EAAI,EAAG,IAAItB,EAAS,EAAGyB,EAAQD,IAC5CF,GAAMC,EACNljB,EAAMmjB,QACGA,EAETnjB,EAAMgjB,GAAOrC,EAAMhI,OAAOsK,EAAI,EAAG,IAAItB,EAAS,EAAG3hB,EAAKgjB,IAc9D,MAXiB,OAAbpB,IACoB,GAAlBjB,EAAM,GAAGG,QAAe7H,EAAIzb,EAAIyC,MAAM,WACxC0gB,EAAM,GAAG5a,KAAOkT,EAAE,GAAGnc,OACrB6jB,EAAM0C,QAAQ,IAAI1B,EAAS,EAAG,EAAG1I,EAAE,GAAGnc,UAEhB,GAApBqiB,EAAIwB,GAAOG,QAAe7H,EAAIzb,EAAIyC,MAAM,WAC1Ckf,EAAIwB,GAAOpc,IAAM0U,EAAE,GAAGnc,OACtB6jB,EAAMhW,KAAK,IAAIgX,EAAS,EAAGjT,EAAMuK,EAAE,GAAGnc,OAAQ4R,MAI9B,OAAbkT,EAAqBjB,EAAM2C,UAAY3C,GAhJ/B,GAuJnB,SAAS4C,GAAS/e,EAAMod,GACtB,IAAIjB,EAAQnc,EAAKmc,MAEjB,OADa,MAATA,IAAiBA,EAAQnc,EAAKmc,MAAQO,GAAa1c,EAAKnD,KAAMugB,IAC3DjB,EAQT,IAAI6C,GAAa,GAEbxQ,GAAK,SAASyQ,EAAS3c,EAAM3E,GAC/B,GAAIshB,EAAQC,iBACVD,EAAQC,iBAAiB5c,EAAM3E,GAAG,QAC7B,GAAIshB,EAAQE,YACjBF,EAAQE,YAAY,KAAO7c,EAAM3E,OAC5B,CACL,IAAIpF,EAAM0mB,EAAQG,YAAcH,EAAQG,UAAY,IACpD7mB,EAAI+J,IAAS/J,EAAI+J,IAAS0c,IAAYK,OAAO1hB,KAIjD,SAAS2hB,GAAYL,EAAS3c,GAC5B,OAAO2c,EAAQG,WAAaH,EAAQG,UAAU9c,IAAS0c,GAGzD,SAASO,GAAIN,EAAS3c,EAAM3E,GAC1B,GAAIshB,EAAQO,oBACVP,EAAQO,oBAAoBld,EAAM3E,GAAG,QAChC,GAAIshB,EAAQQ,YACjBR,EAAQQ,YAAY,KAAOnd,EAAM3E,OAC5B,CACL,IAAIpF,EAAM0mB,EAAQG,UAAWhT,EAAM7T,GAAOA,EAAI+J,GAC9C,GAAI8J,EAAK,CACP,IAAIxQ,EAAQyC,EAAQ+N,EAAKzO,GACrB/B,GAAS,IACTrD,EAAI+J,GAAQ8J,EAAI9E,MAAM,EAAG1L,GAAOyjB,OAAOjT,EAAI9E,MAAM1L,EAAQ,OAKnE,SAAS8jB,GAAOT,EAAS3c,GACvB,IAAIqd,EAAWL,GAAYL,EAAS3c,GACpC,GAAKqd,EAASrnB,OAEd,IADA,IAAIqgB,EAAOjN,MAAMzR,UAAUqN,MAAM6I,KAAKnO,UAAW,GACxCvJ,EAAI,EAAGA,EAAIknB,EAASrnB,SAAUG,EAAKknB,EAASlnB,GAAGmgB,MAAM,KAAMD,GAMtE,SAASiH,GAAexjB,EAAIkC,EAAGwG,GAI7B,MAHgB,iBAALxG,IACPA,EAAI,CAACgE,KAAMhE,EAAGuhB,eAAgB,WAAanmB,KAAKomB,kBAAmB,KACvEJ,GAAOtjB,EAAI0I,GAAYxG,EAAEgE,KAAMlG,EAAIkC,GAC5ByhB,GAAmBzhB,IAAMA,EAAE0hB,iBAGpC,SAASC,GAAqB7jB,GAC5B,IAAIgQ,EAAMhQ,EAAGgjB,WAAahjB,EAAGgjB,UAAUc,eACvC,GAAK9T,EAEL,IADA,IAAI0N,EAAM1d,EAAG+jB,MAAMC,yBAA2BhkB,EAAG+jB,MAAMC,uBAAyB,IACvE3nB,EAAI,EAAGA,EAAI2T,EAAI9T,SAAUG,GAAkC,GAAzB4F,EAAQyb,EAAK1N,EAAI3T,KACxDqhB,EAAI3T,KAAKiG,EAAI3T,IAGnB,SAAS4nB,GAAWpB,EAAS3c,GAC3B,OAAOgd,GAAYL,EAAS3c,GAAMhK,OAAS,EAK7C,SAASgoB,GAAWC,GAClBA,EAAKtmB,UAAUuU,GAAK,SAASlM,EAAM3E,GAAI6Q,GAAG9U,KAAM4I,EAAM3E,IACtD4iB,EAAKtmB,UAAUslB,IAAM,SAASjd,EAAM3E,GAAI4hB,GAAI7lB,KAAM4I,EAAM3E,IAM1D,SAASwR,GAAiB7Q,GACpBA,EAAEuhB,eAAkBvhB,EAAEuhB,iBACnBvhB,EAAEkiB,aAAc,EAEzB,SAASC,GAAkBniB,GACrBA,EAAEoiB,gBAAmBpiB,EAAEoiB,kBACpBpiB,EAAEqiB,cAAe,EAE1B,SAASZ,GAAmBzhB,GAC1B,OAA6B,MAAtBA,EAAEwhB,iBAA2BxhB,EAAEwhB,iBAAoC,GAAjBxhB,EAAEkiB,YAE7D,SAAS/gB,GAAOnB,GAAI6Q,GAAiB7Q,GAAImiB,GAAkBniB,GAE3D,SAASsiB,GAAStiB,GAAI,OAAOA,EAAEkR,QAAUlR,EAAEuiB,WAC3C,SAASC,GAASxiB,GAChB,IAAI4Q,EAAI5Q,EAAEyiB,MAOV,OANS,MAAL7R,IACa,EAAX5Q,EAAE8P,OAAcc,EAAI,EACJ,EAAX5Q,EAAE8P,OAAcc,EAAI,EACT,EAAX5Q,EAAE8P,SAAcc,EAAI,IAE3BiH,GAAO7X,EAAE0iB,SAAgB,GAAL9R,IAAUA,EAAI,GAC/BA,EAIT,IAQI+R,GAeAC,GAvBAC,GAAc,WAGhB,GAAI/L,GAAMC,EAAa,EAAK,OAAO,EACnC,IAAI+L,EAAMjK,EAAI,OACd,MAAO,cAAeiK,GAAO,aAAcA,EAL3B,GASlB,SAASC,GAAiBC,GACxB,GAAqB,MAAjBL,GAAuB,CACzB,IAAI1iB,EAAO4Y,EAAI,OAAQ,KACvBF,EAAqBqK,EAASnK,EAAI,OAAQ,CAAC5Y,EAAM0B,SAASkC,eAAe,QAClC,GAAnCmf,EAAQtK,WAAWuK,eACnBN,GAAgB1iB,EAAKijB,aAAe,GAAKjjB,EAAKgjB,aAAe,KAAOnM,GAAMC,EAAa,IAE7F,IAAIsB,EAAOsK,GAAgB9J,EAAI,OAAQ,KACrCA,EAAI,OAAQ,IAAU,KAAM,yDAE9B,OADAR,EAAKW,aAAa,UAAW,IACtBX,EAKT,SAAS8K,GAAgBH,GACvB,GAAoB,MAAhBJ,GAAwB,OAAOA,GACnC,IAAIQ,EAAMzK,EAAqBqK,EAASrhB,SAASkC,eAAe,QAC5Dwf,EAAKzb,EAAMwb,EAAK,EAAG,GAAGrhB,wBACtBuhB,EAAK1b,EAAMwb,EAAK,EAAG,GAAGrhB,wBAE1B,OADAyW,EAAewK,MACVK,GAAMA,EAAG1a,MAAQ0a,EAAGza,SAClBga,GAAgBU,EAAG1a,MAAQya,EAAGza,MAAQ,GAK/C,IAAI2a,GAA+C,GAA9B,QAAQxpB,MAAM,MAAMC,OAAc,SAAUqD,GAC/D,IAAIH,EAAM,EAAGuV,EAAS,GAAI4C,EAAIhY,EAAOrD,OACrC,MAAOkD,GAAOmY,EAAG,CACf,IAAImO,EAAKnmB,EAAO0C,QAAQ,KAAM7C,IACnB,GAAPsmB,IAAYA,EAAKnmB,EAAOrD,QAC5B,IAAI0H,EAAOrE,EAAO2L,MAAM9L,EAA8B,MAAzBG,EAAOzC,OAAO4oB,EAAK,GAAaA,EAAK,EAAIA,GAClEC,EAAK/hB,EAAK3B,QAAQ,OACX,GAAP0jB,GACFhR,EAAO5K,KAAKnG,EAAKsH,MAAM,EAAGya,IAC1BvmB,GAAOumB,EAAK,IAEZhR,EAAO5K,KAAKnG,GACZxE,EAAMsmB,EAAK,GAGf,OAAO/Q,GACL,SAAUpV,GAAU,OAAOA,EAAOtD,MAAM,aAExC2pB,GAAe/U,OAAO5N,aAAe,SAAU4iB,GACjD,IAAM,OAAOA,EAAG3I,gBAAkB2I,EAAG1I,aACrC,MAAMjb,GAAK,OAAO,IAChB,SAAU2jB,GACZ,IAAI/b,EACJ,IAAKA,EAAQ+b,EAAGC,cAAcC,UAAUnK,cACxC,MAAM1Z,IACN,SAAK4H,GAASA,EAAMkc,iBAAmBH,IACe,GAA/C/b,EAAMmc,iBAAiB,aAAcnc,IAG1Coc,GAAe,WACjB,IAAIhkB,EAAI6Y,EAAI,OACZ,MAAI,WAAY7Y,IAChBA,EAAEgZ,aAAa,SAAU,WACC,mBAAZhZ,EAAEikB,QAJC,GAOfC,GAAiB,KACrB,SAASC,GAAkBnB,GACzB,GAAsB,MAAlBkB,GAA0B,OAAOA,GACrC,IAAI7L,EAAOM,EAAqBqK,EAASnK,EAAI,OAAQ,MACjDuL,EAAS/L,EAAKtW,wBACdsiB,EAAYzc,EAAMyQ,EAAM,EAAG,GAAGtW,wBAClC,OAAOmiB,GAAiB3pB,KAAK+pB,IAAIF,EAAOzb,KAAO0b,EAAU1b,MAAQ,EAInE,IAAI4b,GAAQ,GAAIC,GAAY,GAK5B,SAASC,GAAWjf,EAAMiB,GACpB/C,UAAU1J,OAAS,IACnByM,EAAKie,aAAetX,MAAMzR,UAAUqN,MAAM6I,KAAKnO,UAAW,IAC9D6gB,GAAM/e,GAAQiB,EAGhB,SAASke,GAAWC,EAAMC,GACxBL,GAAUI,GAAQC,EAKpB,SAASC,GAAYD,GACnB,GAAmB,iBAARA,GAAoBL,GAAUvP,eAAe4P,GACtDA,EAAOL,GAAUK,QACZ,GAAIA,GAA4B,iBAAbA,EAAKrf,MAAoBgf,GAAUvP,eAAe4P,EAAKrf,MAAO,CACtF,IAAIsY,EAAQ0G,GAAUK,EAAKrf,MACP,iBAATsY,IAAqBA,EAAQ,CAACtY,KAAMsY,IAC/C+G,EAAOlI,EAAUmB,EAAO+G,GACxBA,EAAKrf,KAAOsY,EAAMtY,SACb,IAAmB,iBAARqf,GAAoB,0BAA0B5kB,KAAK4kB,GACnE,OAAOC,GAAY,mBACd,GAAmB,iBAARD,GAAoB,2BAA2B5kB,KAAK4kB,GACpE,OAAOC,GAAY,oBAErB,MAAmB,iBAARD,EAA2B,CAACrf,KAAMqf,GAC/BA,GAAQ,CAACrf,KAAM,QAK/B,SAASuf,GAAQ7lB,EAAS2lB,GACxBA,EAAOC,GAAYD,GACnB,IAAIG,EAAWT,GAAMM,EAAKrf,MAC1B,IAAKwf,EAAY,OAAOD,GAAQ7lB,EAAS,cACzC,IAAI+lB,EAAUD,EAAS9lB,EAAS2lB,GAChC,GAAIK,GAAejQ,eAAe4P,EAAKrf,MAAO,CAC5C,IAAI2f,EAAOD,GAAeL,EAAKrf,MAC/B,IAAK,IAAIiV,KAAQ0K,EACVA,EAAKlQ,eAAewF,KACrBwK,EAAQhQ,eAAewF,KAASwK,EAAQ,IAAMxK,GAAQwK,EAAQxK,IAClEwK,EAAQxK,GAAQ0K,EAAK1K,IAKzB,GAFAwK,EAAQzf,KAAOqf,EAAKrf,KAChBqf,EAAKO,aAAcH,EAAQG,WAAaP,EAAKO,YAC7CP,EAAKQ,UAAa,IAAK,IAAIC,KAAUT,EAAKQ,UAC1CJ,EAAQK,GAAUT,EAAKQ,UAAUC,GAErC,OAAOL,EAKT,IAAIC,GAAiB,GACrB,SAASK,GAAW9e,EAAM+e,GACxB,IAAIL,EAAOD,GAAejQ,eAAexO,GAAQye,GAAeze,GAASye,GAAeze,GAAQ,GAChG8T,EAAQiL,EAAYL,GAGtB,SAASM,GAAUhf,EAAM1I,GACvB,IAAc,IAAVA,EAAkB,OAAOA,EAC7B,GAAI0I,EAAKgf,UAAa,OAAOhf,EAAKgf,UAAU1nB,GAC5C,IAAI2nB,EAAS,GACb,IAAK,IAAI5K,KAAK/c,EAAO,CACnB,IAAI0H,EAAM1H,EAAM+c,GACZrV,aAAe2H,QAAS3H,EAAMA,EAAIsb,OAAO,KAC7C2E,EAAO5K,GAAKrV,EAEd,OAAOigB,EAKT,SAASC,GAAUlf,EAAM1I,GACvB,IAAI6nB,EACJ,MAAOnf,EAAKkf,UAAW,CAErB,GADAC,EAAOnf,EAAKkf,UAAU5nB,IACjB6nB,GAAQA,EAAKnf,MAAQA,EAAQ,MAClC1I,EAAQ6nB,EAAK7nB,MACb0I,EAAOmf,EAAKnf,KAEd,OAAOmf,GAAQ,CAACnf,KAAMA,EAAM1I,MAAOA,GAGrC,SAAS8nB,GAAWpf,EAAMqf,EAAIC,GAC5B,OAAOtf,EAAKof,YAAapf,EAAKof,WAAWC,EAAIC,GAQ/C,IAAIC,GAAe,SAAS3oB,EAAQsd,EAASsL,GAC3C7qB,KAAK8B,IAAM9B,KAAKsJ,MAAQ,EACxBtJ,KAAKiC,OAASA,EACdjC,KAAKuf,QAAUA,GAAW,EAC1Bvf,KAAK8qB,cAAgB9qB,KAAK+qB,gBAAkB,EAC5C/qB,KAAKgrB,UAAY,EACjBhrB,KAAK6qB,WAAaA,GA2EpB,SAASI,GAAQC,EAAKxL,GAEpB,GADAA,GAAKwL,EAAIC,MACLzL,EAAI,GAAKA,GAAKwL,EAAIE,KAAQ,MAAM,IAAIhZ,MAAM,qBAAuBsN,EAAIwL,EAAIC,OAAS,qBACtF,IAAIE,EAAQH,EACZ,OAAQG,EAAMC,MACZ,IAAK,IAAIvsB,EAAI,KAAMA,EAAG,CACpB,IAAIwJ,EAAQ8iB,EAAME,SAASxsB,GAAIysB,EAAKjjB,EAAMkjB,YAC1C,GAAI/L,EAAI8L,EAAI,CAAEH,EAAQ9iB,EAAO,MAC7BmX,GAAK8L,EAGT,OAAOH,EAAMC,MAAM5L,GAKrB,SAASgM,GAAWR,EAAK5hB,EAAOyJ,GAC9B,IAAImO,EAAM,GAAIxB,EAAIpW,EAAMhD,KAQxB,OAPA4kB,EAAIS,KAAKriB,EAAMhD,KAAMyM,EAAIzM,KAAO,GAAG,SAAUA,GAC3C,IAAInD,EAAOmD,EAAKnD,KACZuc,GAAK3M,EAAIzM,OAAQnD,EAAOA,EAAKyK,MAAM,EAAGmF,EAAIvO,KAC1Ckb,GAAKpW,EAAMhD,OAAQnD,EAAOA,EAAKyK,MAAMtE,EAAM9E,KAC/C0c,EAAIzU,KAAKtJ,KACPuc,KAEGwB,EAGT,SAAS0K,GAASV,EAAKrjB,EAAMxB,GAC3B,IAAI6a,EAAM,GAEV,OADAgK,EAAIS,KAAK9jB,EAAMxB,GAAI,SAAUC,GAAQ4a,EAAIzU,KAAKnG,EAAKnD,SAC5C+d,EAKT,SAAS2K,GAAiBvlB,EAAMwlB,GAC9B,IAAIC,EAAOD,EAASxlB,EAAKwlB,OACzB,GAAIC,EAAQ,IAAK,IAAIrM,EAAIpZ,EAAMoZ,EAAGA,EAAIA,EAAElC,OAAUkC,EAAEoM,QAAUC,EAKhE,SAASC,GAAO1lB,GACd,GAAmB,MAAfA,EAAKkX,OAAkB,OAAO,KAElC,IADA,IAAI1R,EAAMxF,EAAKkX,OAAQyO,EAAKtnB,EAAQmH,EAAIwf,MAAOhlB,GACtC+kB,EAAQvf,EAAI0R,OAAQ6N,EAAOvf,EAAMuf,EAAOA,EAAQA,EAAM7N,OAC7D,IAAK,IAAIze,EAAI,KAAMA,EAAG,CACpB,GAAIssB,EAAME,SAASxsB,IAAM+M,EAAO,MAChCmgB,GAAMZ,EAAME,SAASxsB,GAAG0sB,YAG5B,OAAOQ,EAAKngB,EAAIqf,MAKlB,SAASe,GAAab,EAAOc,GAC3B,IAAIzM,EAAI2L,EAAMF,MACdiB,EAAO,EAAG,CACR,IAAK,IAAIvI,EAAM,EAAGA,EAAMwH,EAAME,SAAS3sB,SAAUilB,EAAK,CACpD,IAAItb,EAAQ8iB,EAAME,SAAS1H,GAAMrf,EAAK+D,EAAMujB,OAC5C,GAAIK,EAAI3nB,EAAI,CAAE6mB,EAAQ9iB,EAAO,SAAS6jB,EACtCD,GAAK3nB,EACLkb,GAAKnX,EAAMkjB,YAEb,OAAO/L,SACC2L,EAAMC,OAEhB,IADA,IAAIvsB,EAAI,EACDA,EAAIssB,EAAMC,MAAM1sB,SAAUG,EAAG,CAClC,IAAIuH,EAAO+kB,EAAMC,MAAMvsB,GAAIstB,EAAK/lB,EAAKwlB,OACrC,GAAIK,EAAIE,EAAM,MACdF,GAAKE,EAEP,OAAO3M,EAAI3gB,EAGb,SAASutB,GAAOpB,EAAKjR,GAAI,OAAOA,GAAKiR,EAAIC,OAASlR,EAAIiR,EAAIC,MAAQD,EAAIE,KAEtE,SAASmB,GAAczoB,EAAS/E,GAC9B,OAAOwZ,OAAOzU,EAAQ0oB,oBAAoBztB,EAAI+E,EAAQ2oB,kBAIxD,SAAShlB,GAAInB,EAAM9B,EAAIue,GAGrB,QAFgB,IAAXA,IAAoBA,EAAS,QAE5B/iB,gBAAgByH,IAAQ,OAAO,IAAIA,GAAInB,EAAM9B,EAAIue,GACvD/iB,KAAKsG,KAAOA,EACZtG,KAAKwE,GAAKA,EACVxE,KAAK+iB,OAASA,EAKhB,SAAS2J,GAAItO,EAAG5I,GAAK,OAAO4I,EAAE9X,KAAOkP,EAAElP,MAAQ8X,EAAE5Z,GAAKgR,EAAEhR,GAExD,SAASmoB,GAAevO,EAAG5I,GAAK,OAAO4I,EAAE2E,QAAUvN,EAAEuN,QAAuB,GAAb2J,GAAItO,EAAG5I,GAEtE,SAASoX,GAAQ3e,GAAI,OAAOxG,GAAIwG,EAAE3H,KAAM2H,EAAEzJ,IAC1C,SAASqoB,GAAOzO,EAAG5I,GAAK,OAAOkX,GAAItO,EAAG5I,GAAK,EAAIA,EAAI4I,EACnD,SAAS0O,GAAO1O,EAAG5I,GAAK,OAAOkX,GAAItO,EAAG5I,GAAK,EAAI4I,EAAI5I,EAInD,SAASuX,GAAS7B,EAAKxL,GAAI,OAAOvgB,KAAKgB,IAAI+qB,EAAIC,MAAOhsB,KAAKe,IAAIwf,EAAGwL,EAAIC,MAAQD,EAAIE,KAAO,IACzF,SAAS4B,GAAQ9B,EAAKppB,GACpB,GAAIA,EAAIwE,KAAO4kB,EAAIC,MAAS,OAAO1jB,GAAIyjB,EAAIC,MAAO,GAClD,IAAI8B,EAAO/B,EAAIC,MAAQD,EAAIE,KAAO,EAClC,OAAItpB,EAAIwE,KAAO2mB,EAAexlB,GAAIwlB,EAAMhC,GAAQC,EAAK+B,GAAM9pB,KAAKvE,QACzDsuB,GAAUprB,EAAKmpB,GAAQC,EAAKppB,EAAIwE,MAAMnD,KAAKvE,QAEpD,SAASsuB,GAAUprB,EAAKqrB,GACtB,IAAI3oB,EAAK1C,EAAI0C,GACb,OAAU,MAANA,GAAcA,EAAK2oB,EAAkB1lB,GAAI3F,EAAIwE,KAAM6mB,GAC9C3oB,EAAK,EAAYiD,GAAI3F,EAAIwE,KAAM,GAC1BxE,EAEhB,SAASsrB,GAAalC,EAAK/K,GAEzB,IADA,IAAIe,EAAM,GACDniB,EAAI,EAAGA,EAAIohB,EAAMvhB,OAAQG,IAAOmiB,EAAIniB,GAAKiuB,GAAQ9B,EAAK/K,EAAMphB,IACrE,OAAOmiB,EAjMT0J,GAAarqB,UAAU8sB,IAAM,WAAa,OAAOrtB,KAAK8B,KAAO9B,KAAKiC,OAAOrD,QACzEgsB,GAAarqB,UAAU+sB,IAAM,WAAa,OAAOttB,KAAK8B,KAAO9B,KAAKgrB,WAClEJ,GAAarqB,UAAUgtB,KAAO,WAAa,OAAOvtB,KAAKiC,OAAOzC,OAAOQ,KAAK8B,WAAQ8X,GAClFgR,GAAarqB,UAAU4M,KAAO,WAC5B,GAAInN,KAAK8B,IAAM9B,KAAKiC,OAAOrD,OACvB,OAAOoB,KAAKiC,OAAOzC,OAAOQ,KAAK8B,QAErC8oB,GAAarqB,UAAUitB,IAAM,SAAUzrB,GACrC,IACI0rB,EADAjpB,EAAKxE,KAAKiC,OAAOzC,OAAOQ,KAAK8B,KAIjC,GAFgC2rB,EAAZ,iBAAT1rB,EAA0ByC,GAAMzC,EAC/ByC,IAAOzC,EAAM8C,KAAO9C,EAAM8C,KAAKL,GAAMzC,EAAMyC,IACnDipB,EAAiB,QAAVztB,KAAK8B,IAAY0C,GAE9BomB,GAAarqB,UAAUmtB,SAAW,SAAU3rB,GAC1C,IAAIuH,EAAQtJ,KAAK8B,IACjB,MAAO9B,KAAKwtB,IAAIzrB,IAChB,OAAO/B,KAAK8B,IAAMwH,GAEpBshB,GAAarqB,UAAUotB,SAAW,WAChC,IAAIrkB,EAAQtJ,KAAK8B,IACjB,MAAO,aAAa+C,KAAK7E,KAAKiC,OAAOzC,OAAOQ,KAAK8B,QAAW9B,KAAK8B,IACjE,OAAO9B,KAAK8B,IAAMwH,GAEpBshB,GAAarqB,UAAU4B,UAAY,WAAanC,KAAK8B,IAAM9B,KAAKiC,OAAOrD,QACvEgsB,GAAarqB,UAAUqtB,OAAS,SAAUppB,GACxC,IAAIke,EAAQ1iB,KAAKiC,OAAO0C,QAAQH,EAAIxE,KAAK8B,KACzC,GAAI4gB,GAAS,EAAsB,OAAlB1iB,KAAK8B,IAAM4gB,GAAc,GAE5CkI,GAAarqB,UAAUstB,OAAS,SAAUnO,GAAI1f,KAAK8B,KAAO4d,GAC1DkL,GAAarqB,UAAUutB,OAAS,WAK9B,OAJI9tB,KAAK8qB,cAAgB9qB,KAAKsJ,QAC5BtJ,KAAK+qB,gBAAkBzL,EAAYtf,KAAKiC,OAAQjC,KAAKsJ,MAAOtJ,KAAKuf,QAASvf,KAAK8qB,cAAe9qB,KAAK+qB,iBACnG/qB,KAAK8qB,cAAgB9qB,KAAKsJ,OAErBtJ,KAAK+qB,iBAAmB/qB,KAAKgrB,UAAY1L,EAAYtf,KAAKiC,OAAQjC,KAAKgrB,UAAWhrB,KAAKuf,SAAW,IAE3GqL,GAAarqB,UAAUwtB,YAAc,WACnC,OAAOzO,EAAYtf,KAAKiC,OAAQ,KAAMjC,KAAKuf,UACxCvf,KAAKgrB,UAAY1L,EAAYtf,KAAKiC,OAAQjC,KAAKgrB,UAAWhrB,KAAKuf,SAAW,IAE/EqL,GAAarqB,UAAUwB,MAAQ,SAAUisB,EAASC,EAAS5sB,GACzD,GAAsB,iBAAX2sB,EAOJ,CACL,IAAIjsB,EAAQ/B,KAAKiC,OAAO2L,MAAM5N,KAAK8B,KAAKC,MAAMisB,GAC9C,OAAIjsB,GAASA,EAAMG,MAAQ,EAAY,MACnCH,IAAqB,IAAZksB,IAAqBjuB,KAAK8B,KAAOC,EAAM,GAAGnD,QAChDmD,GAVP,IAAImsB,EAAQ,SAAU5uB,GAAO,OAAO+B,EAAkB/B,EAAIwD,cAAgBxD,GACtEkb,EAASxa,KAAKiC,OAAOuY,OAAOxa,KAAK8B,IAAKksB,EAAQpvB,QAClD,GAAIsvB,EAAM1T,IAAW0T,EAAMF,GAEzB,OADgB,IAAZC,IAAqBjuB,KAAK8B,KAAOksB,EAAQpvB,SACtC,GASbgsB,GAAarqB,UAAU2c,QAAU,WAAY,OAAOld,KAAKiC,OAAO2L,MAAM5N,KAAKsJ,MAAOtJ,KAAK8B,MACvF8oB,GAAarqB,UAAU4tB,eAAiB,SAAUzO,EAAG0O,GACnDpuB,KAAKgrB,WAAatL,EAClB,IAAM,OAAO0O,IACb,QAAUpuB,KAAKgrB,WAAatL,IAE9BkL,GAAarqB,UAAU8tB,UAAY,SAAU3O,GAC3C,IAAI4O,EAAStuB,KAAK6qB,WAClB,OAAOyD,GAAUA,EAAOD,UAAU3O,IAEpCkL,GAAarqB,UAAUguB,UAAY,WACjC,IAAID,EAAStuB,KAAK6qB,WAClB,OAAOyD,GAAUA,EAAOC,UAAUvuB,KAAK8B,MAgIzC,IAAI0sB,GAAe,SAAS7rB,EAAO0rB,GACjCruB,KAAK2C,MAAQA,EACb3C,KAAKquB,UAAYA,GAGfI,GAAU,SAASvD,EAAKvoB,EAAO2D,EAAM+nB,GACvCruB,KAAK2C,MAAQA,EACb3C,KAAKkrB,IAAMA,EACXlrB,KAAKsG,KAAOA,EACZtG,KAAK0uB,aAAeL,GAAa,EACjCruB,KAAK2uB,WAAa,KAClB3uB,KAAK4uB,aAAe,GAwCtB,SAASC,GAAcnsB,EAAI4D,EAAMwoB,EAASC,GAGxC,IAAIC,EAAK,CAACtsB,EAAGC,MAAMssB,SAAUC,EAAc,GAE3CC,GAAQzsB,EAAI4D,EAAKnD,KAAMT,EAAGwoB,IAAI7f,KAAMyjB,GAAS,SAAU/b,EAAK9M,GAAS,OAAO+oB,EAAGviB,KAAKsG,EAAK9M,KACjFipB,EAAaH,GAkCrB,IAjCA,IAAIpsB,EAAQmsB,EAAQnsB,MAGhBysB,EAAO,SAAWC,GACpBP,EAAQH,WAAaK,EACrB,IAAIxsB,EAAUE,EAAGC,MAAM2sB,SAASD,GAAItwB,EAAI,EAAGgmB,EAAK,EAChD+J,EAAQnsB,OAAQ,EAChBwsB,GAAQzsB,EAAI4D,EAAKnD,KAAMX,EAAQ6I,KAAMyjB,GAAS,SAAU/b,EAAK9M,GAC3D,IAAIqD,EAAQvK,EAEZ,MAAOgmB,EAAKhS,EAAK,CACf,IAAIwc,EAAQP,EAAGjwB,GACXwwB,EAAQxc,GACRic,EAAGvU,OAAO1b,EAAG,EAAGgU,EAAKic,EAAGjwB,EAAE,GAAIwwB,GAClCxwB,GAAK,EACLgmB,EAAK5lB,KAAKe,IAAI6S,EAAKwc,GAErB,GAAKtpB,EACL,GAAIzD,EAAQgtB,OACVR,EAAGvU,OAAOnR,EAAOvK,EAAIuK,EAAOyJ,EAAK,WAAa9M,GAC9ClH,EAAIuK,EAAQ,OAEZ,KAAOA,EAAQvK,EAAGuK,GAAS,EAAG,CAC5B,IAAIwC,EAAMkjB,EAAG1lB,EAAM,GACnB0lB,EAAG1lB,EAAM,IAAMwC,EAAMA,EAAM,IAAM,IAAM,WAAa7F,KAGvDipB,GACHJ,EAAQnsB,MAAQA,EAChBmsB,EAAQH,WAAa,KACrBG,EAAQF,aAAe,GAGhBS,EAAI,EAAGA,EAAI3sB,EAAGC,MAAM2sB,SAAS1wB,SAAUywB,EAAGD,EAAMC,GAEzD,MAAO,CAACI,OAAQT,EAAIU,QAASR,EAAYS,SAAWT,EAAYU,UAAYV,EAAc,MAG5F,SAASW,GAAcntB,EAAI4D,EAAMwpB,GAC/B,IAAKxpB,EAAKmpB,QAAUnpB,EAAKmpB,OAAO,IAAM/sB,EAAGC,MAAMssB,QAAS,CACtD,IAAIH,EAAUiB,GAAiBrtB,EAAIspB,GAAO1lB,IACtC0pB,EAAa1pB,EAAKnD,KAAKvE,OAAS8D,EAAGoB,QAAQmsB,oBAAsB5F,GAAU3nB,EAAGwoB,IAAI7f,KAAMyjB,EAAQnsB,OAChG0U,EAASwX,GAAcnsB,EAAI4D,EAAMwoB,GACjCkB,IAAclB,EAAQnsB,MAAQqtB,GAClC1pB,EAAK4pB,WAAapB,EAAQqB,MAAMH,GAChC1pB,EAAKmpB,OAASpY,EAAOoY,OACjBpY,EAAOqY,QAAWppB,EAAK8pB,aAAe/Y,EAAOqY,QACxCppB,EAAK8pB,eAAgB9pB,EAAK8pB,aAAe,MAC9CN,IAAmBptB,EAAGwoB,IAAImF,oBAC1B3tB,EAAGwoB,IAAIoF,aAAenxB,KAAKgB,IAAIuC,EAAGwoB,IAAIoF,eAAgB5tB,EAAGwoB,IAAImF,oBAEnE,OAAO/pB,EAAKmpB,OAGd,SAASM,GAAiBrtB,EAAIgd,EAAG6Q,GAC/B,IAAIrF,EAAMxoB,EAAGwoB,IAAKzkB,EAAU/D,EAAG+D,QAC/B,IAAKykB,EAAI7f,KAAKof,WAAc,OAAO,IAAIgE,GAAQvD,GAAK,EAAMxL,GAC1D,IAAIpW,EAAQknB,GAAc9tB,EAAIgd,EAAG6Q,GAC7BE,EAAQnnB,EAAQ4hB,EAAIC,OAASF,GAAQC,EAAK5hB,EAAQ,GAAG4mB,WACrDpB,EAAU2B,EAAQhC,GAAQiC,UAAUxF,EAAKuF,EAAOnnB,GAAS,IAAImlB,GAAQvD,EAAKT,GAAWS,EAAI7f,MAAO/B,GASpG,OAPA4hB,EAAIS,KAAKriB,EAAOoW,GAAG,SAAUpZ,GAC3BqqB,GAAYjuB,EAAI4D,EAAKnD,KAAM2rB,GAC3B,IAAIhtB,EAAMgtB,EAAQxoB,KAClBA,EAAK4pB,WAAapuB,GAAO4d,EAAI,GAAK5d,EAAM,GAAK,GAAKA,GAAO2E,EAAQmqB,UAAY9uB,EAAM2E,EAAQoqB,OAAS/B,EAAQqB,OAAS,KACrHrB,EAAQgC,cAENP,IAAWrF,EAAIoF,aAAexB,EAAQxoB,MACnCwoB,EAMT,SAAS6B,GAAYjuB,EAAIS,EAAM2rB,EAASiC,GACtC,IAAI1lB,EAAO3I,EAAGwoB,IAAI7f,KACdzJ,EAAS,IAAIgpB,GAAaznB,EAAMT,EAAGoB,QAAQyb,QAASuP,GACxDltB,EAAO0H,MAAQ1H,EAAOE,IAAMivB,GAAW,EAC3B,IAAR5tB,GAAc6tB,GAAc3lB,EAAMyjB,EAAQnsB,OAC9C,OAAQf,EAAOyrB,MACb4D,GAAU5lB,EAAMzJ,EAAQktB,EAAQnsB,OAChCf,EAAO0H,MAAQ1H,EAAOE,IAI1B,SAASkvB,GAAc3lB,EAAM1I,GAC3B,GAAI0I,EAAK6lB,UAAa,OAAO7lB,EAAK6lB,UAAUvuB,GAC5C,GAAK0I,EAAKkf,UAAV,CACA,IAAI6D,EAAQ7D,GAAUlf,EAAM1I,GAC5B,OAAIyrB,EAAM/iB,KAAK6lB,UAAoB9C,EAAM/iB,KAAK6lB,UAAU9C,EAAMzrB,YAA9D,GAGF,SAASsuB,GAAU5lB,EAAMzJ,EAAQe,EAAOyrB,GACtC,IAAK,IAAIrvB,EAAI,EAAGA,EAAI,GAAIA,IAAK,CACvBqvB,IAASA,EAAM,GAAK7D,GAAUlf,EAAM1I,GAAO0I,MAC/C,IAAIpF,EAAQoF,EAAK1J,MAAMC,EAAQe,GAC/B,GAAIf,EAAOE,IAAMF,EAAO0H,MAAS,OAAOrD,EAE1C,MAAM,IAAImM,MAAM,QAAU/G,EAAKjB,KAAO,8BA9IxCqkB,GAAQluB,UAAU8tB,UAAY,SAAU3O,GACtC,IAAIpZ,EAAOtG,KAAKkrB,IAAID,QAAQjrB,KAAKsG,KAAOoZ,GAExC,OADY,MAARpZ,GAAgBoZ,EAAI1f,KAAK0uB,eAAgB1uB,KAAK0uB,aAAehP,GAC1DpZ,GAGTmoB,GAAQluB,UAAUguB,UAAY,SAAU7O,GACtC,IAAK1f,KAAK2uB,WAAc,OAAO,KAC/B,MAAO3uB,KAAK2uB,WAAW3uB,KAAK4uB,eAAiBlP,EACzC1f,KAAK4uB,cAAgB,EACzB,IAAIhmB,EAAO5I,KAAK2uB,WAAW3uB,KAAK4uB,aAAe,GAC/C,MAAO,CAAChmB,KAAMA,GAAQA,EAAKrH,QAAQ,kBAAmB,IAC9C6pB,KAAMprB,KAAK2uB,WAAW3uB,KAAK4uB,cAAgBlP,IAGrD+O,GAAQluB,UAAUuwB,SAAW,WAC3B9wB,KAAKsG,OACDtG,KAAK0uB,aAAe,GAAK1uB,KAAK0uB,gBAGpCD,GAAQiC,UAAY,SAAUxF,EAAKuF,EAAOnqB,GACxC,OAAImqB,aAAiBjC,GACV,IAAIC,GAAQvD,EAAKb,GAAUa,EAAI7f,KAAMolB,EAAM9tB,OAAQ2D,EAAMmqB,EAAMpC,WAE/D,IAAII,GAAQvD,EAAKb,GAAUa,EAAI7f,KAAMolB,GAAQnqB,IAG1DmoB,GAAQluB,UAAU4vB,KAAO,SAAUgB,GACjC,IAAIxuB,GAAiB,IAATwuB,EAAiB9G,GAAUrqB,KAAKkrB,IAAI7f,KAAMrL,KAAK2C,OAAS3C,KAAK2C,MACzE,OAAO3C,KAAK0uB,aAAe,EAAI,IAAIF,GAAa7rB,EAAO3C,KAAK0uB,cAAgB/rB,GAoH9E,IAAIyuB,GAAQ,SAASxvB,EAAQgH,EAAMjG,GACjC3C,KAAKsJ,MAAQ1H,EAAO0H,MAAOtJ,KAAK+S,IAAMnR,EAAOE,IAC7C9B,KAAKiC,OAASL,EAAOsb,UACrBld,KAAK4I,KAAOA,GAAQ,KACpB5I,KAAK2C,MAAQA,GAIf,SAAS0uB,GAAU3uB,EAAIZ,EAAKyuB,EAASe,GACnC,IAAmCrrB,EAA/BilB,EAAMxoB,EAAGwoB,IAAK7f,EAAO6f,EAAI7f,KAC7BvJ,EAAMkrB,GAAQ9B,EAAKppB,GACnB,IACuEyvB,EADnEjrB,EAAO2kB,GAAQC,EAAKppB,EAAIwE,MAAOwoB,EAAUiB,GAAiBrtB,EAAIZ,EAAIwE,KAAMiqB,GACxE3uB,EAAS,IAAIgpB,GAAatkB,EAAKnD,KAAMT,EAAGoB,QAAQyb,QAASuP,GACzDwC,IAAWC,EAAS,IACxB,OAAQD,GAAW1vB,EAAOE,IAAMA,EAAI0C,MAAQ5C,EAAOyrB,MACjDzrB,EAAO0H,MAAQ1H,EAAOE,IACtBmE,EAAQgrB,GAAU5lB,EAAMzJ,EAAQktB,EAAQnsB,OACpC2uB,GAAWC,EAAO9kB,KAAK,IAAI2kB,GAAMxvB,EAAQqE,EAAOokB,GAAUa,EAAI7f,KAAMyjB,EAAQnsB,SAElF,OAAO2uB,EAAUC,EAAS,IAAIH,GAAMxvB,EAAQqE,EAAO6oB,EAAQnsB,OAG7D,SAAS6uB,GAAmB5oB,EAAMoK,GAChC,GAAIpK,EAAQ,OAAS,CACnB,IAAI6oB,EAAY7oB,EAAK7G,MAAM,qCAC3B,IAAK0vB,EAAa,MAClB7oB,EAAOA,EAAKgF,MAAM,EAAG6jB,EAAUvvB,OAAS0G,EAAKgF,MAAM6jB,EAAUvvB,MAAQuvB,EAAU,GAAG7yB,QAClF,IAAIygB,EAAOoS,EAAU,GAAK,UAAY,YAClB,MAAhBze,EAAOqM,GACPrM,EAAOqM,GAAQoS,EAAU,GACnB,IAAKnwB,OAAO,YAAcmwB,EAAU,GAAK,aAAc5sB,KAAKmO,EAAOqM,MACzErM,EAAOqM,IAAS,IAAMoS,EAAU,IAEtC,OAAO7oB,EAIT,SAASumB,GAAQzsB,EAAIS,EAAMkI,EAAMyjB,EAAS7qB,EAAGirB,EAAaH,GACxD,IAAI2C,EAAermB,EAAKqmB,aACJ,MAAhBA,IAAwBA,EAAehvB,EAAGoB,QAAQ4tB,cACtD,IACkEzrB,EAD9D0rB,EAAW,EAAGC,EAAW,KACzBhwB,EAAS,IAAIgpB,GAAaznB,EAAMT,EAAGoB,QAAQyb,QAASuP,GACpDV,EAAQ1rB,EAAGoB,QAAQ+tB,cAAgB,CAAC,MAC5B,IAAR1uB,GAAcquB,GAAmBR,GAAc3lB,EAAMyjB,EAAQnsB,OAAQusB,GACzE,OAAQttB,EAAOyrB,MAAO,CASpB,GARIzrB,EAAOE,IAAMY,EAAGoB,QAAQmsB,oBAC1ByB,GAAe,EACX3C,GAAc4B,GAAYjuB,EAAIS,EAAM2rB,EAASltB,EAAOE,KACxDF,EAAOE,IAAMqB,EAAKvE,OAClBqH,EAAQ,MAERA,EAAQurB,GAAmBP,GAAU5lB,EAAMzJ,EAAQktB,EAAQnsB,MAAOyrB,GAAQc,GAExEd,EAAO,CACT,IAAI0D,EAAQ1D,EAAM,GAAGhkB,KACjB0nB,IAAS7rB,EAAQ,MAAQA,EAAQ6rB,EAAQ,IAAM7rB,EAAQ6rB,IAE7D,IAAKJ,GAAgBE,GAAY3rB,EAAO,CACtC,MAAO0rB,EAAW/vB,EAAO0H,MACvBqoB,EAAWxyB,KAAKe,IAAI0B,EAAO0H,MAAOqoB,EAAW,KAC7C1tB,EAAE0tB,EAAUC,GAEdA,EAAW3rB,EAEbrE,EAAO0H,MAAQ1H,EAAOE,IAExB,MAAO6vB,EAAW/vB,EAAOE,IAAK,CAI5B,IAAIA,EAAM3C,KAAKe,IAAI0B,EAAOE,IAAK6vB,EAAW,KAC1C1tB,EAAEnC,EAAK8vB,GACPD,EAAW7vB,GASf,SAAS0uB,GAAc9tB,EAAIgd,EAAG6Q,GAG5B,IAFA,IAAIwB,EAAWC,EAAS9G,EAAMxoB,EAAGwoB,IAC7B+G,EAAM1B,GAAW,EAAI7Q,GAAKhd,EAAGwoB,IAAI7f,KAAKkf,UAAY,IAAO,KACpD3nB,EAAS8c,EAAG9c,EAASqvB,IAAOrvB,EAAQ,CAC3C,GAAIA,GAAUsoB,EAAIC,MAAS,OAAOD,EAAIC,MACtC,IAAI7kB,EAAO2kB,GAAQC,EAAKtoB,EAAS,GAAIua,EAAQ7W,EAAK4pB,WAClD,GAAI/S,KAAWoT,GAAW3tB,GAAUua,aAAiBqR,GAAerR,EAAMkR,UAAY,IAAMnD,EAAIoF,cAC5F,OAAO1tB,EACX,IAAIsvB,EAAW5S,EAAYhZ,EAAKnD,KAAM,KAAMT,EAAGoB,QAAQyb,UACxC,MAAXyS,GAAmBD,EAAYG,KACjCF,EAAUpvB,EAAS,EACnBmvB,EAAYG,GAGhB,OAAOF,EAGT,SAASG,GAAgBjH,EAAKxL,GAE5B,GADAwL,EAAIoF,aAAenxB,KAAKe,IAAIgrB,EAAIoF,aAAc5Q,KAC1CwL,EAAImF,kBAAoB3Q,EAAI,IAAhC,CAEA,IADA,IAAIpW,EAAQ4hB,EAAIC,MACP7kB,EAAOoZ,EAAI,EAAGpZ,EAAOgD,EAAOhD,IAAQ,CAC3C,IAAImqB,EAAQxF,GAAQC,EAAK5kB,GAAM4pB,WAI/B,GAAIO,MAAYA,aAAiBjC,KAAiBloB,EAAOmqB,EAAMpC,UAAY3O,GAAI,CAC7EpW,EAAQhD,EAAO,EACf,OAGJ4kB,EAAImF,kBAAoBlxB,KAAKe,IAAIgrB,EAAImF,kBAAmB/mB,IAI1D,IAAI8oB,IAAmB,EAAOC,IAAoB,EAElD,SAASC,KACPF,IAAmB,EAGrB,SAASG,KACPF,IAAoB,EAKtB,SAASG,GAAWC,EAAQ5qB,EAAMxB,GAChCrG,KAAKyyB,OAASA,EACdzyB,KAAK6H,KAAOA,EAAM7H,KAAKqG,GAAKA,EAI9B,SAASqsB,GAAiBC,EAAOF,GAC/B,GAAIE,EAAS,IAAK,IAAI5zB,EAAI,EAAGA,EAAI4zB,EAAM/zB,SAAUG,EAAG,CAClD,IAAI6zB,EAAOD,EAAM5zB,GACjB,GAAI6zB,EAAKH,QAAUA,EAAU,OAAOG,GAMxC,SAASC,GAAiBF,EAAOC,GAE/B,IADA,IAAIpU,EACKzf,EAAI,EAAGA,EAAI4zB,EAAM/zB,SAAUG,EAC5B4zB,EAAM5zB,IAAM6zB,IAASpU,IAAMA,EAAI,KAAK/R,KAAKkmB,EAAM5zB,IACvD,OAAOyf,EAIT,SAASsU,GAAcxsB,EAAMssB,EAAMG,GACjC,IAAIC,EAAWD,GAAMxf,OAAO0f,UAAYF,EAAGG,cAAgBH,EAAGG,YAAc,IAAID,UAC5ED,GAAYA,EAASG,IAAI7sB,EAAK4sB,aAChC5sB,EAAK4sB,YAAYzmB,KAAKmmB,IAEtBtsB,EAAK4sB,YAAc5sB,EAAK4sB,YAAc5sB,EAAK4sB,YAAYvN,OAAO,CAACiN,IAAS,CAACA,GACrEI,GAAYA,EAASI,IAAI9sB,EAAK4sB,cAEpCN,EAAKH,OAAOY,WAAW/sB,GAOzB,SAASgtB,GAAkBhpB,EAAKipB,EAASC,GACvC,IAAIC,EACJ,GAAInpB,EAAO,IAAK,IAAIvL,EAAI,EAAGA,EAAIuL,EAAI1L,SAAUG,EAAG,CAC9C,IAAI6zB,EAAOtoB,EAAIvL,GAAI0zB,EAASG,EAAKH,OAC7BiB,EAA4B,MAAbd,EAAK/qB,OAAiB4qB,EAAOkB,cAAgBf,EAAK/qB,MAAQ0rB,EAAUX,EAAK/qB,KAAO0rB,GACnG,GAAIG,GAAgBd,EAAK/qB,MAAQ0rB,GAA0B,YAAfd,EAAO7pB,QAAwB4qB,IAAaZ,EAAKH,OAAOmB,YAAa,CAC/G,IAAIC,EAAuB,MAAXjB,EAAKvsB,KAAeosB,EAAOqB,eAAiBlB,EAAKvsB,IAAMktB,EAAUX,EAAKvsB,GAAKktB,IACzFE,IAAOA,EAAK,KAAKhnB,KAAK,IAAI+lB,GAAWC,EAAQG,EAAK/qB,KAAMgsB,EAAY,KAAOjB,EAAKvsB,MAGtF,OAAOotB,EAET,SAASM,GAAiBzpB,EAAK0pB,EAAOR,GACpC,IAAIC,EACJ,GAAInpB,EAAO,IAAK,IAAIvL,EAAI,EAAGA,EAAIuL,EAAI1L,SAAUG,EAAG,CAC9C,IAAI6zB,EAAOtoB,EAAIvL,GAAI0zB,EAASG,EAAKH,OAC7BoB,EAAuB,MAAXjB,EAAKvsB,KAAeosB,EAAOqB,eAAiBlB,EAAKvsB,IAAM2tB,EAAQpB,EAAKvsB,GAAK2tB,GACzF,GAAIH,GAAajB,EAAK/qB,MAAQmsB,GAAwB,YAAfvB,EAAO7pB,QAAwB4qB,GAAYZ,EAAKH,OAAOmB,YAAa,CACzG,IAAIF,EAA4B,MAAbd,EAAK/qB,OAAiB4qB,EAAOkB,cAAgBf,EAAK/qB,MAAQmsB,EAAQpB,EAAK/qB,KAAOmsB,IAC/FP,IAAOA,EAAK,KAAKhnB,KAAK,IAAI+lB,GAAWC,EAAQiB,EAAe,KAAOd,EAAK/qB,KAAOmsB,EAChC,MAAXpB,EAAKvsB,GAAa,KAAOusB,EAAKvsB,GAAK2tB,KAG7E,OAAOP,EAST,SAASQ,GAAuB/I,EAAKgJ,GACnC,GAAIA,EAAOC,KAAQ,OAAO,KAC1B,IAAIC,EAAW9H,GAAOpB,EAAKgJ,EAAOrsB,KAAKvB,OAAS2kB,GAAQC,EAAKgJ,EAAOrsB,KAAKvB,MAAM4sB,YAC3EmB,EAAU/H,GAAOpB,EAAKgJ,EAAO7tB,GAAGC,OAAS2kB,GAAQC,EAAKgJ,EAAO7tB,GAAGC,MAAM4sB,YAC1E,IAAKkB,IAAaC,EAAW,OAAO,KAEpC,IAAId,EAAUW,EAAOrsB,KAAKrD,GAAIwvB,EAAQE,EAAO7tB,GAAG7B,GAAIgvB,EAA0C,GAA/B9G,GAAIwH,EAAOrsB,KAAMqsB,EAAO7tB,IAEnF8kB,EAAQmI,GAAkBc,EAAUb,EAASC,GAC7CvG,EAAO8G,GAAiBM,EAASL,EAAOR,GAGxCc,EAAiC,GAAtBJ,EAAO/wB,KAAKvE,OAAa21B,EAAStT,EAAIiT,EAAO/wB,MAAMvE,QAAU01B,EAAWf,EAAU,GACjG,GAAIpI,EAEF,IAAK,IAAIpsB,EAAI,EAAGA,EAAIosB,EAAMvsB,SAAUG,EAAG,CACrC,IAAI6zB,EAAOzH,EAAMpsB,GACjB,GAAe,MAAX6zB,EAAKvsB,GAAY,CACnB,IAAIqc,EAAQgQ,GAAiBzF,EAAM2F,EAAKH,QACnC/P,EACI4R,IAAY1B,EAAKvsB,GAAiB,MAAZqc,EAAMrc,GAAa,KAAOqc,EAAMrc,GAAKkuB,GADtD3B,EAAKvsB,GAAKktB,GAK9B,GAAItG,EAEF,IAAK,IAAIpJ,EAAM,EAAGA,EAAMoJ,EAAKruB,SAAUilB,EAAK,CAC1C,IAAI2Q,EAASvH,EAAKpJ,GAElB,GADiB,MAAb2Q,EAAOnuB,KAAcmuB,EAAOnuB,IAAMkuB,GACnB,MAAfC,EAAO3sB,KAAc,CACvB,IAAI4sB,EAAU/B,GAAiBvH,EAAOqJ,EAAO/B,QACxCgC,IACHD,EAAO3sB,KAAO0sB,EACVD,IAAanJ,IAAUA,EAAQ,KAAK1e,KAAK+nB,SAG/CA,EAAO3sB,MAAQ0sB,EACXD,IAAanJ,IAAUA,EAAQ,KAAK1e,KAAK+nB,GAK/CrJ,IAASA,EAAQuJ,GAAgBvJ,IACjC8B,GAAQA,GAAQ9B,IAAS8B,EAAOyH,GAAgBzH,IAEpD,IAAI0H,EAAa,CAACxJ,GAClB,IAAKmJ,EAAU,CAEb,IAAkCM,EAA9BC,EAAMX,EAAO/wB,KAAKvE,OAAS,EAC/B,GAAIi2B,EAAM,GAAK1J,EACX,IAAK,IAAIrH,EAAM,EAAGA,EAAMqH,EAAMvsB,SAAUklB,EACjB,MAAjBqH,EAAMrH,GAAKzd,KACZuuB,IAAeA,EAAa,KAAKnoB,KAAK,IAAI+lB,GAAWrH,EAAMrH,GAAK2O,OAAQ,KAAM,OACvF,IAAK,IAAIzO,EAAM,EAAGA,EAAM6Q,IAAO7Q,EAC3B2Q,EAAWloB,KAAKmoB,GACpBD,EAAWloB,KAAKwgB,GAElB,OAAO0H,EAKT,SAASD,GAAgB/B,GACvB,IAAK,IAAI5zB,EAAI,EAAGA,EAAI4zB,EAAM/zB,SAAUG,EAAG,CACrC,IAAI6zB,EAAOD,EAAM5zB,GACA,MAAb6zB,EAAK/qB,MAAgB+qB,EAAK/qB,MAAQ+qB,EAAKvsB,KAAqC,IAA/BusB,EAAKH,OAAOqC,gBACzDnC,EAAMlY,OAAO1b,IAAK,GAExB,OAAK4zB,EAAM/zB,OACJ+zB,EADqB,KAK9B,SAASoC,GAAqB7J,EAAKrjB,EAAMxB,GACvC,IAAI2uB,EAAU,KAQd,GAPA9J,EAAIS,KAAK9jB,EAAKvB,KAAMD,EAAGC,KAAO,GAAG,SAAUA,GACzC,GAAIA,EAAK4sB,YAAe,IAAK,IAAIn0B,EAAI,EAAGA,EAAIuH,EAAK4sB,YAAYt0B,SAAUG,EAAG,CACxE,IAAIk2B,EAAO3uB,EAAK4sB,YAAYn0B,GAAG0zB,QAC3BwC,EAAKC,UAAcF,IAAsC,GAA3BrwB,EAAQqwB,EAASC,KAC9CD,IAAYA,EAAU,KAAKvoB,KAAKwoB,QAGpCD,EAAW,OAAO,KAEvB,IADA,IAAI7hB,EAAQ,CAAC,CAACtL,KAAMA,EAAMxB,GAAIA,IACrBtH,EAAI,EAAGA,EAAIi2B,EAAQp2B,SAAUG,EAEpC,IADA,IAAIo2B,EAAKH,EAAQj2B,GAAIgc,EAAIoa,EAAG3tB,KAAK,GACxB6c,EAAI,EAAGA,EAAIlR,EAAMvU,SAAUylB,EAAG,CACrC,IAAIxM,EAAI1E,EAAMkR,GACd,KAAIqI,GAAI7U,EAAExR,GAAI0U,EAAElT,MAAQ,GAAK6kB,GAAI7U,EAAEhQ,KAAMkT,EAAE1U,IAAM,GAAjD,CACA,IAAI+uB,EAAW,CAAC/Q,EAAG,GAAIgR,EAAQ3I,GAAI7U,EAAEhQ,KAAMkT,EAAElT,MAAOytB,EAAM5I,GAAI7U,EAAExR,GAAI0U,EAAE1U,KAClEgvB,EAAQ,IAAMF,EAAGxB,gBAAkB0B,IACnCD,EAAS3oB,KAAK,CAAC5E,KAAMgQ,EAAEhQ,KAAMxB,GAAI0U,EAAElT,QACnCytB,EAAM,IAAMH,EAAGrB,iBAAmBwB,IAClCF,EAAS3oB,KAAK,CAAC5E,KAAMkT,EAAE1U,GAAIA,GAAIwR,EAAExR,KACrC8M,EAAMsH,OAAOyE,MAAM/L,EAAOiiB,GAC1B/Q,GAAK+Q,EAASx2B,OAAS,GAG3B,OAAOuU,EAIT,SAASoiB,GAAkBjvB,GACzB,IAAIqsB,EAAQrsB,EAAK4sB,YACjB,GAAKP,EAAL,CACA,IAAK,IAAI5zB,EAAI,EAAGA,EAAI4zB,EAAM/zB,SAAUG,EAChC4zB,EAAM5zB,GAAG0zB,OAAO+C,WAAWlvB,GAC/BA,EAAK4sB,YAAc,MAErB,SAASuC,GAAkBnvB,EAAMqsB,GAC/B,GAAKA,EAAL,CACA,IAAK,IAAI5zB,EAAI,EAAGA,EAAI4zB,EAAM/zB,SAAUG,EAChC4zB,EAAM5zB,GAAG0zB,OAAOY,WAAW/sB,GAC/BA,EAAK4sB,YAAcP,GAKrB,SAAS+C,GAAUjD,GAAU,OAAOA,EAAOkB,eAAiB,EAAI,EAChE,SAASgC,GAAWlD,GAAU,OAAOA,EAAOqB,eAAiB,EAAI,EAKjE,SAAS8B,GAAwBxX,EAAG5I,GAClC,IAAIqgB,EAAUzX,EAAEkN,MAAM1sB,OAAS4W,EAAE8V,MAAM1sB,OACvC,GAAe,GAAXi3B,EAAgB,OAAOA,EAC3B,IAAIC,EAAO1X,EAAE5W,OAAQuuB,EAAOvgB,EAAEhO,OAC1BwuB,EAAUtJ,GAAIoJ,EAAKjuB,KAAMkuB,EAAKluB,OAAS6tB,GAAUtX,GAAKsX,GAAUlgB,GACpE,GAAIwgB,EAAW,OAAQA,EACvB,IAAIC,EAAQvJ,GAAIoJ,EAAKzvB,GAAI0vB,EAAK1vB,KAAOsvB,GAAWvX,GAAKuX,GAAWngB,GAChE,OAAIygB,GACGzgB,EAAEwK,GAAK5B,EAAE4B,GAKlB,SAASkW,GAAoB5vB,EAAMgD,GACjC,IAAiDoZ,EAA7CyT,EAAM9D,IAAqB/rB,EAAK4sB,YACpC,GAAIiD,EAAO,IAAK,IAAIC,OAAK,EAAUr3B,EAAI,EAAGA,EAAIo3B,EAAIv3B,SAAUG,EAC1Dq3B,EAAKD,EAAIp3B,GACLq3B,EAAG3D,OAAO4D,WAA0C,OAA5B/sB,EAAQ8sB,EAAGvuB,KAAOuuB,EAAG/vB,OAC3Cqc,GAASkT,GAAwBlT,EAAO0T,EAAG3D,QAAU,KACvD/P,EAAQ0T,EAAG3D,QAEjB,OAAO/P,EAET,SAAS4T,GAAqBhwB,GAAQ,OAAO4vB,GAAoB5vB,GAAM,GACvE,SAASiwB,GAAmBjwB,GAAQ,OAAO4vB,GAAoB5vB,GAAM,GAErE,SAASkwB,GAAoBlwB,EAAM9B,GACjC,IAAiDke,EAA7CyT,EAAM9D,IAAqB/rB,EAAK4sB,YACpC,GAAIiD,EAAO,IAAK,IAAIp3B,EAAI,EAAGA,EAAIo3B,EAAIv3B,SAAUG,EAAG,CAC9C,IAAIq3B,EAAKD,EAAIp3B,GACTq3B,EAAG3D,OAAO4D,YAAyB,MAAXD,EAAGvuB,MAAgBuuB,EAAGvuB,KAAOrD,KAAiB,MAAT4xB,EAAG/vB,IAAc+vB,EAAG/vB,GAAK7B,MACpFke,GAASkT,GAAwBlT,EAAO0T,EAAG3D,QAAU,KAAM/P,EAAQ0T,EAAG3D,QAE9E,OAAO/P,EAMT,SAAS+T,GAA0BvL,EAAKc,EAAQnkB,EAAMxB,EAAIosB,GACxD,IAAInsB,EAAO2kB,GAAQC,EAAKc,GACpBmK,EAAM9D,IAAqB/rB,EAAK4sB,YACpC,GAAIiD,EAAO,IAAK,IAAIp3B,EAAI,EAAGA,EAAIo3B,EAAIv3B,SAAUG,EAAG,CAC9C,IAAIq3B,EAAKD,EAAIp3B,GACb,GAAKq3B,EAAG3D,OAAO4D,UAAf,CACA,IAAI3T,EAAQ0T,EAAG3D,OAAOjrB,KAAK,GACvBwuB,EAAUtJ,GAAIhK,EAAM7a,KAAMA,IAAS6tB,GAAUU,EAAG3D,QAAUiD,GAAUjD,GACpEwD,EAAQvJ,GAAIhK,EAAMrc,GAAIA,IAAOsvB,GAAWS,EAAG3D,QAAUkD,GAAWlD,GACpE,KAAIuD,GAAW,GAAKC,GAAS,GAAKD,GAAW,GAAKC,GAAS,KACvDD,GAAW,IAAMI,EAAG3D,OAAOqB,gBAAkBrB,EAAOkB,cAAgBjH,GAAIhK,EAAMrc,GAAIwB,IAAS,EAAI6kB,GAAIhK,EAAMrc,GAAIwB,GAAQ,IACrHmuB,GAAW,IAAMI,EAAG3D,OAAOqB,gBAAkBrB,EAAOkB,cAAgBjH,GAAIhK,EAAM7a,KAAMxB,IAAO,EAAIqmB,GAAIhK,EAAM7a,KAAMxB,GAAM,IACrH,OAAO,IAQf,SAASqwB,GAAWpwB,GAClB,IAAIqwB,EACJ,MAAOA,EAASL,GAAqBhwB,GACjCA,EAAOqwB,EAAOnvB,MAAM,GAAG,GAAMlB,KACjC,OAAOA,EAGT,SAASswB,GAActwB,GACrB,IAAIqwB,EACJ,MAAOA,EAASJ,GAAmBjwB,GAC/BA,EAAOqwB,EAAOnvB,KAAK,GAAG,GAAMlB,KAChC,OAAOA,EAKT,SAASuwB,GAAoBvwB,GAC3B,IAAIqwB,EAAQrL,EACZ,MAAOqL,EAASJ,GAAmBjwB,GACjCA,EAAOqwB,EAAOnvB,KAAK,GAAG,GAAMlB,MAC1BglB,IAAUA,EAAQ,KAAK7e,KAAKnG,GAEhC,OAAOglB,EAKT,SAASwL,GAAa5L,EAAK6L,GACzB,IAAIzwB,EAAO2kB,GAAQC,EAAK6L,GAAQC,EAAMN,GAAWpwB,GACjD,OAAIA,GAAQ0wB,EAAcD,EACnB/K,GAAOgL,GAKhB,SAASC,GAAgB/L,EAAK6L,GAC5B,GAAIA,EAAQ7L,EAAIxjB,WAAc,OAAOqvB,EACrC,IAAgCJ,EAA5BrwB,EAAO2kB,GAAQC,EAAK6L,GACxB,IAAKG,GAAahM,EAAK5kB,GAAS,OAAOywB,EACvC,MAAOJ,EAASJ,GAAmBjwB,GAC/BA,EAAOqwB,EAAOnvB,KAAK,GAAG,GAAMlB,KAChC,OAAO0lB,GAAO1lB,GAAQ,EAMxB,SAAS4wB,GAAahM,EAAK5kB,GACzB,IAAI6vB,EAAM9D,IAAqB/rB,EAAK4sB,YACpC,GAAIiD,EAAO,IAAK,IAAIC,OAAK,EAAUr3B,EAAI,EAAGA,EAAIo3B,EAAIv3B,SAAUG,EAE1D,GADAq3B,EAAKD,EAAIp3B,GACJq3B,EAAG3D,OAAO4D,UAAf,CACA,GAAe,MAAXD,EAAGvuB,KAAgB,OAAO,EAC9B,IAAIuuB,EAAG3D,OAAO0E,YACC,GAAXf,EAAGvuB,MAAauuB,EAAG3D,OAAOkB,eAAiByD,GAAkBlM,EAAK5kB,EAAM8vB,GACxE,OAAO,GAGf,SAASgB,GAAkBlM,EAAK5kB,EAAMssB,GACpC,GAAe,MAAXA,EAAKvsB,GAAY,CACnB,IAAI0M,EAAM6f,EAAKH,OAAOjrB,KAAK,GAAG,GAC9B,OAAO4vB,GAAkBlM,EAAKnY,EAAIzM,KAAMosB,GAAiB3f,EAAIzM,KAAK4sB,YAAaN,EAAKH,SAEtF,GAAIG,EAAKH,OAAOqB,gBAAkBlB,EAAKvsB,IAAMC,EAAKnD,KAAKvE,OACnD,OAAO,EACX,IAAK,IAAIw3B,OAAK,EAAUr3B,EAAI,EAAGA,EAAIuH,EAAK4sB,YAAYt0B,SAAUG,EAE5D,GADAq3B,EAAK9vB,EAAK4sB,YAAYn0B,GAClBq3B,EAAG3D,OAAO4D,YAAcD,EAAG3D,OAAO0E,YAAcf,EAAGvuB,MAAQ+qB,EAAKvsB,KACtD,MAAT+vB,EAAG/vB,IAAc+vB,EAAG/vB,IAAMusB,EAAK/qB,QAC/BuuB,EAAG3D,OAAOkB,eAAiBf,EAAKH,OAAOqB,iBACxCsD,GAAkBlM,EAAK5kB,EAAM8vB,GAAO,OAAO,EAKnD,SAASiB,GAAaC,GACpBA,EAAUZ,GAAWY,GAGrB,IADA,IAAInL,EAAI,EAAGd,EAAQiM,EAAQ9Z,OAClBze,EAAI,EAAGA,EAAIssB,EAAMC,MAAM1sB,SAAUG,EAAG,CAC3C,IAAIuH,EAAO+kB,EAAMC,MAAMvsB,GACvB,GAAIuH,GAAQgxB,EAAW,MAChBnL,GAAK7lB,EAAKwlB,OAEnB,IAAK,IAAIjU,EAAIwT,EAAM7N,OAAQ3F,EAAGwT,EAAQxT,EAAGA,EAAIwT,EAAM7N,OACjD,IAAK,IAAIqG,EAAM,EAAGA,EAAMhM,EAAE0T,SAAS3sB,SAAUilB,EAAK,CAChD,IAAI/X,EAAM+L,EAAE0T,SAAS1H,GACrB,GAAI/X,GAAOuf,EAAS,MACbc,GAAKrgB,EAAIggB,OAGpB,OAAOK,EAMT,SAASoL,GAAWjxB,GAClB,GAAmB,GAAfA,EAAKwlB,OAAe,OAAO,EAC/B,IAA4B6K,EAAxBnmB,EAAMlK,EAAKnD,KAAKvE,OAAgBkN,EAAMxF,EAC1C,MAAOqwB,EAASL,GAAqBxqB,GAAM,CACzC,IAAI4W,EAAQiU,EAAOnvB,KAAK,GAAG,GAC3BsE,EAAM4W,EAAM7a,KAAKvB,KACjBkK,GAAOkS,EAAM7a,KAAKrD,GAAKke,EAAMrc,GAAG7B,GAElCsH,EAAMxF,EACN,MAAOqwB,EAASJ,GAAmBzqB,GAAM,CACvC,IAAI2oB,EAAUkC,EAAOnvB,KAAK,GAAG,GAC7BgJ,GAAO1E,EAAI3I,KAAKvE,OAAS61B,EAAQ5sB,KAAKrD,GACtCsH,EAAM2oB,EAAQpuB,GAAGC,KACjBkK,GAAO1E,EAAI3I,KAAKvE,OAAS61B,EAAQpuB,GAAG7B,GAEtC,OAAOgM,EAIT,SAASgnB,GAAY90B,GACnB,IAAI+0B,EAAI/0B,EAAG+D,QAASykB,EAAMxoB,EAAGwoB,IAC7BuM,EAAEC,QAAUzM,GAAQC,EAAKA,EAAIC,OAC7BsM,EAAEE,cAAgBJ,GAAWE,EAAEC,SAC/BD,EAAEG,gBAAiB,EACnB1M,EAAIS,MAAK,SAAUrlB,GACjB,IAAIkK,EAAM+mB,GAAWjxB,GACjBkK,EAAMinB,EAAEE,gBACVF,EAAEE,cAAgBnnB,EAClBinB,EAAEC,QAAUpxB,MASlB,IAAIuxB,GAAO,SAAS10B,EAAM+vB,EAAa4E,GACrC93B,KAAKmD,KAAOA,EACZsyB,GAAkBz1B,KAAMkzB,GACxBlzB,KAAK8rB,OAASgM,EAAiBA,EAAe93B,MAAQ,GASxD,SAAS+3B,GAAWzxB,EAAMnD,EAAM+vB,EAAa4E,GAC3CxxB,EAAKnD,KAAOA,EACRmD,EAAK4pB,aAAc5pB,EAAK4pB,WAAa,MACrC5pB,EAAKmpB,SAAUnpB,EAAKmpB,OAAS,MACf,MAAdnpB,EAAKmc,QAAiBnc,EAAKmc,MAAQ,MACvC8S,GAAkBjvB,GAClBmvB,GAAkBnvB,EAAM4sB,GACxB,IAAI8E,EAAYF,EAAiBA,EAAexxB,GAAQ,EACpD0xB,GAAa1xB,EAAKwlB,QAAUD,GAAiBvlB,EAAM0xB,GAIzD,SAASC,GAAY3xB,GACnBA,EAAKkX,OAAS,KACd+X,GAAkBjvB,GApBpBuxB,GAAKt3B,UAAUyrB,OAAS,WAAc,OAAOA,GAAOhsB,OACpD4mB,GAAWiR,IAyBX,IAAIK,GAAoB,GAAIC,GAA4B,GACxD,SAASC,GAAoBnyB,EAAOnC,GAClC,IAAKmC,GAAS,QAAQpB,KAAKoB,GAAU,OAAO,KAC5C,IAAIoyB,EAAQv0B,EAAQ+tB,aAAesG,GAA4BD,GAC/D,OAAOG,EAAMpyB,KACVoyB,EAAMpyB,GAASA,EAAM1E,QAAQ,OAAQ,UAQ1C,SAAS+2B,GAAiB51B,EAAI61B,GAI5B,IAAInhB,EAAUuG,EAAK,OAAQ,KAAM,KAAM9B,EAAS,sBAAwB,MACpE2c,EAAU,CAACC,IAAK9a,EAAK,MAAO,CAACvG,GAAU,mBAAoBA,QAASA,EACzDyJ,IAAK,EAAG/e,IAAK,EAAGY,GAAIA,EACpBg2B,eAAe,EACfC,YAAaj2B,EAAGuE,UAAU,iBACzCsxB,EAAS3Q,QAAU,GAGnB,IAAK,IAAI7oB,EAAI,EAAGA,IAAMw5B,EAASK,KAAOL,EAASK,KAAKh6B,OAAS,GAAIG,IAAK,CACpE,IAAIuH,EAAOvH,EAAIw5B,EAASK,KAAK75B,EAAI,GAAKw5B,EAASjyB,KAAMmc,OAAQ,EAC7D+V,EAAQ12B,IAAM,EACd02B,EAAQK,SAAWC,GAGf/Q,GAAgBrlB,EAAG+D,QAAQmhB,WAAanF,EAAQ4C,GAAS/e,EAAM5D,EAAGwoB,IAAIxH,cACtE8U,EAAQK,SAAWE,GAAkBP,EAAQK,SAAUpW,IAC3D+V,EAAQ35B,IAAM,GACd,IAAIm6B,EAAsBT,GAAY71B,EAAG+D,QAAQwyB,kBAAoBjN,GAAO1lB,GAC5E4yB,GAAkB5yB,EAAMkyB,EAAS3I,GAAcntB,EAAI4D,EAAM0yB,IACrD1yB,EAAK8pB,eACH9pB,EAAK8pB,aAAaT,UAClB6I,EAAQ7I,QAAUxR,EAAY7X,EAAK8pB,aAAaT,QAAS6I,EAAQ7I,SAAW,KAC5ErpB,EAAK8pB,aAAaR,YAClB4I,EAAQ5I,UAAYzR,EAAY7X,EAAK8pB,aAAaR,UAAW4I,EAAQ5I,WAAa,MAI9D,GAAtB4I,EAAQ35B,IAAID,QACZ45B,EAAQ35B,IAAI4N,KAAK,EAAG,EAAG+rB,EAAQphB,QAAQ5O,YAAYmf,GAAiBjlB,EAAG+D,QAAQmhB,WAG1E,GAAL7oB,GACFw5B,EAAS3Q,QAAQ/oB,IAAM25B,EAAQ35B,IAC/B05B,EAAS3Q,QAAQyQ,MAAQ,MAE9BE,EAAS3Q,QAAQuR,OAASZ,EAAS3Q,QAAQuR,KAAO,KAAK1sB,KAAK+rB,EAAQ35B,MAC7D05B,EAAS3Q,QAAQwR,SAAWb,EAAS3Q,QAAQwR,OAAS,KAAK3sB,KAAK,KAKtE,GAAIoP,EAAQ,CACV,IAAIoR,EAAOuL,EAAQphB,QAAQiiB,WACvB,aAAax0B,KAAKooB,EAAKvkB,YAAeukB,EAAKzmB,eAAiBymB,EAAKzmB,cAAc,cAC/EgyB,EAAQphB,QAAQ1O,UAAY,oBAOlC,OAJAsd,GAAOtjB,EAAI,aAAcA,EAAI61B,EAASjyB,KAAMkyB,EAAQC,KAChDD,EAAQC,IAAI/vB,YACZ8vB,EAAQ5I,UAAYzR,EAAYqa,EAAQC,IAAI/vB,UAAW8vB,EAAQ5I,WAAa,KAEzE4I,EAGT,SAASc,GAA8B90B,GACrC,IAAI7C,EAAQ8b,EAAI,OAAQ,IAAU,kBAGlC,OAFA9b,EAAM43B,MAAQ,MAAQ/0B,EAAG0N,WAAW,GAAGsE,SAAS,IAChD7U,EAAMic,aAAa,aAAcjc,EAAM43B,OAChC53B,EAKT,SAASm3B,GAAWN,EAASr1B,EAAM8C,EAAOuzB,EAAYC,EAAUC,EAAKC,GACnE,GAAKx2B,EAAL,CACA,IAEIiU,EAFAwiB,EAAcpB,EAAQG,YAAcA,GAAYx1B,EAAMq1B,EAAQE,eAAiBv1B,EAC/E02B,EAAUrB,EAAQ91B,GAAGC,MAAMm3B,aAAcC,GAAW,EAExD,GAAKF,EAAQh1B,KAAK1B,GAMX,CACLiU,EAAU7Q,SAAS6B,yBACnB,IAAItG,EAAM,EACV,MAAO,EAAM,CACX+3B,EAAQh4B,UAAYC,EACpB,IAAIiZ,EAAI8e,EAAQ73B,KAAKmB,GACjB2d,EAAU/F,EAAIA,EAAE7Y,MAAQJ,EAAMqB,EAAKvE,OAASkD,EAChD,GAAIgf,EAAS,CACX,IAAIkH,EAAMzhB,SAASkC,eAAemxB,EAAYhsB,MAAM9L,EAAKA,EAAMgf,IAC3DpF,GAAMC,EAAa,EAAKvE,EAAQ5O,YAAYiV,EAAI,OAAQ,CAACuK,KACtD5Q,EAAQ5O,YAAYwf,GAC3BwQ,EAAQ35B,IAAI4N,KAAK+rB,EAAQ12B,IAAK02B,EAAQ12B,IAAMgf,EAASkH,GACrDwQ,EAAQ3X,KAAOC,EACf0X,EAAQ12B,KAAOgf,EAEjB,IAAK/F,EAAK,MACVjZ,GAAOgf,EAAU,EACjB,IAAIkZ,OAAQ,EACZ,GAAY,MAARjf,EAAE,GAAY,CAChB,IAAIwE,EAAUiZ,EAAQ91B,GAAGoB,QAAQyb,QAAS0a,EAAW1a,EAAUiZ,EAAQ3X,IAAMtB,EAC7Eya,EAAQ5iB,EAAQ5O,YAAYiV,EAAI,OAAQuD,EAASiZ,GAAW,WAC5DD,EAAMpc,aAAa,OAAQ,gBAC3Boc,EAAMpc,aAAa,UAAW,MAC9B4a,EAAQ3X,KAAOoZ,MACE,MAARlf,EAAE,IAAsB,MAARA,EAAE,IAC3Bif,EAAQ5iB,EAAQ5O,YAAYiV,EAAI,OAAgB,MAAR1C,EAAE,GAAa,IAAW,IAAU,mBAC5Eif,EAAMpc,aAAa,UAAW7C,EAAE,IAChCyd,EAAQ3X,KAAO,IAEfmZ,EAAQxB,EAAQ91B,GAAGoB,QAAQo2B,uBAAuBnf,EAAE,IACpDif,EAAMpc,aAAa,UAAW7C,EAAE,IAC5BW,GAAMC,EAAa,EAAKvE,EAAQ5O,YAAYiV,EAAI,OAAQ,CAACuc,KACtD5iB,EAAQ5O,YAAYwxB,GAC3BxB,EAAQ3X,KAAO,GAEjB2X,EAAQ35B,IAAI4N,KAAK+rB,EAAQ12B,IAAK02B,EAAQ12B,IAAM,EAAGk4B,GAC/CxB,EAAQ12B,YAzCV02B,EAAQ3X,KAAO1d,EAAKvE,OACpBwY,EAAU7Q,SAASkC,eAAemxB,GAClCpB,EAAQ35B,IAAI4N,KAAK+rB,EAAQ12B,IAAK02B,EAAQ12B,IAAMqB,EAAKvE,OAAQwY,GACrDsE,GAAMC,EAAa,IAAKoe,GAAW,GACvCvB,EAAQ12B,KAAOqB,EAAKvE,OAyCtB,GADA45B,EAAQE,cAA2D,IAA3CkB,EAAY1nB,WAAW/O,EAAKvE,OAAS,GACzDqH,GAASuzB,GAAcC,GAAYM,GAAYL,GAAOC,EAAY,CACpE,IAAIQ,EAAYl0B,GAAS,GACrBuzB,IAAcW,GAAaX,GAC3BC,IAAYU,GAAaV,GAC7B,IAAI93B,EAAQ8b,EAAI,OAAQ,CAACrG,GAAU+iB,EAAWT,GAC9C,GAAIC,EACF,IAAK,IAAIS,KAAQT,EAAkBA,EAAW9f,eAAeugB,IAAiB,SAARA,GAA2B,SAARA,GACrFz4B,EAAMic,aAAawc,EAAMT,EAAWS,IAE1C,OAAO5B,EAAQphB,QAAQ5O,YAAY7G,GAErC62B,EAAQphB,QAAQ5O,YAAY4O,IAK9B,SAASuhB,GAAYx1B,EAAMk3B,GACzB,GAAIl3B,EAAKvE,OAAS,IAAM,KAAKiG,KAAK1B,GAAS,OAAOA,EAElD,IADA,IAAIm3B,EAAcD,EAAgBhjB,EAAS,GAClCtY,EAAI,EAAGA,EAAIoE,EAAKvE,OAAQG,IAAK,CACpC,IAAIyF,EAAKrB,EAAK3D,OAAOT,GACX,KAANyF,IAAa81B,GAAgBv7B,GAAKoE,EAAKvE,OAAS,GAA+B,IAA1BuE,EAAK+O,WAAWnT,EAAI,KACzEyF,EAAK,KACT6S,GAAU7S,EACV81B,EAAoB,KAAN91B,EAEhB,OAAO6S,EAKT,SAAS0hB,GAAkB3K,EAAO3L,GAChC,OAAO,SAAU+V,EAASr1B,EAAM8C,EAAOuzB,EAAYC,EAAUC,EAAKC,GAChE1zB,EAAQA,EAAQA,EAAQ,mBAAqB,kBAE7C,IADA,IAAIqD,EAAQkvB,EAAQ12B,IAAKiR,EAAMzJ,EAAQnG,EAAKvE,SACnC,CAGP,IADA,IAAI+jB,OAAO,EACF5jB,EAAI,EAAGA,EAAI0jB,EAAM7jB,OAAQG,IAEhC,GADA4jB,EAAOF,EAAM1jB,GACT4jB,EAAKtc,GAAKiD,GAASqZ,EAAK9a,MAAQyB,EAAS,MAE/C,GAAIqZ,EAAKtc,IAAM0M,EAAO,OAAOqb,EAAMoK,EAASr1B,EAAM8C,EAAOuzB,EAAYC,EAAUC,EAAKC,GACpFvL,EAAMoK,EAASr1B,EAAKyK,MAAM,EAAG+U,EAAKtc,GAAKiD,GAAQrD,EAAOuzB,EAAY,KAAME,EAAKC,GAC7EH,EAAa,KACbr2B,EAAOA,EAAKyK,MAAM+U,EAAKtc,GAAKiD,GAC5BA,EAAQqZ,EAAKtc,KAKnB,SAASk0B,GAAmB/B,EAASpN,EAAMqH,EAAQ+H,GACjD,IAAIC,GAAUD,GAAgB/H,EAAO0E,WACjCsD,GAAUjC,EAAQ35B,IAAI4N,KAAK+rB,EAAQ12B,IAAK02B,EAAQ12B,IAAMspB,EAAMqP,IAC3DD,GAAgBhC,EAAQ91B,GAAG+D,QAAQi0B,MAAMC,wBACvCF,IACDA,EAASjC,EAAQphB,QAAQ5O,YAAYjC,SAAS4B,cAAc,UAChEsyB,EAAO7c,aAAa,YAAa6U,EAAOzS,KAEtCya,IACFjC,EAAQ91B,GAAG+D,QAAQi0B,MAAME,cAAcH,GACvCjC,EAAQphB,QAAQ5O,YAAYiyB,IAE9BjC,EAAQ12B,KAAOspB,EACfoN,EAAQE,eAAgB,EAK1B,SAASQ,GAAkB5yB,EAAMkyB,EAAS/I,GACxC,IAAIkD,EAAQrsB,EAAK4sB,YAAa2H,EAAUv0B,EAAKnD,KAAM4hB,EAAK,EACxD,GAAK4N,EAQL,IAFA,IAAqD1sB,EAAOyzB,EACxCoB,EAAWC,EAAcC,EAAgB3E,EAAWsD,EADpEnpB,EAAMqqB,EAAQj8B,OAAQkD,EAAM,EAAG/C,EAAI,EAAGoE,EAAO,GAC7C83B,EAAa,IACR,CACP,GAAIA,GAAcn5B,EAAK,CACrBg5B,EAAYC,EAAeC,EAAiBtB,EAAM,GAClDC,EAAa,KACbtD,EAAY,KAAM4E,EAAaC,IAE/B,IADA,IAAIC,EAAiB,GAAIC,OAAY,EAC5B/W,EAAI,EAAGA,EAAIsO,EAAM/zB,SAAUylB,EAAG,CACrC,IAAI+R,EAAKzD,EAAMtO,GAAItJ,EAAIqb,EAAG3D,OAC1B,GAAc,YAAV1X,EAAEnS,MAAsBwtB,EAAGvuB,MAAQ/F,GAAOiZ,EAAEoc,WAC9CgE,EAAe1uB,KAAKsO,QACf,GAAIqb,EAAGvuB,MAAQ/F,IAAiB,MAATs0B,EAAG/vB,IAAc+vB,EAAG/vB,GAAKvE,GAAOiZ,EAAEsb,WAAaD,EAAG/vB,IAAMvE,GAAOs0B,EAAGvuB,MAAQ/F,GAAM,CAY5G,GAXa,MAATs0B,EAAG/vB,IAAc+vB,EAAG/vB,IAAMvE,GAAOm5B,EAAa7E,EAAG/vB,KACnD40B,EAAa7E,EAAG/vB,GAChB00B,EAAe,IAEbhgB,EAAErS,YAAaoyB,GAAa,IAAM/f,EAAErS,WACpCqS,EAAE2e,MAAOA,GAAOA,EAAMA,EAAM,IAAM,IAAM3e,EAAE2e,KAC1C3e,EAAEye,YAAcpD,EAAGvuB,MAAQ/F,IAAOk5B,GAAkB,IAAMjgB,EAAEye,YAC5Dze,EAAE0e,UAAYrD,EAAG/vB,IAAM40B,IAAeG,IAAcA,EAAY,KAAK3uB,KAAKsO,EAAE0e,SAAUrD,EAAG/vB,IAGzF0U,EAAEwe,SAAUI,IAAeA,EAAa,KAAKJ,MAAQxe,EAAEwe,OACvDxe,EAAE4e,WACJ,IAAK,IAAIS,KAAQrf,EAAE4e,YACdA,IAAeA,EAAa,KAAKS,GAAQrf,EAAE4e,WAAWS,GAEzDrf,EAAEsb,aAAeA,GAAaT,GAAwBS,EAAU5D,OAAQ1X,GAAK,KAC7Esb,EAAYD,QACPA,EAAGvuB,KAAO/F,GAAOm5B,EAAa7E,EAAGvuB,OAC1CozB,EAAa7E,EAAGvuB,MAGpB,GAAIuzB,EAAa,IAAK,IAAIvW,EAAM,EAAGA,EAAMuW,EAAUx8B,OAAQimB,GAAO,EAC1DuW,EAAUvW,EAAM,IAAMoW,IAAcF,GAAgB,IAAMK,EAAUvW,IAE5E,IAAKwR,GAAaA,EAAUxuB,MAAQ/F,EAAO,IAAK,IAAImjB,EAAM,EAAGA,EAAMkW,EAAev8B,SAAUqmB,EACxFsV,GAAmB/B,EAAS,EAAG2C,EAAelW,IAClD,GAAIoR,IAAcA,EAAUxuB,MAAQ,IAAM/F,EAAK,CAG7C,GAFAy4B,GAAmB/B,GAA0B,MAAhBnC,EAAUhwB,GAAamK,EAAM,EAAI6lB,EAAUhwB,IAAMvE,EAC3Du0B,EAAU5D,OAA0B,MAAlB4D,EAAUxuB,MAC3B,MAAhBwuB,EAAUhwB,GAAc,OACxBgwB,EAAUhwB,IAAMvE,IAAOu0B,GAAY,IAG3C,GAAIv0B,GAAO0O,EAAO,MAElB,IAAI6qB,EAAOl8B,KAAKe,IAAIsQ,EAAKyqB,GACzB,MAAO,EAAM,CACX,GAAI93B,EAAM,CACR,IAAI4P,EAAMjR,EAAMqB,EAAKvE,OACrB,IAAKy3B,EAAW,CACd,IAAIiF,EAAYvoB,EAAMsoB,EAAOl4B,EAAKyK,MAAM,EAAGytB,EAAOv5B,GAAOqB,EACzDq1B,EAAQK,SAASL,EAAS8C,EAAWr1B,EAAQA,EAAQ60B,EAAYA,EAChDE,EAAgBl5B,EAAMw5B,EAAU18B,QAAUq8B,EAAaF,EAAe,GAAIrB,EAAKC,GAElG,GAAI5mB,GAAOsoB,EAAM,CAACl4B,EAAOA,EAAKyK,MAAMytB,EAAOv5B,GAAMA,EAAMu5B,EAAM,MAC7Dv5B,EAAMiR,EACNioB,EAAiB,GAEnB73B,EAAO03B,EAAQjtB,MAAMmX,EAAIA,EAAK0K,EAAO1wB,MACrCkH,EAAQmyB,GAAoB3I,EAAO1wB,KAAMy5B,EAAQ91B,GAAGoB,eAnEtD,IAAK,IAAI+f,EAAM,EAAGA,EAAM4L,EAAO7wB,OAAQilB,GAAK,EACxC2U,EAAQK,SAASL,EAASqC,EAAQjtB,MAAMmX,EAAIA,EAAK0K,EAAO5L,IAAOuU,GAAoB3I,EAAO5L,EAAI,GAAI2U,EAAQ91B,GAAGoB,UA2ErH,SAASy3B,GAASrQ,EAAK5kB,EAAMywB,GAE3B/2B,KAAKsG,KAAOA,EAEZtG,KAAK44B,KAAO/B,GAAoBvwB,GAEhCtG,KAAKorB,KAAOprB,KAAK44B,KAAO5M,GAAO/K,EAAIjhB,KAAK44B,OAAS7B,EAAQ,EAAI,EAC7D/2B,KAAKid,KAAOjd,KAAKmD,KAAO,KACxBnD,KAAKw7B,OAAStE,GAAahM,EAAK5kB,GAIlC,SAASm1B,GAAe/4B,EAAImF,EAAMxB,GAEhC,IADA,IAAgBq1B,EAAZvb,EAAQ,GACHre,EAAM+F,EAAM/F,EAAMuE,EAAIvE,EAAM45B,EAAS,CAC5C,IAAIC,EAAO,IAAIJ,GAAS74B,EAAGwoB,IAAKD,GAAQvoB,EAAGwoB,IAAKppB,GAAMA,GACtD45B,EAAU55B,EAAM65B,EAAKvQ,KACrBjL,EAAM1T,KAAKkvB,GAEb,OAAOxb,EAGT,IAAIyb,GAAiB,KAErB,SAASC,GAAc9I,GACjB6I,GACFA,GAAeE,IAAIrvB,KAAKsmB,GAExBA,EAAGgJ,UAAYH,GAAiB,CAC9BE,IAAK,CAAC/I,GACNiJ,iBAAkB,IAKxB,SAASC,GAAoBC,GAG3B,IAAI7mB,EAAY6mB,EAAMF,iBAAkBj9B,EAAI,EAC5C,EAAG,CACD,KAAOA,EAAIsW,EAAUzW,OAAQG,IACzBsW,EAAUtW,GAAG0X,KAAK,MACtB,IAAK,IAAI4N,EAAI,EAAGA,EAAI6X,EAAMJ,IAAIl9B,OAAQylB,IAAK,CACzC,IAAI0O,EAAKmJ,EAAMJ,IAAIzX,GACnB,GAAI0O,EAAGrM,uBACH,MAAOqM,EAAGoJ,qBAAuBpJ,EAAGrM,uBAAuB9nB,OACzDm0B,EAAGrM,uBAAuBqM,EAAGoJ,wBAAwB1lB,KAAK,KAAMsc,EAAGrwB,WAEpE3D,EAAIsW,EAAUzW,QAGzB,SAASw9B,GAAgBrJ,EAAIsJ,GAC3B,IAAIH,EAAQnJ,EAAGgJ,UACf,GAAKG,EAEL,IAAMD,GAAoBC,GAC1B,QACEN,GAAiB,KACjBS,EAAMH,IAIV,IAAII,GAAyB,KAS7B,SAASC,GAAYhX,EAAS3c,GAC5B,IAAI8J,EAAMkT,GAAYL,EAAS3c,GAC/B,GAAK8J,EAAI9T,OAAT,CACA,IAAqD49B,EAAjDvd,EAAOjN,MAAMzR,UAAUqN,MAAM6I,KAAKnO,UAAW,GAC7CszB,GACFY,EAAOZ,GAAeI,iBACbM,GACTE,EAAOF,IAEPE,EAAOF,GAAyB,GAChC5mB,WAAW+mB,GAAmB,IAMhC,IAJA,IAAIrN,EAAO,SAAWrwB,GACpBy9B,EAAK/vB,MAAK,WAAc,OAAOiG,EAAI3T,GAAGmgB,MAAM,KAAMD,OAG3ClgB,EAAI,EAAGA,EAAI2T,EAAI9T,SAAUG,EAChCqwB,EAAMrwB,IAGV,SAAS09B,KACP,IAAIC,EAAUJ,GACdA,GAAyB,KACzB,IAAK,IAAIv9B,EAAI,EAAGA,EAAI29B,EAAQ99B,SAAUG,EAAK29B,EAAQ39B,KAMrD,SAAS49B,GAAqBj6B,EAAI61B,EAAUxB,EAAO6F,GACjD,IAAK,IAAIvY,EAAI,EAAGA,EAAIkU,EAASsE,QAAQj+B,OAAQylB,IAAK,CAChD,IAAIzb,EAAO2vB,EAASsE,QAAQxY,GAChB,QAARzb,EAAkBk0B,GAAep6B,EAAI61B,GACxB,UAAR3vB,EAAoBm0B,GAAiBr6B,EAAI61B,EAAUxB,EAAO6F,GAClD,SAARh0B,EAAmBo0B,GAAkBt6B,EAAI61B,GACjC,UAAR3vB,GAAoBq0B,GAAkBv6B,EAAI61B,EAAUqE,GAE/DrE,EAASsE,QAAU,KAKrB,SAASK,GAAkB3E,GAQzB,OAPIA,EAAStb,MAAQsb,EAASp1B,OAC5Bo1B,EAAStb,KAAOQ,EAAI,MAAO,KAAM,KAAM,sBACnC8a,EAASp1B,KAAKoR,YACdgkB,EAASp1B,KAAKoR,WAAW4oB,aAAa5E,EAAStb,KAAMsb,EAASp1B,MAClEo1B,EAAStb,KAAKzU,YAAY+vB,EAASp1B,MAC/BuY,GAAMC,EAAa,IAAK4c,EAAStb,KAAKhX,MAAMm3B,OAAS,IAEpD7E,EAAStb,KAGlB,SAASogB,GAAqB36B,EAAI61B,GAChC,IAAIvb,EAAMub,EAAS5I,QAAU4I,EAAS5I,QAAU,KAAO4I,EAASjyB,KAAKqpB,SAAW,IAAM4I,EAASjyB,KAAKqpB,QAEpG,GADI3S,IAAOA,GAAO,8BACdub,EAAS+E,WACPtgB,EAAOub,EAAS+E,WAAW50B,UAAYsU,GACpCub,EAAS+E,WAAW/oB,WAAWC,YAAY+jB,EAAS+E,YAAa/E,EAAS+E,WAAa,WACzF,GAAItgB,EAAK,CACd,IAAIrJ,EAAOupB,GAAkB3E,GAC7BA,EAAS+E,WAAa3pB,EAAK4pB,aAAa9f,EAAI,MAAO,KAAMT,GAAMrJ,EAAK2J,YACpE5a,EAAG+D,QAAQi0B,MAAME,cAAcrC,EAAS+E,aAM5C,SAASE,GAAe96B,EAAI61B,GAC1B,IAAIkF,EAAM/6B,EAAG+D,QAAQwyB,iBACrB,OAAIwE,GAAOA,EAAIn3B,MAAQiyB,EAASjyB,MAC9B5D,EAAG+D,QAAQwyB,iBAAmB,KAC9BV,EAAS3Q,QAAU6V,EAAI7V,QAChB6V,EAAIC,OAENpF,GAAiB51B,EAAI61B,GAM9B,SAASuE,GAAep6B,EAAI61B,GAC1B,IAAIvb,EAAMub,EAASp1B,KAAKuF,UACpBg1B,EAAQF,GAAe96B,EAAI61B,GAC3BA,EAASp1B,MAAQo1B,EAAStb,OAAQsb,EAAStb,KAAOygB,EAAMjF,KAC5DF,EAASp1B,KAAKoR,WAAW4oB,aAAaO,EAAMjF,IAAKF,EAASp1B,MAC1Do1B,EAASp1B,KAAOu6B,EAAMjF,IAClBiF,EAAM/N,SAAW4I,EAAS5I,SAAW+N,EAAM9N,WAAa2I,EAAS3I,WACnE2I,EAAS5I,QAAU+N,EAAM/N,QACzB4I,EAAS3I,UAAY8N,EAAM9N,UAC3BoN,GAAkBt6B,EAAI61B,IACbvb,IACTub,EAASp1B,KAAKuF,UAAYsU,GAI9B,SAASggB,GAAkBt6B,EAAI61B,GAC7B8E,GAAqB36B,EAAI61B,GACrBA,EAASjyB,KAAKq3B,UACdT,GAAkB3E,GAAU7vB,UAAY6vB,EAASjyB,KAAKq3B,UACjDpF,EAAStb,MAAQsb,EAASp1B,OAC/Bo1B,EAAStb,KAAKvU,UAAY,IAC9B,IAAIknB,EAAY2I,EAAS3I,UAAY2I,EAAS3I,UAAY,KAAO2I,EAASjyB,KAAKspB,WAAa,IAAM2I,EAASjyB,KAAKspB,UAChH2I,EAASp1B,KAAKuF,UAAYknB,GAAa,GAGzC,SAASmN,GAAiBr6B,EAAI61B,EAAUxB,EAAO6F,GAS7C,GARIrE,EAASqF,SACXrF,EAAStb,KAAKzI,YAAY+jB,EAASqF,QACnCrF,EAASqF,OAAS,MAEhBrF,EAASsF,mBACXtF,EAAStb,KAAKzI,YAAY+jB,EAASsF,kBACnCtF,EAASsF,iBAAmB,MAE1BtF,EAASjyB,KAAKw3B,YAAa,CAC7B,IAAInqB,EAAOupB,GAAkB3E,GAC7BA,EAASsF,iBAAmBpgB,EAAI,MAAO,KAAM,gCAAkC8a,EAASjyB,KAAKw3B,YAC5D,UAAYp7B,EAAGoB,QAAQi6B,YAAcnB,EAAKoB,UAAYpB,EAAKqB,kBAAoB,cAAiBrB,EAAqB,iBAAI,MAC1Jl6B,EAAG+D,QAAQi0B,MAAME,cAAcrC,EAASsF,kBACxClqB,EAAK4pB,aAAahF,EAASsF,iBAAkBtF,EAASp1B,MAExD,IAAI6xB,EAAUuD,EAASjyB,KAAK43B,cAC5B,GAAIx7B,EAAGoB,QAAQq6B,aAAenJ,EAAS,CACrC,IAAIoJ,EAASlB,GAAkB3E,GAC3B8F,EAAa9F,EAASqF,OAASngB,EAAI,MAAO,KAAM,4BAA8B,UAAY/a,EAAGoB,QAAQi6B,YAAcnB,EAAKoB,UAAYpB,EAAKqB,kBAAoB,MAWjK,GAVAI,EAAWzgB,aAAa,cAAe,QACvClb,EAAG+D,QAAQi0B,MAAME,cAAcyD,GAC/BD,EAAOb,aAAac,EAAY9F,EAASp1B,MACrCo1B,EAASjyB,KAAKw3B,cACdO,EAAW31B,WAAa,IAAM6vB,EAASjyB,KAAKw3B,cAC5Cp7B,EAAGoB,QAAQq6B,aAAiBnJ,GAAYA,EAAQ,4BAChDuD,EAAS+F,WAAaD,EAAW71B,YACjCiV,EAAI,MAAO8O,GAAc7pB,EAAGoB,QAASizB,GACjC,8CACC,SAAY6F,EAAK2B,WAAW,0BAA6B,cAAiB77B,EAAG+D,QAAyB,kBAAI,QAC/GuuB,EAAW,IAAK,IAAIwJ,EAAI,EAAGA,EAAI97B,EAAG+D,QAAQg4B,YAAY7/B,SAAU4/B,EAAG,CACrE,IAAIxe,EAAKtd,EAAG+D,QAAQg4B,YAAYD,GAAG91B,UAAWga,EAAQsS,EAAQnb,eAAemG,IAAOgV,EAAQhV,GACxF0C,GACA2b,EAAW71B,YAAYiV,EAAI,MAAO,CAACiF,GAAQ,wBACjB,SAAYka,EAAK2B,WAAWve,GAAO,cAAiB4c,EAAK8B,YAAY1e,GAAO,SAKhH,SAASid,GAAkBv6B,EAAI61B,EAAUqE,GACnCrE,EAASoG,YAAapG,EAASoG,UAAY,MAE/C,IADA,IAAIC,EAAW7hB,EAAU,yBAChBE,EAAOsb,EAAStb,KAAKK,WAAYnQ,OAAO,EAAU8P,EAAMA,EAAO9P,EACtEA,EAAO8P,EAAK4hB,YACRD,EAAS/5B,KAAKoY,EAAKvU,YAAc6vB,EAAStb,KAAKzI,YAAYyI,GAEjE6hB,GAAkBp8B,EAAI61B,EAAUqE,GAIlC,SAASmC,GAAiBr8B,EAAI61B,EAAUxB,EAAO6F,GAC7C,IAAIc,EAAQF,GAAe96B,EAAI61B,GAQ/B,OAPAA,EAASp1B,KAAOo1B,EAAStb,KAAOygB,EAAMjF,IAClCiF,EAAM/N,UAAW4I,EAAS5I,QAAU+N,EAAM/N,SAC1C+N,EAAM9N,YAAa2I,EAAS3I,UAAY8N,EAAM9N,WAElDoN,GAAkBt6B,EAAI61B,GACtBwE,GAAiBr6B,EAAI61B,EAAUxB,EAAO6F,GACtCkC,GAAkBp8B,EAAI61B,EAAUqE,GACzBrE,EAAStb,KAKlB,SAAS6hB,GAAkBp8B,EAAI61B,EAAUqE,GAEvC,GADAoC,GAAqBt8B,EAAI61B,EAASjyB,KAAMiyB,EAAUqE,GAAM,GACpDrE,EAASK,KAAQ,IAAK,IAAI75B,EAAI,EAAGA,EAAIw5B,EAASK,KAAKh6B,OAAQG,IAC3DigC,GAAqBt8B,EAAI61B,EAASK,KAAK75B,GAAIw5B,EAAUqE,GAAM,GAGjE,SAASoC,GAAqBt8B,EAAI4D,EAAMiyB,EAAUqE,EAAMqC,GACtD,GAAK34B,EAAK44B,QAEV,IADA,IAAIvrB,EAAOupB,GAAkB3E,GACpBx5B,EAAI,EAAGgQ,EAAKzI,EAAK44B,QAASngC,EAAIgQ,EAAGnQ,SAAUG,EAAG,CACrD,IAAI07B,EAAS1rB,EAAGhQ,GAAIke,EAAOQ,EAAI,MAAO,CAACgd,EAAOxd,MAAO,yBAA2Bwd,EAAO/xB,UAAY,IAAM+xB,EAAO/xB,UAAY,KACvH+xB,EAAO0E,mBAAqBliB,EAAKW,aAAa,mBAAoB,QACvEwhB,GAAmB3E,EAAQxd,EAAMsb,EAAUqE,GAC3Cl6B,EAAG+D,QAAQi0B,MAAME,cAAc3d,GAC3BgiB,GAAcxE,EAAO4E,MACrB1rB,EAAK4pB,aAAatgB,EAAMsb,EAASqF,QAAUrF,EAASp1B,MAEpDwQ,EAAKnL,YAAYyU,GACrBsf,GAAY9B,EAAQ,WAIxB,SAAS2E,GAAmB3E,EAAQxd,EAAMsb,EAAUqE,GAClD,GAAInC,EAAO6E,UAAW,EACvB/G,EAASoG,YAAcpG,EAASoG,UAAY,KAAKlyB,KAAKwQ,GACnD,IAAIsiB,EAAQ3C,EAAK4C,aACjBviB,EAAKhX,MAAMsH,KAAOqvB,EAAKoB,SAAW,KAC7BvD,EAAOgF,cACVF,GAAS3C,EAAKqB,iBACdhhB,EAAKhX,MAAMy5B,YAAc9C,EAAKqB,iBAAmB,MAEnDhhB,EAAKhX,MAAMs5B,MAAQA,EAAQ,KAEzB9E,EAAOgF,cACTxiB,EAAKhX,MAAMm3B,OAAS,EACpBngB,EAAKhX,MAAM05B,SAAW,WACjBlF,EAAO6E,YAAariB,EAAKhX,MAAM25B,YAAchD,EAAKqB,iBAAmB,OAI9E,SAAS4B,GAAapF,GACpB,GAAqB,MAAjBA,EAAO3O,OAAkB,OAAO2O,EAAO3O,OAC3C,IAAIppB,EAAK+3B,EAAOvP,IAAIxoB,GACpB,IAAKA,EAAM,OAAO,EAClB,IAAKmb,EAAStX,SAAS0X,KAAMwc,EAAOxd,MAAO,CACzC,IAAI6iB,EAAc,sBACdrF,EAAOgF,cACPK,GAAe,iBAAmBp9B,EAAG+D,QAAQs5B,QAAQjY,YAAc,OACnE2S,EAAO6E,YACPQ,GAAe,UAAYp9B,EAAG+D,QAAQC,QAAQs5B,YAAc,OAChEziB,EAAqB7a,EAAG+D,QAAQmhB,QAASnK,EAAI,MAAO,CAACgd,EAAOxd,MAAO,KAAM6iB,IAE3E,OAAOrF,EAAO3O,OAAS2O,EAAOxd,KAAK1I,WAAWsT,aAIhD,SAASoY,GAAcx5B,EAAS7B,GAC9B,IAAK,IAAI8a,EAAIwH,GAAStiB,GAAI8a,GAAKjZ,EAAQC,QAASgZ,EAAIA,EAAEnL,WACpD,IAAKmL,GAAoB,GAAdA,EAAE5B,UAAuD,QAAtC4B,EAAEwgB,aAAa,qBACxCxgB,EAAEnL,YAAc9N,EAAQ05B,OAASzgB,GAAKjZ,EAAQ25B,MAC/C,OAAO,EAMf,SAASC,GAAW55B,GAAU,OAAOA,EAAQ65B,UAAUC,UACvD,SAASC,GAAY/5B,GAAU,OAAOA,EAAQ25B,MAAMvY,aAAephB,EAAQ65B,UAAUzY,aACrF,SAAS4Y,GAASh6B,GAChB,GAAIA,EAAQi6B,eAAkB,OAAOj6B,EAAQi6B,eAC7C,IAAI97B,EAAI2Y,EAAqB9W,EAAQmhB,QAASnK,EAAI,MAAO,IAAK,yBAC1DxX,EAAQsN,OAAOotB,iBAAmBptB,OAAOotB,iBAAiB/7B,GAAKA,EAAEg8B,aACjE7wB,EAAO,CAACxC,KAAMszB,SAAS56B,EAAMy5B,aAAclyB,MAAOqzB,SAAS56B,EAAM66B,eAErE,OADKC,MAAMhxB,EAAKxC,OAAUwzB,MAAMhxB,EAAKvC,SAAU/G,EAAQi6B,eAAiB3wB,GACjEA,EAGT,SAASixB,GAAUt+B,GAAM,OAAO2d,EAAc3d,EAAG+D,QAAQw6B,eACzD,SAASC,GAAax+B,GACpB,OAAOA,EAAG+D,QAAQ06B,SAASnB,YAAcgB,GAAUt+B,GAAMA,EAAG+D,QAAQ26B,SAEtE,SAASC,GAAc3+B,GACrB,OAAOA,EAAG+D,QAAQ06B,SAASG,aAAeN,GAAUt+B,GAAMA,EAAG+D,QAAQ86B,UAOvE,SAASC,GAAkB9+B,EAAI61B,EAAUkJ,GACvC,IAAIC,EAAWh/B,EAAGoB,QAAQ69B,aACtBC,EAAWF,GAAYR,GAAax+B,GACxC,IAAK61B,EAAS3Q,QAAQia,SAAWH,GAAYnJ,EAAS3Q,QAAQ2X,OAASqC,EAAU,CAC/E,IAAIC,EAAUtJ,EAAS3Q,QAAQia,QAAU,GACzC,GAAIH,EAAU,CACZnJ,EAAS3Q,QAAQ2X,MAAQqC,EAEzB,IADA,IAAIE,EAAQvJ,EAASp1B,KAAKma,WAAWykB,iBAC5BhjC,EAAI,EAAGA,EAAI+iC,EAAMljC,OAAS,EAAGG,IAAK,CACzC,IAAI+M,EAAMg2B,EAAM/iC,GAAIoO,EAAO20B,EAAM/iC,EAAI,GACjCI,KAAK+pB,IAAIpd,EAAIjI,OAASsJ,EAAKtJ,QAAU,GACrCg+B,EAAQp1B,MAAMX,EAAIjI,OAASsJ,EAAKtG,KAAO,EAAI46B,EAAK56B,MAGxDg7B,EAAQp1B,KAAKg1B,EAAK59B,OAAS49B,EAAK56B,MAOpC,SAASm7B,GAAgBzJ,EAAUjyB,EAAMywB,GACvC,GAAIwB,EAASjyB,MAAQA,EACjB,MAAO,CAACzH,IAAK05B,EAAS3Q,QAAQ/oB,IAAKw5B,MAAOE,EAAS3Q,QAAQyQ,OAC/D,GAAIE,EAASK,KAAM,CACjB,IAAK,IAAI75B,EAAI,EAAGA,EAAIw5B,EAASK,KAAKh6B,OAAQG,IACtC,GAAIw5B,EAASK,KAAK75B,IAAMuH,EACtB,MAAO,CAACzH,IAAK05B,EAAS3Q,QAAQuR,KAAKp6B,GAAIs5B,MAAOE,EAAS3Q,QAAQwR,OAAOr6B,IAC5E,IAAK,IAAI8kB,EAAM,EAAGA,EAAM0U,EAASK,KAAKh6B,OAAQilB,IAC1C,GAAImI,GAAOuM,EAASK,KAAK/U,IAAQkT,EAC/B,MAAO,CAACl4B,IAAK05B,EAAS3Q,QAAQuR,KAAKtV,GAAMwU,MAAOE,EAAS3Q,QAAQwR,OAAOvV,GAAMc,QAAQ,IAMhG,SAASsd,GAA0Bv/B,EAAI4D,GACrCA,EAAOowB,GAAWpwB,GAClB,IAAIywB,EAAQ/K,GAAO1lB,GACfq1B,EAAOj5B,EAAG+D,QAAQwyB,iBAAmB,IAAIsC,GAAS74B,EAAGwoB,IAAK5kB,EAAMywB,GACpE4E,EAAK5E,MAAQA,EACb,IAAI2G,EAAQ/B,EAAK+B,MAAQpF,GAAiB51B,EAAIi5B,GAG9C,OAFAA,EAAKx4B,KAAOu6B,EAAMjF,IAClBlb,EAAqB7a,EAAG+D,QAAQy7B,YAAaxE,EAAMjF,KAC5CkD,EAKT,SAASwG,GAAYz/B,EAAI4D,EAAM9B,EAAI49B,GACjC,OAAOC,GAAoB3/B,EAAI4/B,GAAsB5/B,EAAI4D,GAAO9B,EAAI49B,GAItE,SAASG,GAAgB7/B,EAAIq0B,GAC3B,GAAIA,GAASr0B,EAAG+D,QAAQmqB,UAAYmG,EAAQr0B,EAAG+D,QAAQoqB,OACnD,OAAOnuB,EAAG+D,QAAQk1B,KAAK6G,GAAc9/B,EAAIq0B,IAC7C,IAAI0G,EAAM/6B,EAAG+D,QAAQwyB,iBACrB,OAAIwE,GAAO1G,GAAS0G,EAAI1G,OAASA,EAAQ0G,EAAI1G,MAAQ0G,EAAIrS,KAC9CqS,OADX,EASF,SAAS6E,GAAsB5/B,EAAI4D,GACjC,IAAIywB,EAAQ/K,GAAO1lB,GACfq1B,EAAO4G,GAAgB7/B,EAAIq0B,GAC3B4E,IAASA,EAAKx4B,KAChBw4B,EAAO,KACEA,GAAQA,EAAKkB,UACtBF,GAAqBj6B,EAAIi5B,EAAM5E,EAAO0L,GAAc//B,IACpDA,EAAG+jB,MAAMic,aAAc,GAEpB/G,IACDA,EAAOsG,GAA0Bv/B,EAAI4D,IAEzC,IAAIkkB,EAAOwX,GAAgBrG,EAAMr1B,EAAMywB,GACvC,MAAO,CACLzwB,KAAMA,EAAMq1B,KAAMA,EAAM8F,KAAM,KAC9B5iC,IAAK2rB,EAAK3rB,IAAKw5B,MAAO7N,EAAK6N,MAAO1T,OAAQ6F,EAAK7F,OAC/Cge,YAAY,GAMhB,SAASN,GAAoB3/B,EAAIkgC,EAAUp+B,EAAI49B,EAAMS,GAC/CD,EAASje,SAAUngB,GAAM,GAC7B,IAA6Bke,EAAzBra,EAAM7D,GAAM49B,GAAQ,IAaxB,OAZIQ,EAASvK,MAAMxe,eAAexR,GAChCqa,EAAQkgB,EAASvK,MAAMhwB,IAElBu6B,EAASnB,OACVmB,EAASnB,KAAOmB,EAASjH,KAAKx4B,KAAKwD,yBAClCi8B,EAASD,aACZnB,GAAkB9+B,EAAIkgC,EAASjH,KAAMiH,EAASnB,MAC9CmB,EAASD,YAAa,GAExBjgB,EAAQogB,GAAiBpgC,EAAIkgC,EAAUp+B,EAAI49B,GACtC1f,EAAMqgB,QAASH,EAASvK,MAAMhwB,GAAOqa,IAErC,CAACnV,KAAMmV,EAAMnV,KAAMC,MAAOkV,EAAMlV,MAC/B3G,IAAKg8B,EAAYngB,EAAMsgB,KAAOtgB,EAAM7b,IACpChD,OAAQg/B,EAAYngB,EAAMugB,QAAUvgB,EAAM7e,QAGpD,IAsbIq/B,GAtbAC,GAAW,CAAC51B,KAAM,EAAGC,MAAO,EAAG3G,IAAK,EAAGhD,OAAQ,GAEnD,SAASu/B,GAAuBvkC,EAAK2F,EAAI49B,GAIvC,IAHA,IAAInlB,EAAM3T,EAAOyJ,EAAK8L,EAAUwkB,EAAQC,EAG/BvkC,EAAI,EAAGA,EAAIF,EAAID,OAAQG,GAAK,EAcnC,GAbAskC,EAASxkC,EAAIE,GACbukC,EAAOzkC,EAAIE,EAAI,GACXyF,EAAK6+B,GACP/5B,EAAQ,EAAGyJ,EAAM,EACjB8L,EAAW,QACFra,EAAK8+B,GACdh6B,EAAQ9E,EAAK6+B,EACbtwB,EAAMzJ,EAAQ,IACLvK,GAAKF,EAAID,OAAS,GAAK4F,GAAM8+B,GAAQzkC,EAAIE,EAAI,GAAKyF,KAC3DuO,EAAMuwB,EAAOD,EACb/5B,EAAQyJ,EAAM,EACVvO,GAAM8+B,IAAQzkB,EAAW,UAElB,MAATvV,EAAe,CAIjB,GAHA2T,EAAOpe,EAAIE,EAAI,GACXskC,GAAUC,GAAQlB,IAASnlB,EAAK2W,WAAa,OAAS,WACtD/U,EAAWujB,GACH,QAARA,GAA2B,GAAT94B,EAClB,MAAOvK,GAAKF,EAAIE,EAAI,IAAMF,EAAIE,EAAI,IAAMF,EAAIE,EAAI,GAAG60B,WACnD3W,EAAOpe,EAAe,GAAVE,GAAK,IACjB8f,EAAW,OAEf,GAAY,SAARujB,GAAmB94B,GAASg6B,EAAOD,EACnC,MAAOtkC,EAAIF,EAAID,OAAS,GAAKC,EAAIE,EAAI,IAAMF,EAAIE,EAAI,KAAOF,EAAIE,EAAI,GAAG60B,WACrE3W,EAAOpe,GAAKE,GAAK,GAAK,GACtB8f,EAAW,QAEf,MAGJ,MAAO,CAAC5B,KAAMA,EAAM3T,MAAOA,EAAOyJ,IAAKA,EAAK8L,SAAUA,EAAU0kB,WAAYF,EAAQG,SAAUF,GAGhG,SAASG,GAAc3B,EAAOM,GAC5B,IAAIX,EAAO0B,GACX,GAAY,QAARf,GAAkB,IAAK,IAAIrjC,EAAI,EAAGA,EAAI+iC,EAAMljC,OAAQG,IACtD,IAAK0iC,EAAOK,EAAM/iC,IAAIwO,MAAQk0B,EAAKj0B,MAAS,WACnC,IAAK,IAAIqW,EAAMie,EAAMljC,OAAS,EAAGilB,GAAO,EAAGA,IACpD,IAAK4d,EAAOK,EAAMje,IAAMtW,MAAQk0B,EAAKj0B,MAAS,MAEhD,OAAOi0B,EAGT,SAASqB,GAAiBpgC,EAAIkgC,EAAUp+B,EAAI49B,GAC1C,IAGIX,EAHAiC,EAAQN,GAAuBR,EAAS/jC,IAAK2F,EAAI49B,GACjDnlB,EAAOymB,EAAMzmB,KAAM3T,EAAQo6B,EAAMp6B,MAAOyJ,EAAM2wB,EAAM3wB,IAAK8L,EAAW6kB,EAAM7kB,SAG9E,GAAqB,GAAjB5B,EAAKa,SAAe,CACtB,IAAK,IAAI+F,EAAM,EAAGA,EAAM,EAAGA,IAAO,CAChC,MAAOva,GAAS2Y,GAAgB2gB,EAASt8B,KAAKnD,KAAK3D,OAAOkkC,EAAMH,WAAaj6B,MAAaA,EAC1F,MAAOo6B,EAAMH,WAAaxwB,EAAM2wB,EAAMF,UAAYvhB,GAAgB2gB,EAASt8B,KAAKnD,KAAK3D,OAAOkkC,EAAMH,WAAaxwB,MAAWA,EAK1H,GAHI0uB,EADA/lB,GAAMC,EAAa,GAAc,GAATrS,GAAcyJ,GAAO2wB,EAAMF,SAAWE,EAAMH,WAC7DtmB,EAAK1I,WAAW5N,wBAEhB88B,GAAcj3B,EAAMyQ,EAAM3T,EAAOyJ,GAAKgvB,iBAAkBK,GAC/DX,EAAKl0B,MAAQk0B,EAAKj0B,OAAkB,GAATlE,EAAc,MAC7CyJ,EAAMzJ,EACNA,GAAgB,EAChBuV,EAAW,QAETnD,GAAMC,EAAa,KAAM8lB,EAAOkC,GAA0BjhC,EAAG+D,QAAQmhB,QAAS6Z,QAC7E,CAEL,IAAIK,EADAx4B,EAAQ,IAAKuV,EAAWujB,EAAO,SAG/BX,EADA/+B,EAAGoB,QAAQ69B,eAAiBG,EAAQ7kB,EAAK8kB,kBAAkBnjC,OAAS,EAC7DkjC,EAAc,SAARM,EAAkBN,EAAMljC,OAAS,EAAI,GAE3Cqe,EAAKtW,wBAElB,GAAI+U,GAAMC,EAAa,IAAMrS,KAAWm4B,IAASA,EAAKl0B,OAASk0B,EAAKj0B,OAAQ,CAC1E,IAAIo2B,EAAQ3mB,EAAK1I,WAAWwtB,iBAAiB,GAEzCN,EADAmC,EACO,CAACr2B,KAAMq2B,EAAMr2B,KAAMC,MAAOo2B,EAAMr2B,KAAOs2B,GAAUnhC,EAAG+D,SAAUI,IAAK+8B,EAAM/8B,IAAKhD,OAAQ+/B,EAAM//B,QAE5Fs/B,GAOb,IAJA,IAAIH,EAAOvB,EAAK56B,IAAM+7B,EAASnB,KAAK56B,IAAKi9B,EAAOrC,EAAK59B,OAAS++B,EAASnB,KAAK56B,IACxEyb,GAAO0gB,EAAOc,GAAQ,EACtBjC,EAAUe,EAASjH,KAAK/T,QAAQia,QAChC9iC,EAAI,EACDA,EAAI8iC,EAAQjjC,OAAS,EAAGG,IAC3B,GAAIujB,EAAMuf,EAAQ9iC,GAAM,MAC5B,IAAI8H,EAAM9H,EAAI8iC,EAAQ9iC,EAAI,GAAK,EAAGglC,EAAMlC,EAAQ9iC,GAC5CsY,EAAS,CAAC9J,MAAmB,SAAZsR,EAAsB4iB,EAAKj0B,MAAQi0B,EAAKl0B,MAAQq1B,EAASnB,KAAKl0B,KACrEC,OAAoB,QAAZqR,EAAqB4iB,EAAKl0B,KAAOk0B,EAAKj0B,OAASo1B,EAASnB,KAAKl0B,KACrE1G,IAAKA,EAAKhD,OAAQkgC,GAIhC,OAHKtC,EAAKl0B,MAASk0B,EAAKj0B,QAAS6J,EAAO0rB,OAAQ,GAC3CrgC,EAAGoB,QAAQkgC,4BAA6B3sB,EAAO2rB,KAAOA,EAAM3rB,EAAO4rB,QAAUa,GAE3EzsB,EAKT,SAASssB,GAA0B/b,EAAS6Z,GAC1C,IAAKluB,OAAO0wB,QAAgC,MAAtBA,OAAOC,aACzBD,OAAOC,aAAeD,OAAOE,aAAepb,GAAkBnB,GAC9D,OAAO6Z,EACX,IAAI2C,EAASH,OAAOC,YAAcD,OAAOE,WACrCE,EAASJ,OAAOK,YAAcL,OAAOM,WACzC,MAAO,CAACh3B,KAAMk0B,EAAKl0B,KAAO62B,EAAQ52B,MAAOi0B,EAAKj0B,MAAQ42B,EAC9Cv9B,IAAK46B,EAAK56B,IAAMw9B,EAAQxgC,OAAQ49B,EAAK59B,OAASwgC,GAGxD,SAASG,GAA6BjM,GACpC,GAAIA,EAAS3Q,UACX2Q,EAAS3Q,QAAQyQ,MAAQ,GACzBE,EAAS3Q,QAAQia,QAAU,KACvBtJ,EAASK,MAAQ,IAAK,IAAI75B,EAAI,EAAGA,EAAIw5B,EAASK,KAAKh6B,OAAQG,IAC3Dw5B,EAAS3Q,QAAQwR,OAAOr6B,GAAK,GAIrC,SAAS0lC,GAA0B/hC,GACjCA,EAAG+D,QAAQi+B,gBAAkB,KAC7BtnB,EAAe1a,EAAG+D,QAAQy7B,aAC1B,IAAK,IAAInjC,EAAI,EAAGA,EAAI2D,EAAG+D,QAAQk1B,KAAK/8B,OAAQG,IACxCylC,GAA6B9hC,EAAG+D,QAAQk1B,KAAK58B,IAGnD,SAAS4lC,GAAYjiC,GACnB+hC,GAA0B/hC,GAC1BA,EAAG+D,QAAQm+B,gBAAkBliC,EAAG+D,QAAQo+B,iBAAmBniC,EAAG+D,QAAQi6B,eAAiB,KAClFh+B,EAAGoB,QAAQ69B,eAAgBj/B,EAAG+D,QAAQmxB,gBAAiB,GAC5Dl1B,EAAG+D,QAAQq+B,aAAe,KAG5B,SAASC,KAIP,OAAIhpB,GAAUQ,IAAoBhW,SAAS0X,KAAKtX,wBAAwB4G,KAAOszB,SAASF,iBAAiBp6B,SAAS0X,MAAM2hB,aACjHrsB,OAAOyxB,cAAgBz+B,SAAS0+B,iBAAmB1+B,SAAS0X,MAAMinB,WAE3E,SAASC,KACP,OAAIppB,GAAUQ,IAAoBhW,SAAS0X,KAAKtX,wBAAwBE,IAAMg6B,SAASF,iBAAiBp6B,SAAS0X,MAAMmnB,YAChH7xB,OAAO8xB,cAAgB9+B,SAAS0+B,iBAAmB1+B,SAAS0X,MAAMqnB,UAG3E,SAASC,GAAgBjO,GACvB,IAAIxL,EAAS,EACb,GAAIwL,EAAQ4H,QAAW,IAAK,IAAIngC,EAAI,EAAGA,EAAIu4B,EAAQ4H,QAAQtgC,SAAUG,EAASu4B,EAAQ4H,QAAQngC,GAAGsgC,QAC7FvT,GAAU+T,GAAavI,EAAQ4H,QAAQngC,KAC3C,OAAO+sB,EAOT,SAAS0Z,GAAgB9iC,EAAI40B,EAASmK,EAAM3S,EAAS2W,GACnD,IAAKA,EAAgB,CACnB,IAAI3Z,EAASyZ,GAAgBjO,GAC7BmK,EAAK56B,KAAOilB,EAAQ2V,EAAK59B,QAAUioB,EAErC,GAAe,QAAXgD,EAAqB,OAAO2S,EAC3B3S,IAAWA,EAAU,SAC1B,IAAI4W,EAAOrO,GAAaC,GAGxB,GAFe,SAAXxI,EAAsB4W,GAAQrF,GAAW39B,EAAG+D,SACzCi/B,GAAQhjC,EAAG+D,QAAQk/B,WACX,QAAX7W,GAAgC,UAAXA,EAAqB,CAC5C,IAAI8W,EAAOljC,EAAG+D,QAAQ65B,UAAU35B,wBAChC++B,GAAQE,EAAK/+B,KAAkB,UAAXioB,EAAsB,EAAIqW,MAC9C,IAAIU,EAAOD,EAAKr4B,MAAmB,UAAXuhB,EAAsB,EAAIiW,MAClDtD,EAAKl0B,MAAQs4B,EAAMpE,EAAKj0B,OAASq4B,EAGnC,OADApE,EAAK56B,KAAO6+B,EAAMjE,EAAK59B,QAAU6hC,EAC1BjE,EAKT,SAASqE,GAAgBpjC,EAAIqjC,EAAQjX,GACnC,GAAe,OAAXA,EAAoB,OAAOiX,EAC/B,IAAIx4B,EAAOw4B,EAAOx4B,KAAM1G,EAAMk/B,EAAOl/B,IAErC,GAAe,QAAXioB,EACFvhB,GAAQw3B,KACRl+B,GAAOs+B,UACF,GAAe,SAAXrW,IAAuBA,EAAS,CACzC,IAAIkX,EAAWtjC,EAAG+D,QAAQ05B,MAAMx5B,wBAChC4G,GAAQy4B,EAASz4B,KACjB1G,GAAOm/B,EAASn/B,IAGlB,IAAIo/B,EAAevjC,EAAG+D,QAAQ65B,UAAU35B,wBACxC,MAAO,CAAC4G,KAAMA,EAAO04B,EAAa14B,KAAM1G,IAAKA,EAAMo/B,EAAap/B,KAGlE,SAASq/B,GAAWxjC,EAAIZ,EAAKgtB,EAASwI,EAAS8K,GAE7C,OADK9K,IAAWA,EAAUrM,GAAQvoB,EAAGwoB,IAAKppB,EAAIwE,OACvCk/B,GAAgB9iC,EAAI40B,EAAS6K,GAAYz/B,EAAI40B,EAASx1B,EAAI0C,GAAI49B,GAAOtT,GAmB9E,SAASloB,GAAalE,EAAIZ,EAAKgtB,EAASwI,EAAS6O,EAAiBtD,GAGhE,SAASuD,EAAI5hC,EAAIgJ,GACf,IAAIuN,EAAIsnB,GAAoB3/B,EAAIyjC,EAAiB3hC,EAAIgJ,EAAQ,QAAU,OAAQq1B,GAE/E,OADIr1B,EAASuN,EAAExN,KAAOwN,EAAEvN,MAAgBuN,EAAEvN,MAAQuN,EAAExN,KAC7Ci4B,GAAgB9iC,EAAI40B,EAASvc,EAAG+T,GALzCwI,EAAUA,GAAWrM,GAAQvoB,EAAGwoB,IAAKppB,EAAIwE,MACpC6/B,IAAmBA,EAAkB7D,GAAsB5/B,EAAI40B,IAMpE,IAAI7U,EAAQ4C,GAASiS,EAAS50B,EAAGwoB,IAAIxH,WAAYlf,EAAK1C,EAAI0C,GAAIue,EAASjhB,EAAIihB,OAQ3E,GAPIve,GAAM8yB,EAAQn0B,KAAKvE,QACrB4F,EAAK8yB,EAAQn0B,KAAKvE,OAClBmkB,EAAS,UACAve,GAAM,IACfA,EAAK,EACLue,EAAS,UAENN,EAAS,OAAO2jB,EAAc,UAAVrjB,EAAqBve,EAAK,EAAIA,EAAc,UAAVue,GAE3D,SAASsjB,EAAQ7hC,EAAI8hC,EAASC,GAC5B,IAAI5jB,EAAOF,EAAM6jB,GAAU94B,EAAsB,GAAdmV,EAAKC,MACxC,OAAOwjB,EAAIG,EAAS/hC,EAAK,EAAIA,EAAIgJ,GAAS+4B,GAE5C,IAAID,EAAUxjB,GAAcL,EAAOje,EAAIue,GACnCyjB,EAAQ3jB,GACRxY,EAAMg8B,EAAQ7hC,EAAI8hC,EAAmB,UAAVvjB,GAE/B,OADa,MAATyjB,IAAiBn8B,EAAIm8B,MAAQH,EAAQ7hC,EAAIgiC,EAAiB,UAAVzjB,IAC7C1Y,EAKT,SAASo8B,GAAe/jC,EAAIZ,GAC1B,IAAIyL,EAAO,EACXzL,EAAMkrB,GAAQtqB,EAAGwoB,IAAKppB,GACjBY,EAAGoB,QAAQ69B,eAAgBp0B,EAAOs2B,GAAUnhC,EAAG+D,SAAW3E,EAAI0C,IACnE,IAAI8yB,EAAUrM,GAAQvoB,EAAGwoB,IAAKppB,EAAIwE,MAC9BO,EAAMwwB,GAAaC,GAAW+I,GAAW39B,EAAG+D,SAChD,MAAO,CAAC8G,KAAMA,EAAMC,MAAOD,EAAM1G,IAAKA,EAAKhD,OAAQgD,EAAMywB,EAAQxL,QASnE,SAAS4a,GAAYpgC,EAAM9B,EAAIue,EAAQ4jB,EAASC,GAC9C,IAAI9kC,EAAM2F,GAAInB,EAAM9B,EAAIue,GAGxB,OAFAjhB,EAAI8kC,KAAOA,EACPD,IAAW7kC,EAAI6kC,QAAUA,GACtB7kC,EAKT,SAAS+kC,GAAWnkC,EAAIuL,EAAGC,GACzB,IAAIgd,EAAMxoB,EAAGwoB,IAEb,GADAhd,GAAKxL,EAAG+D,QAAQk/B,WACZz3B,EAAI,EAAK,OAAOw4B,GAAYxb,EAAIC,MAAO,EAAG,MAAO,GAAI,GACzD,IAAI4L,EAAQ7K,GAAahB,EAAKhd,GAAI+e,EAAO/B,EAAIC,MAAQD,EAAIE,KAAO,EAChE,GAAI2L,EAAQ9J,EACR,OAAOyZ,GAAYxb,EAAIC,MAAQD,EAAIE,KAAO,EAAGH,GAAQC,EAAK+B,GAAM9pB,KAAKvE,OAAQ,KAAM,EAAG,GACtFqP,EAAI,IAAKA,EAAI,GAGjB,IADA,IAAIqpB,EAAUrM,GAAQC,EAAK6L,KAClB,CACP,IAAIrU,EAAQokB,GAAgBpkC,EAAI40B,EAASP,EAAO9oB,EAAGC,GAC/CmoB,EAAYG,GAAoBc,EAAS5U,EAAMle,IAAMke,EAAMkkB,KAAO,GAAKlkB,EAAMikB,QAAU,EAAI,EAAI,IACnG,IAAKtQ,EAAa,OAAO3T,EACzB,IAAIqkB,EAAW1Q,EAAU7uB,KAAK,GAC9B,GAAIu/B,EAASzgC,MAAQywB,EAAS,OAAOgQ,EACrCzP,EAAUrM,GAAQC,EAAK6L,EAAQgQ,EAASzgC,OAI5C,SAAS0gC,GAAkBtkC,EAAI40B,EAAS6O,EAAiBj4B,GACvDA,GAAKq3B,GAAgBjO,GACrB,IAAIvkB,EAAMukB,EAAQn0B,KAAKvE,OACnBqoC,EAAQ9kB,IAAU,SAAU3d,GAAM,OAAO69B,GAAoB3/B,EAAIyjC,EAAiB3hC,EAAK,GAAGX,QAAUqK,IAAM6E,EAAK,GAEnH,OADAA,EAAMoP,IAAU,SAAU3d,GAAM,OAAO69B,GAAoB3/B,EAAIyjC,EAAiB3hC,GAAIqC,IAAMqH,IAAM+4B,EAAOl0B,GAChG,CAACk0B,MAAOA,EAAOl0B,IAAKA,GAG7B,SAASm0B,GAAsBxkC,EAAI40B,EAAS6O,EAAiBrwB,GACtDqwB,IAAmBA,EAAkB7D,GAAsB5/B,EAAI40B,IACpE,IAAI6P,EAAY3B,GAAgB9iC,EAAI40B,EAAS+K,GAAoB3/B,EAAIyjC,EAAiBrwB,GAAS,QAAQjP,IACvG,OAAOmgC,GAAkBtkC,EAAI40B,EAAS6O,EAAiBgB,GAKzD,SAASC,GAAWC,EAAKp5B,EAAGC,EAAGX,GAC7B,QAAO85B,EAAIxjC,QAAUqK,KAAYm5B,EAAIxgC,IAAMqH,IAAYX,EAAO85B,EAAI95B,KAAO85B,EAAI75B,OAASS,GAGxF,SAAS64B,GAAgBpkC,EAAI40B,EAAStL,EAAQ/d,EAAGC,GAE/CA,GAAKmpB,GAAaC,GAClB,IAAI6O,EAAkB7D,GAAsB5/B,EAAI40B,GAG5CuI,EAAe0F,GAAgBjO,GAC/B2P,EAAQ,EAAGl0B,EAAMukB,EAAQn0B,KAAKvE,OAAQ0oC,GAAM,EAE5C7kB,EAAQ4C,GAASiS,EAAS50B,EAAGwoB,IAAIxH,WAGrC,GAAIjB,EAAO,CACT,IAAIE,GAAQjgB,EAAGoB,QAAQ69B,aAAe4F,GAAwBC,IAChD9kC,EAAI40B,EAAStL,EAAQma,EAAiB1jB,EAAOxU,EAAGC,GAC9Do5B,EAAoB,GAAd3kB,EAAKC,MAKXqkB,EAAQK,EAAM3kB,EAAK9a,KAAO8a,EAAKtc,GAAK,EACpC0M,EAAMu0B,EAAM3kB,EAAKtc,GAAKsc,EAAK9a,KAAO,EAMpC,IAYI4/B,EAAO1kB,EAZP2kB,EAAW,KAAMC,EAAY,KAC7BnjC,EAAK2d,IAAU,SAAU3d,GAC3B,IAAI6iC,EAAMhF,GAAoB3/B,EAAIyjC,EAAiB3hC,GAEnD,OADA6iC,EAAIxgC,KAAOg5B,EAAcwH,EAAIxjC,QAAUg8B,IAClCuH,GAAWC,EAAKp5B,EAAGC,GAAG,KACvBm5B,EAAIxgC,KAAOqH,GAAKm5B,EAAI95B,MAAQU,IAC9By5B,EAAWljC,EACXmjC,EAAYN,IAEP,KACNJ,EAAOl0B,GAES4zB,GAAU,EAE7B,GAAIgB,EAAW,CAEb,IAAIC,EAAS35B,EAAI05B,EAAUp6B,KAAOo6B,EAAUn6B,MAAQS,EAAG45B,EAAUD,GAAUN,EAC3E9iC,EAAKkjC,GAAYG,EAAU,EAAI,GAC/B9kB,EAAS8kB,EAAU,QAAU,SAC7BJ,EAAQG,EAASD,EAAUp6B,KAAOo6B,EAAUn6B,UACvC,CAEA85B,GAAQ9iC,GAAMuO,GAAOvO,GAAMyiC,GAAUziC,IAI1Cue,EAAe,GAANve,EAAU,QAAUA,GAAM8yB,EAAQn0B,KAAKvE,OAAS,SACtDyjC,GAAoB3/B,EAAIyjC,EAAiB3hC,GAAM8iC,EAAM,EAAI,IAAIzjC,OAASg8B,GAAgB3xB,GAAMo5B,EAC7F,QAAU,SAGZ,IAAIvB,EAASn/B,GAAalE,EAAI+E,GAAIukB,EAAQxnB,EAAIue,GAAS,OAAQuU,EAAS6O,GACxEsB,EAAQ1B,EAAOx4B,KACfo5B,EAAUz4B,EAAI63B,EAAOl/B,KAAO,EAAIqH,GAAK63B,EAAOliC,OAAS,EAAI,EAI3D,OADAW,EAAK0d,GAAmBoV,EAAQn0B,KAAMqB,EAAI,GACnCkiC,GAAY1a,EAAQxnB,EAAIue,EAAQ4jB,EAAS14B,EAAIw5B,GAGtD,SAASD,GAAe9kC,EAAI40B,EAAStL,EAAQma,EAAiB1jB,EAAOxU,EAAGC,GAKtE,IAAIhM,EAAQigB,IAAU,SAAUpjB,GAC9B,IAAI4jB,EAAOF,EAAM1jB,GAAIuoC,EAAoB,GAAd3kB,EAAKC,MAChC,OAAOwkB,GAAWxgC,GAAalE,EAAI+E,GAAIukB,EAAQsb,EAAM3kB,EAAKtc,GAAKsc,EAAK9a,KAAMy/B,EAAM,SAAW,SAC5D,OAAQhQ,EAAS6O,GAAkBl4B,EAAGC,GAAG,KACvE,EAAGuU,EAAM7jB,OAAS,GACjB+jB,EAAOF,EAAMvgB,GAIjB,GAAIA,EAAQ,EAAG,CACb,IAAIolC,EAAoB,GAAd3kB,EAAKC,MACXtZ,EAAQ1C,GAAalE,EAAI+E,GAAIukB,EAAQsb,EAAM3kB,EAAK9a,KAAO8a,EAAKtc,GAAIihC,EAAM,QAAU,UAC3D,OAAQhQ,EAAS6O,GACtCiB,GAAW99B,EAAO2E,EAAGC,GAAG,IAAS5E,EAAMzC,IAAMqH,IAC7CyU,EAAOF,EAAMvgB,EAAQ,IAE3B,OAAOygB,EAGT,SAAS4kB,GAAsB7kC,EAAI40B,EAASwQ,EAAS3B,EAAiB1jB,EAAOxU,EAAGC,GAQ9E,IAAI65B,EAAMf,GAAkBtkC,EAAI40B,EAAS6O,EAAiBj4B,GACtD+4B,EAAQc,EAAId,MACZl0B,EAAMg1B,EAAIh1B,IACV,KAAKlO,KAAKyyB,EAAQn0B,KAAK3D,OAAOuT,EAAM,KAAOA,IAE/C,IADA,IAAI4P,EAAO,KAAMqlB,EAAc,KACtBjpC,EAAI,EAAGA,EAAI0jB,EAAM7jB,OAAQG,IAAK,CACrC,IAAI8Y,EAAI4K,EAAM1jB,GACd,KAAI8Y,EAAEhQ,MAAQkL,GAAO8E,EAAExR,IAAM4gC,GAA7B,CACA,IAAIK,EAAiB,GAAXzvB,EAAE+K,MACRqlB,EAAO5F,GAAoB3/B,EAAIyjC,EAAiBmB,EAAMnoC,KAAKe,IAAI6S,EAAK8E,EAAExR,IAAM,EAAIlH,KAAKgB,IAAI8mC,EAAOpvB,EAAEhQ,OAAO2F,MAGzG06B,EAAOD,EAAOh6B,EAAIA,EAAIg6B,EAAO,IAAMA,EAAOh6B,IACzC0U,GAAQqlB,EAAcE,KACzBvlB,EAAO9K,EACPmwB,EAAcE,IAOlB,OAJKvlB,IAAQA,EAAOF,EAAMA,EAAM7jB,OAAS,IAErC+jB,EAAK9a,KAAOo/B,IAAStkB,EAAO,CAAC9a,KAAMo/B,EAAO5gC,GAAIsc,EAAKtc,GAAIuc,MAAOD,EAAKC,QACnED,EAAKtc,GAAK0M,IAAO4P,EAAO,CAAC9a,KAAM8a,EAAK9a,KAAMxB,GAAI0M,EAAK6P,MAAOD,EAAKC,QAC5DD,EAKT,SAASwlB,GAAW1hC,GAClB,GAAgC,MAA5BA,EAAQo+B,iBAA4B,OAAOp+B,EAAQo+B,iBACvD,GAAmB,MAAf3B,GAAqB,CACvBA,GAAczlB,EAAI,MAAO,KAAM,wBAG/B,IAAK,IAAI1e,EAAI,EAAGA,EAAI,KAAMA,EACxBmkC,GAAY16B,YAAYjC,SAASkC,eAAe,MAChDy6B,GAAY16B,YAAYiV,EAAI,OAE9BylB,GAAY16B,YAAYjC,SAASkC,eAAe,MAElD8U,EAAqB9W,EAAQmhB,QAASsb,IACtC,IAAIpX,EAASoX,GAAYrb,aAAe,GAGxC,OAFIiE,EAAS,IAAKrlB,EAAQo+B,iBAAmB/Y,GAC7C1O,EAAe3W,EAAQmhB,SAChBkE,GAAU,EAInB,SAAS+X,GAAUp9B,GACjB,GAA+B,MAA3BA,EAAQm+B,gBAA2B,OAAOn+B,EAAQm+B,gBACtD,IAAIl4B,EAAS+Q,EAAI,OAAQ,cACrBgb,EAAMhb,EAAI,MAAO,CAAC/Q,GAAS,wBAC/B6Q,EAAqB9W,EAAQmhB,QAAS6Q,GACtC,IAAIgJ,EAAO/0B,EAAO/F,wBAAyB44B,GAASkC,EAAKj0B,MAAQi0B,EAAKl0B,MAAQ,GAE9E,OADIgyB,EAAQ,IAAK94B,EAAQm+B,gBAAkBrF,GACpCA,GAAS,GAKlB,SAASkD,GAAc//B,GAGrB,IAFA,IAAI+0B,EAAI/0B,EAAG+D,QAAS8G,EAAO,GAAIgyB,EAAQ,GACnChB,EAAa9G,EAAEsI,QAAQqI,WAClB1oB,EAAI+X,EAAEsI,QAAQziB,WAAYve,EAAI,EAAG2gB,EAAGA,EAAIA,EAAEmf,cAAe9/B,EAAG,CACnE,IAAIihB,EAAKtd,EAAG+D,QAAQg4B,YAAY1/B,GAAG2J,UACnC6E,EAAKyS,GAAMN,EAAE2oB,WAAa3oB,EAAE0oB,WAAa7J,EACzCgB,EAAMvf,GAAMN,EAAEsgB,YAEhB,MAAO,CAAChC,SAAUsK,GAAqB7Q,GAC/BwG,iBAAkBxG,EAAEsI,QAAQjY,YAC5ByW,WAAYhxB,EACZmxB,YAAaa,EACbC,aAAc/H,EAAE/wB,QAAQs5B,aAMlC,SAASsI,GAAqB7hC,GAC5B,OAAOA,EAAQ06B,SAASx6B,wBAAwB4G,KAAO9G,EAAQ05B,MAAMx5B,wBAAwB4G,KAM/F,SAASuqB,GAAep1B,GACtB,IAAI6lC,EAAKJ,GAAWzlC,EAAG+D,SAAUi7B,EAAWh/B,EAAGoB,QAAQ69B,aACnD6G,EAAU9G,GAAYviC,KAAKgB,IAAI,EAAGuC,EAAG+D,QAAQ06B,SAASnB,YAAc6D,GAAUnhC,EAAG+D,SAAW,GAChG,OAAO,SAAUH,GACf,GAAI4wB,GAAax0B,EAAGwoB,IAAK5kB,GAAS,OAAO,EAEzC,IAAImiC,EAAgB,EACpB,GAAIniC,EAAK44B,QAAW,IAAK,IAAIngC,EAAI,EAAGA,EAAIuH,EAAK44B,QAAQtgC,OAAQG,IACvDuH,EAAK44B,QAAQngC,GAAG+sB,SAAU2c,GAAiBniC,EAAK44B,QAAQngC,GAAG+sB,QAGjE,OAAI4V,EACO+G,GAAiBtpC,KAAKojB,KAAKjc,EAAKnD,KAAKvE,OAAS4pC,IAAY,GAAKD,EAE/DE,EAAgBF,GAI/B,SAASG,GAAoBhmC,GAC3B,IAAIwoB,EAAMxoB,EAAGwoB,IAAKyd,EAAM7Q,GAAep1B,GACvCwoB,EAAIS,MAAK,SAAUrlB,GACjB,IAAI0xB,EAAY2Q,EAAIriC,GAChB0xB,GAAa1xB,EAAKwlB,QAAUD,GAAiBvlB,EAAM0xB,MAS3D,SAAS4Q,GAAalmC,EAAIkC,EAAGikC,EAASC,GACpC,IAAIriC,EAAU/D,EAAG+D,QACjB,IAAKoiC,GAAyD,QAA9C3hB,GAAStiB,GAAGs7B,aAAa,kBAA+B,OAAO,KAE/E,IAAIjyB,EAAGC,EAAG66B,EAAQtiC,EAAQ65B,UAAU35B,wBAEpC,IAAMsH,EAAIrJ,EAAEokC,QAAUD,EAAMx7B,KAAMW,EAAItJ,EAAEqkC,QAAUF,EAAMliC,IACxD,MAAOqiC,GAAO,OAAO,KACrB,IAAmC5iC,EAA/By/B,EAASc,GAAWnkC,EAAIuL,EAAGC,GAC/B,GAAI46B,GAAW/C,EAAOa,KAAO,IAAMtgC,EAAO2kB,GAAQvoB,EAAGwoB,IAAK6a,EAAOz/B,MAAMnD,MAAMvE,QAAUmnC,EAAOvhC,GAAI,CAChG,IAAI2kC,EAAU7pB,EAAYhZ,EAAMA,EAAK1H,OAAQ8D,EAAGoB,QAAQyb,SAAWjZ,EAAK1H,OACxEmnC,EAASt+B,GAAIs+B,EAAOz/B,KAAMnH,KAAKgB,IAAI,EAAGhB,KAAKiqC,OAAOn7B,EAAIwyB,GAAS/9B,EAAG+D,SAAS8G,MAAQs2B,GAAUnhC,EAAG+D,UAAY0iC,IAE9G,OAAOpD,EAKT,SAASvD,GAAc9/B,EAAIgd,GACzB,GAAIA,GAAKhd,EAAG+D,QAAQoqB,OAAU,OAAO,KAErC,GADAnR,GAAKhd,EAAG+D,QAAQmqB,SACZlR,EAAI,EAAK,OAAO,KAEpB,IADA,IAAIic,EAAOj5B,EAAG+D,QAAQk1B,KACb58B,EAAI,EAAGA,EAAI48B,EAAK/8B,OAAQG,IAE/B,GADA2gB,GAAKic,EAAK58B,GAAGqsB,KACT1L,EAAI,EAAK,OAAO3gB,EAUxB,SAASsqC,GAAU3mC,EAAImF,EAAMxB,EAAIijC,GACnB,MAARzhC,IAAgBA,EAAOnF,EAAGwoB,IAAIC,OACxB,MAAN9kB,IAAcA,EAAK3D,EAAGwoB,IAAIC,MAAQzoB,EAAGwoB,IAAIE,MACxCke,IAAWA,EAAU,GAE1B,IAAI7iC,EAAU/D,EAAG+D,QAOjB,GANI6iC,GAAWjjC,EAAKI,EAAQoqB,SACM,MAA7BpqB,EAAQ8iC,mBAA6B9iC,EAAQ8iC,kBAAoB1hC,KAClEpB,EAAQ8iC,kBAAoB1hC,GAEhCnF,EAAG+jB,MAAM+iB,aAAc,EAEnB3hC,GAAQpB,EAAQoqB,OACdwB,IAAqByE,GAAap0B,EAAGwoB,IAAKrjB,GAAQpB,EAAQoqB,QAC1D4Y,GAAU/mC,QACT,GAAI2D,GAAMI,EAAQmqB,SACnByB,IAAqB4E,GAAgBv0B,EAAGwoB,IAAK7kB,EAAKijC,GAAW7iC,EAAQmqB,SACvE6Y,GAAU/mC,IAEV+D,EAAQmqB,UAAY0Y,EACpB7iC,EAAQoqB,QAAUyY,QAEf,GAAIzhC,GAAQpB,EAAQmqB,UAAYvqB,GAAMI,EAAQoqB,OACnD4Y,GAAU/mC,QACL,GAAImF,GAAQpB,EAAQmqB,SAAU,CACnC,IAAI8Y,EAAMC,GAAiBjnC,EAAI2D,EAAIA,EAAKijC,EAAS,GAC7CI,GACFjjC,EAAQk1B,KAAOl1B,EAAQk1B,KAAK/tB,MAAM87B,EAAIxnC,OACtCuE,EAAQmqB,SAAW8Y,EAAI3S,MACvBtwB,EAAQoqB,QAAUyY,GAElBG,GAAU/mC,QAEP,GAAI2D,GAAMI,EAAQoqB,OAAQ,CAC/B,IAAI+Y,EAAQD,GAAiBjnC,EAAImF,EAAMA,GAAO,GAC1C+hC,GACFnjC,EAAQk1B,KAAOl1B,EAAQk1B,KAAK/tB,MAAM,EAAGg8B,EAAM1nC,OAC3CuE,EAAQoqB,OAAS+Y,EAAM7S,OAEvB0S,GAAU/mC,OAEP,CACL,IAAImnC,EAASF,GAAiBjnC,EAAImF,EAAMA,GAAO,GAC3CiiC,EAASH,GAAiBjnC,EAAI2D,EAAIA,EAAKijC,EAAS,GAChDO,GAAUC,GACZrjC,EAAQk1B,KAAOl1B,EAAQk1B,KAAK/tB,MAAM,EAAGi8B,EAAO3nC,OACzCyjB,OAAO8V,GAAe/4B,EAAImnC,EAAO9S,MAAO+S,EAAO/S,QAC/CpR,OAAOlf,EAAQk1B,KAAK/tB,MAAMk8B,EAAO5nC,QACpCuE,EAAQoqB,QAAUyY,GAElBG,GAAU/mC,GAId,IAAI+6B,EAAMh3B,EAAQwyB,iBACdwE,IACEp3B,EAAKo3B,EAAI1G,MACT0G,EAAI1G,OAASuS,EACRzhC,EAAO41B,EAAI1G,MAAQ0G,EAAIrS,OAC5B3kB,EAAQwyB,iBAAmB,OAMnC,SAAS8Q,GAAcrnC,EAAI4D,EAAMsC,GAC/BlG,EAAG+jB,MAAM+iB,aAAc,EACvB,IAAI/iC,EAAU/D,EAAG+D,QAASg3B,EAAM/6B,EAAG+D,QAAQwyB,iBAI3C,GAHIwE,GAAOn3B,GAAQm3B,EAAI1G,OAASzwB,EAAOm3B,EAAI1G,MAAQ0G,EAAIrS,OACnD3kB,EAAQwyB,iBAAmB,QAE3B3yB,EAAOG,EAAQmqB,UAAYtqB,GAAQG,EAAQoqB,QAA/C,CACA,IAAI0H,EAAW9xB,EAAQk1B,KAAK6G,GAAc9/B,EAAI4D,IAC9C,GAAqB,MAAjBiyB,EAAStb,KAAb,CACA,IAAIvK,EAAM6lB,EAASsE,UAAYtE,EAASsE,QAAU,KACvB,GAAvBl4B,EAAQ+N,EAAK9J,IAAe8J,EAAIjG,KAAK7D,KAI3C,SAAS6gC,GAAU/mC,GACjBA,EAAG+D,QAAQmqB,SAAWluB,EAAG+D,QAAQoqB,OAASnuB,EAAGwoB,IAAIC,MACjDzoB,EAAG+D,QAAQk1B,KAAO,GAClBj5B,EAAG+D,QAAQk/B,WAAa,EAG1B,SAASgE,GAAiBjnC,EAAIsnC,EAAMC,EAAM59B,GACxC,IAAqC0f,EAAjC7pB,EAAQsgC,GAAc9/B,EAAIsnC,GAAarO,EAAOj5B,EAAG+D,QAAQk1B,KAC7D,IAAKtJ,IAAqB4X,GAAQvnC,EAAGwoB,IAAIC,MAAQzoB,EAAGwoB,IAAIE,KACpD,MAAO,CAAClpB,MAAOA,EAAO60B,MAAOkT,GAEjC,IADA,IAAIvqB,EAAIhd,EAAG+D,QAAQmqB,SACV7xB,EAAI,EAAGA,EAAImD,EAAOnD,IACvB2gB,GAAKic,EAAK58B,GAAGqsB,KACjB,GAAI1L,GAAKsqB,EAAM,CACb,GAAI39B,EAAM,EAAG,CACX,GAAInK,GAASy5B,EAAK/8B,OAAS,EAAK,OAAO,KACvCmtB,EAAQrM,EAAIic,EAAKz5B,GAAOkpB,KAAQ4e,EAChC9nC,SAEA6pB,EAAOrM,EAAIsqB,EAEbA,GAAQje,EAAMke,GAAQle,EAExB,MAAO+K,GAAap0B,EAAGwoB,IAAK+e,IAASA,EAAM,CACzC,GAAI/nC,IAAUmK,EAAM,EAAI,EAAIsvB,EAAK/8B,OAAS,GAAM,OAAO,KACvDqrC,GAAQ59B,EAAMsvB,EAAKz5B,GAASmK,EAAM,EAAI,EAAI,IAAI+e,KAC9ClpB,GAASmK,EAEX,MAAO,CAACnK,MAAOA,EAAO60B,MAAOkT,GAK/B,SAASC,GAAWxnC,EAAImF,EAAMxB,GAC5B,IAAII,EAAU/D,EAAG+D,QAASk1B,EAAOl1B,EAAQk1B,KACtB,GAAfA,EAAK/8B,QAAeiJ,GAAQpB,EAAQoqB,QAAUxqB,GAAMI,EAAQmqB,UAC9DnqB,EAAQk1B,KAAOF,GAAe/4B,EAAImF,EAAMxB,GACxCI,EAAQmqB,SAAW/oB,IAEfpB,EAAQmqB,SAAW/oB,EACnBpB,EAAQk1B,KAAOF,GAAe/4B,EAAImF,EAAMpB,EAAQmqB,UAAUjL,OAAOlf,EAAQk1B,MACpEl1B,EAAQmqB,SAAW/oB,IACxBpB,EAAQk1B,KAAOl1B,EAAQk1B,KAAK/tB,MAAM40B,GAAc9/B,EAAImF,KACxDpB,EAAQmqB,SAAW/oB,EACfpB,EAAQoqB,OAASxqB,EACjBI,EAAQk1B,KAAOl1B,EAAQk1B,KAAKhW,OAAO8V,GAAe/4B,EAAI+D,EAAQoqB,OAAQxqB,IACjEI,EAAQoqB,OAASxqB,IACtBI,EAAQk1B,KAAOl1B,EAAQk1B,KAAK/tB,MAAM,EAAG40B,GAAc9/B,EAAI2D,MAE7DI,EAAQoqB,OAASxqB,EAKnB,SAAS8jC,GAAeznC,GAEtB,IADA,IAAIi5B,EAAOj5B,EAAG+D,QAAQk1B,KAAMyO,EAAQ,EAC3BrrC,EAAI,EAAGA,EAAI48B,EAAK/8B,OAAQG,IAAK,CACpC,IAAIw5B,EAAWoD,EAAK58B,GACfw5B,EAASiD,QAAYjD,EAAStb,OAAQsb,EAASsE,WAAcuN,EAEpE,OAAOA,EAGT,SAASC,GAAgB3nC,GACvBA,EAAG+D,QAAQi0B,MAAM4P,cAAc5nC,EAAG+D,QAAQi0B,MAAM6P,oBAGlD,SAASA,GAAiB7nC,EAAI6J,QACX,IAAZA,IAAqBA,GAAU,GAEpC,IAAI2e,EAAMxoB,EAAGwoB,IAAK7T,EAAS,GACvBmzB,EAAcnzB,EAAOozB,QAAUlkC,SAAS6B,yBACxCsiC,EAAcrzB,EAAOoR,UAAYliB,SAAS6B,yBAE1CuiC,EAAejoC,EAAGoB,QAAQ8mC,cAC1BD,IAAgBp+B,GAAU,GAC9B,IAAK,IAAIxN,EAAI,EAAGA,EAAImsB,EAAIre,IAAIrB,OAAO5M,OAAQG,IACzC,GAAKwN,GAAWxN,GAAKmsB,EAAIre,IAAIg+B,UAA7B,CACA,IAAIr+B,EAAQ0e,EAAIre,IAAIrB,OAAOzM,GAC3B,KAAIyN,EAAM3E,OAAOvB,MAAQ5D,EAAG+D,QAAQoqB,QAAUrkB,EAAMnG,KAAKC,KAAO5D,EAAG+D,QAAQmqB,UAA3E,CACA,IAAIyF,EAAY7pB,EAAMd,QACtB,GAAIi/B,EAAc,CAChB,IAAI9+B,EAAO8+B,EAAajoC,EAAI8J,GACxBX,GAAQi/B,GAAoBpoC,EAAImJ,EAAM2+B,QACjCnU,GAAa3zB,EAAGoB,QAAQinC,0BACjCD,GAAoBpoC,EAAI8J,EAAMX,KAAM2+B,GAEjCnU,GACD2U,GAAmBtoC,EAAI8J,EAAOk+B,IAEpC,OAAOrzB,EAIT,SAASyzB,GAAoBpoC,EAAImJ,EAAMmH,GACrC,IAAIlR,EAAM8E,GAAalE,EAAImJ,EAAM,MAAO,KAAM,MAAOnJ,EAAGoB,QAAQkgC,2BAE5Dz8B,EAASyL,EAAOxK,YAAYiV,EAAI,MAAO,IAAU,sBAKrD,GAJAlW,EAAOtB,MAAMsH,KAAOzL,EAAIyL,KAAO,KAC/BhG,EAAOtB,MAAMY,IAAM/E,EAAI+E,IAAM,KAC7BU,EAAOtB,MAAM6lB,OAAS3sB,KAAKgB,IAAI,EAAG2B,EAAI+B,OAAS/B,EAAI+E,KAAOnE,EAAGoB,QAAQmnC,aAAe,KAEhF,oBAAoBpmC,KAAKnC,EAAGkR,oBAAoBlL,WAAY,CAC9D,IAAIwiC,EAAUhF,GAAWxjC,EAAImJ,EAAM,MAAO,KAAM,MAC5C0zB,EAAQ2L,EAAQ19B,MAAQ09B,EAAQ39B,KACpChG,EAAOtB,MAAMs5B,OAASA,EAAQ,EAAIA,EAAQ78B,EAAGyoC,oBAAsB,KAGrE,GAAIrpC,EAAI0kC,MAAO,CAEb,IAAI4E,EAAcp4B,EAAOxK,YAAYiV,EAAI,MAAO,IAAU,iDAC1D2tB,EAAYnlC,MAAMQ,QAAU,GAC5B2kC,EAAYnlC,MAAMsH,KAAOzL,EAAI0kC,MAAMj5B,KAAO,KAC1C69B,EAAYnlC,MAAMY,IAAM/E,EAAI0kC,MAAM3/B,IAAM,KACxCukC,EAAYnlC,MAAM6lB,OAA8C,KAApChqB,EAAI0kC,MAAM3iC,OAAS/B,EAAI0kC,MAAM3/B,KAAa,MAI1E,SAASwkC,GAAUjtB,EAAG5I,GAAK,OAAO4I,EAAEvX,IAAM2O,EAAE3O,KAAOuX,EAAE7Q,KAAOiI,EAAEjI,KAG9D,SAASy9B,GAAmBtoC,EAAI8J,EAAOwG,GACrC,IAAIvM,EAAU/D,EAAG+D,QAASykB,EAAMxoB,EAAGwoB,IAC/B9hB,EAAW7C,SAAS6B,yBACpBkjC,EAAU7K,GAAS/9B,EAAG+D,SAAU8kC,EAAWD,EAAQ/9B,KACnDi+B,EAAYrsC,KAAKgB,IAAIsG,EAAQglC,WAAYvK,GAAax+B,GAAM+D,EAAQ05B,MAAMkI,YAAciD,EAAQ99B,MAChGk+B,EAA0B,OAAjBxgB,EAAIxH,UAEjB,SAAS0P,EAAI7lB,EAAM1G,EAAK04B,EAAO17B,GACzBgD,EAAM,IAAKA,EAAM,GACrBA,EAAM1H,KAAKiqC,MAAMviC,GACjBhD,EAAS1E,KAAKiqC,MAAMvlC,GACpBuF,EAASZ,YAAYiV,EAAI,MAAO,KAAM,sBAAwB,6BAA+BlQ,EAAO,0CAA4C1G,EAAM,eAA0B,MAAT04B,EAAgBiM,EAAYj+B,EAAOgyB,GAAS,8CAAgD17B,EAASgD,GAAO,OAGrR,SAAS8kC,EAAYrlC,EAAMslC,EAASC,GAClC,IAEIviC,EAAOyJ,EAFPukB,EAAUrM,GAAQC,EAAK5kB,GACvBwlC,EAAUxU,EAAQn0B,KAAKvE,OAE3B,SAASmnC,EAAOvhC,EAAI49B,GAClB,OAAO8D,GAAWxjC,EAAI+E,GAAInB,EAAM9B,GAAK,MAAO8yB,EAAS8K,GAGvD,SAAS2J,EAAMjqC,EAAKuK,EAAK2/B,GACvB,IAAIC,EAAS/E,GAAsBxkC,EAAI40B,EAAS,KAAMx1B,GAClDud,EAAe,OAAPhT,IAA0B,SAAR2/B,GAAmB,OAAS,QACtDxnC,EAAa,SAARwnC,EAAkBC,EAAOhF,MAAQgF,EAAOl5B,KAAO,KAAKlO,KAAKyyB,EAAQn0B,KAAK3D,OAAOysC,EAAOl5B,IAAM,IAAM,EAAI,GAC7G,OAAOgzB,EAAOvhC,EAAI6a,GAAMA,GAG1B,IAAIoD,EAAQ4C,GAASiS,EAASpM,EAAIxH,WAqClC,OApCAlB,GAAoBC,EAAOmpB,GAAW,EAAY,MAATC,EAAgBC,EAAUD,GAAO,SAAUhkC,EAAMxB,EAAIgG,EAAKtN,GACjG,IAAIuoC,EAAa,OAAPj7B,EACN6/B,EAAUnG,EAAOl+B,EAAMy/B,EAAM,OAAS,SACtC6E,EAAQpG,EAAO1/B,EAAK,EAAGihC,EAAM,QAAU,QAEvC8E,EAAuB,MAAXR,GAA2B,GAAR/jC,EAAWwkC,EAAmB,MAATR,GAAiBxlC,GAAMylC,EAC3E3gB,EAAa,GAALpsB,EAAQkuB,GAAQxK,GAAS1jB,GAAK0jB,EAAM7jB,OAAS,EACzD,GAAIutC,EAAMtlC,IAAMqlC,EAAQrlC,KAAO,EAAG,CAChC,IAAIylC,GAAYZ,EAASU,EAAYC,IAAYlhB,EAC7CohB,GAAab,EAASW,EAAUD,IAAcnf,EAC9C1f,EAAO++B,EAAWf,GAAYjE,EAAM4E,EAAUC,GAAO5+B,KACrDC,EAAQ++B,EAAYf,GAAalE,EAAM6E,EAAQD,GAAS1+B,MAC5D4lB,EAAI7lB,EAAM2+B,EAAQrlC,IAAK2G,EAAQD,EAAM2+B,EAAQroC,YACxC,CACL,IAAI2oC,EAASC,EAAUC,EAASC,EAC5BrF,GACFkF,EAAUd,GAAUU,GAAajhB,EAAQogB,EAAWW,EAAQ3+B,KAC5Dk/B,EAAWf,EAASF,EAAYO,EAAMlkC,EAAMwE,EAAK,UACjDqgC,EAAUhB,EAASH,EAAWQ,EAAM1lC,EAAIgG,EAAK,SAC7CsgC,EAAWjB,GAAUW,GAAWpf,EAAOue,EAAYW,EAAM3+B,QAEzDg/B,EAAWd,EAAoBK,EAAMlkC,EAAMwE,EAAK,UAA5Bk/B,EACpBkB,GAAYf,GAAUU,GAAajhB,EAAQqgB,EAAYU,EAAQ1+B,MAC/Dk/B,GAAWhB,GAAUW,GAAWpf,EAAOse,EAAWY,EAAM5+B,KACxDo/B,EAAYjB,EAAqBK,EAAM1lC,EAAIgG,EAAK,SAA3Bm/B,GAEvBpY,EAAIoZ,EAASN,EAAQrlC,IAAK4lC,EAAWD,EAASN,EAAQroC,QAClDqoC,EAAQroC,OAASsoC,EAAMtlC,KAAOusB,EAAImY,EAAUW,EAAQroC,OAAQ,KAAMsoC,EAAMtlC,KAC5EusB,EAAIsZ,EAASP,EAAMtlC,IAAK8lC,EAAWD,EAASP,EAAMtoC,UAG/CyF,GAAS+hC,GAAUa,EAAS5iC,GAAS,KAAKA,EAAQ4iC,GACnDb,GAAUc,EAAO7iC,GAAS,IAAKA,EAAQ6iC,KACtCp5B,GAAOs4B,GAAUa,EAASn5B,GAAO,KAAKA,EAAMm5B,GAC7Cb,GAAUc,EAAOp5B,GAAO,IAAKA,EAAMo5B,MAElC,CAAC7iC,MAAOA,EAAOyJ,IAAKA,GAG7B,IAAI65B,EAAQpgC,EAAM3E,OAAQglC,EAAMrgC,EAAMnG,KACtC,GAAIumC,EAAMtmC,MAAQumC,EAAIvmC,KACpBqlC,EAAYiB,EAAMtmC,KAAMsmC,EAAMpoC,GAAIqoC,EAAIroC,QACjC,CACL,IAAIsoC,EAAW7hB,GAAQC,EAAK0hB,EAAMtmC,MAAOymC,EAAS9hB,GAAQC,EAAK2hB,EAAIvmC,MAC/D0mC,EAActW,GAAWoW,IAAapW,GAAWqW,GACjDE,EAAUtB,EAAYiB,EAAMtmC,KAAMsmC,EAAMpoC,GAAIwoC,EAAcF,EAAS3pC,KAAKvE,OAAS,EAAI,MAAMmU,IAC3Fm6B,EAAavB,EAAYkB,EAAIvmC,KAAM0mC,EAAc,EAAI,KAAMH,EAAIroC,IAAI8E,MACnE0jC,IACEC,EAAQpmC,IAAMqmC,EAAWrmC,IAAM,GACjCusB,EAAI6Z,EAAQz/B,MAAOy/B,EAAQpmC,IAAK,KAAMomC,EAAQppC,QAC9CuvB,EAAImY,EAAU2B,EAAWrmC,IAAKqmC,EAAW3/B,KAAM2/B,EAAWrpC,SAE1DuvB,EAAI6Z,EAAQz/B,MAAOy/B,EAAQpmC,IAAKqmC,EAAW3/B,KAAO0/B,EAAQz/B,MAAOy/B,EAAQppC,SAGzEopC,EAAQppC,OAASqpC,EAAWrmC,KAC5BusB,EAAImY,EAAU0B,EAAQppC,OAAQ,KAAMqpC,EAAWrmC,KAGrDmM,EAAOxK,YAAYY,GAIrB,SAAS+jC,GAAazqC,GACpB,GAAKA,EAAGC,MAAMyqC,QAAd,CACA,IAAI3mC,EAAU/D,EAAG+D,QACjB4mC,cAAc5mC,EAAQ6mC,SACtB,IAAIx4B,GAAK,EACTrO,EAAQ8mC,UAAUtnC,MAAMunC,WAAa,GACjC9qC,EAAGoB,QAAQ2pC,gBAAkB,EAC7BhnC,EAAQ6mC,QAAUI,aAAY,WACzBhrC,EAAGirC,YAAcC,GAAOlrC,GAC7B+D,EAAQ8mC,UAAUtnC,MAAMunC,YAAc14B,GAAMA,GAAM,GAAK,WACtDpS,EAAGoB,QAAQ2pC,iBACP/qC,EAAGoB,QAAQ2pC,gBAAkB,IAClChnC,EAAQ8mC,UAAUtnC,MAAMunC,WAAa,WAG3C,SAASK,GAAYnrC,GACdA,EAAGirC,aACNjrC,EAAG+D,QAAQi0B,MAAMjmB,QACZ/R,EAAGC,MAAMyqC,SAAWU,GAAQprC,IAIrC,SAASqrC,GAAerrC,GACtBA,EAAGC,MAAMqrC,mBAAoB,EAC7Bt4B,YAAW,WAAkBhT,EAAGC,MAAMqrC,oBACpCtrC,EAAGC,MAAMqrC,mBAAoB,EACzBtrC,EAAGC,MAAMyqC,SAAWQ,GAAOlrC,MAC5B,KAGP,SAASorC,GAAQprC,EAAIkC,GACflC,EAAGC,MAAMqrC,oBAAsBtrC,EAAGC,MAAMsrC,eAAgBvrC,EAAGC,MAAMqrC,mBAAoB,GAE9D,YAAvBtrC,EAAGoB,QAAQoxB,WACVxyB,EAAGC,MAAMyqC,UACZpnB,GAAOtjB,EAAI,QAASA,EAAIkC,GACxBlC,EAAGC,MAAMyqC,SAAU,EACnBt5B,EAASpR,EAAG+D,QAAQC,QAAS,sBAIxBhE,EAAG+jB,OAAS/jB,EAAG+D,QAAQynC,mBAAqBxrC,EAAGwoB,IAAIre,MACtDnK,EAAG+D,QAAQi0B,MAAM75B,QACbgb,GAAUnG,YAAW,WAAc,OAAOhT,EAAG+D,QAAQi0B,MAAM75B,OAAM,KAAU,KAEjF6B,EAAG+D,QAAQi0B,MAAMyT,iBAEnBhB,GAAazqC,IAEf,SAASkrC,GAAOlrC,EAAIkC,GACdlC,EAAGC,MAAMqrC,oBAETtrC,EAAGC,MAAMyqC,UACXpnB,GAAOtjB,EAAI,OAAQA,EAAIkC,GACvBlC,EAAGC,MAAMyqC,SAAU,EACnB94B,EAAQ5R,EAAG+D,QAAQC,QAAS,uBAE9B2mC,cAAc3qC,EAAG+D,QAAQ6mC,SACzB53B,YAAW,WAAmBhT,EAAGC,MAAMyqC,UAAW1qC,EAAG+D,QAAQ2nC,OAAQ,KAAY,MAKnF,SAASC,GAAwB3rC,GAM/B,IALA,IAAI+D,EAAU/D,EAAG+D,QACb6nC,EAAa7nC,EAAQ8nC,QAAQhO,UAC7BiO,EAAUrvC,KAAKgB,IAAI,EAAGsG,EAAQ06B,SAASx6B,wBAAwBE,KAC/D4nC,EAAYhoC,EAAQ8nC,QAAQ5nC,wBAAwBE,IACpD6nC,EAAa,EACR3vC,EAAI,EAAGA,EAAI0H,EAAQk1B,KAAK/8B,OAAQG,IAAK,CAC5C,IAAI+M,EAAMrF,EAAQk1B,KAAK58B,GAAI2iC,EAAWh/B,EAAGoB,QAAQ69B,aAC7C7V,OAAS,EAAUyT,EAAQ,EAC/B,IAAIzzB,EAAI0vB,OAAR,CAEA,GADAiT,GAAa3iC,EAAIxF,KAAKwlB,OAClBpQ,GAAMC,EAAa,EAAG,CACxB,IAAIooB,EAAMj4B,EAAImR,KAAKsjB,UAAYz0B,EAAImR,KAAK4K,aACxCiE,EAASiY,EAAMuK,EACfA,EAAavK,MACR,CACL,IAAIsD,EAAMv7B,EAAImR,KAAKtW,wBACnBmlB,EAASub,EAAIxjC,OAASwjC,EAAIxgC,KAGrB66B,GAAY51B,EAAI3I,KAAKma,aACtBiiB,EAAQzzB,EAAI3I,KAAKma,WAAW3W,wBAAwB6G,MAAQ65B,EAAI95B,KAAO,GAE7E,IAAIwe,EAAOjgB,EAAIxF,KAAKwlB,OAASA,EAC7B,IAAIC,EAAO,MAAQA,GAAQ,QACrB0iB,EAAYD,IAAWE,GAAc3iB,GACzCF,GAAiB/f,EAAIxF,KAAMwlB,GAC3B6iB,GAAmB7iC,EAAIxF,MACnBwF,EAAI8sB,MAAQ,IAAK,IAAIvU,EAAI,EAAGA,EAAIvY,EAAI8sB,KAAKh6B,OAAQylB,IACjDsqB,GAAmB7iC,EAAI8sB,KAAKvU,IAElC,GAAIkb,EAAQ78B,EAAG+D,QAAQglC,WAAY,CACjC,IAAImD,EAAUzvC,KAAKojB,KAAKgd,EAAQsE,GAAUnhC,EAAG+D,UACzCmoC,EAAUlsC,EAAG+D,QAAQkxB,gBACvBj1B,EAAG+D,QAAQkxB,cAAgBiX,EAC3BlsC,EAAG+D,QAAQixB,QAAU5rB,EAAIxF,KACzB5D,EAAG+D,QAAQmxB,gBAAiB,KAI9Bz4B,KAAK+pB,IAAIwlB,GAAc,IAAKjoC,EAAQ06B,SAASmE,WAAaoJ,GAKhE,SAASC,GAAmBroC,GAC1B,GAAIA,EAAK44B,QAAW,IAAK,IAAIngC,EAAI,EAAGA,EAAIuH,EAAK44B,QAAQtgC,SAAUG,EAAG,CAChE,IAAI8vC,EAAIvoC,EAAK44B,QAAQngC,GAAIye,EAASqxB,EAAE5xB,KAAK1I,WACrCiJ,IAAUqxB,EAAE/iB,OAAStO,EAAOqK,eAOpC,SAASinB,GAAaroC,EAASykB,EAAK6jB,GAClC,IAAIloC,EAAMkoC,GAA4B,MAAhBA,EAASloC,IAAc1H,KAAKgB,IAAI,EAAG4uC,EAASloC,KAAOJ,EAAQ06B,SAASmE,UAC1Fz+B,EAAM1H,KAAKC,MAAMyH,EAAMw5B,GAAW55B,IAClC,IAAI5C,EAASkrC,GAA+B,MAAnBA,EAASlrC,OAAiBkrC,EAASlrC,OAASgD,EAAMJ,EAAQC,QAAQ46B,aAEvFz5B,EAAOqkB,GAAahB,EAAKrkB,GAAMR,EAAK6lB,GAAahB,EAAKrnB,GAG1D,GAAIkrC,GAAYA,EAASC,OAAQ,CAC/B,IAAIC,EAAaF,EAASC,OAAOnnC,KAAKvB,KAAM4oC,EAAWH,EAASC,OAAO3oC,GAAGC,KACtE2oC,EAAapnC,GACfA,EAAOonC,EACP5oC,EAAK6lB,GAAahB,EAAKmM,GAAapM,GAAQC,EAAK+jB,IAAexoC,EAAQC,QAAQ46B,eACvEniC,KAAKe,IAAIgvC,EAAUhkB,EAAIxjB,aAAerB,IAC/CwB,EAAOqkB,GAAahB,EAAKmM,GAAapM,GAAQC,EAAKgkB,IAAazoC,EAAQC,QAAQ46B,cAChFj7B,EAAK6oC,GAGT,MAAO,CAACrnC,KAAMA,EAAMxB,GAAIlH,KAAKgB,IAAIkG,EAAIwB,EAAO,IAO9C,SAASsnC,GAAkBzsC,EAAI++B,GAC7B,IAAIvb,GAAexjB,EAAI,wBAAvB,CAEA,IAAI+D,EAAU/D,EAAG+D,QAAS4gC,EAAM5gC,EAAQ05B,MAAMx5B,wBAAyByoC,EAAW,KAGlF,GAFI3N,EAAK56B,IAAMwgC,EAAIxgC,IAAM,EAAKuoC,GAAW,EAChC3N,EAAK59B,OAASwjC,EAAIxgC,KAAO0M,OAAO87B,aAAe9oC,SAAS0+B,gBAAgB3D,gBAAiB8N,GAAW,GAC7F,MAAZA,IAAqBhzB,EAAS,CAChC,IAAIkzB,EAAa7xB,EAAI,MAAO,IAAU,KAAO,uDAAyDgkB,EAAK56B,IAAMJ,EAAQk/B,WAAatF,GAAW39B,EAAG+D,UAAY,0CAA4Cg7B,EAAK59B,OAAS49B,EAAK56B,IAAMm6B,GAAUt+B,GAAM+D,EAAQ86B,WAAa,uCAA0CE,EAAS,KAAI,cAAiBtiC,KAAKgB,IAAI,EAAGshC,EAAKj0B,MAAQi0B,EAAKl0B,MAAS,OACzX7K,EAAG+D,QAAQ65B,UAAU93B,YAAY8mC,GACjCA,EAAWxnC,eAAesnC,GAC1B1sC,EAAG+D,QAAQ65B,UAAU9rB,YAAY86B,KAOrC,SAASC,GAAkB7sC,EAAIZ,EAAKiR,EAAKy8B,GAEvC,IAAI/N,EADU,MAAV+N,IAAkBA,EAAS,GAE1B9sC,EAAGoB,QAAQ69B,cAAgB7/B,GAAOiR,IAIrCA,EAAoB,UAAdjR,EAAIihB,OAAqBtb,GAAI3F,EAAIwE,KAAMxE,EAAI0C,GAAK,EAAG,UAAY1C,EACrEA,EAAMA,EAAI0C,GAAKiD,GAAI3F,EAAIwE,KAAoB,UAAdxE,EAAIihB,OAAqBjhB,EAAI0C,GAAK,EAAI1C,EAAI0C,GAAI,SAAW1C,GAExF,IAAK,IAAI2tC,EAAQ,EAAGA,EAAQ,EAAGA,IAAS,CACtC,IAAIC,GAAU,EACV3J,EAASn/B,GAAalE,EAAIZ,GAC1B6tC,EAAa58B,GAAOA,GAAOjR,EAAe8E,GAAalE,EAAIqQ,GAA1BgzB,EACrCtE,EAAO,CAACl0B,KAAMpO,KAAKe,IAAI6lC,EAAOx4B,KAAMoiC,EAAUpiC,MACtC1G,IAAK1H,KAAKe,IAAI6lC,EAAOl/B,IAAK8oC,EAAU9oC,KAAO2oC,EAC3ChiC,MAAOrO,KAAKgB,IAAI4lC,EAAOx4B,KAAMoiC,EAAUpiC,MACvC1J,OAAQ1E,KAAKgB,IAAI4lC,EAAOliC,OAAQ8rC,EAAU9rC,QAAU2rC,GAC5D,IAAII,EAAYC,GAAmBntC,EAAI++B,GACnCqO,EAAWptC,EAAGwoB,IAAIoa,UAAWyK,EAAYrtC,EAAGwoB,IAAIga,WASpD,GAR2B,MAAvB0K,EAAUtK,YACZ0K,GAAgBttC,EAAIktC,EAAUtK,WAC1BnmC,KAAK+pB,IAAIxmB,EAAGwoB,IAAIoa,UAAYwK,GAAY,IAAKJ,GAAU,IAEjC,MAAxBE,EAAU1K,aACZ+K,GAAcvtC,EAAIktC,EAAU1K,YACxB/lC,KAAK+pB,IAAIxmB,EAAGwoB,IAAIga,WAAa6K,GAAa,IAAKL,GAAU,KAE1DA,EAAW,MAElB,OAAOjO,EAIT,SAAS35B,GAAepF,EAAI++B,GAC1B,IAAImO,EAAYC,GAAmBntC,EAAI++B,GACZ,MAAvBmO,EAAUtK,WAAqB0K,GAAgBttC,EAAIktC,EAAUtK,WACrC,MAAxBsK,EAAU1K,YAAsB+K,GAAcvtC,EAAIktC,EAAU1K,YAOlE,SAAS2K,GAAmBntC,EAAI++B,GAC9B,IAAIh7B,EAAU/D,EAAG+D,QAASypC,EAAa/H,GAAWzlC,EAAG+D,SACjDg7B,EAAK56B,IAAM,IAAK46B,EAAK56B,IAAM,GAC/B,IAAIspC,EAAYztC,EAAG+jB,OAA+B,MAAtB/jB,EAAG+jB,MAAM6e,UAAoB5iC,EAAG+jB,MAAM6e,UAAY7+B,EAAQ06B,SAASmE,UAC3FrB,EAAS5C,GAAc3+B,GAAK2U,EAAS,GACrCoqB,EAAK59B,OAAS49B,EAAK56B,IAAMo9B,IAAUxC,EAAK59B,OAAS49B,EAAK56B,IAAMo9B,GAChE,IAAImM,EAAY1tC,EAAGwoB,IAAIY,OAAS0U,GAAY/5B,GACxC4pC,EAAQ5O,EAAK56B,IAAMqpC,EAAYI,EAAW7O,EAAK59B,OAASusC,EAAYF,EACxE,GAAIzO,EAAK56B,IAAMspC,EACb94B,EAAOiuB,UAAY+K,EAAQ,EAAI5O,EAAK56B,SAC/B,GAAI46B,EAAK59B,OAASssC,EAAYlM,EAAQ,CAC3C,IAAIsM,EAASpxC,KAAKe,IAAIuhC,EAAK56B,KAAMypC,EAAWF,EAAY3O,EAAK59B,QAAUogC,GACnEsM,GAAUJ,IAAa94B,EAAOiuB,UAAYiL,GAGhD,IAAIC,EAAc9tC,EAAGoB,QAAQi6B,YAAc,EAAIt3B,EAAQs5B,QAAQjY,YAC3D2oB,EAAa/tC,EAAG+jB,OAAgC,MAAvB/jB,EAAG+jB,MAAMye,WAAqBxiC,EAAG+jB,MAAMye,WAAaz+B,EAAQ06B,SAAS+D,WAAasL,EAC3GE,EAAUxP,GAAax+B,GAAM+D,EAAQs5B,QAAQjY,YAC7C6oB,EAAUlP,EAAKj0B,MAAQi0B,EAAKl0B,KAAOmjC,EAQvC,OAPIC,IAAWlP,EAAKj0B,MAAQi0B,EAAKl0B,KAAOmjC,GACpCjP,EAAKl0B,KAAO,GACZ8J,EAAO6tB,WAAa,EACfzD,EAAKl0B,KAAOkjC,EACjBp5B,EAAO6tB,WAAa/lC,KAAKgB,IAAI,EAAGshC,EAAKl0B,KAAOijC,GAAeG,EAAU,EAAI,KACpElP,EAAKj0B,MAAQkjC,EAAUD,EAAa,IACzCp5B,EAAO6tB,WAAazD,EAAKj0B,OAASmjC,EAAU,EAAI,IAAMD,GACnDr5B,EAKT,SAASu5B,GAAeluC,EAAImE,GACf,MAAPA,IACJgqC,GAAmBnuC,GACnBA,EAAG+jB,MAAM6e,WAAmC,MAAtB5iC,EAAG+jB,MAAM6e,UAAoB5iC,EAAGwoB,IAAIoa,UAAY5iC,EAAG+jB,MAAM6e,WAAaz+B,GAK9F,SAASiqC,GAAoBpuC,GAC3BmuC,GAAmBnuC,GACnB,IAAIoJ,EAAMpJ,EAAGsD,YACbtD,EAAG+jB,MAAMsqB,YAAc,CAAClpC,KAAMiE,EAAKzF,GAAIyF,EAAK0jC,OAAQ9sC,EAAGoB,QAAQktC,oBAGjE,SAASC,GAAevuC,EAAIuL,EAAGC,GACpB,MAALD,GAAkB,MAALC,GAAa2iC,GAAmBnuC,GACxC,MAALuL,IAAavL,EAAG+jB,MAAMye,WAAaj3B,GAC9B,MAALC,IAAaxL,EAAG+jB,MAAM6e,UAAYp3B,GAGxC,SAASgjC,GAAcxuC,EAAI8J,GACzBqkC,GAAmBnuC,GACnBA,EAAG+jB,MAAMsqB,YAAcvkC,EAOzB,SAASqkC,GAAmBnuC,GAC1B,IAAI8J,EAAQ9J,EAAG+jB,MAAMsqB,YACrB,GAAIvkC,EAAO,CACT9J,EAAG+jB,MAAMsqB,YAAc,KACvB,IAAIlpC,EAAO4+B,GAAe/jC,EAAI8J,EAAM3E,MAAOxB,EAAKogC,GAAe/jC,EAAI8J,EAAMnG,IACzE8qC,GAAoBzuC,EAAImF,EAAMxB,EAAImG,EAAMgjC,SAI5C,SAAS2B,GAAoBzuC,EAAImF,EAAMxB,EAAImpC,GACzC,IAAI4B,EAAOvB,GAAmBntC,EAAI,CAChC6K,KAAMpO,KAAKe,IAAI2H,EAAK0F,KAAMlH,EAAGkH,MAC7B1G,IAAK1H,KAAKe,IAAI2H,EAAKhB,IAAKR,EAAGQ,KAAO2oC,EAClChiC,MAAOrO,KAAKgB,IAAI0H,EAAK2F,MAAOnH,EAAGmH,OAC/B3J,OAAQ1E,KAAKgB,IAAI0H,EAAKhE,OAAQwC,EAAGxC,QAAU2rC,IAE7CyB,GAAevuC,EAAI0uC,EAAKlM,WAAYkM,EAAK9L,WAK3C,SAAS0K,GAAgBttC,EAAI2H,GACvBlL,KAAK+pB,IAAIxmB,EAAGwoB,IAAIoa,UAAYj7B,GAAO,IAClCiR,GAAS+1B,GAAoB3uC,EAAI,CAACmE,IAAKwD,IAC5CinC,GAAa5uC,EAAI2H,GAAK,GAClBiR,GAAS+1B,GAAoB3uC,GACjC6uC,GAAY7uC,EAAI,MAGlB,SAAS4uC,GAAa5uC,EAAI2H,EAAKmnC,GAC7BnnC,EAAMlL,KAAKgB,IAAI,EAAGhB,KAAKe,IAAIwC,EAAG+D,QAAQ06B,SAASsQ,aAAe/uC,EAAG+D,QAAQ06B,SAASG,aAAcj3B,KAC5F3H,EAAG+D,QAAQ06B,SAASmE,WAAaj7B,GAAQmnC,KAC7C9uC,EAAGwoB,IAAIoa,UAAYj7B,EACnB3H,EAAG+D,QAAQirC,WAAWJ,aAAajnC,GAC/B3H,EAAG+D,QAAQ06B,SAASmE,WAAaj7B,IAAO3H,EAAG+D,QAAQ06B,SAASmE,UAAYj7B,IAK9E,SAAS4lC,GAAcvtC,EAAI2H,EAAKsnC,EAAYH,GAC1CnnC,EAAMlL,KAAKgB,IAAI,EAAGhB,KAAKe,IAAImK,EAAK3H,EAAG+D,QAAQ06B,SAASyQ,YAAclvC,EAAG+D,QAAQ06B,SAASnB,eACjF2R,EAAatnC,GAAO3H,EAAGwoB,IAAIga,WAAa/lC,KAAK+pB,IAAIxmB,EAAGwoB,IAAIga,WAAa76B,GAAO,KAAOmnC,IACxF9uC,EAAGwoB,IAAIga,WAAa76B,EACpBwnC,GAAkBnvC,GACdA,EAAG+D,QAAQ06B,SAAS+D,YAAc76B,IAAO3H,EAAG+D,QAAQ06B,SAAS+D,WAAa76B,GAC9E3H,EAAG+D,QAAQirC,WAAWzB,cAAc5lC,IAOtC,SAASynC,GAAqBpvC,GAC5B,IAAI+0B,EAAI/0B,EAAG+D,QAASsrC,EAAUta,EAAEsI,QAAQjY,YACpCkqB,EAAO7yC,KAAKiqC,MAAM1mC,EAAGwoB,IAAIY,OAAS0U,GAAY99B,EAAG+D,UACrD,MAAO,CACL66B,aAAc7J,EAAE0J,SAASG,aACzB2Q,WAAYxa,EAAE/wB,QAAQ46B,aACtBsQ,YAAana,EAAE0J,SAASyQ,YAAa5R,YAAavI,EAAE0J,SAASnB,YAC7DkS,UAAWza,EAAE/wB,QAAQs5B,YACrBmS,QAASzvC,EAAGoB,QAAQi6B,YAAcgU,EAAU,EAC5CK,UAAWJ,EACXP,aAAcO,EAAOhR,GAAUt+B,GAAM+0B,EAAE8J,UACvCN,eAAgBxJ,EAAEwJ,eAClBvC,YAAaqT,GAIjB,IAAIM,GAAmB,SAAS3O,EAAOnjB,EAAQ7d,GAC7C1C,KAAK0C,GAAKA,EACV,IAAI4vC,EAAOtyC,KAAKsyC,KAAO70B,EAAI,MAAO,CAACA,EAAI,MAAO,KAAM,KAAM,mBAAoB,yBAC1E80B,EAAQvyC,KAAKuyC,MAAQ90B,EAAI,MAAO,CAACA,EAAI,MAAO,KAAM,KAAM,kCAAmC,yBAC/F60B,EAAKE,SAAWD,EAAMC,UAAY,EAClC9O,EAAM4O,GAAO5O,EAAM6O,GAEnBz9B,GAAGw9B,EAAM,UAAU,WACbA,EAAKhR,cAAgB/gB,EAAO+xB,EAAKhN,UAAW,eAElDxwB,GAAGy9B,EAAO,UAAU,WACdA,EAAMvS,aAAezf,EAAOgyB,EAAMrN,WAAY,iBAGpDllC,KAAKyyC,kBAAmB,EAEpB/2B,GAAMC,EAAa,IAAK3b,KAAKuyC,MAAMtsC,MAAMysC,UAAY1yC,KAAKsyC,KAAKrsC,MAAM0sC,SAAW,SAGtFN,GAAiB9xC,UAAUqyC,OAAS,SAAUhrB,GAC5C,IAAIirB,EAASjrB,EAAQgqB,YAAchqB,EAAQoY,YAAc,EACrD8S,EAASlrB,EAAQ6pB,aAAe7pB,EAAQ0Z,aAAe,EACvDyR,EAASnrB,EAAQqZ,eAErB,GAAI6R,EAAQ,CACV9yC,KAAKsyC,KAAKrsC,MAAMQ,QAAU,QAC1BzG,KAAKsyC,KAAKrsC,MAAMpC,OAASgvC,EAASE,EAAS,KAAO,IAClD,IAAIC,EAAcprB,EAAQqqB,YAAcY,EAASE,EAAS,GAE1D/yC,KAAKsyC,KAAKh1B,WAAWrX,MAAM6lB,OACzB3sB,KAAKgB,IAAI,EAAGynB,EAAQ6pB,aAAe7pB,EAAQ0Z,aAAe0R,GAAe,UAE3EhzC,KAAKsyC,KAAKhN,UAAY,EACtBtlC,KAAKsyC,KAAKrsC,MAAMQ,QAAU,GAC1BzG,KAAKsyC,KAAKh1B,WAAWrX,MAAM6lB,OAAS,IAGtC,GAAI+mB,EAAQ,CACV7yC,KAAKuyC,MAAMtsC,MAAMQ,QAAU,QAC3BzG,KAAKuyC,MAAMtsC,MAAMuH,MAAQslC,EAASC,EAAS,KAAO,IAClD/yC,KAAKuyC,MAAMtsC,MAAMsH,KAAOqa,EAAQuqB,QAAU,KAC1C,IAAIc,EAAarrB,EAAQsqB,UAAYtqB,EAAQuqB,SAAWW,EAASC,EAAS,GAC1E/yC,KAAKuyC,MAAMj1B,WAAWrX,MAAMs5B,MAC1BpgC,KAAKgB,IAAI,EAAGynB,EAAQgqB,YAAchqB,EAAQoY,YAAciT,GAAc,UAExEjzC,KAAKuyC,MAAMtsC,MAAMQ,QAAU,GAC3BzG,KAAKuyC,MAAMj1B,WAAWrX,MAAMs5B,MAAQ,IAQtC,OALKv/B,KAAKyyC,kBAAoB7qB,EAAQ0Z,aAAe,IACrC,GAAVyR,GAAe/yC,KAAKkzC,gBACxBlzC,KAAKyyC,kBAAmB,GAGnB,CAACjlC,MAAOslC,EAASC,EAAS,EAAGlvC,OAAQgvC,EAASE,EAAS,IAGhEV,GAAiB9xC,UAAU0vC,cAAgB,SAAUnuC,GAC/C9B,KAAKuyC,MAAMrN,YAAcpjC,IAAO9B,KAAKuyC,MAAMrN,WAAapjC,GACxD9B,KAAKmzC,cAAgBnzC,KAAKozC,mBAAmBpzC,KAAKuyC,MAAOvyC,KAAKmzC,aAAc,UAGlFd,GAAiB9xC,UAAU+wC,aAAe,SAAUxvC,GAC9C9B,KAAKsyC,KAAKhN,WAAaxjC,IAAO9B,KAAKsyC,KAAKhN,UAAYxjC,GACpD9B,KAAKqzC,aAAerzC,KAAKozC,mBAAmBpzC,KAAKsyC,KAAMtyC,KAAKqzC,YAAa,SAG/EhB,GAAiB9xC,UAAU2yC,cAAgB,WACzC,IAAIrE,EAAIpyB,IAAQN,EAAqB,OAAS,OAC9Cnc,KAAKuyC,MAAMtsC,MAAM6lB,OAAS9rB,KAAKsyC,KAAKrsC,MAAMs5B,MAAQsP,EAClD7uC,KAAKuyC,MAAMtsC,MAAMqtC,cAAgBtzC,KAAKsyC,KAAKrsC,MAAMqtC,cAAgB,OACjEtzC,KAAKmzC,aAAe,IAAIpzB,EACxB/f,KAAKqzC,YAAc,IAAItzB,GAGzBsyB,GAAiB9xC,UAAU6yC,mBAAqB,SAAUG,EAAKC,EAAO5qC,GAEpE,SAAS6qC,IAOP,IAAIpM,EAAMkM,EAAI5sC,wBACV8W,EAAc,QAAR7U,EAAiBrC,SAASmtC,iBAAiBrM,EAAI75B,MAAQ,GAAI65B,EAAIxgC,IAAMwgC,EAAIxjC,QAAU,GACvF0C,SAASmtC,kBAAkBrM,EAAI75B,MAAQ65B,EAAI95B,MAAQ,EAAG85B,EAAIxjC,OAAS,GACrE4Z,GAAO81B,EAAOA,EAAIttC,MAAMqtC,cAAgB,OACrCE,EAAMpzB,IAAI,IAAMqzB,GAZzBF,EAAIttC,MAAMqtC,cAAgB,OAc1BE,EAAMpzB,IAAI,IAAMqzB,IAGlBpB,GAAiB9xC,UAAU6E,MAAQ,WACjC,IAAIoY,EAASxd,KAAKuyC,MAAMh+B,WACxBiJ,EAAOhJ,YAAYxU,KAAKuyC,OACxB/0B,EAAOhJ,YAAYxU,KAAKsyC,OAG1B,IAAIqB,GAAiB,aAOrB,SAASC,GAAiBlxC,EAAIklB,GACvBA,IAAWA,EAAUkqB,GAAqBpvC,IAC/C,IAAImxC,EAAanxC,EAAG+D,QAAQ26B,SAAU0S,EAAcpxC,EAAG+D,QAAQ86B,UAC/DwS,GAAsBrxC,EAAIklB,GAC1B,IAAK,IAAI7oB,EAAI,EAAGA,EAAI,GAAK80C,GAAcnxC,EAAG+D,QAAQ26B,UAAY0S,GAAepxC,EAAG+D,QAAQ86B,UAAWxiC,IAC7F80C,GAAcnxC,EAAG+D,QAAQ26B,UAAY1+B,EAAGoB,QAAQ69B,cAChD0M,GAAwB3rC,GAC5BqxC,GAAsBrxC,EAAIovC,GAAqBpvC,IAC/CmxC,EAAanxC,EAAG+D,QAAQ26B,SAAU0S,EAAcpxC,EAAG+D,QAAQ86B,UAM/D,SAASwS,GAAsBrxC,EAAIklB,GACjC,IAAI6P,EAAI/0B,EAAG+D,QACPutC,EAAQvc,EAAEia,WAAWkB,OAAOhrB,GAEhC6P,EAAE0I,MAAMl6B,MAAM66B,cAAgBrJ,EAAE2J,SAAW4S,EAAMxmC,OAAS,KAC1DiqB,EAAE0I,MAAMl6B,MAAMguC,eAAiBxc,EAAE8J,UAAYyS,EAAMnwC,QAAU,KAC7D4zB,EAAEyc,aAAajuC,MAAMkuC,aAAeH,EAAMnwC,OAAS,uBAE/CmwC,EAAMxmC,OAASwmC,EAAMnwC,QACvB4zB,EAAE2c,gBAAgBnuC,MAAMQ,QAAU,QAClCgxB,EAAE2c,gBAAgBnuC,MAAM6lB,OAASkoB,EAAMnwC,OAAS,KAChD4zB,EAAE2c,gBAAgBnuC,MAAMs5B,MAAQyU,EAAMxmC,MAAQ,MACvCiqB,EAAE2c,gBAAgBnuC,MAAMQ,QAAU,GACvCutC,EAAMnwC,QAAUnB,EAAGoB,QAAQuwC,4BAA8B3xC,EAAGoB,QAAQi6B,aACtEtG,EAAE6c,aAAaruC,MAAMQ,QAAU,QAC/BgxB,EAAE6c,aAAaruC,MAAM6lB,OAASkoB,EAAMnwC,OAAS,KAC7C4zB,EAAE6c,aAAaruC,MAAMs5B,MAAQ3X,EAAQ8W,YAAc,MAC5CjH,EAAE6c,aAAaruC,MAAMQ,QAAU,GApC1CktC,GAAepzC,UAAUqyC,OAAS,WAAc,MAAO,CAAC/uC,OAAQ,EAAG2J,MAAO,IAC1EmmC,GAAepzC,UAAU0vC,cAAgB,aACzC0D,GAAepzC,UAAU+wC,aAAe,aACxCqC,GAAepzC,UAAU6E,MAAQ,aAoCjC,IAAImvC,GAAiB,CAAC,OAAUlC,GAAkB,KAAQsB,IAE1D,SAASa,GAAe9xC,GAClBA,EAAG+D,QAAQirC,aACbhvC,EAAG+D,QAAQirC,WAAWtsC,QAClB1C,EAAG+D,QAAQirC,WAAW59B,UACtBQ,EAAQ5R,EAAG+D,QAAQC,QAAShE,EAAG+D,QAAQirC,WAAW59B,WAGxDpR,EAAG+D,QAAQirC,WAAa,IAAI6C,GAAe7xC,EAAGoB,QAAQ2wC,iBAAgB,SAAUx3B,GAC9Eva,EAAG+D,QAAQC,QAAQ62B,aAAatgB,EAAMva,EAAG+D,QAAQ2tC,iBAEjDt/B,GAAGmI,EAAM,aAAa,WAChBva,EAAGC,MAAMyqC,SAAW13B,YAAW,WAAc,OAAOhT,EAAG+D,QAAQi0B,MAAMjmB,UAAY,MAEvFwI,EAAKW,aAAa,iBAAkB,WACnC,SAAU9b,EAAK4yC,GACJ,cAARA,EAAwBzE,GAAcvtC,EAAIZ,GACvCkuC,GAAgBttC,EAAIZ,KAC1BY,GACCA,EAAG+D,QAAQirC,WAAW59B,UACtBA,EAASpR,EAAG+D,QAAQC,QAAShE,EAAG+D,QAAQirC,WAAW59B,UASzD,IAAI6gC,GAAW,EAEf,SAASC,GAAelyC,GACtBA,EAAG+jB,MAAQ,CACT/jB,GAAIA,EACJ8mC,aAAa,EACbsK,YAAapxC,EAAGwoB,IAAIY,OACpB4W,aAAa,EACbmS,YAAa,EACbC,QAAQ,EACRC,WAAY,KACZruB,uBAAwB,KACxByV,qBAAsB,EACtB6Y,kBAAkB,EAClBC,eAAe,EACf/P,WAAY,KAAMI,UAAW,KAC7ByL,YAAa,KACbt8B,OAAO,EACPuL,KAAM20B,GACNO,WAAY,MAEdrZ,GAAcn5B,EAAG+jB,OAInB,SAAS0uB,GAAazyC,GACpB,IAAIqwB,EAAKrwB,EAAG+jB,MACRsM,GAAMqJ,GAAgBrJ,GAAI,SAAUmJ,GACtC,IAAK,IAAIn9B,EAAI,EAAGA,EAAIm9B,EAAMJ,IAAIl9B,OAAQG,IAClCm9B,EAAMJ,IAAI/8B,GAAG2D,GAAG+jB,MAAQ,KAC5B2uB,GAAclZ,MAMlB,SAASkZ,GAAclZ,GAErB,IADA,IAAIJ,EAAMI,EAAMJ,IACP/8B,EAAI,EAAGA,EAAI+8B,EAAIl9B,OAAQG,IAC5Bs2C,GAAgBvZ,EAAI/8B,IACxB,IAAK,IAAI8kB,EAAM,EAAGA,EAAMiY,EAAIl9B,OAAQilB,IAChCyxB,GAAgBxZ,EAAIjY,IACxB,IAAK,IAAIC,EAAM,EAAGA,EAAMgY,EAAIl9B,OAAQklB,IAChCyxB,GAAgBzZ,EAAIhY,IACxB,IAAK,IAAIE,EAAM,EAAGA,EAAM8X,EAAIl9B,OAAQolB,IAChCwxB,GAAgB1Z,EAAI9X,IACxB,IAAK,IAAIG,EAAM,EAAGA,EAAM2X,EAAIl9B,OAAQulB,IAChCsxB,GAAoB3Z,EAAI3X,IAG9B,SAASkxB,GAAgBtiB,GACvB,IAAIrwB,EAAKqwB,EAAGrwB,GAAI+D,EAAU/D,EAAG+D,QAC7BivC,GAAoBhzC,GAChBqwB,EAAGkiB,eAAiBzd,GAAY90B,GAEpCqwB,EAAG4iB,WAAa5iB,EAAGyW,aAAezW,EAAG2P,aAA+B,MAAhB3P,EAAGuS,WACrDvS,EAAGge,cAAgBhe,EAAGge,YAAYlpC,KAAKvB,KAAOG,EAAQmqB,UACnCmC,EAAGge,YAAY1qC,GAAGC,MAAQG,EAAQoqB,SACrDpqB,EAAQmxB,gBAAkBl1B,EAAGoB,QAAQ69B,aACvC5O,EAAG6f,OAAS7f,EAAG4iB,YACb,IAAIC,GAAclzC,EAAIqwB,EAAG4iB,YAAc,CAAC9uC,IAAKksB,EAAGuS,UAAW0J,OAAQjc,EAAGge,aAAche,EAAG2P,aAG3F,SAAS4S,GAAgBviB,GACvBA,EAAG8iB,eAAiB9iB,EAAG4iB,YAAcG,GAAsB/iB,EAAGrwB,GAAIqwB,EAAG6f,QAGvE,SAAS2C,GAAgBxiB,GACvB,IAAIrwB,EAAKqwB,EAAGrwB,GAAI+D,EAAU/D,EAAG+D,QACzBssB,EAAG8iB,gBAAkBxH,GAAwB3rC,GAEjDqwB,EAAGgjB,WAAajE,GAAqBpvC,GAKjC+D,EAAQmxB,iBAAmBl1B,EAAGoB,QAAQ69B,eACxC5O,EAAGijB,cAAgB7T,GAAYz/B,EAAI+D,EAAQixB,QAASjxB,EAAQixB,QAAQv0B,KAAKvE,QAAQ2O,KAAO,EACxF7K,EAAG+D,QAAQglC,WAAa1Y,EAAGijB,cAC3BjjB,EAAGgjB,WAAWnE,YACZzyC,KAAKgB,IAAIsG,EAAQ06B,SAASnB,YAAav5B,EAAQ05B,MAAMkI,WAAatV,EAAGijB,cAAgBhV,GAAUt+B,GAAMA,EAAG+D,QAAQ26B,UAClHrO,EAAGkjB,cAAgB92C,KAAKgB,IAAI,EAAGsG,EAAQ05B,MAAMkI,WAAatV,EAAGijB,cAAgB9U,GAAax+B,MAGxFqwB,EAAG8iB,gBAAkB9iB,EAAGiiB,oBACxBjiB,EAAGmjB,kBAAoBzvC,EAAQi0B,MAAM6P,oBAG3C,SAASiL,GAAgBziB,GACvB,IAAIrwB,EAAKqwB,EAAGrwB,GAEY,MAApBqwB,EAAGijB,gBACLtzC,EAAG+D,QAAQ05B,MAAMl6B,MAAM0sC,SAAW5f,EAAGijB,cAAgB,KACjDjjB,EAAGkjB,cAAgBvzC,EAAGwoB,IAAIga,YAC1B+K,GAAcvtC,EAAIvD,KAAKe,IAAIwC,EAAG+D,QAAQ06B,SAAS+D,WAAYnS,EAAGkjB,gBAAgB,GAClFvzC,EAAG+D,QAAQmxB,gBAAiB,GAG9B,IAAIue,EAAYpjB,EAAGte,OAASse,EAAGte,OAASsJ,IACpCgV,EAAGmjB,mBACHxzC,EAAG+D,QAAQi0B,MAAM4P,cAAcvX,EAAGmjB,kBAAmBC,IACrDpjB,EAAG8iB,gBAAkB9iB,EAAG+gB,aAAepxC,EAAGwoB,IAAIY,SAC9C8nB,GAAiBlxC,EAAIqwB,EAAGgjB,YACxBhjB,EAAG8iB,gBACHO,GAAkB1zC,EAAIqwB,EAAGgjB,YAEzBhjB,EAAGiiB,kBAAoB7H,GAAazqC,GAEpCA,EAAGC,MAAMyqC,SAAWra,EAAG8hB,aACvBnyC,EAAG+D,QAAQi0B,MAAM75B,MAAMkyB,EAAG+hB,QAC1BqB,GAAatI,GAAY9a,EAAGrwB,IAGlC,SAAS+yC,GAAoB1iB,GAC3B,IAAIrwB,EAAKqwB,EAAGrwB,GAAI+D,EAAU/D,EAAG+D,QAASykB,EAAMxoB,EAAGwoB,IAa/C,GAXI6H,EAAG8iB,gBAAkBQ,GAAkB3zC,EAAIqwB,EAAG6f,QAGvB,MAAvBnsC,EAAQ6vC,aAAwC,MAAhBvjB,EAAGuS,WAAsC,MAAjBvS,EAAGmS,aAAsBnS,EAAGge,cACpFtqC,EAAQ6vC,YAAc7vC,EAAQ8vC,YAAc,MAG5B,MAAhBxjB,EAAGuS,WAAqBgM,GAAa5uC,EAAIqwB,EAAGuS,UAAWvS,EAAGye,aAEzC,MAAjBze,EAAGmS,YAAsB+K,GAAcvtC,EAAIqwB,EAAGmS,YAAY,GAAM,GAEhEnS,EAAGge,YAAa,CAClB,IAAItP,EAAO8N,GAAkB7sC,EAAIsqB,GAAQ9B,EAAK6H,EAAGge,YAAYlpC,MAChCmlB,GAAQ9B,EAAK6H,EAAGge,YAAY1qC,IAAK0sB,EAAGge,YAAYvB,QAC7EL,GAAkBzsC,EAAI++B,GAKxB,IAAIjG,EAASzI,EAAGyjB,mBAAoBC,EAAW1jB,EAAG2jB,qBAClD,GAAIlb,EAAU,IAAK,IAAIz8B,EAAI,EAAGA,EAAIy8B,EAAO58B,SAAUG,EAC1Cy8B,EAAOz8B,GAAGusB,MAAM1sB,QAAUonB,GAAOwV,EAAOz8B,GAAI,QACrD,GAAI03C,EAAY,IAAK,IAAI5yB,EAAM,EAAGA,EAAM4yB,EAAS73C,SAAUilB,EACnD4yB,EAAS5yB,GAAKyH,MAAM1sB,QAAUonB,GAAOywB,EAAS5yB,GAAM,UAExDpd,EAAQC,QAAQmhB,eAChBqD,EAAIoa,UAAY5iC,EAAG+D,QAAQ06B,SAASmE,WAGpCvS,EAAGgiB,YACH/uB,GAAOtjB,EAAI,UAAWA,EAAIqwB,EAAGgiB,YAC7BhiB,EAAG6f,QACH7f,EAAG6f,OAAO+D,SAIhB,SAASC,GAAQl0C,EAAIuB,GACnB,GAAIvB,EAAG+jB,MAAS,OAAOxiB,IACvB2wC,GAAelyC,GACf,IAAM,OAAOuB,IACb,QAAUkxC,GAAazyC,IAGzB,SAAS2E,GAAU3E,EAAIuB,GACrB,OAAO,WACL,GAAIvB,EAAG+jB,MAAS,OAAOxiB,EAAEib,MAAMxc,EAAI4F,WACnCssC,GAAelyC,GACf,IAAM,OAAOuB,EAAEib,MAAMxc,EAAI4F,WACzB,QAAU6sC,GAAazyC,KAK3B,SAASm0C,GAAS5yC,GAChB,OAAO,WACL,GAAIjE,KAAKymB,MAAS,OAAOxiB,EAAEib,MAAMlf,KAAMsI,WACvCssC,GAAe50C,MACf,IAAM,OAAOiE,EAAEib,MAAMlf,KAAMsI,WAC3B,QAAU6sC,GAAan1C,QAG3B,SAAS82C,GAAY7yC,GACnB,OAAO,WACL,IAAIvB,EAAK1C,KAAK0C,GACd,IAAKA,GAAMA,EAAG+jB,MAAS,OAAOxiB,EAAEib,MAAMlf,KAAMsI,WAC5CssC,GAAelyC,GACf,IAAM,OAAOuB,EAAEib,MAAMlf,KAAMsI,WAC3B,QAAU6sC,GAAazyC,KAM3B,SAAS6uC,GAAY7uC,EAAIud,GACnBvd,EAAGwoB,IAAImF,kBAAoB3tB,EAAG+D,QAAQoqB,QACtCnuB,EAAGC,MAAMo0C,UAAU32B,IAAIH,EAAMtQ,EAAKqnC,GAAiBt0C,IAGzD,SAASs0C,GAAgBt0C,GACvB,IAAIwoB,EAAMxoB,EAAGwoB,IACb,KAAIA,EAAImF,mBAAqB3tB,EAAG+D,QAAQoqB,QAAxC,CACA,IAAI9d,GAAO,IAAIpT,KAAO+C,EAAGoB,QAAQmzC,SAC7BnoB,EAAUiB,GAAiBrtB,EAAIwoB,EAAImF,mBACnC6mB,EAAe,GAEnBhsB,EAAIS,KAAKmD,EAAQxoB,KAAMnH,KAAKe,IAAIgrB,EAAIC,MAAQD,EAAIE,KAAM1oB,EAAG+D,QAAQoqB,OAAS,MAAM,SAAUvqB,GACxF,GAAIwoB,EAAQxoB,MAAQ5D,EAAG+D,QAAQmqB,SAAU,CACvC,IAAIumB,EAAY7wC,EAAKmpB,OACjBO,EAAa1pB,EAAKnD,KAAKvE,OAAS8D,EAAGoB,QAAQmsB,mBAAqB5F,GAAUa,EAAI7f,KAAMyjB,EAAQnsB,OAAS,KACrGy0C,EAAcvoB,GAAcnsB,EAAI4D,EAAMwoB,GAAS,GAC/CkB,IAAclB,EAAQnsB,MAAQqtB,GAClC1pB,EAAKmpB,OAAS2nB,EAAY3nB,OAC1B,IAAI4nB,EAAS/wC,EAAK8pB,aAAcknB,EAASF,EAAY1nB,QACjD4nB,EAAUhxC,EAAK8pB,aAAeknB,EACzBD,IAAU/wC,EAAK8pB,aAAe,MAGvC,IAFA,IAAImnB,GAAYJ,GAAaA,EAAUv4C,QAAU0H,EAAKmpB,OAAO7wB,QAC3Dy4C,GAAUC,KAAYD,IAAWC,GAAUD,EAAO1nB,SAAW2nB,EAAO3nB,SAAW0nB,EAAOznB,WAAa0nB,EAAO1nB,WACnG7wB,EAAI,GAAIw4C,GAAYx4C,EAAIo4C,EAAUv4C,SAAUG,EAAKw4C,EAAWJ,EAAUp4C,IAAMuH,EAAKmpB,OAAO1wB,GAC7Fw4C,GAAYL,EAAazqC,KAAKqiB,EAAQxoB,MAC1CA,EAAK4pB,WAAapB,EAAQqB,OAC1BrB,EAAQgC,gBAEJxqB,EAAKnD,KAAKvE,QAAU8D,EAAGoB,QAAQmsB,oBAC/BU,GAAYjuB,EAAI4D,EAAKnD,KAAM2rB,GAC/BxoB,EAAK4pB,WAAapB,EAAQxoB,KAAO,GAAK,EAAIwoB,EAAQqB,OAAS,KAC3DrB,EAAQgC,WAEV,IAAK,IAAInxB,KAAOoT,EAEd,OADAw+B,GAAY7uC,EAAIA,EAAGoB,QAAQ0zC,YACpB,KAGXtsB,EAAImF,kBAAoBvB,EAAQxoB,KAChC4kB,EAAIoF,aAAenxB,KAAKgB,IAAI+qB,EAAIoF,aAAcxB,EAAQxoB,MAClD4wC,EAAat4C,QAAUg4C,GAAQl0C,GAAI,WACrC,IAAK,IAAI3D,EAAI,EAAGA,EAAIm4C,EAAat4C,OAAQG,IACrCgrC,GAAcrnC,EAAIw0C,EAAan4C,GAAI,YAM3C,IAAI62C,GAAgB,SAASlzC,EAAIqsC,EAAU0I,GACzC,IAAIhxC,EAAU/D,EAAG+D,QAEjBzG,KAAK+uC,SAAWA,EAEhB/uC,KAAK03C,QAAU5I,GAAaroC,EAAS/D,EAAGwoB,IAAK6jB,GAC7C/uC,KAAK23C,gBAAkBlxC,EAAQC,QAAQohB,YACvC9nB,KAAK43C,cAAgBnxC,EAAQC,QAAQ46B,aACrCthC,KAAKw/B,aAAe/4B,EAAQC,QAAQs5B,YACpChgC,KAAK63C,gBAAkB3W,GAAax+B,GACpC1C,KAAKy3C,MAAQA,EACbz3C,KAAK48B,KAAO6F,GAAc//B,GAC1B1C,KAAK83C,OAAS,IAYhB,SAASpC,GAAoBhzC,GAC3B,IAAI+D,EAAU/D,EAAG+D,SACZA,EAAQsxC,mBAAqBtxC,EAAQ06B,SAASrZ,cACjDrhB,EAAQw6B,eAAiBx6B,EAAQ06B,SAASrZ,YAAcrhB,EAAQ06B,SAASnB,YACzEv5B,EAAQytC,aAAajuC,MAAM6lB,OAASkV,GAAUt+B,GAAM,KACpD+D,EAAQ05B,MAAMl6B,MAAM+xC,cAAgBvxC,EAAQw6B,eAAiB,KAC7Dx6B,EAAQ05B,MAAMl6B,MAAMgyC,iBAAmBjX,GAAUt+B,GAAM,KACvD+D,EAAQsxC,mBAAoB,GAIhC,SAASG,GAAkBx1C,GACzB,GAAIA,EAAGirC,WAAc,OAAO,KAC5B,IAAIwK,EAASp6B,IACb,IAAKo6B,IAAWt6B,EAASnb,EAAG+D,QAAQ8nC,QAAS4J,GAAW,OAAO,KAC/D,IAAI9gC,EAAS,CAAC0G,UAAWo6B,GACzB,GAAI5kC,OAAO5N,aAAc,CACvB,IAAIkH,EAAM0G,OAAO5N,eACbkH,EAAIurC,YAAcvrC,EAAIwrC,QAAUx6B,EAASnb,EAAG+D,QAAQ8nC,QAAS1hC,EAAIurC,cACnE/gC,EAAO+gC,WAAavrC,EAAIurC,WACxB/gC,EAAOihC,aAAezrC,EAAIyrC,aAC1BjhC,EAAOkhC,UAAY1rC,EAAI0rC,UACvBlhC,EAAOmhC,YAAc3rC,EAAI2rC,aAG7B,OAAOnhC,EAGT,SAASohC,GAAiBC,GACxB,GAAKA,GAAaA,EAAS36B,WAAa26B,EAAS36B,WAAaA,MAC9D26B,EAAS36B,UAAUtJ,SACd,qBAAqB5P,KAAK6zC,EAAS36B,UAAU46B,WAC9CD,EAASN,YAAcv6B,EAAStX,SAAS0X,KAAMy6B,EAASN,aAAev6B,EAAStX,SAAS0X,KAAMy6B,EAASH,YAAY,CACtH,IAAI1rC,EAAM0G,OAAO5N,eAAgB6G,EAAQjG,SAAS+X,cAClD9R,EAAMiS,OAAOi6B,EAASN,WAAYM,EAASJ,cAC3C9rC,EAAMqS,UAAS,GACfhS,EAAI+rC,kBACJ/rC,EAAIgsC,SAASrsC,GACbK,EAAIwrC,OAAOK,EAASH,UAAWG,EAASF,cAO5C,SAAS1C,GAAsBpzC,EAAIkwC,GACjC,IAAInsC,EAAU/D,EAAG+D,QAASykB,EAAMxoB,EAAGwoB,IAEnC,GAAI0nB,EAAO+E,eAET,OADAlO,GAAU/mC,IACH,EAIT,IAAKkwC,EAAO6E,OACR7E,EAAO8E,QAAQ7vC,MAAQpB,EAAQmqB,UAAYgiB,EAAO8E,QAAQrxC,IAAMI,EAAQoqB,SAC1C,MAA7BpqB,EAAQ8iC,mBAA6B9iC,EAAQ8iC,mBAAqB9iC,EAAQoqB,SAC3EpqB,EAAQqyC,cAAgBryC,EAAQk1B,MAA8B,GAAtBwO,GAAeznC,GACvD,OAAO,EAEPq2C,GAA2Br2C,KAC7B+mC,GAAU/mC,GACVkwC,EAAOhW,KAAO6F,GAAc//B,IAI9B,IAAIqQ,EAAMmY,EAAIC,MAAQD,EAAIE,KACtBvjB,EAAO1I,KAAKgB,IAAIyyC,EAAO8E,QAAQ7vC,KAAOnF,EAAGoB,QAAQk1C,eAAgB9tB,EAAIC,OACrE9kB,EAAKlH,KAAKe,IAAI6S,EAAK6/B,EAAO8E,QAAQrxC,GAAK3D,EAAGoB,QAAQk1C,gBAClDvyC,EAAQmqB,SAAW/oB,GAAQA,EAAOpB,EAAQmqB,SAAW,KAAM/oB,EAAO1I,KAAKgB,IAAI+qB,EAAIC,MAAO1kB,EAAQmqB,WAC9FnqB,EAAQoqB,OAASxqB,GAAMI,EAAQoqB,OAASxqB,EAAK,KAAMA,EAAKlH,KAAKe,IAAI6S,EAAKtM,EAAQoqB,SAC9EwB,KACFxqB,EAAOivB,GAAap0B,EAAGwoB,IAAKrjB,GAC5BxB,EAAK4wB,GAAgBv0B,EAAGwoB,IAAK7kB,IAG/B,IAAI4yC,EAAYpxC,GAAQpB,EAAQmqB,UAAYvqB,GAAMI,EAAQoqB,QACxDpqB,EAAQyyC,gBAAkBtG,EAAOgF,eAAiBnxC,EAAQ0yC,eAAiBvG,EAAOpT,aACpF0K,GAAWxnC,EAAImF,EAAMxB,GAErBI,EAAQk/B,WAAatO,GAAapM,GAAQvoB,EAAGwoB,IAAKzkB,EAAQmqB,WAE1DluB,EAAG+D,QAAQ25B,MAAMn6B,MAAMY,IAAMJ,EAAQk/B,WAAa,KAElD,IAAIyT,EAAWjP,GAAeznC,GAC9B,IAAKu2C,GAAyB,GAAZG,IAAkBxG,EAAO6E,OAAShxC,EAAQqyC,cAAgBryC,EAAQk1B,OAClD,MAA7Bl1B,EAAQ8iC,mBAA6B9iC,EAAQ8iC,mBAAqB9iC,EAAQoqB,QAC3E,OAAO,EAIX,IAAIwoB,EAAcnB,GAAkBx1C,GAuBpC,OAtBI02C,EAAW,IAAK3yC,EAAQ8nC,QAAQtoC,MAAMQ,QAAU,QACpD6yC,GAAa52C,EAAI+D,EAAQ8iC,kBAAmBqJ,EAAOhW,MAC/Cwc,EAAW,IAAK3yC,EAAQ8nC,QAAQtoC,MAAMQ,QAAU,IACpDA,EAAQqyC,aAAeryC,EAAQk1B,KAG/B8c,GAAiBY,GAIjBj8B,EAAe3W,EAAQ8mC,WACvBnwB,EAAe3W,EAAQ8yC,cACvB9yC,EAAQs5B,QAAQ95B,MAAM6lB,OAASrlB,EAAQ05B,MAAMl6B,MAAMysC,UAAY,EAE3DuG,IACFxyC,EAAQyyC,eAAiBtG,EAAOgF,cAChCnxC,EAAQ0yC,cAAgBvG,EAAOpT,aAC/B+R,GAAY7uC,EAAI,MAGlB+D,EAAQ8iC,kBAAoB,MAErB,EAGT,SAAS8M,GAAkB3zC,EAAIkwC,GAG7B,IAFA,IAAI7D,EAAW6D,EAAO7D,SAEb5jB,GAAQ,GAAOA,GAAQ,EAAO,CACrC,GAAKA,GAAUzoB,EAAGoB,QAAQ69B,cAAgBiR,EAAOiF,iBAAmB3W,GAAax+B,GAStEyoB,IACTynB,EAAO8E,QAAU5I,GAAapsC,EAAG+D,QAAS/D,EAAGwoB,IAAK6jB,SAHlD,GALIA,GAA4B,MAAhBA,EAASloC,MACrBkoC,EAAW,CAACloC,IAAK1H,KAAKe,IAAIwC,EAAGwoB,IAAIY,OAAS0U,GAAY99B,EAAG+D,SAAW46B,GAAc3+B,GAAKqsC,EAASloC,OAGpG+rC,EAAO8E,QAAU5I,GAAapsC,EAAG+D,QAAS/D,EAAGwoB,IAAK6jB,GAC9C6D,EAAO8E,QAAQ7vC,MAAQnF,EAAG+D,QAAQmqB,UAAYgiB,EAAO8E,QAAQrxC,IAAM3D,EAAG+D,QAAQoqB,OAC9E,MAIN,IAAKilB,GAAsBpzC,EAAIkwC,GAAW,MAC1CvE,GAAwB3rC,GACxB,IAAIqzC,EAAajE,GAAqBpvC,GACtC2nC,GAAgB3nC,GAChBkxC,GAAiBlxC,EAAIqzC,GACrBK,GAAkB1zC,EAAIqzC,GACtBnD,EAAO6E,OAAQ,EAGjB7E,EAAO5sB,OAAOtjB,EAAI,SAAUA,GACxBA,EAAG+D,QAAQmqB,UAAYluB,EAAG+D,QAAQ+yC,kBAAoB92C,EAAG+D,QAAQoqB,QAAUnuB,EAAG+D,QAAQgzC,iBACxF7G,EAAO5sB,OAAOtjB,EAAI,iBAAkBA,EAAIA,EAAG+D,QAAQmqB,SAAUluB,EAAG+D,QAAQoqB,QACxEnuB,EAAG+D,QAAQ+yC,iBAAmB92C,EAAG+D,QAAQmqB,SAAUluB,EAAG+D,QAAQgzC,eAAiB/2C,EAAG+D,QAAQoqB,QAI9F,SAASwgB,GAAoB3uC,EAAIqsC,GAC/B,IAAI6D,EAAS,IAAIgD,GAAclzC,EAAIqsC,GACnC,GAAI+G,GAAsBpzC,EAAIkwC,GAAS,CACrCvE,GAAwB3rC,GACxB2zC,GAAkB3zC,EAAIkwC,GACtB,IAAImD,EAAajE,GAAqBpvC,GACtC2nC,GAAgB3nC,GAChBkxC,GAAiBlxC,EAAIqzC,GACrBK,GAAkB1zC,EAAIqzC,GACtBnD,EAAO+D,UAQX,SAAS2C,GAAa52C,EAAIg3C,EAAmB9c,GAC3C,IAAIn2B,EAAU/D,EAAG+D,QAAS03B,EAAcz7B,EAAGoB,QAAQq6B,YAC/Cwb,EAAYlzC,EAAQ8nC,QAASziC,EAAM6tC,EAAUr8B,WAEjD,SAASs8B,EAAG38B,GACV,IAAI9P,EAAO8P,EAAK4hB,YAMhB,OAJIhjB,GAAUY,GAAO/Z,EAAG+D,QAAQozC,oBAAsB58B,EAClDA,EAAKhX,MAAMQ,QAAU,OAErBwW,EAAK1I,WAAWC,YAAYyI,GACzB9P,EAMT,IAHA,IAAIwuB,EAAOl1B,EAAQk1B,KAAM5E,EAAQtwB,EAAQmqB,SAGhC7xB,EAAI,EAAGA,EAAI48B,EAAK/8B,OAAQG,IAAK,CACpC,IAAIw5B,EAAWoD,EAAK58B,GACpB,GAAIw5B,EAASiD,aAAe,GAAKjD,EAAStb,MAAQsb,EAAStb,KAAK1I,YAAcolC,EAGvE,CACL,MAAO7tC,GAAOysB,EAAStb,KAAQnR,EAAM8tC,EAAG9tC,GACxC,IAAIguC,EAAe3b,GAAoC,MAArBub,GAChCA,GAAqB3iB,GAASwB,EAAS+F,WACrC/F,EAASsE,UACPl4B,EAAQ4zB,EAASsE,QAAS,WAAa,IAAKid,GAAe,GAC/Dnd,GAAqBj6B,EAAI61B,EAAUxB,EAAO6F,IAExCkd,IACF18B,EAAemb,EAAS+F,YACxB/F,EAAS+F,WAAW91B,YAAYjC,SAASkC,eAAe8jB,GAAc7pB,EAAGoB,QAASizB,MAEpFjrB,EAAMysB,EAAStb,KAAK4hB,gBAfmE,CACvF,IAAI5hB,EAAO8hB,GAAiBr8B,EAAI61B,EAAUxB,EAAO6F,GACjD+c,EAAUpc,aAAatgB,EAAMnR,GAe/BirB,GAASwB,EAASnN,KAEpB,MAAOtf,EAAOA,EAAM8tC,EAAG9tC,GAGzB,SAASiuC,GAAkBtzC,GACzB,IAAI84B,EAAQ94B,EAAQs5B,QAAQjY,YAC5BrhB,EAAQ05B,MAAMl6B,MAAM25B,WAAaL,EAAQ,KAEzChD,GAAY91B,EAAS,gBAAiBA,GAGxC,SAAS2vC,GAAkB1zC,EAAIklB,GAC7BllB,EAAG+D,QAAQ05B,MAAMl6B,MAAMysC,UAAY9qB,EAAQwqB,UAAY,KACvD1vC,EAAG+D,QAAQytC,aAAajuC,MAAMY,IAAM+gB,EAAQwqB,UAAY,KACxD1vC,EAAG+D,QAAQs5B,QAAQ95B,MAAM6lB,OAAUlE,EAAQwqB,UAAY1vC,EAAG+D,QAAQ86B,UAAYP,GAAUt+B,GAAO,KAKjG,SAASmvC,GAAkBnvC,GACzB,IAAI+D,EAAU/D,EAAG+D,QAASk1B,EAAOl1B,EAAQk1B,KACzC,GAAKl1B,EAAQuzC,cAAkBvzC,EAAQs5B,QAAQziB,YAAe5a,EAAGoB,QAAQi6B,YAAzE,CAGA,IAFA,IAAIkc,EAAO3R,GAAqB7hC,GAAWA,EAAQ06B,SAAS+D,WAAaxiC,EAAGwoB,IAAIga,WAC5E6M,EAAUtrC,EAAQs5B,QAAQjY,YAAava,EAAO0sC,EAAO,KAChDl7C,EAAI,EAAGA,EAAI48B,EAAK/8B,OAAQG,IAAO,IAAK48B,EAAK58B,GAAGy8B,OAAQ,CACvD94B,EAAGoB,QAAQi6B,cACTpC,EAAK58B,GAAG6+B,SACRjC,EAAK58B,GAAG6+B,OAAO33B,MAAMsH,KAAOA,GAC5BouB,EAAK58B,GAAG8+B,mBACRlC,EAAK58B,GAAG8+B,iBAAiB53B,MAAMsH,KAAOA,IAE5C,IAAI2sC,EAAQve,EAAK58B,GAAG4/B,UACpB,GAAIub,EAAS,IAAK,IAAI71B,EAAI,EAAGA,EAAI61B,EAAMt7C,OAAQylB,IAC3C61B,EAAM71B,GAAGpe,MAAMsH,KAAOA,EAExB7K,EAAGoB,QAAQi6B,cACXt3B,EAAQs5B,QAAQ95B,MAAMsH,KAAQ0sC,EAAOlI,EAAW,OAMtD,SAASgH,GAA2Br2C,GAClC,IAAKA,EAAGoB,QAAQq6B,YAAe,OAAO,EACtC,IAAIjT,EAAMxoB,EAAGwoB,IAAK+B,EAAOV,GAAc7pB,EAAGoB,QAASonB,EAAIC,MAAQD,EAAIE,KAAO,GAAI3kB,EAAU/D,EAAG+D,QAC3F,GAAIwmB,EAAKruB,QAAU6H,EAAQq+B,aAAc,CACvC,IAAIjgC,EAAO4B,EAAQmhB,QAAQpf,YAAYiV,EAAI,MAAO,CAACA,EAAI,MAAOwP,IACnB,gDACvCktB,EAASt1C,EAAKyY,WAAWwK,YAAawjB,EAAUzmC,EAAKijB,YAAcqyB,EAOvE,OANA1zC,EAAQ2zC,WAAWn0C,MAAMs5B,MAAQ,GACjC94B,EAAQ4zC,kBAAoBl7C,KAAKgB,IAAIg6C,EAAQ1zC,EAAQ2zC,WAAWtyB,YAAcwjB,GAAW,EACzF7kC,EAAQ6zC,aAAe7zC,EAAQ4zC,kBAAoB/O,EACnD7kC,EAAQq+B,aAAer+B,EAAQ4zC,kBAAoBptB,EAAKruB,QAAU,EAClE6H,EAAQ2zC,WAAWn0C,MAAMs5B,MAAQ94B,EAAQ6zC,aAAe,KACxDP,GAAkBr3C,EAAG+D,UACd,EAET,OAAO,EAGT,SAAS8zC,GAAWxa,EAAS5B,GAE3B,IADA,IAAI9mB,EAAS,GAAImjC,GAAiB,EACzBz7C,EAAI,EAAGA,EAAIghC,EAAQnhC,OAAQG,IAAK,CACvC,IAAIqL,EAAO21B,EAAQhhC,GAAIkH,EAAQ,KAE/B,GADmB,iBAARmE,IAAoBnE,EAAQmE,EAAKnE,MAAOmE,EAAOA,EAAK1B,WACnD,0BAAR0B,EAAkC,CACpC,IAAK+zB,EAAe,SACbqc,GAAiB,EAE1BnjC,EAAO5K,KAAK,CAAC/D,UAAW0B,EAAMnE,MAAOA,IAGvC,OADIk4B,IAAgBqc,GAAkBnjC,EAAO5K,KAAK,CAAC/D,UAAW,yBAA0BzC,MAAO,OACxFoR,EAKT,SAASojC,GAAch0C,GACrB,IAAIs5B,EAAUt5B,EAAQs5B,QAAS2a,EAAQj0C,EAAQg4B,YAC/CrhB,EAAe2iB,GACft5B,EAAQ2zC,WAAa,KACrB,IAAK,IAAIr7C,EAAI,EAAGA,EAAI27C,EAAM97C,SAAUG,EAAG,CACrC,IAAIgpC,EAAM2S,EAAM37C,GACZ2J,EAAYq/B,EAAIr/B,UAChBzC,EAAQ8hC,EAAI9hC,MACZ00C,EAAO5a,EAAQv3B,YAAYiV,EAAI,MAAO,KAAM,qBAAuB/U,IACnEzC,IAAS00C,EAAK10C,MAAMyX,QAAUzX,GACjB,0BAAbyC,IACFjC,EAAQ2zC,WAAaO,EACrBA,EAAK10C,MAAMs5B,OAAS94B,EAAQ6zC,cAAgB,GAAK,MAGrDva,EAAQ95B,MAAMQ,QAAUi0C,EAAM97C,OAAS,GAAK,OAC5Cm7C,GAAkBtzC,GAGpB,SAASm0C,GAAcl4C,GACrB+3C,GAAc/3C,EAAG+D,SACjB4iC,GAAU3mC,GACVmvC,GAAkBnvC,GAOpB,SAASm4C,GAAQnX,EAAOxY,EAAKwP,EAAO52B,GAClC,IAAI2zB,EAAIz3B,KACRA,KAAK06B,MAAQA,EAGbjD,EAAE2c,gBAAkB32B,EAAI,MAAO,KAAM,+BACrCga,EAAE2c,gBAAgBx2B,aAAa,iBAAkB,QAGjD6Z,EAAE6c,aAAe72B,EAAI,MAAO,KAAM,4BAClCga,EAAE6c,aAAa12B,aAAa,iBAAkB,QAE9C6Z,EAAE8W,QAAU5wB,EAAK,MAAO,KAAM,mBAE9B8Z,EAAE8hB,aAAe97B,EAAI,MAAO,KAAM,KAAM,kCACxCga,EAAE8V,UAAY9vB,EAAI,MAAO,KAAM,sBAE/Bga,EAAE7P,QAAUnK,EAAI,MAAO,KAAM,sBAE7Bga,EAAEyK,YAAczkB,EAAI,MAAO,KAAM,sBAEjCga,EAAE6I,UAAY3iB,EAAK,MAAO,CAAC8Z,EAAE7P,QAAS6P,EAAEyK,YAAazK,EAAE8hB,aAAc9hB,EAAE8V,UAAW9V,EAAE8W,SAClE,KAAM,qCACxB,IAAIjjB,EAAQ3N,EAAK,MAAO,CAAC8Z,EAAE6I,WAAY,oBAEvC7I,EAAE2I,MAAQ3iB,EAAI,MAAO,CAAC6N,GAAQ,KAAM,sBAEpCmM,EAAE0I,MAAQ1iB,EAAI,MAAO,CAACga,EAAE2I,OAAQ,oBAChC3I,EAAEgU,WAAa,KAIfhU,EAAEyc,aAAez2B,EAAI,MAAO,KAAM,KAAM,+BAAiC4C,EAAc,mBAEvFoX,EAAEsI,QAAUtiB,EAAI,MAAO,KAAM,sBAC7Bga,EAAE2iB,WAAa,KAEf3iB,EAAE0J,SAAW1jB,EAAI,MAAO,CAACga,EAAE0I,MAAO1I,EAAEyc,aAAczc,EAAEsI,SAAU,qBAC9DtI,EAAE0J,SAASvjB,aAAa,WAAY,MAEpC6Z,EAAE/wB,QAAU+W,EAAI,MAAO,CAACga,EAAE2c,gBAAiB3c,EAAE6c,aAAc7c,EAAE0J,UAAW,cAIxE1J,EAAE/wB,QAAQkX,aAAa,YAAa,MAGhClC,GAAMC,EAAa,IAAK8b,EAAEsI,QAAQ95B,MAAMm3B,QAAU,EAAG3F,EAAE0J,SAASl7B,MAAM66B,aAAe,GACpFjlB,GAAYP,GAASkB,IAAWib,EAAE0J,SAAS2Z,WAAY,GAExDpX,IACEA,EAAMl7B,YAAek7B,EAAMl7B,YAAYivB,EAAE/wB,SACtCg9B,EAAMjM,EAAE/wB,UAIjB+wB,EAAE7G,SAAW6G,EAAE5G,OAAS3F,EAAIC,MAC5BsM,EAAE+hB,iBAAmB/hB,EAAEgiB,eAAiBvuB,EAAIC,MAE5CsM,EAAEkE,KAAO,GACTlE,EAAEqhB,aAAe,KAGjBrhB,EAAEwB,iBAAmB,KAErBxB,EAAEkO,WAAa,EACflO,EAAEyhB,eAAiBzhB,EAAE0hB,cAAgB,EACrC1hB,EAAE8R,kBAAoB,KAEtB9R,EAAEwJ,eAAiBxJ,EAAE8J,UAAY9J,EAAE2J,SAAW,EAC9C3J,EAAEsgB,mBAAoB,EAItBtgB,EAAE6iB,aAAe7iB,EAAE4iB,kBAAoB5iB,EAAEqN,aAAe,KAIxDrN,EAAEuiB,cAAe,EAEjBviB,EAAEmN,gBAAkBnN,EAAEoN,iBAAmBpN,EAAEiJ,eAAiB,KAI5DjJ,EAAEC,QAAU,KACZD,EAAEE,cAAgB,EAClBF,EAAEG,gBAAiB,EAGnBH,EAAEsjB,QAAUtjB,EAAEujB,QAAUvjB,EAAE6e,YAAc7e,EAAE8e,YAAc,KAGxD9e,EAAE2W,OAAQ,EAIV3W,EAAEyW,kBAAoB,KAEtBzW,EAAEwjB,YAAc,KAEhBxjB,EAAEgH,YAAc8b,GAAWz2C,EAAQi8B,QAASj8B,EAAQq6B,aACpDsc,GAAchjB,GAEdiD,EAAM/gB,KAAK8d,GArabme,GAAcr1C,UAAUylB,OAAS,SAAUT,EAAS3c,GAC9C+d,GAAWpB,EAAS3c,IACpB5I,KAAK83C,OAAOrrC,KAAKnE,YAEvBstC,GAAcr1C,UAAUo2C,OAAS,WAC/B,IAAK,IAAI53C,EAAI,EAAGA,EAAIiB,KAAK83C,OAAOl5C,OAAQG,IACpCinB,GAAO9G,MAAM,KAAMlf,KAAK83C,OAAO/4C,KA6arC,IAAIm8C,GAAe,EAAGC,GAAqB,KAU3C,SAASC,GAAgBx2C,GACvB,IAAIy2C,EAAKz2C,EAAE02C,YAAaC,EAAK32C,EAAE42C,YAI/B,OAHU,MAANH,GAAcz2C,EAAE62C,QAAU72C,EAAE8vC,MAAQ9vC,EAAE82C,kBAAmBL,EAAKz2C,EAAE62C,QAC1D,MAANF,GAAc32C,EAAE62C,QAAU72C,EAAE8vC,MAAQ9vC,EAAE+2C,cAAiBJ,EAAK32C,EAAE62C,OACnD,MAANF,IAAcA,EAAK32C,EAAEg3C,YACvB,CAAC3tC,EAAGotC,EAAIntC,EAAGqtC,GAEpB,SAASM,GAAiBj3C,GACxB,IAAIk3C,EAAQV,GAAgBx2C,GAG5B,OAFAk3C,EAAM7tC,GAAKktC,GACXW,EAAM5tC,GAAKitC,GACJW,EAGT,SAASC,GAAcr5C,EAAIkC,GACzB,IAAIk3C,EAAQV,GAAgBx2C,GAAIy2C,EAAKS,EAAM7tC,EAAGstC,EAAKO,EAAM5tC,EACrD8tC,EAAgBb,GACA,IAAhBv2C,EAAEq3C,YACJZ,EAAKz2C,EAAEs3C,OACPX,EAAK32C,EAAEu3C,OACPH,EAAgB,GAGlB,IAAIv1C,EAAU/D,EAAG+D,QAAS8Z,EAAS9Z,EAAQ06B,SAEvCib,EAAa77B,EAAOqxB,YAAcrxB,EAAOyf,YACzCqc,EAAa97B,EAAOkxB,aAAelxB,EAAO+gB,aAC9C,GAAM+Z,GAAMe,GAAcb,GAAMc,EAAhC,CAMA,GAAId,GAAM9+B,GAAOZ,EACfuQ,EAAO,IAAK,IAAItgB,EAAMlH,EAAEkR,OAAQ6lB,EAAOl1B,EAAQk1B,KAAM7vB,GAAOyU,EAAQzU,EAAMA,EAAIyI,WAC5E,IAAK,IAAIxV,EAAI,EAAGA,EAAI48B,EAAK/8B,OAAQG,IAC/B,GAAI48B,EAAK58B,GAAGke,MAAQnR,EAAK,CACvBpJ,EAAG+D,QAAQozC,mBAAqB/tC,EAChC,MAAMsgB,EAYd,GAAIivB,IAAO//B,IAAUU,GAA2B,MAAjBggC,EAW7B,OAVIT,GAAMc,GACNrM,GAAgBttC,EAAIvD,KAAKgB,IAAI,EAAGogB,EAAO+kB,UAAYiW,EAAKS,IAC5D/L,GAAcvtC,EAAIvD,KAAKgB,IAAI,EAAGogB,EAAO2kB,WAAamW,EAAKW,MAKlDT,GAAOA,GAAMc,IACd5mC,GAAiB7Q,QACrB6B,EAAQ6vC,YAAc,MAMxB,GAAIiF,GAAuB,MAAjBS,EAAuB,CAC/B,IAAIM,EAASf,EAAKS,EACdn1C,EAAMnE,EAAGwoB,IAAIoa,UAAWvB,EAAMl9B,EAAMJ,EAAQC,QAAQ46B,aACpDgb,EAAS,EAAKz1C,EAAM1H,KAAKgB,IAAI,EAAG0G,EAAMy1C,EAAS,IAC5CvY,EAAM5kC,KAAKe,IAAIwC,EAAGwoB,IAAIY,OAAQiY,EAAMuY,EAAS,IACpDjL,GAAoB3uC,EAAI,CAACmE,IAAKA,EAAKhD,OAAQkgC,IAGzCmX,GAAe,IAAsB,IAAhBt2C,EAAEq3C,YACE,MAAvBx1C,EAAQ6vC,aACV7vC,EAAQ6vC,YAAc/1B,EAAO2kB,WAAYz+B,EAAQ8vC,YAAch2B,EAAO+kB,UACtE7+B,EAAQs0C,QAAUM,EAAI50C,EAAQu0C,QAAUO,EACxC7lC,YAAW,WACT,GAA2B,MAAvBjP,EAAQ6vC,YAAZ,CACA,IAAIiG,EAASh8B,EAAO2kB,WAAaz+B,EAAQ6vC,YACrCkG,EAASj8B,EAAO+kB,UAAY7+B,EAAQ8vC,YACpCkG,EAAUD,GAAU/1C,EAAQu0C,SAAWwB,EAAS/1C,EAAQu0C,SACzDuB,GAAU91C,EAAQs0C,SAAWwB,EAAS91C,EAAQs0C,QACjDt0C,EAAQ6vC,YAAc7vC,EAAQ8vC,YAAc,KACvCkG,IACLtB,IAAsBA,GAAqBD,GAAeuB,IAAWvB,GAAe,KAClFA,OACD,OAEHz0C,EAAQs0C,SAAWM,EAAI50C,EAAQu0C,SAAWO,KA/F5C7/B,EAAMy/B,IAAsB,IACvB7/B,EAAS6/B,GAAqB,GAC9Bp/B,EAAUo/B,IAAsB,GAChCl/B,IAAUk/B,IAAsB,EAAE,GAsG3C,IAAIuB,GAAY,SAASlxC,EAAQq/B,GAC/B7qC,KAAKwL,OAASA,EACdxL,KAAK6qC,UAAYA,GAGnB6R,GAAUn8C,UAAUgM,QAAU,WAAc,OAAOvM,KAAKwL,OAAOxL,KAAK6qC,YAEpE6R,GAAUn8C,UAAUo8C,OAAS,SAAUnW,GACrC,GAAIA,GAASxmC,KAAQ,OAAO,EAC5B,GAAIwmC,EAAMqE,WAAa7qC,KAAK6qC,WAAarE,EAAMh7B,OAAO5M,QAAUoB,KAAKwL,OAAO5M,OAAU,OAAO,EAC7F,IAAK,IAAIG,EAAI,EAAGA,EAAIiB,KAAKwL,OAAO5M,OAAQG,IAAK,CAC3C,IAAI69C,EAAO58C,KAAKwL,OAAOzM,GAAI89C,EAAQrW,EAAMh7B,OAAOzM,GAChD,IAAK4tB,GAAeiwB,EAAKlwC,OAAQmwC,EAAMnwC,UAAYigB,GAAeiwB,EAAK/wC,KAAMgxC,EAAMhxC,MAAS,OAAO,EAErG,OAAO,GAGT6wC,GAAUn8C,UAAUu8C,SAAW,WAE7B,IADA,IAAI57B,EAAM,GACDniB,EAAI,EAAGA,EAAIiB,KAAKwL,OAAO5M,OAAQG,IACpCmiB,EAAIniB,GAAK,IAAIg+C,GAAMnwB,GAAQ5sB,KAAKwL,OAAOzM,GAAG2N,QAASkgB,GAAQ5sB,KAAKwL,OAAOzM,GAAG8M,OAC9E,OAAO,IAAI6wC,GAAUx7B,EAAKlhB,KAAK6qC,YAGjC6R,GAAUn8C,UAAUy8C,kBAAoB,WACtC,IAAK,IAAIj+C,EAAI,EAAGA,EAAIiB,KAAKwL,OAAO5M,OAAQG,IACpC,IAAKiB,KAAKwL,OAAOzM,GAAG2M,QAAW,OAAO,EAC1C,OAAO,GAGTgxC,GAAUn8C,UAAUsd,SAAW,SAAU/b,EAAKiR,GACvCA,IAAOA,EAAMjR,GAClB,IAAK,IAAI/C,EAAI,EAAGA,EAAIiB,KAAKwL,OAAO5M,OAAQG,IAAK,CAC3C,IAAIyN,EAAQxM,KAAKwL,OAAOzM,GACxB,GAAI2tB,GAAI3Z,EAAKvG,EAAM3E,SAAW,GAAK6kB,GAAI5qB,EAAK0K,EAAMnG,OAAS,EACvD,OAAOtH,EAEb,OAAQ,GAGV,IAAIg+C,GAAQ,SAASrwC,EAAQb,GAC3B7L,KAAK0M,OAASA,EAAQ1M,KAAK6L,KAAOA,GAUpC,SAASoxC,GAAmBv6C,EAAI8I,EAAQq/B,GACtC,IAAIqS,EAAWx6C,GAAMA,EAAGoB,QAAQq5C,mBAC5BC,EAAO5xC,EAAOq/B,GAClBr/B,EAAO6xC,MAAK,SAAUj/B,EAAG5I,GAAK,OAAOkX,GAAItO,EAAEvW,OAAQ2N,EAAE3N,WACrDgjC,EAAYlmC,EAAQ6G,EAAQ4xC,GAC5B,IAAK,IAAIr+C,EAAI,EAAGA,EAAIyM,EAAO5M,OAAQG,IAAK,CACtC,IAAI+M,EAAMN,EAAOzM,GAAIN,EAAO+M,EAAOzM,EAAI,GACnCgtB,EAAOW,GAAIjuB,EAAK4H,KAAMyF,EAAIjE,QAC9B,GAAIq1C,IAAapxC,EAAIJ,QAAUqgB,EAAO,EAAIA,GAAQ,EAAG,CACnD,IAAIlkB,EAAOilB,GAAOruB,EAAKoJ,OAAQiE,EAAIjE,QAASxB,EAAKwmB,GAAOpuB,EAAK4H,KAAMyF,EAAIzF,MACnEi3C,EAAM7+C,EAAKiN,QAAUI,EAAIjE,QAAUiE,EAAID,KAAOpN,EAAKoJ,QAAUpJ,EAAKoN,KAClE9M,GAAK8rC,KAAeA,EACxBr/B,EAAOiP,SAAS1b,EAAG,EAAG,IAAIg+C,GAAMO,EAAMj3C,EAAKwB,EAAMy1C,EAAMz1C,EAAOxB,KAGlE,OAAO,IAAIq2C,GAAUlxC,EAAQq/B,GAG/B,SAAS0S,GAAgB7wC,EAAQb,GAC/B,OAAO,IAAI6wC,GAAU,CAAC,IAAIK,GAAMrwC,EAAQb,GAAQa,IAAU,GAK5D,SAAS8wC,GAAUtpB,GACjB,OAAKA,EAAO/wB,KACLsE,GAAIysB,EAAOrsB,KAAKvB,KAAO4tB,EAAO/wB,KAAKvE,OAAS,EACxCqiB,EAAIiT,EAAO/wB,MAAMvE,QAAgC,GAAtBs1B,EAAO/wB,KAAKvE,OAAcs1B,EAAOrsB,KAAKrD,GAAK,IAFtD0vB,EAAO7tB,GAOpC,SAASo3C,GAAgB37C,EAAKoyB,GAC5B,GAAIxH,GAAI5qB,EAAKoyB,EAAOrsB,MAAQ,EAAK,OAAO/F,EACxC,GAAI4qB,GAAI5qB,EAAKoyB,EAAO7tB,KAAO,EAAK,OAAOm3C,GAAUtpB,GAEjD,IAAI5tB,EAAOxE,EAAIwE,KAAO4tB,EAAO/wB,KAAKvE,QAAUs1B,EAAO7tB,GAAGC,KAAO4tB,EAAOrsB,KAAKvB,MAAQ,EAAG9B,EAAK1C,EAAI0C,GAE7F,OADI1C,EAAIwE,MAAQ4tB,EAAO7tB,GAAGC,OAAQ9B,GAAMg5C,GAAUtpB,GAAQ1vB,GAAK0vB,EAAO7tB,GAAG7B,IAClEiD,GAAInB,EAAM9B,GAGnB,SAASk5C,GAAsBxyB,EAAKgJ,GAElC,IADA,IAAIhT,EAAM,GACDniB,EAAI,EAAGA,EAAImsB,EAAIre,IAAIrB,OAAO5M,OAAQG,IAAK,CAC9C,IAAIyN,EAAQ0e,EAAIre,IAAIrB,OAAOzM,GAC3BmiB,EAAIzU,KAAK,IAAIswC,GAAMU,GAAgBjxC,EAAME,OAAQwnB,GAC9BupB,GAAgBjxC,EAAMX,KAAMqoB,KAEjD,OAAO+oB,GAAmB/xB,EAAIxoB,GAAIwe,EAAKgK,EAAIre,IAAIg+B,WAGjD,SAAS8S,GAAU77C,EAAKwI,EAAKmpB,GAC3B,OAAI3xB,EAAIwE,MAAQgE,EAAIhE,KACTmB,GAAIgsB,EAAGntB,KAAMxE,EAAI0C,GAAK8F,EAAI9F,GAAKivB,EAAGjvB,IAElCiD,GAAIgsB,EAAGntB,MAAQxE,EAAIwE,KAAOgE,EAAIhE,MAAOxE,EAAI0C,IAKtD,SAASo5C,GAAmB1yB,EAAK2R,EAASghB,GAGxC,IAFA,IAAI38B,EAAM,GACN48B,EAAUr2C,GAAIyjB,EAAIC,MAAO,GAAI4yB,EAAUD,EAClC/+C,EAAI,EAAGA,EAAI89B,EAAQj+B,OAAQG,IAAK,CACvC,IAAIm1B,EAAS2I,EAAQ99B,GACjB8I,EAAO81C,GAAUzpB,EAAOrsB,KAAMi2C,EAASC,GACvC13C,EAAKs3C,GAAUH,GAAUtpB,GAAS4pB,EAASC,GAG/C,GAFAD,EAAU5pB,EAAO7tB,GACjB03C,EAAU13C,EACE,UAARw3C,EAAkB,CACpB,IAAIrxC,EAAQ0e,EAAIre,IAAIrB,OAAOzM,GAAIu+C,EAAM5wB,GAAIlgB,EAAMX,KAAMW,EAAME,QAAU,EACrEwU,EAAIniB,GAAK,IAAIg+C,GAAMO,EAAMj3C,EAAKwB,EAAMy1C,EAAMz1C,EAAOxB,QAEjD6a,EAAIniB,GAAK,IAAIg+C,GAAMl1C,EAAMA,GAG7B,OAAO,IAAI60C,GAAUx7B,EAAKgK,EAAIre,IAAIg+B,WAKpC,SAASmT,GAASt7C,GAChBA,EAAGwoB,IAAI7f,KAAOse,GAAQjnB,EAAGoB,QAASpB,EAAGwoB,IAAI+yB,YACzCC,GAAex7C,GAGjB,SAASw7C,GAAex7C,GACtBA,EAAGwoB,IAAIS,MAAK,SAAUrlB,GAChBA,EAAK4pB,aAAc5pB,EAAK4pB,WAAa,MACrC5pB,EAAKmpB,SAAUnpB,EAAKmpB,OAAS,SAEnC/sB,EAAGwoB,IAAIoF,aAAe5tB,EAAGwoB,IAAImF,kBAAoB3tB,EAAGwoB,IAAIC,MACxDomB,GAAY7uC,EAAI,KAChBA,EAAGC,MAAMssB,UACLvsB,EAAG+jB,OAAS4iB,GAAU3mC,GAQ5B,SAASy7C,GAAkBjzB,EAAKgJ,GAC9B,OAAyB,GAAlBA,EAAOrsB,KAAKrD,IAA2B,GAAhB0vB,EAAO7tB,GAAG7B,IAA+B,IAApByc,EAAIiT,EAAO/wB,SAC1D+nB,EAAIxoB,IAAMwoB,EAAIxoB,GAAGoB,QAAQs6C,uBAI/B,SAASC,GAAUnzB,EAAKgJ,EAAQhB,EAAa4E,GAC3C,SAASwmB,EAAS5+B,GAAI,OAAOwT,EAAcA,EAAYxT,GAAK,KAC5D,SAASkzB,EAAOtsC,EAAMnD,EAAMwvB,GAC1BoF,GAAWzxB,EAAMnD,EAAMwvB,EAAOmF,GAC9ByE,GAAYj2B,EAAM,SAAUA,EAAM4tB,GAEpC,SAASqqB,EAASj1C,EAAOyJ,GAEvB,IADA,IAAIsE,EAAS,GACJtY,EAAIuK,EAAOvK,EAAIgU,IAAOhU,EAC3BsY,EAAO5K,KAAK,IAAIorB,GAAK10B,EAAKpE,GAAIu/C,EAASv/C,GAAI+4B,IAC/C,OAAOzgB,EAGT,IAAIxP,EAAOqsB,EAAOrsB,KAAMxB,EAAK6tB,EAAO7tB,GAAIlD,EAAO+wB,EAAO/wB,KAClDwE,EAAYsjB,GAAQC,EAAKrjB,EAAKvB,MAAOoB,EAAWujB,GAAQC,EAAK7kB,EAAGC,MAChEk4C,EAAWv9B,EAAI9d,GAAOs7C,EAAYH,EAASn7C,EAAKvE,OAAS,GAAI8/C,EAASr4C,EAAGC,KAAOuB,EAAKvB,KAGzF,GAAI4tB,EAAOC,KACTjJ,EAAIyzB,OAAO,EAAGJ,EAAS,EAAGp7C,EAAKvE,SAC/BssB,EAAI0zB,OAAOz7C,EAAKvE,OAAQssB,EAAIE,KAAOjoB,EAAKvE,aACnC,GAAIu/C,GAAkBjzB,EAAKgJ,GAAS,CAGzC,IAAI2qB,EAAQN,EAAS,EAAGp7C,EAAKvE,OAAS,GACtCg0C,EAAOlrC,EAAUA,EAASvE,KAAMs7C,GAC5BC,GAAUxzB,EAAI0zB,OAAO/2C,EAAKvB,KAAMo4C,GAChCG,EAAMjgD,QAAUssB,EAAIyzB,OAAO92C,EAAKvB,KAAMu4C,QACrC,GAAIl3C,GAAaD,EACtB,GAAmB,GAAfvE,EAAKvE,OACPg0C,EAAOjrC,EAAWA,EAAUxE,KAAKyK,MAAM,EAAG/F,EAAKrD,IAAMg6C,EAAW72C,EAAUxE,KAAKyK,MAAMvH,EAAG7B,IAAKi6C,OACxF,CACL,IAAIK,EAAUP,EAAS,EAAGp7C,EAAKvE,OAAS,GACxCkgD,EAAQryC,KAAK,IAAIorB,GAAK2mB,EAAW72C,EAAUxE,KAAKyK,MAAMvH,EAAG7B,IAAKi6C,EAAW3mB,IACzE8a,EAAOjrC,EAAWA,EAAUxE,KAAKyK,MAAM,EAAG/F,EAAKrD,IAAMrB,EAAK,GAAIm7C,EAAS,IACvEpzB,EAAIyzB,OAAO92C,EAAKvB,KAAO,EAAGw4C,QAEvB,GAAmB,GAAf37C,EAAKvE,OACdg0C,EAAOjrC,EAAWA,EAAUxE,KAAKyK,MAAM,EAAG/F,EAAKrD,IAAMrB,EAAK,GAAKuE,EAASvE,KAAKyK,MAAMvH,EAAG7B,IAAK85C,EAAS,IACpGpzB,EAAI0zB,OAAO/2C,EAAKvB,KAAO,EAAGo4C,OACrB,CACL9L,EAAOjrC,EAAWA,EAAUxE,KAAKyK,MAAM,EAAG/F,EAAKrD,IAAMrB,EAAK,GAAIm7C,EAAS,IACvE1L,EAAOlrC,EAAU82C,EAAW92C,EAASvE,KAAKyK,MAAMvH,EAAG7B,IAAKi6C,GACxD,IAAIM,EAAUR,EAAS,EAAGp7C,EAAKvE,OAAS,GACpC8/C,EAAS,GAAKxzB,EAAI0zB,OAAO/2C,EAAKvB,KAAO,EAAGo4C,EAAS,GACrDxzB,EAAIyzB,OAAO92C,EAAKvB,KAAO,EAAGy4C,GAG5BxiB,GAAYrR,EAAK,SAAUA,EAAKgJ,GAIlC,SAAS8qB,GAAW9zB,EAAKjnB,EAAGg7C,GAC1B,SAASC,EAAUh0B,EAAKi0B,EAAMC,GAC5B,GAAIl0B,EAAIm0B,OAAU,IAAK,IAAItgD,EAAI,EAAGA,EAAImsB,EAAIm0B,OAAOzgD,SAAUG,EAAG,CAC5D,IAAIugD,EAAMp0B,EAAIm0B,OAAOtgD,GACrB,GAAIugD,EAAIp0B,KAAOi0B,EAAf,CACA,IAAII,EAASH,GAAcE,EAAIF,WAC3BH,IAAmBM,IACvBt7C,EAAEq7C,EAAIp0B,IAAKq0B,GACXL,EAAUI,EAAIp0B,IAAKA,EAAKq0B,MAG5BL,EAAUh0B,EAAK,MAAM,GAIvB,SAASs0B,GAAU98C,EAAIwoB,GACrB,GAAIA,EAAIxoB,GAAM,MAAM,IAAI0P,MAAM,oCAC9B1P,EAAGwoB,IAAMA,EACTA,EAAIxoB,GAAKA,EACTgmC,GAAoBhmC,GACpBs7C,GAASt7C,GACT+8C,GAAkB/8C,GAClBA,EAAGoB,QAAQ4f,UAAYwH,EAAIxH,UACtBhhB,EAAGoB,QAAQ69B,cAAgBnK,GAAY90B,GAC5CA,EAAGoB,QAAQuH,KAAO6f,EAAI+yB,WACtB5U,GAAU3mC,GAGZ,SAAS+8C,GAAkB/8C,IACN,OAApBA,EAAGwoB,IAAIxH,UAAqB5P,EAAWQ,GAAS5R,EAAG+D,QAAQ8nC,QAAS,kBAGrE,SAASmR,GAAiBh9C,GACxBk0C,GAAQl0C,GAAI,WACV+8C,GAAkB/8C,GAClB2mC,GAAU3mC,MAId,SAASi9C,GAAQlhD,GAIfuB,KAAK4/C,KAAO,GAAI5/C,KAAK6/C,OAAS,GAC9B7/C,KAAK8/C,UAAYrhD,EAAOA,EAAKqhD,UAAY5kB,IAGzCl7B,KAAK+/C,YAAc//C,KAAKggD,YAAc,EACtChgD,KAAKigD,OAASjgD,KAAKkgD,UAAY,KAC/BlgD,KAAKmgD,WAAangD,KAAKogD,cAAgB,KAEvCpgD,KAAKqgD,WAAargD,KAAKsgD,cAAgB7hD,EAAOA,EAAK6hD,cAAgB,EAKrE,SAASC,GAAwBr1B,EAAKgJ,GACpC,IAAIssB,EAAa,CAAC34C,KAAM+kB,GAAQsH,EAAOrsB,MAAOxB,GAAIm3C,GAAUtpB,GAAS/wB,KAAMuoB,GAAWR,EAAKgJ,EAAOrsB,KAAMqsB,EAAO7tB,KAG/G,OAFAo6C,GAAiBv1B,EAAKs1B,EAAYtsB,EAAOrsB,KAAKvB,KAAM4tB,EAAO7tB,GAAGC,KAAO,GACrE04C,GAAW9zB,GAAK,SAAUA,GAAO,OAAOu1B,GAAiBv1B,EAAKs1B,EAAYtsB,EAAOrsB,KAAKvB,KAAM4tB,EAAO7tB,GAAGC,KAAO,MAAO,GAC7Gk6C,EAKT,SAASE,GAAqBvgC,GAC5B,MAAOA,EAAMvhB,OAAQ,CACnB,IAAIquB,EAAOhM,EAAId,GACf,IAAI8M,EAAKzhB,OACF,MADY2U,EAAMwgC,OAO7B,SAASC,GAAgBC,EAAMpJ,GAC7B,OAAIA,GACFiJ,GAAqBG,EAAKjB,MACnB3+B,EAAI4/B,EAAKjB,OACPiB,EAAKjB,KAAKhhD,SAAWqiB,EAAI4/B,EAAKjB,MAAMp0C,OACtCyV,EAAI4/B,EAAKjB,MACPiB,EAAKjB,KAAKhhD,OAAS,IAAMiiD,EAAKjB,KAAKiB,EAAKjB,KAAKhhD,OAAS,GAAG4M,QAClEq1C,EAAKjB,KAAKe,MACH1/B,EAAI4/B,EAAKjB,YAFX,EAST,SAASkB,GAAmB51B,EAAKgJ,EAAQ6sB,EAAUC,GACjD,IAAIH,EAAO31B,EAAI+1B,QACfJ,EAAKhB,OAAOjhD,OAAS,EACrB,IAAsBkN,EAClBmhB,EADAhN,GAAQ,IAAItgB,KAGhB,IAAKkhD,EAAKZ,QAAUe,GACfH,EAAKV,YAAcjsB,EAAOzT,QAAUyT,EAAOzT,SACd,KAA3ByT,EAAOzT,OAAOjhB,OAAO,IAAaqhD,EAAKd,YAAc9/B,GAAQiL,EAAIxoB,GAAKwoB,EAAIxoB,GAAGoB,QAAQo9C,kBAAoB,MAC/E,KAA3BhtB,EAAOzT,OAAOjhB,OAAO,OACtBsM,EAAM80C,GAAgBC,EAAMA,EAAKZ,QAAUe,IAE9C/zB,EAAOhM,EAAInV,EAAI+wB,SACoB,GAA/BnQ,GAAIwH,EAAOrsB,KAAMqsB,EAAO7tB,KAAyC,GAA7BqmB,GAAIwH,EAAOrsB,KAAMolB,EAAK5mB,IAG5D4mB,EAAK5mB,GAAKm3C,GAAUtpB,GAGpBpoB,EAAI+wB,QAAQpwB,KAAK8zC,GAAwBr1B,EAAKgJ,QAE3C,CAEL,IAAIvP,EAAS1D,EAAI4/B,EAAKjB,MACjBj7B,GAAWA,EAAOnZ,QACnB21C,GAAuBj2B,EAAIre,IAAKg0C,EAAKjB,MACzC9zC,EAAM,CAAC+wB,QAAS,CAAC0jB,GAAwBr1B,EAAKgJ,IACvCmsB,WAAYQ,EAAKR,YACxBQ,EAAKjB,KAAKnzC,KAAKX,GACf,MAAO+0C,EAAKjB,KAAKhhD,OAASiiD,EAAKf,UAC7Be,EAAKjB,KAAKxR,QACLyS,EAAKjB,KAAK,GAAGp0C,QAAUq1C,EAAKjB,KAAKxR,QAG1CyS,EAAKjB,KAAKnzC,KAAKs0C,GACfF,EAAKR,aAAeQ,EAAKP,cACzBO,EAAKd,YAAcc,EAAKb,YAAc//B,EACtC4gC,EAAKZ,OAASY,EAAKX,UAAYc,EAC/BH,EAAKV,WAAaU,EAAKT,cAAgBlsB,EAAOzT,OAEzCwM,GAAQjH,GAAOkF,EAAK,gBAG3B,SAASk2B,GAA0Bl2B,EAAKzK,EAAQhiB,EAAMoO,GACpD,IAAIrI,EAAKic,EAAOjhB,OAAO,GACvB,MAAa,KAANgF,GACC,KAANA,GACA/F,EAAK+M,OAAO5M,QAAUiO,EAAIrB,OAAO5M,QACjCH,EAAKu+C,qBAAuBnwC,EAAImwC,qBAChC,IAAIr9C,KAAOurB,EAAI+1B,QAAQjB,cAAgB90B,EAAIxoB,GAAKwoB,EAAIxoB,GAAGoB,QAAQo9C,kBAAoB,KAOvF,SAASG,GAAsBn2B,EAAKre,EAAKm0C,EAAMl9C,GAC7C,IAAI+8C,EAAO31B,EAAI+1B,QAASxgC,EAAS3c,GAAWA,EAAQ2c,OAMhDugC,GAAQH,EAAKX,WACZz/B,GAAUogC,EAAKT,eAAiB3/B,IAC/BogC,EAAKd,aAAec,EAAKb,aAAea,EAAKV,YAAc1/B,GAC3D2gC,GAA0Bl2B,EAAKzK,EAAQQ,EAAI4/B,EAAKjB,MAAO/yC,IACzDg0C,EAAKjB,KAAKiB,EAAKjB,KAAKhhD,OAAS,GAAKiO,EAElCs0C,GAAuBt0C,EAAKg0C,EAAKjB,MAErCiB,EAAKb,aAAe,IAAIrgD,KACxBkhD,EAAKT,cAAgB3/B,EACrBogC,EAAKX,UAAYc,EACbl9C,IAAiC,IAAtBA,EAAQw9C,WACnBZ,GAAqBG,EAAKhB,QAGhC,SAASsB,GAAuBt0C,EAAK00C,GACnC,IAAI16C,EAAMoa,EAAIsgC,GACR16C,GAAOA,EAAI2E,QAAU3E,EAAI81C,OAAO9vC,IAClC00C,EAAK90C,KAAKI,GAIhB,SAAS4zC,GAAiBv1B,EAAKgJ,EAAQrsB,EAAMxB,GAC3C,IAAIm7C,EAAWttB,EAAO,SAAWhJ,EAAIlL,IAAKN,EAAI,EAC9CwL,EAAIS,KAAKxsB,KAAKgB,IAAI+qB,EAAIC,MAAOtjB,GAAO1I,KAAKe,IAAIgrB,EAAIC,MAAQD,EAAIE,KAAM/kB,IAAK,SAAUC,GAC5EA,EAAK4sB,eACJsuB,IAAaA,EAAWttB,EAAO,SAAWhJ,EAAIlL,IAAM,KAAKN,GAAKpZ,EAAK4sB,eACtExT,KAMN,SAAS+hC,GAAmB9uB,GAC1B,IAAKA,EAAS,OAAO,KAErB,IADA,IAAIzR,EACKniB,EAAI,EAAGA,EAAI4zB,EAAM/zB,SAAUG,EAC9B4zB,EAAM5zB,GAAG0zB,OAAOivB,kBAA0BxgC,IAAOA,EAAMyR,EAAM/kB,MAAM,EAAG7O,IACjEmiB,GAAOA,EAAIzU,KAAKkmB,EAAM5zB,IAEjC,OAAQmiB,EAAcA,EAAItiB,OAASsiB,EAAM,KAA3ByR,EAIhB,SAASgvB,GAAYz2B,EAAKgJ,GACxB,IAAIxR,EAAQwR,EAAO,SAAWhJ,EAAIlL,IAClC,IAAK0C,EAAS,OAAO,KAErB,IADA,IAAI+Q,EAAK,GACA10B,EAAI,EAAGA,EAAIm1B,EAAO/wB,KAAKvE,SAAUG,EACtC00B,EAAGhnB,KAAKg1C,GAAmB/+B,EAAM3jB,KACrC,OAAO00B,EAOT,SAASmuB,GAAc12B,EAAKgJ,GAC1B,IAAI5pB,EAAMq3C,GAAYz2B,EAAKgJ,GACvB2tB,EAAY5tB,GAAuB/I,EAAKgJ,GAC5C,IAAK5pB,EAAO,OAAOu3C,EACnB,IAAKA,EAAa,OAAOv3C,EAEzB,IAAK,IAAIvL,EAAI,EAAGA,EAAIuL,EAAI1L,SAAUG,EAAG,CACnC,IAAI+iD,EAASx3C,EAAIvL,GAAIgjD,EAAaF,EAAU9iD,GAC5C,GAAI+iD,GAAUC,EACZpvB,EAAO,IAAK,IAAItO,EAAI,EAAGA,EAAI09B,EAAWnjD,SAAUylB,EAAG,CAEjD,IADA,IAAIuO,EAAOmvB,EAAW19B,GACbma,EAAI,EAAGA,EAAIsjB,EAAOljD,SAAU4/B,EACjC,GAAIsjB,EAAOtjB,GAAG/L,QAAUG,EAAKH,OAAU,SAASE,EACpDmvB,EAAOr1C,KAAKmmB,QAELmvB,IACTz3C,EAAIvL,GAAKgjD,GAGb,OAAOz3C,EAKT,SAAS03C,GAAiBlK,EAAQmK,EAAUC,GAE1C,IADA,IAAI/wB,EAAO,GACFpyB,EAAI,EAAGA,EAAI+4C,EAAOl5C,SAAUG,EAAG,CACtC,IAAI+G,EAAQgyC,EAAO/4C,GACnB,GAAI+G,EAAM0F,OACR2lB,EAAK1kB,KAAKy1C,EAAiBxF,GAAUn8C,UAAUu8C,SAASrmC,KAAK3Q,GAASA,OADxE,CAIA,IAAI+2B,EAAU/2B,EAAM+2B,QAASslB,EAAa,GAC1ChxB,EAAK1kB,KAAK,CAACowB,QAASslB,IACpB,IAAK,IAAI99B,EAAI,EAAGA,EAAIwY,EAAQj+B,SAAUylB,EAAG,CACvC,IAAI6P,EAAS2I,EAAQxY,GAAItJ,OAAI,EAE7B,GADAonC,EAAW11C,KAAK,CAAC5E,KAAMqsB,EAAOrsB,KAAMxB,GAAI6tB,EAAO7tB,GAAIlD,KAAM+wB,EAAO/wB,OAC5D8+C,EAAY,IAAK,IAAI5iC,KAAQ6U,GAAcnZ,EAAIsE,EAAKtd,MAAM,mBACxD4C,EAAQs9C,EAAU/wC,OAAO6J,EAAE,MAAQ,IACrCkG,EAAIkhC,GAAY9iC,GAAQ6U,EAAO7U,UACxB6U,EAAO7U,MAKtB,OAAO8R,EAWT,SAASixB,GAAY51C,EAAOX,EAAM26B,EAAO6R,GACvC,GAAIA,EAAQ,CACV,IAAI3rC,EAASF,EAAME,OACnB,GAAI85B,EAAO,CACT,IAAI6b,EAAY31B,GAAI7gB,EAAMa,GAAU,EAChC21C,GAAc31B,GAAI8Z,EAAO95B,GAAU,GACrCA,EAASb,EACTA,EAAO26B,GACE6b,GAAc31B,GAAI7gB,EAAM26B,GAAS,IAC1C36B,EAAO26B,GAGX,OAAO,IAAIuW,GAAMrwC,EAAQb,GAEzB,OAAO,IAAIkxC,GAAMvW,GAAS36B,EAAMA,GAKpC,SAASy2C,GAAgBp3B,EAAKrf,EAAM26B,EAAO1iC,EAASu0C,GACpC,MAAVA,IAAkBA,EAASntB,EAAIxoB,KAAOwoB,EAAIxoB,GAAG+D,QAAQ2nC,OAASljB,EAAImtB,SACtEzwC,GAAasjB,EAAK,IAAIwxB,GAAU,CAAC0F,GAAYl3B,EAAIre,IAAIN,UAAWV,EAAM26B,EAAO6R,IAAU,GAAIv0C,GAK7F,SAASy+C,GAAiBr3B,EAAKs3B,EAAO1+C,GAGpC,IAFA,IAAIod,EAAM,GACNm3B,EAASntB,EAAIxoB,KAAOwoB,EAAIxoB,GAAG+D,QAAQ2nC,OAASljB,EAAImtB,QAC3Ct5C,EAAI,EAAGA,EAAImsB,EAAIre,IAAIrB,OAAO5M,OAAQG,IACvCmiB,EAAIniB,GAAKqjD,GAAYl3B,EAAIre,IAAIrB,OAAOzM,GAAIyjD,EAAMzjD,GAAI,KAAMs5C,GAC5D,IAAIoK,EAASxF,GAAmB/xB,EAAIxoB,GAAIwe,EAAKgK,EAAIre,IAAIg+B,WACrDjjC,GAAasjB,EAAKu3B,EAAQ3+C,GAI5B,SAAS4+C,GAAoBx3B,EAAKnsB,EAAGyN,EAAO1I,GAC1C,IAAI0H,EAAS0f,EAAIre,IAAIrB,OAAOoC,MAAM,GAClCpC,EAAOzM,GAAKyN,EACZ5E,GAAasjB,EAAK+xB,GAAmB/xB,EAAIxoB,GAAI8I,EAAQ0f,EAAIre,IAAIg+B,WAAY/mC,GAI3E,SAAS6+C,GAAmBz3B,EAAKxe,EAAQb,EAAM/H,GAC7C8D,GAAasjB,EAAKqyB,GAAgB7wC,EAAQb,GAAO/H,GAKnD,SAAS8+C,GAAsB13B,EAAKre,EAAK/I,GACvC,IAAI+S,EAAM,CACRrL,OAAQqB,EAAIrB,OACZonC,OAAQ,SAASpnC,GACfxL,KAAKwL,OAAS,GACd,IAAK,IAAIzM,EAAI,EAAGA,EAAIyM,EAAO5M,OAAQG,IAC/BiB,KAAKwL,OAAOzM,GAAK,IAAIg+C,GAAM/vB,GAAQ9B,EAAK1f,EAAOzM,GAAG2N,QACzBsgB,GAAQ9B,EAAK1f,EAAOzM,GAAG8M,QAEtD4U,OAAQ3c,GAAWA,EAAQ2c,QAI7B,OAFAuF,GAAOkF,EAAK,wBAAyBA,EAAKrU,GACtCqU,EAAIxoB,IAAMsjB,GAAOkF,EAAIxoB,GAAI,wBAAyBwoB,EAAIxoB,GAAImU,GAC1DA,EAAIrL,QAAUqB,EAAIrB,OAAiByxC,GAAmB/xB,EAAIxoB,GAAImU,EAAIrL,OAAQqL,EAAIrL,OAAO5M,OAAS,GACpFiO,EAGhB,SAASg2C,GAA2B33B,EAAKre,EAAK/I,GAC5C,IAAI87C,EAAO10B,EAAI+1B,QAAQrB,KAAM3yB,EAAOhM,EAAI2+B,GACpC3yB,GAAQA,EAAKzhB,QACfo0C,EAAKA,EAAKhhD,OAAS,GAAKiO,EACxBi2C,GAAmB53B,EAAKre,EAAK/I,IAE7B8D,GAAasjB,EAAKre,EAAK/I,GAK3B,SAAS8D,GAAasjB,EAAKre,EAAK/I,GAC9Bg/C,GAAmB53B,EAAKre,EAAK/I,GAC7Bu9C,GAAsBn2B,EAAKA,EAAIre,IAAKqe,EAAIxoB,GAAKwoB,EAAIxoB,GAAG+jB,MAAMzG,GAAK+iC,IAAKj/C,GAGtE,SAASg/C,GAAmB53B,EAAKre,EAAK/I,IAChC6iB,GAAWuE,EAAK,0BAA4BA,EAAIxoB,IAAMikB,GAAWuE,EAAIxoB,GAAI,4BACzEmK,EAAM+1C,GAAsB13B,EAAKre,EAAK/I,IAE1C,IAAIs+B,EAAOt+B,GAAWA,EAAQs+B,OAC3B1V,GAAI7f,EAAIN,UAAUV,KAAMqf,EAAIre,IAAIN,UAAUV,MAAQ,GAAK,EAAI,GAC9Dm3C,GAAkB93B,EAAK+3B,GAAsB/3B,EAAKre,EAAKu1B,GAAM,IAEvDt+B,IAA8B,IAAnBA,EAAQyc,SAAqB2K,EAAIxoB,IAAsC,YAAhCwoB,EAAIxoB,GAAGuE,UAAU,aACrE6pC,GAAoB5lB,EAAIxoB,IAG9B,SAASsgD,GAAkB93B,EAAKre,GAC1BA,EAAI8vC,OAAOzxB,EAAIre,OAEnBqe,EAAIre,IAAMA,EAENqe,EAAIxoB,KACNwoB,EAAIxoB,GAAG+jB,MAAMouB,YAAc,EAC3B3pB,EAAIxoB,GAAG+jB,MAAMuuB,kBAAmB,EAChCzuB,GAAqB2E,EAAIxoB,KAE3B65B,GAAYrR,EAAK,iBAAkBA,IAKrC,SAASg4B,GAAiBh4B,GACxB83B,GAAkB93B,EAAK+3B,GAAsB/3B,EAAKA,EAAIre,IAAK,MAAM,IAKnE,SAASo2C,GAAsB/3B,EAAKre,EAAKu1B,EAAM+gB,GAE7C,IADA,IAAIjiC,EACKniB,EAAI,EAAGA,EAAI8N,EAAIrB,OAAO5M,OAAQG,IAAK,CAC1C,IAAIyN,EAAQK,EAAIrB,OAAOzM,GACnBuL,EAAMuC,EAAIrB,OAAO5M,QAAUssB,EAAIre,IAAIrB,OAAO5M,QAAUssB,EAAIre,IAAIrB,OAAOzM,GACnEqkD,EAAYC,GAAWn4B,EAAK1e,EAAME,OAAQpC,GAAOA,EAAIoC,OAAQ01B,EAAM+gB,GACnEG,EAAUD,GAAWn4B,EAAK1e,EAAMX,KAAMvB,GAAOA,EAAIuB,KAAMu2B,EAAM+gB,IAC7DjiC,GAAOkiC,GAAa52C,EAAME,QAAU42C,GAAW92C,EAAMX,QAClDqV,IAAOA,EAAMrU,EAAIrB,OAAOoC,MAAM,EAAG7O,IACtCmiB,EAAIniB,GAAK,IAAIg+C,GAAMqG,EAAWE,IAGlC,OAAOpiC,EAAM+7B,GAAmB/xB,EAAIxoB,GAAIwe,EAAKrU,EAAIg+B,WAAah+B,EAGhE,SAAS02C,GAAgBr4B,EAAKppB,EAAK0hD,EAAQn3C,EAAK82C,GAC9C,IAAI78C,EAAO2kB,GAAQC,EAAKppB,EAAIwE,MAC5B,GAAIA,EAAK4sB,YAAe,IAAK,IAAIn0B,EAAI,EAAGA,EAAIuH,EAAK4sB,YAAYt0B,SAAUG,EAAG,CACxE,IAAIq3B,EAAK9vB,EAAK4sB,YAAYn0B,GAAIgc,EAAIqb,EAAG3D,OAKjCgxB,EAAqB,eAAgB1oC,GAAMA,EAAE2oC,WAAa3oC,EAAE4Y,cAC5DgwB,EAAsB,gBAAiB5oC,GAAMA,EAAE6oC,YAAc7oC,EAAE+Y,eAEnE,IAAgB,MAAXsC,EAAGvuB,OAAiB47C,EAAoBrtB,EAAGvuB,MAAQ/F,EAAI0C,GAAK4xB,EAAGvuB,KAAO/F,EAAI0C,OACjE,MAAT4xB,EAAG/vB,KAAes9C,EAAqBvtB,EAAG/vB,IAAMvE,EAAI0C,GAAK4xB,EAAG/vB,GAAKvE,EAAI0C,KAAM,CAC9E,GAAI2+C,IACFn9B,GAAOjL,EAAG,qBACNA,EAAE2mC,mBAAmB,CACvB,GAAKp7C,EAAK4sB,YACL,GAAGn0B,EAAG,SADc,MAI7B,IAAKgc,EAAE8oC,OAAU,SAEjB,GAAIL,EAAQ,CACV,IAAIM,EAAO/oC,EAAEvT,KAAK6E,EAAM,EAAI,GAAK,GAAI0f,OAAO,EAG5C,IAFI1f,EAAM,EAAIs3C,EAAqBF,KAC/BK,EAAOC,GAAQ74B,EAAK44B,GAAOz3C,EAAKy3C,GAAQA,EAAKx9C,MAAQxE,EAAIwE,KAAOA,EAAO,OACvEw9C,GAAQA,EAAKx9C,MAAQxE,EAAIwE,OAASylB,EAAOW,GAAIo3B,EAAMN,MAAan3C,EAAM,EAAI0f,EAAO,EAAIA,EAAO,GAC5F,OAAOw3B,GAAgBr4B,EAAK44B,EAAMhiD,EAAKuK,EAAK82C,GAGlD,IAAIa,EAAMjpC,EAAEvT,KAAK6E,EAAM,GAAK,EAAI,GAGhC,OAFIA,EAAM,EAAIo3C,EAAoBE,KAC9BK,EAAMD,GAAQ74B,EAAK84B,EAAK33C,EAAK23C,EAAI19C,MAAQxE,EAAIwE,KAAOA,EAAO,OACxD09C,EAAMT,GAAgBr4B,EAAK84B,EAAKliD,EAAKuK,EAAK82C,GAAY,MAGjE,OAAOrhD,EAIT,SAASuhD,GAAWn4B,EAAKppB,EAAK0hD,EAAQphB,EAAM+gB,GAC1C,IAAI92C,EAAM+1B,GAAQ,EACd1f,EAAQ6gC,GAAgBr4B,EAAKppB,EAAK0hD,EAAQn3C,EAAK82C,KAC7CA,GAAYI,GAAgBr4B,EAAKppB,EAAK0hD,EAAQn3C,GAAK,IACrDk3C,GAAgBr4B,EAAKppB,EAAK0hD,GAASn3C,EAAK82C,KACtCA,GAAYI,GAAgBr4B,EAAKppB,EAAK0hD,GAASn3C,GAAK,GAC1D,OAAKqW,IACHwI,EAAI+4B,UAAW,EACRx8C,GAAIyjB,EAAIC,MAAO,IAK1B,SAAS44B,GAAQ74B,EAAKppB,EAAKuK,EAAK/F,GAC9B,OAAI+F,EAAM,GAAe,GAAVvK,EAAI0C,GACb1C,EAAIwE,KAAO4kB,EAAIC,MAAgB6B,GAAQ9B,EAAKzjB,GAAI3F,EAAIwE,KAAO,IACjD,KACL+F,EAAM,GAAKvK,EAAI0C,KAAO8B,GAAQ2kB,GAAQC,EAAKppB,EAAIwE,OAAOnD,KAAKvE,OAChEkD,EAAIwE,KAAO4kB,EAAIC,MAAQD,EAAIE,KAAO,EAAY3jB,GAAI3F,EAAIwE,KAAO,EAAG,GACtD,KAEP,IAAImB,GAAI3F,EAAIwE,KAAMxE,EAAI0C,GAAK6H,GAItC,SAAS63C,GAAUxhD,GACjBA,EAAGkF,aAAaH,GAAI/E,EAAGiF,YAAa,GAAIF,GAAI/E,EAAGgF,YAAa4Y,GAM9D,SAAS6jC,GAAaj5B,EAAKgJ,EAAQ0e,GACjC,IAAI/7B,EAAM,CACRutC,UAAU,EACVv8C,KAAMqsB,EAAOrsB,KACbxB,GAAI6tB,EAAO7tB,GACXlD,KAAM+wB,EAAO/wB,KACbsd,OAAQyT,EAAOzT,OACf4jC,OAAQ,WAAc,OAAOxtC,EAAIutC,UAAW,IAW9C,OATIxR,IAAU/7B,EAAI+7B,OAAS,SAAU/qC,EAAMxB,EAAIlD,EAAMsd,GAC/C5Y,IAAQgP,EAAIhP,KAAOmlB,GAAQ9B,EAAKrjB,IAChCxB,IAAMwQ,EAAIxQ,GAAK2mB,GAAQ9B,EAAK7kB,IAC5BlD,IAAQ0T,EAAI1T,KAAOA,QACRyW,IAAX6G,IAAwB5J,EAAI4J,OAASA,KAE3CuF,GAAOkF,EAAK,eAAgBA,EAAKrU,GAC7BqU,EAAIxoB,IAAMsjB,GAAOkF,EAAIxoB,GAAI,eAAgBwoB,EAAIxoB,GAAImU,GAEjDA,EAAIutC,UACFl5B,EAAIxoB,KAAMwoB,EAAIxoB,GAAG+jB,MAAMouB,YAAc,GAClC,MAEF,CAAChtC,KAAMgP,EAAIhP,KAAMxB,GAAIwQ,EAAIxQ,GAAIlD,KAAM0T,EAAI1T,KAAMsd,OAAQ5J,EAAI4J,QAKlE,SAAS6jC,GAAWp5B,EAAKgJ,EAAQqwB,GAC/B,GAAIr5B,EAAIxoB,GAAI,CACV,IAAKwoB,EAAIxoB,GAAG+jB,MAAS,OAAOpf,GAAU6jB,EAAIxoB,GAAI4hD,GAAlBj9C,CAA8B6jB,EAAKgJ,EAAQqwB,GACvE,GAAIr5B,EAAIxoB,GAAGC,MAAM6hD,cAAiB,OAGpC,KAAI79B,GAAWuE,EAAK,iBAAmBA,EAAIxoB,IAAMikB,GAAWuE,EAAIxoB,GAAI,mBAClEwxB,EAASiwB,GAAaj5B,EAAKgJ,GAAQ,GAC9BA,GAFP,CAOA,IAAIv1B,EAAQyzB,KAAqBmyB,GAAkBxvB,GAAqB7J,EAAKgJ,EAAOrsB,KAAMqsB,EAAO7tB,IACjG,GAAI1H,EACF,IAAK,IAAII,EAAIJ,EAAMC,OAAS,EAAGG,GAAK,IAAKA,EACrC0lD,GAAgBv5B,EAAK,CAACrjB,KAAMlJ,EAAMI,GAAG8I,KAAMxB,GAAI1H,EAAMI,GAAGsH,GAAIlD,KAAMpE,EAAI,CAAC,IAAMm1B,EAAO/wB,KAAMsd,OAAQyT,EAAOzT,cAE7GgkC,GAAgBv5B,EAAKgJ,IAIzB,SAASuwB,GAAgBv5B,EAAKgJ,GAC5B,GAA0B,GAAtBA,EAAO/wB,KAAKvE,QAAiC,IAAlBs1B,EAAO/wB,KAAK,IAA2C,GAA/BupB,GAAIwH,EAAOrsB,KAAMqsB,EAAO7tB,IAA/E,CACA,IAAI06C,EAAWrD,GAAsBxyB,EAAKgJ,GAC1C4sB,GAAmB51B,EAAKgJ,EAAQ6sB,EAAU71B,EAAIxoB,GAAKwoB,EAAIxoB,GAAG+jB,MAAMzG,GAAK+iC,KAErE2B,GAAoBx5B,EAAKgJ,EAAQ6sB,EAAU9sB,GAAuB/I,EAAKgJ,IACvE,IAAIywB,EAAU,GAEd3F,GAAW9zB,GAAK,SAAUA,EAAKk0B,GACxBA,IAAgD,GAAlCz6C,EAAQggD,EAASz5B,EAAI+1B,WACtC2D,GAAW15B,EAAI+1B,QAAS/sB,GACxBywB,EAAQl4C,KAAKye,EAAI+1B,UAEnByD,GAAoBx5B,EAAKgJ,EAAQ,KAAMD,GAAuB/I,EAAKgJ,QAKvE,SAAS2wB,GAAsB35B,EAAKtiB,EAAMk8C,GACxC,IAAIC,EAAW75B,EAAIxoB,IAAMwoB,EAAIxoB,GAAGC,MAAM6hD,cACtC,IAAIO,GAAaD,EAAjB,CAQA,IANA,IAAwBh/C,EAApB+6C,EAAO31B,EAAI+1B,QAAgBF,EAAW71B,EAAIre,IAC1CpL,EAAiB,QAARmH,EAAiBi4C,EAAKjB,KAAOiB,EAAKhB,OAAQ0B,EAAe,QAAR34C,EAAiBi4C,EAAKhB,OAASgB,EAAKjB,KAI9F7gD,EAAI,EACDA,EAAI0C,EAAO7C,OAAQG,IAExB,GADA+G,EAAQrE,EAAO1C,GACX+lD,EAAqBh/C,EAAM0F,SAAW1F,EAAM62C,OAAOzxB,EAAIre,MAAQ/G,EAAM0F,OACrE,MAEN,GAAIzM,GAAK0C,EAAO7C,OAAhB,CAGA,IAFAiiD,EAAKV,WAAaU,EAAKT,cAAgB,OAE9B,CAEP,GADAt6C,EAAQrE,EAAOk/C,OACX76C,EAAM0F,OAOH,IAAIu5C,EAET,YADAtjD,EAAOgL,KAAK3G,GAEL,MARP,GADAq7C,GAAuBr7C,EAAOy7C,GAC1BuD,IAAuBh/C,EAAM62C,OAAOzxB,EAAIre,KAE1C,YADAjF,GAAasjB,EAAKplB,EAAO,CAACw7C,WAAW,IAGvCP,EAAWj7C,EASf,IAAIk/C,EAAc,GAClB7D,GAAuBJ,EAAUQ,GACjCA,EAAK90C,KAAK,CAACowB,QAASmoB,EAAa3E,WAAYQ,EAAKR,aAClDQ,EAAKR,WAAav6C,EAAMu6C,cAAgBQ,EAAKP,cA6B7C,IA3BA,IAAI2E,EAASt+B,GAAWuE,EAAK,iBAAmBA,EAAIxoB,IAAMikB,GAAWuE,EAAIxoB,GAAI,gBAEzE0sB,EAAO,SAAWrwB,GACpB,IAAIm1B,EAASpuB,EAAM+2B,QAAQ99B,GAE3B,GADAm1B,EAAOzT,OAAS7X,EACZq8C,IAAWd,GAAaj5B,EAAKgJ,GAAQ,GAEvC,OADAzyB,EAAO7C,OAAS,EACT,GAGTomD,EAAYv4C,KAAK8zC,GAAwBr1B,EAAKgJ,IAE9C,IAAI/W,EAAQpe,EAAI2+C,GAAsBxyB,EAAKgJ,GAAUjT,EAAIxf,GACzDijD,GAAoBx5B,EAAKgJ,EAAQ/W,EAAOykC,GAAc12B,EAAKgJ,KACtDn1B,GAAKmsB,EAAIxoB,IAAMwoB,EAAIxoB,GAAGoF,eAAe,CAACD,KAAMqsB,EAAOrsB,KAAMxB,GAAIm3C,GAAUtpB,KAC5E,IAAIywB,EAAU,GAGd3F,GAAW9zB,GAAK,SAAUA,EAAKk0B,GACxBA,IAAgD,GAAlCz6C,EAAQggD,EAASz5B,EAAI+1B,WACtC2D,GAAW15B,EAAI+1B,QAAS/sB,GACxBywB,EAAQl4C,KAAKye,EAAI+1B,UAEnByD,GAAoBx5B,EAAKgJ,EAAQ,KAAM0tB,GAAc12B,EAAKgJ,QAIrDrQ,EAAM/d,EAAM+2B,QAAQj+B,OAAS,EAAGilB,GAAO,IAAKA,EAAK,CACxD,IAAIqhC,EAAW91B,EAAMvL,GAErB,GAAKqhC,EAAW,OAAOA,EAASC,KAMpC,SAASC,GAASl6B,EAAKm6B,GACrB,GAAgB,GAAZA,IACJn6B,EAAIC,OAASk6B,EACbn6B,EAAIre,IAAM,IAAI6vC,GAAU79C,EAAIqsB,EAAIre,IAAIrB,QAAQ,SAAUgB,GAAS,OAAO,IAAIuwC,GACxEt1C,GAAI+E,EAAME,OAAOpG,KAAO++C,EAAU74C,EAAME,OAAOlI,IAC/CiD,GAAI+E,EAAMX,KAAKvF,KAAO++C,EAAU74C,EAAMX,KAAKrH,QACtC0mB,EAAIre,IAAIg+B,WACX3f,EAAIxoB,IAAI,CACV2mC,GAAUne,EAAIxoB,GAAIwoB,EAAIC,MAAOD,EAAIC,MAAQk6B,EAAUA,GACnD,IAAK,IAAI5tB,EAAIvM,EAAIxoB,GAAG+D,QAASwT,EAAIwd,EAAE7G,SAAU3W,EAAIwd,EAAE5G,OAAQ5W,IACvD8vB,GAAc7e,EAAIxoB,GAAIuX,EAAG,WAMjC,SAASyqC,GAAoBx5B,EAAKgJ,EAAQ6sB,EAAUpuB,GAClD,GAAIzH,EAAIxoB,KAAOwoB,EAAIxoB,GAAG+jB,MAClB,OAAOpf,GAAU6jB,EAAIxoB,GAAIgiD,GAAlBr9C,CAAuC6jB,EAAKgJ,EAAQ6sB,EAAUpuB,GAEzE,GAAIuB,EAAO7tB,GAAGC,KAAO4kB,EAAIC,MACvBi6B,GAASl6B,EAAKgJ,EAAO/wB,KAAKvE,OAAS,GAAKs1B,EAAO7tB,GAAGC,KAAO4tB,EAAOrsB,KAAKvB,YAGvE,KAAI4tB,EAAOrsB,KAAKvB,KAAO4kB,EAAIxjB,YAA3B,CAGA,GAAIwsB,EAAOrsB,KAAKvB,KAAO4kB,EAAIC,MAAO,CAChC,IAAIijB,EAAQla,EAAO/wB,KAAKvE,OAAS,GAAKssB,EAAIC,MAAQ+I,EAAOrsB,KAAKvB,MAC9D8+C,GAASl6B,EAAKkjB,GACdla,EAAS,CAACrsB,KAAMJ,GAAIyjB,EAAIC,MAAO,GAAI9kB,GAAIoB,GAAIysB,EAAO7tB,GAAGC,KAAO8nC,EAAOla,EAAO7tB,GAAG7B,IACnErB,KAAM,CAAC8d,EAAIiT,EAAO/wB,OAAQsd,OAAQyT,EAAOzT,QAErD,IAAIwM,EAAO/B,EAAIxjB,WACXwsB,EAAO7tB,GAAGC,KAAO2mB,IACnBiH,EAAS,CAACrsB,KAAMqsB,EAAOrsB,KAAMxB,GAAIoB,GAAIwlB,EAAMhC,GAAQC,EAAK+B,GAAM9pB,KAAKvE,QACzDuE,KAAM,CAAC+wB,EAAO/wB,KAAK,IAAKsd,OAAQyT,EAAOzT,SAGnDyT,EAAOoxB,QAAU55B,GAAWR,EAAKgJ,EAAOrsB,KAAMqsB,EAAO7tB,IAEhD06C,IAAYA,EAAWrD,GAAsBxyB,EAAKgJ,IACnDhJ,EAAIxoB,GAAM6iD,GAA4Br6B,EAAIxoB,GAAIwxB,EAAQvB,GACnD0rB,GAAUnzB,EAAKgJ,EAAQvB,GAC9BmwB,GAAmB53B,EAAK61B,EAAUzgC,GAE9B4K,EAAI+4B,UAAYZ,GAAWn4B,EAAKzjB,GAAIyjB,EAAIvjB,YAAa,MACrDujB,EAAI+4B,UAAW,IAKrB,SAASsB,GAA4B7iD,EAAIwxB,EAAQvB,GAC/C,IAAIzH,EAAMxoB,EAAGwoB,IAAKzkB,EAAU/D,EAAG+D,QAASoB,EAAOqsB,EAAOrsB,KAAMxB,EAAK6tB,EAAO7tB,GAEpEm/C,GAAqB,EAAOC,EAAkB59C,EAAKvB,KAClD5D,EAAGoB,QAAQ69B,eACd8jB,EAAkBz5B,GAAO0K,GAAWzL,GAAQC,EAAKrjB,EAAKvB,QACtD4kB,EAAIS,KAAK85B,EAAiBp/C,EAAGC,KAAO,GAAG,SAAUA,GAC/C,GAAIA,GAAQG,EAAQixB,QAElB,OADA8tB,GAAqB,GACd,MAKTt6B,EAAIre,IAAIgR,SAASqW,EAAOrsB,KAAMqsB,EAAO7tB,KAAO,GAC5CkgB,GAAqB7jB,GAEzB27C,GAAUnzB,EAAKgJ,EAAQvB,EAAOmF,GAAep1B,IAExCA,EAAGoB,QAAQ69B,eACdzW,EAAIS,KAAK85B,EAAiB59C,EAAKvB,KAAO4tB,EAAO/wB,KAAKvE,QAAQ,SAAU0H,GAClE,IAAIkK,EAAM+mB,GAAWjxB,GACjBkK,EAAM/J,EAAQkxB,gBAChBlxB,EAAQixB,QAAUpxB,EAClBG,EAAQkxB,cAAgBnnB,EACxB/J,EAAQmxB,gBAAiB,EACzB4tB,GAAqB,MAGrBA,IAAsB9iD,EAAG+jB,MAAMwuB,eAAgB,IAGrD9iB,GAAgBjH,EAAKrjB,EAAKvB,MAC1BirC,GAAY7uC,EAAI,KAEhB,IAAI4mC,EAAUpV,EAAO/wB,KAAKvE,QAAUyH,EAAGC,KAAOuB,EAAKvB,MAAQ,EAEvD4tB,EAAOC,KACPkV,GAAU3mC,GACLmF,EAAKvB,MAAQD,EAAGC,MAA8B,GAAtB4tB,EAAO/wB,KAAKvE,QAAgBu/C,GAAkBz7C,EAAGwoB,IAAKgJ,GAGnFmV,GAAU3mC,EAAImF,EAAKvB,KAAMD,EAAGC,KAAO,EAAGgjC,GAFtCS,GAAcrnC,EAAImF,EAAKvB,KAAM,QAIjC,IAAIo/C,EAAiB/+B,GAAWjkB,EAAI,WAAYijD,EAAgBh/B,GAAWjkB,EAAI,UAC/E,GAAIijD,GAAiBD,EAAgB,CACnC,IAAI7uC,EAAM,CACRhP,KAAMA,EAAMxB,GAAIA,EAChBlD,KAAM+wB,EAAO/wB,KACbmiD,QAASpxB,EAAOoxB,QAChB7kC,OAAQyT,EAAOzT,QAEbklC,GAAiBppB,GAAY75B,EAAI,SAAUA,EAAImU,GAC/C6uC,IAAmBhjD,EAAG+jB,MAAMsuB,aAAeryC,EAAG+jB,MAAMsuB,WAAa,KAAKtoC,KAAKoK,GAEjFnU,EAAG+D,QAAQynC,kBAAoB,KAGjC,SAASniC,GAAamf,EAAKjZ,EAAMpK,EAAMxB,EAAIoa,GACzC,IAAImlC,EAECv/C,IAAMA,EAAKwB,GACZ6kB,GAAIrmB,EAAIwB,GAAQ,IAAM+9C,EAAS,CAACv/C,EAAIwB,GAAOA,EAAO+9C,EAAO,GAAIv/C,EAAKu/C,EAAO,IAC1D,iBAAR3zC,IAAoBA,EAAOiZ,EAAI26B,WAAW5zC,IACrDqyC,GAAWp5B,EAAK,CAACrjB,KAAMA,EAAMxB,GAAIA,EAAIlD,KAAM8O,EAAMwO,OAAQA,IAK3D,SAASqlC,GAAoBhkD,EAAK+F,EAAMxB,EAAI0lB,GACtC1lB,EAAKvE,EAAIwE,KACXxE,EAAIwE,MAAQylB,EACHlkB,EAAO/F,EAAIwE,OACpBxE,EAAIwE,KAAOuB,EACX/F,EAAI0C,GAAK,GAWb,SAASuhD,GAAgB5lC,EAAOtY,EAAMxB,EAAI0lB,GACxC,IAAK,IAAIhtB,EAAI,EAAGA,EAAIohB,EAAMvhB,SAAUG,EAAG,CACrC,IAAIinD,EAAM7lC,EAAMphB,GAAI0uB,GAAK,EACzB,GAAIu4B,EAAIx6C,OAAR,CACOw6C,EAAIC,SAAUD,EAAM7lC,EAAMphB,GAAKinD,EAAIlJ,WAAYkJ,EAAIC,QAAS,GACjE,IAAK,IAAI5hC,EAAI,EAAGA,EAAI2hC,EAAIx6C,OAAO5M,OAAQylB,IACrCyhC,GAAoBE,EAAIx6C,OAAO6Y,GAAG3X,OAAQ7E,EAAMxB,EAAI0lB,GACpD+5B,GAAoBE,EAAIx6C,OAAO6Y,GAAGxY,KAAMhE,EAAMxB,EAAI0lB,OAJtD,CAQA,IAAK,IAAIlH,EAAM,EAAGA,EAAMmhC,EAAInpB,QAAQj+B,SAAUimB,EAAK,CACjD,IAAI/Y,EAAMk6C,EAAInpB,QAAQhY,GACtB,GAAIxe,EAAKyF,EAAIjE,KAAKvB,KAChBwF,EAAIjE,KAAOJ,GAAIqE,EAAIjE,KAAKvB,KAAOylB,EAAMjgB,EAAIjE,KAAKrD,IAC9CsH,EAAIzF,GAAKoB,GAAIqE,EAAIzF,GAAGC,KAAOylB,EAAMjgB,EAAIzF,GAAG7B,SACnC,GAAIqD,GAAQiE,EAAIzF,GAAGC,KAAM,CAC9BmnB,GAAK,EACL,OAGCA,IACHtN,EAAM1F,OAAO,EAAG1b,EAAI,GACpBA,EAAI,KAKV,SAAS6lD,GAAW/D,EAAM3sB,GACxB,IAAIrsB,EAAOqsB,EAAOrsB,KAAKvB,KAAMD,EAAK6tB,EAAO7tB,GAAGC,KAAMylB,EAAOmI,EAAO/wB,KAAKvE,QAAUyH,EAAKwB,GAAQ,EAC5Fk+C,GAAgBlF,EAAKjB,KAAM/3C,EAAMxB,EAAI0lB,GACrCg6B,GAAgBlF,EAAKhB,OAAQh4C,EAAMxB,EAAI0lB,GAMzC,SAASm6B,GAAWh7B,EAAKi7B,EAAQC,EAAYrzB,GAC3C,IAAI9G,EAAKk6B,EAAQ7/C,EAAO6/C,EAGxB,MAFqB,iBAAVA,EAAsB7/C,EAAO2kB,GAAQC,EAAK6B,GAAS7B,EAAKi7B,IAC5Dl6B,EAAKD,GAAOm6B,GACT,MAANl6B,EAAqB,MACrB8G,EAAGzsB,EAAM2lB,IAAOf,EAAIxoB,IAAMqnC,GAAc7e,EAAIxoB,GAAIupB,EAAIm6B,GACjD9/C,GAgBT,SAAS+/C,GAAU/6B,GACjBtrB,KAAKsrB,MAAQA,EACbtrB,KAAKwd,OAAS,KAEd,IADA,IAAIsO,EAAS,EACJ/sB,EAAI,EAAGA,EAAIusB,EAAM1sB,SAAUG,EAClCusB,EAAMvsB,GAAGye,OAASxd,KAClB8rB,GAAUR,EAAMvsB,GAAG+sB,OAErB9rB,KAAK8rB,OAASA,EAqChB,SAASw6B,GAAY/6B,GACnBvrB,KAAKurB,SAAWA,EAEhB,IADA,IAAIH,EAAO,EAAGU,EAAS,EACd/sB,EAAI,EAAGA,EAAIwsB,EAAS3sB,SAAUG,EAAG,CACxC,IAAIyF,EAAK+mB,EAASxsB,GAClBqsB,GAAQ5mB,EAAGinB,YAAaK,GAAUtnB,EAAGsnB,OACrCtnB,EAAGgZ,OAASxd,KAEdA,KAAKorB,KAAOA,EACZprB,KAAK8rB,OAASA,EACd9rB,KAAKwd,OAAS,KArgChBu/B,GAAMx8C,UAAUsH,KAAO,WAAc,OAAOilB,GAAO9sB,KAAK0M,OAAQ1M,KAAK6L,OACrEkxC,GAAMx8C,UAAU8F,GAAK,WAAc,OAAOwmB,GAAO7sB,KAAK0M,OAAQ1M,KAAK6L,OACnEkxC,GAAMx8C,UAAUmL,MAAQ,WAAc,OAAO1L,KAAK6L,KAAKvF,MAAQtG,KAAK0M,OAAOpG,MAAQtG,KAAK6L,KAAKrH,IAAMxE,KAAK0M,OAAOlI,IAu9B/G6hD,GAAU9lD,UAAY,CACpBkrB,UAAW,WAAa,OAAOzrB,KAAKsrB,MAAM1sB,QAG1C2nD,YAAa,SAASxhC,EAAIrF,GACxB,IAAK,IAAI3gB,EAAIgmB,EAAIngB,EAAImgB,EAAKrF,EAAG3gB,EAAI6F,IAAK7F,EAAG,CACvC,IAAIuH,EAAOtG,KAAKsrB,MAAMvsB,GACtBiB,KAAK8rB,QAAUxlB,EAAKwlB,OACpBmM,GAAY3xB,GACZi2B,GAAYj2B,EAAM,UAEpBtG,KAAKsrB,MAAM7Q,OAAOsK,EAAIrF,IAIxBb,SAAU,SAASyM,GACjBA,EAAM7e,KAAKyS,MAAMoM,EAAOtrB,KAAKsrB,QAK/Bk7B,YAAa,SAASzhC,EAAIuG,EAAOQ,GAC/B9rB,KAAK8rB,QAAUA,EACf9rB,KAAKsrB,MAAQtrB,KAAKsrB,MAAM1d,MAAM,EAAGmX,GAAIY,OAAO2F,GAAO3F,OAAO3lB,KAAKsrB,MAAM1d,MAAMmX,IAC3E,IAAK,IAAIhmB,EAAI,EAAGA,EAAIusB,EAAM1sB,SAAUG,EAAKusB,EAAMvsB,GAAGye,OAASxd,MAI7DymD,MAAO,SAAS1hC,EAAIrF,EAAGqT,GACrB,IAAK,IAAInuB,EAAImgB,EAAKrF,EAAGqF,EAAKngB,IAAKmgB,EAC3B,GAAIgO,EAAG/yB,KAAKsrB,MAAMvG,IAAQ,OAAO,IAiBzCuhC,GAAY/lD,UAAY,CACtBkrB,UAAW,WAAa,OAAOzrB,KAAKorB,MAEpCm7B,YAAa,SAASxhC,EAAIrF,GACxB1f,KAAKorB,MAAQ1L,EACb,IAAK,IAAI3gB,EAAI,EAAGA,EAAIiB,KAAKurB,SAAS3sB,SAAUG,EAAG,CAC7C,IAAIwJ,EAAQvI,KAAKurB,SAASxsB,GAAIysB,EAAKjjB,EAAMkjB,YACzC,GAAI1G,EAAKyG,EAAI,CACX,IAAIouB,EAAKz6C,KAAKe,IAAIwf,EAAG8L,EAAKzG,GAAK0pB,EAAYlmC,EAAMujB,OAIjD,GAHAvjB,EAAMg+C,YAAYxhC,EAAI60B,GACtB55C,KAAK8rB,QAAU2iB,EAAYlmC,EAAMujB,OAC7BN,GAAMouB,IAAM55C,KAAKurB,SAAS9Q,OAAO1b,IAAK,GAAIwJ,EAAMiV,OAAS,MAC5C,IAAZkC,GAAKk6B,GAAY,MACtB70B,EAAK,OACEA,GAAMyG,EAIjB,GAAIxrB,KAAKorB,KAAO1L,EAAI,KACf1f,KAAKurB,SAAS3sB,OAAS,KAAOoB,KAAKurB,SAAS,aAAc86B,KAAa,CAC1E,IAAI/6B,EAAQ,GACZtrB,KAAK6e,SAASyM,GACdtrB,KAAKurB,SAAW,CAAC,IAAI86B,GAAU/6B,IAC/BtrB,KAAKurB,SAAS,GAAG/N,OAASxd,OAI9B6e,SAAU,SAASyM,GACjB,IAAK,IAAIvsB,EAAI,EAAGA,EAAIiB,KAAKurB,SAAS3sB,SAAUG,EAAKiB,KAAKurB,SAASxsB,GAAG8f,SAASyM,IAG7Ek7B,YAAa,SAASzhC,EAAIuG,EAAOQ,GAC/B9rB,KAAKorB,MAAQE,EAAM1sB,OACnBoB,KAAK8rB,QAAUA,EACf,IAAK,IAAI/sB,EAAI,EAAGA,EAAIiB,KAAKurB,SAAS3sB,SAAUG,EAAG,CAC7C,IAAIwJ,EAAQvI,KAAKurB,SAASxsB,GAAIysB,EAAKjjB,EAAMkjB,YACzC,GAAI1G,GAAMyG,EAAI,CAEZ,GADAjjB,EAAMi+C,YAAYzhC,EAAIuG,EAAOQ,GACzBvjB,EAAM+iB,OAAS/iB,EAAM+iB,MAAM1sB,OAAS,GAAI,CAI1C,IADA,IAAI8nD,EAAYn+C,EAAM+iB,MAAM1sB,OAAS,GAAK,GACjCkD,EAAM4kD,EAAW5kD,EAAMyG,EAAM+iB,MAAM1sB,QAAS,CACnD,IAAI+nD,EAAO,IAAIN,GAAU99C,EAAM+iB,MAAM1d,MAAM9L,EAAKA,GAAO,KACvDyG,EAAMujB,QAAU66B,EAAK76B,OACrB9rB,KAAKurB,SAAS9Q,SAAS1b,EAAG,EAAG4nD,GAC7BA,EAAKnpC,OAASxd,KAEhBuI,EAAM+iB,MAAQ/iB,EAAM+iB,MAAM1d,MAAM,EAAG84C,GACnC1mD,KAAK4mD,aAEP,MAEF7hC,GAAMyG,IAKVo7B,WAAY,WACV,KAAI5mD,KAAKurB,SAAS3sB,QAAU,IAA5B,CACA,IAAIwV,EAAKpU,KACT,EAAG,CACD,IAAI6mD,EAAUzyC,EAAGmX,SAAS9Q,OAAOrG,EAAGmX,SAAS3sB,OAAS,EAAG,GACrDkoD,EAAU,IAAIR,GAAYO,GAC9B,GAAKzyC,EAAGoJ,OAKF,CACJpJ,EAAGgX,MAAQ07B,EAAQ17B,KACnBhX,EAAG0X,QAAUg7B,EAAQh7B,OACrB,IAAIi7B,EAAUpiD,EAAQyP,EAAGoJ,OAAO+N,SAAUnX,GAC1CA,EAAGoJ,OAAO+N,SAAS9Q,OAAOssC,EAAU,EAAG,EAAGD,OAT5B,CACd,IAAI31B,EAAO,IAAIm1B,GAAYlyC,EAAGmX,UAC9B4F,EAAK3T,OAASpJ,EACdA,EAAGmX,SAAW,CAAC4F,EAAM21B,GACrB1yC,EAAK+c,EAOP21B,EAAQtpC,OAASpJ,EAAGoJ,aACbpJ,EAAGmX,SAAS3sB,OAAS,IAC9BwV,EAAGoJ,OAAOopC,eAGZH,MAAO,SAAS1hC,EAAIrF,EAAGqT,GACrB,IAAK,IAAIh0B,EAAI,EAAGA,EAAIiB,KAAKurB,SAAS3sB,SAAUG,EAAG,CAC7C,IAAIwJ,EAAQvI,KAAKurB,SAASxsB,GAAIysB,EAAKjjB,EAAMkjB,YACzC,GAAI1G,EAAKyG,EAAI,CACX,IAAIw7B,EAAO7nD,KAAKe,IAAIwf,EAAG8L,EAAKzG,GAC5B,GAAIxc,EAAMk+C,MAAM1hC,EAAIiiC,EAAMj0B,GAAO,OAAO,EACxC,GAAmB,IAAdrT,GAAKsnC,GAAc,MACxBjiC,EAAK,OACEA,GAAMyG,KAOrB,IAAIy7B,GAAa,SAAS/7B,EAAKjO,EAAMnZ,GACnC,GAAIA,EAAW,IAAK,IAAIojD,KAAOpjD,EAAeA,EAAQ+V,eAAeqtC,KACjElnD,KAAKknD,GAAOpjD,EAAQojD,IACxBlnD,KAAKkrB,IAAMA,EACXlrB,KAAKid,KAAOA,GAqCd,SAASkqC,GAA6BzkD,EAAI4D,EAAMylB,GAC1CsL,GAAa/wB,IAAU5D,EAAG+jB,OAAS/jB,EAAG+jB,MAAM6e,WAAc5iC,EAAGwoB,IAAIoa,YACjEsL,GAAeluC,EAAIqpB,GAGzB,SAASq7B,GAAcl8B,EAAKi7B,EAAQlpC,EAAMnZ,GACxC,IAAI22B,EAAS,IAAIwsB,GAAW/7B,EAAKjO,EAAMnZ,GACnCpB,EAAKwoB,EAAIxoB,GAgBb,OAfIA,GAAM+3B,EAAO6E,YAAa58B,EAAG+D,QAAQuzC,cAAe,GACxDkM,GAAWh7B,EAAKi7B,EAAQ,UAAU,SAAU7/C,GAC1C,IAAI44B,EAAU54B,EAAK44B,UAAY54B,EAAK44B,QAAU,IAI9C,GAHuB,MAAnBzE,EAAO4sB,SAAoBnoB,EAAQzyB,KAAKguB,GACrCyE,EAAQzkB,OAAOtb,KAAKe,IAAIg/B,EAAQtgC,OAAQO,KAAKgB,IAAI,EAAGs6B,EAAO4sB,WAAY,EAAG5sB,GACjFA,EAAOn0B,KAAOA,EACV5D,IAAOw0B,GAAahM,EAAK5kB,GAAO,CAClC,IAAIghD,EAAejwB,GAAa/wB,GAAQ4kB,EAAIoa,UAC5CzZ,GAAiBvlB,EAAMA,EAAKwlB,OAAS+T,GAAapF,IAC9C6sB,GAAgB1W,GAAeluC,EAAI+3B,EAAO3O,QAC9CppB,EAAG+jB,MAAMic,aAAc,EAEzB,OAAO,KAELhgC,GAAM65B,GAAY75B,EAAI,kBAAmBA,EAAI+3B,EAAyB,iBAAV0rB,EAAqBA,EAASn6B,GAAOm6B,IAC9F1rB,EAzDTwsB,GAAW1mD,UAAU6E,MAAQ,WAC3B,IAAI1C,EAAK1C,KAAKkrB,IAAIxoB,GAAIqM,EAAK/O,KAAKsG,KAAK44B,QAAS54B,EAAOtG,KAAKsG,KAAM2lB,EAAKD,GAAO1lB,GAC5E,GAAU,MAAN2lB,GAAeld,EAAnB,CACA,IAAK,IAAIhQ,EAAI,EAAGA,EAAIgQ,EAAGnQ,SAAUG,EAASgQ,EAAGhQ,IAAMiB,MAAQ+O,EAAG0L,OAAO1b,IAAK,GACrEgQ,EAAGnQ,SAAU0H,EAAK44B,QAAU,MACjC,IAAIpT,EAAS+T,GAAa7/B,MAC1B6rB,GAAiBvlB,EAAMnH,KAAKgB,IAAI,EAAGmG,EAAKwlB,OAASA,IAC7CppB,IACFk0C,GAAQl0C,GAAI,WACVykD,GAA6BzkD,EAAI4D,GAAOwlB,GACxCie,GAAcrnC,EAAIupB,EAAI,aAExBsQ,GAAY75B,EAAI,oBAAqBA,EAAI1C,KAAMisB,MAInDg7B,GAAW1mD,UAAUmvC,QAAU,WAC3B,IAAI6X,EAASvnD,KAEXwnD,EAAOxnD,KAAK8rB,OAAQppB,EAAK1C,KAAKkrB,IAAIxoB,GAAI4D,EAAOtG,KAAKsG,KACtDtG,KAAK8rB,OAAS,KACd,IAAIC,EAAO8T,GAAa7/B,MAAQwnD,EAC3Bz7B,IACAmL,GAAal3B,KAAKkrB,IAAK5kB,IAASulB,GAAiBvlB,EAAMA,EAAKwlB,OAASC,GACtErpB,GACFk0C,GAAQl0C,GAAI,WACVA,EAAG+jB,MAAMic,aAAc,EACvBykB,GAA6BzkD,EAAI4D,EAAMylB,GACvCwQ,GAAY75B,EAAI,oBAAqBA,EAAI6kD,EAAQv7B,GAAO1lB,SAI9DsgB,GAAWqgC,IA2CX,IAAIQ,GAAe,EAEfC,GAAa,SAASx8B,EAAKtiB,GAC7B5I,KAAKsrB,MAAQ,GACbtrB,KAAK4I,KAAOA,EACZ5I,KAAKkrB,IAAMA,EACXlrB,KAAKggB,KAAOynC,IAkHd,SAASE,GAASz8B,EAAKrjB,EAAMxB,EAAIvC,EAAS8E,GAIxC,GAAI9E,GAAWA,EAAQy7C,OAAU,OAAOqI,GAAe18B,EAAKrjB,EAAMxB,EAAIvC,EAAS8E,GAE/E,GAAIsiB,EAAIxoB,KAAOwoB,EAAIxoB,GAAG+jB,MAAS,OAAOpf,GAAU6jB,EAAIxoB,GAAIilD,GAAlBtgD,CAA4B6jB,EAAKrjB,EAAMxB,EAAIvC,EAAS8E,GAE1F,IAAI6pB,EAAS,IAAIi1B,GAAWx8B,EAAKtiB,GAAOmjB,EAAOW,GAAI7kB,EAAMxB,GAGzD,GAFIvC,GAAWqb,EAAQrb,EAAS2uB,GAAQ,GAEpC1G,EAAO,GAAa,GAARA,IAAuC,IAA1B0G,EAAOqC,eAChC,OAAOrC,EAQX,GAPIA,EAAOo1B,eAETp1B,EAAO4D,WAAY,EACnB5D,EAAO0E,WAAaxZ,EAAK,OAAQ,CAAC8U,EAAOo1B,cAAe,qBACnD/jD,EAAQq7B,mBAAqB1M,EAAO0E,WAAWvZ,aAAa,mBAAoB,QACjF9Z,EAAQ8vB,aAAcnB,EAAO0E,WAAWvD,YAAa,IAEvDnB,EAAO4D,UAAW,CACpB,GAAII,GAA0BvL,EAAKrjB,EAAKvB,KAAMuB,EAAMxB,EAAIosB,IACpD5qB,EAAKvB,MAAQD,EAAGC,MAAQmwB,GAA0BvL,EAAK7kB,EAAGC,KAAMuB,EAAMxB,EAAIosB,GAC1E,MAAM,IAAIrgB,MAAM,oEACpBmgB,KAGEE,EAAOq1B,cACPhH,GAAmB51B,EAAK,CAACrjB,KAAMA,EAAMxB,GAAIA,EAAIoa,OAAQ,YAAayK,EAAIre,IAAKk2C,KAE/E,IAAsC9N,EAAlC8S,EAAUlgD,EAAKvB,KAAM5D,EAAKwoB,EAAIxoB,GA0BlC,GAzBAwoB,EAAIS,KAAKo8B,EAAS1hD,EAAGC,KAAO,GAAG,SAAUA,GACnC5D,GAAM+vB,EAAO4D,YAAc3zB,EAAGoB,QAAQ69B,cAAgBjL,GAAWpwB,IAAS5D,EAAG+D,QAAQixB,UACrFud,GAAgB,GAChBxiB,EAAO4D,WAAa0xB,GAAWlgD,EAAKvB,MAAQulB,GAAiBvlB,EAAM,GACvEwsB,GAAcxsB,EAAM,IAAIksB,GAAWC,EACAs1B,GAAWlgD,EAAKvB,KAAOuB,EAAKrD,GAAK,KACjCujD,GAAW1hD,EAAGC,KAAOD,EAAG7B,GAAK,MAAO0mB,EAAIxoB,IAAMwoB,EAAIxoB,GAAG+jB,SACtFshC,KAGAt1B,EAAO4D,WAAanL,EAAIS,KAAK9jB,EAAKvB,KAAMD,EAAGC,KAAO,GAAG,SAAUA,GAC7D4wB,GAAahM,EAAK5kB,IAASulB,GAAiBvlB,EAAM,MAGpDmsB,EAAOu1B,cAAgBlzC,GAAG2d,EAAQ,qBAAqB,WAAc,OAAOA,EAAOrtB,WAEnFqtB,EAAOyC,WACT5C,MACIpH,EAAI+1B,QAAQrB,KAAKhhD,QAAUssB,EAAI+1B,QAAQpB,OAAOjhD,SAC9CssB,EAAI+8B,gBAENx1B,EAAO4D,YACT5D,EAAOzS,KAAOynC,GACdh1B,EAAOoxB,QAAS,GAEdnhD,EAAI,CAGN,GADIuyC,IAAiBvyC,EAAG+jB,MAAMwuB,eAAgB,GAC1CxiB,EAAO4D,UACPgT,GAAU3mC,EAAImF,EAAKvB,KAAMD,EAAGC,KAAO,QAClC,GAAImsB,EAAO/pB,WAAa+pB,EAAO+G,YAAc/G,EAAOgH,UAAYhH,EAAOiH,KACnEjH,EAAOkH,YAAclH,EAAO8G,MACjC,IAAK,IAAIx6B,EAAI8I,EAAKvB,KAAMvH,GAAKsH,EAAGC,KAAMvH,IAAOgrC,GAAcrnC,EAAI3D,EAAG,QAClE0zB,EAAOoxB,QAAUX,GAAiBxgD,EAAGwoB,KACzCqR,GAAY75B,EAAI,cAAeA,EAAI+vB,GAErC,OAAOA,EAjLTi1B,GAAWnnD,UAAU6E,MAAQ,WAC3B,IAAIpF,KAAK0hD,kBAAT,CACA,IAAIh/C,EAAK1C,KAAKkrB,IAAIxoB,GAAIwlD,EAASxlD,IAAOA,EAAG+jB,MAEzC,GADIyhC,GAAUtT,GAAelyC,GACzBikB,GAAW3mB,KAAM,SAAU,CAC7B,IAAI0iB,EAAQ1iB,KAAKwH,OACbkb,GAAS6Z,GAAYv8B,KAAM,QAAS0iB,EAAM7a,KAAM6a,EAAMrc,IAG5D,IADA,IAAInG,EAAM,KAAMC,EAAM,KACbpB,EAAI,EAAGA,EAAIiB,KAAKsrB,MAAM1sB,SAAUG,EAAG,CAC1C,IAAIuH,EAAOtG,KAAKsrB,MAAMvsB,GAClB6zB,EAAOF,GAAiBpsB,EAAK4sB,YAAalzB,MAC1C0C,IAAO1C,KAAKq2B,UAAa0T,GAAcrnC,EAAIspB,GAAO1lB,GAAO,QACpD5D,IACQ,MAAXkwB,EAAKvsB,KAAclG,EAAM6rB,GAAO1lB,IACnB,MAAbssB,EAAK/qB,OAAgB3H,EAAM8rB,GAAO1lB,KAExCA,EAAK4sB,YAAcL,GAAiBvsB,EAAK4sB,YAAaN,GACrC,MAAbA,EAAK/qB,MAAgB7H,KAAKq2B,YAAca,GAAal3B,KAAKkrB,IAAK5kB,IAAS5D,GACxEmpB,GAAiBvlB,EAAM6hC,GAAWzlC,EAAG+D,UAE3C,GAAI/D,GAAM1C,KAAKq2B,YAAc3zB,EAAGoB,QAAQ69B,aAAgB,IAAK,IAAI9d,EAAM,EAAGA,EAAM7jB,KAAKsrB,MAAM1sB,SAAUilB,EAAK,CACxG,IAAIskC,EAASzxB,GAAW12B,KAAKsrB,MAAMzH,IAAOrT,EAAM+mB,GAAW4wB,GACvD33C,EAAM9N,EAAG+D,QAAQkxB,gBACnBj1B,EAAG+D,QAAQixB,QAAUywB,EACrBzlD,EAAG+D,QAAQkxB,cAAgBnnB,EAC3B9N,EAAG+D,QAAQmxB,gBAAiB,GAIrB,MAAP13B,GAAewC,GAAM1C,KAAKq2B,WAAagT,GAAU3mC,EAAIxC,EAAKC,EAAM,GACpEH,KAAKsrB,MAAM1sB,OAAS,EACpBoB,KAAK0hD,mBAAoB,EACrB1hD,KAAK6jD,QAAU7jD,KAAKkrB,IAAI+4B,WAC1BjkD,KAAKkrB,IAAI+4B,UAAW,EAChBvhD,GAAMwgD,GAAiBxgD,EAAGwoB,MAE5BxoB,GAAM65B,GAAY75B,EAAI,gBAAiBA,EAAI1C,KAAME,EAAKC,GACtD+nD,GAAU/S,GAAazyC,GACvB1C,KAAKwd,QAAUxd,KAAKwd,OAAOpY,UAQjCsiD,GAAWnnD,UAAUiH,KAAO,SAAUwkC,EAAM1U,GAE1C,IAAIzvB,EAAMxB,EADE,MAAR2lC,GAA6B,YAAbhsC,KAAK4I,OAAsBojC,EAAO,GAEtD,IAAK,IAAIjtC,EAAI,EAAGA,EAAIiB,KAAKsrB,MAAM1sB,SAAUG,EAAG,CAC1C,IAAIuH,EAAOtG,KAAKsrB,MAAMvsB,GAClB6zB,EAAOF,GAAiBpsB,EAAK4sB,YAAalzB,MAC9C,GAAiB,MAAb4yB,EAAK/qB,OACPA,EAAOJ,GAAI6vB,EAAUhxB,EAAO0lB,GAAO1lB,GAAOssB,EAAK/qB,OAClC,GAATmkC,GAAc,OAAOnkC,EAE3B,GAAe,MAAX+qB,EAAKvsB,KACPA,EAAKoB,GAAI6vB,EAAUhxB,EAAO0lB,GAAO1lB,GAAOssB,EAAKvsB,IACjC,GAAR2lC,GAAa,OAAO3lC,EAG5B,OAAOwB,GAAQ,CAACA,KAAMA,EAAMxB,GAAIA,IAKlCqhD,GAAWnnD,UAAUmvC,QAAU,WAC3B,IAAI6X,EAASvnD,KAEX8B,EAAM9B,KAAKwH,MAAM,GAAG,GAAOizB,EAASz6B,KAAM0C,EAAK1C,KAAKkrB,IAAIxoB,GACvDZ,GAAQY,GACbk0C,GAAQl0C,GAAI,WACV,IAAI4D,EAAOxE,EAAIwE,KAAMywB,EAAQ/K,GAAOlqB,EAAIwE,MACpCq1B,EAAO4G,GAAgB7/B,EAAIq0B,GAM/B,GALI4E,IACF6I,GAA6B7I,GAC7Bj5B,EAAG+jB,MAAMuuB,iBAAmBtyC,EAAG+jB,MAAMic,aAAc,GAErDhgC,EAAG+jB,MAAMwuB,eAAgB,GACpB/d,GAAauD,EAAOvP,IAAK5kB,IAA0B,MAAjBm0B,EAAO3O,OAAgB,CAC5D,IAAI2iB,EAAYhU,EAAO3O,OACvB2O,EAAO3O,OAAS,KAChB,IAAIs8B,EAAUvoB,GAAapF,GAAUgU,EACjC2Z,GACAv8B,GAAiBvlB,EAAMA,EAAKwlB,OAASs8B,GAE3C7rB,GAAY75B,EAAI,gBAAiBA,EAAI6kD,OAIzCG,GAAWnnD,UAAU8yB,WAAa,SAAU/sB,GAC1C,IAAKtG,KAAKsrB,MAAM1sB,QAAUoB,KAAKkrB,IAAIxoB,GAAI,CACrC,IAAIqwB,EAAK/yB,KAAKkrB,IAAIxoB,GAAG+jB,MAChBsM,EAAGyjB,qBAA+D,GAAzC7xC,EAAQouB,EAAGyjB,mBAAoBx2C,QACxD+yB,EAAG2jB,uBAAyB3jB,EAAG2jB,qBAAuB,KAAKjqC,KAAKzM,MAEvEA,KAAKsrB,MAAM7e,KAAKnG,IAGlBohD,GAAWnnD,UAAUi1B,WAAa,SAAUlvB,GAE1C,GADAtG,KAAKsrB,MAAM7Q,OAAO9V,EAAQ3E,KAAKsrB,MAAOhlB,GAAO,IACxCtG,KAAKsrB,MAAM1sB,QAAUoB,KAAKkrB,IAAIxoB,GAAI,CACrC,IAAIqwB,EAAK/yB,KAAKkrB,IAAIxoB,GAAG+jB,OACnBsM,EAAGyjB,qBAAuBzjB,EAAGyjB,mBAAqB,KAAK/pC,KAAKzM,QAGlE4mB,GAAW8gC,IA8EX,IAAIW,GAAmB,SAASrzB,EAASzoB,GACvCvM,KAAKg1B,QAAUA,EACfh1B,KAAKuM,QAAUA,EACf,IAAK,IAAIxN,EAAI,EAAGA,EAAIi2B,EAAQp2B,SAAUG,EAClCi2B,EAAQj2B,GAAGye,OAASxd,MAgB1B,SAAS4nD,GAAe18B,EAAKrjB,EAAMxB,EAAIvC,EAAS8E,GAC9C9E,EAAUqb,EAAQrb,GAClBA,EAAQy7C,QAAS,EACjB,IAAIvqB,EAAU,CAAC2yB,GAASz8B,EAAKrjB,EAAMxB,EAAIvC,EAAS8E,IAAQ2D,EAAUyoB,EAAQ,GACtEyF,EAAS32B,EAAQqzB,WAQrB,OAPA6nB,GAAW9zB,GAAK,SAAUA,GACpBuP,IAAU32B,EAAQqzB,WAAasD,EAAO6tB,WAAU,IACpDtzB,EAAQvoB,KAAKk7C,GAASz8B,EAAK8B,GAAQ9B,EAAKrjB,GAAOmlB,GAAQ9B,EAAK7kB,GAAKvC,EAAS8E,IAC1E,IAAK,IAAI7J,EAAI,EAAGA,EAAImsB,EAAIm0B,OAAOzgD,SAAUG,EACrC,GAAImsB,EAAIm0B,OAAOtgD,GAAGwpD,SAAY,OAClCh8C,EAAU0U,EAAI+T,MAET,IAAIqzB,GAAiBrzB,EAASzoB,GAGvC,SAASi8C,GAAkBt9B,GACzB,OAAOA,EAAIu9B,UAAUhhD,GAAIyjB,EAAIC,MAAO,GAAID,EAAI8B,QAAQvlB,GAAIyjB,EAAIxjB,cAAc,SAAUqT,GAAK,OAAOA,EAAEyC,UAGpG,SAASkrC,GAAkBx9B,EAAK8J,GAC9B,IAAK,IAAIj2B,EAAI,EAAGA,EAAIi2B,EAAQp2B,OAAQG,IAAK,CACvC,IAAI0zB,EAASuC,EAAQj2B,GAAI+C,EAAM2wB,EAAOjrB,OAClCmhD,EAAQz9B,EAAI8B,QAAQlrB,EAAI+F,MAAO+gD,EAAM19B,EAAI8B,QAAQlrB,EAAIuE,IACzD,GAAIqmB,GAAIi8B,EAAOC,GAAM,CACnB,IAAIC,EAAUlB,GAASz8B,EAAKy9B,EAAOC,EAAKn2B,EAAOlmB,QAASkmB,EAAOlmB,QAAQ3D,MACvE6pB,EAAOuC,QAAQvoB,KAAKo8C,GACpBA,EAAQrrC,OAASiV,IAKvB,SAASq2B,GAAoB9zB,GAa3B,IAZA,IAAI5F,EAAO,SAAWrwB,GACpB,IAAI0zB,EAASuC,EAAQj2B,GAAIsgD,EAAS,CAAC5sB,EAAOlmB,QAAQ2e,KAClD8zB,GAAWvsB,EAAOlmB,QAAQ2e,KAAK,SAAUuM,GAAK,OAAO4nB,EAAO5yC,KAAKgrB,MACjE,IAAK,IAAIpT,EAAI,EAAGA,EAAIoO,EAAOuC,QAAQp2B,OAAQylB,IAAK,CAC9C,IAAI0kC,EAAYt2B,EAAOuC,QAAQ3Q,IACQ,GAAnC1f,EAAQ06C,EAAQ0J,EAAU79B,OAC5B69B,EAAUvrC,OAAS,KACnBiV,EAAOuC,QAAQva,OAAO4J,IAAK,MAKxBtlB,EAAI,EAAGA,EAAIi2B,EAAQp2B,OAAQG,IAAKqwB,EAAMrwB,GAzDjDspD,GAAiB9nD,UAAU6E,MAAQ,WACjC,IAAIpF,KAAK0hD,kBAAT,CACA1hD,KAAK0hD,mBAAoB,EACzB,IAAK,IAAI3iD,EAAI,EAAGA,EAAIiB,KAAKg1B,QAAQp2B,SAAUG,EACvCiB,KAAKg1B,QAAQj2B,GAAGqG,QACpBm3B,GAAYv8B,KAAM,WAGpBqoD,GAAiB9nD,UAAUiH,KAAO,SAAUwkC,EAAM1U,GAChD,OAAOt3B,KAAKuM,QAAQ/E,KAAKwkC,EAAM1U,IAEjC1Q,GAAWyhC,IAiDX,IAAIW,GAAY,EACZC,GAAM,SAAS9lD,EAAMkI,EAAM1D,EAAWuhD,EAASxlC,GACjD,KAAM1jB,gBAAgBipD,IAAQ,OAAO,IAAIA,GAAI9lD,EAAMkI,EAAM1D,EAAWuhD,EAASxlC,GAC5D,MAAb/b,IAAqBA,EAAY,GAErC2+C,GAAY7vC,KAAKzW,KAAM,CAAC,IAAIqmD,GAAU,CAAC,IAAIxuB,GAAK,GAAI,UACpD73B,KAAKmrB,MAAQxjB,EACb3H,KAAKslC,UAAYtlC,KAAKklC,WAAa,EACnCllC,KAAKikD,UAAW,EAChBjkD,KAAKmpD,gBAAkB,EACvBnpD,KAAKswB,aAAetwB,KAAKqwB,kBAAoB1oB,EAC7C,IAAI2B,EAAQ7B,GAAIE,EAAW,GAC3B3H,KAAK6M,IAAM0wC,GAAgBj0C,GAC3BtJ,KAAKihD,QAAU,IAAItB,GAAQ,MAC3B3/C,KAAKggB,KAAOgpC,GACZhpD,KAAKi+C,WAAa5yC,EAClBrL,KAAKkpD,QAAUA,EACflpD,KAAK0jB,UAA0B,OAAbA,EAAsB,MAAQ,MAChD1jB,KAAKq4C,QAAS,EAEK,iBAARl1C,IAAoBA,EAAOnD,KAAK6lD,WAAW1iD,IACtDk7C,GAAUr+C,KAAM,CAAC6H,KAAMyB,EAAOjD,GAAIiD,EAAOnG,KAAMA,IAC/CyE,GAAa5H,KAAMu9C,GAAgBj0C,GAAQgX,IAG7C2oC,GAAI1oD,UAAYghB,EAAU+kC,GAAY/lD,UAAW,CAC/C6oD,YAAaH,GAKbt9B,KAAM,SAAS9jB,EAAMxB,EAAI0sB,GACnBA,EAAM/yB,KAAKymD,MAAM5+C,EAAO7H,KAAKmrB,MAAO9kB,EAAKwB,EAAMkrB,GAC5C/yB,KAAKymD,MAAMzmD,KAAKmrB,MAAOnrB,KAAKmrB,MAAQnrB,KAAKorB,KAAMvjB,IAIxD82C,OAAQ,SAAS55B,EAAIuG,GAEnB,IADA,IAAIQ,EAAS,EACJ/sB,EAAI,EAAGA,EAAIusB,EAAM1sB,SAAUG,EAAK+sB,GAAUR,EAAMvsB,GAAG+sB,OAC5D9rB,KAAKwmD,YAAYzhC,EAAK/kB,KAAKmrB,MAAOG,EAAOQ,IAE3C8yB,OAAQ,SAAS75B,EAAIrF,GAAK1f,KAAKumD,YAAYxhC,EAAK/kB,KAAKmrB,MAAOzL,IAK5D2pC,SAAU,SAASH,GACjB,IAAI59B,EAAQM,GAAS5rB,KAAMA,KAAKmrB,MAAOnrB,KAAKmrB,MAAQnrB,KAAKorB,MACzD,OAAgB,IAAZ89B,EAA4B59B,EACzBA,EAAMrY,KAAKi2C,GAAWlpD,KAAKiM,kBAEpCq9C,SAAUxS,IAAY,SAAS7kC,GAC7B,IAAIpL,EAAMY,GAAIzH,KAAKmrB,MAAO,GAAI8B,EAAOjtB,KAAKmrB,MAAQnrB,KAAKorB,KAAO,EAC9Dk5B,GAAWtkD,KAAM,CAAC6H,KAAMhB,EAAKR,GAAIoB,GAAIwlB,EAAMhC,GAAQjrB,KAAMitB,GAAM9pB,KAAKvE,QAClDuE,KAAMnD,KAAK6lD,WAAW5zC,GAAOwO,OAAQ,WAAY0T,MAAM,IAAO,GAC5En0B,KAAK0C,IAAMuuC,GAAejxC,KAAK0C,GAAI,EAAG,GAC1CkF,GAAa5H,KAAMu9C,GAAgB12C,GAAMyZ,MAE3CvU,aAAc,SAASkG,EAAMpK,EAAMxB,EAAIoa,GACrC5Y,EAAOmlB,GAAQhtB,KAAM6H,GACrBxB,EAAKA,EAAK2mB,GAAQhtB,KAAMqG,GAAMwB,EAC9BkE,GAAa/L,KAAMiS,EAAMpK,EAAMxB,EAAIoa,IAErCxX,SAAU,SAASpB,EAAMxB,EAAI6iD,GAC3B,IAAI59B,EAAQI,GAAW1rB,KAAMgtB,GAAQhtB,KAAM6H,GAAOmlB,GAAQhtB,KAAMqG,IAChE,OAAgB,IAAZ6iD,EAA4B59B,EAChB,KAAZ49B,EAAyB59B,EAAMrY,KAAK,IACjCqY,EAAMrY,KAAKi2C,GAAWlpD,KAAKiM,kBAGpCgf,QAAS,SAAS3kB,GAAO,IAAI2T,EAAIja,KAAKupD,cAAcjjD,GAAO,OAAO2T,GAAKA,EAAE9W,MAEzEomD,cAAe,SAASjjD,GAAO,GAAIgmB,GAAOtsB,KAAMsG,GAAS,OAAO2kB,GAAQjrB,KAAMsG,IAC9EkjD,cAAe,SAASljD,GAAO,OAAO0lB,GAAO1lB,IAE7CmjD,yBAA0B,SAASnjD,GAEjC,MADmB,iBAARA,IAAoBA,EAAO2kB,GAAQjrB,KAAMsG,IAC7CowB,GAAWpwB,IAGpBojD,UAAW,WAAY,OAAO1pD,KAAKorB,MACnCzjB,UAAW,WAAY,OAAO3H,KAAKmrB,OACnCzjB,SAAU,WAAY,OAAO1H,KAAKmrB,MAAQnrB,KAAKorB,KAAO,GAEtD4B,QAAS,SAASlrB,GAAM,OAAOkrB,GAAQhtB,KAAM8B,IAE7CkE,UAAW,SAASsD,GAClB,IAAgCxH,EAA5B0K,EAAQxM,KAAK6M,IAAIN,UAKrB,OAJwCzK,EAA3B,MAATwH,GAA0B,QAATA,EAAyBkD,EAAMX,KAClC,UAATvC,EAA2BkD,EAAME,OACxB,OAATpD,GAA2B,MAATA,IAA2B,IAAVA,EAAyBkD,EAAMnG,KAC9DmG,EAAM3E,OACZ/F,GAET2J,eAAgB,WAAa,OAAOzL,KAAK6M,IAAIrB,QAC7CwxC,kBAAmB,WAAY,OAAOh9C,KAAK6M,IAAImwC,qBAE/C2M,UAAW7S,IAAY,SAASxwC,EAAM9B,EAAIV,GACxC6+C,GAAmB3iD,KAAMgtB,GAAQhtB,KAAqB,iBAARsG,EAAmBmB,GAAInB,EAAM9B,GAAM,GAAK8B,GAAO,KAAMxC,MAErG8D,aAAckvC,IAAY,SAASpqC,EAAQb,EAAM/H,GAC/C6+C,GAAmB3iD,KAAMgtB,GAAQhtB,KAAM0M,GAASsgB,GAAQhtB,KAAM6L,GAAQa,GAAS5I,MAEjFw+C,gBAAiBxL,IAAY,SAASjrC,EAAM26B,EAAO1iC,GACjDw+C,GAAgBtiD,KAAMgtB,GAAQhtB,KAAM6L,GAAO26B,GAASxZ,GAAQhtB,KAAMwmC,GAAQ1iC,MAE5Ey+C,iBAAkBzL,IAAY,SAAS0L,EAAO1+C,GAC5Cy+C,GAAiBviD,KAAMotB,GAAaptB,KAAMwiD,GAAQ1+C,MAEpD8lD,mBAAoB9S,IAAY,SAAS7yC,EAAGH,GAC1C,IAAI0+C,EAAQ3jD,EAAImB,KAAK6M,IAAIrB,OAAQvH,GACjCs+C,GAAiBviD,KAAMotB,GAAaptB,KAAMwiD,GAAQ1+C,MAEpD6I,cAAemqC,IAAY,SAAStrC,EAAQe,EAASzI,GACnD,GAAK0H,EAAO5M,OAAZ,CAEA,IADA,IAAIsiB,EAAM,GACDniB,EAAI,EAAGA,EAAIyM,EAAO5M,OAAQG,IAC/BmiB,EAAIniB,GAAK,IAAIg+C,GAAM/vB,GAAQhtB,KAAMwL,EAAOzM,GAAG2N,QAC1BsgB,GAAQhtB,KAAMwL,EAAOzM,GAAG8M,MAAQL,EAAOzM,GAAG2N,SAChD,MAAXH,IAAmBA,EAAUpN,KAAKe,IAAIsL,EAAO5M,OAAS,EAAGoB,KAAK6M,IAAIg+B,YACtEjjC,GAAa5H,KAAMi9C,GAAmBj9C,KAAK0C,GAAIwe,EAAK3U,GAAUzI,OAEhE+lD,aAAc/S,IAAY,SAASpqC,EAAQb,EAAM/H,GAC/C,IAAI0H,EAASxL,KAAK6M,IAAIrB,OAAOoC,MAAM,GACnCpC,EAAOiB,KAAK,IAAIswC,GAAM/vB,GAAQhtB,KAAM0M,GAASsgB,GAAQhtB,KAAM6L,GAAQa,KACnE9E,GAAa5H,KAAMi9C,GAAmBj9C,KAAK0C,GAAI8I,EAAQA,EAAO5M,OAAS,GAAIkF,MAG7E6B,aAAc,SAASujD,GAErB,IADA,IAA8B59B,EAA1B9f,EAASxL,KAAK6M,IAAIrB,OACbzM,EAAI,EAAGA,EAAIyM,EAAO5M,OAAQG,IAAK,CACtC,IAAI8N,EAAM6e,GAAW1rB,KAAMwL,EAAOzM,GAAG8I,OAAQ2D,EAAOzM,GAAGsH,MACvDilB,EAAQA,EAAQA,EAAM3F,OAAO9Y,GAAOA,EAEtC,OAAgB,IAAZq8C,EAA4B59B,EAClBA,EAAMrY,KAAKi2C,GAAWlpD,KAAKiM,kBAE3CyB,cAAe,SAASw7C,GAEtB,IADA,IAAI/1C,EAAQ,GAAI3H,EAASxL,KAAK6M,IAAIrB,OACzBzM,EAAI,EAAGA,EAAIyM,EAAO5M,OAAQG,IAAK,CACtC,IAAI8N,EAAM6e,GAAW1rB,KAAMwL,EAAOzM,GAAG8I,OAAQ2D,EAAOzM,GAAGsH,OACvC,IAAZ6iD,IAAqBr8C,EAAMA,EAAIoG,KAAKi2C,GAAWlpD,KAAKiM,kBACxDkH,EAAMpU,GAAK8N,EAEb,OAAOsG,GAETjH,iBAAkB,SAAS+F,EAAM4M,EAAU4B,GAEzC,IADA,IAAIqpC,EAAM,GACD/qD,EAAI,EAAGA,EAAIiB,KAAK6M,IAAIrB,OAAO5M,OAAQG,IACxC+qD,EAAI/qD,GAAKkT,EACbjS,KAAK2N,kBAAkBm8C,EAAKjrC,EAAU4B,GAAU,WAElD9S,kBAAmBmpC,IAAY,SAAS7kC,EAAM4M,EAAU4B,GAEtD,IADA,IAAIoc,EAAU,GAAIhwB,EAAM7M,KAAK6M,IACpB9N,EAAI,EAAGA,EAAI8N,EAAIrB,OAAO5M,OAAQG,IAAK,CAC1C,IAAIyN,EAAQK,EAAIrB,OAAOzM,GACvB89B,EAAQ99B,GAAK,CAAC8I,KAAM2E,EAAM3E,OAAQxB,GAAImG,EAAMnG,KAAMlD,KAAMnD,KAAK6lD,WAAW5zC,EAAKlT,IAAK0hB,OAAQA,GAG5F,IADA,IAAIgiC,EAAS5jC,GAAwB,OAAZA,GAAqB++B,GAAmB59C,KAAM68B,EAAShe,GACvEgF,EAAMgZ,EAAQj+B,OAAS,EAAGilB,GAAO,EAAGA,IACzCygC,GAAWtkD,KAAM68B,EAAQhZ,IACzB4+B,EAAUI,GAA2B7iD,KAAMyiD,GACtCziD,KAAK0C,IAAMouC,GAAoB9wC,KAAK0C,OAE/CqnD,KAAMjT,IAAY,WAAY+N,GAAsB7kD,KAAM,WAC1DgqD,KAAMlT,IAAY,WAAY+N,GAAsB7kD,KAAM,WAC1DiqD,cAAenT,IAAY,WAAY+N,GAAsB7kD,KAAM,QAAQ,MAC3EkqD,cAAepT,IAAY,WAAY+N,GAAsB7kD,KAAM,QAAQ,MAE3EmqD,aAAc,SAAS9/C,GAAMrK,KAAKq4C,OAAShuC,GAC3C+/C,aAAc,WAAY,OAAOpqD,KAAKq4C,QAEtCgS,YAAa,WAEX,IADA,IAAIxJ,EAAO7gD,KAAKihD,QAASrB,EAAO,EAAGC,EAAS,EACnC9gD,EAAI,EAAGA,EAAI8hD,EAAKjB,KAAKhhD,OAAQG,IAAY8hD,EAAKjB,KAAK7gD,GAAGyM,UAAYo0C,EAC3E,IAAK,IAAI/7B,EAAM,EAAGA,EAAMg9B,EAAKhB,OAAOjhD,OAAQilB,IAAcg9B,EAAKhB,OAAOh8B,GAAKrY,UAAYq0C,EACvF,MAAO,CAACkK,KAAMnK,EAAMoK,KAAMnK,IAE5BoI,aAAc,WACZ,IAAIV,EAASvnD,KAEbA,KAAKihD,QAAU,IAAItB,GAAQ3/C,KAAKihD,SAChCjC,GAAWh/C,MAAM,SAAUkrB,GAAO,OAAOA,EAAI+1B,QAAUsG,EAAOtG,WAAY,IAG5EqJ,UAAW,WACTtqD,KAAKmpD,gBAAkBnpD,KAAKuqD,kBAAiB,IAE/CA,iBAAkB,SAASC,GAGzB,OAFIA,IACAxqD,KAAKihD,QAAQhB,OAASjgD,KAAKihD,QAAQf,UAAYlgD,KAAKihD,QAAQd,WAAa,MACtEngD,KAAKihD,QAAQZ,YAEtBoK,QAAS,SAAUC,GACjB,OAAO1qD,KAAKihD,QAAQZ,aAAeqK,GAAO1qD,KAAKmpD,kBAGjDwB,WAAY,WACV,MAAO,CAAC/K,KAAMoC,GAAiBhiD,KAAKihD,QAAQrB,MACpCC,OAAQmC,GAAiBhiD,KAAKihD,QAAQpB,UAEhD+K,WAAY,SAASC,GACnB,IAAIhK,EAAO7gD,KAAKihD,QAAU,IAAItB,GAAQ3/C,KAAKihD,SAC3CJ,EAAKjB,KAAOoC,GAAiB6I,EAASjL,KAAKhyC,MAAM,GAAI,MAAM,GAC3DizC,EAAKhB,OAASmC,GAAiB6I,EAAShL,OAAOjyC,MAAM,GAAI,MAAM,IAGjEk9C,gBAAiBhU,IAAY,SAASxwC,EAAMykD,EAAUvnD,GACpD,OAAO0iD,GAAWlmD,KAAMsG,EAAM,UAAU,SAAUA,GAChD,IAAI0uB,EAAU1uB,EAAK43B,gBAAkB53B,EAAK43B,cAAgB,IAG1D,OAFAlJ,EAAQ+1B,GAAYvnD,GACfA,GAASue,GAAQiT,KAAY1uB,EAAK43B,cAAgB,OAChD,QAIX8sB,YAAalU,IAAY,SAASiU,GAChC,IAAIxD,EAASvnD,KAEbA,KAAK2rB,MAAK,SAAUrlB,GACdA,EAAK43B,eAAiB53B,EAAK43B,cAAc6sB,IAC3C7E,GAAWqB,EAAQjhD,EAAM,UAAU,WAGjC,OAFAA,EAAK43B,cAAc6sB,GAAY,KAC3BhpC,GAAQzb,EAAK43B,iBAAkB53B,EAAK43B,cAAgB,OACjD,WAMf+sB,SAAU,SAAS3kD,GACjB,IAAIoZ,EACJ,GAAmB,iBAARpZ,EAAkB,CAC3B,IAAKgmB,GAAOtsB,KAAMsG,GAAS,OAAO,KAGlC,GAFAoZ,EAAIpZ,EACJA,EAAO2kB,GAAQjrB,KAAMsG,IAChBA,EAAQ,OAAO,UAGpB,GADAoZ,EAAIsM,GAAO1lB,GACF,MAALoZ,EAAa,OAAO,KAE1B,MAAO,CAACpZ,KAAMoZ,EAAGymC,OAAQ7/C,EAAMnD,KAAMmD,EAAKnD,KAAM+6B,cAAe53B,EAAK43B,cAC5DtO,UAAWtpB,EAAKspB,UAAWD,QAASrpB,EAAKqpB,QAASgO,UAAWr3B,EAAKq3B,UAClEuB,QAAS54B,EAAK44B,UAGxBgsB,aAAcpU,IAAY,SAASqP,EAAQgF,EAAOnuC,GAChD,OAAOkpC,GAAWlmD,KAAMmmD,EAAiB,UAATgF,EAAoB,SAAW,SAAS,SAAU7kD,GAChF,IAAI+Y,EAAgB,QAAT8rC,EAAkB,YACT,cAATA,EAAwB,UACf,UAATA,EAAoB,cAAgB,YAC/C,GAAK7kD,EAAK+Y,GACL,IAAItC,EAAUC,GAAKnY,KAAKyB,EAAK+Y,IAAU,OAAO,EAC5C/Y,EAAK+Y,IAAS,IAAMrC,OAFR1W,EAAK+Y,GAAQrC,EAGhC,OAAO,QAGXouC,gBAAiBtU,IAAY,SAASqP,EAAQgF,EAAOnuC,GACnD,OAAOkpC,GAAWlmD,KAAMmmD,EAAiB,UAATgF,EAAoB,SAAW,SAAS,SAAU7kD,GAChF,IAAI+Y,EAAgB,QAAT8rC,EAAkB,YACT,cAATA,EAAwB,UACf,UAATA,EAAoB,cAAgB,YAC3Cr/C,EAAMxF,EAAK+Y,GACf,IAAKvT,EAAO,OAAO,EACd,GAAW,MAAPkR,EAAe1W,EAAK+Y,GAAQ,SAChC,CACH,IAAIqD,EAAQ5W,EAAI/J,MAAMgb,EAAUC,IAChC,IAAK0F,EAAS,OAAO,EACrB,IAAI3P,EAAM2P,EAAMxgB,MAAQwgB,EAAM,GAAG9jB,OACjC0H,EAAK+Y,GAAQvT,EAAI8B,MAAM,EAAG8U,EAAMxgB,QAAWwgB,EAAMxgB,OAAS6Q,GAAOjH,EAAIlN,OAAc,IAAL,IAAYkN,EAAI8B,MAAMmF,IAAQ,KAE9G,OAAO,QAIXq0C,cAAetQ,IAAY,SAASqP,EAAQlpC,EAAMnZ,GAChD,OAAOsjD,GAAcpnD,KAAMmmD,EAAQlpC,EAAMnZ,MAE3CunD,iBAAkB,SAAS5wB,GAAUA,EAAOr1B,SAE5CuiD,SAAU,SAAS9/C,EAAMxB,EAAIvC,GAC3B,OAAO6jD,GAAS3nD,KAAMgtB,GAAQhtB,KAAM6H,GAAOmlB,GAAQhtB,KAAMqG,GAAKvC,EAASA,GAAWA,EAAQ8E,MAAQ,UAEpG0iD,YAAa,SAASxpD,EAAKgC,GACzB,IAAIynD,EAAW,CAAC1D,aAAc/jD,IAAgC,MAApBA,EAAQga,SAAmBha,EAAQ22B,OAAS32B,GACtE8vB,WAAY9vB,GAAWA,EAAQ8vB,WAC/BkB,gBAAgB,EAAOyqB,OAAQz7C,GAAWA,EAAQy7C,OAClDpgB,kBAAmBr7B,GAAWA,EAAQq7B,mBAEtD,OADAr9B,EAAMkrB,GAAQhtB,KAAM8B,GACb6lD,GAAS3nD,KAAM8B,EAAKA,EAAKypD,EAAU,aAE5CC,YAAa,SAAS1pD,GACpBA,EAAMkrB,GAAQhtB,KAAM8B,GACpB,IAAIkzB,EAAU,GAAIrC,EAAQ1H,GAAQjrB,KAAM8B,EAAIwE,MAAM4sB,YAClD,GAAIP,EAAS,IAAK,IAAI5zB,EAAI,EAAGA,EAAI4zB,EAAM/zB,SAAUG,EAAG,CAClD,IAAI6zB,EAAOD,EAAM5zB,IACC,MAAb6zB,EAAK/qB,MAAgB+qB,EAAK/qB,MAAQ/F,EAAI0C,MAC3B,MAAXouB,EAAKvsB,IAAcusB,EAAKvsB,IAAMvE,EAAI0C,KACnCwwB,EAAQvoB,KAAKmmB,EAAKH,OAAOjV,QAAUoV,EAAKH,QAE9C,OAAOuC,GAETyzB,UAAW,SAAS5gD,EAAMxB,EAAI4+C,GAC5Bp9C,EAAOmlB,GAAQhtB,KAAM6H,GAAOxB,EAAK2mB,GAAQhtB,KAAMqG,GAC/C,IAAIqc,EAAQ,GAAIsJ,EAASnkB,EAAKvB,KAa9B,OAZAtG,KAAK2rB,KAAK9jB,EAAKvB,KAAMD,EAAGC,KAAO,GAAG,SAAUA,GAC1C,IAAIqsB,EAAQrsB,EAAK4sB,YACjB,GAAIP,EAAS,IAAK,IAAI5zB,EAAI,EAAGA,EAAI4zB,EAAM/zB,OAAQG,IAAK,CAClD,IAAI6zB,EAAOD,EAAM5zB,GACA,MAAX6zB,EAAKvsB,IAAc2lB,GAAUnkB,EAAKvB,MAAQuB,EAAKrD,IAAMouB,EAAKvsB,IAC7C,MAAbusB,EAAK/qB,MAAgBmkB,GAAUnkB,EAAKvB,MACvB,MAAbssB,EAAK/qB,MAAgBmkB,GAAU3lB,EAAGC,MAAQssB,EAAK/qB,MAAQxB,EAAG7B,IAC1DygD,IAAUA,EAAOryB,EAAKH,SACxB/P,EAAMjW,KAAKmmB,EAAKH,OAAOjV,QAAUoV,EAAKH,UAE1CzG,KAEGtJ,GAET+oC,YAAa,WACX,IAAIz2B,EAAU,GAMd,OALAh1B,KAAK2rB,MAAK,SAAUrlB,GAClB,IAAI6vB,EAAM7vB,EAAK4sB,YACf,GAAIiD,EAAO,IAAK,IAAIp3B,EAAI,EAAGA,EAAIo3B,EAAIv3B,SAAUG,EACtB,MAAfo3B,EAAIp3B,GAAG8I,MAAgBmtB,EAAQvoB,KAAK0pB,EAAIp3B,GAAG0zB,WAE9CuC,GAGT02B,aAAc,SAAS7lC,GACrB,IAAIrhB,EAAIwnB,EAAShsB,KAAKmrB,MAAOwgC,EAAU3rD,KAAKiM,gBAAgBrN,OAO5D,OANAoB,KAAK2rB,MAAK,SAAUrlB,GAClB,IAAIklB,EAAKllB,EAAKnD,KAAKvE,OAAS+sD,EAC5B,GAAIngC,EAAK3F,EAAiB,OAAVrhB,EAAKqhB,GAAY,EACjCA,GAAO2F,IACLQ,KAEGgB,GAAQhtB,KAAMyH,GAAIukB,EAAQxnB,KAEnConD,aAAc,SAAU7lB,GACtBA,EAAS/Y,GAAQhtB,KAAM+lC,GACvB,IAAI7jC,EAAQ6jC,EAAOvhC,GACnB,GAAIuhC,EAAOz/B,KAAOtG,KAAKmrB,OAAS4a,EAAOvhC,GAAK,EAAK,OAAO,EACxD,IAAImnD,EAAU3rD,KAAKiM,gBAAgBrN,OAInC,OAHAoB,KAAK2rB,KAAK3rB,KAAKmrB,MAAO4a,EAAOz/B,MAAM,SAAUA,GAC3CpE,GAASoE,EAAKnD,KAAKvE,OAAS+sD,KAEvBzpD,GAGTivB,KAAM,SAAS06B,GACb,IAAI3gC,EAAM,IAAI+9B,GAAIr9B,GAAS5rB,KAAMA,KAAKmrB,MAAOnrB,KAAKmrB,MAAQnrB,KAAKorB,MAC7CprB,KAAKi+C,WAAYj+C,KAAKmrB,MAAOnrB,KAAKkpD,QAASlpD,KAAK0jB,WAQlE,OAPAwH,EAAIoa,UAAYtlC,KAAKslC,UAAWpa,EAAIga,WAAallC,KAAKklC,WACtDha,EAAIre,IAAM7M,KAAK6M,IACfqe,EAAImtB,QAAS,EACTwT,IACF3gC,EAAI+1B,QAAQnB,UAAY9/C,KAAKihD,QAAQnB,UACrC50B,EAAI0/B,WAAW5qD,KAAK2qD,eAEfz/B,GAGT4gC,UAAW,SAAShoD,GACbA,IAAWA,EAAU,IAC1B,IAAI+D,EAAO7H,KAAKmrB,MAAO9kB,EAAKrG,KAAKmrB,MAAQnrB,KAAKorB,KAC1B,MAAhBtnB,EAAQ+D,MAAgB/D,EAAQ+D,KAAOA,IAAQA,EAAO/D,EAAQ+D,MAChD,MAAd/D,EAAQuC,IAAcvC,EAAQuC,GAAKA,IAAMA,EAAKvC,EAAQuC,IAC1D,IAAI8qB,EAAO,IAAI83B,GAAIr9B,GAAS5rB,KAAM6H,EAAMxB,GAAKvC,EAAQuH,MAAQrL,KAAKi+C,WAAYp2C,EAAM7H,KAAKkpD,QAASlpD,KAAK0jB,WAKvG,OAJI5f,EAAQs7C,aAAcjuB,EAAK8vB,QAAUjhD,KAAKihD,UAC1CjhD,KAAKq/C,SAAWr/C,KAAKq/C,OAAS,KAAK5yC,KAAK,CAACye,IAAKiG,EAAMiuB,WAAYt7C,EAAQs7C,aAC5EjuB,EAAKkuB,OAAS,CAAC,CAACn0B,IAAKlrB,KAAMuoD,UAAU,EAAMnJ,WAAYt7C,EAAQs7C,aAC/DsJ,GAAkBv3B,EAAMq3B,GAAkBxoD,OACnCmxB,GAET46B,UAAW,SAASvlB,GAElB,GADIA,aAAiBtlC,KAAcslC,EAAQA,EAAMtb,KAC7ClrB,KAAKq/C,OAAU,IAAK,IAAItgD,EAAI,EAAGA,EAAIiB,KAAKq/C,OAAOzgD,SAAUG,EAAG,CAC9D,IAAIitD,EAAOhsD,KAAKq/C,OAAOtgD,GACvB,GAAIitD,EAAK9gC,KAAOsb,EAAhB,CACAxmC,KAAKq/C,OAAO5kC,OAAO1b,EAAG,GACtBynC,EAAMulB,UAAU/rD,MAChB8oD,GAAoBN,GAAkBxoD,OACtC,OAGF,GAAIwmC,EAAMya,SAAWjhD,KAAKihD,QAAS,CACjC,IAAIgL,EAAW,CAACzlB,EAAMxmB,IACtBg/B,GAAWxY,GAAO,SAAUtb,GAAO,OAAO+gC,EAASx/C,KAAKye,EAAIlL,OAAQ,GACpEwmB,EAAMya,QAAU,IAAItB,GAAQ,MAC5BnZ,EAAMya,QAAQrB,KAAOoC,GAAiBhiD,KAAKihD,QAAQrB,KAAMqM,GACzDzlB,EAAMya,QAAQpB,OAASmC,GAAiBhiD,KAAKihD,QAAQpB,OAAQoM,KAGjEC,eAAgB,SAASjoD,GAAI+6C,GAAWh/C,KAAMiE,IAE9C0lB,QAAS,WAAY,OAAO3pB,KAAKqL,MACjC8gD,UAAW,WAAY,OAAOnsD,KAAK0C,IAEnCmjD,WAAY,SAASvmD,GACnB,OAAIU,KAAKkpD,QAAkB5pD,EAAIX,MAAMqB,KAAKkpD,SACnC/gC,GAAe7oB,IAExB2M,cAAe,WAAa,OAAOjM,KAAKkpD,SAAW,MAEnDkD,aAActV,IAAY,SAAUzqC,GACvB,OAAPA,IAAgBA,EAAM,OACtBA,GAAOrM,KAAK0jB,YAChB1jB,KAAK0jB,UAAYrX,EACjBrM,KAAK2rB,MAAK,SAAUrlB,GAAQ,OAAOA,EAAKmc,MAAQ,QAC5CziB,KAAK0C,IAAMg9C,GAAiB1/C,KAAK0C,UAKzCumD,GAAI1oD,UAAU8rD,SAAWpD,GAAI1oD,UAAUorB,KAIvC,IAAI2gC,GAAW,EAEf,SAASC,GAAO3nD,GACd,IAAIlC,EAAK1C,KAET,GADAwsD,GAAgB9pD,IACZwjB,GAAexjB,EAAIkC,KAAMq7B,GAAcv9B,EAAG+D,QAAS7B,GAAvD,CAEA6Q,GAAiB7Q,GACb8W,IAAM4wC,IAAY,IAAI3sD,MAC1B,IAAImC,EAAM8mC,GAAalmC,EAAIkC,GAAG,GAAO6nD,EAAQ7nD,EAAE8nD,aAAaD,MAC5D,GAAK3qD,IAAOY,EAAGiqD,aAGf,GAAIF,GAASA,EAAM7tD,QAAU2U,OAAO2D,YAAc3D,OAAOq5C,KAkCvD,IAjCA,IAAIltC,EAAI+sC,EAAM7tD,OAAQuE,EAAO6O,MAAM0N,GAAImtC,EAAO,EAC1CC,EAAsC,aAClCD,GAAQntC,GACZrY,GAAU3E,GAAI,WACZZ,EAAMkrB,GAAQtqB,EAAGwoB,IAAKppB,GACtB,IAAIoyB,EAAS,CAACrsB,KAAM/F,EAAKuE,GAAIvE,EACfqB,KAAMT,EAAGwoB,IAAI26B,WACT1iD,EAAK8hD,QAAO,SAAU8H,GAAK,OAAY,MAALA,KAAc95C,KAAKvQ,EAAGwoB,IAAIjf,kBAChEwU,OAAQ,SACtB6jC,GAAW5hD,EAAGwoB,IAAKgJ,GACnB2uB,GAA2BngD,EAAGwoB,IAAKqyB,GAAgBvwB,GAAQtqB,EAAGwoB,IAAKppB,GAAMkrB,GAAQtqB,EAAGwoB,IAAKsyB,GAAUtpB,QAPrG7sB,IAWA2lD,EAAmB,SAAUC,EAAMluD,GACrC,GAAI2D,EAAGoB,QAAQopD,qBAC2C,GAAtDvoD,EAAQjC,EAAGoB,QAAQopD,mBAAoBD,EAAKrkD,MAC9CkkD,QAFF,CAKA,IAAIK,EAAS,IAAIj2C,WACjBi2C,EAAOn9C,QAAU,WAAc,OAAO88C,KACtCK,EAAOh2C,OAAS,WACd,IAAIC,EAAU+1C,EAAO91C,OACjB,0BAA0BxS,KAAKuS,KAInCjU,EAAKpE,GAAKqY,GAHR01C,KAMJK,EAAOC,WAAWH,KAEXluD,EAAI,EAAGA,EAAI0tD,EAAM7tD,OAAQG,IAAOiuD,EAAiBP,EAAM1tD,GAAIA,OAC/D,CAEL,GAAI2D,EAAGC,MAAMsrC,cAAgBvrC,EAAGwoB,IAAIre,IAAIgR,SAAS/b,IAAQ,EAIvD,OAHAY,EAAGC,MAAMsrC,aAAarpC,QAEtB8Q,YAAW,WAAc,OAAOhT,EAAG+D,QAAQi0B,MAAMjmB,UAAY,IAG/D,IACE,IAAI44C,EAASzoD,EAAE8nD,aAAaY,QAAQ,QACpC,GAAID,EAAQ,CACV,IAAIE,EAIJ,GAHI7qD,EAAGC,MAAMsrC,eAAiBvrC,EAAGC,MAAMsrC,aAAa9c,OAChDo8B,EAAW7qD,EAAG+I,kBAClBq3C,GAAmBpgD,EAAGwoB,IAAKqyB,GAAgBz7C,EAAKA,IAC5CyrD,EAAY,IAAK,IAAI1pC,EAAM,EAAGA,EAAM0pC,EAAS3uD,SAAUilB,EACvD9X,GAAarJ,EAAGwoB,IAAK,GAAIqiC,EAAS1pC,GAAKnX,OAAQ6gD,EAAS1pC,GAAKhY,KAAM,QACvEnJ,EAAGwJ,iBAAiBmhD,EAAQ,SAAU,SACtC3qD,EAAG+D,QAAQi0B,MAAMjmB,SAGrB,MAAMy0B,OAIV,SAASskB,GAAY9qD,EAAIkC,GACvB,GAAI8W,KAAQhZ,EAAGC,MAAMsrC,eAAiB,IAAItuC,KAAO2sD,GAAW,KAAQvmD,GAAOnB,QAC3E,IAAIshB,GAAexjB,EAAIkC,KAAMq7B,GAAcv9B,EAAG+D,QAAS7B,KAEvDA,EAAE8nD,aAAae,QAAQ,OAAQ/qD,EAAGiD,gBAClCf,EAAE8nD,aAAagB,cAAgB,WAI3B9oD,EAAE8nD,aAAaiB,eAAiB1xC,GAAQ,CAC1C,IAAI2xC,EAAMnwC,EAAI,MAAO,KAAM,KAAM,qCACjCmwC,EAAI9yC,IAAM,6EACNkB,IACF4xC,EAAIruB,MAAQquB,EAAI9hC,OAAS,EACzBppB,EAAG+D,QAAQC,QAAQ8B,YAAYolD,GAE/BA,EAAIC,KAAOD,EAAIrtB,WAEjB37B,EAAE8nD,aAAaiB,aAAaC,EAAK,EAAG,GAChC5xC,GAAU4xC,EAAIr5C,WAAWC,YAAYo5C,IAI7C,SAASE,GAAWprD,EAAIkC,GACtB,IAAI9C,EAAM8mC,GAAalmC,EAAIkC,GAC3B,GAAK9C,EAAL,CACA,IAAIisD,EAAOxnD,SAAS6B,yBACpB0iC,GAAoBpoC,EAAIZ,EAAKisD,GACxBrrD,EAAG+D,QAAQunD,aACdtrD,EAAG+D,QAAQunD,WAAavwC,EAAI,MAAO,KAAM,6CACzC/a,EAAG+D,QAAQ65B,UAAU/C,aAAa76B,EAAG+D,QAAQunD,WAAYtrD,EAAG+D,QAAQ8mC,YAEtEhwB,EAAqB7a,EAAG+D,QAAQunD,WAAYD,IAG9C,SAASvB,GAAgB9pD,GACnBA,EAAG+D,QAAQunD,aACbtrD,EAAG+D,QAAQ65B,UAAU9rB,YAAY9R,EAAG+D,QAAQunD,YAC5CtrD,EAAG+D,QAAQunD,WAAa,MAQ5B,SAASC,GAAkBhqD,GACzB,GAAKsC,SAAS2nD,uBAAd,CAEA,IADA,IAAIC,EAAU5nD,SAAS2nD,uBAAuB,cAAeE,EAAU,GAC9DrvD,EAAI,EAAGA,EAAIovD,EAAQvvD,OAAQG,IAAK,CACvC,IAAI2D,EAAKyrD,EAAQpvD,GAAGmC,WAChBwB,GAAM0rD,EAAQ3hD,KAAK/J,GAErB0rD,EAAQxvD,QAAUwvD,EAAQ,GAAG/mD,WAAU,WACzC,IAAK,IAAItI,EAAI,EAAGA,EAAIqvD,EAAQxvD,OAAQG,IAAOkF,EAAEmqD,EAAQrvD,QAIzD,IAAIsvD,IAAoB,EACxB,SAASC,KACHD,KACJE,KACAF,IAAoB,GAEtB,SAASE,KAEP,IAAIC,EACJ15C,GAAGvB,OAAQ,UAAU,WACA,MAAfi7C,IAAuBA,EAAc94C,YAAW,WAClD84C,EAAc,KACdP,GAAkBQ,MACjB,SAGL35C,GAAGvB,OAAQ,QAAQ,WAAc,OAAO06C,GAAkBrgB,OAG5D,SAAS6gB,GAAS/rD,GAChB,IAAI+0B,EAAI/0B,EAAG+D,QAEXgxB,EAAEmN,gBAAkBnN,EAAEoN,iBAAmBpN,EAAEiJ,eAAiB,KAC5DjJ,EAAEsgB,mBAAoB,EACtBr1C,EAAGgsD,UAeL,IAZA,IAAIC,GAAW,CACbC,EAAG,QAASC,EAAG,YAAaC,EAAG,MAAOC,GAAI,QAASC,GAAI,QAASC,GAAI,OAAQC,GAAI,MAChFC,GAAI,QAASC,GAAI,WAAYC,GAAI,MAAOC,GAAI,QAASC,GAAI,SAAUC,GAAI,WAAYC,GAAI,MACvFC,GAAI,OAAQC,GAAI,OAAQC,GAAI,KAAMC,GAAI,QAASC,GAAI,OAAQC,GAAI,YAAaC,GAAI,SAChFC,GAAI,SAAUC,GAAI,IAAKC,GAAI,IAAKC,GAAI,MAAOC,GAAI,MAAOC,GAAI,MAC1DC,IAAK,IAAKC,IAAK,IAAKC,IAAK,IAAKC,IAAK,IAAKC,IAAK,IAAKC,IAAK,aACvDC,IAAK,IAAKC,IAAK,IAAKC,IAAK,IAAKC,IAAK,IAAKC,IAAK,IAAKC,IAAK,IAAKC,IAAK,IAAKC,IAAK,IAAKC,IAAK,IAAKC,IAAK,KAC/FC,IAAK,IAAKC,IAAK,IAAKC,IAAK,MAAOC,MAAO,KAAMC,MAAO,OAAQC,MAAO,OAAQC,MAAO,QAASC,MAAO,SAClGC,MAAO,OAAQC,MAAO,MAAOC,MAAO,SAAUC,MAAO,WAAYC,MAAO,UAIjEpzD,GAAI,EAAGA,GAAI,GAAIA,KAAO4vD,GAAS5vD,GAAI,IAAM4vD,GAAS5vD,GAAI,IAAMwZ,OAAOxZ,IAE5E,IAAK,IAAI8kB,GAAM,GAAIA,IAAO,GAAIA,KAAS8qC,GAAS9qC,IAAOtL,OAAOC,aAAaqL,IAE3E,IAAK,IAAIC,GAAM,EAAGA,IAAO,GAAIA,KAAS6qC,GAAS7qC,GAAM,KAAO6qC,GAAS7qC,GAAM,OAAS,IAAMA,GAE1F,IAAI3c,GAAS,GA4Cb,SAASirD,GAAiBhoD,GACxB,IAEIioD,EAAKC,EAAMlkB,EAAOlnC,EAFlBiM,EAAQ/I,EAAKzL,MAAM,UACvByL,EAAO+I,EAAMA,EAAMvU,OAAS,GAE5B,IAAK,IAAIG,EAAI,EAAGA,EAAIoU,EAAMvU,OAAS,EAAGG,IAAK,CACzC,IAAIkC,EAAMkS,EAAMpU,GAChB,GAAI,kBAAkB8F,KAAK5D,GAAQiG,GAAM,OACpC,GAAI,YAAYrC,KAAK5D,GAAQoxD,GAAM,OACnC,GAAI,sBAAsBxtD,KAAK5D,GAAQqxD,GAAO,MAC9C,KAAI,cAAcztD,KAAK5D,GACrB,MAAM,IAAImR,MAAM,+BAAiCnR,GADpBmtC,GAAQ,GAO9C,OAJIikB,IAAOjoD,EAAO,OAASA,GACvBkoD,IAAQloD,EAAO,QAAUA,GACzBlD,IAAOkD,EAAO,OAASA,GACvBgkC,IAAShkC,EAAO,SAAWA,GACxBA,EAQT,SAASmoD,GAAgBC,GACvB,IAAIrhC,EAAO,GACX,IAAK,IAAIshC,KAAWD,EAAU,GAAIA,EAAO34C,eAAe44C,GAAU,CAChE,IAAIjvD,EAAQgvD,EAAOC,GACnB,GAAI,mCAAmC5tD,KAAK4tD,GAAY,SACxD,GAAa,OAATjvD,EAAgB,QAASgvD,EAAOC,GAAU,SAG9C,IADA,IAAIt8C,EAAOtX,EAAI4zD,EAAQ9zD,MAAM,KAAMyzD,IAC1BrzD,EAAI,EAAGA,EAAIoX,EAAKvX,OAAQG,IAAK,CACpC,IAAIsL,OAAM,EAAUD,OAAO,EACvBrL,GAAKoX,EAAKvX,OAAS,GACrBwL,EAAO+L,EAAKlD,KAAK,KACjB5I,EAAM7G,IAEN4G,EAAO+L,EAAKvI,MAAM,EAAG7O,EAAI,GAAGkU,KAAK,KACjC5I,EAAM,OAER,IAAI5L,EAAO0yB,EAAK/mB,GAChB,GAAK3L,GACA,GAAIA,GAAQ4L,EAAO,MAAM,IAAI+H,MAAM,6BAA+BhI,QAD1D+mB,EAAK/mB,GAAQC,SAGrBmoD,EAAOC,GAEhB,IAAK,IAAIpzC,KAAQ8R,EAAQqhC,EAAOnzC,GAAQ8R,EAAK9R,GAC7C,OAAOmzC,EAGT,SAASE,GAAUrqD,EAAKxJ,EAAKsnD,EAAQr3B,GACnCjwB,EAAM8zD,GAAU9zD,GAChB,IAAI6jB,EAAQ7jB,EAAI4X,KAAO5X,EAAI4X,KAAKpO,EAAKymB,GAAWjwB,EAAIwJ,GACpD,IAAc,IAAVqa,EAAmB,MAAO,UAC9B,GAAc,QAAVA,EAAmB,MAAO,QAC9B,GAAa,MAATA,GAAiByjC,EAAOzjC,GAAU,MAAO,UAE7C,GAAI7jB,EAAI+zD,YAAa,CACnB,GAAuD,kBAAnD7kD,OAAOxN,UAAUiW,SAASC,KAAK5X,EAAI+zD,aACnC,OAAOF,GAAUrqD,EAAKxJ,EAAI+zD,YAAazM,EAAQr3B,GACnD,IAAK,IAAI/vB,EAAI,EAAGA,EAAIF,EAAI+zD,YAAYh0D,OAAQG,IAAK,CAC/C,IAAIsY,EAASq7C,GAAUrqD,EAAKxJ,EAAI+zD,YAAY7zD,GAAIonD,EAAQr3B,GACxD,GAAIzX,EAAU,OAAOA,IAO3B,SAASw7C,GAAcrvD,GACrB,IAAI4G,EAAuB,iBAAT5G,EAAoBA,EAAQmrD,GAASnrD,EAAMwR,SAC7D,MAAe,QAAR5K,GAA0B,OAARA,GAAyB,SAARA,GAA2B,OAARA,EAG/D,SAAS0oD,GAAiB1oD,EAAMtE,EAAOitD,GACrC,IAAIvxC,EAAOpX,EAKX,OAJItE,EAAMktD,QAAkB,OAARxxC,IAAiBpX,EAAO,OAASA,IAChDyS,EAAc/W,EAAMmtD,QAAUntD,EAAMwhB,UAAoB,QAAR9F,IAAkBpX,EAAO,QAAUA,IACnFyS,EAAc/W,EAAMwhB,QAAUxhB,EAAMmtD,UAAoB,OAARzxC,IAAiBpX,EAAO,OAASA,IACjF2oD,GAAWjtD,EAAMK,UAAoB,SAARqb,IAAmBpX,EAAO,SAAWA,GAChEA,EAIT,SAASrD,GAAQjB,EAAOitD,GACtB,GAAI/2C,GAA2B,IAAjBlW,EAAMkP,SAAiBlP,EAAM,QAAW,OAAO,EAC7D,IAAIsE,EAAOukD,GAAS7oD,EAAMkP,SAC1B,OAAY,MAAR5K,IAAgBtE,EAAMotD,cAGL,GAAjBptD,EAAMkP,SAAgBlP,EAAMmM,OAAQ7H,EAAOtE,EAAMmM,MAC9C6gD,GAAiB1oD,EAAMtE,EAAOitD,IAGvC,SAASJ,GAAUtoD,GACjB,MAAqB,iBAAPA,EAAkBlD,GAAOkD,GAAOA,EAKhD,SAAS8oD,GAAoBzwD,EAAI0wD,GAI/B,IAHA,IAAI5nD,EAAS9I,EAAGwoB,IAAIre,IAAIrB,OAAQ6nD,EAAO,GAG9Bt0D,EAAI,EAAGA,EAAIyM,EAAO5M,OAAQG,IAAK,CACtC,IAAIu0D,EAASF,EAAQ5nD,EAAOzM,IAC5B,MAAOs0D,EAAKz0D,QAAU8tB,GAAI4mC,EAAOzrD,KAAMoZ,EAAIoyC,GAAMhtD,KAAO,EAAG,CACzD,IAAIktD,EAAWF,EAAK1S,MACpB,GAAIj0B,GAAI6mC,EAAS1rD,KAAMyrD,EAAOzrD,MAAQ,EAAG,CACvCyrD,EAAOzrD,KAAO0rD,EAAS1rD,KACvB,OAGJwrD,EAAK5mD,KAAK6mD,GAGZ1c,GAAQl0C,GAAI,WACV,IAAK,IAAI3D,EAAIs0D,EAAKz0D,OAAS,EAAGG,GAAK,EAAGA,IAClCgN,GAAarJ,EAAGwoB,IAAK,GAAImoC,EAAKt0D,GAAG8I,KAAMwrD,EAAKt0D,GAAGsH,GAAI,WACvDyqC,GAAoBpuC,MAIxB,SAAS8wD,GAAkBltD,EAAM9B,EAAI6H,GACnC,IAAIyJ,EAASoM,GAAmB5b,EAAKnD,KAAMqB,EAAK6H,EAAKA,GACrD,OAAOyJ,EAAS,GAAKA,EAASxP,EAAKnD,KAAKvE,OAAS,KAAOkX,EAG1D,SAAS29C,GAAcntD,EAAMgD,EAAO+C,GAClC,IAAI7H,EAAKgvD,GAAkBltD,EAAMgD,EAAM9E,GAAI6H,GAC3C,OAAa,MAAN7H,EAAa,KAAO,IAAIiD,GAAI6B,EAAMhD,KAAM9B,EAAI6H,EAAM,EAAI,QAAU,UAGzE,SAASqnD,GAAUC,EAAUjxD,EAAI40B,EAAStL,EAAQ3f,GAChD,GAAIsnD,EAAU,CACY,OAApBjxD,EAAGwoB,IAAIxH,YAAsBrX,GAAOA,GACxC,IAAIoW,EAAQ4C,GAASiS,EAAS50B,EAAGwoB,IAAIxH,WACrC,GAAIjB,EAAO,CACT,IAGIje,EAHAme,EAAOtW,EAAM,EAAI4U,EAAIwB,GAASA,EAAM,GACpCmxC,EAAsBvnD,EAAM,IAAqB,GAAdsW,EAAKC,OACxCG,EAAS6wC,EAAqB,QAAU,SAQ5C,GAAIjxC,EAAKC,MAAQ,GAAyB,OAApBlgB,EAAGwoB,IAAIxH,UAAoB,CAC/C,IAAImwC,EAAOvxB,GAAsB5/B,EAAI40B,GACrC9yB,EAAK6H,EAAM,EAAIirB,EAAQn0B,KAAKvE,OAAS,EAAI,EACzC,IAAIuoC,EAAY9E,GAAoB3/B,EAAImxD,EAAMrvD,GAAIqC,IAClDrC,EAAK2d,IAAU,SAAU3d,GAAM,OAAO69B,GAAoB3/B,EAAImxD,EAAMrvD,GAAIqC,KAAOsgC,IAAe96B,EAAM,IAAqB,GAAdsW,EAAKC,OAAcD,EAAK9a,KAAO8a,EAAKtc,GAAK,EAAG7B,GACzI,UAAVue,IAAsBve,EAAKgvD,GAAkBl8B,EAAS9yB,EAAI,SACvDA,EAAK6H,EAAM,EAAIsW,EAAKtc,GAAKsc,EAAK9a,KACvC,OAAO,IAAIJ,GAAIukB,EAAQxnB,EAAIue,IAG/B,OAAO,IAAItb,GAAIukB,EAAQ3f,EAAM,EAAIirB,EAAQn0B,KAAKvE,OAAS,EAAGyN,EAAM,EAAI,SAAW,SAGjF,SAASynD,GAAapxD,EAAI4D,EAAMgD,EAAO+C,GACrC,IAAI0nD,EAAO1uC,GAAS/e,EAAM5D,EAAGwoB,IAAIxH,WACjC,IAAKqwC,EAAQ,OAAON,GAAcntD,EAAMgD,EAAO+C,GAC3C/C,EAAM9E,IAAM8B,EAAKnD,KAAKvE,QACxB0K,EAAM9E,GAAK8B,EAAKnD,KAAKvE,OACrB0K,EAAMyZ,OAAS,UACNzZ,EAAM9E,IAAM,IACrB8E,EAAM9E,GAAK,EACX8E,EAAMyZ,OAAS,SAEjB,IAAIujB,EAAUxjB,GAAcixC,EAAMzqD,EAAM9E,GAAI8E,EAAMyZ,QAASJ,EAAOoxC,EAAKztB,GACvE,GAAwB,OAApB5jC,EAAGwoB,IAAIxH,WAAsBf,EAAKC,MAAQ,GAAK,IAAMvW,EAAM,EAAIsW,EAAKtc,GAAKiD,EAAM9E,GAAKme,EAAK9a,KAAOyB,EAAM9E,IAGxG,OAAOivD,GAAcntD,EAAMgD,EAAO+C,GAGpC,IACIwnD,EADAG,EAAK,SAAUlyD,EAAKuK,GAAO,OAAOmnD,GAAkBltD,EAAMxE,aAAe2F,GAAM3F,EAAI0C,GAAK1C,EAAKuK,IAE7F4nD,EAAuB,SAAUzvD,GACnC,OAAK9B,EAAGoB,QAAQ69B,cAChBkyB,EAAOA,GAAQvxB,GAAsB5/B,EAAI4D,GAClC4gC,GAAsBxkC,EAAI4D,EAAMutD,EAAMrvD,IAFN,CAACyiC,MAAO,EAAGl0B,IAAKzM,EAAKnD,KAAKvE,SAI/DooC,EAAoBitB,EAAqC,UAAhB3qD,EAAMyZ,OAAqBixC,EAAG1qD,GAAQ,GAAKA,EAAM9E,IAE9F,GAAwB,OAApB9B,EAAGwoB,IAAIxH,WAAoC,GAAdf,EAAKC,MAAY,CAChD,IAAIgxC,EAAoC,GAAdjxC,EAAKC,OAAgBvW,EAAM,EACjD7H,EAAKwvD,EAAG1qD,EAAOsqD,EAAqB,GAAK,GAC7C,GAAU,MAANpvD,IAAgBovD,EAAwEpvD,GAAMme,EAAKtc,IAAM7B,GAAMwiC,EAAkBj0B,IAA5FvO,GAAMme,EAAK9a,MAAQrD,GAAMwiC,EAAkBC,OAAuD,CAEzI,IAAIlkB,EAAS6wC,EAAqB,SAAW,QAC7C,OAAO,IAAInsD,GAAI6B,EAAMhD,KAAM9B,EAAIue,IAOnC,IAAImxC,EAAqB,SAAU5tB,EAASj6B,EAAK26B,GAK/C,IAJA,IAAImtB,EAAS,SAAU3vD,EAAIovD,GAAsB,OAAOA,EACpD,IAAInsD,GAAI6B,EAAMhD,KAAM0tD,EAAGxvD,EAAI,GAAI,UAC/B,IAAIiD,GAAI6B,EAAMhD,KAAM9B,EAAI,UAErB8hC,GAAW,GAAKA,EAAUytB,EAAKn1D,OAAQ0nC,GAAWj6B,EAAK,CAC5D,IAAIsW,EAAOoxC,EAAKztB,GACZstB,EAAsBvnD,EAAM,IAAqB,GAAdsW,EAAKC,OACxCpe,EAAKovD,EAAqB5sB,EAAkBC,MAAQ+sB,EAAGhtB,EAAkBj0B,KAAM,GACnF,GAAI4P,EAAK9a,MAAQrD,GAAMA,EAAKme,EAAKtc,GAAM,OAAO8tD,EAAO3vD,EAAIovD,GAEzD,GADApvD,EAAKovD,EAAqBjxC,EAAK9a,KAAOmsD,EAAGrxC,EAAKtc,IAAK,GAC/C2gC,EAAkBC,OAASziC,GAAMA,EAAKwiC,EAAkBj0B,IAAO,OAAOohD,EAAO3vD,EAAIovD,KAKrFQ,EAAMF,EAAmB5tB,EAAUj6B,EAAKA,EAAK26B,GACjD,GAAIotB,EAAO,OAAOA,EAGlB,IAAIC,EAAShoD,EAAM,EAAI26B,EAAkBj0B,IAAMihD,EAAGhtB,EAAkBC,OAAQ,GAC5E,OAAc,MAAVotB,GAAoBhoD,EAAM,GAAKgoD,GAAU/tD,EAAKnD,KAAKvE,SACrDw1D,EAAMF,EAAmB7nD,EAAM,EAAI,EAAI0nD,EAAKn1D,OAAS,EAAGyN,EAAK4nD,EAAqBI,KAC9ED,GAIC,KAJaA,EA1QtBjtD,GAAOmtD,MAAQ,CACb,KAAQ,aAAc,MAAS,cAAe,GAAM,WAAY,KAAQ,aACxE,IAAO,YAAa,KAAQ,mBAAoB,OAAU,WAAY,SAAY,aAClF,OAAU,eAAgB,UAAa,gBAAiB,kBAAmB,gBAC3E,IAAO,aAAc,YAAa,aAClC,MAAS,mBAAoB,OAAU,kBACvC,IAAO,mBAKTntD,GAAOotD,UAAY,CACjB,SAAU,YAAa,SAAU,aAAc,SAAU,OAAQ,eAAgB,OAAQ,SAAU,OACnG,YAAa,aAAc,WAAY,WAAY,UAAW,WAAY,YAAa,aACvF,YAAa,cAAe,aAAc,eAAgB,WAAY,cAAe,YAAa,YAClG,iBAAkB,iBAAkB,cAAe,gBAAiB,SAAU,OAAQ,SAAU,OAChG,SAAU,WAAY,eAAgB,WAAY,eAAgB,UAAW,eAAgB,aAC7F,SAAU,aAAc,SAAU,aAClC,SAAU,gBAAiB,eAAgB,gBAAiB,QAAS,gBACrE,YAAe,SAGjBptD,GAAOqtD,OAAS,CACd,SAAU,cAAe,SAAU,aAAc,SAAU,WAAY,SAAU,aACjF,SAAU,cAAe,SAAU,YAAa,SAAU,aAAc,eAAgB,WACxF,SAAU,eAAgB,SAAU,gBAAiB,gBAAiB,gBAAiB,SAAU,WACjG,SAAU,iBAAkB,SAAU,YAExCrtD,GAAOstD,WAAa,CAClB,QAAS,YAAa,QAAS,aAAc,QAAS,OAAQ,cAAe,OAAQ,QAAS,OAC9F,WAAY,aAAc,SAAU,aAAc,UAAW,WAAY,WAAY,WAAY,WAAY,cAC7G,YAAa,eAAgB,WAAY,aAAc,YAAa,cAAe,gBAAiB,iBACpG,qBAAsB,gBAAiB,aAAc,gBAAiB,QAAS,OAAQ,QAAS,OAChG,QAAS,WAAY,cAAe,WAAY,YAAa,UAAW,kBAAmB,aAC3F,QAAS,aAAc,QAAS,aAAc,gBAAiB,qBAAsB,aAAc,sBACnG,QAAS,gBAAiB,cAAe,gBAAiB,UAAW,aAAc,YAAa,WAChG,YAAe,CAAC,QAAS,WAE3BttD,GAAO,WAAasV,EAAMtV,GAAOstD,WAAattD,GAAOotD,UA6OrD,IAAI9qD,GAAW,CACby6C,UAAWA,GACXwQ,gBAAiB,SAAUhyD,GAAM,OAAOA,EAAGkF,aAAalF,EAAGsD,UAAU,UAAWtD,EAAGsD,UAAU,QAASsa,IACtGq0C,SAAU,SAAUjyD,GAAM,OAAOywD,GAAoBzwD,GAAI,SAAU8J,GACjE,GAAIA,EAAMd,QAAS,CACjB,IAAI8E,EAAMya,GAAQvoB,EAAGwoB,IAAK1e,EAAMX,KAAKvF,MAAMnD,KAAKvE,OAChD,OAAI4N,EAAMX,KAAKrH,IAAMgM,GAAOhE,EAAMX,KAAKvF,KAAO5D,EAAGgF,WACtC,CAACG,KAAM2E,EAAMX,KAAMxF,GAAIoB,GAAI+E,EAAMX,KAAKvF,KAAO,EAAG,IAEhD,CAACuB,KAAM2E,EAAMX,KAAMxF,GAAIoB,GAAI+E,EAAMX,KAAKvF,KAAMkK,IAEvD,MAAO,CAAC3I,KAAM2E,EAAM3E,OAAQxB,GAAImG,EAAMnG,UAG1CuuD,WAAY,SAAUlyD,GAAM,OAAOywD,GAAoBzwD,GAAI,SAAU8J,GAAS,MAAO,CACnF3E,KAAMJ,GAAI+E,EAAM3E,OAAOvB,KAAM,GAC7BD,GAAI2mB,GAAQtqB,EAAGwoB,IAAKzjB,GAAI+E,EAAMnG,KAAKC,KAAO,EAAG,SAE/CuuD,YAAa,SAAUnyD,GAAM,OAAOywD,GAAoBzwD,GAAI,SAAU8J,GAAS,MAAO,CACpF3E,KAAMJ,GAAI+E,EAAM3E,OAAOvB,KAAM,GAAID,GAAImG,EAAM3E,YAE7CitD,mBAAoB,SAAUpyD,GAAM,OAAOywD,GAAoBzwD,GAAI,SAAU8J,GAC3E,IAAI3F,EAAMnE,EAAGwjC,WAAW15B,EAAMX,KAAM,OAAOhF,IAAM,EAC7CkuD,EAAUryD,EAAGmkC,WAAW,CAACt5B,KAAM,EAAG1G,IAAKA,GAAM,OACjD,MAAO,CAACgB,KAAMktD,EAAS1uD,GAAImG,EAAM3E,YAEnCmtD,oBAAqB,SAAUtyD,GAAM,OAAOywD,GAAoBzwD,GAAI,SAAU8J,GAC5E,IAAI3F,EAAMnE,EAAGwjC,WAAW15B,EAAMX,KAAM,OAAOhF,IAAM,EAC7CouD,EAAWvyD,EAAGmkC,WAAW,CAACt5B,KAAM7K,EAAG+D,QAAQ8nC,QAAQzmB,YAAc,IAAKjhB,IAAKA,GAAM,OACrF,MAAO,CAACgB,KAAM2E,EAAM3E,OAAQxB,GAAI4uD,OAElClL,KAAM,SAAUrnD,GAAM,OAAOA,EAAGqnD,QAChCC,KAAM,SAAUtnD,GAAM,OAAOA,EAAGsnD,QAChCC,cAAe,SAAUvnD,GAAM,OAAOA,EAAGunD,iBACzCC,cAAe,SAAUxnD,GAAM,OAAOA,EAAGwnD,iBACzCgL,WAAY,SAAUxyD,GAAM,OAAOA,EAAG4/C,gBAAgB76C,GAAI/E,EAAGiF,YAAa,KAC1EwtD,SAAU,SAAUzyD,GAAM,OAAOA,EAAG4/C,gBAAgB76C,GAAI/E,EAAGgF,cAC3D0tD,YAAa,SAAU1yD,GAAM,OAAOA,EAAGknD,oBAAmB,SAAUp9C,GAAS,OAAOwe,GAAUtoB,EAAI8J,EAAMX,KAAKvF,QAC3G,CAACma,OAAQ,QAAS2hB,KAAM,KAE1BizB,iBAAkB,SAAU3yD,GAAM,OAAOA,EAAGknD,oBAAmB,SAAUp9C,GAAS,OAAO8oD,GAAe5yD,EAAI8J,EAAMX,QAChH,CAAC4U,OAAQ,QAAS2hB,KAAM,KAE1BmzB,UAAW,SAAU7yD,GAAM,OAAOA,EAAGknD,oBAAmB,SAAUp9C,GAAS,OAAOgpD,GAAQ9yD,EAAI8J,EAAMX,KAAKvF,QACvG,CAACma,OAAQ,QAAS2hB,MAAO,KAE3BqzB,YAAa,SAAU/yD,GAAM,OAAOA,EAAGknD,oBAAmB,SAAUp9C,GAClE,IAAI3F,EAAMnE,EAAGkE,aAAa4F,EAAMX,KAAM,OAAOhF,IAAM,EACnD,OAAOnE,EAAGmkC,WAAW,CAACt5B,KAAM7K,EAAG+D,QAAQ8nC,QAAQzmB,YAAc,IAAKjhB,IAAKA,GAAM,SAC5E6Z,IACHg1C,WAAY,SAAUhzD,GAAM,OAAOA,EAAGknD,oBAAmB,SAAUp9C,GACjE,IAAI3F,EAAMnE,EAAGkE,aAAa4F,EAAMX,KAAM,OAAOhF,IAAM,EACnD,OAAOnE,EAAGmkC,WAAW,CAACt5B,KAAM,EAAG1G,IAAKA,GAAM,SACzC6Z,IACHi1C,gBAAiB,SAAUjzD,GAAM,OAAOA,EAAGknD,oBAAmB,SAAUp9C,GACtE,IAAI3F,EAAMnE,EAAGkE,aAAa4F,EAAMX,KAAM,OAAOhF,IAAM,EAC/C/E,EAAMY,EAAGmkC,WAAW,CAACt5B,KAAM,EAAG1G,IAAKA,GAAM,OAC7C,OAAI/E,EAAI0C,GAAK9B,EAAGuoB,QAAQnpB,EAAIwE,MAAM1D,OAAO,MAAgB0yD,GAAe5yD,EAAI8J,EAAMX,MAC3E/J,IACN4e,IACHk1C,SAAU,SAAUlzD,GAAM,OAAOA,EAAGmzD,OAAO,EAAG,SAC9CC,WAAY,SAAUpzD,GAAM,OAAOA,EAAGmzD,MAAM,EAAG,SAC/CE,SAAU,SAAUrzD,GAAM,OAAOA,EAAGmzD,OAAO,EAAG,SAC9CG,WAAY,SAAUtzD,GAAM,OAAOA,EAAGmzD,MAAM,EAAG,SAC/CI,WAAY,SAAUvzD,GAAM,OAAOA,EAAGwzD,OAAO,EAAG,SAChDC,YAAa,SAAUzzD,GAAM,OAAOA,EAAGwzD,MAAM,EAAG,SAChDE,aAAc,SAAU1zD,GAAM,OAAOA,EAAGwzD,OAAO,EAAG,WAClDG,cAAe,SAAU3zD,GAAM,OAAOA,EAAGwzD,MAAM,EAAG,WAClDI,WAAY,SAAU5zD,GAAM,OAAOA,EAAGwzD,OAAO,EAAG,SAChDK,aAAc,SAAU7zD,GAAM,OAAOA,EAAGwzD,MAAM,EAAG,UACjDM,YAAa,SAAU9zD,GAAM,OAAOA,EAAGwzD,OAAO,EAAG,UACjDO,YAAa,SAAU/zD,GAAM,OAAOA,EAAGwzD,MAAM,EAAG,SAChDQ,cAAe,SAAUh0D,GAAM,OAAOA,EAAGi0D,SAAS,EAAG,cACrDC,aAAc,SAAUl0D,GAAM,OAAOA,EAAGi0D,QAAQ,EAAG,SACnDE,cAAe,SAAUn0D,GAAM,OAAOA,EAAGi0D,SAAS,EAAG,SACrDG,aAAc,SAAUp0D,GAAM,OAAOA,EAAGi0D,QAAQ,EAAG,SACnDI,eAAgB,SAAUr0D,GAAM,OAAOA,EAAGi0D,SAAS,EAAG,UACtDK,cAAe,SAAUt0D,GAAM,OAAOA,EAAGi0D,QAAQ,EAAG,UACpDM,WAAY,SAAUv0D,GAAM,OAAOA,EAAGw0D,gBAAgB,UACtDC,WAAY,SAAUz0D,GAAM,OAAOA,EAAGw0D,gBAAgB,QACtDE,WAAY,SAAU10D,GAAM,OAAOA,EAAGw0D,gBAAgB,aACtDG,UAAW,SAAU30D,GAAM,OAAOA,EAAGwJ,iBAAiB,OACtDorD,cAAe,SAAU50D,GAEvB,IADA,IAAI60D,EAAS,GAAI/rD,EAAS9I,EAAG+I,iBAAkB8T,EAAU7c,EAAGoB,QAAQyb,QAC3DxgB,EAAI,EAAGA,EAAIyM,EAAO5M,OAAQG,IAAK,CACtC,IAAI+C,EAAM0J,EAAOzM,GAAG8I,OAChBgZ,EAAMvB,EAAY5c,EAAGuoB,QAAQnpB,EAAIwE,MAAOxE,EAAI0C,GAAI+a,GACpDg4C,EAAO9qD,KAAKuU,EAASzB,EAAUsB,EAAMtB,IAEvC7c,EAAGiL,kBAAkB4pD,IAEvBC,WAAY,SAAU90D,GAChBA,EAAGs6C,oBAAuBt6C,EAAGw0D,gBAAgB,OAC1Cx0D,EAAG0E,YAAY,cASxBqwD,eAAgB,SAAU/0D,GAAM,OAAOk0C,GAAQl0C,GAAI,WAEjD,IADA,IAAI8I,EAAS9I,EAAG+I,iBAAkBg3C,EAAS,GAClC1jD,EAAI,EAAGA,EAAIyM,EAAO5M,OAAQG,IACjC,GAAKyM,EAAOzM,GAAG2M,QAAf,CACA,IAAII,EAAMN,EAAOzM,GAAG8M,KAAMvF,EAAO2kB,GAAQvoB,EAAGwoB,IAAKpf,EAAIxF,MAAMnD,KAC3D,GAAImD,EAEF,GADIwF,EAAItH,IAAM8B,EAAK1H,SAAUkN,EAAM,IAAIrE,GAAIqE,EAAIxF,KAAMwF,EAAItH,GAAK,IAC1DsH,EAAItH,GAAK,EACXsH,EAAM,IAAIrE,GAAIqE,EAAIxF,KAAMwF,EAAItH,GAAK,GACjC9B,EAAGqJ,aAAazF,EAAK9G,OAAOsM,EAAItH,GAAK,GAAK8B,EAAK9G,OAAOsM,EAAItH,GAAK,GAC/CiD,GAAIqE,EAAIxF,KAAMwF,EAAItH,GAAK,GAAIsH,EAAK,mBAC3C,GAAIA,EAAIxF,KAAO5D,EAAGwoB,IAAIC,MAAO,CAClC,IAAI1sB,EAAOwsB,GAAQvoB,EAAGwoB,IAAKpf,EAAIxF,KAAO,GAAGnD,KACrC1E,IACFqN,EAAM,IAAIrE,GAAIqE,EAAIxF,KAAM,GACxB5D,EAAGqJ,aAAazF,EAAK9G,OAAO,GAAKkD,EAAGwoB,IAAIjf,gBACxBxN,EAAKe,OAAOf,EAAKG,OAAS,GAC1B6I,GAAIqE,EAAIxF,KAAO,EAAG7H,EAAKG,OAAS,GAAIkN,EAAK,eAI/D22C,EAAOh2C,KAAK,IAAIswC,GAAMjxC,EAAKA,IAE7BpJ,EAAGiK,cAAc81C,OAEnBiV,iBAAkB,SAAUh1D,GAAM,OAAOk0C,GAAQl0C,GAAI,WAEnD,IADA,IAAI+K,EAAO/K,EAAG+I,iBACL1M,EAAI0O,EAAK7O,OAAS,EAAGG,GAAK,EAAGA,IAClC2D,EAAGqJ,aAAarJ,EAAGwoB,IAAIjf,gBAAiBwB,EAAK1O,GAAG2N,OAAQe,EAAK1O,GAAG8M,KAAM,UAC1E4B,EAAO/K,EAAG+I,iBACV,IAAK,IAAIoY,EAAM,EAAGA,EAAMpW,EAAK7O,OAAQilB,IACjCnhB,EAAG0J,WAAWqB,EAAKoW,GAAKhc,OAAOvB,KAAM,MAAM,GAC/CwqC,GAAoBpuC,OAEtBi1D,SAAU,SAAUj1D,GAAM,OAAOA,EAAGwJ,iBAAiB,KAAM,UAC3D0rD,gBAAiB,SAAUl1D,GAAM,OAAOA,EAAGk1D,oBAI7C,SAAS5sC,GAAUtoB,EAAIq0B,GACrB,IAAIzwB,EAAO2kB,GAAQvoB,EAAGwoB,IAAK6L,GACvBoxB,EAASzxB,GAAWpwB,GAExB,OADI6hD,GAAU7hD,IAAQywB,EAAQ/K,GAAOm8B,IAC9BuL,IAAU,EAAMhxD,EAAIylD,EAAQpxB,EAAO,GAE5C,SAASy+B,GAAQ9yD,EAAIq0B,GACnB,IAAIzwB,EAAO2kB,GAAQvoB,EAAGwoB,IAAK6L,GACvBoxB,EAASvxB,GAActwB,GAE3B,OADI6hD,GAAU7hD,IAAQywB,EAAQ/K,GAAOm8B,IAC9BuL,IAAU,EAAMhxD,EAAI4D,EAAMywB,GAAQ,GAE3C,SAASu+B,GAAe5yD,EAAIZ,GAC1B,IAAIwH,EAAQ0hB,GAAUtoB,EAAIZ,EAAIwE,MAC1BA,EAAO2kB,GAAQvoB,EAAGwoB,IAAK5hB,EAAMhD,MAC7Bmc,EAAQ4C,GAAS/e,EAAM5D,EAAGwoB,IAAIxH,WAClC,IAAKjB,GAA2B,GAAlBA,EAAM,GAAGG,MAAY,CACjC,IAAIi1C,EAAa14D,KAAKgB,IAAImJ,EAAM9E,GAAI8B,EAAKnD,KAAKP,OAAO,OACjDk1D,EAAOh2D,EAAIwE,MAAQgD,EAAMhD,MAAQxE,EAAI0C,IAAMqzD,GAAc/1D,EAAI0C,GACjE,OAAOiD,GAAI6B,EAAMhD,KAAMwxD,EAAO,EAAID,EAAYvuD,EAAMyZ,QAEtD,OAAOzZ,EAIT,SAASyuD,GAAgBr1D,EAAIs1D,EAAOC,GAClC,GAAoB,iBAATD,IACTA,EAAQvuD,GAASuuD,IACZA,GAAS,OAAO,EAIvBt1D,EAAG+D,QAAQi0B,MAAMw9B,eACjB,IAAIC,EAAYz1D,EAAG+D,QAAQ2nC,MAAOwR,GAAO,EACzC,IACMl9C,EAAGiqD,eAAgBjqD,EAAGC,MAAM6hD,eAAgB,GAC5CyT,IAAav1D,EAAG+D,QAAQ2nC,OAAQ,GACpCwR,EAAOoY,EAAMt1D,IAAO6I,EACpB,QACA7I,EAAG+D,QAAQ2nC,MAAQ+pB,EACnBz1D,EAAGC,MAAM6hD,eAAgB,EAE3B,OAAO5E,EAGT,SAASwY,GAAmB11D,EAAI0H,EAAM+7C,GACpC,IAAK,IAAIpnD,EAAI,EAAGA,EAAI2D,EAAGC,MAAM01D,QAAQz5D,OAAQG,IAAK,CAChD,IAAIsY,EAASq7C,GAAUtoD,EAAM1H,EAAGC,MAAM01D,QAAQt5D,GAAIonD,EAAQzjD,GAC1D,GAAI2U,EAAU,OAAOA,EAEvB,OAAQ3U,EAAGoB,QAAQw0D,WAAa5F,GAAUtoD,EAAM1H,EAAGoB,QAAQw0D,UAAWnS,EAAQzjD,IACzEgwD,GAAUtoD,EAAM1H,EAAGoB,QAAQqD,OAAQg/C,EAAQzjD,GAMlD,IAAI61D,GAAU,IAAIx4C,EAElB,SAASy4C,GAAY91D,EAAI0H,EAAMxF,EAAGuhD,GAChC,IAAIsS,EAAM/1D,EAAGC,MAAM+1D,OACnB,GAAID,EAAK,CACP,GAAI5F,GAAczoD,GAAS,MAAO,UAUlC,GATI,MAAMvF,KAAKuF,GACX1H,EAAGC,MAAM+1D,OAAS,KAElBH,GAAQn4C,IAAI,IAAI,WACZ1d,EAAGC,MAAM+1D,QAAUD,IACrB/1D,EAAGC,MAAM+1D,OAAS,KAClBh2D,EAAG+D,QAAQi0B,MAAM75B,YAGnB83D,GAAiBj2D,EAAI+1D,EAAM,IAAMruD,EAAMxF,EAAGuhD,GAAW,OAAO,EAElE,OAAOwS,GAAiBj2D,EAAI0H,EAAMxF,EAAGuhD,GAGvC,SAASwS,GAAiBj2D,EAAI0H,EAAMxF,EAAGuhD,GACrC,IAAI9uC,EAAS+gD,GAAmB11D,EAAI0H,EAAM+7C,GAY1C,MAVc,SAAV9uC,IACA3U,EAAGC,MAAM+1D,OAAStuD,GACR,WAAViN,GACAklB,GAAY75B,EAAI,aAAcA,EAAI0H,EAAMxF,GAE9B,WAAVyS,GAAiC,SAAVA,IACzB5B,GAAiB7Q,GACjBuoC,GAAazqC,MAGN2U,EAIX,SAASuhD,GAAiBl2D,EAAIkC,GAC5B,IAAIwF,EAAOrD,GAAQnC,GAAG,GACtB,QAAKwF,IAEDxF,EAAEuB,WAAazD,EAAGC,MAAM+1D,OAInBF,GAAY91D,EAAI,SAAW0H,EAAMxF,GAAG,SAAU4Q,GAAK,OAAOuiD,GAAgBr1D,EAAI8S,GAAG,OACjFgjD,GAAY91D,EAAI0H,EAAMxF,GAAG,SAAU4Q,GACjC,GAAgB,iBAALA,EAAgB,WAAW3Q,KAAK2Q,GAAKA,EAAEqjD,OAC9C,OAAOd,GAAgBr1D,EAAI8S,MAGjCgjD,GAAY91D,EAAI0H,EAAMxF,GAAG,SAAU4Q,GAAK,OAAOuiD,GAAgBr1D,EAAI8S,OAK9E,SAASsjD,GAAkBp2D,EAAIkC,EAAGJ,GAChC,OAAOg0D,GAAY91D,EAAI,IAAM8B,EAAK,IAAKI,GAAG,SAAU4Q,GAAK,OAAOuiD,GAAgBr1D,EAAI8S,GAAG,MAGzF,IAAIujD,GAAiB,KACrB,SAASz1D,GAAUsB,GACjB,IAAIlC,EAAK1C,KACT,KAAI4E,EAAEkR,QAAUlR,EAAEkR,QAAUpT,EAAG+D,QAAQi0B,MAAMs+B,cAC7Ct2D,EAAG+jB,MAAMhS,MAAQsJ,KACbmI,GAAexjB,EAAIkC,IAAvB,CAEI8W,GAAMC,EAAa,IAAmB,IAAb/W,EAAEoQ,UAAiBpQ,EAAEkiB,aAAc,GAChE,IAAI7U,EAAOrN,EAAEoQ,QACbtS,EAAG+D,QAAQ2nC,MAAgB,IAARn8B,GAAcrN,EAAEuB,SACnC,IAAI8yD,EAAUL,GAAiBl2D,EAAIkC,GAC/BoX,IACF+8C,GAAiBE,EAAUhnD,EAAO,KAE7BgnD,GAAmB,IAARhnD,GAAe2W,MAAiBnM,EAAM7X,EAAEquD,QAAUruD,EAAE0iB,UAChE5kB,EAAGwJ,iBAAiB,GAAI,KAAM,QAEhCoP,IAAUmB,IAAQw8C,GAAmB,IAARhnD,GAAcrN,EAAEuB,WAAavB,EAAE0iB,SAAW/gB,SAASa,aAChFb,SAASa,YAAY,OAGb,IAAR6K,GAAe,2BAA2BpN,KAAKnC,EAAG+D,QAAQ8nC,QAAQ7lC,YAClEwwD,GAAcx2D,IAGpB,SAASw2D,GAAcx2D,GACrB,IAAI6rC,EAAU7rC,EAAG+D,QAAQ8nC,QAGzB,SAAS4qB,EAAGv0D,GACO,IAAbA,EAAEoQ,SAAkBpQ,EAAEouD,SACxB1+C,EAAQi6B,EAAS,wBACjB1oB,GAAItf,SAAU,QAAS4yD,GACvBtzC,GAAItf,SAAU,YAAa4yD,IAN/BrlD,EAASy6B,EAAS,wBASlBz5B,GAAGvO,SAAU,QAAS4yD,GACtBrkD,GAAGvO,SAAU,YAAa4yD,GAG5B,SAASpkD,GAAQnQ,GACE,IAAbA,EAAEoQ,UAAiBhV,KAAKkrB,IAAIre,IAAIuhC,OAAQ,GAC5CloB,GAAelmB,KAAM4E,GAGvB,SAASw0D,GAAWx0D,GAClB,IAAIlC,EAAK1C,KACT,KAAI4E,EAAEkR,QAAUlR,EAAEkR,QAAUpT,EAAG+D,QAAQi0B,MAAMs+B,eACzC/4B,GAAcv9B,EAAG+D,QAAS7B,IAAMshB,GAAexjB,EAAIkC,IAAMA,EAAE0iB,UAAY1iB,EAAEouD,QAAUv2C,GAAO7X,EAAEquD,SAAhG,CACA,IAAIj+C,EAAUpQ,EAAEoQ,QAASqkD,EAAWz0D,EAAEy0D,SACtC,GAAIr9C,GAAUhH,GAAW+jD,GAA6D,OAA5CA,GAAiB,UAAMtjD,GAAiB7Q,GAClF,IAAKoX,GAAYpX,EAAEyiB,SAASziB,EAAEyiB,MAAQ,MAAQuxC,GAAiBl2D,EAAIkC,GAAnE,CACA,IAAIJ,EAAK+T,OAAOC,aAAyB,MAAZ6gD,EAAmBrkD,EAAUqkD,GAEhD,MAAN70D,IACAs0D,GAAkBp2D,EAAIkC,EAAGJ,IAC7B9B,EAAG+D,QAAQi0B,MAAM0+B,WAAWx0D,MAG9B,IAaI00D,GAAWC,GAbXC,GAAoB,IAEpBC,GAAY,SAASx5C,EAAMne,EAAK4S,GAClC1U,KAAKigB,KAAOA,EACZjgB,KAAK8B,IAAMA,EACX9B,KAAK0U,OAASA,GAShB,SAASglD,GAAY53D,EAAK4S,GACxB,IAAIhV,GAAO,IAAIC,KACf,OAAI45D,IAAmBA,GAAgBI,QAAQj6D,EAAKoC,EAAK4S,IACvD4kD,GAAYC,GAAkB,KACvB,UACED,IAAaA,GAAUK,QAAQj6D,EAAKoC,EAAK4S,IAClD6kD,GAAkB,IAAIE,GAAU/5D,EAAKoC,EAAK4S,GAC1C4kD,GAAY,KACL,WAEPA,GAAY,IAAIG,GAAU/5D,EAAKoC,EAAK4S,GACpC6kD,GAAkB,KACX,UASX,SAASK,GAAYh1D,GACnB,IAAIlC,EAAK1C,KAAMyG,EAAU/D,EAAG+D,QAC5B,KAAIyf,GAAexjB,EAAIkC,IAAM6B,EAAQw0C,aAAex0C,EAAQi0B,MAAMm/B,iBAIlE,GAHApzD,EAAQi0B,MAAMw9B,eACdzxD,EAAQ2nC,MAAQxpC,EAAEuB,SAEd85B,GAAcx5B,EAAS7B,GACpBiX,IAGHpV,EAAQ06B,SAAS2Z,WAAY,EAC7BplC,YAAW,WAAc,OAAOjP,EAAQ06B,SAAS2Z,WAAY,IAAS,WAI1E,IAAIgf,GAAcp3D,EAAIkC,GAAtB,CACA,IAAI9C,EAAM8mC,GAAalmC,EAAIkC,GAAI8P,EAAS0S,GAASxiB,GAAIm1D,EAASj4D,EAAM43D,GAAY53D,EAAK4S,GAAU,SAC/FnB,OAAOkB,QAGO,GAAVC,GAAehS,EAAGC,MAAMq3D,eACxBt3D,EAAGC,MAAMq3D,cAAcp1D,GAEvB9C,GAAOm4D,GAAmBv3D,EAAIgS,EAAQ5S,EAAKi4D,EAAQn1D,KAEzC,GAAV8P,EACE5S,EAAOo4D,GAAex3D,EAAIZ,EAAKi4D,EAAQn1D,GAClCsiB,GAAStiB,IAAM6B,EAAQ06B,UAAY1rB,GAAiB7Q,GAC1C,GAAV8P,GACL5S,GAAOwgD,GAAgB5/C,EAAGwoB,IAAKppB,GACnC4T,YAAW,WAAc,OAAOjP,EAAQi0B,MAAMjmB,UAAY,KACvC,GAAVC,IACLoI,EAAqBpa,EAAG+D,QAAQi0B,MAAMy/B,cAAcv1D,GACjDmpC,GAAerrC,MAI1B,SAASu3D,GAAmBv3D,EAAIgS,EAAQ5S,EAAKi4D,EAAQj0D,GACnD,IAAIsE,EAAO,QAKX,MAJc,UAAV2vD,EAAsB3vD,EAAO,SAAWA,EACzB,UAAV2vD,IAAsB3vD,EAAO,SAAWA,GACjDA,GAAkB,GAAVsK,EAAc,OAAmB,GAAVA,EAAc,SAAW,SAAWtK,EAE5DouD,GAAY91D,EAAKowD,GAAiB1oD,EAAMtE,GAAQA,GAAO,SAAUkyD,GAEtE,GADoB,iBAATA,IAAqBA,EAAQvuD,GAASuuD,KAC5CA,EAAS,OAAO,EACrB,IAAIpY,GAAO,EACX,IACMl9C,EAAGiqD,eAAgBjqD,EAAGC,MAAM6hD,eAAgB,GAChD5E,EAAOoY,EAAMt1D,EAAIZ,IAAQyJ,EACzB,QACA7I,EAAGC,MAAM6hD,eAAgB,EAE3B,OAAO5E,KAIX,SAASwa,GAAe13D,EAAIq3D,EAAQj0D,GAClC,IAAIu0D,EAAS33D,EAAGuE,UAAU,kBACtBzD,EAAQ62D,EAASA,EAAO33D,EAAIq3D,EAAQj0D,GAAS,GACjD,GAAkB,MAAdtC,EAAM82D,KAAc,CACtB,IAAI74B,EAAO/kB,EAAW5W,EAAMK,UAAYL,EAAMmtD,QAAUntD,EAAMktD,OAC9DxvD,EAAM82D,KAAO74B,EAAO,YAAwB,UAAVs4B,EAAqB,OAAmB,UAAVA,EAAqB,OAAS,OAKhG,OAHoB,MAAhBv2D,EAAM60C,QAAkB31C,EAAGwoB,IAAImtB,UAAU70C,EAAM60C,OAAS31C,EAAGwoB,IAAImtB,QAAUvyC,EAAMK,UAC/D,MAAhB3C,EAAM+2D,SAAkB/2D,EAAM+2D,OAAS99C,EAAM3W,EAAMmtD,QAAUntD,EAAMwhB,SAC/C,MAApB9jB,EAAMg3D,aAAsBh3D,EAAMg3D,aAAe/9C,EAAM3W,EAAMktD,OAASltD,EAAMwhB,UACzE9jB,EAGT,SAAS02D,GAAex3D,EAAIZ,EAAKi4D,EAAQj0D,GACnC4V,EAAMhG,WAAW/F,EAAKk+B,GAAanrC,GAAK,GACrCA,EAAG+jB,MAAMhS,MAAQsJ,IAExB,IAEsB08C,EAFlBC,EAAWN,GAAe13D,EAAIq3D,EAAQj0D,GAEtC+G,EAAMnK,EAAGwoB,IAAIre,IACbnK,EAAGoB,QAAQ62D,UAAYlzC,KAAgB/kB,EAAGiqD,cAChC,UAAVoN,IAAuBU,EAAY5tD,EAAIgR,SAAS/b,KAAS,IACxD4qB,IAAK+tC,EAAY5tD,EAAIrB,OAAOivD,IAAY5yD,OAAQ/F,GAAO,GAAKA,EAAI8kC,KAAO,KACvEla,GAAI+tC,EAAUp0D,KAAMvE,GAAO,GAAKA,EAAI8kC,KAAO,GAC5Cg0B,GAAoBl4D,EAAIoD,EAAOhE,EAAK44D,GAEpCG,GAAiBn4D,EAAIoD,EAAOhE,EAAK44D,GAKvC,SAASE,GAAoBl4D,EAAIoD,EAAOhE,EAAK44D,GAC3C,IAAIj0D,EAAU/D,EAAG+D,QAASq0D,GAAQ,EAC9BC,EAAU1zD,GAAU3E,GAAI,SAAUkC,GAChCiX,IAAUpV,EAAQ06B,SAAS2Z,WAAY,GAC3Cp4C,EAAGC,MAAMsrC,cAAe,EACpBvrC,EAAGC,MAAMqrC,oBACPtrC,EAAGirC,WAAcjrC,EAAGC,MAAMqrC,mBAAoB,EAC3CD,GAAerrC,IAExBmjB,GAAIpf,EAAQC,QAAQ8hB,cAAe,UAAWuyC,GAC9Cl1C,GAAIpf,EAAQC,QAAQ8hB,cAAe,YAAawyC,GAChDn1C,GAAIpf,EAAQ06B,SAAU,YAAa85B,GACnCp1C,GAAIpf,EAAQ06B,SAAU,OAAQ45B,GACzBD,IACHrlD,GAAiB7Q,GACZ81D,EAASH,QACVjY,GAAgB5/C,EAAGwoB,IAAKppB,EAAK,KAAM,KAAM44D,EAASriB,QAEjDx8B,IAAWI,GAAWP,GAAoB,GAAdC,EAC7BjG,YAAW,WAAajP,EAAQC,QAAQ8hB,cAAcvK,KAAKxJ,MAAM,CAACymD,eAAe,IAAQz0D,EAAQi0B,MAAMjmB,UAAW,IAElHhO,EAAQi0B,MAAMjmB,YAGlBumD,EAAY,SAASG,GACvBL,EAAQA,GAAS37D,KAAK+pB,IAAIpjB,EAAMkjC,QAAUmyB,EAAGnyB,SAAW7pC,KAAK+pB,IAAIpjB,EAAMmjC,QAAUkyB,EAAGlyB,UAAY,IAE9FgyB,EAAY,WAAc,OAAOH,GAAQ,GAEzCj/C,IAAUpV,EAAQ06B,SAAS2Z,WAAY,GAC3Cp4C,EAAGC,MAAMsrC,aAAe8sB,EACxBA,EAAQ5pC,MAAQupC,EAASF,WACzB1lD,GAAGrO,EAAQC,QAAQ8hB,cAAe,UAAWuyC,GAC7CjmD,GAAGrO,EAAQC,QAAQ8hB,cAAe,YAAawyC,GAC/ClmD,GAAGrO,EAAQ06B,SAAU,YAAa85B,GAClCnmD,GAAGrO,EAAQ06B,SAAU,OAAQ45B,GAE7Br4D,EAAGC,MAAMqrC,mBAAoB,EAC7Bt4B,YAAW,WAAc,OAAOjP,EAAQi0B,MAAMjmB,UAAY,IAEtDhO,EAAQ06B,SAASw5B,UAAYl0D,EAAQ06B,SAASw5B,WAGpD,SAASS,GAAa14D,EAAIZ,EAAKw4D,GAC7B,GAAY,QAARA,EAAkB,OAAO,IAAIvd,GAAMj7C,EAAKA,GAC5C,GAAY,QAARw4D,EAAkB,OAAO53D,EAAG24D,WAAWv5D,GAC3C,GAAY,QAARw4D,EAAkB,OAAO,IAAIvd,GAAMt1C,GAAI3F,EAAIwE,KAAM,GAAI0mB,GAAQtqB,EAAGwoB,IAAKzjB,GAAI3F,EAAIwE,KAAO,EAAG,KAC3F,IAAI+Q,EAASijD,EAAK53D,EAAIZ,GACtB,OAAO,IAAIi7C,GAAM1lC,EAAOxP,KAAMwP,EAAOhR,IAIvC,SAASw0D,GAAiBn4D,EAAIoD,EAAOwD,EAAOoxD,GACtCh/C,GAAMqyB,GAAerrC,GACzB,IAAI+D,EAAU/D,EAAG+D,QAASykB,EAAMxoB,EAAGwoB,IACnCzV,GAAiB3P,GAEjB,IAAIw1D,EAAUC,EAAUC,EAAWtwC,EAAIre,IAAKrB,EAASgwD,EAAShwD,OAY9D,GAXIkvD,EAASH,SAAWG,EAASriB,QAC/BkjB,EAAWrwC,EAAIre,IAAIgR,SAASvU,GAExBgyD,EADAC,GAAY,EACD/vD,EAAO+vD,GAEP,IAAIxe,GAAMzzC,EAAOA,KAEhCgyD,EAAWpwC,EAAIre,IAAIN,UACnBgvD,EAAWrwC,EAAIre,IAAIg+B,WAGA,aAAjB6vB,EAASJ,KACNI,EAASH,SAAUe,EAAW,IAAIve,GAAMzzC,EAAOA,IACpDA,EAAQs/B,GAAalmC,EAAIoD,GAAO,GAAM,GACtCy1D,GAAY,MACP,CACL,IAAI/uD,EAAQ4uD,GAAa14D,EAAI4G,EAAOoxD,EAASJ,MAEzCgB,EADAZ,EAASriB,OACE+J,GAAYkZ,EAAU9uD,EAAME,OAAQF,EAAMX,KAAM6uD,EAASriB,QAEzD7rC,EAGZkuD,EAASH,QAIU,GAAbgB,GACTA,EAAW/vD,EAAO5M,OAClBgJ,GAAasjB,EAAK+xB,GAAmBv6C,EAAI8I,EAAOma,OAAO,CAAC21C,IAAYC,GACvD,CAACh7C,QAAQ,EAAOE,OAAQ,YAC5BjV,EAAO5M,OAAS,GAAK4M,EAAO+vD,GAAU7vD,SAA4B,QAAjBgvD,EAASJ,OAAmBI,EAASriB,QAC/FzwC,GAAasjB,EAAK+xB,GAAmBv6C,EAAI8I,EAAOoC,MAAM,EAAG2tD,GAAU51C,OAAOna,EAAOoC,MAAM2tD,EAAW,IAAK,GAC1F,CAACh7C,QAAQ,EAAOE,OAAQ,WACrC+6C,EAAWtwC,EAAIre,KAEf61C,GAAoBx3B,EAAKqwC,EAAUD,EAAU96C,IAZ7C+6C,EAAW,EACX3zD,GAAasjB,EAAK,IAAIwxB,GAAU,CAAC4e,GAAW,GAAI96C,GAChDg7C,EAAWtwC,EAAIre,KAajB,IAAI4uD,EAAUnyD,EACd,SAASoyD,EAAS55D,GAChB,GAAyB,GAArB4qB,GAAI+uC,EAAS35D,GAGjB,GAFA25D,EAAU35D,EAEW,aAAjB44D,EAASJ,KAAqB,CAKhC,IAJA,IAAI9uD,EAAS,GAAI+T,EAAU7c,EAAGoB,QAAQyb,QAClCo8C,EAAWr8C,EAAY2L,GAAQC,EAAK5hB,EAAMhD,MAAMnD,KAAMmG,EAAM9E,GAAI+a,GAChEq8C,EAASt8C,EAAY2L,GAAQC,EAAKppB,EAAIwE,MAAMnD,KAAMrB,EAAI0C,GAAI+a,GAC1DhS,EAAOpO,KAAKe,IAAIy7D,EAAUC,GAASpuD,EAAQrO,KAAKgB,IAAIw7D,EAAUC,GACzDt1D,EAAOnH,KAAKe,IAAIoJ,EAAMhD,KAAMxE,EAAIwE,MAAOyM,EAAM5T,KAAKe,IAAIwC,EAAGgF,WAAYvI,KAAKgB,IAAImJ,EAAMhD,KAAMxE,EAAIwE,OAClGA,GAAQyM,EAAKzM,IAAQ,CACxB,IAAInD,EAAO8nB,GAAQC,EAAK5kB,GAAMnD,KAAM4xD,EAAUp0C,EAAWxd,EAAMoK,EAAMgS,GACjEhS,GAAQC,EACRhC,EAAOiB,KAAK,IAAIswC,GAAMt1C,GAAInB,EAAMyuD,GAAUttD,GAAInB,EAAMyuD,KAC/C5xD,EAAKvE,OAASm2D,GACnBvpD,EAAOiB,KAAK,IAAIswC,GAAMt1C,GAAInB,EAAMyuD,GAAUttD,GAAInB,EAAMqa,EAAWxd,EAAMqK,EAAO+R,MAE7E/T,EAAO5M,QAAU4M,EAAOiB,KAAK,IAAIswC,GAAMzzC,EAAOA,IACnD1B,GAAasjB,EAAK+xB,GAAmBv6C,EAAI84D,EAAShwD,OAAOoC,MAAM,EAAG2tD,GAAU51C,OAAOna,GAAS+vD,GAC/E,CAAC96C,OAAQ,SAAUF,QAAQ,IACxC7d,EAAGoF,eAAehG,OACb,CACL,IAE8B+J,EAF1BgwD,EAAWP,EACX9uD,EAAQ4uD,GAAa14D,EAAIZ,EAAK44D,EAASJ,MACvC5tD,EAASmvD,EAASnvD,OAClBggB,GAAIlgB,EAAME,OAAQA,GAAU,GAC9Bb,EAAOW,EAAMX,KACba,EAASogB,GAAO+uC,EAASh0D,OAAQ2E,EAAME,UAEvCb,EAAOW,EAAME,OACbA,EAASmgB,GAAOgvC,EAASx1D,KAAMmG,EAAMX,OAEvC,IAAIiwD,EAAWN,EAAShwD,OAAOoC,MAAM,GACrCkuD,EAASP,GAAYQ,GAAar5D,EAAI,IAAIq6C,GAAM/vB,GAAQ9B,EAAKxe,GAASb,IACtEjE,GAAasjB,EAAK+xB,GAAmBv6C,EAAIo5D,EAAUP,GAAW/6C,IAIlE,IAAIw7C,EAAav1D,EAAQC,QAAQC,wBAK7Bs1D,EAAU,EAEd,SAAS5jB,EAAOzzC,GACd,IAAIs3D,IAAaD,EACbnwD,EAAM88B,GAAalmC,EAAIkC,GAAG,EAAuB,aAAjB81D,EAASJ,MAC7C,GAAKxuD,EACL,GAAyB,GAArB4gB,GAAI5gB,EAAK2vD,GAAe,CAC1B/4D,EAAG+jB,MAAMhS,MAAQsJ,IACjB29C,EAAS5vD,GACT,IAAI4rC,EAAU5I,GAAaroC,EAASykB,IAChCpf,EAAIxF,MAAQoxC,EAAQrxC,IAAMyF,EAAIxF,KAAOoxC,EAAQ7vC,OAC7C6N,WAAWrO,GAAU3E,GAAI,WAAiBu5D,GAAWC,GAAY7jB,EAAOzzC,MAAS,SAChF,CACL,IAAI+hC,EAAU/hC,EAAEqkC,QAAU+yB,EAAWn1D,KAAO,GAAKjC,EAAEqkC,QAAU+yB,EAAWn4D,OAAS,GAAK,EAClF8iC,GAAWjxB,WAAWrO,GAAU3E,GAAI,WAClCu5D,GAAWC,IACfz1D,EAAQ06B,SAASmE,WAAaqB,EAC9B0R,EAAOzzC,OACL,KAIR,SAASg7C,EAAKh7C,GACZlC,EAAGC,MAAMq3D,eAAgB,EACzBiC,EAAU/gC,IAINt2B,IACF6Q,GAAiB7Q,GACjB6B,EAAQi0B,MAAMjmB,SAEhBoR,GAAIpf,EAAQC,QAAQ8hB,cAAe,YAAa2zC,GAChDt2C,GAAIpf,EAAQC,QAAQ8hB,cAAe,UAAW2wC,GAC9CjuC,EAAI+1B,QAAQb,cAAgB,KAG9B,IAAI+b,EAAO90D,GAAU3E,GAAI,SAAUkC,GACf,IAAdA,EAAE0Q,SAAkB8R,GAASxiB,GAC1ByzC,EAAOzzC,GADyBg7C,EAAKh7C,MAG1Cu0D,EAAK9xD,GAAU3E,EAAIk9C,GACvBl9C,EAAGC,MAAMq3D,cAAgBb,EACzBrkD,GAAGrO,EAAQC,QAAQ8hB,cAAe,YAAa2zC,GAC/CrnD,GAAGrO,EAAQC,QAAQ8hB,cAAe,UAAW2wC,GAK/C,SAAS4C,GAAar5D,EAAI8J,GACxB,IAAIE,EAASF,EAAME,OACfb,EAAOW,EAAMX,KACbuwD,EAAanxC,GAAQvoB,EAAGwoB,IAAKxe,EAAOpG,MACxC,GAAyB,GAArBomB,GAAIhgB,EAAQb,IAAca,EAAOqW,QAAUlX,EAAKkX,OAAU,OAAOvW,EACrE,IAAIiW,EAAQ4C,GAAS+2C,GACrB,IAAK35C,EAAS,OAAOjW,EACrB,IAAItK,EAAQ4gB,GAAcL,EAAO/V,EAAOlI,GAAIkI,EAAOqW,QAASJ,EAAOF,EAAMvgB,GACzE,GAAIygB,EAAK9a,MAAQ6E,EAAOlI,IAAMme,EAAKtc,IAAMqG,EAAOlI,GAAM,OAAOgI,EAC7D,IAKI++B,EALA8wB,EAAWn6D,GAAUygB,EAAK9a,MAAQ6E,EAAOlI,KAAsB,GAAdme,EAAKC,OAAc,EAAI,GAC5E,GAAgB,GAAZy5C,GAAiBA,GAAY55C,EAAM7jB,OAAU,OAAO4N,EAKxD,GAAIX,EAAKvF,MAAQoG,EAAOpG,KACtBilC,GAAY1/B,EAAKvF,KAAOoG,EAAOpG,OAA6B,OAApB5D,EAAGwoB,IAAIxH,UAAqB,GAAK,GAAK,MACzE,CACL,IAAI44C,EAAYx5C,GAAcL,EAAO5W,EAAKrH,GAAIqH,EAAKkX,QAC/C1W,EAAMiwD,EAAYp6D,IAAU2J,EAAKrH,GAAKkI,EAAOlI,KAAqB,GAAdme,EAAKC,OAAc,EAAI,GAE3E2oB,EADA+wB,GAAaD,EAAW,GAAKC,GAAaD,EAC/BhwD,EAAM,EAENA,EAAM,EAGvB,IAAIkwD,EAAU95C,EAAM45C,GAAY9wB,GAAY,EAAI,IAC5C1jC,EAAO0jC,IAA8B,GAAjBgxB,EAAQ35C,OAC5Bpe,EAAKqD,EAAO00D,EAAQ10D,KAAO00D,EAAQl2D,GAAI0c,EAASlb,EAAO,QAAU,SACrE,OAAO6E,EAAOlI,IAAMA,GAAMkI,EAAOqW,QAAUA,EAASvW,EAAQ,IAAIuwC,GAAM,IAAIt1C,GAAIiF,EAAOpG,KAAM9B,EAAIue,GAASlX,GAM1G,SAAS2wD,GAAY95D,EAAIkC,EAAGgE,EAAM6zD,GAChC,IAAIC,EAAIC,EACR,GAAI/3D,EAAEg4D,QACJF,EAAK93D,EAAEg4D,QAAQ,GAAG5zB,QAClB2zB,EAAK/3D,EAAEg4D,QAAQ,GAAG3zB,aAElB,IAAMyzB,EAAK93D,EAAEokC,QAAS2zB,EAAK/3D,EAAEqkC,QAC7B,MAAMC,GAAO,OAAO,EAEtB,GAAIwzB,GAAMv9D,KAAKC,MAAMsD,EAAG+D,QAAQs5B,QAAQp5B,wBAAwB6G,OAAU,OAAO,EAC7EivD,GAAWhnD,GAAiB7Q,GAEhC,IAAI6B,EAAU/D,EAAG+D,QACbo2D,EAAUp2D,EAAQ8nC,QAAQ5nC,wBAE9B,GAAIg2D,EAAKE,EAAQh5D,SAAW8iB,GAAWjkB,EAAIkG,GAAS,OAAOyd,GAAmBzhB,GAC9E+3D,GAAME,EAAQh2D,IAAMJ,EAAQk/B,WAE5B,IAAK,IAAI5mC,EAAI,EAAGA,EAAI2D,EAAG+D,QAAQg4B,YAAY7/B,SAAUG,EAAG,CACtD,IAAI+9D,EAAIr2D,EAAQs5B,QAAQ1iB,WAAWte,GACnC,GAAI+9D,GAAKA,EAAEn2D,wBAAwB6G,OAASkvD,EAAI,CAC9C,IAAIp2D,EAAO4lB,GAAaxpB,EAAGwoB,IAAKyxC,GAC5B/+B,EAASl7B,EAAG+D,QAAQg4B,YAAY1/B,GAEpC,OADAinB,GAAOtjB,EAAIkG,EAAMlG,EAAI4D,EAAMs3B,EAAOl1B,UAAW9D,GACtCyhB,GAAmBzhB,KAKhC,SAASk1D,GAAcp3D,EAAIkC,GACzB,OAAO43D,GAAY95D,EAAIkC,EAAG,eAAe,GAQ3C,SAASu1D,GAAcz3D,EAAIkC,GACrBq7B,GAAcv9B,EAAG+D,QAAS7B,IAAMm4D,GAAoBr6D,EAAIkC,IACxDshB,GAAexjB,EAAIkC,EAAG,gBACrBkY,GAAqBpa,EAAG+D,QAAQi0B,MAAMy/B,cAAcv1D,GAG3D,SAASm4D,GAAoBr6D,EAAIkC,GAC/B,QAAK+hB,GAAWjkB,EAAI,sBACb85D,GAAY95D,EAAIkC,EAAG,qBAAqB,GAGjD,SAASo4D,GAAat6D,GACpBA,EAAG+D,QAAQC,QAAQgC,UAAYhG,EAAG+D,QAAQC,QAAQgC,UAAUnH,QAAQ,eAAgB,IAClFmB,EAAGoB,QAAQm5D,MAAM17D,QAAQ,aAAc,UACzCojC,GAAYjiC,GAxYd+2D,GAAUl5D,UAAUo5D,QAAU,SAAU15C,EAAMne,EAAK4S,GACjD,OAAO1U,KAAKigB,KAAOu5C,GAAoBv5C,GACf,GAAtByM,GAAI5qB,EAAK9B,KAAK8B,MAAa4S,GAAU1U,KAAK0U,QAyY9C,IAAInK,GAAO,CAACiM,SAAU,WAAW,MAAO,oBAEpC1M,GAAW,GACXozD,GAAiB,GAErB,SAASC,GAAcj8D,GACrB,IAAIg8D,EAAiBh8D,EAAWg8D,eAEhC,SAAS7C,EAAOjwD,EAAMhH,EAAO+iD,EAAQiX,GACnCl8D,EAAW4I,SAASM,GAAQhH,EACxB+iD,IAAU+W,EAAe9yD,GAC3BgzD,EAAY,SAAU16D,EAAI2H,EAAKC,GAAUA,GAAOC,IAAQ47C,EAAOzjD,EAAI2H,EAAKC,IAAW67C,GAGvFjlD,EAAWsI,aAAe6wD,EAG1Bn5D,EAAWqJ,KAAOA,GAIlB8vD,EAAO,QAAS,IAAI,SAAU33D,EAAI2H,GAAO,OAAO3H,EAAG4mD,SAASj/C,MAAS,GACrEgwD,EAAO,OAAQ,MAAM,SAAU33D,EAAI2H,GACjC3H,EAAGwoB,IAAI+yB,WAAa5zC,EACpB2zC,GAASt7C,MACR,GAEH23D,EAAO,aAAc,EAAGrc,IAAU,GAClCqc,EAAO,kBAAkB,GACzBA,EAAO,eAAe,GACtBA,EAAO,UAAW,GAAG,SAAU33D,GAC7Bw7C,GAAex7C,GACfiiC,GAAYjiC,GACZ2mC,GAAU3mC,MACT,GAEH23D,EAAO,gBAAiB,MAAM,SAAU33D,EAAI2H,GAE1C,GADA3H,EAAGwoB,IAAIg+B,QAAU7+C,EACZA,EAAL,CACA,IAAIgzD,EAAY,GAAIrxC,EAAStpB,EAAGwoB,IAAIC,MACpCzoB,EAAGwoB,IAAIS,MAAK,SAAUrlB,GACpB,IAAK,IAAIxE,EAAM,IAAK,CAClB,IAAI4gB,EAAQpc,EAAKnD,KAAKwB,QAAQ0F,EAAKvI,GACnC,IAAc,GAAV4gB,EAAe,MACnB5gB,EAAM4gB,EAAQrY,EAAIzL,OAClBy+D,EAAU5wD,KAAKhF,GAAIukB,EAAQtJ,IAE7BsJ,OAEF,IAAK,IAAIjtB,EAAIs+D,EAAUz+D,OAAS,EAAGG,GAAK,EAAGA,IACvCgN,GAAarJ,EAAGwoB,IAAK7gB,EAAKgzD,EAAUt+D,GAAI0I,GAAI41D,EAAUt+D,GAAGuH,KAAM+2D,EAAUt+D,GAAGyF,GAAK6F,EAAIzL,aAE3Fy7D,EAAO,eAAgB,8FAA8F,SAAU33D,EAAI2H,EAAKC,GACtI5H,EAAGC,MAAMm3B,aAAe,IAAIx4B,OAAO+I,EAAI5I,QAAU4I,EAAIxF,KAAK,MAAQ,GAAK,OAAQ,KAC3EyF,GAAOC,IAAQ7H,EAAG46D,aAExBjD,EAAO,yBAA0B/gC,IAA+B,SAAU52B,GAAM,OAAOA,EAAG46D,aAAc,GACxGjD,EAAO,iBAAiB,GACxBA,EAAO,aAAc79C,EAAS,kBAAoB,YAAY,WAC5D,MAAM,IAAIpK,MAAM,8DACf,GACHioD,EAAO,cAAc,GAAO,SAAU33D,EAAI2H,GAAO,OAAO3H,EAAG66D,gBAAgBC,WAAanzD,KAAQ,GAChGgwD,EAAO,eAAe,GAAO,SAAU33D,EAAI2H,GAAO,OAAO3H,EAAG66D,gBAAgBE,YAAcpzD,KAAQ,GAClGgwD,EAAO,kBAAkB,GAAO,SAAU33D,EAAI2H,GAAO,OAAO3H,EAAG66D,gBAAgBG,eAAiBrzD,KAAQ,GACxGgwD,EAAO,mBAAoB19C,GAC3B09C,EAAO,yBAAyB,GAEhCA,EAAO,QAAS,WAAW,SAAU33D,GACnCs6D,GAAat6D,GACbk4C,GAAcl4C,MACb,GACH23D,EAAO,SAAU,WAAW,SAAU33D,EAAI2H,EAAKC,GAC7C,IAAI6C,EAAOwlD,GAAUtoD,GACjB5L,EAAO6L,GAAOC,IAAQooD,GAAUroD,GAChC7L,GAAQA,EAAKk/D,QAAUl/D,EAAKk/D,OAAOj7D,EAAIyK,GACvCA,EAAKywD,QAAUzwD,EAAKywD,OAAOl7D,EAAIjE,GAAQ,SAE7C47D,EAAO,YAAa,MACpBA,EAAO,iBAAkB,MAEzBA,EAAO,gBAAgB,EAAOwD,IAAiB,GAC/CxD,EAAO,UAAW,IAAI,SAAU33D,EAAI2H,GAClC3H,EAAG+D,QAAQg4B,YAAc8b,GAAWlwC,EAAK3H,EAAGoB,QAAQq6B,aACpDyc,GAAcl4C,MACb,GACH23D,EAAO,eAAe,GAAM,SAAU33D,EAAI2H,GACxC3H,EAAG+D,QAAQs5B,QAAQ95B,MAAMsH,KAAOlD,EAAMi+B,GAAqB5lC,EAAG+D,SAAW,KAAO,IAChF/D,EAAG46D,aACF,GACHjD,EAAO,8BAA8B,GAAO,SAAU33D,GAAM,OAAOkxC,GAAiBlxC,MAAQ,GAC5F23D,EAAO,iBAAkB,UAAU,SAAU33D,GAC3C8xC,GAAe9xC,GACfkxC,GAAiBlxC,GACjBA,EAAG+D,QAAQirC,WAAWJ,aAAa5uC,EAAGwoB,IAAIoa,WAC1C5iC,EAAG+D,QAAQirC,WAAWzB,cAAcvtC,EAAGwoB,IAAIga,eAC1C,GACHm1B,EAAO,eAAe,GAAO,SAAU33D,EAAI2H,GACzC3H,EAAG+D,QAAQg4B,YAAc8b,GAAW73C,EAAGoB,QAAQi8B,QAAS11B,GACxDuwC,GAAcl4C,MACb,GACH23D,EAAO,kBAAmB,EAAGzf,IAAe,GAC5Cyf,EAAO,uBAAuB,SAAUyD,GAAW,OAAOA,IAAYljB,IAAe,GACrFyf,EAAO,2BAA2B,EAAOhwB,IAAiB,GAE1DgwB,EAAO,+BAA+B,GACtCA,EAAO,mBAAmB,GAC1BA,EAAO,0BAA0B,GACjCA,EAAO,sBAAsB,GAE7BA,EAAO,YAAY,GAAO,SAAU33D,EAAI2H,GAC3B,YAAPA,IACFujC,GAAOlrC,GACPA,EAAG+D,QAAQi0B,MAAMzlB,QAEnBvS,EAAG+D,QAAQi0B,MAAMqjC,gBAAgB1zD,MAGnCgwD,EAAO,oBAAqB,MAAM,SAAU33D,EAAI2H,GAC9CA,EAAe,KAARA,EAAc,KAAOA,EAC5B3H,EAAG+D,QAAQi0B,MAAMsjC,yBAAyB3zD,MAG5CgwD,EAAO,gBAAgB,GAAO,SAAU33D,EAAI2H,GAAWA,GAAO3H,EAAG+D,QAAQi0B,MAAM75B,WAAa,GAC5Fw5D,EAAO,YAAY,EAAM4D,IACzB5D,EAAO,qBAAsB,MAE7BA,EAAO,kBAAmB,KAC1BA,EAAO,qBAAsB,GAC7BA,EAAO,eAAgB,EAAGhwB,IAAiB,GAC3CgwB,EAAO,6BAA6B,EAAMhwB,IAAiB,GAC3DgwB,EAAO,WAAY,KACnBA,EAAO,YAAa,KACpBA,EAAO,gBAAgB,EAAMnc,IAAgB,GAC7Cmc,EAAO,gBAAgB,EAAOnc,IAAgB,GAC9Cmc,EAAO,eAAgB,KACvBA,EAAO,YAAa,KAAK,SAAU33D,EAAI2H,GAAO,OAAO3H,EAAGwoB,IAAI+1B,QAAQnB,UAAYz1C,KAChFgwD,EAAO,oBAAqB,MAC5BA,EAAO,iBAAkB,IAAI,SAAU33D,GAAM,OAAOA,EAAG46D,aAAc,GACrEjD,EAAO,qBAAsB,IAAOnc,IAAgB,GACpDmc,EAAO,uBAAuB,GAAM,SAAU33D,EAAI2H,GAC3CA,GAAO3H,EAAG+D,QAAQi0B,MAAMwjC,mBAG/B7D,EAAO,WAAY,MAAM,SAAU33D,EAAI2H,GAAO,OAAO3H,EAAG+D,QAAQi0B,MAAMs+B,WAAWxmB,SAAWnoC,GAAO,MACnGgwD,EAAO,YAAa,MACpBA,EAAO,YAAa,OAAO,SAAU33D,EAAI2H,GAAO,OAAO3H,EAAGwoB,IAAIkhC,aAAa/hD,MAAS,GACpFgwD,EAAO,UAAW,MAGpB,SAAS4D,GAAgBv7D,EAAIc,EAAO8G,GAClC,IAAI6zD,EAAQ7zD,GAAOA,GAAOC,GAC1B,IAAK/G,IAAU26D,EAAO,CACpB,IAAIC,EAAQ17D,EAAG+D,QAAQ43D,cACnBC,EAAS96D,EAAQsR,GAAK+Q,GAC1By4C,EAAO57D,EAAG+D,QAAQ06B,SAAU,YAAai9B,EAAM90D,OAC/Cg1D,EAAO57D,EAAG+D,QAAQ06B,SAAU,YAAai9B,EAAMG,OAC/CD,EAAO57D,EAAG+D,QAAQ06B,SAAU,WAAYi9B,EAAMI,MAC9CF,EAAO57D,EAAG+D,QAAQ06B,SAAU,YAAai9B,EAAMK,OAC/CH,EAAO57D,EAAG+D,QAAQ06B,SAAU,OAAQi9B,EAAMM,OAI9C,SAASb,GAAgBn7D,GACnBA,EAAGoB,QAAQ69B,cACb7tB,EAASpR,EAAG+D,QAAQC,QAAS,mBAC7BhE,EAAG+D,QAAQ05B,MAAMl6B,MAAM0sC,SAAW,GAClCjwC,EAAG+D,QAAQglC,WAAa,OAExBn3B,EAAQ5R,EAAG+D,QAAQC,QAAS,mBAC5B8wB,GAAY90B,IAEdgmC,GAAoBhmC,GACpB2mC,GAAU3mC,GACViiC,GAAYjiC,GACZgT,YAAW,WAAc,OAAOk+B,GAAiBlxC,KAAQ,KAM3D,SAASxB,GAAWwiC,EAAO5/B,GACzB,IAAIyjD,EAASvnD,KAEb,KAAMA,gBAAgBkB,IAAe,OAAO,IAAIA,GAAWwiC,EAAO5/B,GAElE9D,KAAK8D,QAAUA,EAAUA,EAAUqb,EAAQrb,GAAW,GAEtDqb,EAAQrV,GAAUhG,GAAS,GAE3B,IAAIonB,EAAMpnB,EAAQN,MACA,iBAAP0nB,EAAmBA,EAAM,IAAI+9B,GAAI/9B,EAAKpnB,EAAQuH,KAAM,KAAMvH,EAAQmI,cAAenI,EAAQ4f,WAC3F5f,EAAQuH,OAAQ6f,EAAI+yB,WAAan6C,EAAQuH,MAClDrL,KAAKkrB,IAAMA,EAEX,IAAIwP,EAAQ,IAAIx5B,GAAWy9D,YAAY76D,EAAQ86D,YAAY5+D,MACvDyG,EAAUzG,KAAKyG,QAAU,IAAIo0C,GAAQnX,EAAOxY,EAAKwP,EAAO52B,GA2C5D,IAAK,IAAIojD,KA1CTzgD,EAAQC,QAAQxF,WAAalB,KAC7Bg9D,GAAah9D,MACT8D,EAAQ69B,eACR3hC,KAAKyG,QAAQC,QAAQgC,WAAa,oBACtC8rC,GAAex0C,MAEfA,KAAK2C,MAAQ,CACX01D,QAAS,GACT/oC,SAAU,GACVL,QAAS,EACT7P,WAAW,EACX4uB,mBAAmB,EACnBZ,SAAS,EACToX,eAAe,EACfqa,eAAgB,EAAGC,aAAc,EACjC9E,eAAe,EACf/rB,cAAc,EACd8I,UAAW,IAAIh3B,EACf24C,OAAQ,KACR5+B,aAAc,MAGZh2B,EAAQi7D,YAAcviD,GAAU/V,EAAQi0B,MAAMjmB,QAI9CiH,GAAMC,EAAa,IAAMjG,YAAW,WAAc,OAAO6xC,EAAO9gD,QAAQi0B,MAAM75B,OAAM,KAAU,IAElGm+D,GAAsBh/D,MACtBsuD,KAEA1Z,GAAe50C,MACfA,KAAKymB,MAAMic,aAAc,EACzB8c,GAAUx/C,KAAMkrB,GAEXpnB,EAAQi7D,YAAcviD,GAAWxc,KAAK2tC,WACvCj4B,YAAW,WACP6xC,EAAO5Z,aAAe4Z,EAAO5kD,MAAMyqC,SAAWU,GAAQyZ,KACzD,IAED3Z,GAAO5tC,MAEKk9D,GAAsBA,GAAerjD,eAAeqtC,IAChEgW,GAAehW,GAAKlnD,KAAM8D,EAAQojD,GAAM38C,IAC5CwuC,GAA2B/4C,MACvB8D,EAAQm7D,YAAcn7D,EAAQm7D,WAAWj/D,MAC7C,IAAK,IAAIjB,EAAI,EAAGA,EAAImgE,GAAUtgE,SAAUG,EAAKmgE,GAAUngE,GAAGiB,MAC1Dm1C,GAAan1C,MAGT6b,GAAU/X,EAAQ69B,cACiC,sBAAnDhB,iBAAiBl6B,EAAQ8nC,SAAS4wB,gBAClC14D,EAAQ8nC,QAAQtoC,MAAMk5D,cAAgB,QAS5C,SAASH,GAAsBt8D,GAC7B,IAAI+0B,EAAI/0B,EAAG+D,QACXqO,GAAG2iB,EAAE0J,SAAU,YAAa95B,GAAU3E,EAAIk3D,KAGtC9kD,GAAG2iB,EAAE0J,SAAU,WADfzlB,GAAMC,EAAa,GACQtU,GAAU3E,GAAI,SAAUkC,GACnD,IAAIshB,GAAexjB,EAAIkC,GAAvB,CACA,IAAI9C,EAAM8mC,GAAalmC,EAAIkC,GAC3B,GAAK9C,IAAOg4D,GAAcp3D,EAAIkC,KAAMq7B,GAAcv9B,EAAG+D,QAAS7B,GAA9D,CACA6Q,GAAiB7Q,GACjB,IAAIw6D,EAAO18D,EAAG24D,WAAWv5D,GACzBwgD,GAAgB5/C,EAAGwoB,IAAKk0C,EAAK1yD,OAAQ0yD,EAAKvzD,WAGf,SAAUjH,GAAK,OAAOshB,GAAexjB,EAAIkC,IAAM6Q,GAAiB7Q,KAI/FkQ,GAAG2iB,EAAE0J,SAAU,eAAe,SAAUv8B,GAAK,OAAOu1D,GAAcz3D,EAAIkC,MACtEkQ,GAAG2iB,EAAEiD,MAAMs+B,WAAY,eAAe,SAAUp0D,GACzC6yB,EAAE0J,SAAStjB,SAASjZ,EAAEkR,SAAWqkD,GAAcz3D,EAAIkC,MAI1D,IAAIy6D,EAAeC,EAAY,CAACvsD,IAAK,GACrC,SAASwsD,IACH9nC,EAAEwjB,cACJokB,EAAgB3pD,YAAW,WAAc,OAAO+hB,EAAEwjB,YAAc,OAAS,KACzEqkB,EAAY7nC,EAAEwjB,YACdqkB,EAAUvsD,KAAO,IAAIpT,MAGzB,SAAS6/D,EAAsB56D,GAC7B,GAAwB,GAApBA,EAAEg4D,QAAQh+D,OAAe,OAAO,EACpC,IAAI6gE,EAAQ76D,EAAEg4D,QAAQ,GACtB,OAAO6C,EAAMC,SAAW,GAAKD,EAAME,SAAW,EAEhD,SAASC,EAAQH,EAAOj5B,GACtB,GAAkB,MAAdA,EAAMj5B,KAAgB,OAAO,EACjC,IAAI8tC,EAAK7U,EAAMj5B,KAAOkyD,EAAMlyD,KAAMguC,EAAK/U,EAAM3/B,IAAM44D,EAAM54D,IACzD,OAAOw0C,EAAKA,EAAKE,EAAKA,EAAK,IAE7BzmC,GAAG2iB,EAAE0J,SAAU,cAAc,SAAUv8B,GACrC,IAAKshB,GAAexjB,EAAIkC,KAAO46D,EAAsB56D,KAAOk1D,GAAcp3D,EAAIkC,GAAI,CAChF6yB,EAAEiD,MAAMw9B,eACRtiD,aAAaypD,GACb,IAAI3/D,GAAO,IAAIC,KACf83B,EAAEwjB,YAAc,CAAC3xC,MAAO5J,EAAKo7D,OAAO,EACnBr8D,KAAMiB,EAAM4/D,EAAUvsD,KAAO,IAAMusD,EAAY,MACxC,GAApB16D,EAAEg4D,QAAQh+D,SACZ64B,EAAEwjB,YAAY1tC,KAAO3I,EAAEg4D,QAAQ,GAAGiD,MAClCpoC,EAAEwjB,YAAYp0C,IAAMjC,EAAEg4D,QAAQ,GAAGkD,WAIvChrD,GAAG2iB,EAAE0J,SAAU,aAAa,WACtB1J,EAAEwjB,cAAexjB,EAAEwjB,YAAY6f,OAAQ,MAE7ChmD,GAAG2iB,EAAE0J,SAAU,YAAY,SAAUv8B,GACnC,IAAI66D,EAAQhoC,EAAEwjB,YACd,GAAIwkB,IAAUx/B,GAAcxI,EAAG7yB,IAAoB,MAAd66D,EAAMlyD,OACtCkyD,EAAM3E,OAAS,IAAIn7D,KAAO8/D,EAAMn2D,MAAQ,IAAK,CAChD,IAAgDkD,EAA5C1K,EAAMY,EAAGmkC,WAAWpP,EAAEwjB,YAAa,QAEnCzuC,GADCizD,EAAMhhE,MAAQmhE,EAAQH,EAAOA,EAAMhhE,MAC5B,IAAIs+C,GAAMj7C,EAAKA,IACjB29D,EAAMhhE,KAAKA,MAAQmhE,EAAQH,EAAOA,EAAMhhE,KAAKA,MAC3CiE,EAAG24D,WAAWv5D,GAEd,IAAIi7C,GAAMt1C,GAAI3F,EAAIwE,KAAM,GAAI0mB,GAAQtqB,EAAGwoB,IAAKzjB,GAAI3F,EAAIwE,KAAO,EAAG,KAC1E5D,EAAGkF,aAAa4E,EAAME,OAAQF,EAAMX,MACpCnJ,EAAG+R,QACHgB,GAAiB7Q,GAEnB26D,OAEFzqD,GAAG2iB,EAAE0J,SAAU,cAAeo+B,GAI9BzqD,GAAG2iB,EAAE0J,SAAU,UAAU,WACnB1J,EAAE0J,SAASG,eACb0O,GAAgBttC,EAAI+0B,EAAE0J,SAASmE,WAC/B2K,GAAcvtC,EAAI+0B,EAAE0J,SAAS+D,YAAY,GACzClf,GAAOtjB,EAAI,SAAUA,OAKzBoS,GAAG2iB,EAAE0J,SAAU,cAAc,SAAUv8B,GAAK,OAAOm3C,GAAcr5C,EAAIkC,MACrEkQ,GAAG2iB,EAAE0J,SAAU,kBAAkB,SAAUv8B,GAAK,OAAOm3C,GAAcr5C,EAAIkC,MAGzEkQ,GAAG2iB,EAAE/wB,QAAS,UAAU,WAAc,OAAO+wB,EAAE/wB,QAAQ4+B,UAAY7N,EAAE/wB,QAAQw+B,WAAa,KAE1FzN,EAAE4mC,cAAgB,CAChBE,MAAO,SAAU35D,GAASshB,GAAexjB,EAAIkC,IAAMmB,GAAOnB,IAC1D45D,KAAM,SAAU55D,GAASshB,GAAexjB,EAAIkC,KAAMkpD,GAAWprD,EAAIkC,GAAImB,GAAOnB,KAC5E0E,MAAO,SAAU1E,GAAK,OAAO4oD,GAAY9qD,EAAIkC,IAC7C85D,KAAMr3D,GAAU3E,EAAI6pD,IACpBkS,MAAO,SAAU75D,GAASshB,GAAexjB,EAAIkC,IAAM4nD,GAAgB9pD,KAGrE,IAAI2R,EAAMojB,EAAEiD,MAAMs+B,WAClBlkD,GAAGT,EAAK,SAAS,SAAUzP,GAAK,OAAOmQ,GAAQ0B,KAAK/T,EAAIkC,MACxDkQ,GAAGT,EAAK,UAAWhN,GAAU3E,EAAIY,KACjCwR,GAAGT,EAAK,WAAYhN,GAAU3E,EAAI02D,KAClCtkD,GAAGT,EAAK,SAAS,SAAUzP,GAAK,OAAOkpC,GAAQprC,EAAIkC,MACnDkQ,GAAGT,EAAK,QAAQ,SAAUzP,GAAK,OAAOgpC,GAAOlrC,EAAIkC,MAhHnD1D,GAAW4I,SAAWA,GAEtB5I,GAAWg8D,eAAiBA,GAiH5B,IAAIgC,GAAY,GAQhB,SAAS9yD,GAAW1J,EAAIgd,EAAGqgD,EAAKC,GAC9B,IAAkBr9D,EAAduoB,EAAMxoB,EAAGwoB,IACF,MAAP60C,IAAeA,EAAM,OACd,SAAPA,IAGG70C,EAAI7f,KAAK40D,OACPt9D,EAAQotB,GAAiBrtB,EAAIgd,GAAG/c,MADfo9D,EAAM,QAIhC,IAAIxgD,EAAU7c,EAAGoB,QAAQyb,QACrBjZ,EAAO2kB,GAAQC,EAAKxL,GAAIwgD,EAAW5gD,EAAYhZ,EAAKnD,KAAM,KAAMoc,GAChEjZ,EAAK4pB,aAAc5pB,EAAK4pB,WAAa,MACzC,IAAiDnC,EAA7CoyC,EAAiB75D,EAAKnD,KAAKpB,MAAM,QAAQ,GAC7C,GAAKi+D,GAAe,KAAKn7D,KAAKyB,EAAKnD,OAG5B,GAAW,SAAP48D,IACThyC,EAAc7C,EAAI7f,KAAK40D,OAAOt9D,EAAO2D,EAAKnD,KAAKyK,MAAMuyD,EAAevhE,QAAS0H,EAAKnD,MAC9E4qB,GAAexiB,GAAQwiB,EAAc,KAAK,CAC5C,IAAKiyC,EAAc,OACnBD,EAAM,aANRhyC,EAAc,EACdgyC,EAAM,MAQG,QAAPA,EACmBhyC,EAAjBrO,EAAIwL,EAAIC,MAAuB7L,EAAY2L,GAAQC,EAAKxL,EAAE,GAAGvc,KAAM,KAAMoc,GACxD,EACL,OAAPwgD,EACThyC,EAAcmyC,EAAWx9D,EAAGoB,QAAQs8D,WACpB,YAAPL,EACThyC,EAAcmyC,EAAWx9D,EAAGoB,QAAQs8D,WACb,iBAAPL,IAChBhyC,EAAcmyC,EAAWH,GAE3BhyC,EAAc5uB,KAAKgB,IAAI,EAAG4tB,GAE1B,IAAIsyC,EAAe,GAAIv+D,EAAM,EAC7B,GAAIY,EAAGoB,QAAQw8D,eACX,IAAK,IAAIvhE,EAAII,KAAKC,MAAM2uB,EAAcxO,GAAUxgB,IAAKA,EAAI+C,GAAOyd,EAAS8gD,GAAgB,KAG7F,GAFIv+D,EAAMisB,IAAesyC,GAAgBr/C,EAAS+M,EAAcjsB,IAE5Du+D,GAAgBF,EAGlB,OAFAp0D,GAAamf,EAAKm1C,EAAc54D,GAAIiY,EAAG,GAAIjY,GAAIiY,EAAGygD,EAAevhE,QAAS,UAC1E0H,EAAK4pB,WAAa,MACX,EAIP,IAAK,IAAIrM,EAAM,EAAGA,EAAMqH,EAAIre,IAAIrB,OAAO5M,OAAQilB,IAAO,CACpD,IAAIrX,EAAQ0e,EAAIre,IAAIrB,OAAOqY,GAC3B,GAAIrX,EAAMX,KAAKvF,MAAQoZ,GAAKlT,EAAMX,KAAKrH,GAAK27D,EAAevhE,OAAQ,CACjE,IAAI2hE,EAAQ94D,GAAIiY,EAAGygD,EAAevhE,QAClC8jD,GAAoBx3B,EAAKrH,EAAK,IAAIk5B,GAAMwjB,EAAOA,IAC/C,QA5DRr/D,GAAWs/D,eAAiB,SAAUv8D,GAAK,OAAOi7D,GAAUzyD,KAAKxI,IAqEjE,IAAIw8D,GAAa,KAEjB,SAASC,GAAcC,GACrBF,GAAaE,EAGf,SAASC,GAAel+D,EAAIm+D,EAAUC,EAASj0D,EAAK4T,GAClD,IAAIyK,EAAMxoB,EAAGwoB,IACbxoB,EAAG+D,QAAQ2nC,OAAQ,EACdvhC,IAAOA,EAAMqe,EAAIre,KAEtB,IAAIk0D,GAAU,IAAIphE,KAAO,IACrBqhE,EAAkB,SAAVvgD,GAAqB/d,EAAGC,MAAMk8D,cAAgBkC,EACtDE,EAAY94C,GAAe04C,GAAWK,EAAa,KAEvD,GAAIF,GAASn0D,EAAIrB,OAAO5M,OAAS,EAC/B,GAAI6hE,IAAcA,GAAWt9D,KAAK8P,KAAK,OAAS4tD,GAC9C,GAAIh0D,EAAIrB,OAAO5M,OAAS6hE,GAAWt9D,KAAKvE,QAAU,EAAG,CACnDsiE,EAAa,GACb,IAAK,IAAIniE,EAAI,EAAGA,EAAI0hE,GAAWt9D,KAAKvE,OAAQG,IACxCmiE,EAAWz0D,KAAKye,EAAI26B,WAAW4a,GAAWt9D,KAAKpE,WAE5CkiE,EAAUriE,QAAUiO,EAAIrB,OAAO5M,QAAU8D,EAAGoB,QAAQq9D,yBAC7DD,EAAariE,EAAIoiE,GAAW,SAAUhnD,GAAK,MAAO,CAACA,OAMvD,IAFA,IAAI46B,EAAcnyC,EAAG+jB,MAAMouB,YAElBhxB,EAAMhX,EAAIrB,OAAO5M,OAAS,EAAGilB,GAAO,EAAGA,IAAO,CACrD,IAAIrX,EAAQK,EAAIrB,OAAOqY,GACnBhc,EAAO2E,EAAM3E,OAAQxB,EAAKmG,EAAMnG,KAChCmG,EAAMd,UACJo1D,GAAWA,EAAU,EACrBj5D,EAAOJ,GAAII,EAAKvB,KAAMuB,EAAKrD,GAAKs8D,GAC3Bp+D,EAAGC,MAAMyc,YAAc4hD,EAC5B36D,EAAKoB,GAAIpB,EAAGC,KAAMnH,KAAKe,IAAI+qB,GAAQC,EAAK7kB,EAAGC,MAAMnD,KAAKvE,OAAQyH,EAAG7B,GAAKyc,EAAIggD,GAAWriE,SAChFoiE,GAASP,IAAcA,GAAWW,UAAYX,GAAWt9D,KAAK8P,KAAK,OAASguD,EAAUhuD,KAAK,QAChGpL,EAAOxB,EAAKoB,GAAII,EAAKvB,KAAM,KAEjC,IAAI+6D,EAAc,CAACx5D,KAAMA,EAAMxB,GAAIA,EAAIlD,KAAM+9D,EAAaA,EAAWr9C,EAAMq9C,EAAWtiE,QAAUqiE,EAC7ExgD,OAAQA,IAAWugD,EAAQ,QAAUt+D,EAAGC,MAAMm8D,YAAciC,EAAS,MAAQ,WAChGzc,GAAW5hD,EAAGwoB,IAAKm2C,GACnB9kC,GAAY75B,EAAI,YAAaA,EAAI2+D,GAE/BR,IAAaG,GACbnzD,GAAgBnL,EAAIm+D,GAExB/vB,GAAoBpuC,GAChBA,EAAG+jB,MAAMouB,YAAc,IAAKnyC,EAAG+jB,MAAMouB,YAAcA,GACvDnyC,EAAG+jB,MAAMquB,QAAS,EAClBpyC,EAAGC,MAAMk8D,cAAgBn8D,EAAGC,MAAMm8D,aAAe,EAGnD,SAASwC,GAAY18D,EAAGlC,GACtB,IAAI6+D,EAAS38D,EAAE48D,eAAiB58D,EAAE48D,cAAclU,QAAQ,QACxD,GAAIiU,EAIF,OAHA38D,EAAEuhB,iBACGzjB,EAAGiqD,cAAiBjqD,EAAGoB,QAAQ29D,cAChC7qB,GAAQl0C,GAAI,WAAc,OAAOk+D,GAAel+D,EAAI6+D,EAAQ,EAAG,KAAM,aAClE,EAIX,SAAS1zD,GAAgBnL,EAAIm+D,GAE3B,GAAKn+D,EAAGoB,QAAQ49D,eAAkBh/D,EAAGoB,QAAQ69D,YAG7C,IAFA,IAAI90D,EAAMnK,EAAGwoB,IAAIre,IAER9N,EAAI8N,EAAIrB,OAAO5M,OAAS,EAAGG,GAAK,EAAGA,IAAK,CAC/C,IAAIyN,EAAQK,EAAIrB,OAAOzM,GACvB,KAAIyN,EAAMX,KAAKrH,GAAK,KAAQzF,GAAK8N,EAAIrB,OAAOzM,EAAI,GAAG8M,KAAKvF,MAAQkG,EAAMX,KAAKvF,MAA3E,CACA,IAAI+E,EAAO3I,EAAG4I,UAAUkB,EAAMX,MAC1BqmB,GAAW,EACf,GAAI7mB,EAAKq2D,eACP,IAAK,IAAIr9C,EAAI,EAAGA,EAAIhZ,EAAKq2D,cAAc9iE,OAAQylB,IAC3C,GAAIw8C,EAASl8D,QAAQ0G,EAAKq2D,cAAcliE,OAAO6kB,KAAO,EAAG,CACzD6N,EAAW9lB,GAAW1J,EAAI8J,EAAMX,KAAKvF,KAAM,SAC3C,YAEK+E,EAAKu2D,eACVv2D,EAAKu2D,cAAc/8D,KAAKomB,GAAQvoB,EAAGwoB,IAAK1e,EAAMX,KAAKvF,MAAMnD,KAAKyK,MAAM,EAAGpB,EAAMX,KAAKrH,OAClF0tB,EAAW9lB,GAAW1J,EAAI8J,EAAMX,KAAKvF,KAAM,UAE7C4rB,GAAYqK,GAAY75B,EAAI,gBAAiBA,EAAI8J,EAAMX,KAAKvF,QAIpE,SAASu7D,GAAen/D,GAEtB,IADA,IAAIS,EAAO,GAAIqI,EAAS,GACfzM,EAAI,EAAGA,EAAI2D,EAAGwoB,IAAIre,IAAIrB,OAAO5M,OAAQG,IAAK,CACjD,IAAIuH,EAAO5D,EAAGwoB,IAAIre,IAAIrB,OAAOzM,GAAG8M,KAAKvF,KACjCw7D,EAAY,CAACp1D,OAAQjF,GAAInB,EAAM,GAAIuF,KAAMpE,GAAInB,EAAO,EAAG,IAC3DkF,EAAOiB,KAAKq1D,GACZ3+D,EAAKsJ,KAAK/J,EAAGuG,SAAS64D,EAAUp1D,OAAQo1D,EAAUj2D,OAEpD,MAAO,CAAC1I,KAAMA,EAAMqI,OAAQA,GAG9B,SAASu2D,GAAoBC,EAAOxE,EAAYC,EAAaC,GAC3DsE,EAAMpkD,aAAa,cAAe6/C,EAAc,GAAK,OACrDuE,EAAMpkD,aAAa,iBAAkB8/C,EAAiB,GAAK,OAC3DsE,EAAMpkD,aAAa,eAAgB4/C,GAGrC,SAASyE,KACP,IAAI15C,EAAK9K,EAAI,WAAY,KAAM,KAAM,yGACjCiK,EAAMjK,EAAI,MAAO,CAAC8K,GAAK,KAAM,kEAUjC,OALI1M,EAAU0M,EAAGtiB,MAAMs5B,MAAQ,SACxBhX,EAAG3K,aAAa,OAAQ,OAE3BvB,IAAOkM,EAAGtiB,MAAMi8D,OAAS,mBAC7BH,GAAoBx5C,GACbb,EAWT,SAASy6C,GAAiBjhE,GACxB,IAAIg8D,EAAiBh8D,EAAWg8D,eAE5BkF,EAAUlhE,EAAWkhE,QAAU,GAEnClhE,EAAWX,UAAY,CACrB6oD,YAAaloD,EACbuT,MAAO,WAAWlB,OAAOkB,QAASzU,KAAKyG,QAAQi0B,MAAMjmB,SAErD4tD,UAAW,SAAShI,EAAQ72D,GAC1B,IAAIM,EAAU9D,KAAK8D,QAASwG,EAAMxG,EAAQu2D,GACtCv2D,EAAQu2D,IAAW72D,GAAmB,QAAV62D,IAChCv2D,EAAQu2D,GAAU72D,EACd05D,EAAerjD,eAAewgD,IAC9BhzD,GAAUrH,KAAMk9D,EAAe7C,GAA/BhzD,CAAwCrH,KAAMwD,EAAO8G,GACzD0b,GAAOhmB,KAAM,eAAgBA,KAAMq6D,KAGrCpzD,UAAW,SAASozD,GAAS,OAAOr6D,KAAK8D,QAAQu2D,IACjDiI,OAAQ,WAAY,OAAOtiE,KAAKkrB,KAEhCvgB,UAAW,SAAS9L,EAAKgF,GACvB7D,KAAK2C,MAAM01D,QAAQx0D,EAAS,OAAS,WAAW8uD,GAAU9zD,KAE5D2L,aAAc,SAAS3L,GAErB,IADA,IAAIs6B,EAAOn5B,KAAK2C,MAAM01D,QACbt5D,EAAI,EAAGA,EAAIo6B,EAAKv6B,SAAUG,EAC/B,GAAIo6B,EAAKp6B,IAAMF,GAAOs6B,EAAKp6B,GAAGqL,MAAQvL,EAEtC,OADAs6B,EAAK1e,OAAO1b,EAAG,IACR,GAIbkG,WAAY4xC,IAAS,SAASptB,EAAM3lB,GAClC,IAAIuH,EAAOoe,EAAK9nB,MAAQ8nB,EAAOvoB,EAAWyoB,QAAQ3pB,KAAK8D,QAAS2lB,GAChE,GAAIpe,EAAKof,WAAc,MAAM,IAAIrY,MAAM,iCACvC+O,EAAanhB,KAAK2C,MAAM2sB,SACX,CAACjkB,KAAMA,EAAMk3D,SAAU94C,EAAM+F,OAAQ1rB,GAAWA,EAAQ0rB,OACvDnO,SAAWvd,GAAWA,EAAQud,UAAa,IAC5C,SAAU7e,GAAW,OAAOA,EAAQ6e,YACjDrhB,KAAK2C,MAAMssB,UACXoa,GAAUrpC,SAEZgF,cAAe6xC,IAAS,SAASptB,GAE/B,IADA,IAAI6F,EAAWtvB,KAAK2C,MAAM2sB,SACjBvwB,EAAI,EAAGA,EAAIuwB,EAAS1wB,SAAUG,EAAG,CACxC,IAAI+M,EAAMwjB,EAASvwB,GAAGwjE,SACtB,GAAIz2D,GAAO2d,GAAuB,iBAARA,GAAoB3d,EAAI1B,MAAQqf,EAIxD,OAHA6F,EAAS7U,OAAO1b,EAAG,GACnBiB,KAAK2C,MAAMssB,eACXoa,GAAUrpC,UAMhBoM,WAAYyqC,IAAS,SAASn3B,EAAGrT,EAAK2zD,GAClB,iBAAP3zD,GAAiC,iBAAPA,IAChBA,EAAR,MAAPA,EAAqBrM,KAAK8D,QAAQ69D,YAAc,QAAU,OACjDt1D,EAAM,MAAQ,YAEzBigB,GAAOtsB,KAAKkrB,IAAKxL,IAAMtT,GAAWpM,KAAM0f,EAAGrT,EAAK2zD,MAEtD9I,gBAAiBrgB,IAAS,SAASkpB,GAEjC,IADA,IAAIv0D,EAASxL,KAAKkrB,IAAIre,IAAIrB,OAAQuH,GAAO,EAChChU,EAAI,EAAGA,EAAIyM,EAAO5M,OAAQG,IAAK,CACtC,IAAIyN,EAAQhB,EAAOzM,GACnB,GAAKyN,EAAMd,QASAc,EAAMX,KAAKvF,KAAOyM,IAC3B3G,GAAWpM,KAAMwM,EAAMX,KAAKvF,KAAMy5D,GAAK,GACvChtD,EAAMvG,EAAMX,KAAKvF,KACbvH,GAAKiB,KAAKkrB,IAAIre,IAAIg+B,WAAaiG,GAAoB9wC,WAZrC,CAClB,IAAI6H,EAAO2E,EAAM3E,OAAQxB,EAAKmG,EAAMnG,KAChCiD,EAAQnK,KAAKgB,IAAI4S,EAAKlL,EAAKvB,MAC/ByM,EAAM5T,KAAKe,IAAIF,KAAK0H,WAAYrB,EAAGC,MAAQD,EAAG7B,GAAK,EAAI,IAAM,EAC7D,IAAK,IAAI6f,EAAI/a,EAAO+a,EAAItR,IAAOsR,EAC3BjY,GAAWpM,KAAMqkB,EAAG07C,GACxB,IAAIzzD,EAAYtM,KAAKkrB,IAAIre,IAAIrB,OACd,GAAX3D,EAAKrD,IAAWgH,EAAO5M,QAAU0N,EAAU1N,QAAU0N,EAAUvN,GAAG8I,OAAOrD,GAAK,GAC9Ek+C,GAAoB1iD,KAAKkrB,IAAKnsB,EAAG,IAAIg+C,GAAMl1C,EAAMyE,EAAUvN,GAAGsH,MAAOia,QAW/ExS,WAAY,SAAShM,EAAKyuB,GACxB,OAAOc,GAAUrxB,KAAM8B,EAAKyuB,IAG9BiyC,cAAe,SAASl8D,EAAMiqB,GAC5B,OAAOc,GAAUrxB,KAAMyH,GAAInB,GAAOiqB,GAAS,IAG7CnjB,eAAgB,SAAStL,GACvBA,EAAMkrB,GAAQhtB,KAAKkrB,IAAKppB,GACxB,IAEI8G,EAFA6mB,EAASI,GAAc7vB,KAAMirB,GAAQjrB,KAAKkrB,IAAKppB,EAAIwE,OACnDqe,EAAS,EAAGxH,GAASsS,EAAO7wB,OAAS,GAAK,EAAG4F,EAAK1C,EAAI0C,GAE1D,GAAU,GAANA,EAAWoE,EAAO6mB,EAAO,QACtB,OAAS,CACd,IAAInN,EAAOqC,EAASxH,GAAU,EAC9B,IAAKmF,EAAMmN,EAAa,EAANnN,EAAU,GAAK,IAAM9d,EAAM2Y,EAAQmF,MAChD,MAAImN,EAAa,EAANnN,EAAU,GAAK9d,GAC1B,CAAEoE,EAAO6mB,EAAa,EAANnN,EAAU,GAAI,MADEqC,EAASrC,EAAM,GAGtD,IAAIonB,EAAM9gC,EAAOA,EAAKjE,QAAQ,aAAe,EAC7C,OAAO+kC,EAAM,EAAI9gC,EAAc,GAAP8gC,EAAW,KAAO9gC,EAAKgF,MAAM,EAAG87B,EAAM,IAGhEp+B,UAAW,SAASxJ,GAClB,IAAIuJ,EAAOrL,KAAKkrB,IAAI7f,KACpB,OAAKA,EAAKkf,UACHrpB,EAAWqpB,UAAUlf,EAAMrL,KAAK8N,WAAWhM,GAAKa,OAAO0I,KADhCA,GAIhCo3D,UAAW,SAAS3gE,EAAK8G,GACvB,OAAO5I,KAAK0iE,WAAW5gE,EAAK8G,GAAM,IAGpC85D,WAAY,SAAS5gE,EAAK8G,GACxB,IAAI8Z,EAAQ,GACZ,IAAK0/C,EAAQvoD,eAAejR,GAAS,OAAO8Z,EAC5C,IAAIigD,EAAOP,EAAQx5D,GAAOyC,EAAOrL,KAAKsL,UAAUxJ,GAChD,GAAyB,iBAAduJ,EAAKzC,GACV+5D,EAAKt3D,EAAKzC,KAAU8Z,EAAMjW,KAAKk2D,EAAKt3D,EAAKzC,UACxC,GAAIyC,EAAKzC,GACd,IAAK,IAAI7J,EAAI,EAAGA,EAAIsM,EAAKzC,GAAMhK,OAAQG,IAAK,CAC1C,IAAIsL,EAAMs4D,EAAKt3D,EAAKzC,GAAM7J,IACtBsL,GAAOqY,EAAMjW,KAAKpC,QAEfgB,EAAK2e,YAAc24C,EAAKt3D,EAAK2e,YACtCtH,EAAMjW,KAAKk2D,EAAKt3D,EAAK2e,aACZ24C,EAAKt3D,EAAKjB,OACnBsY,EAAMjW,KAAKk2D,EAAKt3D,EAAKjB,OAEvB,IAAK,IAAIyZ,EAAM,EAAGA,EAAM8+C,EAAKC,QAAQhkE,OAAQilB,IAAO,CAClD,IAAI/X,EAAM62D,EAAKC,QAAQ/+C,GACnB/X,EAAIsW,KAAK/W,EAAMrL,QAAqC,GAA5B2E,EAAQ+d,EAAO5W,EAAIzB,MAC3CqY,EAAMjW,KAAKX,EAAIzB,KAErB,OAAOqY,GAGTmgD,cAAe,SAASv8D,EAAMiqB,GAC5B,IAAIrF,EAAMlrB,KAAKkrB,IAEf,OADA5kB,EAAOymB,GAAS7B,EAAa,MAAR5kB,EAAe4kB,EAAIC,MAAQD,EAAIE,KAAO,EAAG9kB,GACvDypB,GAAiB/vB,KAAMsG,EAAO,EAAGiqB,GAAS5tB,OAGnDiE,aAAc,SAAS0C,EAAO+B,GAC5B,IAAIvJ,EAAK0K,EAAQxM,KAAKkrB,IAAIre,IAAIN,UAI9B,OAHqBzK,EAAR,MAATwH,EAAuBkD,EAAMX,KACR,iBAATvC,EAA2B0jB,GAAQhtB,KAAKkrB,IAAK5hB,GAChDA,EAAQkD,EAAM3E,OAAS2E,EAAMnG,KACnCO,GAAa5G,KAAM8B,EAAKuJ,GAAQ,SAGzC66B,WAAY,SAASpkC,EAAKuJ,GACxB,OAAO66B,GAAWlmC,KAAMgtB,GAAQhtB,KAAKkrB,IAAKppB,GAAMuJ,GAAQ,SAG1Dw7B,WAAY,SAASd,EAAQ16B,GAE3B,OADA06B,EAASD,GAAgB9lC,KAAM+lC,EAAQ16B,GAAQ,QACxCw7B,GAAW7mC,KAAM+lC,EAAOx4B,KAAMw4B,EAAOl/B,MAG9CqlB,aAAc,SAASJ,EAAQzgB,GAE7B,OADAygB,EAASga,GAAgB9lC,KAAM,CAAC6G,IAAKilB,EAAQve,KAAM,GAAIlC,GAAQ,QAAQxE,IAChEqlB,GAAalsB,KAAKkrB,IAAKY,EAAS9rB,KAAKyG,QAAQk/B,aAEtDtO,aAAc,SAAS/wB,EAAM+E,EAAMo6B,GACjC,IAAiBnO,EAAbvkB,GAAM,EACV,GAAmB,iBAARzM,EAAkB,CAC3B,IAAI2mB,EAAOjtB,KAAKkrB,IAAIC,MAAQnrB,KAAKkrB,IAAIE,KAAO,EACxC9kB,EAAOtG,KAAKkrB,IAAIC,MAAS7kB,EAAOtG,KAAKkrB,IAAIC,MACpC7kB,EAAO2mB,IAAQ3mB,EAAO2mB,EAAMla,GAAM,GAC3CukB,EAAUrM,GAAQjrB,KAAKkrB,IAAK5kB,QAE5BgxB,EAAUhxB,EAEZ,OAAOk/B,GAAgBxlC,KAAMs3B,EAAS,CAACzwB,IAAK,EAAG0G,KAAM,GAAIlC,GAAQ,OAAQo6B,GAAkB1yB,GAAKlM,KAC7FkM,EAAM/S,KAAKkrB,IAAIY,OAASuL,GAAaC,GAAW,IAGrDwrC,kBAAmB,WAAa,OAAO36B,GAAWnoC,KAAKyG,UACvD0kC,iBAAkB,WAAa,OAAOtH,GAAU7jC,KAAKyG,UAErDs8D,YAAa,WAAa,MAAO,CAACl7D,KAAM7H,KAAKyG,QAAQmqB,SAAUvqB,GAAIrG,KAAKyG,QAAQoqB,SAEhFmyC,UAAW,SAASlhE,EAAKmb,EAAMsD,EAAQ+xB,EAAMC,GAC3C,IAAI9rC,EAAUzG,KAAKyG,QACnB3E,EAAM8E,GAAa5G,KAAMgtB,GAAQhtB,KAAKkrB,IAAKppB,IAC3C,IAAI+E,EAAM/E,EAAI+B,OAAQ0J,EAAOzL,EAAIyL,KAKjC,GAJA0P,EAAKhX,MAAM05B,SAAW,WACtB1iB,EAAKW,aAAa,mBAAoB,QACtC5d,KAAKyG,QAAQi0B,MAAME,cAAc3d,GACjCxW,EAAQ05B,MAAM33B,YAAYyU,GACd,QAARq1B,EACFzrC,EAAM/E,EAAI+E,SACL,GAAY,SAARyrC,GAA2B,QAARA,EAAgB,CAC5C,IAAI2wB,EAAS9jE,KAAKgB,IAAIsG,EAAQC,QAAQ46B,aAActhC,KAAKkrB,IAAIY,QAC7Do3C,EAAS/jE,KAAKgB,IAAIsG,EAAQ05B,MAAMH,YAAav5B,EAAQ65B,UAAUN,cAElD,SAARsS,GAAmBxwC,EAAI+B,OAASoZ,EAAK4K,aAAeo7C,IAAWnhE,EAAI+E,IAAMoW,EAAK4K,aAC/EhhB,EAAM/E,EAAI+E,IAAMoW,EAAK4K,aAChB/lB,EAAI+B,OAASoZ,EAAK4K,cAAgBo7C,IACvCp8D,EAAM/E,EAAI+B,QACV0J,EAAO0P,EAAK6K,YAAco7C,IAC1B31D,EAAO21D,EAASjmD,EAAK6K,aAE3B7K,EAAKhX,MAAMY,IAAMA,EAAM,KACvBoW,EAAKhX,MAAMsH,KAAO0P,EAAKhX,MAAMuH,MAAQ,GACxB,SAAT+kC,GACFhlC,EAAO9G,EAAQ05B,MAAMH,YAAc/iB,EAAK6K,YACxC7K,EAAKhX,MAAMuH,MAAQ,QAEN,QAAT+kC,EAAmBhlC,EAAO,EACZ,UAATglC,IAAqBhlC,GAAQ9G,EAAQ05B,MAAMH,YAAc/iB,EAAK6K,aAAe,GACtF7K,EAAKhX,MAAMsH,KAAOA,EAAO,MAEvBgT,GACAzY,GAAe9H,KAAM,CAACuN,KAAMA,EAAM1G,IAAKA,EAAK2G,MAAOD,EAAO0P,EAAK6K,YAAajkB,OAAQgD,EAAMoW,EAAK4K,gBAGrGs7C,iBAAkBtsB,GAASvzC,IAC3B8/D,kBAAmBvsB,GAASuiB,IAC5BiK,eAAgBtuD,GAChBuuD,mBAAoBzsB,GAAS+iB,IAE7BxyD,YAAa,SAASF,GACpB,GAAIuC,GAASoQ,eAAe3S,GACxB,OAAOuC,GAASvC,GAAKuP,KAAK,KAAMzW,OAGtC6N,gBAAiBgpC,IAAS,SAAS1zC,GAAQ0K,GAAgB7N,KAAMmD,MAEjEogE,SAAU,SAAS17D,EAAM27D,EAAQlJ,EAAM3G,GACrC,IAAItnD,EAAM,EACNm3D,EAAS,IAAKn3D,GAAO,EAAGm3D,GAAUA,GAEtC,IADA,IAAI13D,EAAMkhB,GAAQhtB,KAAKkrB,IAAKrjB,GACnB9I,EAAI,EAAGA,EAAIykE,IAAUzkE,EAE5B,GADA+M,EAAMy3D,GAASvjE,KAAKkrB,IAAKpf,EAAKO,EAAKiuD,EAAM3G,GACrC7nD,EAAI23D,QAAW,MAErB,OAAO33D,GAGToqD,MAAOrf,IAAS,SAASxqC,EAAKiuD,GAC5B,IAAI/S,EAASvnD,KAEbA,KAAK4pD,oBAAmB,SAAUp9C,GAChC,OAAI+6C,EAAO9gD,QAAQ2nC,OAASmZ,EAAOr8B,IAAImtB,QAAU7rC,EAAMd,QAC5C63D,GAAShc,EAAOr8B,IAAK1e,EAAMX,KAAMQ,EAAKiuD,EAAM/S,EAAOzjD,QAAQ4/D,iBAE3Dr3D,EAAM,EAAIG,EAAM3E,OAAS2E,EAAMnG,OACzCqa,MAGLi2C,QAAS9f,IAAS,SAASxqC,EAAKiuD,GAC9B,IAAIztD,EAAM7M,KAAKkrB,IAAIre,IAAKqe,EAAMlrB,KAAKkrB,IAC/Bre,EAAImwC,oBACJ9xB,EAAIhf,iBAAiB,GAAI,KAAM,WAE/BinD,GAAoBnzD,MAAM,SAAUwM,GACpC,IAAIg6B,EAAQ+8B,GAASr4C,EAAK1e,EAAMX,KAAMQ,EAAKiuD,GAAM,GACjD,OAAOjuD,EAAM,EAAI,CAACxE,KAAM2+B,EAAOngC,GAAImG,EAAMX,MAAQ,CAAChE,KAAM2E,EAAMX,KAAMxF,GAAImgC,SAI9Em9B,SAAU,SAAS97D,EAAM27D,EAAQlJ,EAAMsJ,GACrC,IAAIv3D,EAAM,EAAG4B,EAAI21D,EACbJ,EAAS,IAAKn3D,GAAO,EAAGm3D,GAAUA,GAEtC,IADA,IAAI13D,EAAMkhB,GAAQhtB,KAAKkrB,IAAKrjB,GACnB9I,EAAI,EAAGA,EAAIykE,IAAUzkE,EAAG,CAC/B,IAAIgnC,EAASn/B,GAAa5G,KAAM8L,EAAK,OAIrC,GAHS,MAALmC,EAAaA,EAAI83B,EAAOx4B,KACrBw4B,EAAOx4B,KAAOU,EACrBnC,EAAM63D,GAAS3jE,KAAM+lC,EAAQ15B,EAAKiuD,GAC9BxuD,EAAI23D,QAAW,MAErB,OAAO33D,GAGT+pD,MAAOhf,IAAS,SAASxqC,EAAKiuD,GAC5B,IAAI/S,EAASvnD,KAETkrB,EAAMlrB,KAAKkrB,IAAK24C,EAAQ,GACxBhlD,GAAY7e,KAAKyG,QAAQ2nC,QAAUljB,EAAImtB,QAAUntB,EAAIre,IAAImwC,oBAY7D,GAXA9xB,EAAI0+B,oBAAmB,SAAUp9C,GAC/B,GAAIqS,EACA,OAAOxS,EAAM,EAAIG,EAAM3E,OAAS2E,EAAMnG,KAC1C,IAAIy9D,EAAUl9D,GAAa2gD,EAAQ/6C,EAAMX,KAAM,OACvB,MAApBW,EAAMo3D,aAAsBE,EAAQv2D,KAAOf,EAAMo3D,YACrDC,EAAMp3D,KAAKq3D,EAAQv2D,MACnB,IAAIzL,EAAM6hE,GAASpc,EAAQuc,EAASz3D,EAAKiuD,GAGzC,MAFY,QAARA,GAAkB9tD,GAAS0e,EAAIre,IAAIN,WACnCqkC,GAAe2W,EAAQrhB,GAAWqhB,EAAQzlD,EAAK,OAAO+E,IAAMi9D,EAAQj9D,KACjE/E,IACN4e,GACCmjD,EAAMjlE,OAAU,IAAK,IAAIG,EAAI,EAAGA,EAAImsB,EAAIre,IAAIrB,OAAO5M,OAAQG,IAC3DmsB,EAAIre,IAAIrB,OAAOzM,GAAG6kE,WAAaC,EAAM9kE,MAI3Cs8D,WAAY,SAASv5D,GACnB,IAAIopB,EAAMlrB,KAAKkrB,IAAK5kB,EAAO2kB,GAAQC,EAAKppB,EAAIwE,MAAMnD,KAC9CmG,EAAQxH,EAAI0C,GAAIuO,EAAMjR,EAAI0C,GAC9B,GAAI8B,EAAM,CACR,IAAIwb,EAAS9hB,KAAKyiE,UAAU3gE,EAAK,aACd,UAAdA,EAAIihB,QAAsBhQ,GAAOzM,EAAK1H,SAAW0K,IAA6ByJ,IAAlBzJ,EACjE,IAAIy6D,EAAYz9D,EAAK9G,OAAO8J,GACxBoF,EAAQrB,GAAW02D,EAAWjiD,GAC9B,SAAUtd,GAAM,OAAO6I,GAAW7I,EAAIsd,IACtC,KAAKjd,KAAKk/D,GAAa,SAAUv/D,GAAM,MAAO,KAAKK,KAAKL,IACxD,SAAUA,GAAM,OAAS,KAAKK,KAAKL,KAAQ6I,GAAW7I,IAC1D,MAAO8E,EAAQ,GAAKoF,EAAMpI,EAAK9G,OAAO8J,EAAQ,MAASA,EACvD,MAAOyJ,EAAMzM,EAAK1H,QAAU8P,EAAMpI,EAAK9G,OAAOuT,MAAWA,EAE3D,OAAO,IAAIgqC,GAAMt1C,GAAI3F,EAAIwE,KAAMgD,GAAQ7B,GAAI3F,EAAIwE,KAAMyM,KAGvD6kD,gBAAiB,SAASp0D,GACX,MAATA,GAAiBA,GAASxD,KAAK2C,MAAMyc,aACrCpf,KAAK2C,MAAMyc,WAAapf,KAAK2C,MAAMyc,WACnCtL,EAAS9T,KAAKyG,QAAQ8mC,UAAW,wBAEjCj5B,EAAQtU,KAAKyG,QAAQ8mC,UAAW,wBAEpCvnB,GAAOhmB,KAAM,kBAAmBA,KAAMA,KAAK2C,MAAMyc,aAEnDuuB,SAAU,WAAa,OAAO3tC,KAAKyG,QAAQi0B,MAAMs+B,YAAcj7C,KAC/D4uC,WAAY,WAAa,SAAU3sD,KAAK8D,QAAQoxB,WAAYl1B,KAAKkrB,IAAI+4B,WAErE+f,SAAUntB,IAAS,SAAU5oC,EAAGC,GAAK+iC,GAAejxC,KAAMiO,EAAGC,MAC7D+1D,cAAe,WACb,IAAI9iC,EAAWnhC,KAAKyG,QAAQ06B,SAC5B,MAAO,CAAC5zB,KAAM4zB,EAAS+D,WAAYr+B,IAAKs6B,EAASmE,UACzCxZ,OAAQqV,EAASsQ,aAAezQ,GAAUhhC,MAAQA,KAAKyG,QAAQ86B,UAC/DhC,MAAO4B,EAASyQ,YAAc5Q,GAAUhhC,MAAQA,KAAKyG,QAAQ26B,SAC7DE,aAAcD,GAAcrhC,MAAOggC,YAAakB,GAAalhC,QAGvE8H,eAAgB+uC,IAAS,SAASrqC,EAAOgjC,GAC1B,MAAThjC,GACFA,EAAQ,CAAC3E,KAAM7H,KAAKkrB,IAAIre,IAAIN,UAAUV,KAAMxF,GAAI,MAClC,MAAVmpC,IAAkBA,EAASxvC,KAAK8D,QAAQktC,qBACnB,iBAATxkC,EAChBA,EAAQ,CAAC3E,KAAMJ,GAAI+E,EAAO,GAAInG,GAAI,MACX,MAAdmG,EAAM3E,OACf2E,EAAQ,CAAC3E,KAAM2E,EAAOnG,GAAI,OAEvBmG,EAAMnG,KAAMmG,EAAMnG,GAAKmG,EAAM3E,MAClC2E,EAAMgjC,OAASA,GAAU,EAEF,MAAnBhjC,EAAM3E,KAAKvB,KACb4qC,GAAclxC,KAAMwM,GAEpB2kC,GAAoBnxC,KAAMwM,EAAM3E,KAAM2E,EAAMnG,GAAImG,EAAMgjC,WAI1Dkf,QAAS7X,IAAS,SAAStX,EAAOzT,GAChC,IAAIy7B,EAASvnD,KAETkkE,EAAY,SAAU75D,GAAO,MAAqB,iBAAPA,GAAmB,QAAQxF,KAAK0T,OAAOlO,IAAQA,EAAM,KAAOA,GAC9F,MAATk1B,IAAiBv/B,KAAKyG,QAAQC,QAAQT,MAAMs5B,MAAQ2kC,EAAU3kC,IACpD,MAAVzT,IAAkB9rB,KAAKyG,QAAQC,QAAQT,MAAM6lB,OAASo4C,EAAUp4C,IAChE9rB,KAAK8D,QAAQ69B,cAAgB8C,GAA0BzkC,MAC3D,IAAIgsB,EAAShsB,KAAKyG,QAAQmqB,SAC1B5wB,KAAKkrB,IAAIS,KAAKK,EAAQhsB,KAAKyG,QAAQoqB,QAAQ,SAAUvqB,GACnD,GAAIA,EAAK44B,QAAW,IAAK,IAAIngC,EAAI,EAAGA,EAAIuH,EAAK44B,QAAQtgC,OAAQG,IACzD,GAAIuH,EAAK44B,QAAQngC,GAAGugC,UAAW,CAAEyK,GAAcwd,EAAQv7B,EAAQ,UAAW,QAC5EA,KAEJhsB,KAAKymB,MAAMic,aAAc,EACzB1c,GAAOhmB,KAAM,UAAWA,SAG1BqH,UAAW,SAASpD,GAAG,OAAO2yC,GAAQ52C,KAAMiE,IAC5C2wC,eAAgB,WAAW,OAAOA,GAAe50C,OACjDm1C,aAAc,WAAW,OAAOA,GAAan1C,OAE7Cs9D,QAASzmB,IAAS,WAChB,IAAIpI,EAAYzuC,KAAKyG,QAAQo+B,iBAC7BwE,GAAUrpC,MACVA,KAAKymB,MAAMic,aAAc,EACzBiC,GAAY3kC,MACZixC,GAAejxC,KAAMA,KAAKkrB,IAAIga,WAAYllC,KAAKkrB,IAAIoa,WACnDyU,GAAkB/5C,KAAKyG,UACN,MAAbgoC,GAAqBtvC,KAAK+pB,IAAIulB,EAAYtG,GAAWnoC,KAAKyG,UAAY,IAAMzG,KAAK8D,QAAQ69B,eACzF+G,GAAoB1oC,MACxBgmB,GAAOhmB,KAAM,UAAWA,SAG1BmkE,QAASttB,IAAS,SAAS3rB,GACzB,IAAI5gB,EAAMtK,KAAKkrB,IAUf,OATA5gB,EAAI5H,GAAK,KAEL1C,KAAK2C,MAAMq3D,eAAiBh6D,KAAK2C,MAAMq3D,gBAC3Cxa,GAAUx/C,KAAMkrB,GAChByZ,GAAY3kC,MACZA,KAAKyG,QAAQi0B,MAAM75B,QACnBowC,GAAejxC,KAAMkrB,EAAIga,WAAYha,EAAIoa,WACzCtlC,KAAKymB,MAAM+qB,aAAc,EACzBjV,GAAYv8B,KAAM,UAAWA,KAAMsK,GAC5BA,KAGT3B,OAAQ,SAASy7D,GACf,IAAIC,EAAUrkE,KAAK8D,QAAQugE,QAC3B,OAAOA,GAAWt2D,OAAOxN,UAAUsZ,eAAepD,KAAK4tD,EAASD,GAAcC,EAAQD,GAAcA,GAGtG7G,cAAe,WAAW,OAAOv9D,KAAKyG,QAAQi0B,MAAMs+B,YACpDplD,kBAAmB,WAAW,OAAO5T,KAAKyG,QAAQC,SAClD49D,mBAAoB,WAAW,OAAOtkE,KAAKyG,QAAQ06B,UACnDojC,iBAAkB,WAAW,OAAOvkE,KAAKyG,QAAQs5B,UAEnDnZ,GAAW1lB,GAEXA,EAAWsjE,eAAiB,SAAS57D,EAAMwB,EAAM5G,GAC1C4+D,EAAQvoD,eAAejR,KAASw5D,EAAQx5D,GAAQ1H,EAAW0H,GAAQ,CAACg6D,QAAS,KAClFR,EAAQx5D,GAAMwB,GAAQ5G,GAExBtC,EAAWujE,qBAAuB,SAAS77D,EAAMwB,EAAMs6D,EAAWlhE,GAChEtC,EAAWsjE,eAAe57D,EAAMwB,EAAM5G,GACtC4+D,EAAQx5D,GAAMg6D,QAAQn2D,KAAK,CAAC2V,KAAMsiD,EAAWr6D,IAAK7G,KAatD,SAAS+/D,GAASr4C,EAAKppB,EAAKuK,EAAKiuD,EAAM3G,GACrC,IAAInQ,EAAS1hD,EACT6iE,EAAUt4D,EACVirB,EAAUrM,GAAQC,EAAKppB,EAAIwE,MAC3Bs+D,EAAUjR,GAA6B,OAAjBzoC,EAAIxH,WAAsBrX,EAAMA,EAC1D,SAASw4D,IACP,IAAI5qD,EAAInY,EAAIwE,KAAOs+D,EACnB,QAAI3qD,EAAIiR,EAAIC,OAASlR,GAAKiR,EAAIC,MAAQD,EAAIE,QAC1CtpB,EAAM,IAAI2F,GAAIwS,EAAGnY,EAAI0C,GAAI1C,EAAIihB,QACtBuU,EAAUrM,GAAQC,EAAKjR,IAEhC,SAAS6qD,EAASC,GAChB,IAAI53D,EACJ,GAAY,aAARmtD,EAAqB,CACvB,IAAI91D,EAAK8yB,EAAQn0B,KAAK+O,WAAWpQ,EAAI0C,IAAM6H,EAAM,EAAI,GAAK,IAC1D,GAAI00B,MAAMv8B,GACR2I,EAAO,SACF,CACL,IAAI63D,EAAS34D,EAAM,EAAI7H,GAAM,OAAUA,EAAK,MAASA,GAAM,OAAUA,EAAK,MAC1E2I,EAAO,IAAI1F,GAAI3F,EAAIwE,KAAMnH,KAAKgB,IAAI,EAAGhB,KAAKe,IAAIo3B,EAAQn0B,KAAKvE,OAAQkD,EAAI0C,GAAK6H,GAAO24D,EAAS,EAAI,MAAO34D,SAGzGc,EADSwmD,EACFG,GAAa5oC,EAAIxoB,GAAI40B,EAASx1B,EAAKuK,GAEnConD,GAAcn8B,EAASx1B,EAAKuK,GAErC,GAAY,MAARc,EAAc,CAChB,GAAK43D,IAAeF,IAGhB,OAAO,EAFP/iE,EAAM4xD,GAAUC,EAAUzoC,EAAIxoB,GAAI40B,EAASx1B,EAAIwE,KAAMs+D,QAIzD9iE,EAAMqL,EAER,OAAO,EAGT,GAAY,QAARmtD,GAA0B,aAARA,EACpBwK,SACK,GAAY,UAARxK,EACTwK,GAAS,QACJ,GAAY,QAARxK,GAA0B,SAARA,EAG3B,IAFA,IAAI2K,EAAU,KAAM/oC,EAAgB,SAARo+B,EACxBx4C,EAASoJ,EAAIxoB,IAAMwoB,EAAIxoB,GAAG+/D,UAAU3gE,EAAK,aACpCqpB,GAAQ,GAAOA,GAAQ,EAAO,CACrC,GAAI9e,EAAM,IAAMy4D,GAAU35C,GAAU,MACpC,IAAIrf,EAAMwrB,EAAQn0B,KAAK3D,OAAOsC,EAAI0C,KAAO,KACrCoE,EAAOyE,GAAWvB,EAAKgW,GAAU,IACjCoa,GAAgB,MAAPpwB,EAAc,KACtBowB,GAAS,KAAKr3B,KAAKiH,GAAO,KAC3B,IAEJ,IADIowB,GAAU/Q,GAAUviB,IAAQA,EAAO,KACnCq8D,GAAWA,GAAWr8D,EAAM,CAC1ByD,EAAM,IAAIA,EAAM,EAAGy4D,IAAYhjE,EAAIihB,OAAS,SAChD,MAIF,GADIna,IAAQq8D,EAAUr8D,GAClByD,EAAM,IAAMy4D,GAAU35C,GAAU,MAGxC,IAAI9T,EAASgsC,GAAWn4B,EAAKppB,EAAK0hD,EAAQmhB,GAAS,GAEnD,OADIh4C,GAAe62B,EAAQnsC,KAAWA,EAAOosD,SAAU,GAChDpsD,EAMT,SAASssD,GAASjhE,EAAIZ,EAAKuK,EAAKiuD,GAC9B,IAAgCpsD,EAS5B4H,EATAoV,EAAMxoB,EAAGwoB,IAAKjd,EAAInM,EAAIyL,KAC1B,GAAY,QAAR+sD,EAAgB,CAClB,IAAI4K,EAAW/lE,KAAKe,IAAIwC,EAAG+D,QAAQC,QAAQ46B,aAAc/tB,OAAO87B,aAAe9oC,SAAS0+B,gBAAgB3D,cACpG6jC,EAAahmE,KAAKgB,IAAI+kE,EAAW,GAAK/8B,GAAWzlC,EAAG+D,SAAU,GAClEyH,GAAK7B,EAAM,EAAIvK,EAAI+B,OAAS/B,EAAI+E,KAAOwF,EAAM84D,MAE5B,QAAR7K,IACTpsD,EAAI7B,EAAM,EAAIvK,EAAI+B,OAAS,EAAI/B,EAAI+E,IAAM,GAG3C,OAAS,CAEP,GADAiP,EAAS+wB,GAAWnkC,EAAIuL,EAAGC,IACtB4H,EAAO6wB,QAAW,MACvB,GAAIt6B,EAAM,EAAI6B,GAAK,EAAIA,GAAKgd,EAAIY,OAAQ,CAAEhW,EAAO2tD,SAAU,EAAM,MACjEv1D,GAAW,EAAN7B,EAEP,OAAOyJ,EAKT,IAAIsvD,GAAuB,SAAS1iE,GAClC1C,KAAK0C,GAAKA,EACV1C,KAAKqlE,eAAiBrlE,KAAKslE,iBAAmBtlE,KAAKulE,cAAgBvlE,KAAKwlE,gBAAkB,KAC1FxlE,KAAKylE,QAAU,IAAI1lD,EACnB/f,KAAK0lE,UAAY,KACjB1lE,KAAK2lE,aAAc,EACnB3lE,KAAK4lE,eAAiB,MA2XxB,SAASC,GAASnjE,EAAIZ,GACpB,IAAI65B,EAAO4G,GAAgB7/B,EAAIZ,EAAIwE,MACnC,IAAKq1B,GAAQA,EAAKH,OAAU,OAAO,KACnC,IAAIl1B,EAAO2kB,GAAQvoB,EAAGwoB,IAAKppB,EAAIwE,MAC3BkkB,EAAOwX,GAAgBrG,EAAMr1B,EAAMxE,EAAIwE,MAEvCmc,EAAQ4C,GAAS/e,EAAM5D,EAAGwoB,IAAIxH,WAAYsoB,EAAO,OACrD,GAAIvpB,EAAO,CACT,IAAI6jB,EAAUxjB,GAAcL,EAAO3gB,EAAI0C,IACvCwnC,EAAO1F,EAAU,EAAI,QAAU,OAEjC,IAAIjvB,EAAS+rB,GAAuB5Y,EAAK3rB,IAAKiD,EAAI0C,GAAIwnC,GAEtD,OADA30B,EAAOkd,OAA4B,SAAnBld,EAAOwH,SAAsBxH,EAAOtE,IAAMsE,EAAO/N,MAC1D+N,EAGT,SAASyuD,GAAW7oD,GAClB,IAAK,IAAI8oD,EAAO9oD,EAAM8oD,EAAMA,EAAOA,EAAKxxD,WACpC,GAAI,4BAA4B1P,KAAKkhE,EAAKr9D,WAAc,OAAO,EACnE,OAAO,EAGT,SAASs9D,GAAOlkE,EAAKmkE,GAAoC,OAAzBA,IAAOnkE,EAAImkE,KAAM,GAAenkE,EAEhE,SAASokE,GAAexjE,EAAImF,EAAMxB,EAAIymC,EAAUC,GAC9C,IAAI5pC,EAAO,GAAIgjE,GAAU,EAAOjd,EAAUxmD,EAAGwoB,IAAIjf,gBAAiBm6D,GAAiB,EACnF,SAASC,EAAgBrmD,GAAM,OAAO,SAAUyS,GAAU,OAAOA,EAAOzS,IAAMA,GAC9E,SAASlP,IACHq1D,IACFhjE,GAAQ+lD,EACJkd,IAAkBjjE,GAAQ+lD,GAC9Bid,EAAUC,GAAiB,GAG/B,SAASE,EAAQhnE,GACXA,IACFwR,IACA3N,GAAQ7D,GAGZ,SAASinE,EAAKtpD,GACZ,GAAqB,GAAjBA,EAAKa,SAAe,CACtB,IAAI0oD,EAASvpD,EAAKijB,aAAa,WAC/B,GAAIsmC,EAEF,YADAF,EAAQE,GAGV,IAA+Ch6D,EAA3Ci6D,EAAWxpD,EAAKijB,aAAa,aACjC,GAAIumC,EAAU,CACZ,IAAI/jD,EAAQhgB,EAAG+lD,UAAUhhD,GAAIqlC,EAAU,GAAIrlC,GAAIslC,EAAS,EAAG,GAAIs5B,GAAiBI,IAGhF,YAFI/jD,EAAM9jB,SAAW4N,EAAQkW,EAAM,GAAGlb,KAAK,KACvC8+D,EAAQ56C,GAAWhpB,EAAGwoB,IAAK1e,EAAM3E,KAAM2E,EAAMnG,IAAI4M,KAAKi2C,KAG5D,GAA4C,SAAxCjsC,EAAKijB,aAAa,mBAAiC,OACvD,IAAIwmC,EAAU,6BAA6B7hE,KAAKoY,EAAK07B,UACrD,IAAK,QAAQ9zC,KAAKoY,EAAK07B,WAAwC,GAA3B17B,EAAK0pD,YAAY/nE,OAAe,OAEhE8nE,GAAW51D,IACf,IAAK,IAAI/R,EAAI,EAAGA,EAAIke,EAAKI,WAAWze,OAAQG,IACxCwnE,EAAKtpD,EAAKI,WAAWte,IAErB,aAAa8F,KAAKoY,EAAK07B,YAAaytB,GAAiB,GACrDM,IAAWP,GAAU,QACC,GAAjBlpD,EAAKa,UACdwoD,EAAQrpD,EAAK2pD,UAAUrlE,QAAQ,UAAW,IAAIA,QAAQ,UAAW,MAGrE,OAAS,CAEP,GADAglE,EAAK1+D,GACDA,GAAQxB,EAAM,MAClBwB,EAAOA,EAAKg3B,YACZunC,GAAiB,EAEnB,OAAOjjE,EAGT,SAAS0jE,GAASnkE,EAAIua,EAAMsX,GAC1B,IAAIuyC,EACJ,GAAI7pD,GAAQva,EAAG+D,QAAQ8nC,QAAS,CAE9B,GADAu4B,EAAWpkE,EAAG+D,QAAQ8nC,QAAQlxB,WAAWkX,IACpCuyC,EAAY,OAAOd,GAAOtjE,EAAGsqB,QAAQvlB,GAAI/E,EAAG+D,QAAQoqB,OAAS,KAAK,GACvE5T,EAAO,KAAMsX,EAAS,OAEtB,IAAKuyC,EAAW7pD,GAAO6pD,EAAWA,EAASvyD,WAAY,CACrD,IAAKuyD,GAAYA,GAAYpkE,EAAG+D,QAAQ8nC,QAAW,OAAO,KAC1D,GAAIu4B,EAASvyD,YAAcuyD,EAASvyD,YAAc7R,EAAG+D,QAAQ8nC,QAAW,MAG5E,IAAK,IAAIxvC,EAAI,EAAGA,EAAI2D,EAAG+D,QAAQk1B,KAAK/8B,OAAQG,IAAK,CAC/C,IAAIw5B,EAAW71B,EAAG+D,QAAQk1B,KAAK58B,GAC/B,GAAIw5B,EAAStb,MAAQ6pD,EACjB,OAAOC,GAAqBxuC,EAAUtb,EAAMsX,IAIpD,SAASwyC,GAAqBxuC,EAAUtb,EAAMsX,GAC5C,IAAI7tB,EAAU6xB,EAASp1B,KAAKma,WAAY2oD,GAAM,EAC9C,IAAKhpD,IAASY,EAASnX,EAASuW,GAAS,OAAO+oD,GAAOv+D,GAAIukB,GAAOuM,EAASjyB,MAAO,IAAI,GACtF,GAAI2W,GAAQvW,IACVu/D,GAAM,EACNhpD,EAAOvW,EAAQ2W,WAAWkX,GAC1BA,EAAS,GACJtX,GAAM,CACT,IAAI3W,EAAOiyB,EAASK,KAAO3X,EAAIsX,EAASK,MAAQL,EAASjyB,KACzD,OAAO0/D,GAAOv+D,GAAIukB,GAAO1lB,GAAOA,EAAKnD,KAAKvE,QAASqnE,GAIvD,IAAIe,EAA4B,GAAjB/pD,EAAKa,SAAgBb,EAAO,KAAMgqD,EAAUhqD,EACtD+pD,GAAsC,GAA1B/pD,EAAKI,WAAWze,QAA2C,GAA5Bqe,EAAKK,WAAWQ,WAC9DkpD,EAAW/pD,EAAKK,WACZiX,IAAUA,EAASyyC,EAASJ,UAAUhoE,SAE5C,MAAOqoE,EAAQ1yD,YAAc7N,EAAWugE,EAAUA,EAAQ1yD,WAC1D,IAAIqT,EAAU2Q,EAAS3Q,QAASuR,EAAOvR,EAAQuR,KAE/C,SAAS3xB,EAAKw/D,EAAUC,EAAS1yC,GAC/B,IAAK,IAAIx1B,GAAK,EAAGA,GAAKo6B,EAAOA,EAAKv6B,OAAS,GAAIG,IAE7C,IADA,IAAIF,EAAME,EAAI,EAAI6oB,EAAQ/oB,IAAMs6B,EAAKp6B,GAC5BslB,EAAI,EAAGA,EAAIxlB,EAAID,OAAQylB,GAAK,EAAG,CACtC,IAAI6iD,EAAUroE,EAAIwlB,EAAI,GACtB,GAAI6iD,GAAWF,GAAYE,GAAWD,EAAS,CAC7C,IAAI3gE,EAAO0lB,GAAOjtB,EAAI,EAAIw5B,EAASjyB,KAAOiyB,EAASK,KAAK75B,IACpDyF,EAAK3F,EAAIwlB,GAAKkQ,EAElB,OADIA,EAAS,GAAK2yC,GAAWF,KAAYxiE,EAAK3F,EAAIwlB,GAAKkQ,EAAS,EAAI,KAC7D9sB,GAAInB,EAAM9B,KAKzB,IAAIke,EAAQlb,EAAKw/D,EAAUC,EAAS1yC,GACpC,GAAI7R,EAAS,OAAOsjD,GAAOtjD,EAAOujD,GAGlC,IAAK,IAAI9oD,EAAQ8pD,EAAQpoC,YAAaqJ,EAAO8+B,EAAWA,EAASJ,UAAUhoE,OAAS21B,EAAS,EAAGpX,EAAOA,EAAQA,EAAM0hB,YAAa,CAEhI,GADAnc,EAAQlb,EAAK2V,EAAOA,EAAMG,WAAY,GAClCoF,EACA,OAAOsjD,GAAOv+D,GAAIib,EAAMpc,KAAMoc,EAAMle,GAAK0jC,GAAO+9B,GAEhD/9B,GAAQ/qB,EAAMwpD,YAAY/nE,OAEhC,IAAK,IAAI+lB,EAASsiD,EAAQE,gBAAiBC,EAAS7yC,EAAQ5P,EAAQA,EAASA,EAAOwiD,gBAAiB,CAEnG,GADAzkD,EAAQlb,EAAKmd,EAAQA,EAAOrH,YAAa,GACrCoF,EACA,OAAOsjD,GAAOv+D,GAAIib,EAAMpc,KAAMoc,EAAMle,GAAK4iE,GAASnB,GAElDmB,GAAUziD,EAAOgiD,YAAY/nE,QA3gBrCwmE,GAAqB7kE,UAAUoZ,KAAO,SAAUlT,GAC5C,IAAI8gD,EAASvnD,KAEX06B,EAAQ16B,KAAM0C,EAAKg4B,EAAMh4B,GACzBglB,EAAMgT,EAAMhT,IAAMjhB,EAAQ8nC,QAI9B,SAAS84B,EAAeziE,GACtB,IAAK,IAAImoD,EAAInoD,EAAEkR,OAAQi3C,EAAGA,EAAIA,EAAEx4C,WAAY,CAC1C,GAAIw4C,GAAKrlC,EAAO,OAAO,EACvB,GAAI,iCAAiC7iB,KAAKkoD,EAAErkD,WAAc,MAE5D,OAAO,EA4BT,SAAS4+D,EAAU1iE,GACjB,GAAKyiE,EAAeziE,KAAMshB,GAAexjB,EAAIkC,GAA7C,CACA,GAAIlC,EAAGs6C,oBACL0jB,GAAc,CAACU,UAAU,EAAOj+D,KAAMT,EAAGgL,kBAC3B,OAAV9I,EAAEgE,MAAiBlG,EAAGwJ,iBAAiB,GAAI,KAAM,WAChD,KAAKxJ,EAAGoB,QAAQyjE,gBACrB,OAEA,IAAI/7D,EAASq2D,GAAen/D,GAC5Bg+D,GAAc,CAACU,UAAU,EAAMj+D,KAAMqI,EAAOrI,OAC9B,OAAVyB,EAAEgE,MACJlG,EAAG2E,WAAU,WACX3E,EAAGiK,cAAcnB,EAAOA,OAAQ,EAAG8U,GACnC5d,EAAGwJ,iBAAiB,GAAI,KAAM,UAIpC,GAAItH,EAAE48D,cAAe,CACnB58D,EAAE48D,cAAcgG,YAChB,IAAIpwD,EAAUqpD,GAAWt9D,KAAK8P,KAAK,MAGnC,GADArO,EAAE48D,cAAc/T,QAAQ,OAAQr2C,GAC5BxS,EAAE48D,cAAclU,QAAQ,SAAWl2C,EAErC,YADAxS,EAAEuhB,iBAKN,IAAIshD,EAASxF,KAAkB15C,EAAKk/C,EAAOnqD,WAC3C5a,EAAG+D,QAAQ65B,UAAU/C,aAAakqC,EAAQ/kE,EAAG+D,QAAQ65B,UAAUhjB,YAC/DiL,EAAG/kB,MAAQi9D,GAAWt9D,KAAK8P,KAAK,MAChC,IAAIy0D,EAAW3pD,IACfiB,EAAYuJ,GACZ7S,YAAW,WACThT,EAAG+D,QAAQ65B,UAAU9rB,YAAYizD,GACjCC,EAASjzD,QACLizD,GAAYhgD,GAAOgT,EAAMitC,yBAC5B,KAzELjgD,EAAIkgD,iBAAkB,EACtB7F,GAAoBr6C,EAAKhlB,EAAGoB,QAAQ05D,WAAY96D,EAAGoB,QAAQ25D,YAAa/6D,EAAGoB,QAAQ45D,gBAUnF5oD,GAAG4S,EAAK,SAAS,SAAU9iB,IACpByiE,EAAeziE,IAAMshB,GAAexjB,EAAIkC,IAAM08D,GAAY18D,EAAGlC,IAE9DiZ,GAAc,IAAMjG,WAAWrO,GAAU3E,GAAI,WAAc,OAAO6kD,EAAOsgB,mBAAqB,OAGpG/yD,GAAG4S,EAAK,oBAAoB,SAAU9iB,GACpC2iD,EAAOme,UAAY,CAAC31D,KAAMnL,EAAEmL,KAAM6vC,MAAM,MAE1C9qC,GAAG4S,EAAK,qBAAqB,SAAU9iB,GAChC2iD,EAAOme,YAAane,EAAOme,UAAY,CAAC31D,KAAMnL,EAAEmL,KAAM6vC,MAAM,OAEnE9qC,GAAG4S,EAAK,kBAAkB,SAAU9iB,GAC9B2iD,EAAOme,YACL9gE,EAAEmL,MAAQw3C,EAAOme,UAAU31D,MAAQw3C,EAAOugB,kBAC9CvgB,EAAOme,UAAU9lB,MAAO,MAI5B9qC,GAAG4S,EAAK,cAAc,WAAc,OAAOgT,EAAMqtC,yBAEjDjzD,GAAG4S,EAAK,SAAS,WACV6/B,EAAOme,WAAane,EAAOugB,qBA0ClChzD,GAAG4S,EAAK,OAAQ4/C,GAChBxyD,GAAG4S,EAAK,MAAO4/C,IAGjBlC,GAAqB7kE,UAAUy9D,yBAA2B,SAAUgK,GAE/DA,EACDhoE,KAAK0nB,IAAI9J,aAAa,aAAcoqD,GAEpChoE,KAAK0nB,IAAIugD,gBAAgB,eAI7B7C,GAAqB7kE,UAAUgqC,iBAAmB,WAChD,IAAIlzB,EAASkzB,GAAiBvqC,KAAK0C,IAAI,GAEvC,OADA2U,EAAO5C,MAAQsJ,KAAe/d,KAAK0nB,IAC5BrQ,GAGT+tD,GAAqB7kE,UAAU+pC,cAAgB,SAAU9f,EAAM2rB,GACxD3rB,GAASxqB,KAAK0C,GAAG+D,QAAQk1B,KAAK/8B,UAC/B4rB,EAAK/V,OAAS0hC,IAAan2C,KAAK2nE,uBACpC3nE,KAAKkoE,uBAAuB19C,KAG9B46C,GAAqB7kE,UAAUoF,aAAe,WAC5C,OAAO3F,KAAK0C,GAAG+D,QAAQC,QAAQ8hB,cAAc7iB,gBAG/Cy/D,GAAqB7kE,UAAUonE,qBAAuB,WACpD,IAAI96D,EAAM7M,KAAK2F,eAAgBjD,EAAK1C,KAAK0C,GAAI06C,EAAO16C,EAAGwoB,IAAIre,IAAIN,UAC3D1E,EAAOu1C,EAAKv1C,OAAQxB,EAAK+2C,EAAK/2C,KAElC,GAAI3D,EAAG+D,QAAQoqB,QAAUnuB,EAAG+D,QAAQmqB,UAAY/oB,EAAKvB,MAAQ5D,EAAG+D,QAAQoqB,QAAUxqB,EAAGC,KAAO5D,EAAG+D,QAAQmqB,SACrG/jB,EAAI+rC,sBADN,CAKA,IAAIuvB,EAAYtB,GAASnkE,EAAImK,EAAIurC,WAAYvrC,EAAIyrC,cAC7C8vB,EAAWvB,GAASnkE,EAAImK,EAAI0rC,UAAW1rC,EAAI2rC,aAC/C,IAAI2vB,GAAcA,EAAUlC,MAAOmC,GAAaA,EAASnC,KACX,GAA1Cv5C,GAAII,GAAOq7C,EAAWC,GAAWvgE,IACO,GAAxC6kB,GAAIG,GAAOs7C,EAAWC,GAAW/hE,GAFrC,CAKA,IAAIs1B,EAAOj5B,EAAG+D,QAAQk1B,KAClBryB,EAASzB,EAAKvB,MAAQ5D,EAAG+D,QAAQmqB,UAAYi1C,GAASnjE,EAAImF,IAC1D,CAACoV,KAAM0e,EAAK,GAAG/T,QAAQ/oB,IAAI,GAAI01B,OAAQ,GACvCxhB,EAAM1M,EAAGC,KAAO5D,EAAG+D,QAAQoqB,QAAUg1C,GAASnjE,EAAI2D,GACtD,IAAK0M,EAAK,CACR,IAAI6U,EAAU+T,EAAKA,EAAK/8B,OAAS,GAAGgpB,QAChC/oB,EAAM+oB,EAAQuR,KAAOvR,EAAQuR,KAAKvR,EAAQuR,KAAKv6B,OAAS,GAAKgpB,EAAQ/oB,IACzEkU,EAAM,CAACkK,KAAMpe,EAAIA,EAAID,OAAS,GAAI21B,OAAQ11B,EAAIA,EAAID,OAAS,GAAKC,EAAIA,EAAID,OAAS,IAGnF,GAAK0K,GAAUyJ,EAAf,CAKA,IAA+Cs1D,EAA3C/9D,EAAMuC,EAAIy7D,YAAcz7D,EAAI07D,WAAW,GAC3C,IAAMF,EAAM77D,EAAMlD,EAAM2T,KAAM3T,EAAMirB,OAAQxhB,EAAIwhB,OAAQxhB,EAAIkK,MAC5D,MAAMrY,IACFyjE,KACG/sD,GAAS5Y,EAAGC,MAAMyqC,SACrBvgC,EAAIgS,SAASvV,EAAM2T,KAAM3T,EAAMirB,QAC1B8zC,EAAIhyC,YACPxpB,EAAI+rC,kBACJ/rC,EAAIgsC,SAASwvB,MAGfx7D,EAAI+rC,kBACJ/rC,EAAIgsC,SAASwvB,IAEX/9D,GAAyB,MAAlBuC,EAAIurC,WAAsBvrC,EAAIgsC,SAASvuC,GACzCgR,GAAStb,KAAKwoE,oBAEzBxoE,KAAKyoE,yBArBH57D,EAAI+rC,qBAwBRwsB,GAAqB7kE,UAAUioE,iBAAmB,WAC9C,IAAIjhB,EAASvnD,KAEf4V,aAAa5V,KAAK2lE,aAClB3lE,KAAK2lE,YAAcjwD,YAAW,WAC5B6xC,EAAOoe,aAAc,EACjBpe,EAAOvS,oBACPuS,EAAO7kD,GAAG2E,WAAU,WAAc,OAAOkgD,EAAO7kD,GAAG+jB,MAAMuuB,kBAAmB,OAC/E,KAGLowB,GAAqB7kE,UAAU2nE,uBAAyB,SAAU19C,GAChEjN,EAAqBvd,KAAK0C,GAAG+D,QAAQ8mC,UAAW/iB,EAAKigB,SACrDltB,EAAqBvd,KAAK0C,GAAG+D,QAAQ8yC,aAAc/uB,EAAK/B,YAG1D28C,GAAqB7kE,UAAUkoE,kBAAoB,WACjD,IAAI57D,EAAM7M,KAAK2F,eACf3F,KAAKqlE,eAAiBx4D,EAAIurC,WAAYp4C,KAAKslE,iBAAmBz4D,EAAIyrC,aAClEt4C,KAAKulE,cAAgB14D,EAAI0rC,UAAWv4C,KAAKwlE,gBAAkB34D,EAAI2rC,aAGjE4sB,GAAqB7kE,UAAUmoE,kBAAoB,WACjD,IAAI77D,EAAM7M,KAAK2F,eACf,IAAKkH,EAAIy7D,WAAc,OAAO,EAC9B,IAAIrrD,EAAOpQ,EAAI07D,WAAW,GAAGI,wBAC7B,OAAO9qD,EAAS7d,KAAK0nB,IAAKzK,IAG5BmoD,GAAqB7kE,UAAUkU,MAAQ,WACL,YAA5BzU,KAAK0C,GAAGoB,QAAQoxB,WACbl1B,KAAK0oE,qBAAuB3qD,KAAe/d,KAAK0nB,KACjD1nB,KAAKsqC,cAActqC,KAAKuqC,oBAAoB,GAChDvqC,KAAK0nB,IAAIjT,UAGb2wD,GAAqB7kE,UAAU0U,KAAO,WAAcjV,KAAK0nB,IAAIzS,QAC7DmwD,GAAqB7kE,UAAUy4D,SAAW,WAAc,OAAOh5D,KAAK0nB,KAEpE09C,GAAqB7kE,UAAUs5D,cAAgB,WAAc,OAAO,GAEpEuL,GAAqB7kE,UAAU4tC,cAAgB,WAC3C,IAAIoZ,EAASvnD,KAEX06B,EAAQ16B,KAMZ,SAAS4oE,IACHluC,EAAMh4B,GAAGC,MAAMyqC,UACjB1S,EAAMmuC,gBACNnuC,EAAM+qC,QAAQrlD,IAAIsa,EAAMh4B,GAAGoB,QAAQglE,aAAcF,IARjD5oE,KAAK0oE,oBACLhzD,YAAW,WAAc,OAAO6xC,EAAOshB,kBAAoB,IAE3DjyB,GAAQ52C,KAAK0C,IAAI,WAAc,OAAOg4B,EAAMh4B,GAAG+jB,MAAMuuB,kBAAmB,KAQ5Eh1C,KAAKylE,QAAQrlD,IAAIpgB,KAAK0C,GAAGoB,QAAQglE,aAAcF,IAGjDxD,GAAqB7kE,UAAUy0C,iBAAmB,WAChD,IAAInoC,EAAM7M,KAAK2F,eACf,OAAOkH,EAAIurC,YAAcp4C,KAAKqlE,gBAAkBx4D,EAAIyrC,cAAgBt4C,KAAKslE,kBACvEz4D,EAAI0rC,WAAav4C,KAAKulE,eAAiB14D,EAAI2rC,aAAex4C,KAAKwlE,iBAGnEJ,GAAqB7kE,UAAUsoE,cAAgB,WAC7C,GAA2B,MAAvB7oE,KAAK4lE,iBAA0B5lE,KAAK2lE,aAAgB3lE,KAAKg1C,mBAA7D,CACA,IAAInoC,EAAM7M,KAAK2F,eAAgBjD,EAAK1C,KAAK0C,GAOzC,GAAI6Z,GAAWR,GAAU/b,KAAK0C,GAAG+D,QAAQg4B,YAAY7/B,QAAUknE,GAAWj5D,EAAIurC,YAI5E,OAHAp4C,KAAK0C,GAAGygE,iBAAiB,CAACv6D,KAAM,UAAWoM,QAAS,EAAGmR,eAAgBhnB,KAAK+pB,MAC5ElpB,KAAKiV,YACLjV,KAAKyU,QAGP,IAAIzU,KAAK0lE,UAAT,CACA1lE,KAAKyoE,oBACL,IAAI/7D,EAASm6D,GAASnkE,EAAImK,EAAIurC,WAAYvrC,EAAIyrC,cAC1CzsC,EAAOg7D,GAASnkE,EAAImK,EAAI0rC,UAAW1rC,EAAI2rC,aACvC9rC,GAAUb,GAAQ+qC,GAAQl0C,GAAI,WAChCkF,GAAalF,EAAGwoB,IAAKqyB,GAAgB7wC,EAAQb,GAAOyU,IAChD5T,EAAOu5D,KAAOp6D,EAAKo6D,OAAOvjE,EAAG+jB,MAAMuuB,kBAAmB,SAI9DowB,GAAqB7kE,UAAUwoE,YAAc,WAChB,MAAvB/oE,KAAK4lE,iBACPhwD,aAAa5V,KAAK4lE,gBAClB5lE,KAAK4lE,eAAiB,MAGxB,IAQIoD,EAAWl8B,EAAUm8B,EARrBvmE,EAAK1C,KAAK0C,GAAI+D,EAAU/D,EAAG+D,QAASoG,EAAMnK,EAAGwoB,IAAIre,IAAIN,UACrD1E,EAAOgF,EAAIhF,OAAQxB,EAAKwG,EAAIxG,KAKhC,GAJe,GAAXwB,EAAKrD,IAAWqD,EAAKvB,KAAO5D,EAAGiF,cAC/BE,EAAOJ,GAAII,EAAKvB,KAAO,EAAG2kB,GAAQvoB,EAAGwoB,IAAKrjB,EAAKvB,KAAO,GAAG1H,SACzDyH,EAAG7B,IAAMymB,GAAQvoB,EAAGwoB,IAAK7kB,EAAGC,MAAMnD,KAAKvE,QAAUyH,EAAGC,KAAO5D,EAAGgF,aAC9DrB,EAAKoB,GAAIpB,EAAGC,KAAO,EAAG,IACtBuB,EAAKvB,KAAOG,EAAQmqB,UAAYvqB,EAAGC,KAAOG,EAAQoqB,OAAS,EAAK,OAAO,EAGvEhpB,EAAKvB,MAAQG,EAAQmqB,UAA0D,IAA7Co4C,EAAYxmC,GAAc9/B,EAAImF,EAAKvB,QACvEwmC,EAAW9gB,GAAOvlB,EAAQk1B,KAAK,GAAGr1B,MAClC2iE,EAAWxiE,EAAQk1B,KAAK,GAAG1e,OAE3B6vB,EAAW9gB,GAAOvlB,EAAQk1B,KAAKqtC,GAAW1iE,MAC1C2iE,EAAWxiE,EAAQk1B,KAAKqtC,EAAY,GAAG/rD,KAAK4hB,aAE9C,IACIkO,EAAQm8B,EADRC,EAAU3mC,GAAc9/B,EAAI2D,EAAGC,MAUnC,GARI6iE,GAAW1iE,EAAQk1B,KAAK/8B,OAAS,GACnCmuC,EAAStmC,EAAQoqB,OAAS,EAC1Bq4C,EAASziE,EAAQ8nC,QAAQlV,YAEzB0T,EAAS/gB,GAAOvlB,EAAQk1B,KAAKwtC,EAAU,GAAG7iE,MAAQ,EAClD4iE,EAASziE,EAAQk1B,KAAKwtC,EAAU,GAAGlsD,KAAKkqD,kBAGrC8B,EAAY,OAAO,EACxB,IAAIG,EAAU1mE,EAAGwoB,IAAI26B,WAAWqgB,GAAexjE,EAAIumE,EAAUC,EAAQp8B,EAAUC,IAC3Es8B,EAAU39C,GAAWhpB,EAAGwoB,IAAKzjB,GAAIqlC,EAAU,GAAIrlC,GAAIslC,EAAQ9hB,GAAQvoB,EAAGwoB,IAAK6hB,GAAQ5pC,KAAKvE,SAC5F,MAAOwqE,EAAQxqE,OAAS,GAAKyqE,EAAQzqE,OAAS,EAC5C,GAAIqiB,EAAImoD,IAAYnoD,EAAIooD,GAAYD,EAAQzoB,MAAO0oB,EAAQ1oB,MAAO5T,QAC7D,IAAIq8B,EAAQ,IAAMC,EAAQ,GACxB,MAD8BD,EAAQh7B,QAASi7B,EAAQj7B,QAAStB,IAIzE,IAAIw8B,EAAW,EAAGC,EAAS,EACvBh5B,EAAS64B,EAAQ,GAAII,EAASH,EAAQ,GAAII,EAActqE,KAAKe,IAAIqwC,EAAO3xC,OAAQ4qE,EAAO5qE,QAC3F,MAAO0qE,EAAWG,GAAel5B,EAAOr+B,WAAWo3D,IAAaE,EAAOt3D,WAAWo3D,KAC5EA,EACN,IAAII,EAASzoD,EAAImoD,GAAUO,EAAS1oD,EAAIooD,GACpCO,EAAYzqE,KAAKe,IAAIwpE,EAAO9qE,QAA4B,GAAlBwqE,EAAQxqE,OAAc0qE,EAAW,GAClDK,EAAO/qE,QAA4B,GAAlByqE,EAAQzqE,OAAc0qE,EAAW,IAC3E,MAAOC,EAASK,GACTF,EAAOx3D,WAAWw3D,EAAO9qE,OAAS2qE,EAAS,IAAMI,EAAOz3D,WAAWy3D,EAAO/qE,OAAS2qE,EAAS,KAC7FA,EAEN,GAAsB,GAAlBH,EAAQxqE,QAAiC,GAAlByqE,EAAQzqE,QAAekuC,GAAYjlC,EAAKvB,KACjE,MAAOgjE,GAAYA,EAAWzhE,EAAKrD,IAC5BklE,EAAOx3D,WAAWw3D,EAAO9qE,OAAS2qE,EAAS,IAAMI,EAAOz3D,WAAWy3D,EAAO/qE,OAAS2qE,EAAS,GACjGD,IACAC,IAIJH,EAAQA,EAAQxqE,OAAS,GAAK8qE,EAAO97D,MAAM,EAAG87D,EAAO9qE,OAAS2qE,GAAQhoE,QAAQ,WAAY,IAC1F6nE,EAAQ,GAAKA,EAAQ,GAAGx7D,MAAM07D,GAAU/nE,QAAQ,WAAY,IAE5D,IAAIsoE,EAASpiE,GAAIqlC,EAAUw8B,GACvBQ,EAAOriE,GAAIslC,EAAQs8B,EAAQzqE,OAASqiB,EAAIooD,GAASzqE,OAAS2qE,EAAS,GACvE,OAAIH,EAAQxqE,OAAS,GAAKwqE,EAAQ,IAAM18C,GAAIm9C,EAAQC,IAClD/9D,GAAarJ,EAAGwoB,IAAKk+C,EAASS,EAAQC,EAAM,WACrC,QAFT,GAMF1E,GAAqB7kE,UAAU23D,aAAe,WAC5Cl4D,KAAK+nE,uBAEP3C,GAAqB7kE,UAAUM,MAAQ,WACrCb,KAAK+nE,uBAEP3C,GAAqB7kE,UAAUwnE,oBAAsB,WAC9C/nE,KAAK0lE,YACV9vD,aAAa5V,KAAK4lE,gBAClB5lE,KAAK0lE,UAAY,KACjB1lE,KAAK6nE,gBACL7nE,KAAK0nB,IAAIzS,OACTjV,KAAK0nB,IAAIjT,UAEX2wD,GAAqB7kE,UAAUunE,gBAAkB,WAC7C,IAAIvgB,EAASvnD,KAEY,MAAvBA,KAAK4lE,iBACT5lE,KAAK4lE,eAAiBlwD,YAAW,WAE/B,GADA6xC,EAAOqe,eAAiB,KACpBre,EAAOme,UAAW,CACpB,IAAIne,EAAOme,UAAU9lB,KACd,OADsB2H,EAAOme,UAAY,KAGlDne,EAAOsgB,kBACN,MAGLzC,GAAqB7kE,UAAUsnE,cAAgB,WAC3C,IAAItgB,EAASvnD,MAEXA,KAAK0C,GAAGiqD,cAAiB3sD,KAAK+oE,eAC9BnyB,GAAQ52C,KAAK0C,IAAI,WAAc,OAAO2mC,GAAUke,EAAO7kD,QAG7D0iE,GAAqB7kE,UAAUq6B,cAAgB,SAAU3d,GACvDA,EAAK2qD,gBAAkB,SAGzBxC,GAAqB7kE,UAAU64D,WAAa,SAAUx0D,GAClC,GAAdA,EAAEy0D,UAAiBr5D,KAAK0lE,YAC5B9gE,EAAEuhB,iBACGnmB,KAAK0C,GAAGiqD,cACTtlD,GAAUrH,KAAK0C,GAAIk+D,GAAnBv5D,CAAmCrH,KAAK0C,GAAI6V,OAAOC,aAA2B,MAAd5T,EAAEy0D,SAAmBz0D,EAAEoQ,QAAUpQ,EAAEy0D,UAAW,KAGpH+L,GAAqB7kE,UAAUw9D,gBAAkB,SAAU1zD,GACzDrK,KAAK0nB,IAAIkgD,gBAAkBrvD,OAAc,YAAPlO,IAGpC+6D,GAAqB7kE,UAAU45D,cAAgB,aAC/CiL,GAAqB7kE,UAAU29D,cAAgB,aAE/CkH,GAAqB7kE,UAAUo6B,uBAAwB,EA2JvD,IAAIovC,GAAgB,SAASrnE,GAC3B1C,KAAK0C,GAAKA,EAEV1C,KAAKgqE,UAAY,GAKjBhqE,KAAKiqE,aAAc,EAEnBjqE,KAAKylE,QAAU,IAAI1lD,EAEnB/f,KAAKsoB,cAAe,EACpBtoB,KAAK0lE,UAAY,MA6VnB,SAASwE,GAAaC,EAAUrmE,GAS9B,GARAA,EAAUA,EAAUqb,EAAQrb,GAAW,GACvCA,EAAQN,MAAQ2mE,EAAS3mE,OACpBM,EAAQsmE,UAAYD,EAAS33B,WAC9B1uC,EAAQsmE,SAAWD,EAAS33B,WAC3B1uC,EAAQumE,aAAeF,EAASE,cACjCvmE,EAAQumE,YAAcF,EAASE,aAGV,MAArBvmE,EAAQi7D,UAAmB,CAC7B,IAAIpxB,EAAW5vB,IACfja,EAAQi7D,UAAYpxB,GAAYw8B,GACQ,MAAtCA,EAASjqC,aAAa,cAAwByN,GAAYpnC,SAAS0X,KAGvE,SAASkS,IAAQg6C,EAAS3mE,MAAQd,EAAG2mD,WAErC,IAAIihB,EACJ,GAAIH,EAASI,OACXz1D,GAAGq1D,EAASI,KAAM,SAAUp6C,IAEvBrsB,EAAQ0mE,wBAAwB,CACnC,IAAID,EAAOJ,EAASI,KACpBD,EAAaC,EAAKE,OAClB,IACE,IAAIC,EAAgBH,EAAKE,OAAS,WAChCt6C,IACAo6C,EAAKE,OAASH,EACdC,EAAKE,SACLF,EAAKE,OAASC,GAEhB,MAAM9lE,KAIZd,EAAQm7D,WAAa,SAAUv8D,GAC7BA,EAAGytB,KAAOA,EACVztB,EAAGioE,YAAc,WAAc,OAAOR,GACtCznE,EAAGkoE,WAAa,WACdloE,EAAGkoE,WAAa7pC,MAChB5Q,IACAg6C,EAAS51D,WAAWC,YAAY9R,EAAGkR,qBACnCu2D,EAASlkE,MAAMQ,QAAU,GACrB0jE,EAASI,OACX1kD,GAAIskD,EAASI,KAAM,SAAUp6C,GACxBrsB,EAAQ0mE,wBAAyD,mBAAxBL,EAASI,KAAKE,SACxDN,EAASI,KAAKE,OAASH,MAKjCH,EAASlkE,MAAMQ,QAAU,OACzB,IAAI/D,EAAKxB,IAAW,SAAU+b,GAAQ,OAAOktD,EAAS51D,WAAWgpB,aAAatgB,EAAMktD,EAAStrC,eAC3F/6B,GACF,OAAOpB,EAGT,SAASmoE,GAAe3pE,GACtBA,EAAW2kB,IAAMA,GACjB3kB,EAAW4T,GAAKA,GAChB5T,EAAW26C,iBAAmBA,GAC9B36C,EAAW+nD,IAAMA,GACjB/nD,EAAW2kD,WAAa19B,GACxBjnB,EAAWoe,YAAcA,EACzBpe,EAAWyf,WAAaA,EACxBzf,EAAWmM,WAAauU,GACxB1gB,EAAWqK,KAAOA,EAClBrK,EAAW8kB,OAASA,GACpB9kB,EAAW22B,KAAOA,GAClB32B,EAAWs8C,UAAYA,GACvBt8C,EAAWqzC,eAAiBA,GAC5BrzC,EAAWuG,IAAMA,GACjBvG,EAAW6L,OAAS2f,GACpBxrB,EAAWioB,MAAQA,GACnBjoB,EAAWkoB,UAAYA,GACvBloB,EAAWwoB,YAAcA,GACzBxoB,EAAWyoB,QAAUA,GACrBzoB,EAAW4oB,eAAiBA,GAC5B5oB,EAAWipB,WAAaA,GACxBjpB,EAAWmpB,UAAYA,GACvBnpB,EAAWupB,WAAaA,GACxBvpB,EAAWqpB,UAAYA,GACvBrpB,EAAWuI,SAAWA,GACtBvI,EAAWiG,OAASA,GACpBjG,EAAW6F,QAAUA,GACrB7F,EAAW2xD,cAAgBA,GAC3B3xD,EAAWwxD,UAAYA,GACvBxxD,EAAWqxD,gBAAkBA,GAC7BrxD,EAAW0pB,aAAeA,GAC1B1pB,EAAWmnD,iBAAmBA,GAC9BnnD,EAAWwmD,WAAaA,GACxBxmD,EAAW+lD,WAAaA,GACxB/lD,EAAWuU,iBAAmBA,GAC9BvU,EAAW6lB,kBAAoBA,GAC/B7lB,EAAW6E,OAASA,GACpB7E,EAAW4S,SAAWA,EACtB5S,EAAW2c,SAAWA,EACtB3c,EAAWoT,QAAUA,EACrBpT,EAAWytD,SAAWA,GA5bxBob,GAAcxpE,UAAUoZ,KAAO,SAAUlT,GACrC,IAAI8gD,EAASvnD,KAEX06B,EAAQ16B,KAAM0C,EAAK1C,KAAK0C,GAC5B1C,KAAK8qE,YAAYrkE,GACjB,IAAI8hB,EAAKvoB,KAAKmqE,SAmBd,SAASY,EAAenmE,GACtB,IAAIshB,GAAexjB,EAAIkC,GAAvB,CACA,GAAIlC,EAAGs6C,oBACL0jB,GAAc,CAACU,UAAU,EAAOj+D,KAAMT,EAAGgL,sBACpC,KAAKhL,EAAGoB,QAAQyjE,gBACrB,OAEA,IAAI/7D,EAASq2D,GAAen/D,GAC5Bg+D,GAAc,CAACU,UAAU,EAAMj+D,KAAMqI,EAAOrI,OAC9B,OAAVyB,EAAEgE,KACJlG,EAAGiK,cAAcnB,EAAOA,OAAQ,KAAM8U,IAEtCoa,EAAMsvC,UAAY,GAClBzhD,EAAG/kB,MAAQgI,EAAOrI,KAAK8P,KAAK,MAC5B+L,EAAYuJ,IAGF,OAAV3jB,EAAEgE,OAAiBlG,EAAGC,MAAMm8D,aAAe,IAAIn/D,OAlCrD8G,EAAQC,QAAQ62B,aAAav9B,KAAK0G,QAASD,EAAQC,QAAQ4W,YAGvDjB,IAAOkM,EAAGtiB,MAAMs5B,MAAQ,OAE5BzqB,GAAGyT,EAAI,SAAS,WACV7M,GAAMC,GAAc,GAAK4rC,EAAOj/B,eAAgBi/B,EAAOj/B,aAAe,MAC1EoS,EAAMkuC,UAGR9zD,GAAGyT,EAAI,SAAS,SAAU3jB,GACpBshB,GAAexjB,EAAIkC,IAAM08D,GAAY18D,EAAGlC,KAE5CA,EAAGC,MAAMk8D,eAAiB,IAAIl/D,KAC9B+6B,EAAMswC,eAsBRl2D,GAAGyT,EAAI,MAAOwiD,GACdj2D,GAAGyT,EAAI,OAAQwiD,GAEfj2D,GAAGrO,EAAQ06B,SAAU,SAAS,SAAUv8B,GACtC,IAAIq7B,GAAcx5B,EAAS7B,KAAMshB,GAAexjB,EAAIkC,GAApD,CACA,IAAK2jB,EAAG0iD,cAGN,OAFAvoE,EAAGC,MAAMk8D,eAAiB,IAAIl/D,UAC9B+6B,EAAMjmB,QAKR,IAAI3O,EAAQ,IAAIolE,MAAM,SACtBplE,EAAM07D,cAAgB58D,EAAE48D,cACxBj5C,EAAG0iD,cAAcnlE,OAInBgP,GAAGrO,EAAQ65B,UAAW,eAAe,SAAU17B,GACxCq7B,GAAcx5B,EAAS7B,IAAM6Q,GAAiB7Q,MAGrDkQ,GAAGyT,EAAI,oBAAoB,WACzB,IAAIjf,EAAQ5G,EAAGsD,UAAU,QACrB00B,EAAMgrC,WAAahrC,EAAMgrC,UAAUl5D,MAAMpH,QAC7Cs1B,EAAMgrC,UAAY,CAChBp8D,MAAOA,EACPkD,MAAO9J,EAAGilD,SAASr+C,EAAO5G,EAAGsD,UAAU,MAAO,CAAC0C,UAAW,6BAG9DoM,GAAGyT,EAAI,kBAAkB,WACnBmS,EAAMgrC,YACRhrC,EAAMkuC,OACNluC,EAAMgrC,UAAUl5D,MAAMpH,QACtBs1B,EAAMgrC,UAAY,UAKxBqE,GAAcxpE,UAAUuqE,YAAc,SAAUK,GAE9CnrE,KAAK0G,QAAUu7D,KAGfjiE,KAAKmqE,SAAWnqE,KAAK0G,QAAQ4W,YAG/BysD,GAAcxpE,UAAUy9D,yBAA2B,SAAUgK,GAExDA,EACDhoE,KAAKmqE,SAASvsD,aAAa,aAAcoqD,GAEzChoE,KAAKmqE,SAASlC,gBAAgB,eAIlC8B,GAAcxpE,UAAUgqC,iBAAmB,WAEzC,IAAI7nC,EAAK1C,KAAK0C,GAAI+D,EAAU/D,EAAG+D,QAASykB,EAAMxoB,EAAGwoB,IAC7C7T,EAASkzB,GAAiB7nC,GAG9B,GAAIA,EAAGoB,QAAQsnE,oBAAqB,CAClC,IAAItH,EAAUl9D,GAAalE,EAAIwoB,EAAIre,IAAIN,UAAUV,KAAM,OACnDw/D,EAAU5kE,EAAQC,QAAQC,wBAAyB2kE,EAAU7kE,EAAQ8nC,QAAQ5nC,wBACjF0Q,EAAOk0D,MAAQpsE,KAAKgB,IAAI,EAAGhB,KAAKe,IAAIuG,EAAQC,QAAQ46B,aAAe,GAC/BwiC,EAAQj9D,IAAMykE,EAAQzkE,IAAMwkE,EAAQxkE,MACxEwQ,EAAOm0D,OAASrsE,KAAKgB,IAAI,EAAGhB,KAAKe,IAAIuG,EAAQC,QAAQs5B,YAAc,GAC9B8jC,EAAQv2D,KAAO+9D,EAAQ/9D,KAAO89D,EAAQ99D,OAG7E,OAAO8J,GAGT0yD,GAAcxpE,UAAU+pC,cAAgB,SAAUmhC,GAChD,IAAI/oE,EAAK1C,KAAK0C,GAAI+D,EAAU/D,EAAG+D,QAC/B8W,EAAqB9W,EAAQ8mC,UAAWk+B,EAAMhhC,SAC9CltB,EAAqB9W,EAAQ8yC,aAAckyB,EAAMhjD,WAC9B,MAAfgjD,EAAMF,QACRvrE,KAAK0G,QAAQT,MAAMY,IAAM4kE,EAAMF,MAAQ,KACvCvrE,KAAK0G,QAAQT,MAAMsH,KAAOk+D,EAAMD,OAAS,OAM7CzB,GAAcxpE,UAAUM,MAAQ,SAAUi0C,GACxC,IAAI90C,KAAK0rE,qBAAsB1rE,KAAK0lE,UAApC,CACA,IAAIhjE,EAAK1C,KAAK0C,GACd,GAAIA,EAAGs6C,oBAAqB,CAC1Bh9C,KAAKgqE,UAAY,GACjB,IAAI5yD,EAAU1U,EAAGiD,eACjB3F,KAAKmqE,SAAS3mE,MAAQ4T,EAClB1U,EAAGC,MAAMyqC,SAAWpuB,EAAYhf,KAAKmqE,UACrCzuD,GAAMC,GAAc,IAAK3b,KAAKsoB,aAAelR,QACvC09B,IACV90C,KAAKgqE,UAAYhqE,KAAKmqE,SAAS3mE,MAAQ,GACnCkY,GAAMC,GAAc,IAAK3b,KAAKsoB,aAAe,SAIrDyhD,GAAcxpE,UAAUy4D,SAAW,WAAc,OAAOh5D,KAAKmqE,UAE7DJ,GAAcxpE,UAAUs5D,cAAgB,WAAc,OAAO,GAE7DkQ,GAAcxpE,UAAUkU,MAAQ,WAC9B,GAAgC,YAA5BzU,KAAK0C,GAAGoB,QAAQoxB,YAA4B1Y,GAAUuB,KAAe/d,KAAKmqE,UAC5E,IAAMnqE,KAAKmqE,SAAS11D,QACpB,MAAO7P,MAIXmlE,GAAcxpE,UAAU0U,KAAO,WAAcjV,KAAKmqE,SAASl1D,QAE3D80D,GAAcxpE,UAAU29D,cAAgB,WACtCl+D,KAAK0G,QAAQT,MAAMY,IAAM7G,KAAK0G,QAAQT,MAAMsH,KAAO,GAGrDw8D,GAAcxpE,UAAU4tC,cAAgB,WAAcnuC,KAAK2rE,YAI3D5B,GAAcxpE,UAAUorE,SAAW,WAC/B,IAAIpkB,EAASvnD,KAEXA,KAAKiqE,aACTjqE,KAAKylE,QAAQrlD,IAAIpgB,KAAK0C,GAAGoB,QAAQglE,cAAc,WAC7CvhB,EAAOqhB,OACHrhB,EAAO7kD,GAAGC,MAAMyqC,SAAWma,EAAOokB,eAO1C5B,GAAcxpE,UAAUyqE,SAAW,WACjC,IAAIY,GAAS,EAAOlxC,EAAQ16B,KAE5B,SAAS6X,IACP,IAAI63B,EAAUhV,EAAMkuC,OACfl5B,GAAYk8B,GACXlxC,EAAMuvC,aAAc,EAAOvvC,EAAMixC,aADbC,GAAS,EAAMlxC,EAAM+qC,QAAQrlD,IAAI,GAAIvI,IAHjE6iB,EAAMuvC,aAAc,EAMpBvvC,EAAM+qC,QAAQrlD,IAAI,GAAIvI,IASxBkyD,GAAcxpE,UAAUqoE,KAAO,WAC3B,IAAIrhB,EAASvnD,KAEX0C,EAAK1C,KAAK0C,GAAIg4B,EAAQ16B,KAAKmqE,SAAUH,EAAYhqE,KAAKgqE,UAK1D,GAAIhqE,KAAK0rE,qBAAuBhpE,EAAGC,MAAMyqC,SACpC9kB,GAAaoS,KAAWsvC,IAAchqE,KAAK0lE,WAC5ChjE,EAAGiqD,cAAgBjqD,EAAGoB,QAAQ29D,cAAgB/+D,EAAGC,MAAM+1D,OACvD,OAAO,EAEX,IAAIv1D,EAAOu3B,EAAMl3B,MAEjB,GAAIL,GAAQ6mE,IAActnE,EAAGs6C,oBAAuB,OAAO,EAI3D,GAAIthC,GAAMC,GAAc,GAAK3b,KAAKsoB,eAAiBnlB,GAC/CsZ,GAAO,kBAAkB5X,KAAK1B,GAEhC,OADAT,EAAG+D,QAAQi0B,MAAM75B,SACV,EAGT,GAAI6B,EAAGwoB,IAAIre,KAAOnK,EAAG+D,QAAQynC,kBAAmB,CAC9C,IAAI/iB,EAAQhoB,EAAK+O,WAAW,GAE5B,GADa,MAATiZ,GAAoB6+C,IAAaA,EAAY,KACpC,MAAT7+C,EAAiC,OAAdnrB,KAAKa,QAAgBb,KAAK0C,GAAG0E,YAAY,QAGlE,IAAIykE,EAAO,EAAG5xD,EAAI9a,KAAKe,IAAI8pE,EAAUprE,OAAQuE,EAAKvE,QAClD,MAAOitE,EAAO5xD,GAAK+vD,EAAU93D,WAAW25D,IAAS1oE,EAAK+O,WAAW25D,KAAWA,EAgB5E,OAdAj1B,GAAQl0C,GAAI,WACVk+D,GAAel+D,EAAIS,EAAKyK,MAAMi+D,GAAO7B,EAAUprE,OAASitE,EACzC,KAAMtkB,EAAOme,UAAY,WAAa,MAGjDviE,EAAKvE,OAAS,KAAQuE,EAAKwB,QAAQ,OAAS,EAAK+1B,EAAMl3B,MAAQ+jD,EAAOyiB,UAAY,GAC/EziB,EAAOyiB,UAAY7mE,EAEtBokD,EAAOme,YACTne,EAAOme,UAAUl5D,MAAMpH,QACvBmiD,EAAOme,UAAUl5D,MAAQ9J,EAAGilD,SAASJ,EAAOme,UAAUp8D,MAAO5G,EAAGsD,UAAU,MACvC,CAAC0C,UAAW,8BAG5C,GAGTqhE,GAAcxpE,UAAU23D,aAAe,WACjCl4D,KAAKiqE,aAAejqE,KAAK4oE,SAAU5oE,KAAKiqE,aAAc,IAG5DF,GAAcxpE,UAAU64D,WAAa,WAC/B19C,GAAMC,GAAc,IAAK3b,KAAKsoB,aAAe,MACjDtoB,KAAKgrE,YAGPjB,GAAcxpE,UAAU45D,cAAgB,SAAUv1D,GAChD,IAAI81B,EAAQ16B,KAAM0C,EAAKg4B,EAAMh4B,GAAI+D,EAAU/D,EAAG+D,QAAS8hB,EAAKmS,EAAMyvC,SAC9DzvC,EAAMgxC,oBAAsBhxC,EAAMgxC,qBACtC,IAAI5pE,EAAM8mC,GAAalmC,EAAIkC,GAAIgrC,EAAYnpC,EAAQ06B,SAASmE,UAC5D,GAAKxjC,IAAOka,EAAZ,CAIA,IAAInb,EAAQ6B,EAAGoB,QAAQgoE,4BACnBjrE,IAAsC,GAA7B6B,EAAGwoB,IAAIre,IAAIgR,SAAS/b,IAC7BuF,GAAU3E,EAAIkF,GAAdP,CAA4B3E,EAAGwoB,IAAKqyB,GAAgBz7C,GAAMwe,GAE9D,IAIIyrD,EAJAC,EAASzjD,EAAGtiB,MAAMyX,QAASuuD,EAAgBvxC,EAAMh0B,QAAQT,MAAMyX,QAC/DwuD,EAAaxxC,EAAMh0B,QAAQylE,aAAaxlE,wBAwD5C,GAvDA+zB,EAAMh0B,QAAQT,MAAMyX,QAAU,mBAC9B6K,EAAGtiB,MAAMyX,QAAU,+DAAiE9Y,EAAEqkC,QAAUijC,EAAWrlE,IAAM,GAAK,cAAgBjC,EAAEokC,QAAUkjC,EAAW3+D,KAAO,GAAK,0CAA4CmO,EAAK,2BAA6B,eAAiB,oHAEpQG,IAAUkwD,EAAax4D,OAAO64D,SAClC3lE,EAAQi0B,MAAMjmB,QACVoH,GAAUtI,OAAOywD,SAAS,KAAM+H,GACpCtlE,EAAQi0B,MAAM75B,QAET6B,EAAGs6C,sBAAuBz0B,EAAG/kB,MAAQk3B,EAAMsvC,UAAY,KAC5DtvC,EAAMgxC,mBAAqBW,EAC3B5lE,EAAQynC,kBAAoBxrC,EAAGwoB,IAAIre,IACnC+I,aAAanP,EAAQ6lE,oBA2CjB5wD,GAAMC,GAAc,GAAK4wD,IACzBzvD,EAAmB,CACrB/W,GAAOnB,GACP,IAAI4nE,EAAU,WACZ3mD,GAAItS,OAAQ,UAAWi5D,GACvB92D,WAAW22D,EAAQ,KAErBv3D,GAAGvB,OAAQ,UAAWi5D,QAEtB92D,WAAW22D,EAAQ,IA/CrB,SAASE,IACP,GAAyB,MAArBhkD,EAAG3I,eAAwB,CAC7B,IAAI2tC,EAAW7qD,EAAGs6C,oBACdyvB,EAAS,KAAYlf,EAAWhlC,EAAG/kB,MAAQ,IAC/C+kB,EAAG/kB,MAAQ,IACX+kB,EAAG/kB,MAAQipE,EACX/xC,EAAMsvC,UAAYzc,EAAW,GAAK,IAClChlC,EAAG3I,eAAiB,EAAG2I,EAAG1I,aAAe4sD,EAAO7tE,OAGhD6H,EAAQynC,kBAAoBxrC,EAAGwoB,IAAIre,KAGvC,SAASw/D,IACP,GAAI3xC,EAAMgxC,oBAAsBW,IAChC3xC,EAAMgxC,oBAAqB,EAC3BhxC,EAAMh0B,QAAQT,MAAMyX,QAAUuuD,EAC9B1jD,EAAGtiB,MAAMyX,QAAUsuD,EACftwD,GAAMC,EAAa,GAAKlV,EAAQirC,WAAWJ,aAAa7qC,EAAQ06B,SAASmE,UAAYsK,GAGhE,MAArBrnB,EAAG3I,gBAAwB,GACxBlE,GAAOA,GAAMC,EAAa,IAAM4wD,IACrC,IAAIxtE,EAAI,EAAG6pE,EAAO,WACZniE,EAAQynC,mBAAqBxrC,EAAGwoB,IAAIre,KAA4B,GAArB0b,EAAG3I,gBAC9C2I,EAAG1I,aAAe,GAAwB,KAAnB6a,EAAMsvC,UAC/B3iE,GAAU3E,EAAIwhD,GAAd78C,CAAyB3E,GAChB3D,IAAM,GACf0H,EAAQ6lE,mBAAqB52D,WAAWkzD,EAAM,MAE9CniE,EAAQynC,kBAAoB,KAC5BznC,EAAQi0B,MAAM75B,UAGlB4F,EAAQ6lE,mBAAqB52D,WAAWkzD,EAAM,QAiBpDmB,GAAcxpE,UAAUw9D,gBAAkB,SAAU1zD,GAC7CA,GAAOrK,KAAKa,QACjBb,KAAKmqE,SAASuC,SAAkB,YAAPriE,EACzBrK,KAAKmqE,SAASj1C,WAAa7qB,GAG7B0/D,GAAcxpE,UAAUq6B,cAAgB,aAExCmvC,GAAcxpE,UAAUo6B,uBAAwB,EAyGhDwiC,GAAcj8D,IAEdihE,GAAiBjhE,IAGjB,IAAIyrE,GAAe,gDAAgDhuE,MAAM,KACzE,IAAK,IAAI0gB,MAAQ4pC,GAAI1oD,UAAiB0oD,GAAI1oD,UAAUsZ,eAAewF,KAAS1a,EAAQgoE,GAActtD,IAAQ,IACtGne,GAAWX,UAAU8e,IAAQ,SAAUutD,GACvC,OAAO,WAAY,OAAOA,EAAO1tD,MAAMlf,KAAKkrB,IAAK5iB,YADpB,CAE5B2gD,GAAI1oD,UAAU8e,MAkCnB,OAhCAuH,GAAWqiC,IACX/nD,GAAWy9D,YAAc,CAAC,SAAYoL,GAAe,gBAAmB3E,IAKxElkE,GAAWmoB,WAAa,SAASjf,GAC1BlJ,GAAW4I,SAASuB,MAAgB,QAARjB,IAAkBlJ,GAAW4I,SAASuB,KAAOjB,GAC9Eif,GAAWnK,MAAMlf,KAAMsI,YAGzBpH,GAAWqoB,WAAaA,GAGxBroB,GAAWmoB,WAAW,QAAQ,WAAc,MAAO,CAAE1nB,MAAO,SAAUC,GAAU,OAAOA,EAAOO,iBAC9FjB,GAAWqoB,WAAW,aAAc,QAIpCroB,GAAWgT,gBAAkB,SAAU9J,EAAMyiE,GAC3C3rE,GAAWX,UAAU6J,GAAQyiE,GAE/B3rE,GAAW4rE,mBAAqB,SAAU1iE,EAAMyiE,GAC9C5jB,GAAI1oD,UAAU6J,GAAQyiE,GAGxB3rE,GAAWgpE,aAAeA,GAE1BW,GAAe3pE,IAEfA,GAAW6rE,QAAU,SAEd7rE,O,qBCpnTT,SAAS8rE,EAAkBl3D,EAAQ2L,GACjC,IAAK,IAAI1iB,EAAI,EAAGA,EAAI0iB,EAAM7iB,OAAQG,IAAK,CACrC,IAAIkuE,EAAaxrD,EAAM1iB,GACvBkuE,EAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,UAAWF,IAAYA,EAAW98D,UAAW,GACjDpC,OAAOq/D,eAAet3D,EAAQm3D,EAAW5kE,IAAK4kE,IAIlD,SAASI,EAAaC,EAAaC,EAAYC,GAM7C,OALID,GAAYP,EAAkBM,EAAY/sE,UAAWgtE,GACrDC,GAAaR,EAAkBM,EAAaE,GAChDz/D,OAAOq/D,eAAeE,EAAa,YAAa,CAC9Cn9D,UAAU,IAELm9D,EAGT1tE,EAAOC,QAAUwtE,EAAcztE,EAAOC,QAAQ4tE,YAAa,EAAM7tE,EAAOC,QAAQ,WAAaD,EAAOC,S,8CCSpG,IAAI6tE,EAAmB,WAMrB1tE,KAAK2tE,aAAe,EAEpB3tE,KAAK4tE,cAAgB,EAErB5tE,KAAK6tE,gBAAkB,GAIvB7tE,KAAK8tE,eAAiB,IAKtB9tE,KAAK+tE,sBAAwB,GAE7B/tE,KAAKguE,aAAe,EAGpBhuE,KAAKiuE,cAAgB,IAYnBC,GAAe,EACfC,EAAc,EACdC,EAAa,EAWjBV,EAAiBW,KAAO,SAASt7C,EAAI5vB,GACnC,MAAO,CAAC4vB,EAAI5vB,IAgBduqE,EAAiBntE,UAAU+tE,UAAY,SAASC,EAAOC,EAAOC,EAC1DC,GAEyB,oBAAhBA,IAEPA,EADE1uE,KAAK2tE,cAAgB,EACRz8D,OAAOy9D,WAEP,IAAKhvE,MAAMivE,UAAgC,IAApB5uE,KAAK2tE,cAG/C,IAAIkB,EAAWH,EAGf,GAAa,MAATH,GAA0B,MAATC,EACnB,MAAM,IAAIp8D,MAAM,2BAIlB,GAAIm8D,GAASC,EACX,OAAID,EACK,CAAC,IAAIb,EAAiBW,KAAKD,EAAYG,IAEzC,GAGoB,oBAAlBE,IACTA,GAAiB,GAEnB,IAAIK,EAAaL,EAGbM,EAAe/uE,KAAKgvE,kBAAkBT,EAAOC,GAC7CS,EAAeV,EAAMn2D,UAAU,EAAG22D,GACtCR,EAAQA,EAAMn2D,UAAU22D,GACxBP,EAAQA,EAAMp2D,UAAU22D,GAGxBA,EAAe/uE,KAAKkvE,kBAAkBX,EAAOC,GAC7C,IAAIW,EAAeZ,EAAMn2D,UAAUm2D,EAAM3vE,OAASmwE,GAClDR,EAAQA,EAAMn2D,UAAU,EAAGm2D,EAAM3vE,OAASmwE,GAC1CP,EAAQA,EAAMp2D,UAAU,EAAGo2D,EAAM5vE,OAASmwE,GAG1C,IAAIK,EAAQpvE,KAAKqvE,cAAcd,EAAOC,EAAOM,EAAYD,GAUzD,OAPII,GACFG,EAAMjqD,QAAQ,IAAIuoD,EAAiBW,KAAKD,EAAYa,IAElDE,GACFC,EAAM3iE,KAAK,IAAIihE,EAAiBW,KAAKD,EAAYe,IAEnDnvE,KAAKsvE,kBAAkBF,GAChBA,GAgBT1B,EAAiBntE,UAAU8uE,cAAgB,SAASd,EAAOC,EAAOM,EAC9DD,GACF,IAAIO,EAEJ,IAAKb,EAEH,MAAO,CAAC,IAAIb,EAAiBW,KAAKF,EAAaK,IAGjD,IAAKA,EAEH,MAAO,CAAC,IAAId,EAAiBW,KAAKH,EAAaK,IAGjD,IAAIgB,EAAWhB,EAAM3vE,OAAS4vE,EAAM5vE,OAAS2vE,EAAQC,EACjDgB,EAAYjB,EAAM3vE,OAAS4vE,EAAM5vE,OAAS4vE,EAAQD,EAClDxvE,EAAIwwE,EAAS5qE,QAAQ6qE,GACzB,IAAU,GAANzwE,EAUF,OARAqwE,EAAQ,CAAC,IAAI1B,EAAiBW,KAAKF,EAAaoB,EAASn3D,UAAU,EAAGrZ,IAC7D,IAAI2uE,EAAiBW,KAAKD,EAAYoB,GACtC,IAAI9B,EAAiBW,KAAKF,EACtBoB,EAASn3D,UAAUrZ,EAAIywE,EAAU5wE,UAE1C2vE,EAAM3vE,OAAS4vE,EAAM5vE,SACvBwwE,EAAM,GAAG,GAAKA,EAAM,GAAG,GAAKlB,GAEvBkB,EAGT,GAAwB,GAApBI,EAAU5wE,OAGZ,MAAO,CAAC,IAAI8uE,EAAiBW,KAAKH,EAAaK,GACvC,IAAIb,EAAiBW,KAAKF,EAAaK,IAIjD,IAAIiB,EAAKzvE,KAAK0vE,gBAAgBnB,EAAOC,GACrC,GAAIiB,EAAI,CAEN,IAAIE,EAAUF,EAAG,GACbG,EAAUH,EAAG,GACbI,EAAUJ,EAAG,GACbK,EAAUL,EAAG,GACbM,EAAaN,EAAG,GAEhBO,EAAUhwE,KAAKsuE,UAAUqB,EAASE,EAASf,EAAYD,GACvDoB,EAAUjwE,KAAKsuE,UAAUsB,EAASE,EAAShB,EAAYD,GAE3D,OAAOmB,EAAQrqD,OAAO,CAAC,IAAI+nD,EAAiBW,KAAKD,EAAY2B,IACvCE,GAGxB,OAAInB,GAAcP,EAAM3vE,OAAS,KAAO4vE,EAAM5vE,OAAS,IAC9CoB,KAAKkwE,eAAe3B,EAAOC,EAAOK,GAGpC7uE,KAAKmwE,aAAa5B,EAAOC,EAAOK,IAczCnB,EAAiBntE,UAAU2vE,eAAiB,SAAS3B,EAAOC,EAAOK,GAEjE,IAAIzwD,EAAIpe,KAAKowE,mBAAmB7B,EAAOC,GACvCD,EAAQnwD,EAAEiyD,OACV7B,EAAQpwD,EAAEkyD,OACV,IAAIC,EAAYnyD,EAAEoyD,UAEdpB,EAAQpvE,KAAKsuE,UAAUC,EAAOC,GAAO,EAAOK,GAGhD7uE,KAAKywE,mBAAmBrB,EAAOmB,GAE/BvwE,KAAK0wE,qBAAqBtB,GAI1BA,EAAM3iE,KAAK,IAAIihE,EAAiBW,KAAKD,EAAY,KACjD,IAAIuC,EAAU,EACVC,EAAe,EACfC,EAAe,EACfC,EAAc,GACdC,EAAc,GAClB,MAAOJ,EAAUvB,EAAMxwE,OAAQ,CAC7B,OAAQwwE,EAAMuB,GAAS,IACrB,KAAKxC,EACH0C,IACAE,GAAe3B,EAAMuB,GAAS,GAC9B,MACF,KAAKzC,EACH0C,IACAE,GAAe1B,EAAMuB,GAAS,GAC9B,MACF,KAAKvC,EAEH,GAAIwC,GAAgB,GAAKC,GAAgB,EAAG,CAE1CzB,EAAM30D,OAAOk2D,EAAUC,EAAeC,EACzBD,EAAeC,GAC5BF,EAAUA,EAAUC,EAAeC,EAGnC,IAFA,IAAIG,EACAhxE,KAAKsuE,UAAUwC,EAAaC,GAAa,EAAOlC,GAC3CxqD,EAAI2sD,EAAQpyE,OAAS,EAAGylB,GAAK,EAAGA,IACvC+qD,EAAM30D,OAAOk2D,EAAS,EAAGK,EAAQ3sD,IAEnCssD,GAAoBK,EAAQpyE,OAE9BiyE,EAAe,EACfD,EAAe,EACfE,EAAc,GACdC,EAAc,GACd,MAEJJ,IAIF,OAFAvB,EAAMzuB,MAECyuB,GAcT1B,EAAiBntE,UAAU4vE,aAAe,SAAS5B,EAAOC,EAAOK,GAW/D,IATA,IAAIoC,EAAe1C,EAAM3vE,OACrBsyE,EAAe1C,EAAM5vE,OACrBuyE,EAAQhyE,KAAKojB,MAAM0uD,EAAeC,GAAgB,GAClDE,EAAWD,EACXE,EAAW,EAAIF,EACfG,EAAK,IAAIt/D,MAAMq/D,GACfE,EAAK,IAAIv/D,MAAMq/D,GAGVpjE,EAAI,EAAGA,EAAIojE,EAAUpjE,IAC5BqjE,EAAGrjE,IAAM,EACTsjE,EAAGtjE,IAAM,EAEXqjE,EAAGF,EAAW,GAAK,EACnBG,EAAGH,EAAW,GAAK,EAWnB,IAVA,IAAIt1B,EAAQm1B,EAAeC,EAGvBM,EAAS11B,EAAQ,GAAK,EAGtB21B,EAAU,EACVC,EAAQ,EACRC,EAAU,EACVC,EAAQ,EACHn6C,EAAI,EAAGA,EAAI05C,EAAO15C,IAAK,CAE9B,IAAI,IAAK93B,MAAQivE,UAAYC,EAC3B,MAIF,IAAK,IAAIgD,GAAMp6C,EAAIg6C,EAASI,GAAMp6C,EAAIi6C,EAAOG,GAAM,EAAG,CACpD,IAAIC,EAAYV,EAAWS,EAGzBE,EADEF,IAAOp6C,GAAMo6C,GAAMp6C,GAAK65C,EAAGQ,EAAY,GAAKR,EAAGQ,EAAY,GACxDR,EAAGQ,EAAY,GAEfR,EAAGQ,EAAY,GAAK,EAE3B,IAAIE,EAAKD,EAAKF,EACd,MAAOE,EAAKd,GAAgBe,EAAKd,GAC1B3C,EAAM/uE,OAAOuyE,IAAOvD,EAAMhvE,OAAOwyE,GACtCD,IACAC,IAGF,GADAV,EAAGQ,GAAaC,EACZA,EAAKd,EAEPS,GAAS,OACJ,GAAIM,EAAKd,EAEdO,GAAW,OACN,GAAID,EAAO,CAChB,IAAIS,EAAYb,EAAWt1B,EAAQ+1B,EACnC,GAAII,GAAa,GAAKA,EAAYZ,IAA8B,GAAlBE,EAAGU,GAAkB,CAEjE,IAAIC,EAAKjB,EAAeM,EAAGU,GAC3B,GAAIF,GAAMG,EAER,OAAOlyE,KAAKmyE,kBAAkB5D,EAAOC,EAAOuD,EAAIC,EAAInD,KAO5D,IAAK,IAAIuD,GAAM36C,EAAIk6C,EAASS,GAAM36C,EAAIm6C,EAAOQ,GAAM,EAAG,CAChDH,EAAYb,EAAWgB,EAGzBF,EADEE,IAAO36C,GAAM26C,GAAM36C,GAAK85C,EAAGU,EAAY,GAAKV,EAAGU,EAAY,GACxDV,EAAGU,EAAY,GAEfV,EAAGU,EAAY,GAAK,EAE3B,IAAII,EAAKH,EAAKE,EACd,MAAOF,EAAKjB,GAAgBoB,EAAKnB,GAC1B3C,EAAM/uE,OAAOyxE,EAAeiB,EAAK,IACjC1D,EAAMhvE,OAAO0xE,EAAemB,EAAK,GACtCH,IACAG,IAGF,GADAd,EAAGU,GAAaC,EACZA,EAAKjB,EAEPW,GAAS,OACJ,GAAIS,EAAKnB,EAEdS,GAAW,OACN,IAAKH,EAAO,CACbM,EAAYV,EAAWt1B,EAAQs2B,EACnC,GAAIN,GAAa,GAAKA,EAAYT,IAA8B,GAAlBC,EAAGQ,GAAkB,CACjE,IAAIC,EAAKT,EAAGQ,GACRE,EAAKZ,EAAWW,EAAKD,EAGzB,GADAI,EAAKjB,EAAeiB,EAChBH,GAAMG,EAER,OAAOlyE,KAAKmyE,kBAAkB5D,EAAOC,EAAOuD,EAAIC,EAAInD,MAQ9D,MAAO,CAAC,IAAInB,EAAiBW,KAAKH,EAAaK,GACvC,IAAIb,EAAiBW,KAAKF,EAAaK,KAejDd,EAAiBntE,UAAU4xE,kBAAoB,SAAS5D,EAAOC,EAAOvgE,EAAGC,EACrE2gE,GACF,IAAIyD,EAAS/D,EAAMn2D,UAAU,EAAGnK,GAC5BskE,EAAS/D,EAAMp2D,UAAU,EAAGlK,GAC5BskE,EAASjE,EAAMn2D,UAAUnK,GACzBwkE,EAASjE,EAAMp2D,UAAUlK,GAGzBkhE,EAAQpvE,KAAKsuE,UAAUgE,EAAQC,GAAQ,EAAO1D,GAC9C6D,EAAS1yE,KAAKsuE,UAAUkE,EAAQC,GAAQ,EAAO5D,GAEnD,OAAOO,EAAMzpD,OAAO+sD,IAetBhF,EAAiBntE,UAAU6vE,mBAAqB,SAAS7B,EAAOC,GAC9D,IAAIgC,EAAY,GACZmC,EAAW,GAcf,SAASC,EAAwBzvE,GAC/B,IAAI6H,EAAQ,GAIRggB,EAAY,EACZwqC,GAAW,EAEXqd,EAAkBrC,EAAU5xE,OAChC,MAAO42D,EAAUryD,EAAKvE,OAAS,EAAG,CAChC42D,EAAUryD,EAAKwB,QAAQ,KAAMqmB,IACb,GAAZwqC,IACFA,EAAUryD,EAAKvE,OAAS,GAE1B,IAAI0H,EAAOnD,EAAKiV,UAAU4S,EAAWwqC,EAAU,IAE3Cmd,EAAS94D,eAAiB84D,EAAS94D,eAAevT,QAC9BsT,IAAnB+4D,EAASrsE,IACZ0E,GAASuN,OAAOC,aAAam6D,EAASrsE,KAElCusE,GAAmBC,IAGrBxsE,EAAOnD,EAAKiV,UAAU4S,GACtBwqC,EAAUryD,EAAKvE,QAEjBoM,GAASuN,OAAOC,aAAaq6D,GAC7BF,EAASrsE,GAAQusE,EACjBrC,EAAUqC,KAAqBvsE,GAEjC0kB,EAAYwqC,EAAU,EAExB,OAAOxqD,EA1CTwlE,EAAU,GAAK,GA6Cf,IAAIsC,EAAW,IACXzC,EAASuC,EAAwBrE,GACrCuE,EAAW,MACX,IAAIxC,EAASsC,EAAwBpE,GACrC,MAAO,CAAC6B,OAAQA,EAAQC,OAAQA,EAAQE,UAAWA,IAWrD9C,EAAiBntE,UAAUkwE,mBAAqB,SAASrB,EAAOoB,GAC9D,IAAK,IAAIzxE,EAAI,EAAGA,EAAIqwE,EAAMxwE,OAAQG,IAAK,CAGrC,IAFA,IAAIiM,EAAQokE,EAAMrwE,GAAG,GACjBoE,EAAO,GACFkhB,EAAI,EAAGA,EAAIrZ,EAAMpM,OAAQylB,IAChClhB,EAAKkhB,GAAKmsD,EAAUxlE,EAAMkH,WAAWmS,IAEvC+qD,EAAMrwE,GAAG,GAAKoE,EAAK8P,KAAK,MAY5By6D,EAAiBntE,UAAUyuE,kBAAoB,SAAST,EAAOC,GAE7D,IAAKD,IAAUC,GAASD,EAAM/uE,OAAO,IAAMgvE,EAAMhvE,OAAO,GACtD,OAAO,EAIT,IAAIuzE,EAAa,EACbC,EAAa7zE,KAAKe,IAAIquE,EAAM3vE,OAAQ4vE,EAAM5vE,QAC1Cq0E,EAAaD,EACbE,EAAe,EACnB,MAAOH,EAAaE,EACd1E,EAAMn2D,UAAU86D,EAAcD,IAC9BzE,EAAMp2D,UAAU86D,EAAcD,IAChCF,EAAaE,EACbC,EAAeH,GAEfC,EAAaC,EAEfA,EAAa9zE,KAAKC,OAAO4zE,EAAaD,GAAc,EAAIA,GAE1D,OAAOE,GAUTvF,EAAiBntE,UAAU2uE,kBAAoB,SAASX,EAAOC,GAE7D,IAAKD,IAAUC,GACXD,EAAM/uE,OAAO+uE,EAAM3vE,OAAS,IAAM4vE,EAAMhvE,OAAOgvE,EAAM5vE,OAAS,GAChE,OAAO,EAIT,IAAIm0E,EAAa,EACbC,EAAa7zE,KAAKe,IAAIquE,EAAM3vE,OAAQ4vE,EAAM5vE,QAC1Cq0E,EAAaD,EACbG,EAAa,EACjB,MAAOJ,EAAaE,EACd1E,EAAMn2D,UAAUm2D,EAAM3vE,OAASq0E,EAAY1E,EAAM3vE,OAASu0E,IAC1D3E,EAAMp2D,UAAUo2D,EAAM5vE,OAASq0E,EAAYzE,EAAM5vE,OAASu0E,IAC5DJ,EAAaE,EACbE,EAAaJ,GAEbC,EAAaC,EAEfA,EAAa9zE,KAAKC,OAAO4zE,EAAaD,GAAc,EAAIA,GAE1D,OAAOE,GAYTvF,EAAiBntE,UAAU6yE,oBAAsB,SAAS7E,EAAOC,GAE/D,IAAIyC,EAAe1C,EAAM3vE,OACrBsyE,EAAe1C,EAAM5vE,OAEzB,GAAoB,GAAhBqyE,GAAqC,GAAhBC,EACvB,OAAO,EAGLD,EAAeC,EACjB3C,EAAQA,EAAMn2D,UAAU64D,EAAeC,GAC9BD,EAAeC,IACxB1C,EAAQA,EAAMp2D,UAAU,EAAG64D,IAE7B,IAAIoC,EAAcl0E,KAAKe,IAAI+wE,EAAcC,GAEzC,GAAI3C,GAASC,EACX,OAAO6E,EAMT,IAAIC,EAAO,EACP10E,EAAS,EACb,MAAO,EAAM,CACX,IAAIovB,EAAUugD,EAAMn2D,UAAUi7D,EAAcz0E,GACxC8jB,EAAQ8rD,EAAM7pE,QAAQqpB,GAC1B,IAAc,GAAVtL,EACF,OAAO4wD,EAET10E,GAAU8jB,EACG,GAATA,GAAc6rD,EAAMn2D,UAAUi7D,EAAcz0E,IAC5C4vE,EAAMp2D,UAAU,EAAGxZ,KACrB00E,EAAO10E,EACPA,OAiBN8uE,EAAiBntE,UAAUmvE,gBAAkB,SAASnB,EAAOC,GAC3D,GAAIxuE,KAAK2tE,cAAgB,EAEvB,OAAO,KAET,IAAI4B,EAAWhB,EAAM3vE,OAAS4vE,EAAM5vE,OAAS2vE,EAAQC,EACjDgB,EAAYjB,EAAM3vE,OAAS4vE,EAAM5vE,OAAS4vE,EAAQD,EACtD,GAAIgB,EAAS3wE,OAAS,GAAwB,EAAnB4wE,EAAU5wE,OAAa2wE,EAAS3wE,OACzD,OAAO,KAET,IAAI20E,EAAMvzE,KAcV,SAASwzE,EAAiBjE,EAAUC,EAAWzwE,GAE7C,IAGI00E,EAAiBC,EAAiBC,EAAkBC,EAHpD90E,EAAOywE,EAASn3D,UAAUrZ,EAAGA,EAAII,KAAKC,MAAMmwE,EAAS3wE,OAAS,IAC9DylB,GAAK,EACLwvD,EAAc,GAElB,OAAgD,IAAxCxvD,EAAImrD,EAAU7qE,QAAQ7F,EAAMulB,EAAI,IAAW,CACjD,IAAIyvD,EAAeP,EAAIvE,kBAAkBO,EAASn3D,UAAUrZ,GACnBywE,EAAUp3D,UAAUiM,IACzD0vD,EAAeR,EAAIrE,kBAAkBK,EAASn3D,UAAU,EAAGrZ,GACtBywE,EAAUp3D,UAAU,EAAGiM,IAC5DwvD,EAAYj1E,OAASm1E,EAAeD,IACtCD,EAAcrE,EAAUp3D,UAAUiM,EAAI0vD,EAAc1vD,GAChDmrD,EAAUp3D,UAAUiM,EAAGA,EAAIyvD,GAC/BL,EAAkBlE,EAASn3D,UAAU,EAAGrZ,EAAIg1E,GAC5CL,EAAkBnE,EAASn3D,UAAUrZ,EAAI+0E,GACzCH,EAAmBnE,EAAUp3D,UAAU,EAAGiM,EAAI0vD,GAC9CH,EAAmBpE,EAAUp3D,UAAUiM,EAAIyvD,IAG/C,OAAyB,EAArBD,EAAYj1E,QAAc2wE,EAAS3wE,OAC9B,CAAC60E,EAAiBC,EACjBC,EAAkBC,EAAkBC,GAErC,KAKX,IAKIpE,EAaAE,EAASC,EAASC,EAASC,EAlB3BkE,EAAMR,EAAiBjE,EAAUC,EACVrwE,KAAKojB,KAAKgtD,EAAS3wE,OAAS,IAEnDq1E,EAAMT,EAAiBjE,EAAUC,EACVrwE,KAAKojB,KAAKgtD,EAAS3wE,OAAS,IAEvD,IAAKo1E,IAAQC,EACX,OAAO,KAOPxE,EANUwE,EAEAD,GAILA,EAAI,GAAGp1E,OAASq1E,EAAI,GAAGr1E,OAASo1E,EAHhCC,EAFAD,EAUHzF,EAAM3vE,OAAS4vE,EAAM5vE,QACvB+wE,EAAUF,EAAG,GACbG,EAAUH,EAAG,GACbI,EAAUJ,EAAG,GACbK,EAAUL,EAAG,KAEbI,EAAUJ,EAAG,GACbK,EAAUL,EAAG,GACbE,EAAUF,EAAG,GACbG,EAAUH,EAAG,IAEf,IAAIM,EAAaN,EAAG,GACpB,MAAO,CAACE,EAASC,EAASC,EAASC,EAASC,IAQ9CrC,EAAiBntE,UAAUmwE,qBAAuB,SAAStB,GACzD,IAAIvyC,GAAU,EACVq3C,EAAa,GACbC,EAAmB,EAEnBC,EAAe,KAEfzD,EAAU,EAEV0D,EAAqB,EACrBC,EAAoB,EAEpBC,EAAqB,EACrBC,EAAoB,EACxB,MAAO7D,EAAUvB,EAAMxwE,OACjBwwE,EAAMuB,GAAS,IAAMvC,GACvB8F,EAAWC,KAAsBxD,EACjC0D,EAAqBE,EACrBD,EAAoBE,EACpBD,EAAqB,EACrBC,EAAoB,EACpBJ,EAAehF,EAAMuB,GAAS,KAE1BvB,EAAMuB,GAAS,IAAMxC,EACvBoG,GAAsBnF,EAAMuB,GAAS,GAAG/xE,OAExC41E,GAAqBpF,EAAMuB,GAAS,GAAG/xE,OAIrCw1E,GAAiBA,EAAax1E,QAC9BO,KAAKgB,IAAIk0E,EAAoBC,IAC5BF,EAAax1E,QAAUO,KAAKgB,IAAIo0E,EACAC,KAEnCpF,EAAM30D,OAAOy5D,EAAWC,EAAmB,GAAI,EAClC,IAAIzG,EAAiBW,KAAKH,EAAakG,IAEpDhF,EAAM8E,EAAWC,EAAmB,GAAK,GAAG,GAAKhG,EAEjDgG,IAEAA,IACAxD,EAAUwD,EAAmB,EAAID,EAAWC,EAAmB,IAAM,EACrEE,EAAqB,EACrBC,EAAoB,EACpBC,EAAqB,EACrBC,EAAoB,EACpBJ,EAAe,KACfv3C,GAAU,IAGd8zC,IAIE9zC,GACF78B,KAAKsvE,kBAAkBF,GAEzBpvE,KAAKy0E,6BAA6BrF,GAQlCuB,EAAU,EACV,MAAOA,EAAUvB,EAAMxwE,OAAQ,CAC7B,GAAIwwE,EAAMuB,EAAU,GAAG,IAAMzC,GACzBkB,EAAMuB,GAAS,IAAMxC,EAAa,CACpC,IAAIuG,EAAWtF,EAAMuB,EAAU,GAAG,GAC9BgE,EAAYvF,EAAMuB,GAAS,GAC3BiE,EAAkB50E,KAAKozE,oBAAoBsB,EAAUC,GACrDE,EAAkB70E,KAAKozE,oBAAoBuB,EAAWD,GACtDE,GAAmBC,GACjBD,GAAmBF,EAAS91E,OAAS,GACrCg2E,GAAmBD,EAAU/1E,OAAS,KAExCwwE,EAAM30D,OAAOk2D,EAAS,EAAG,IAAIjD,EAAiBW,KAAKD,EAC/CuG,EAAUv8D,UAAU,EAAGw8D,KAC3BxF,EAAMuB,EAAU,GAAG,GACf+D,EAASt8D,UAAU,EAAGs8D,EAAS91E,OAASg2E,GAC5CxF,EAAMuB,EAAU,GAAG,GAAKgE,EAAUv8D,UAAUw8D,GAC5CjE,MAGEkE,GAAmBH,EAAS91E,OAAS,GACrCi2E,GAAmBF,EAAU/1E,OAAS,KAGxCwwE,EAAM30D,OAAOk2D,EAAS,EAAG,IAAIjD,EAAiBW,KAAKD,EAC/CsG,EAASt8D,UAAU,EAAGy8D,KAC1BzF,EAAMuB,EAAU,GAAG,GAAKxC,EACxBiB,EAAMuB,EAAU,GAAG,GACfgE,EAAUv8D,UAAU,EAAGu8D,EAAU/1E,OAASi2E,GAC9CzF,EAAMuB,EAAU,GAAG,GAAKzC,EACxBkB,EAAMuB,EAAU,GAAG,GACf+D,EAASt8D,UAAUy8D,GACvBlE,KAGJA,IAEFA,MAWJjD,EAAiBntE,UAAUk0E,6BAA+B,SAASrF,GAWjE,SAAS0F,EAA2BC,EAAKC,GACvC,IAAKD,IAAQC,EAEX,OAAO,EAQT,IAAIC,EAAQF,EAAIv1E,OAAOu1E,EAAIn2E,OAAS,GAChCs2E,EAAQF,EAAIx1E,OAAO,GACnB21E,EAAmBF,EAAMlzE,MAAM2rE,EAAiB0H,uBAChDC,EAAmBH,EAAMnzE,MAAM2rE,EAAiB0H,uBAChDE,EAAcH,GACdF,EAAMlzE,MAAM2rE,EAAiB6H,kBAC7BC,EAAcH,GACdH,EAAMnzE,MAAM2rE,EAAiB6H,kBAC7BE,EAAaH,GACbL,EAAMlzE,MAAM2rE,EAAiBgI,iBAC7BC,EAAaH,GACbN,EAAMnzE,MAAM2rE,EAAiBgI,iBAC7BE,EAAaH,GACbV,EAAIhzE,MAAM2rE,EAAiBmI,oBAC3BC,EAAaH,GACbX,EAAIjzE,MAAM2rE,EAAiBqI,sBAE/B,OAAIH,GAAcE,EAET,EACEL,GAAcE,EAEhB,EACER,IAAqBG,GAAeE,EAEtC,EACEF,GAAeE,EAEjB,EACEL,GAAoBE,EAEtB,EAEF,EAGT,IAAI1E,EAAU,EAEd,MAAOA,EAAUvB,EAAMxwE,OAAS,EAAG,CACjC,GAAIwwE,EAAMuB,EAAU,GAAG,IAAMvC,GACzBgB,EAAMuB,EAAU,GAAG,IAAMvC,EAAY,CAEvC,IAAI4H,EAAY5G,EAAMuB,EAAU,GAAG,GAC/BsF,EAAO7G,EAAMuB,GAAS,GACtBuF,EAAY9G,EAAMuB,EAAU,GAAG,GAG/BwF,EAAen2E,KAAKkvE,kBAAkB8G,EAAWC,GACrD,GAAIE,EAAc,CAChB,IAAIC,EAAeH,EAAK79D,UAAU69D,EAAKr3E,OAASu3E,GAChDH,EAAYA,EAAU59D,UAAU,EAAG49D,EAAUp3E,OAASu3E,GACtDF,EAAOG,EAAeH,EAAK79D,UAAU,EAAG69D,EAAKr3E,OAASu3E,GACtDD,EAAYE,EAAeF,EAI7B,IAAIG,EAAgBL,EAChBM,EAAWL,EACXM,EAAgBL,EAChBM,EAAY1B,EAA2BkB,EAAWC,GAClDnB,EAA2BmB,EAAMC,GACrC,MAAOD,EAAKz2E,OAAO,KAAO02E,EAAU12E,OAAO,GAAI,CAC7Cw2E,GAAaC,EAAKz2E,OAAO,GACzBy2E,EAAOA,EAAK79D,UAAU,GAAK89D,EAAU12E,OAAO,GAC5C02E,EAAYA,EAAU99D,UAAU,GAChC,IAAIgJ,EAAQ0zD,EAA2BkB,EAAWC,GAC9CnB,EAA2BmB,EAAMC,GAEjC90D,GAASo1D,IACXA,EAAYp1D,EACZi1D,EAAgBL,EAChBM,EAAWL,EACXM,EAAgBL,GAIhB9G,EAAMuB,EAAU,GAAG,IAAM0F,IAEvBA,EACFjH,EAAMuB,EAAU,GAAG,GAAK0F,GAExBjH,EAAM30D,OAAOk2D,EAAU,EAAG,GAC1BA,KAEFvB,EAAMuB,GAAS,GAAK2F,EAChBC,EACFnH,EAAMuB,EAAU,GAAG,GAAK4F,GAExBnH,EAAM30D,OAAOk2D,EAAU,EAAG,GAC1BA,MAINA,MAKJjD,EAAiB0H,sBAAwB,eACzC1H,EAAiB6H,iBAAmB,KACpC7H,EAAiBgI,gBAAkB,SACnChI,EAAiBmI,mBAAqB,WACtCnI,EAAiBqI,qBAAuB,cAMxCrI,EAAiBntE,UAAUk2E,uBAAyB,SAASrH,GAC3D,IAAIvyC,GAAU,EACVq3C,EAAa,GACbC,EAAmB,EAEnBC,EAAe,KAEfzD,EAAU,EAEV+F,GAAU,EAEVC,GAAU,EAEVC,GAAW,EAEXC,GAAW,EACf,MAAOlG,EAAUvB,EAAMxwE,OACjBwwE,EAAMuB,GAAS,IAAMvC,GACnBgB,EAAMuB,GAAS,GAAG/xE,OAASoB,KAAK4tE,gBAC/BgJ,GAAYC,IAEf3C,EAAWC,KAAsBxD,EACjC+F,EAAUE,EACVD,EAAUE,EACVzC,EAAehF,EAAMuB,GAAS,KAG9BwD,EAAmB,EACnBC,EAAe,MAEjBwC,EAAWC,GAAW,IAElBzH,EAAMuB,GAAS,IAAMzC,EACvB2I,GAAW,EAEXD,GAAW,EAUTxC,IAAkBsC,GAAWC,GAAWC,GAAYC,GACjCzC,EAAax1E,OAASoB,KAAK4tE,cAAgB,GAC3C8I,EAAUC,EAAUC,EAAWC,GAAa,KAEjEzH,EAAM30D,OAAOy5D,EAAWC,EAAmB,GAAI,EAClC,IAAIzG,EAAiBW,KAAKH,EAAakG,IAEpDhF,EAAM8E,EAAWC,EAAmB,GAAK,GAAG,GAAKhG,EACjDgG,IACAC,EAAe,KACXsC,GAAWC,GAEbC,EAAWC,GAAW,EACtB1C,EAAmB,IAEnBA,IACAxD,EAAUwD,EAAmB,EACzBD,EAAWC,EAAmB,IAAM,EACxCyC,EAAWC,GAAW,GAExBh6C,GAAU,IAGd8zC,IAGE9zC,GACF78B,KAAKsvE,kBAAkBF,IAU3B1B,EAAiBntE,UAAU+uE,kBAAoB,SAASF,GAEtDA,EAAM3iE,KAAK,IAAIihE,EAAiBW,KAAKD,EAAY,KACjD,IAKIW,EALA4B,EAAU,EACVC,EAAe,EACfC,EAAe,EACfC,EAAc,GACdC,EAAc,GAElB,MAAOJ,EAAUvB,EAAMxwE,OACrB,OAAQwwE,EAAMuB,GAAS,IACrB,KAAKxC,EACH0C,IACAE,GAAe3B,EAAMuB,GAAS,GAC9BA,IACA,MACF,KAAKzC,EACH0C,IACAE,GAAe1B,EAAMuB,GAAS,GAC9BA,IACA,MACF,KAAKvC,EAECwC,EAAeC,EAAe,GACX,IAAjBD,GAAuC,IAAjBC,IAExB9B,EAAe/uE,KAAKgvE,kBAAkB+B,EAAaD,GAC9B,IAAjB/B,IACG4B,EAAUC,EAAeC,EAAgB,GAC1CzB,EAAMuB,EAAUC,EAAeC,EAAe,GAAG,IACjDzC,EACFgB,EAAMuB,EAAUC,EAAeC,EAAe,GAAG,IAC7CE,EAAY34D,UAAU,EAAG22D,IAE7BK,EAAM30D,OAAO,EAAG,EAAG,IAAIizD,EAAiBW,KAAKD,EACzC2C,EAAY34D,UAAU,EAAG22D,KAC7B4B,KAEFI,EAAcA,EAAY34D,UAAU22D,GACpC+B,EAAcA,EAAY14D,UAAU22D,IAGtCA,EAAe/uE,KAAKkvE,kBAAkB6B,EAAaD,GAC9B,IAAjB/B,IACFK,EAAMuB,GAAS,GAAKI,EAAY34D,UAAU24D,EAAYnyE,OAClDmwE,GAAgBK,EAAMuB,GAAS,GACnCI,EAAcA,EAAY34D,UAAU,EAAG24D,EAAYnyE,OAC/CmwE,GACJ+B,EAAcA,EAAY14D,UAAU,EAAG04D,EAAYlyE,OAC/CmwE,KAIR4B,GAAWC,EAAeC,EAC1BzB,EAAM30D,OAAOk2D,EAASC,EAAeC,GACjCC,EAAYlyE,SACdwwE,EAAM30D,OAAOk2D,EAAS,EAClB,IAAIjD,EAAiBW,KAAKH,EAAa4C,IAC3CH,KAEEI,EAAYnyE,SACdwwE,EAAM30D,OAAOk2D,EAAS,EAClB,IAAIjD,EAAiBW,KAAKF,EAAa4C,IAC3CJ,KAEFA,KACqB,IAAZA,GAAiBvB,EAAMuB,EAAU,GAAG,IAAMvC,GAEnDgB,EAAMuB,EAAU,GAAG,IAAMvB,EAAMuB,GAAS,GACxCvB,EAAM30D,OAAOk2D,EAAS,IAEtBA,IAEFE,EAAe,EACfD,EAAe,EACfE,EAAc,GACdC,EAAc,GACd,MAG6B,KAA/B3B,EAAMA,EAAMxwE,OAAS,GAAG,IAC1BwwE,EAAMzuB,MAMR,IAAI9jB,GAAU,EACd8zC,EAAU,EAEV,MAAOA,EAAUvB,EAAMxwE,OAAS,EAC1BwwE,EAAMuB,EAAU,GAAG,IAAMvC,GACzBgB,EAAMuB,EAAU,GAAG,IAAMvC,IAEvBgB,EAAMuB,GAAS,GAAGv4D,UAAUg3D,EAAMuB,GAAS,GAAG/xE,OAC9CwwE,EAAMuB,EAAU,GAAG,GAAG/xE,SAAWwwE,EAAMuB,EAAU,GAAG,IAEtDvB,EAAMuB,GAAS,GAAKvB,EAAMuB,EAAU,GAAG,GACnCvB,EAAMuB,GAAS,GAAGv4D,UAAU,EAAGg3D,EAAMuB,GAAS,GAAG/xE,OACrBwwE,EAAMuB,EAAU,GAAG,GAAG/xE,QACtDwwE,EAAMuB,EAAU,GAAG,GAAKvB,EAAMuB,EAAU,GAAG,GAAKvB,EAAMuB,EAAU,GAAG,GACnEvB,EAAM30D,OAAOk2D,EAAU,EAAG,GAC1B9zC,GAAU,GACDuyC,EAAMuB,GAAS,GAAGv4D,UAAU,EAAGg3D,EAAMuB,EAAU,GAAG,GAAG/xE,SAC5DwwE,EAAMuB,EAAU,GAAG,KAErBvB,EAAMuB,EAAU,GAAG,IAAMvB,EAAMuB,EAAU,GAAG,GAC5CvB,EAAMuB,GAAS,GACXvB,EAAMuB,GAAS,GAAGv4D,UAAUg3D,EAAMuB,EAAU,GAAG,GAAG/xE,QAClDwwE,EAAMuB,EAAU,GAAG,GACvBvB,EAAM30D,OAAOk2D,EAAU,EAAG,GAC1B9zC,GAAU,IAGd8zC,IAGE9zC,GACF78B,KAAKsvE,kBAAkBF,IAa3B1B,EAAiBntE,UAAUu2E,YAAc,SAAS1H,EAAO2H,GACvD,IAII9oE,EAJAoiE,EAAS,EACTC,EAAS,EACT0G,EAAc,EACdC,EAAc,EAElB,IAAKhpE,EAAI,EAAGA,EAAImhE,EAAMxwE,OAAQqP,IAAK,CAOjC,GANImhE,EAAMnhE,GAAG,KAAOkgE,IAClBkC,GAAUjB,EAAMnhE,GAAG,GAAGrP,QAEpBwwE,EAAMnhE,GAAG,KAAOigE,IAClBoC,GAAUlB,EAAMnhE,GAAG,GAAGrP,QAEpByxE,EAAS0G,EACX,MAEFC,EAAc3G,EACd4G,EAAc3G,EAGhB,OAAIlB,EAAMxwE,QAAUqP,GAAKmhE,EAAMnhE,GAAG,KAAOigE,EAChC+I,EAGFA,GAAeF,EAAMC,IAS9BtJ,EAAiBntE,UAAU22E,gBAAkB,SAAS9H,GAMpD,IALA,IAAI+H,EAAO,GACPC,EAAc,KACdC,EAAa,KACbC,EAAa,KACbC,EAAe,MACVtpE,EAAI,EAAGA,EAAImhE,EAAMxwE,OAAQqP,IAAK,CACrC,IAAI8kB,EAAKq8C,EAAMnhE,GAAG,GACd8B,EAAOq/D,EAAMnhE,GAAG,GAChB9K,EAAO4M,EAAKxO,QAAQ61E,EAAa,SAAS71E,QAAQ81E,EAAY,QAC7D91E,QAAQ+1E,EAAY,QAAQ/1E,QAAQg2E,EAAc,cACvD,OAAQxkD,GACN,KAAKo7C,EACHgJ,EAAKlpE,GAAK,oCAAsC9K,EAAO,SACvD,MACF,KAAK+qE,EACHiJ,EAAKlpE,GAAK,oCAAsC9K,EAAO,SACvD,MACF,KAAKirE,EACH+I,EAAKlpE,GAAK,SAAW9K,EAAO,UAC5B,OAGN,OAAOg0E,EAAKlkE,KAAK,KASnBy6D,EAAiBntE,UAAUi3E,WAAa,SAASpI,GAE/C,IADA,IAAIjsE,EAAO,GACF8K,EAAI,EAAGA,EAAImhE,EAAMxwE,OAAQqP,IAC5BmhE,EAAMnhE,GAAG,KAAOkgE,IAClBhrE,EAAK8K,GAAKmhE,EAAMnhE,GAAG,IAGvB,OAAO9K,EAAK8P,KAAK,KASnBy6D,EAAiBntE,UAAUk3E,WAAa,SAASrI,GAE/C,IADA,IAAIjsE,EAAO,GACF8K,EAAI,EAAGA,EAAImhE,EAAMxwE,OAAQqP,IAC5BmhE,EAAMnhE,GAAG,KAAOigE,IAClB/qE,EAAK8K,GAAKmhE,EAAMnhE,GAAG,IAGvB,OAAO9K,EAAK8P,KAAK,KAUnBy6D,EAAiBntE,UAAUm3E,iBAAmB,SAAStI,GAIrD,IAHA,IAAIuI,EAAc,EACdC,EAAa,EACbC,EAAY,EACP5pE,EAAI,EAAGA,EAAImhE,EAAMxwE,OAAQqP,IAAK,CACrC,IAAI8kB,EAAKq8C,EAAMnhE,GAAG,GACd8B,EAAOq/D,EAAMnhE,GAAG,GACpB,OAAQ8kB,GACN,KAAKo7C,EACHyJ,GAAc7nE,EAAKnR,OACnB,MACF,KAAKsvE,EACH2J,GAAa9nE,EAAKnR,OAClB,MACF,KAAKwvE,EAEHuJ,GAAex4E,KAAKgB,IAAIy3E,EAAYC,GACpCD,EAAa,EACbC,EAAY,EACZ,OAIN,OADAF,GAAex4E,KAAKgB,IAAIy3E,EAAYC,GAC7BF,GAYTjK,EAAiBntE,UAAUu3E,aAAe,SAAS1I,GAEjD,IADA,IAAIjsE,EAAO,GACF8K,EAAI,EAAGA,EAAImhE,EAAMxwE,OAAQqP,IAChC,OAAQmhE,EAAMnhE,GAAG,IACf,KAAKkgE,EACHhrE,EAAK8K,GAAK,IAAM8pE,UAAU3I,EAAMnhE,GAAG,IACnC,MACF,KAAKigE,EACH/qE,EAAK8K,GAAK,IAAMmhE,EAAMnhE,GAAG,GAAGrP,OAC5B,MACF,KAAKwvE,EACHjrE,EAAK8K,GAAK,IAAMmhE,EAAMnhE,GAAG,GAAGrP,OAC5B,MAGN,OAAOuE,EAAK8P,KAAK,MAAM1R,QAAQ,OAAQ,MAYzCmsE,EAAiBntE,UAAUy3E,eAAiB,SAASzJ,EAAOzyB,GAK1D,IAJA,IAAIszB,EAAQ,GACR6I,EAAc,EACdtH,EAAU,EACVp/C,EAASuqB,EAAMn9C,MAAM,OAChBsP,EAAI,EAAGA,EAAIsjB,EAAO3yB,OAAQqP,IAAK,CAGtC,IAAIiqE,EAAQ3mD,EAAOtjB,GAAGmK,UAAU,GAChC,OAAQmZ,EAAOtjB,GAAGzO,OAAO,IACvB,IAAK,IACH,IACE4vE,EAAM6I,KACF,IAAIvK,EAAiBW,KAAKF,EAAagK,UAAUD,IACrD,MAAOE,GAEP,MAAM,IAAIhmE,MAAM,qCAAuC8lE,GAEzD,MACF,IAAK,IAEL,IAAK,IACH,IAAIx4D,EAAImhB,SAASq3C,EAAO,IACxB,GAAIn3C,MAAMrhB,IAAMA,EAAI,EAClB,MAAM,IAAItN,MAAM,qCAAuC8lE,GAEzD,IAAI/0E,EAAOorE,EAAMn2D,UAAUu4D,EAASA,GAAWjxD,GACpB,KAAvB6R,EAAOtjB,GAAGzO,OAAO,GACnB4vE,EAAM6I,KAAiB,IAAIvK,EAAiBW,KAAKD,EAAYjrE,GAE7DisE,EAAM6I,KAAiB,IAAIvK,EAAiBW,KAAKH,EAAa/qE,GAEhE,MACF,QAGE,GAAIouB,EAAOtjB,GACT,MAAM,IAAImE,MAAM,6CACAmf,EAAOtjB,KAI/B,GAAI0iE,GAAWpC,EAAM3vE,OACnB,MAAM,IAAIwT,MAAM,iBAAmBu+D,EAC/B,wCAA0CpC,EAAM3vE,OAAS,MAE/D,OAAOwwE,GAcT1B,EAAiBntE,UAAU83E,WAAa,SAASl1E,EAAM6qB,EAAS+oD,GAE9D,GAAY,MAAR5zE,GAA2B,MAAX6qB,GAA0B,MAAP+oD,EACrC,MAAM,IAAI3kE,MAAM,4BAIlB,OADA2kE,EAAM53E,KAAKgB,IAAI,EAAGhB,KAAKe,IAAI62E,EAAK5zE,EAAKvE,SACjCuE,GAAQ6qB,EAEH,EACG7qB,EAAKvE,OAGNuE,EAAKiV,UAAU2+D,EAAKA,EAAM/oD,EAAQpvB,SAAWovB,EAE/C+oD,EAGA/2E,KAAKs4E,aAAan1E,EAAM6qB,EAAS+oD,IANhC,GAoBZrJ,EAAiBntE,UAAU+3E,aAAe,SAASn1E,EAAM6qB,EAAS+oD,GAChE,GAAI/oD,EAAQpvB,OAASoB,KAAKiuE,cACxB,MAAM,IAAI77D,MAAM,sCAIlB,IAAImmE,EAAIv4E,KAAKw4E,gBAAgBxqD,GAEzBulD,EAAMvzE,KAUV,SAASy4E,EAAkB7zE,EAAGqJ,GAC5B,IAAIyqE,EAAW9zE,EAAIopB,EAAQpvB,OACvB+5E,EAAYx5E,KAAK+pB,IAAI6tD,EAAM9oE,GAC/B,OAAKslE,EAAIzF,eAIF4K,EAAYC,EAAYpF,EAAIzF,eAF1B6K,EAAY,EAAMD,EAM7B,IAAIE,EAAkB54E,KAAK6tE,gBAEvBgL,EAAW11E,EAAKwB,QAAQqpB,EAAS+oD,IACpB,GAAb8B,IACFD,EAAkBz5E,KAAKe,IAAIu4E,EAAkB,EAAGI,GAAWD,GAE3DC,EAAW11E,EAAK21E,YAAY9qD,EAAS+oD,EAAM/oD,EAAQpvB,SAClC,GAAbi6E,IACFD,EACIz5E,KAAKe,IAAIu4E,EAAkB,EAAGI,GAAWD,KAKjD,IAGIG,EAASC,EAHTC,EAAY,GAAMjrD,EAAQpvB,OAAS,EACvCi6E,GAAY,EAKZ,IAFA,IACIK,EADAC,EAAUnrD,EAAQpvB,OAASuE,EAAKvE,OAE3B64B,EAAI,EAAGA,EAAIzJ,EAAQpvB,OAAQ64B,IAAK,CAIvCshD,EAAU,EACVC,EAAUG,EACV,MAAOJ,EAAUC,EACXP,EAAkBhhD,EAAGs/C,EAAMiC,IAAYJ,EACzCG,EAAUC,EAEVG,EAAUH,EAEZA,EAAU75E,KAAKC,OAAO+5E,EAAUJ,GAAW,EAAIA,GAGjDI,EAAUH,EACV,IAAI1vE,EAAQnK,KAAKgB,IAAI,EAAG42E,EAAMiC,EAAU,GACpCriC,EAASx3C,KAAKe,IAAI62E,EAAMiC,EAAS71E,EAAKvE,QAAUovB,EAAQpvB,OAExDw6E,EAAKpnE,MAAM2kC,EAAS,GACxByiC,EAAGziC,EAAS,IAAM,GAAKlf,GAAK,EAC5B,IAAK,IAAIpT,EAAIsyB,EAAQtyB,GAAK/a,EAAO+a,IAAK,CAGpC,IAAIg1D,EAAYd,EAAEp1E,EAAK3D,OAAO6kB,EAAI,IAQlC,GANE+0D,EAAG/0D,GADK,IAANoT,GACQ2hD,EAAG/0D,EAAI,IAAM,EAAK,GAAKg1D,GAEtBD,EAAG/0D,EAAI,IAAM,EAAK,GAAKg1D,GACvBH,EAAQ70D,EAAI,GAAK60D,EAAQ70D,KAAO,EAAK,EACxC60D,EAAQ70D,EAAI,GAElB+0D,EAAG/0D,GAAK40D,EAAW,CACrB,IAAI73D,EAAQq3D,EAAkBhhD,EAAGpT,EAAI,GAGrC,GAAIjD,GAASw3D,EAAiB,CAI5B,GAFAA,EAAkBx3D,EAClBy3D,EAAWx0D,EAAI,IACXw0D,EAAW9B,GAKb,MAHAztE,EAAQnK,KAAKgB,IAAI,EAAG,EAAI42E,EAAM8B,KAStC,GAAIJ,EAAkBhhD,EAAI,EAAGs/C,GAAO6B,EAClC,MAEFM,EAAUE,EAEZ,OAAOP,GAUTnL,EAAiBntE,UAAUi4E,gBAAkB,SAASxqD,GAEpD,IADA,IAAIuqD,EAAI,GACCx5E,EAAI,EAAGA,EAAIivB,EAAQpvB,OAAQG,IAClCw5E,EAAEvqD,EAAQxuB,OAAOT,IAAM,EAEzB,IAASA,EAAI,EAAGA,EAAIivB,EAAQpvB,OAAQG,IAClCw5E,EAAEvqD,EAAQxuB,OAAOT,KAAO,GAAMivB,EAAQpvB,OAASG,EAAI,EAErD,OAAOw5E,GAcT7K,EAAiBntE,UAAU+4E,kBAAoB,SAASC,EAAOp2E,GAC7D,GAAmB,GAAfA,EAAKvE,OAAT,CAGA,GAAqB,OAAjB26E,EAAMC,OACR,MAAMpnE,MAAM,yBAEd,IAAI4b,EAAU7qB,EAAKiV,UAAUmhE,EAAMC,OAAQD,EAAMC,OAASD,EAAME,SAC5DnuC,EAAU,EAId,MAAOnoC,EAAKwB,QAAQqpB,IAAY7qB,EAAK21E,YAAY9qD,IAC1CA,EAAQpvB,OAASoB,KAAKiuE,cAAgBjuE,KAAKguE,aAC3ChuE,KAAKguE,aACV1iC,GAAWtrC,KAAKguE,aAChBhgD,EAAU7qB,EAAKiV,UAAUmhE,EAAMC,OAASluC,EACfiuC,EAAMC,OAASD,EAAME,QAAUnuC,GAG1DA,GAAWtrC,KAAKguE,aAGhB,IAAI0L,EAASv2E,EAAKiV,UAAUmhE,EAAMC,OAASluC,EAASiuC,EAAMC,QACtDE,GACFH,EAAMnK,MAAMjqD,QAAQ,IAAIuoD,EAAiBW,KAAKD,EAAYsL,IAG5D,IAAIC,EAASx2E,EAAKiV,UAAUmhE,EAAMC,OAASD,EAAME,QACrBF,EAAMC,OAASD,EAAME,QAAUnuC,GACvDquC,GACFJ,EAAMnK,MAAM3iE,KAAK,IAAIihE,EAAiBW,KAAKD,EAAYuL,IAIzDJ,EAAMK,QAAUF,EAAO96E,OACvB26E,EAAMC,QAAUE,EAAO96E,OAEvB26E,EAAME,SAAWC,EAAO96E,OAAS+6E,EAAO/6E,OACxC26E,EAAMM,SAAWH,EAAO96E,OAAS+6E,EAAO/6E,SA0B1C8uE,EAAiBntE,UAAUu5E,WAAa,SAAS17D,EAAG27D,EAAOC,GACzD,IAAIzL,EAAOa,EACX,GAAgB,iBAALhxD,GAAiC,iBAAT27D,GACf,oBAATC,EAGTzL,EAA6B,EAC7Ba,EAAQpvE,KAAKsuE,UAAUC,EAA4B,GAAS,GACxDa,EAAMxwE,OAAS,IACjBoB,KAAK0wE,qBAAqBtB,GAC1BpvE,KAAKy2E,uBAAuBrH,SAEzB,GAAIhxD,GAAiB,iBAALA,GAAiC,oBAAT27D,GAC3B,oBAATC,EAGT5K,EAAsD,EACtDb,EAAQvuE,KAAKw3E,WAAWpI,QACnB,GAAgB,iBAALhxD,GAAiB27D,GAAyB,iBAATA,GAC/B,oBAATC,EAETzL,EAA6B,EAC7Ba,EAAsD,MACjD,IAAgB,iBAALhxD,GAAiC,iBAAT27D,IACtCC,GAAyB,iBAATA,EAMlB,MAAM,IAAI5nE,MAAM,sCAHhBm8D,EAA6B,EAC7Ba,EAAsD,EAKxD,GAAqB,IAAjBA,EAAMxwE,OACR,MAAO,GAYT,IAVA,IAAIq7E,EAAU,GACVV,EAAQ,IAAI7L,EAAiBwM,UAC7BC,EAAkB,EAClBC,EAAc,EACdC,EAAc,EAIdC,EAAgB/L,EAChBgM,EAAiBhM,EACZtgE,EAAI,EAAGA,EAAImhE,EAAMxwE,OAAQqP,IAAK,CACrC,IAAIusE,EAAYpL,EAAMnhE,GAAG,GACrBwsE,EAAYrL,EAAMnhE,GAAG,GAQzB,OANKksE,GAAmBK,IAAcpM,IAEpCmL,EAAMK,OAASQ,EACfb,EAAMC,OAASa,GAGTG,GACN,KAAKrM,EACHoL,EAAMnK,MAAM+K,KAAqB/K,EAAMnhE,GACvCsrE,EAAMM,SAAWY,EAAU77E,OAC3B27E,EAAiBA,EAAeniE,UAAU,EAAGiiE,GAAeI,EAC3CF,EAAeniE,UAAUiiE,GAC1C,MACF,KAAKnM,EACHqL,EAAME,SAAWgB,EAAU77E,OAC3B26E,EAAMnK,MAAM+K,KAAqB/K,EAAMnhE,GACvCssE,EAAiBA,EAAeniE,UAAU,EAAGiiE,GAC5BE,EAAeniE,UAAUiiE,EACrBI,EAAU77E,QAC/B,MACF,KAAKwvE,EACCqM,EAAU77E,QAAU,EAAIoB,KAAKguE,cAC7BmM,GAAmB/K,EAAMxwE,QAAUqP,EAAI,GAEzCsrE,EAAMnK,MAAM+K,KAAqB/K,EAAMnhE,GACvCsrE,EAAME,SAAWgB,EAAU77E,OAC3B26E,EAAMM,SAAWY,EAAU77E,QAClB67E,EAAU77E,QAAU,EAAIoB,KAAKguE,cAElCmM,IACFn6E,KAAKs5E,kBAAkBC,EAAOe,GAC9BL,EAAQxtE,KAAK8sE,GACbA,EAAQ,IAAI7L,EAAiBwM,UAC7BC,EAAkB,EAKlBG,EAAgBC,EAChBH,EAAcC,GAGlB,MAIAG,IAAcrM,IAChBiM,GAAeK,EAAU77E,QAEvB47E,IAActM,IAChBmM,GAAeI,EAAU77E,QAS7B,OALIu7E,IACFn6E,KAAKs5E,kBAAkBC,EAAOe,GAC9BL,EAAQxtE,KAAK8sE,IAGRU,GASTvM,EAAiBntE,UAAUm6E,eAAiB,SAAST,GAGnD,IADA,IAAIU,EAAc,GACT1sE,EAAI,EAAGA,EAAIgsE,EAAQr7E,OAAQqP,IAAK,CACvC,IAAIsrE,EAAQU,EAAQhsE,GAChB2sE,EAAY,IAAIlN,EAAiBwM,UACrCU,EAAUxL,MAAQ,GAClB,IAAK,IAAIlhE,EAAI,EAAGA,EAAIqrE,EAAMnK,MAAMxwE,OAAQsP,IACtC0sE,EAAUxL,MAAMlhE,GACZ,IAAIw/D,EAAiBW,KAAKkL,EAAMnK,MAAMlhE,GAAG,GAAIqrE,EAAMnK,MAAMlhE,GAAG,IAElE0sE,EAAUhB,OAASL,EAAMK,OACzBgB,EAAUpB,OAASD,EAAMC,OACzBoB,EAAUnB,QAAUF,EAAME,QAC1BmB,EAAUf,QAAUN,EAAMM,QAC1Bc,EAAY1sE,GAAK2sE,EAEnB,OAAOD,GAYTjN,EAAiBntE,UAAUs6E,YAAc,SAASZ,EAAS92E,GACzD,GAAsB,GAAlB82E,EAAQr7E,OACV,MAAO,CAACuE,EAAM,IAIhB82E,EAAUj6E,KAAK06E,eAAeT,GAE9B,IAAIa,EAAc96E,KAAK+6E,iBAAiBd,GACxC92E,EAAO23E,EAAc33E,EAAO23E,EAE5B96E,KAAKg7E,eAAef,GAOpB,IAFA,IAAIn+B,EAAQ,EACRm/B,EAAU,GACLhtE,EAAI,EAAGA,EAAIgsE,EAAQr7E,OAAQqP,IAAK,CACvC,IAEIitE,EA4BE1M,EA9BF2M,EAAelB,EAAQhsE,GAAGurE,OAAS19B,EACnCyyB,EAAQvuE,KAAKw3E,WAAWyC,EAAQhsE,GAAGmhE,OAEnCgM,GAAW,EAkBf,GAjBI7M,EAAM3vE,OAASoB,KAAKiuE,eAGtBiN,EAAYl7E,KAAKq4E,WAAWl1E,EAAMorE,EAAMn2D,UAAU,EAAGpY,KAAKiuE,eAC9BkN,IACV,GAAdD,IACFE,EAAUp7E,KAAKq4E,WAAWl1E,EACtBorE,EAAMn2D,UAAUm2D,EAAM3vE,OAASoB,KAAKiuE,eACpCkN,EAAe5M,EAAM3vE,OAASoB,KAAKiuE,iBACvB,GAAZmN,GAAiBF,GAAaE,KAEhCF,GAAa,KAIjBA,EAAYl7E,KAAKq4E,WAAWl1E,EAAMorE,EAAO4M,IAEzB,GAAdD,EAEFD,EAAQhtE,IAAK,EAEb6tC,GAASm+B,EAAQhsE,GAAG4rE,QAAUI,EAAQhsE,GAAGwrE,aAWzC,GARAwB,EAAQhtE,IAAK,EACb6tC,EAAQo/B,EAAYC,EAGlB3M,GADc,GAAZ4M,EACMj4E,EAAKiV,UAAU8iE,EAAWA,EAAY3M,EAAM3vE,QAE5CuE,EAAKiV,UAAU8iE,EAAWE,EAAUp7E,KAAKiuE,eAE/CM,GAASC,EAEXrrE,EAAOA,EAAKiV,UAAU,EAAG8iE,GAClBl7E,KAAKy3E,WAAWwC,EAAQhsE,GAAGmhE,OAC3BjsE,EAAKiV,UAAU8iE,EAAY3M,EAAM3vE,YACnC,CAGL,IAAIwwE,EAAQpvE,KAAKsuE,UAAUC,EAAOC,GAAO,GACzC,GAAID,EAAM3vE,OAASoB,KAAKiuE,eACpBjuE,KAAK03E,iBAAiBtI,GAASb,EAAM3vE,OACrCoB,KAAK+tE,sBAEPkN,EAAQhtE,IAAK,MACR,CACLjO,KAAKy0E,6BAA6BrF,GAGlC,IAFA,IACIiM,EADAC,EAAS,EAEJptE,EAAI,EAAGA,EAAI+rE,EAAQhsE,GAAGmhE,MAAMxwE,OAAQsP,IAAK,CAChD,IAAIjN,EAAMg5E,EAAQhsE,GAAGmhE,MAAMlhE,GACvBjN,EAAI,KAAOmtE,IACbiN,EAASr7E,KAAK82E,YAAY1H,EAAOkM,IAE/Br6E,EAAI,KAAOktE,EACbhrE,EAAOA,EAAKiV,UAAU,EAAG8iE,EAAYG,GAAUp6E,EAAI,GAC5CkC,EAAKiV,UAAU8iE,EAAYG,GACzBp6E,EAAI,KAAOitE,IACpB/qE,EAAOA,EAAKiV,UAAU,EAAG8iE,EAAYG,GAC9Bl4E,EAAKiV,UAAU8iE,EAAYl7E,KAAK82E,YAAY1H,EACxCkM,EAASr6E,EAAI,GAAGrC,UAEzBqC,EAAI,KAAOitE,IACboN,GAAUr6E,EAAI,GAAGrC,WAS7B,OADAuE,EAAOA,EAAKiV,UAAU0iE,EAAYl8E,OAAQuE,EAAKvE,OAASk8E,EAAYl8E,QAC7D,CAACuE,EAAM83E,IAUhBvN,EAAiBntE,UAAUw6E,iBAAmB,SAASd,GAGrD,IAFA,IAAIsB,EAAgBv7E,KAAKguE,aACrB8M,EAAc,GACT7sE,EAAI,EAAGA,GAAKstE,EAAettE,IAClC6sE,GAAeviE,OAAOC,aAAavK,GAIrC,IAASA,EAAI,EAAGA,EAAIgsE,EAAQr7E,OAAQqP,IAClCgsE,EAAQhsE,GAAG2rE,QAAU2B,EACrBtB,EAAQhsE,GAAGurE,QAAU+B,EAIvB,IAAIhC,EAAQU,EAAQ,GAChB7K,EAAQmK,EAAMnK,MAClB,GAAoB,GAAhBA,EAAMxwE,QAAewwE,EAAM,GAAG,IAAMhB,EAEtCgB,EAAMjqD,QAAQ,IAAIuoD,EAAiBW,KAAKD,EAAY0M,IACpDvB,EAAMK,QAAU2B,EAChBhC,EAAMC,QAAU+B,EAChBhC,EAAME,SAAW8B,EACjBhC,EAAMM,SAAW0B,OACZ,GAAIA,EAAgBnM,EAAM,GAAG,GAAGxwE,OAAQ,CAE7C,IAAI48E,EAAcD,EAAgBnM,EAAM,GAAG,GAAGxwE,OAC9CwwE,EAAM,GAAG,GAAK0L,EAAY1iE,UAAUg3D,EAAM,GAAG,GAAGxwE,QAAUwwE,EAAM,GAAG,GACnEmK,EAAMK,QAAU4B,EAChBjC,EAAMC,QAAUgC,EAChBjC,EAAME,SAAW+B,EACjBjC,EAAMM,SAAW2B,EAMnB,GAFAjC,EAAQU,EAAQA,EAAQr7E,OAAS,GACjCwwE,EAAQmK,EAAMnK,MACM,GAAhBA,EAAMxwE,QAAewwE,EAAMA,EAAMxwE,OAAS,GAAG,IAAMwvE,EAErDgB,EAAM3iE,KAAK,IAAIihE,EAAiBW,KAAKD,EAAY0M,IACjDvB,EAAME,SAAW8B,EACjBhC,EAAMM,SAAW0B,OACZ,GAAIA,EAAgBnM,EAAMA,EAAMxwE,OAAS,GAAG,GAAGA,OAAQ,CAExD48E,EAAcD,EAAgBnM,EAAMA,EAAMxwE,OAAS,GAAG,GAAGA,OAC7DwwE,EAAMA,EAAMxwE,OAAS,GAAG,IAAMk8E,EAAY1iE,UAAU,EAAGojE,GACvDjC,EAAME,SAAW+B,EACjBjC,EAAMM,SAAW2B,EAGnB,OAAOV,GAUTpN,EAAiBntE,UAAUy6E,eAAiB,SAASf,GAEnD,IADA,IAAIwB,EAAaz7E,KAAKiuE,cACbhgE,EAAI,EAAGA,EAAIgsE,EAAQr7E,OAAQqP,IAClC,KAAIgsE,EAAQhsE,GAAGwrE,SAAWgC,GAA1B,CAGA,IAAIC,EAAWzB,EAAQhsE,GAEvBgsE,EAAQx/D,OAAOxM,IAAK,GACpB,IAAI2rE,EAAS8B,EAAS9B,OAClBJ,EAASkC,EAASlC,OAClBmC,EAAa,GACjB,MAAiC,IAA1BD,EAAStM,MAAMxwE,OAAc,CAElC,IAAI26E,EAAQ,IAAI7L,EAAiBwM,UAC7BxuE,GAAQ,EACZ6tE,EAAMK,OAASA,EAAS+B,EAAW/8E,OACnC26E,EAAMC,OAASA,EAASmC,EAAW/8E,OAChB,KAAf+8E,IACFpC,EAAME,QAAUF,EAAMM,QAAU8B,EAAW/8E,OAC3C26E,EAAMnK,MAAM3iE,KAAK,IAAIihE,EAAiBW,KAAKD,EAAYuN,KAEzD,MAAiC,IAA1BD,EAAStM,MAAMxwE,QACf26E,EAAME,QAAUgC,EAAaz7E,KAAKguE,aAAc,CACrD,IAAIwM,EAAYkB,EAAStM,MAAM,GAAG,GAC9BqL,EAAYiB,EAAStM,MAAM,GAAG,GAC9BoL,IAAcrM,GAEhBoL,EAAMM,SAAWY,EAAU77E,OAC3B46E,GAAUiB,EAAU77E,OACpB26E,EAAMnK,MAAM3iE,KAAKivE,EAAStM,MAAMhhC,SAChC1iC,GAAQ,GACC8uE,IAActM,GAAqC,GAAtBqL,EAAMnK,MAAMxwE,QACzC26E,EAAMnK,MAAM,GAAG,IAAMhB,GACrBqM,EAAU77E,OAAS,EAAI68E,GAEhClC,EAAME,SAAWgB,EAAU77E,OAC3Bg7E,GAAUa,EAAU77E,OACpB8M,GAAQ,EACR6tE,EAAMnK,MAAM3iE,KAAK,IAAIihE,EAAiBW,KAAKmM,EAAWC,IACtDiB,EAAStM,MAAMhhC,UAGfqsC,EAAYA,EAAUriE,UAAU,EAC5BqjE,EAAalC,EAAME,QAAUz5E,KAAKguE,cACtCuL,EAAME,SAAWgB,EAAU77E,OAC3Bg7E,GAAUa,EAAU77E,OAChB47E,IAAcpM,GAChBmL,EAAMM,SAAWY,EAAU77E,OAC3B46E,GAAUiB,EAAU77E,QAEpB8M,GAAQ,EAEV6tE,EAAMnK,MAAM3iE,KAAK,IAAIihE,EAAiBW,KAAKmM,EAAWC,IAClDA,GAAaiB,EAAStM,MAAM,GAAG,GACjCsM,EAAStM,MAAMhhC,QAEfstC,EAAStM,MAAM,GAAG,GACdsM,EAAStM,MAAM,GAAG,GAAGh3D,UAAUqiE,EAAU77E,SAKnD+8E,EAAa37E,KAAKy3E,WAAW8B,EAAMnK,OACnCuM,EACIA,EAAWvjE,UAAUujE,EAAW/8E,OAASoB,KAAKguE,cAElD,IAAI4N,EAAc57E,KAAKw3E,WAAWkE,EAAStM,OACpBh3D,UAAU,EAAGpY,KAAKguE,cACrB,KAAhB4N,IACFrC,EAAME,SAAWmC,EAAYh9E,OAC7B26E,EAAMM,SAAW+B,EAAYh9E,OACF,IAAvB26E,EAAMnK,MAAMxwE,QACZ26E,EAAMnK,MAAMmK,EAAMnK,MAAMxwE,OAAS,GAAG,KAAOwvE,EAC7CmL,EAAMnK,MAAMmK,EAAMnK,MAAMxwE,OAAS,GAAG,IAAMg9E,EAE1CrC,EAAMnK,MAAM3iE,KAAK,IAAIihE,EAAiBW,KAAKD,EAAYwN,KAGtDlwE,GACHuuE,EAAQx/D,SAASxM,EAAG,EAAGsrE,MAY/B7L,EAAiBntE,UAAUs7E,aAAe,SAAS5B,GAEjD,IADA,IAAI92E,EAAO,GACF8K,EAAI,EAAGA,EAAIgsE,EAAQr7E,OAAQqP,IAClC9K,EAAK8K,GAAKgsE,EAAQhsE,GAEpB,OAAO9K,EAAK8P,KAAK,KAUnBy6D,EAAiBntE,UAAUu7E,eAAiB,SAASC,GACnD,IAAI9B,EAAU,GACd,IAAK8B,EACH,OAAO9B,EAET,IAAI92E,EAAO44E,EAASp9E,MAAM,MACtBq9E,EAAc,EACdC,EAAc,uCAClB,MAAOD,EAAc74E,EAAKvE,OAAQ,CAChC,IAAImc,EAAI5X,EAAK64E,GAAaj6E,MAAMk6E,GAChC,IAAKlhE,EACH,MAAM,IAAI3I,MAAM,yBAA2BjP,EAAK64E,IAElD,IAAIzC,EAAQ,IAAI7L,EAAiBwM,UACjCD,EAAQxtE,KAAK8sE,GACbA,EAAMK,OAAS/4C,SAAS9lB,EAAE,GAAI,IACjB,KAATA,EAAE,IACJw+D,EAAMK,SACNL,EAAME,QAAU,GACC,KAAR1+D,EAAE,GACXw+D,EAAME,QAAU,GAEhBF,EAAMK,SACNL,EAAME,QAAU54C,SAAS9lB,EAAE,GAAI,KAGjCw+D,EAAMC,OAAS34C,SAAS9lB,EAAE,GAAI,IACjB,KAATA,EAAE,IACJw+D,EAAMC,SACND,EAAMM,QAAU,GACC,KAAR9+D,EAAE,GACXw+D,EAAMM,QAAU,GAEhBN,EAAMC,SACND,EAAMM,QAAUh5C,SAAS9lB,EAAE,GAAI,KAEjCihE,IAEA,MAAOA,EAAc74E,EAAKvE,OAAQ,CAChC,IAAIs9E,EAAO/4E,EAAK64E,GAAax8E,OAAO,GACpC,IACE,IAAI8G,EAAO6xE,UAAUh1E,EAAK64E,GAAa5jE,UAAU,IACjD,MAAOggE,GAEP,MAAM,IAAIhmE,MAAM,qCAAuC9L,GAEzD,GAAY,KAAR41E,EAEF3C,EAAMnK,MAAM3iE,KAAK,IAAIihE,EAAiBW,KAAKH,EAAa5nE,SACnD,GAAY,KAAR41E,EAET3C,EAAMnK,MAAM3iE,KAAK,IAAIihE,EAAiBW,KAAKF,EAAa7nE,SACnD,GAAY,KAAR41E,EAET3C,EAAMnK,MAAM3iE,KAAK,IAAIihE,EAAiBW,KAAKD,EAAY9nE,QAClD,IAAY,KAAR41E,EAET,MACK,GAAa,KAATA,EAIT,MAAM,IAAI9pE,MAAM,uBAAyB8pE,EAAO,SAAW51E,GAE7D01E,KAGJ,OAAO/B,GAQTvM,EAAiBwM,UAAY,WAE3Bl6E,KAAKovE,MAAQ,GAEbpvE,KAAK45E,OAAS,KAEd55E,KAAKw5E,OAAS,KAEdx5E,KAAKy5E,QAAU,EAEfz5E,KAAK65E,QAAU,GAUjBnM,EAAiBwM,UAAU35E,UAAUiW,SAAW,WAC9C,IAAI2lE,EAASC,EAEXD,EADmB,IAAjBn8E,KAAKy5E,QACGz5E,KAAK45E,OAAS,KACC,GAAhB55E,KAAKy5E,QACJz5E,KAAK45E,OAAS,EAEb55E,KAAK45E,OAAS,EAAK,IAAM55E,KAAKy5E,QAGzC2C,EADmB,IAAjBp8E,KAAK65E,QACG75E,KAAKw5E,OAAS,KACC,GAAhBx5E,KAAK65E,QACJ75E,KAAKw5E,OAAS,EAEbx5E,KAAKw5E,OAAS,EAAK,IAAMx5E,KAAK65E,QAK3C,IAHA,IACI9mD,EADA5vB,EAAO,CAAC,OAASg5E,EAAU,KAAOC,EAAU,SAGvCnuE,EAAI,EAAGA,EAAIjO,KAAKovE,MAAMxwE,OAAQqP,IAAK,CAC1C,OAAQjO,KAAKovE,MAAMnhE,GAAG,IACpB,KAAKkgE,EACHp7C,EAAK,IACL,MACF,KAAKm7C,EACHn7C,EAAK,IACL,MACF,KAAKq7C,EACHr7C,EAAK,IACL,MAEJ5vB,EAAK8K,EAAI,GAAK8kB,EAAKglD,UAAU/3E,KAAKovE,MAAMnhE,GAAG,IAAM,KAEnD,OAAO9K,EAAK8P,KAAK,IAAI1R,QAAQ,OAAQ,MAKvC3B,EAAOC,QAAU6tE,EACjB9tE,EAAOC,QAAQ,oBAAsB6tE,EACrC9tE,EAAOC,QAAQ,eAAiBquE,EAChCtuE,EAAOC,QAAQ,eAAiBsuE,EAChCvuE,EAAOC,QAAQ,cAAgBuuE,G,kCCxqE/B,IAAIhB,EAAiB,EAAQ,QAAuCnpE,EAChEgS,EAAS,EAAQ,QACjBomE,EAAc,EAAQ,QACtB1sE,EAAO,EAAQ,QACf2sE,EAAa,EAAQ,QACrBC,EAAU,EAAQ,QAClBC,EAAiB,EAAQ,QACzBC,EAAa,EAAQ,QACrBC,EAAc,EAAQ,QACtBC,EAAU,EAAQ,QAAkCA,QACpDC,EAAsB,EAAQ,QAE9BC,EAAmBD,EAAoBx8D,IACvC08D,EAAyBF,EAAoBG,UAEjDn9E,EAAOC,QAAU,CACfm9E,eAAgB,SAAUt2E,EAASu2E,EAAkBC,EAAQC,GAC3D,IAAI7P,EAAc5mE,GAAQ,SAAU02E,EAAMC,GACxCf,EAAWc,EAAME,GACjBT,EAAiBO,EAAM,CACrBx0E,KAAMq0E,EACN/6E,MAAO+T,EAAO,MACdkV,WAAOvR,EACPqT,UAAMrT,EACNwR,KAAM,IAEHsxD,IAAaU,EAAKhyD,KAAO,QACdxR,GAAZyjE,GAAuBd,EAAQc,EAAUD,EAAKD,GAAQ,CAAEC,KAAMA,EAAMG,WAAYL,OAGlFI,EAAYhQ,EAAY/sE,UAExBi9E,EAAmBV,EAAuBG,GAE1CQ,EAAS,SAAUL,EAAM/0E,EAAK7E,GAChC,IAEIk6E,EAAUx7E,EAFVS,EAAQ66E,EAAiBJ,GACzBO,EAAQC,EAASR,EAAM/0E,GAqBzB,OAlBEs1E,EACFA,EAAMn6E,MAAQA,GAGdb,EAAMsqB,KAAO0wD,EAAQ,CACnBz7E,MAAOA,EAAQy6E,EAAQt0E,GAAK,GAC5BA,IAAKA,EACL7E,MAAOA,EACPk6E,SAAUA,EAAW/6E,EAAMsqB,KAC3B9f,UAAMyM,EACN0rC,SAAS,GAEN3iD,EAAMwoB,QAAOxoB,EAAMwoB,MAAQwyD,GAC5BD,IAAUA,EAASvwE,KAAOwwE,GAC1BjB,EAAa/5E,EAAMyoB,OAClBgyD,EAAKhyD,OAEI,MAAVlpB,IAAeS,EAAMT,MAAMA,GAASy7E,IACjCP,GAGPQ,EAAW,SAAUR,EAAM/0E,GAC7B,IAGIs1E,EAHAh7E,EAAQ66E,EAAiBJ,GAEzBl7E,EAAQy6E,EAAQt0E,GAEpB,GAAc,MAAVnG,EAAe,OAAOS,EAAMT,MAAMA,GAEtC,IAAKy7E,EAAQh7E,EAAMwoB,MAAOwyD,EAAOA,EAAQA,EAAMxwE,KAC7C,GAAIwwE,EAAMt1E,KAAOA,EAAK,OAAOs1E,GAwFjC,OApFAtB,EAAYiB,EAAW,CAIrBl4E,MAAO,WACL,IAAIg4E,EAAOp9E,KACP2C,EAAQ66E,EAAiBJ,GACzBrtE,EAAOpN,EAAMT,MACby7E,EAAQh7E,EAAMwoB,MAClB,MAAOwyD,EACLA,EAAMr4B,SAAU,EACZq4B,EAAMD,WAAUC,EAAMD,SAAWC,EAAMD,SAASvwE,UAAOyM,UACpD7J,EAAK4tE,EAAMz7E,OAClBy7E,EAAQA,EAAMxwE,KAEhBxK,EAAMwoB,MAAQxoB,EAAMsqB,UAAOrT,EACvB8iE,EAAa/5E,EAAMyoB,KAAO,EACzBgyD,EAAKhyD,KAAO,GAKnB,OAAU,SAAU/iB,GAClB,IAAI+0E,EAAOp9E,KACP2C,EAAQ66E,EAAiBJ,GACzBO,EAAQC,EAASR,EAAM/0E,GAC3B,GAAIs1E,EAAO,CACT,IAAIxwE,EAAOwwE,EAAMxwE,KACb1O,EAAOk/E,EAAMD,gBACV/6E,EAAMT,MAAMy7E,EAAMz7E,OACzBy7E,EAAMr4B,SAAU,EACZ7mD,IAAMA,EAAK0O,KAAOA,GAClBA,IAAMA,EAAKuwE,SAAWj/E,GACtBkE,EAAMwoB,OAASwyD,IAAOh7E,EAAMwoB,MAAQhe,GACpCxK,EAAMsqB,MAAQ0wD,IAAOh7E,EAAMsqB,KAAOxuB,GAClCi+E,EAAa/5E,EAAMyoB,OAClBgyD,EAAKhyD,OACV,QAASuyD,GAKbvnE,QAAS,SAAiBynE,GACxB,IAEIF,EAFAh7E,EAAQ66E,EAAiBx9E,MACzB89E,EAAgBnuE,EAAKkuE,EAAYv1E,UAAU1J,OAAS,EAAI0J,UAAU,QAAKsR,GAE3E,MAAO+jE,EAAQA,EAAQA,EAAMxwE,KAAOxK,EAAMwoB,MAAO,CAC/C2yD,EAAcH,EAAMn6E,MAAOm6E,EAAMt1E,IAAKrI,MAEtC,MAAO29E,GAASA,EAAMr4B,QAASq4B,EAAQA,EAAMD,WAMjDvqD,IAAK,SAAa9qB,GAChB,QAASu1E,EAAS59E,KAAMqI,MAI5Bg0E,EAAYiB,EAAWJ,EAAS,CAG9B92C,IAAK,SAAa/9B,GAChB,IAAIs1E,EAAQC,EAAS59E,KAAMqI,GAC3B,OAAOs1E,GAASA,EAAMn6E,OAIxB4c,IAAK,SAAa/X,EAAK7E,GACrB,OAAOi6E,EAAOz9E,KAAc,IAARqI,EAAY,EAAIA,EAAK7E,KAEzC,CAGF4vB,IAAK,SAAa5vB,GAChB,OAAOi6E,EAAOz9E,KAAMwD,EAAkB,IAAVA,EAAc,EAAIA,EAAOA,MAGrDk5E,GAAatP,EAAekQ,EAAW,OAAQ,CACjDl3C,IAAK,WACH,OAAOo3C,EAAiBx9E,MAAMorB,QAG3BkiD,GAETyQ,UAAW,SAAUzQ,EAAa2P,EAAkBC,GAClD,IAAIc,EAAgBf,EAAmB,YACnCgB,EAA6BnB,EAAuBG,GACpDiB,EAA2BpB,EAAuBkB,GAUtDxB,EAAelP,EAAa2P,GAAkB,SAAUkB,EAAUC,GAChEvB,EAAiB78E,KAAM,CACrB4I,KAAMo1E,EACNloE,OAAQqoE,EACRx7E,MAAOs7E,EAA2BE,GAClCC,KAAMA,EACNnxD,UAAMrT,OAEP,WACD,IAAIjX,EAAQu7E,EAAyBl+E,MACjCo+E,EAAOz7E,EAAMy7E,KACbT,EAAQh7E,EAAMsqB,KAElB,MAAO0wD,GAASA,EAAMr4B,QAASq4B,EAAQA,EAAMD,SAE7C,OAAK/6E,EAAMmT,SAAYnT,EAAMsqB,KAAO0wD,EAAQA,EAAQA,EAAMxwE,KAAOxK,EAAMA,MAAMwoB,OAMjE,QAARizD,EAAuB,CAAE56E,MAAOm6E,EAAMt1E,IAAKu3C,MAAM,GACzC,UAARw+B,EAAyB,CAAE56E,MAAOm6E,EAAMn6E,MAAOo8C,MAAM,GAClD,CAAEp8C,MAAO,CAACm6E,EAAMt1E,IAAKs1E,EAAMn6E,OAAQo8C,MAAM,IAN9Cj9C,EAAMmT,YAAS8D,EACR,CAAEpW,WAAOoW,EAAWgmC,MAAM,MAMlCs9B,EAAS,UAAY,UAAWA,GAAQ,GAK3CT,EAAWQ,M,oCCxMf,IAAIpnE,EAAI,EAAQ,QACZrU,EAAS,EAAQ,QACjB68E,EAAc,EAAQ,QACtBC,EAAW,EAAQ,QACnBC,EAAW,EAAQ,QACnBC,EAAyB,EAAQ,QACjCjC,EAAU,EAAQ,QAClBD,EAAa,EAAQ,QACrBmC,EAAa,EAAQ,QACrBC,EAAW,EAAQ,QACnBC,EAAQ,EAAQ,QAChBC,EAA8B,EAAQ,QACtCC,EAAiB,EAAQ,QACzBC,EAAoB,EAAQ,QAEhCl/E,EAAOC,QAAU,SAAUo9E,EAAkBv2E,EAASq4E,GACpD,IAAI7B,GAA8C,IAArCD,EAAiBt4E,QAAQ,OAClCq6E,GAAgD,IAAtC/B,EAAiBt4E,QAAQ,QACnCw4E,EAAQD,EAAS,MAAQ,MACzB+B,EAAoBz9E,EAAOy7E,GAC3BiC,EAAkBD,GAAqBA,EAAkB1+E,UACzD+sE,EAAc2R,EACdE,EAAW,GAEXC,EAAY,SAAUC,GACxB,IAAIC,EAAwBjB,EAAYa,EAAgBG,IACxDd,EAASW,EAAiBG,EACjB,OAAPA,EAAe,SAAa77E,GAE1B,OADA87E,EAAsBt/E,KAAgB,IAAVwD,EAAc,EAAIA,GACvCxD,MACE,UAAPq/E,EAAkB,SAAUh3E,GAC9B,QAAO22E,IAAYN,EAASr2E,KAAei3E,EAAsBt/E,KAAc,IAARqI,EAAY,EAAIA,IAC9E,OAAPg3E,EAAe,SAAah3E,GAC9B,OAAO22E,IAAYN,EAASr2E,QAAOuR,EAAY0lE,EAAsBt/E,KAAc,IAARqI,EAAY,EAAIA,IAClF,OAAPg3E,EAAe,SAAah3E,GAC9B,QAAO22E,IAAYN,EAASr2E,KAAei3E,EAAsBt/E,KAAc,IAARqI,EAAY,EAAIA,IACrF,SAAaA,EAAK7E,GAEpB,OADA87E,EAAsBt/E,KAAc,IAARqI,EAAY,EAAIA,EAAK7E,GAC1CxD,QAKTu/E,EAAUjB,EACZrB,GACCwB,EAAWQ,MAAwBD,GAAWE,EAAgB9oE,UAAYuoE,GAAM,YAC/E,IAAIM,GAAoBO,UAAUryE,YAItC,GAAIoyE,EAEFjS,EAAcyR,EAAO/B,eAAet2E,EAASu2E,EAAkBC,EAAQC,GACvEqB,EAAuBiB,cAClB,GAAInB,EAASrB,GAAkB,GAAO,CAC3C,IAAIyC,EAAW,IAAIpS,EAEfqS,EAAiBD,EAASvC,GAAO6B,EAAU,IAAM,EAAG,IAAMU,EAE1DE,EAAuBjB,GAAM,WAAce,EAASvsD,IAAI,MAGxD0sD,EAAmBjB,GAA4B,SAAUvB,GAAY,IAAI4B,EAAkB5B,MAE3FyC,GAAcd,GAAWL,GAAM,WAEjC,IAAIoB,EAAY,IAAId,EAChB/8E,EAAQ,EACZ,MAAOA,IAAS69E,EAAU5C,GAAOj7E,EAAOA,GACxC,OAAQ69E,EAAU5sD,KAAK,MAGpB0sD,IACHvS,EAAc5mE,GAAQ,SAAUs5E,EAAO3C,GACrCf,EAAW0D,EAAOd,GAClB,IAAI9B,EAAO0B,EAAkB,IAAIG,EAAqBe,EAAO1S,GAE7D,YADgB1zD,GAAZyjE,GAAuBd,EAAQc,EAAUD,EAAKD,GAAQ,CAAEC,KAAMA,EAAMG,WAAYL,IAC7EE,KAET9P,EAAY/sE,UAAY2+E,EACxBA,EAAgB91B,YAAckkB,IAG5BsS,GAAwBE,KAC1BV,EAAU,UACVA,EAAU,OACVlC,GAAUkC,EAAU,SAGlBU,GAAcH,IAAgBP,EAAUjC,GAGxC6B,GAAWE,EAAgB95E,cAAc85E,EAAgB95E,MAU/D,OAPA+5E,EAASlC,GAAoB3P,EAC7Bz3D,EAAE,CAAErU,QAAQ,EAAMy+E,OAAQ3S,GAAe2R,GAAqBE,GAE9DN,EAAevR,EAAa2P,GAEvB+B,GAASD,EAAOhB,UAAUzQ,EAAa2P,EAAkBC,GAEvD5P,I,+CCpGT,SAAUrsE,GAENA,EAAI,EAAQ,UAFhB,EAOG,SAASC,GACV,aAEA,IAAIg/E,EAAY,GACZC,EAAQ,cACR14E,EAAMvG,EAAWuG,IAAKilB,EAAMxrB,EAAW6L,OAE3C,SAAS8qD,EAAWv4D,GAClB,IAAIojB,EAAQpjB,EAAIsD,OAAOu9E,GACvB,OAAiB,GAAVz9D,EAAc,EAAIA,EA4B3B,SAAS09D,EAAqB19E,EAAIZ,EAAKwE,GACrC,MAAO,aAAazB,KAAKnC,EAAG0K,eAAe3F,EAAI3F,EAAIwE,KAAM,OAAS,YAAYzB,KAAKyB,GAGrF,SAASqjB,EAAQjnB,EAAIZ,GACnB,IAAIuJ,EAAO3I,EAAGinB,UACd,OAAiC,IAA1Bte,EAAKg1E,kBAA+Bh1E,EAAKkf,UAAmB7nB,EAAG4I,UAAUxJ,GAApBuJ,EA/B9DnK,EAAWuI,SAAS62E,cAAgB,SAAS59E,GAC3CA,EAAG49E,iBAGLp/E,EAAWgT,gBAAgB,iBAAiB,SAASpQ,GAC9CA,IAASA,EAAUo8E,GAGxB,IAFA,IAAIx9E,EAAK1C,KACLugF,EAAUrlD,IAAU1vB,EAASxL,KAAKyL,iBAAkBJ,EAAO,KACtDtM,EAAIyM,EAAO5M,OAAS,EAAGG,GAAK,EAAGA,IAAK,CAC3C,IAAI8I,EAAO2D,EAAOzM,GAAG8I,OAAQxB,EAAKmF,EAAOzM,GAAGsH,KACxCwB,EAAKvB,MAAQi6E,IACbl6E,EAAGC,MAAQi6E,IAASl6E,EAAKoB,EAAI84E,EAAS,IAC1CA,EAAU14E,EAAKvB,KACH,MAAR+E,EACE3I,EAAG89E,UAAU34E,EAAMxB,EAAIvC,GAAUuH,EAAO,MACrC3I,EAAG+9E,YAAY54E,EAAMxB,EAAIvC,GAAUuH,EAAO,QAChC,MAARA,EACT3I,EAAG89E,UAAU34E,EAAMxB,EAAIvC,GAEvBpB,EAAG+9E,YAAY54E,EAAMxB,EAAIvC,QAe/B5C,EAAWgT,gBAAgB,eAAe,SAASrM,EAAMxB,EAAIvC,GACtDA,IAASA,EAAUo8E,GACxB,IAAI5sE,EAAOtT,KAAMqL,EAAOse,EAAQrW,EAAMzL,GAClCF,EAAY2L,EAAK2X,QAAQpjB,EAAKvB,MAClC,GAAiB,MAAbqB,IAAqBy4E,EAAqB9sE,EAAMzL,EAAMF,GAA1D,CAEA,IAAI+4E,EAAgB58E,EAAQ28E,aAAep1E,EAAKo1E,YAChD,GAAKC,EAAL,CAQA,IAAI3tE,EAAM5T,KAAKe,IAAa,GAATmG,EAAG7B,IAAW6B,EAAGC,MAAQuB,EAAKvB,KAAOD,EAAGC,KAAO,EAAID,EAAGC,KAAMgN,EAAK5L,WAAa,GAC7Fi5E,EAAyB,MAAnB78E,EAAQwnC,QAAkB,IAAMxnC,EAAQwnC,QAC9Cs1C,EAAa98E,EAAQ+8E,mBAAqBh5E,EAAKvB,MAAQD,EAAGC,KAE9DgN,EAAKjM,WAAU,WACb,GAAIvD,EAAQm8D,OAAQ,CAElB,IADA,IAAI6gB,EAAa,KACR/hF,EAAI8I,EAAKvB,KAAMvH,EAAIgU,IAAOhU,EAAG,CACpC,IAAIuH,EAAOgN,EAAK2X,QAAQlsB,GACpBgiF,EAAaz6E,EAAKsH,MAAM,EAAGiqD,EAAWvxD,KACxB,MAAdw6E,GAAsBA,EAAWliF,OAASmiF,EAAWniF,UACvDkiF,EAAaC,GAGjB,IAAShiF,EAAI8I,EAAKvB,KAAMvH,EAAIgU,IAAOhU,EAAG,CAChCuH,EAAOgN,EAAK2X,QAAQlsB,GAAxB,IAA4B2qC,EAAMo3C,EAAWliF,QACxCgiF,GAAeT,EAAMt7E,KAAKyB,MAC3BA,EAAKsH,MAAM,EAAG87B,IAAQo3C,IAAYp3C,EAAMmuB,EAAWvxD,IACvDgN,EAAKvH,aAAa+0E,EAAaJ,EAAgBC,EAAKl5E,EAAI1I,EAAG,GAAI0I,EAAI1I,EAAG2qC,WAGxE,IAAS3qC,EAAI8I,EAAKvB,KAAMvH,EAAIgU,IAAOhU,GAC7B6hF,GAAcT,EAAMt7E,KAAKyO,EAAK2X,QAAQlsB,MACxCuU,EAAKvH,aAAa20E,EAAgBC,EAAKl5E,EAAI1I,EAAG,YA9BhD+E,EAAQk9E,mBAAqB31E,EAAK21E,qBACpCl9E,EAAQm9E,WAAY,EACpB3tE,EAAK4tE,aAAar5E,EAAMxB,EAAIvC,QAkClC5C,EAAWgT,gBAAgB,gBAAgB,SAASrM,EAAMxB,EAAIvC,GACvDA,IAASA,EAAUo8E,GACxB,IAAI5sE,EAAOtT,KAAMqL,EAAOse,EAAQrW,EAAMzL,GAClCs5E,EAAcr9E,EAAQk9E,mBAAqB31E,EAAK21E,kBAChDI,EAAYt9E,EAAQu9E,iBAAmBh2E,EAAKg2E,gBAChD,GAAKF,GAAgBC,GAKrB,IAAI,cAAcv8E,KAAKyO,EAAKlG,eAAe3F,EAAII,EAAKvB,KAAM,KAA1D,CAEA,IAAIyM,EAAM5T,KAAKe,IAAImG,EAAGC,KAAMgN,EAAK5L,YAC7BqL,GAAOlL,EAAKvB,MAAiB,GAATD,EAAG7B,IAAW27E,EAAMt7E,KAAKyO,EAAK2X,QAAQlY,OAASA,EAEvE,IAAI4tE,EAAyB,MAAnB78E,EAAQwnC,QAAkB,IAAMxnC,EAAQwnC,QAC9CzjC,EAAKvB,KAAOyM,GAEhBO,EAAKjM,WAAU,WACb,GAAyB,GAArBvD,EAAQm9E,UAAoB,CAC9B,IAAIK,EAAkBnB,EAAMt7E,KAAKyO,EAAK2X,QAAQlY,IAC9CO,EAAKvH,aAAa40E,EAAMS,EAAW35E,EAAIsL,IACvCO,EAAKvH,aAAao1E,EAAcR,EAAKl5E,EAAII,EAAKvB,KAAM,IACpD,IAAIi7E,EAAOz9E,EAAQ09E,kBAAoBn2E,EAAKm2E,iBAC5C,GAAY,MAARD,EAAc,IAAK,IAAIxiF,EAAI8I,EAAKvB,KAAO,EAAGvH,GAAKgU,IAAOhU,GACpDA,GAAKgU,GAAOuuE,IACdhuE,EAAKvH,aAAaw1E,EAAOZ,EAAKl5E,EAAI1I,EAAG,QACpC,CACL,IAAI0iF,EAA4C,GAAjC/0D,EAAIpZ,EAAKtN,UAAU,MAAOK,GAAUqF,GAAS4H,EAAK0pC,oBACjE1pC,EAAKvH,aAAaq1E,EAAW/6E,GACzBo7E,GAAUnuE,EAAK1L,aAAa8D,EAAQrF,EAAKiN,EAAKtN,UAAU,QAASK,GACrEiN,EAAKvH,aAAao1E,EAAat5E,aAzB5B/D,EAAQ28E,aAAep1E,EAAKo1E,cAAqC,GAArB38E,EAAQm9E,WACvD3tE,EAAKmtE,YAAY54E,EAAMxB,EAAIvC,MA6BjC5C,EAAWgT,gBAAgB,aAAa,SAASrM,EAAMxB,EAAIvC,GACpDA,IAASA,EAAUo8E,GACxB,IAK2DwB,EALvDpuE,EAAOtT,KAAMqL,EAAOse,EAAQrW,EAAMzL,GAClCkL,EAAM5T,KAAKe,IAAa,GAATmG,EAAG7B,IAAW6B,EAAGC,MAAQuB,EAAKvB,KAAOD,EAAGC,KAAOD,EAAGC,KAAO,EAAGgN,EAAK5L,YAAa4B,EAAQnK,KAAKe,IAAI2H,EAAKvB,KAAMyM,GAGzH4uE,EAAa79E,EAAQ28E,aAAep1E,EAAKo1E,YAAan1D,EAAQ,GAC9Dq1D,EAAyB,MAAnB78E,EAAQwnC,QAAkB,IAAMxnC,EAAQwnC,QAClDm1C,EACE,GAAKkB,EAAL,CACA,IAAK,IAAI5iF,EAAIuK,EAAOvK,GAAKgU,IAAOhU,EAAG,CACjC,IAAIuH,EAAOgN,EAAK2X,QAAQlsB,GACpB2jB,EAAQpc,EAAK3B,QAAQg9E,GAEzB,GADIj/D,GAAS,IAAM,UAAU7d,KAAKyO,EAAKlG,eAAe3F,EAAI1I,EAAG2jB,EAAQ,OAAMA,GAAS,IACtE,GAAVA,GAAey9D,EAAMt7E,KAAKyB,GAAO,MAAMm6E,EAC3C,GAAI/9D,GAAS,GAAKy9D,EAAMt7E,KAAKyB,EAAKsH,MAAM,EAAG8U,IAAS,MAAM+9D,EAC1Dn1D,EAAM7e,KAAKnG,GAYb,GAVAgN,EAAKjM,WAAU,WACb,IAAK,IAAItI,EAAIuK,EAAOvK,GAAKgU,IAAOhU,EAAG,CACjC,IAAIuH,EAAOglB,EAAMvsB,EAAIuK,GACjBxH,EAAMwE,EAAK3B,QAAQg9E,GAAaC,EAAS9/E,EAAM6/E,EAAW/iF,OAC1DkD,EAAM,IACNwE,EAAKsH,MAAMg0E,EAAQA,EAASjB,EAAI/hF,SAAW+hF,IAAKiB,GAAUjB,EAAI/hF,QAClE8iF,GAAe,EACfpuE,EAAKvH,aAAa,GAAItE,EAAI1I,EAAG+C,GAAM2F,EAAI1I,EAAG6iF,SAG1CF,EAAc,OAAO,EAI3B,IAAIP,EAAcr9E,EAAQk9E,mBAAqB31E,EAAK21E,kBAChDI,EAAYt9E,EAAQu9E,iBAAmBh2E,EAAKg2E,gBAChD,IAAKF,IAAgBC,EAAW,OAAO,EACvC,IAAIG,EAAOz9E,EAAQ09E,kBAAoBn2E,EAAKm2E,iBACxCK,EAAYvuE,EAAK2X,QAAQ3hB,GAAQw4E,EAAOD,EAAUl9E,QAAQw8E,GAC9D,IAAa,GAATW,EAAY,OAAO,EACvB,IAAIC,EAAUhvE,GAAOzJ,EAAQu4E,EAAYvuE,EAAK2X,QAAQlY,GAClDjC,EAAQixE,EAAQp9E,QAAQy8E,EAAWruE,GAAOzJ,EAAQw4E,EAAOX,EAAYviF,OAAS,GAC9EojF,EAAcv6E,EAAI6B,EAAOw4E,EAAO,GAAIG,EAAYx6E,EAAIsL,EAAKjC,EAAQ,GACrE,IAAc,GAAVA,IACC,UAAUjM,KAAKyO,EAAKlG,eAAe40E,MACnC,UAAUn9E,KAAKyO,EAAKlG,eAAe60E,KACpC3uE,EAAKrK,SAAS+4E,EAAaC,EAAW,MAAMt9E,QAAQy8E,IAAc,EACpE,OAAO,EAIT,IAAIc,EAAYL,EAAU/I,YAAYqI,EAAat5E,EAAKrD,IACpD29E,GAAyB,GAAdD,GAAmB,EAAIL,EAAUj0E,MAAM,EAAG/F,EAAKrD,IAAIG,QAAQy8E,EAAWc,EAAYf,EAAYviF,QAC7G,IAAkB,GAAdsjF,IAAgC,GAAbC,GAAkBA,EAAWf,EAAUxiF,QAAUiJ,EAAKrD,GAAI,OAAO,EAExF29E,EAAWJ,EAAQp9E,QAAQy8E,EAAW/6E,EAAG7B,IACzC,IAAI49E,EAAkBL,EAAQn0E,MAAMvH,EAAG7B,IAAIs0E,YAAYqI,EAAagB,EAAW97E,EAAG7B,IAElF,OADA09E,GAA0B,GAAbC,IAAsC,GAApBC,GAA0B,EAAI/7E,EAAG7B,GAAK49E,IACpD,GAAbD,IAAgC,GAAdD,GAAmBA,GAAa77E,EAAG7B,MAEzD8O,EAAKjM,WAAU,WACbiM,EAAKvH,aAAa,GAAItE,EAAIsL,EAAKjC,GAAS6vE,GAAOoB,EAAQn0E,MAAMkD,EAAQ6vE,EAAI/hF,OAAQkS,IAAU6vE,EAAMA,EAAI/hF,OAAS,IAC5F6I,EAAIsL,EAAKjC,EAAQswE,EAAUxiF,SAC7C,IAAIytC,EAAUy1C,EAAOX,EAAYviF,OAGjC,GAFI+hF,GAAOkB,EAAUj0E,MAAMy+B,EAASA,EAAUs0C,EAAI/hF,SAAW+hF,IAAKt0C,GAAWs0C,EAAI/hF,QACjF0U,EAAKvH,aAAa,GAAItE,EAAI6B,EAAOw4E,GAAOr6E,EAAI6B,EAAO+iC,IAC/Ck1C,EAAM,IAAK,IAAIxiF,EAAIuK,EAAQ,EAAGvK,GAAKgU,IAAOhU,EAAG,CAC/C,IAAIuH,EAAOgN,EAAK2X,QAAQlsB,GAAI2jB,EAAQpc,EAAK3B,QAAQ48E,GACjD,IAAc,GAAV7+D,IAAey9D,EAAMt7E,KAAKyB,EAAKsH,MAAM,EAAG8U,IAA5C,CACA,IAAI2/D,EAAW3/D,EAAQ6+D,EAAK3iF,OACxB+hF,GAAOr6E,EAAKsH,MAAMy0E,EAAUA,EAAW1B,EAAI/hF,SAAW+hF,IAAK0B,GAAY1B,EAAI/hF,QAC/E0U,EAAKvH,aAAa,GAAItE,EAAI1I,EAAG2jB,GAAQjb,EAAI1I,EAAGsjF,UAGzC,U,mEChNLC,EAAiBC,EAAQ,QAEzBhP,EAAM,IAAI+O,EAEVE,E,wBACJ,aAAuB,IAAXvwE,EAAW,uDAAJ,GAAI,UACrBjS,KAAKiS,KAAOA,EACZjS,KAAKyiF,OAASxwE,EACdjS,KAAK0iF,UAAY,E,oCAEnB,SAAWzI,GACT,IAAI5iE,EAASk8D,EAAIsH,YAAYZ,EAASj6E,KAAKiS,MAC3CjS,KAAKiS,KAAOoF,EAAO,GAGnB,IADA,IAAIsrE,EAAgB,EACX5jF,EAAI,EAAGA,EAAIsY,EAAO,GAAGzY,OAAQG,IAChCsY,EAAO,GAAGtY,IACZ4jF,IAKJ,IAFA,IAAIh3D,EAAO,EACPmwB,EAAQ,EACH/8C,EAAI,EAAGA,EAAIk7E,EAAQr7E,OAAQG,IAClC,GAAIsY,EAAO,GAAGtY,GAKZ,GAJIk7E,EAAQl7E,GAAG66E,SAAWK,EAAQl7E,GAAGy6E,QACnCoJ,QAAQC,IAAI,kBAAmB9jF,GAG7Bk7E,EAAQl7E,GAAG66E,OAASK,EAAQl7E,GAAG06E,SAAWz5E,KAAK0iF,UACjD5mC,GAASm+B,EAAQl7E,GAAG86E,QAAUI,EAAQl7E,GAAG06E,YACtC,IAAIQ,EAAQl7E,GAAG66E,QAAU55E,KAAK0iF,UAAW,MAE5C/2D,EAAOsuD,EAAQl7E,GAAG66E,OAClB,IAAK,IAAIv1D,EAAI,EAAGA,EAAI41D,EAAQl7E,GAAGqwE,MAAMxwE,OAAQylB,IACb,GAA1B41D,EAAQl7E,GAAGqwE,MAAM/qD,GAAG,GACtBsH,GAAQsuD,EAAQl7E,GAAGqwE,MAAM/qD,GAAG,GAAGzlB,OACI,GAA1Bq7E,EAAQl7E,GAAGqwE,MAAM/qD,GAAG,GACzBsH,GAAQ3rB,KAAK0iF,YACf5mC,GAASm+B,EAAQl7E,GAAGqwE,MAAM/qD,GAAG,GAAGzlB,SAGlC+sB,GAAQsuD,EAAQl7E,GAAGqwE,MAAM/qD,GAAG,GAAGzlB,OAC3B+sB,GAAQ3rB,KAAK0iF,YACf5mC,GAASm+B,EAAQl7E,GAAGqwE,MAAM/qD,GAAG,GAAGzlB,SAU5C,OAHAoB,KAAK0iF,WAAa5mC,EACd97C,KAAK0iF,UAAY1iF,KAAKiS,KAAKrT,SAAQoB,KAAK0iF,UAAY1iF,KAAKiS,KAAKrT,QAE3D+jF,I,0BAET,SAAar8E,EAAM9B,GACjB,IAAImnB,EAAO,EACP+9B,EAAY,EAChB,MAAOA,EAAYpjD,EACM,MAAnBtG,KAAKiS,KAAK0Z,IACZ+9B,IAEF/9B,IAEFA,GAAQnnB,EACRxE,KAAK0iF,UAAY/2D,I,uBAGnB,WAGE,IAFA,IAAIm3D,GAAoB,EACpBp5B,EAAY,EACP3qD,EAAIiB,KAAK0iF,UAAY,EAAG3jF,GAAK,EAAGA,IAClB,OAAjBiB,KAAKiS,KAAKlT,KACZ2qD,KACyB,GAArBo5B,IACFA,EAAmB/jF,IAIzB,MAAO,CACLuH,KAAMojD,EACNllD,GAAIxE,KAAK0iF,UAAY,EAAII,K,uBAG7B,WAA4B,IAAlB/yE,EAAkB,4DAAX6J,EACf,YAAaA,IAAT7J,EACKwjE,EAAIuG,WAAW95E,KAAKyiF,OAAQziF,KAAKiS,MAEjCshE,EAAIuG,WAAW95E,KAAKiS,KAAMlC,K,uBAGrC,WACE,OAAOwjE,EAAIuG,WAAW,GAAI95E,KAAKiS,Q,0BAEjC,WACE,OAAOshE,EAAIsI,aAAa77E,KAAK+iF,e,wBAE/B,SAAWxJ,GACT,IAAIliE,EAASk8D,EAAIsH,YAAYtB,EAAOv5E,KAAKiS,MACzCjS,KAAKiS,KAAOoF,EAAO,GACnBA,EAASk8D,EAAIsH,YAAYtB,EAAOv5E,KAAKyiF,QACrCziF,KAAKyiF,OAASprE,EAAO,O,KAIzBzX,EAAOC,QAAU2iF,G,2DCzGjB,wJACO,MAAMQ,EAAW,MACpB,MAAMC,EAAwC,oBAAZC,SAAqD,oBAApBA,QAAQC,QAC3E,OAAIF,EACOG,GAAMF,QAAQC,UAAUE,KAAKD,GAG7B,CAACA,EAAIvyE,IAAiBA,EAAauyE,EAAI,IAN9B,GASXE,EAAY,OAAWA,WAAa,OAAWC,aAC/CC,GAAwB,EACxBC,EAAoB,e,+NCZjC,IAAI,EAAS,WAAa,IAAIC,EAAI1jF,KAAS2jF,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACE,YAAY,cAAc97E,MAAM,CAAC,MAAQ,KAAK,CAAC47E,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAAC57E,MAAM,CAAC,KAAO,KAAK,CAAGy7E,EAAIM,OAA6jBH,EAAG,cAAc,CAACA,EAAG,QAAQ,CAACE,YAAY,QAAQ,CAACF,EAAG,QAAQ,CAACA,EAAG,IAAI,CAACH,EAAIO,GAAG,kBAAkBP,EAAIQ,GAAGR,EAAIS,MAAMvlF,QAAQ,YAAY8kF,EAAIU,GAAIV,EAAS,OAAE,SAASW,GAAM,OAAOR,EAAG,cAAc,CAACx7E,IAAIg8E,EAAKrkE,IAAI,CAAC6jE,EAAG,MAAM,CAACH,EAAIO,GAAG,UAAUJ,EAAG,IAAI,CAACE,YAAY,yBAAyB,CAACL,EAAIO,GAAG,IAAIP,EAAIQ,GAAGG,EAAKj6E,MAAM,KAAMi6E,EAAKrkE,IAAM0jE,EAAIv0E,OAAO6Q,GAAI6jE,EAAG,OAAO,CAACE,YAAY,eAAe,CAACL,EAAIO,GAAG,WAAWJ,EAAG,QAAQ,CAAC57E,MAAM,CAAC,MAAQ,SAAS6M,GAAG,CAAC,MAAQ4uE,EAAIY,WAAW,CAACZ,EAAIO,GAAG,aAAa,GAAGP,EAAI5jE,aAAY,IAAI,GAAG+jE,EAAG,QAAQ,CAACE,YAAY,QAAQ,CAACF,EAAG,QAAQ,CAACA,EAAG,SAAS,CAAC97C,IAAI,SAASjzB,GAAG,CAAC,MAAQ4uE,EAAIa,iBAAiB,UAAYb,EAAIc,oBAAoBC,MAAM,CAACjhF,MAAOkgF,EAAQ,KAAEp8E,SAAS,SAAUo9E,GAAMhB,EAAIzxE,KAAKyyE,GAAKC,WAAW,WAAW,IAAI,IAAI,GAAzxCd,EAAG,cAAc,CAACA,EAAG,QAAQ,CAAC57E,MAAM,CAAC,MAAQ,SAAS,QAAU,WAAW,CAAC47E,EAAG,QAAQ,CAAC57E,MAAM,CAAC,KAAO,KAAK,GAAK,IAAI,GAAK,MAAM,CAAC47E,EAAG,SAAS,CAACA,EAAG,eAAe,CAAC57E,MAAM,CAAC,QAAU,GAAG,MAAQ,OAAO,SAAW,IAAIw8E,MAAM,CAACjhF,MAAOkgF,EAAQ,KAAEp8E,SAAS,SAAUo9E,GAAMhB,EAAIt5E,KAAKs6E,GAAKC,WAAW,UAAUd,EAAG,eAAe,CAAC57E,MAAM,CAAC,QAAU,GAAG,MAAQ,OAAO,SAAW,IAAIw8E,MAAM,CAACjhF,MAAOkgF,EAAQ,KAAEp8E,SAAS,SAAUo9E,GAAMhB,EAAIkB,KAAKF,GAAKC,WAAW,UAAUd,EAAG,QAAQ,CAACE,YAAY,OAAO97E,MAAM,CAAC,MAAQ,SAAS6M,GAAG,CAAC,MAAQ4uE,EAAImB,aAAa,CAACnB,EAAIO,GAAG,WAAW,IAAI,IAAI,IAAI,GAA0uBJ,EAAG,aAAa,CAAC57E,MAAM,CAAC,QAAUy7E,EAAIoB,SAASL,MAAM,CAACjhF,MAAOkgF,EAAY,SAAEp8E,SAAS,SAAUo9E,GAAMhB,EAAIqB,SAASL,GAAKC,WAAW,aAAa,CAACjB,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAIsB,aAAa,QAAQ,IAAI,IAAI,IACrrDC,EAAkB,G,iCCSf,SAASC,EAAIv2E,EAAK8C,EAAO,GAAIslE,GAChC,IAAIlgE,EAAMlI,EAEVooE,EAAMA,GAA4B,qBAAboO,UAA4BA,SAC7C,MAAQx2E,IACRA,EAAMooE,EAAIh+D,SAAW,KAAOg+D,EAAI/7D,MAEjB,kBAARrM,IACH,MAAQA,EAAInP,OAAO,KAEfmP,EADA,MAAQA,EAAInP,OAAO,GACbu3E,EAAIh+D,SAAWpK,EAGfooE,EAAI/7D,KAAOrM,GAGpB,sBAAsB9J,KAAK8J,KAExBA,EADA,qBAAuBooE,EACjBA,EAAIh+D,SAAW,KAAOpK,EAGtB,WAAaA,GAI3BkI,EAAM,IAASlI,IAGdkI,EAAI5F,OACD,cAAcpM,KAAKgS,EAAIkC,UACvBlC,EAAI5F,KAAO,KAEN,eAAepM,KAAKgS,EAAIkC,YAC7BlC,EAAI5F,KAAO,QAGnB4F,EAAIpF,KAAOoF,EAAIpF,MAAQ,IACvB,MAAMF,GAAkC,IAA3BsF,EAAImE,KAAKrW,QAAQ,KACxBqW,EAAOzJ,EAAO,IAAMsF,EAAImE,KAAO,IAAMnE,EAAImE,KAS/C,OAPAnE,EAAImJ,GAAKnJ,EAAIkC,SAAW,MAAQiC,EAAO,IAAMnE,EAAI5F,KAAOQ,EAExDoF,EAAIuuE,KACAvuE,EAAIkC,SACA,MACAiC,GACC+7D,GAAOA,EAAI9lE,OAAS4F,EAAI5F,KAAO,GAAK,IAAM4F,EAAI5F,MAChD4F,E,qCCtDI,cACX,MAAMwuE,EAAUtlF,EAAKslF,QAErB,IACI,GAAI,qBAAuBC,kBAAoBD,GAAW,KACtD,OAAO,IAAIC,eAGnB,MAAO1gF,IACP,IAAKygF,EACD,IACI,OAAO,IAAI,OAAW,CAAC,UAAU1/D,OAAO,UAAU1S,KAAK,OAAM,qBAEjE,MAAOrO,M,0FCZR,MAAM,UAAgB,OACzB,cACI2J,SAASjG,WACTtI,KAAKylE,SAAU,EAKnB,WACI,MAAO,UAQX,SACIzlE,KAAK4oE,OAQT,MAAM2c,GACFvlF,KAAKiZ,WAAa,UAClB,MAAMusE,EAAQ,KACVxlF,KAAKiZ,WAAa,SAClBssE,KAEJ,GAAIvlF,KAAKylE,UAAYzlE,KAAKmQ,SAAU,CAChC,IAAIs1E,EAAQ,EACRzlF,KAAKylE,UACLggB,IACAzlF,KAAK0lF,KAAK,gBAAgB,aACpBD,GAASD,QAGdxlF,KAAKmQ,WACNs1E,IACAzlF,KAAK0lF,KAAK,SAAS,aACbD,GAASD,aAKnBA,IAQR,OACIxlF,KAAKylE,SAAU,EACfzlE,KAAK2lF,SACL3lF,KAAKiP,KAAK,QAOd,OAAOc,GACH,MAAMzI,EAAW8I,IAMb,GAJI,YAAcpQ,KAAKiZ,YAA8B,SAAhB7I,EAAOxH,MACxC5I,KAAKyP,SAGL,UAAYW,EAAOxH,KAEnB,OADA5I,KAAK2D,WACE,EAGX3D,KAAKwZ,SAASpJ,IAGlB,eAAcL,EAAM/P,KAAKmP,OAAOD,YAAYkH,QAAQ9O,GAEhD,WAAatH,KAAKiZ,aAElBjZ,KAAKylE,SAAU,EACfzlE,KAAKiP,KAAK,gBACN,SAAWjP,KAAKiZ,YAChBjZ,KAAK4oE,QAWjB,UACI,MAAM93D,EAAQ,KACV9Q,KAAKuZ,MAAM,CAAC,CAAE3Q,KAAM,YAEpB,SAAW5I,KAAKiZ,WAChBnI,IAKA9Q,KAAK0lF,KAAK,OAAQ50E,GAU1B,MAAMZ,GACFlQ,KAAKmQ,UAAW,EAChB,eAAcD,EAASH,IACnB/P,KAAK4lF,QAAQ71E,EAAM,KACf/P,KAAKmQ,UAAW,EAChBnQ,KAAKiP,KAAK,aAStB,MACI,IAAI7N,EAAQpB,KAAKoB,OAAS,GAC1B,MAAM2P,EAAS/Q,KAAKD,KAAKiR,OAAS,QAAU,OAC5C,IAAIC,EAAO,IAEP,IAAUjR,KAAKD,KAAKoR,oBACpB/P,EAAMpB,KAAKD,KAAKqR,gBAAkB,OAEjCpR,KAAKwO,gBAAmBpN,EAAMykF,MAC/BzkF,EAAMiQ,IAAM,GAGZrR,KAAKD,KAAKkR,OACR,UAAYF,GAAqC,MAA3BG,OAAOlR,KAAKD,KAAKkR,OACpC,SAAWF,GAAqC,KAA3BG,OAAOlR,KAAKD,KAAKkR,SAC3CA,EAAO,IAAMjR,KAAKD,KAAKkR,MAE3B,MAAMK,EAAe,IAAQtS,OAAOoC,GAC9BmQ,GAA4C,IAArCvR,KAAKD,KAAKyR,SAAS7M,QAAQ,KACxC,OAAQoM,EACJ,OACCQ,EAAO,IAAMvR,KAAKD,KAAKyR,SAAW,IAAMxR,KAAKD,KAAKyR,UACnDP,EACAjR,KAAKD,KAAK0R,MACTH,EAAa1S,OAAS,IAAM0S,EAAe,KCxJxD,SAAS5F,KACT,MAAMo6E,EAAU,WACZ,MAAMC,EAAM,IAAI,EAAe,CAC3BV,SAAS,IAEb,OAAO,MAAQU,EAAIC,aAJP,GAMT,MAAM,UAAY,EAOrB,YAAYjmF,GAER,GADAwO,MAAMxO,GACkB,qBAAbolF,SAA0B,CACjC,MAAMc,EAAQ,WAAad,SAASpsE,SACpC,IAAI9H,EAAOk0E,SAASl0E,KAEfA,IACDA,EAAOg1E,EAAQ,MAAQ,MAE3BjmF,KAAKkmF,GACoB,qBAAbf,UACJplF,EAAKyR,WAAa2zE,SAAS3zE,UAC3BP,IAASlR,EAAKkR,KACtBjR,KAAKmmF,GAAKpmF,EAAKiR,SAAWi1E,EAK9B,MAAMx3E,EAAc1O,GAAQA,EAAK0O,YACjCzO,KAAKwO,eAAiBs3E,IAAYr3E,EAQtC,QAAQ1O,EAAO,IAEX,OADAgO,OAAO63C,OAAO7lD,EAAM,CAAEmmF,GAAIlmF,KAAKkmF,GAAIC,GAAInmF,KAAKmmF,IAAMnmF,KAAKD,MAChD,IAAI,EAAQC,KAAK2O,MAAO5O,GASnC,QAAQgQ,EAAMq2E,GACV,MAAMC,EAAMrmF,KAAKsmF,QAAQ,CACrB1Z,OAAQ,OACR78D,KAAMA,IAEVs2E,EAAIvxE,GAAG,UAAWsxE,GAClBC,EAAIvxE,GAAG,QAAS9F,IACZhP,KAAKiQ,QAAQ,iBAAkBjB,KAQvC,SACI,MAAMq3E,EAAMrmF,KAAKsmF,UACjBD,EAAIvxE,GAAG,OAAQ9U,KAAK8P,OAAOH,KAAK3P,OAChCqmF,EAAIvxE,GAAG,QAAS9F,IACZhP,KAAKiQ,QAAQ,iBAAkBjB,KAEnChP,KAAKumF,QAAUF,GAGhB,MAAM,UAAgB,aAOzB,YAAY13E,EAAK5O,GACbwO,QACA,eAAsBvO,KAAMD,GAC5BC,KAAKD,KAAOA,EACZC,KAAK4sE,OAAS7sE,EAAK6sE,QAAU,MAC7B5sE,KAAK2O,IAAMA,EACX3O,KAAKwmF,OAAQ,IAAUzmF,EAAKymF,MAC5BxmF,KAAK+P,UAAO6J,IAAc7Z,EAAKgQ,KAAOhQ,EAAKgQ,KAAO,KAClD/P,KAAKiW,SAOT,SACI,MAAMlW,EAAO,eAAKC,KAAKD,KAAM,QAAS,MAAO,MAAO,aAAc,OAAQ,KAAM,UAAW,qBAAsB,aACjHA,EAAKslF,UAAYrlF,KAAKD,KAAKmmF,GAC3BnmF,EAAK0mF,UAAYzmF,KAAKD,KAAKomF,GAC3B,MAAMJ,EAAO/lF,KAAK+lF,IAAM,IAAI,EAAehmF,GAC3C,IACIgmF,EAAIjE,KAAK9hF,KAAK4sE,OAAQ5sE,KAAK2O,IAAK3O,KAAKwmF,OACrC,IACI,GAAIxmF,KAAKD,KAAK8O,aAAc,CACxBk3E,EAAIW,uBAAyBX,EAAIW,uBAAsB,GACvD,IAAK,IAAI3nF,KAAKiB,KAAKD,KAAK8O,aAChB7O,KAAKD,KAAK8O,aAAagL,eAAe9a,IACtCgnF,EAAIY,iBAAiB5nF,EAAGiB,KAAKD,KAAK8O,aAAa9P,KAK/D,MAAO6F,IACP,GAAI,SAAW5E,KAAK4sE,OAChB,IACImZ,EAAIY,iBAAiB,eAAgB,4BAEzC,MAAO/hF,IAEX,IACImhF,EAAIY,iBAAiB,SAAU,OAEnC,MAAO/hF,IAEH,oBAAqBmhF,IACrBA,EAAIa,gBAAkB5mF,KAAKD,KAAK6mF,iBAEhC5mF,KAAKD,KAAK8mF,iBACVd,EAAIjB,QAAU9kF,KAAKD,KAAK8mF,gBAE5Bd,EAAIe,mBAAqB,KACjB,IAAMf,EAAI9sE,aAEV,MAAQ8sE,EAAIgB,QAAU,OAAShB,EAAIgB,OACnC/mF,KAAKgnF,SAKLhnF,KAAK6Q,aAAa,KACd7Q,KAAKiQ,QAA8B,kBAAf81E,EAAIgB,OAAsBhB,EAAIgB,OAAS,IAC5D,KAGXhB,EAAIn1E,KAAK5Q,KAAK+P,MAElB,MAAOnL,GAOH,YAHA5E,KAAK6Q,aAAa,KACd7Q,KAAKiQ,QAAQrL,IACd,GAGiB,qBAAb2B,WACPvG,KAAKkC,MAAQ,EAAQ+kF,gBACrB,EAAQC,SAASlnF,KAAKkC,OAASlC,MAQvC,YACIA,KAAKiP,KAAK,WACVjP,KAAKmnF,UAOT,OAAOp3E,GACH/P,KAAKiP,KAAK,OAAQc,GAClB/P,KAAKonF,YAOT,QAAQp4E,GACJhP,KAAKiP,KAAK,QAASD,GACnBhP,KAAKmnF,SAAQ,GAOjB,QAAQE,GACJ,GAAI,qBAAuBrnF,KAAK+lF,KAAO,OAAS/lF,KAAK+lF,IAArD,CAIA,GADA/lF,KAAK+lF,IAAIe,mBAAqBp7E,EAC1B27E,EACA,IACIrnF,KAAK+lF,IAAIuB,QAEb,MAAO1iF,IAEa,qBAAb2B,iBACA,EAAQ2gF,SAASlnF,KAAKkC,OAEjClC,KAAK+lF,IAAM,MAOf,SACI,MAAMh2E,EAAO/P,KAAK+lF,IAAIwB,aACT,OAATx3E,GACA/P,KAAK8P,OAAOC,GAQpB,QACI/P,KAAKmnF,WAUb,GAPA,EAAQF,cAAgB,EACxB,EAAQC,SAAW,GAMK,qBAAb3gF,SAEP,GAA2B,oBAAhBkf,YAEPA,YAAY,WAAY+hE,QAEvB,GAAgC,oBAArBhiE,iBAAiC,CAC7C,MAAMiiE,EAAmB,eAAgB,OAAa,WAAa,SACnEjiE,iBAAiBiiE,EAAkBD,GAAe,GAG1D,SAASA,IACL,IAAK,IAAIzoF,KAAK,EAAQmoF,SACd,EAAQA,SAASrtE,eAAe9a,IAChC,EAAQmoF,SAASnoF,GAAGuoF,Q,gBCnQzB,MAAMI,EAAa,CACtBC,UAAW,OACXliB,QAAS,GCEN,MAAM,UAAe,aAQxB,YAAY92D,EAAK5O,EAAO,IACpBwO,QACII,GAAO,kBAAoBA,IAC3B5O,EAAO4O,EACPA,EAAM,MAENA,GACAA,EAAM,IAASA,GACf5O,EAAKyR,SAAW7C,EAAIqM,KACpBjb,EAAKiR,OAA0B,UAAjBrC,EAAIoK,UAAyC,QAAjBpK,EAAIoK,SAC9ChZ,EAAKkR,KAAOtC,EAAIsC,KACZtC,EAAIvN,QACJrB,EAAKqB,MAAQuN,EAAIvN,QAEhBrB,EAAKib,OACVjb,EAAKyR,SAAW,IAASzR,EAAKib,MAAMA,MAExC,eAAsBhb,KAAMD,GAC5BC,KAAKgR,OACD,MAAQjR,EAAKiR,OACPjR,EAAKiR,OACe,qBAAbm0E,UAA4B,WAAaA,SAASpsE,SAC/DhZ,EAAKyR,WAAazR,EAAKkR,OAEvBlR,EAAKkR,KAAOjR,KAAKgR,OAAS,MAAQ,MAEtChR,KAAKwR,SACDzR,EAAKyR,WACoB,qBAAb2zE,SAA2BA,SAAS3zE,SAAW,aAC/DxR,KAAKiR,KACDlR,EAAKkR,OACoB,qBAAbk0E,UAA4BA,SAASl0E,KACvCk0E,SAASl0E,KACTjR,KAAKgR,OACD,MACA,MAClBhR,KAAK0nF,WAAa3nF,EAAK2nF,YAAc,CAAC,UAAW,aACjD1nF,KAAKiZ,WAAa,GAClBjZ,KAAK4nF,YAAc,GACnB5nF,KAAK6nF,cAAgB,EACrB7nF,KAAKD,KAAOgO,OAAO63C,OAAO,CACtBn0C,KAAM,aACNq2E,OAAO,EACPlB,iBAAiB,EACjBmB,SAAS,EACT32E,eAAgB,IAChB42E,iBAAiB,EACjBC,oBAAoB,EACpB13E,kBAAmB,CACfI,UAAW,MAEfu3E,iBAAkB,GAClBC,qBAAqB,GACtBpoF,GACHC,KAAKD,KAAK0R,KAAOzR,KAAKD,KAAK0R,KAAKlQ,QAAQ,MAAO,IAAM,IACtB,kBAApBvB,KAAKD,KAAKqB,QACjBpB,KAAKD,KAAKqB,MAAQ,IAAQ/B,OAAOW,KAAKD,KAAKqB,QAG/CpB,KAAKggB,GAAK,KACVhgB,KAAKooF,SAAW,KAChBpoF,KAAKqoF,aAAe,KACpBroF,KAAKsoF,YAAc,KAEnBtoF,KAAKuoF,iBAAmB,KACQ,oBAArB/iE,mBACHxlB,KAAKD,KAAKooF,qBAIV3iE,iBAAiB,eAAgB,KACzBxlB,KAAKwoF,YAELxoF,KAAKwoF,UAAUC,qBACfzoF,KAAKwoF,UAAU13E,WAEpB,GAEe,cAAlB9Q,KAAKwR,WACLxR,KAAK0oF,qBAAuB,KACxB1oF,KAAK2D,QAAQ,oBAEjB6hB,iBAAiB,UAAWxlB,KAAK0oF,sBAAsB,KAG/D1oF,KAAK8hF,OAST,gBAAgB13E,GACZ,MAAMhJ,EAAQunF,EAAM3oF,KAAKD,KAAKqB,OAE9BA,EAAMwnF,IAAM,OAEZxnF,EAAMonF,UAAYp+E,EAEdpK,KAAKggB,KACL5e,EAAMykF,IAAM7lF,KAAKggB,IACrB,MAAMjgB,EAAOgO,OAAO63C,OAAO,GAAI5lD,KAAKD,KAAKmoF,iBAAiB99E,GAAOpK,KAAKD,KAAM,CACxEqB,QACA+N,OAAQnP,KACRwR,SAAUxR,KAAKwR,SACfR,OAAQhR,KAAKgR,OACbC,KAAMjR,KAAKiR,OAEf,OAAO,IAAIy2E,EAAWt9E,GAAMrK,GAOhC,OACI,IAAIyoF,EACJ,GAAIxoF,KAAKD,KAAKioF,iBACV,EAAOa,wBACmC,IAA1C7oF,KAAK0nF,WAAW/iF,QAAQ,aACxB6jF,EAAY,gBAEX,IAAI,IAAMxoF,KAAK0nF,WAAW9oF,OAK3B,YAHAoB,KAAK6Q,aAAa,KACd7Q,KAAK8oF,aAAa,QAAS,4BAC5B,GAIHN,EAAYxoF,KAAK0nF,WAAW,GAEhC1nF,KAAKiZ,WAAa,UAElB,IACIuvE,EAAYxoF,KAAK+oF,gBAAgBP,GAErC,MAAO5jF,GAGH,OAFA5E,KAAK0nF,WAAWt5C,aAChBpuC,KAAK8hF,OAGT0G,EAAU1G,OACV9hF,KAAKgpF,aAAaR,GAOtB,aAAaA,GACLxoF,KAAKwoF,WACLxoF,KAAKwoF,UAAUC,qBAGnBzoF,KAAKwoF,UAAYA,EAEjBA,EACK1zE,GAAG,QAAS9U,KAAKipF,QAAQt5E,KAAK3P,OAC9B8U,GAAG,SAAU9U,KAAKwZ,SAAS7J,KAAK3P,OAChC8U,GAAG,QAAS9U,KAAKiQ,QAAQN,KAAK3P,OAC9B8U,GAAG,QAAS,KACb9U,KAAK2D,QAAQ,qBASrB,MAAMyG,GACF,IAAIo+E,EAAYxoF,KAAK+oF,gBAAgB3+E,GACjC8+E,GAAS,EACb,EAAOL,uBAAwB,EAC/B,MAAMM,EAAkB,KAChBD,IAEJV,EAAU53E,KAAK,CAAC,CAAEhI,KAAM,OAAQmH,KAAM,WACtCy4E,EAAU9C,KAAK,SAAUxsE,IACrB,IAAIgwE,EAEJ,GAAI,SAAWhwE,EAAItQ,MAAQ,UAAYsQ,EAAInJ,KAAM,CAG7C,GAFA/P,KAAKopF,WAAY,EACjBppF,KAAK8oF,aAAa,YAAaN,IAC1BA,EACD,OACJ,EAAOK,sBAAwB,cAAgBL,EAAUp+E,KACzDpK,KAAKwoF,UAAUhD,MAAM,KACb0D,GAEA,WAAalpF,KAAKiZ,aAEtBkuE,IACAnnF,KAAKgpF,aAAaR,GAClBA,EAAU53E,KAAK,CAAC,CAAEhI,KAAM,aACxB5I,KAAK8oF,aAAa,UAAWN,GAC7BA,EAAY,KACZxoF,KAAKopF,WAAY,EACjBppF,KAAKqpF,eAGR,CACD,MAAMr6E,EAAM,IAAIoD,MAAM,eAEtBpD,EAAIw5E,UAAYA,EAAUp+E,KAC1BpK,KAAK8oF,aAAa,eAAgB95E,QAI9C,SAASs6E,IACDJ,IAGJA,GAAS,EACT/B,IACAqB,EAAU13E,QACV03E,EAAY,MAGhB,MAAMx4E,EAAUhB,IACZ,MAAMu6E,EAAQ,IAAIn3E,MAAM,gBAAkBpD,GAE1Cu6E,EAAMf,UAAYA,EAAUp+E,KAC5Bk/E,IACAtpF,KAAK8oF,aAAa,eAAgBS,IAEtC,SAASC,IACLx5E,EAAQ,oBAGZ,SAASN,IACLM,EAAQ,iBAGZ,SAASy5E,EAAUpjF,GACXmiF,GAAaniF,EAAG+D,OAASo+E,EAAUp+E,MACnCk/E,IAIR,MAAMnC,EAAU,KACZqB,EAAUkB,eAAe,OAAQP,GACjCX,EAAUkB,eAAe,QAAS15E,GAClCw4E,EAAUkB,eAAe,QAASF,GAClCxpF,KAAK6lB,IAAI,QAASnW,GAClB1P,KAAK6lB,IAAI,YAAa4jE,IAE1BjB,EAAU9C,KAAK,OAAQyD,GACvBX,EAAU9C,KAAK,QAAS11E,GACxBw4E,EAAU9C,KAAK,QAAS8D,GACxBxpF,KAAK0lF,KAAK,QAASh2E,GACnB1P,KAAK0lF,KAAK,YAAa+D,GACvBjB,EAAU1G,OAOd,SAOI,GANA9hF,KAAKiZ,WAAa,OAClB,EAAO4vE,sBAAwB,cAAgB7oF,KAAKwoF,UAAUp+E,KAC9DpK,KAAK8oF,aAAa,QAClB9oF,KAAKqpF,QAGD,SAAWrpF,KAAKiZ,YAChBjZ,KAAKD,KAAKgoF,SACV/nF,KAAKwoF,UAAUhD,MAAO,CACtB,IAAIzmF,EAAI,EACR,MAAMkb,EAAIja,KAAKooF,SAASxpF,OACxB,KAAOG,EAAIkb,EAAGlb,IACViB,KAAK2pF,MAAM3pF,KAAKooF,SAASrpF,KASrC,SAASqR,GACL,GAAI,YAAcpQ,KAAKiZ,YACnB,SAAWjZ,KAAKiZ,YAChB,YAAcjZ,KAAKiZ,WAInB,OAHAjZ,KAAK8oF,aAAa,SAAU14E,GAE5BpQ,KAAK8oF,aAAa,aACV14E,EAAOxH,MACX,IAAK,OACD5I,KAAK4pF,YAAYC,KAAKC,MAAM15E,EAAOL,OACnC,MACJ,IAAK,OACD/P,KAAK+pF,mBACL/pF,KAAKgqF,WAAW,QAChBhqF,KAAK8oF,aAAa,QAClB9oF,KAAK8oF,aAAa,QAClB,MACJ,IAAK,QACD,MAAM95E,EAAM,IAAIoD,MAAM,gBAEtBpD,EAAIiD,KAAO7B,EAAOL,KAClB/P,KAAKiQ,QAAQjB,GACb,MACJ,IAAK,UACDhP,KAAK8oF,aAAa,OAAQ14E,EAAOL,MACjC/P,KAAK8oF,aAAa,UAAW14E,EAAOL,MACpC,OAYhB,YAAYA,GACR/P,KAAK8oF,aAAa,YAAa/4E,GAC/B/P,KAAKggB,GAAKjQ,EAAK81E,IACf7lF,KAAKwoF,UAAUpnF,MAAMykF,IAAM91E,EAAK81E,IAChC7lF,KAAKooF,SAAWpoF,KAAKiqF,eAAel6E,EAAKq4E,UACzCpoF,KAAKqoF,aAAet4E,EAAKs4E,aACzBroF,KAAKsoF,YAAcv4E,EAAKu4E,YACxBtoF,KAAKyP,SAED,WAAazP,KAAKiZ,YAEtBjZ,KAAK+pF,mBAOT,mBACI/pF,KAAKkqF,eAAelqF,KAAKuoF,kBACzBvoF,KAAKuoF,iBAAmBvoF,KAAK6Q,aAAa,KACtC7Q,KAAK2D,QAAQ,iBACd3D,KAAKqoF,aAAeroF,KAAKsoF,aACxBtoF,KAAKD,KAAKuP,WACVtP,KAAKuoF,iBAAiB/4E,QAQ9B,UACIxP,KAAK4nF,YAAYntE,OAAO,EAAGza,KAAK6nF,eAIhC7nF,KAAK6nF,cAAgB,EACjB,IAAM7nF,KAAK4nF,YAAYhpF,OACvBoB,KAAK8oF,aAAa,SAGlB9oF,KAAKqpF,QAQb,QACQ,WAAarpF,KAAKiZ,YAClBjZ,KAAKwoF,UAAUr4E,WACdnQ,KAAKopF,WACNppF,KAAK4nF,YAAYhpF,SACjBoB,KAAKwoF,UAAU53E,KAAK5Q,KAAK4nF,aAGzB5nF,KAAK6nF,cAAgB7nF,KAAK4nF,YAAYhpF,OACtCoB,KAAK8oF,aAAa,UAY1B,MAAM5vE,EAAKpV,EAASsiF,GAEhB,OADApmF,KAAKgqF,WAAW,UAAW9wE,EAAKpV,EAASsiF,GAClCpmF,KAEX,KAAKkZ,EAAKpV,EAASsiF,GAEf,OADApmF,KAAKgqF,WAAW,UAAW9wE,EAAKpV,EAASsiF,GAClCpmF,KAWX,WAAW4I,EAAMmH,EAAMjM,EAASsiF,GAS5B,GARI,oBAAsBr2E,IACtBq2E,EAAKr2E,EACLA,OAAO6J,GAEP,oBAAsB9V,IACtBsiF,EAAKtiF,EACLA,EAAU,MAEV,YAAc9D,KAAKiZ,YAAc,WAAajZ,KAAKiZ,WACnD,OAEJnV,EAAUA,GAAW,GACrBA,EAAQwM,UAAW,IAAUxM,EAAQwM,SACrC,MAAMF,EAAS,CACXxH,KAAMA,EACNmH,KAAMA,EACNjM,QAASA,GAEb9D,KAAK8oF,aAAa,eAAgB14E,GAClCpQ,KAAK4nF,YAAYn7E,KAAK2D,GAClBg2E,GACApmF,KAAK0lF,KAAK,QAASU,GACvBpmF,KAAKqpF,QAOT,QACI,MAAMv4E,EAAQ,KACV9Q,KAAK2D,QAAQ,gBACb3D,KAAKwoF,UAAU13E,SAEbq5E,EAAkB,KACpBnqF,KAAK6lB,IAAI,UAAWskE,GACpBnqF,KAAK6lB,IAAI,eAAgBskE,GACzBr5E,KAEEs5E,EAAiB,KAEnBpqF,KAAK0lF,KAAK,UAAWyE,GACrBnqF,KAAK0lF,KAAK,eAAgByE,IAqB9B,MAnBI,YAAcnqF,KAAKiZ,YAAc,SAAWjZ,KAAKiZ,aACjDjZ,KAAKiZ,WAAa,UACdjZ,KAAK4nF,YAAYhpF,OACjBoB,KAAK0lF,KAAK,QAAS,KACX1lF,KAAKopF,UACLgB,IAGAt5E,MAIH9Q,KAAKopF,UACVgB,IAGAt5E,KAGD9Q,KAOX,QAAQgP,GACJ,EAAO65E,uBAAwB,EAC/B7oF,KAAK8oF,aAAa,QAAS95E,GAC3BhP,KAAK2D,QAAQ,kBAAmBqL,GAOpC,QAAQq7E,EAAQlxE,GACR,YAAcnZ,KAAKiZ,YACnB,SAAWjZ,KAAKiZ,YAChB,YAAcjZ,KAAKiZ,aAEnBjZ,KAAKkqF,eAAelqF,KAAKuoF,kBAEzBvoF,KAAKwoF,UAAUC,mBAAmB,SAElCzoF,KAAKwoF,UAAU13E,QAEf9Q,KAAKwoF,UAAUC,qBACoB,oBAAxB3iE,qBACPA,oBAAoB,UAAW9lB,KAAK0oF,sBAAsB,GAG9D1oF,KAAKiZ,WAAa,SAElBjZ,KAAKggB,GAAK,KAEVhgB,KAAK8oF,aAAa,QAASuB,EAAQlxE,GAGnCnZ,KAAK4nF,YAAc,GACnB5nF,KAAK6nF,cAAgB,GAU7B,eAAeO,GACX,MAAMkC,EAAmB,GACzB,IAAIvrF,EAAI,EACR,MAAMslB,EAAI+jE,EAASxpF,OACnB,KAAOG,EAAIslB,EAAGtlB,KACLiB,KAAK0nF,WAAW/iF,QAAQyjF,EAASrpF,KAClCurF,EAAiB79E,KAAK27E,EAASrpF,IAEvC,OAAOurF,GAIf,SAAS3B,EAAM9xE,GACX,MAAMwY,EAAI,GACV,IAAK,IAAItwB,KAAK8X,EACNA,EAAIgD,eAAe9a,KACnBswB,EAAEtwB,GAAK8X,EAAI9X,IAGnB,OAAOswB,EARX,EAAOtW,SAAW,OCpiBM,EAAOA,SAAxB,MCFDrC,EAA+C,oBAAhBC,YAC/BC,EAAUC,GACyB,oBAAvBF,YAAYC,OACpBD,YAAYC,OAAOC,GACnBA,EAAIC,kBAAkBH,YAE1B,EAAW5I,OAAOxN,UAAUiW,SAC5BF,EAAiC,oBAATC,MACT,qBAATA,MACoB,6BAAxB,EAASE,KAAKF,MAChBg0E,EAAiC,oBAAT39B,MACT,qBAATA,MACoB,6BAAxB,EAASn2C,KAAKm2C,MAMf,SAAS49B,EAAS3zE,GACrB,OAASH,IAA0BG,aAAeF,aAAeC,EAAOC,KACnEP,GAAkBO,aAAeN,MACjCg0E,GAAkB1zE,aAAe+1C,KAEnC,SAAS69B,EAAU5zE,EAAK6zE,GAC3B,IAAK7zE,GAAsB,kBAARA,EACf,OAAO,EAEX,GAAI7E,MAAM24E,QAAQ9zE,GAAM,CACpB,IAAK,IAAI9X,EAAI,EAAGkb,EAAIpD,EAAIjY,OAAQG,EAAIkb,EAAGlb,IACnC,GAAI0rF,EAAU5zE,EAAI9X,IACd,OAAO,EAGf,OAAO,EAEX,GAAIyrF,EAAS3zE,GACT,OAAO,EAEX,GAAIA,EAAI6zE,QACkB,oBAAf7zE,EAAI6zE,QACU,IAArBpiF,UAAU1J,OACV,OAAO6rF,EAAU5zE,EAAI6zE,UAAU,GAEnC,IAAK,MAAMriF,KAAOwO,EACd,GAAI9I,OAAOxN,UAAUsZ,eAAepD,KAAKI,EAAKxO,IAAQoiF,EAAU5zE,EAAIxO,IAChE,OAAO,EAGf,OAAO,ECxCJ,SAASuiF,EAAkBx6E,GAC9B,MAAMy6E,EAAU,GACVC,EAAa16E,EAAOL,KACpBg7E,EAAO36E,EAGb,OAFA26E,EAAKh7E,KAAOi7E,EAAmBF,EAAYD,GAC3CE,EAAKE,YAAcJ,EAAQjsF,OACpB,CAAEwR,OAAQ26E,EAAMF,QAASA,GAEpC,SAASG,EAAmBj7E,EAAM86E,GAC9B,IAAK96E,EACD,OAAOA,EACX,GAAIy6E,EAASz6E,GAAO,CAChB,MAAMs6D,EAAc,CAAE6gB,cAAc,EAAMjsF,IAAK4rF,EAAQjsF,QAEvD,OADAisF,EAAQp+E,KAAKsD,GACNs6D,EAEN,GAAIr4D,MAAM24E,QAAQ56E,GAAO,CAC1B,MAAMo7E,EAAU,IAAIn5E,MAAMjC,EAAKnR,QAC/B,IAAK,IAAIG,EAAI,EAAGA,EAAIgR,EAAKnR,OAAQG,IAC7BosF,EAAQpsF,GAAKisF,EAAmBj7E,EAAKhR,GAAI8rF,GAE7C,OAAOM,EAEN,GAAoB,kBAATp7E,KAAuBA,aAAgBpQ,MAAO,CAC1D,MAAMwrF,EAAU,GAChB,IAAK,MAAM9iF,KAAO0H,EACVA,EAAK8J,eAAexR,KACpB8iF,EAAQ9iF,GAAO2iF,EAAmBj7E,EAAK1H,GAAMwiF,IAGrD,OAAOM,EAEX,OAAOp7E,EAUJ,SAASq7E,EAAkBh7E,EAAQy6E,GAGtC,OAFAz6E,EAAOL,KAAOs7E,EAAmBj7E,EAAOL,KAAM86E,GAC9Cz6E,EAAO66E,iBAAcrxE,EACdxJ,EAEX,SAASi7E,EAAmBt7E,EAAM86E,GAC9B,IAAK96E,EACD,OAAOA,EACX,GAAIA,GAAQA,EAAKm7E,aACb,OAAOL,EAAQ96E,EAAK9Q,KAEnB,GAAI+S,MAAM24E,QAAQ56E,GACnB,IAAK,IAAIhR,EAAI,EAAGA,EAAIgR,EAAKnR,OAAQG,IAC7BgR,EAAKhR,GAAKssF,EAAmBt7E,EAAKhR,GAAI8rF,QAGzC,GAAoB,kBAAT96E,EACZ,IAAK,MAAM1H,KAAO0H,EACVA,EAAK8J,eAAexR,KACpB0H,EAAK1H,GAAOgjF,EAAmBt7E,EAAK1H,GAAMwiF,IAItD,OAAO96E,ECjEJ,MAAM,EAAW,EACjB,IAAIu7E,GACX,SAAWA,GACPA,EAAWA,EAAW,WAAa,GAAK,UACxCA,EAAWA,EAAW,cAAgB,GAAK,aAC3CA,EAAWA,EAAW,SAAW,GAAK,QACtCA,EAAWA,EAAW,OAAS,GAAK,MACpCA,EAAWA,EAAW,iBAAmB,GAAK,gBAC9CA,EAAWA,EAAW,gBAAkB,GAAK,eAC7CA,EAAWA,EAAW,cAAgB,GAAK,cAP/C,CAQGA,IAAeA,EAAa,KAIxB,MAAM,EAOT,OAAOz0E,GACH,OAAIA,EAAIjO,OAAS0iF,EAAWC,OAAS10E,EAAIjO,OAAS0iF,EAAWE,MACrDf,EAAU5zE,GAQX,CAAC7W,KAAKyrF,eAAe50E,KAPpBA,EAAIjO,KACAiO,EAAIjO,OAAS0iF,EAAWC,MAClBD,EAAWI,aACXJ,EAAWK,WACd3rF,KAAK4rF,eAAe/0E,IAQvC,eAAeA,GAEX,IAAIvX,EAAM,GAAKuX,EAAIjO,KAmBnB,OAjBIiO,EAAIjO,OAAS0iF,EAAWI,cACxB70E,EAAIjO,OAAS0iF,EAAWK,aACxBrsF,GAAOuX,EAAIo0E,YAAc,KAIzBp0E,EAAIg1E,KAAO,MAAQh1E,EAAIg1E,MACvBvsF,GAAOuX,EAAIg1E,IAAM,KAGjB,MAAQh1E,EAAImJ,KACZ1gB,GAAOuX,EAAImJ,IAGX,MAAQnJ,EAAI9G,OACZzQ,GAAOuqF,KAAKiC,UAAUj1E,EAAI9G,OAEvBzQ,EAOX,eAAeuX,GACX,MAAMk1E,EAAiBnB,EAAkB/zE,GACnCk0E,EAAO/qF,KAAKyrF,eAAeM,EAAe37E,QAC1Cy6E,EAAUkB,EAAelB,QAE/B,OADAA,EAAQ1lE,QAAQ4lE,GACTF,GAQR,MAAM,UAAgB,aACzB,cACIt8E,QAOJ,IAAIsI,GACA,IAAIzG,EACJ,GAAmB,kBAARyG,EACPzG,EAASpQ,KAAKgsF,aAAan1E,GACvBzG,EAAOxH,OAAS0iF,EAAWI,cAC3Bt7E,EAAOxH,OAAS0iF,EAAWK,YAE3B3rF,KAAKisF,cAAgB,IAAI,EAAoB77E,GAElB,IAAvBA,EAAO66E,aACP18E,MAAMu6E,aAAa,UAAW14E,IAKlC7B,MAAMu6E,aAAa,UAAW14E,OAGjC,KAAIo6E,EAAS3zE,KAAQA,EAAIU,OAe1B,MAAM,IAAInF,MAAM,iBAAmByE,GAbnC,IAAK7W,KAAKisF,cACN,MAAM,IAAI75E,MAAM,oDAGhBhC,EAASpQ,KAAKisF,cAAcC,eAAer1E,GACvCzG,IAEApQ,KAAKisF,cAAgB,KACrB19E,MAAMu6E,aAAa,UAAW14E,KAc9C,aAAa9Q,GACT,IAAIP,EAAI,EAER,MAAM8Y,EAAI,CACNjP,KAAMsI,OAAO5R,EAAIE,OAAO,KAE5B,QAA2Boa,IAAvB0xE,EAAWzzE,EAAEjP,MACb,MAAM,IAAIwJ,MAAM,uBAAyByF,EAAEjP,MAG/C,GAAIiP,EAAEjP,OAAS0iF,EAAWI,cACtB7zE,EAAEjP,OAAS0iF,EAAWK,WAAY,CAClC,MAAMriF,EAAQvK,EAAI,EAClB,MAA2B,MAApBO,EAAIE,SAAST,IAAcA,GAAKO,EAAIV,QAC3C,MAAMutF,EAAM7sF,EAAI8Y,UAAU9O,EAAOvK,GACjC,GAAIotF,GAAOj7E,OAAOi7E,IAA0B,MAAlB7sF,EAAIE,OAAOT,GACjC,MAAM,IAAIqT,MAAM,uBAEpByF,EAAEozE,YAAc/5E,OAAOi7E,GAG3B,GAAI,MAAQ7sF,EAAIE,OAAOT,EAAI,GAAI,CAC3B,MAAMuK,EAAQvK,EAAI,EAClB,QAASA,EAAG,CACR,MAAMqtF,EAAI9sF,EAAIE,OAAOT,GACrB,GAAI,MAAQqtF,EACR,MACJ,GAAIrtF,IAAMO,EAAIV,OACV,MAERiZ,EAAEg0E,IAAMvsF,EAAI8Y,UAAU9O,EAAOvK,QAG7B8Y,EAAEg0E,IAAM,IAGZ,MAAM1+E,EAAO7N,EAAIE,OAAOT,EAAI,GAC5B,GAAI,KAAOoO,GAAQ+D,OAAO/D,IAASA,EAAM,CACrC,MAAM7D,EAAQvK,EAAI,EAClB,QAASA,EAAG,CACR,MAAMqtF,EAAI9sF,EAAIE,OAAOT,GACrB,GAAI,MAAQqtF,GAAKl7E,OAAOk7E,IAAMA,EAAG,GAC3BrtF,EACF,MAEJ,GAAIA,IAAMO,EAAIV,OACV,MAERiZ,EAAEmI,GAAK9O,OAAO5R,EAAI8Y,UAAU9O,EAAOvK,EAAI,IAG3C,GAAIO,EAAIE,SAAST,GAAI,CACjB,MAAMstF,EAAUC,EAAShtF,EAAIkb,OAAOzb,IACpC,IAAI,EAAQwtF,eAAe10E,EAAEjP,KAAMyjF,GAI/B,MAAM,IAAIj6E,MAAM,mBAHhByF,EAAE9H,KAAOs8E,EAMjB,OAAOx0E,EAEX,sBAAsBjP,EAAMyjF,GACxB,OAAQzjF,GACJ,KAAK0iF,EAAWkB,QACZ,MAA0B,kBAAZH,EAClB,KAAKf,EAAWmB,WACZ,YAAmB7yE,IAAZyyE,EACX,KAAKf,EAAWoB,cACZ,MAA0B,kBAAZL,GAA2C,kBAAZA,EACjD,KAAKf,EAAWC,MAChB,KAAKD,EAAWI,aACZ,OAAO15E,MAAM24E,QAAQ0B,IAAYA,EAAQztF,OAAS,EACtD,KAAK0sF,EAAWE,IAChB,KAAKF,EAAWK,WACZ,OAAO35E,MAAM24E,QAAQ0B,IAMjC,UACQrsF,KAAKisF,eACLjsF,KAAKisF,cAAcU,0BAI/B,SAASL,EAAShtF,GACd,IACI,OAAOuqF,KAAKC,MAAMxqF,GAEtB,MAAOsF,GACH,OAAO,GAWf,MAAM,EACF,YAAYwL,GACRpQ,KAAKoQ,OAASA,EACdpQ,KAAK6qF,QAAU,GACf7qF,KAAK4sF,UAAYx8E,EAUrB,eAAey8E,GAEX,GADA7sF,KAAK6qF,QAAQp+E,KAAKogF,GACd7sF,KAAK6qF,QAAQjsF,SAAWoB,KAAK4sF,UAAU3B,YAAa,CAEpD,MAAM76E,EAASg7E,EAAkBprF,KAAK4sF,UAAW5sF,KAAK6qF,SAEtD,OADA7qF,KAAK2sF,yBACEv8E,EAEX,OAAO,KAKX,yBACIpQ,KAAK4sF,UAAY,KACjB5sF,KAAK6qF,QAAU,IC5QhB,SAAS/1E,EAAG+B,EAAKhH,EAAIu2E,GAExB,OADAvvE,EAAI/B,GAAGjF,EAAIu2E,GACJ,WACHvvE,EAAIgP,IAAIhW,EAAIu2E,ICIpB,MAAM0G,EAAkB/+E,OAAOg/E,OAAO,CAClCC,QAAS,EACTC,cAAe,EACfC,WAAY,EACZC,cAAe,EAEfC,YAAa,EACb1D,eAAgB,IAEb,MAAM,UAAe,aAMxB,YAAY2D,EAAIxB,EAAK9rF,GACjBwO,QACAvO,KAAKstF,WAAY,EACjBttF,KAAKutF,cAAe,EACpBvtF,KAAKwtF,cAAgB,GACrBxtF,KAAKytF,WAAa,GAClBztF,KAAK0tF,IAAM,EACX1tF,KAAK2tF,KAAO,GACZ3tF,KAAK4tF,MAAQ,GACb5tF,KAAKqtF,GAAKA,EACVrtF,KAAK6rF,IAAMA,EACP9rF,GAAQA,EAAK8tF,OACb7tF,KAAK6tF,KAAO9tF,EAAK8tF,MAEjB7tF,KAAKqtF,GAAGS,cACR9tF,KAAK8hF,OAOb,YACI,GAAI9hF,KAAK+tF,KACL,OACJ,MAAMV,EAAKrtF,KAAKqtF,GAChBrtF,KAAK+tF,KAAO,CACRj5E,EAAGu4E,EAAI,OAAQrtF,KAAKqP,OAAOM,KAAK3P,OAChC8U,EAAGu4E,EAAI,SAAUrtF,KAAKguF,SAASr+E,KAAK3P,OACpC8U,EAAGu4E,EAAI,QAASrtF,KAAKgQ,QAAQL,KAAK3P,OAClC8U,EAAGu4E,EAAI,QAASrtF,KAAK0P,QAAQC,KAAK3P,QAM1C,aACI,QAASA,KAAK+tF,KAOlB,UACI,OAAI/tF,KAAKstF,YAETttF,KAAKiuF,YACAjuF,KAAKqtF,GAAG,kBACTrtF,KAAKqtF,GAAGvL,OACR,SAAW9hF,KAAKqtF,GAAGa,aACnBluF,KAAKqP,UALErP,KAWf,OACI,OAAOA,KAAKgtF,UAQhB,QAAQ/tE,GAGJ,OAFAA,EAAKkG,QAAQ,WACbnlB,KAAKiP,KAAKiQ,MAAMlf,KAAMif,GACfjf,KASX,KAAK6P,KAAOoP,GACR,GAAI6tE,EAAgBjzE,eAAehK,GAC/B,MAAM,IAAIuC,MAAM,IAAMvC,EAAK,8BAE/BoP,EAAKkG,QAAQtV,GACb,MAAMO,EAAS,CACXxH,KAAM0iF,EAAWC,MACjBx7E,KAAMkP,EAEV,QAAiB,IAGjB,GAFA7O,EAAOtM,QAAQwM,UAAmC,IAAxBtQ,KAAK4tF,MAAMt9E,SAEjC,oBAAsB2O,EAAKA,EAAKrgB,OAAS,GAAI,CAC7C,MAAMohB,EAAKhgB,KAAK0tF,MACVS,EAAMlvE,EAAK0hC,MACjB3gD,KAAKouF,qBAAqBpuE,EAAImuE,GAC9B/9E,EAAO4P,GAAKA,EAEhB,MAAMquE,EAAsBruF,KAAKqtF,GAAGiB,QAChCtuF,KAAKqtF,GAAGiB,OAAO9F,WACfxoF,KAAKqtF,GAAGiB,OAAO9F,UAAUr4E,SACvBo+E,EAAgBvuF,KAAK4tF,MAAMY,YAAcH,IAAwBruF,KAAKstF,WAU5E,OATIiB,IAEKvuF,KAAKstF,UACVttF,KAAKoQ,OAAOA,GAGZpQ,KAAKytF,WAAWhhF,KAAK2D,IAEzBpQ,KAAK4tF,MAAQ,GACN5tF,KAKX,qBAAqBggB,EAAImuE,GACrB,MAAMrJ,EAAU9kF,KAAK4tF,MAAM9I,QAC3B,QAAgBlrE,IAAZkrE,EAEA,YADA9kF,KAAK2tF,KAAK3tE,GAAMmuE,GAIpB,MAAMM,EAAQzuF,KAAKqtF,GAAGx8E,aAAa,YACxB7Q,KAAK2tF,KAAK3tE,GACjB,IAAK,IAAIjhB,EAAI,EAAGA,EAAIiB,KAAKytF,WAAW7uF,OAAQG,IACpCiB,KAAKytF,WAAW1uF,GAAGihB,KAAOA,GAC1BhgB,KAAKytF,WAAWhzE,OAAO1b,EAAG,GAGlCovF,EAAI13E,KAAKzW,KAAM,IAAIoS,MAAM,6BAC1B0yE,GACH9kF,KAAK2tF,KAAK3tE,GAAM,IAAIf,KAEhBjf,KAAKqtF,GAAGnD,eAAeuE,GACvBN,EAAIjvE,MAAMlf,KAAM,CAAC,QAASif,KASlC,OAAO7O,GACHA,EAAOy7E,IAAM7rF,KAAK6rF,IAClB7rF,KAAKqtF,GAAGqB,QAAQt+E,GAOpB,SAC4B,mBAAbpQ,KAAK6tF,KACZ7tF,KAAK6tF,KAAM99E,IACP/P,KAAKoQ,OAAO,CAAExH,KAAM0iF,EAAWkB,QAASz8E,WAI5C/P,KAAKoQ,OAAO,CAAExH,KAAM0iF,EAAWkB,QAASz8E,KAAM/P,KAAK6tF,OAS3D,QAAQ7+E,GACChP,KAAKstF,WACNttF,KAAK8oF,aAAa,gBAAiB95E,GAS3C,QAAQq7E,GACJrqF,KAAKstF,WAAY,EACjBttF,KAAKutF,cAAe,SACbvtF,KAAKggB,GACZhgB,KAAK8oF,aAAa,aAAcuB,GAQpC,SAASj6E,GACL,MAAMu+E,EAAgBv+E,EAAOy7E,MAAQ7rF,KAAK6rF,IAC1C,GAAK8C,EAEL,OAAQv+E,EAAOxH,MACX,KAAK0iF,EAAWkB,QACZ,GAAIp8E,EAAOL,MAAQK,EAAOL,KAAK81E,IAAK,CAChC,MAAM7lE,EAAK5P,EAAOL,KAAK81E,IACvB7lF,KAAK4uF,UAAU5uE,QAGfhgB,KAAK8oF,aAAa,gBAAiB,IAAI12E,MAAM,8LAEjD,MACJ,KAAKk5E,EAAWC,MACZvrF,KAAK6uF,QAAQz+E,GACb,MACJ,KAAKk7E,EAAWI,aACZ1rF,KAAK6uF,QAAQz+E,GACb,MACJ,KAAKk7E,EAAWE,IACZxrF,KAAK8uF,MAAM1+E,GACX,MACJ,KAAKk7E,EAAWK,WACZ3rF,KAAK8uF,MAAM1+E,GACX,MACJ,KAAKk7E,EAAWmB,WACZzsF,KAAK+uF,eACL,MACJ,KAAKzD,EAAWoB,cACZ1sF,KAAKgvF,UACL,MAAMhgF,EAAM,IAAIoD,MAAMhC,EAAOL,KAAKk/E,SAElCjgF,EAAIe,KAAOK,EAAOL,KAAKA,KACvB/P,KAAK8oF,aAAa,gBAAiB95E,GACnC,OASZ,QAAQoB,GACJ,MAAM6O,EAAO7O,EAAOL,MAAQ,GACxB,MAAQK,EAAO4P,IACff,EAAKxS,KAAKzM,KAAKmuF,IAAI/9E,EAAO4P,KAE1BhgB,KAAKstF,UACLttF,KAAKkvF,UAAUjwE,GAGfjf,KAAKwtF,cAAc/gF,KAAKsB,OAAOg/E,OAAO9tE,IAG9C,UAAUA,GACN,GAAIjf,KAAKmvF,eAAiBnvF,KAAKmvF,cAAcvwF,OAAQ,CACjD,MAAMwwF,EAAYpvF,KAAKmvF,cAAcvhF,QACrC,IAAK,MAAMyhF,KAAYD,EACnBC,EAASnwE,MAAMlf,KAAMif,GAG7B1Q,MAAMU,KAAKiQ,MAAMlf,KAAMif,GAO3B,IAAIe,GACA,MAAM1M,EAAOtT,KACb,IAAIsvF,GAAO,EACX,OAAO,YAAarwE,GAEZqwE,IAEJA,GAAO,EACPh8E,EAAKlD,OAAO,CACRxH,KAAM0iF,EAAWE,IACjBxrE,GAAIA,EACJjQ,KAAMkP,MAUlB,MAAM7O,GACF,MAAM+9E,EAAMnuF,KAAK2tF,KAAKv9E,EAAO4P,IACzB,oBAAsBmuE,IACtBA,EAAIjvE,MAAMlf,KAAMoQ,EAAOL,aAChB/P,KAAK2tF,KAAKv9E,EAAO4P,KAUhC,UAAUA,GACNhgB,KAAKggB,GAAKA,EACVhgB,KAAKstF,WAAY,EACjBttF,KAAKutF,cAAe,EACpBvtF,KAAKuvF,eACLvvF,KAAK8oF,aAAa,WAOtB,eACI9oF,KAAKwtF,cAAcp3E,QAAS6I,GAASjf,KAAKkvF,UAAUjwE,IACpDjf,KAAKwtF,cAAgB,GACrBxtF,KAAKytF,WAAWr3E,QAAShG,GAAWpQ,KAAKoQ,OAAOA,IAChDpQ,KAAKytF,WAAa,GAOtB,eACIztF,KAAKgvF,UACLhvF,KAAK0P,QAAQ,wBASjB,UACQ1P,KAAK+tF,OAEL/tF,KAAK+tF,KAAK33E,QAASo5E,GAAeA,KAClCxvF,KAAK+tF,UAAOn0E,GAEhB5Z,KAAKqtF,GAAG,YAAYrtF,MAQxB,aAUI,OATIA,KAAKstF,WACLttF,KAAKoQ,OAAO,CAAExH,KAAM0iF,EAAWmB,aAGnCzsF,KAAKgvF,UACDhvF,KAAKstF,WAELttF,KAAK0P,QAAQ,wBAEV1P,KAQX,QACI,OAAOA,KAAKktF,aAShB,SAAS58E,GAEL,OADAtQ,KAAK4tF,MAAMt9E,SAAWA,EACftQ,KASX,eAEI,OADAA,KAAK4tF,MAAMY,UAAW,EACfxuF,KAiBX,QAAQ8kF,GAEJ,OADA9kF,KAAK4tF,MAAM9I,QAAUA,EACd9kF,KASX,MAAMqvF,GAGF,OAFArvF,KAAKmvF,cAAgBnvF,KAAKmvF,eAAiB,GAC3CnvF,KAAKmvF,cAAc1iF,KAAK4iF,GACjBrvF,KASX,WAAWqvF,GAGP,OAFArvF,KAAKmvF,cAAgBnvF,KAAKmvF,eAAiB,GAC3CnvF,KAAKmvF,cAAchqE,QAAQkqE,GACpBrvF,KAQX,OAAOqvF,GACH,IAAKrvF,KAAKmvF,cACN,OAAOnvF,KAEX,GAAIqvF,EAAU,CACV,MAAMD,EAAYpvF,KAAKmvF,cACvB,IAAK,IAAIpwF,EAAI,EAAGA,EAAIqwF,EAAUxwF,OAAQG,IAClC,GAAIswF,IAAaD,EAAUrwF,GAEvB,OADAqwF,EAAU30E,OAAO1b,EAAG,GACbiB,UAKfA,KAAKmvF,cAAgB,GAEzB,OAAOnvF,KAQX,eACI,OAAOA,KAAKmvF,eAAiB,I,yBC5d9B,MAAM,UAAgB,aACzB,YAAYxgF,EAAK5O,GACb,IAAI0vF,EACJlhF,QACAvO,KAAK0vF,KAAO,GACZ1vF,KAAK+tF,KAAO,GACRp/E,GAAO,kBAAoBA,IAC3B5O,EAAO4O,EACPA,OAAMiL,GAEV7Z,EAAOA,GAAQ,GACfA,EAAK0R,KAAO1R,EAAK0R,MAAQ,aACzBzR,KAAKD,KAAOA,EACZ,eAAsBC,KAAMD,GAC5BC,KAAK2vF,cAAmC,IAAtB5vF,EAAK4vF,cACvB3vF,KAAK4vF,qBAAqB7vF,EAAK6vF,sBAAwB10D,KACvDl7B,KAAK6vF,kBAAkB9vF,EAAK8vF,mBAAqB,KACjD7vF,KAAK8vF,qBAAqB/vF,EAAK+vF,sBAAwB,KACvD9vF,KAAK+vF,oBAAwD,QAAnCN,EAAK1vF,EAAKgwF,2BAAwC,IAAPN,EAAgBA,EAAK,IAC1FzvF,KAAKgwF,QAAU,IAAI,IAAQ,CACvB9vF,IAAKF,KAAK6vF,oBACV1vF,IAAKH,KAAK8vF,uBACVzvF,OAAQL,KAAK+vF,wBAEjB/vF,KAAK8kF,QAAQ,MAAQ/kF,EAAK+kF,QAAU,IAAQ/kF,EAAK+kF,SACjD9kF,KAAKkuF,YAAc,SACnBluF,KAAK2O,IAAMA,EACX,MAAMshF,EAAUlwF,EAAKmwF,QAAU,EAC/BlwF,KAAKmwF,QAAU,IAAIF,EAAQG,QAC3BpwF,KAAKqwF,QAAU,IAAIJ,EAAQK,QAC3BtwF,KAAK8tF,cAAoC,IAArB/tF,EAAKwwF,YACrBvwF,KAAK8tF,cACL9tF,KAAK8hF,OAEb,aAAa38B,GACT,OAAK78C,UAAU1J,QAEfoB,KAAKwwF,gBAAkBrrC,EAChBnlD,MAFIA,KAAKwwF,cAIpB,qBAAqBrrC,GACjB,YAAUvrC,IAANurC,EACOnlD,KAAKywF,uBAChBzwF,KAAKywF,sBAAwBtrC,EACtBnlD,MAEX,kBAAkBmlD,GACd,IAAIsqC,EACJ,YAAU71E,IAANurC,EACOnlD,KAAK0wF,oBAChB1wF,KAAK0wF,mBAAqBvrC,EACF,QAAvBsqC,EAAKzvF,KAAKgwF,eAA4B,IAAPP,GAAyBA,EAAG3uF,OAAOqkD,GAC5DnlD,MAEX,oBAAoBmlD,GAChB,IAAIsqC,EACJ,YAAU71E,IAANurC,EACOnlD,KAAK2wF,sBAChB3wF,KAAK2wF,qBAAuBxrC,EACJ,QAAvBsqC,EAAKzvF,KAAKgwF,eAA4B,IAAPP,GAAyBA,EAAGzuF,UAAUmkD,GAC/DnlD,MAEX,qBAAqBmlD,GACjB,IAAIsqC,EACJ,YAAU71E,IAANurC,EACOnlD,KAAK4wF,uBAChB5wF,KAAK4wF,sBAAwBzrC,EACL,QAAvBsqC,EAAKzvF,KAAKgwF,eAA4B,IAAPP,GAAyBA,EAAG1uF,OAAOokD,GAC5DnlD,MAEX,QAAQmlD,GACJ,OAAK78C,UAAU1J,QAEfoB,KAAK6wF,SAAW1rC,EACTnlD,MAFIA,KAAK6wF,SAUpB,wBAES7wF,KAAK8wF,eACN9wF,KAAKwwF,eACqB,IAA1BxwF,KAAKgwF,QAAQ1vF,UAEbN,KAAK+wF,YAUb,KAAK3K,GACD,IAAKpmF,KAAKkuF,YAAYvpF,QAAQ,QAC1B,OAAO3E,KACXA,KAAKsuF,OAAS,IAAI,EAAOtuF,KAAK2O,IAAK3O,KAAKD,MACxC,MAAMoP,EAASnP,KAAKsuF,OACdh7E,EAAOtT,KACbA,KAAKkuF,YAAc,UACnBluF,KAAKgxF,eAAgB,EAErB,MAAMC,EAAiBn8E,EAAG3F,EAAQ,QAAQ,WACtCmE,EAAKjE,SACL+2E,GAAMA,OAGJ8K,EAAWp8E,EAAG3F,EAAQ,QAAUH,IAClCsE,EAAK6zE,UACL7zE,EAAK46E,YAAc,SACnBluF,KAAK8oF,aAAa,QAAS95E,GACvBo3E,EACAA,EAAGp3E,GAIHsE,EAAK69E,yBAGb,IAAI,IAAUnxF,KAAK6wF,SAAU,CACzB,MAAM/L,EAAU9kF,KAAK6wF,SACL,IAAZ/L,GACAmM,IAGJ,MAAMxC,EAAQzuF,KAAK6Q,aAAa,KAC5BogF,IACA9hF,EAAO2B,QAEP3B,EAAOF,KAAK,QAAS,IAAImD,MAAM,aAChC0yE,GACC9kF,KAAKD,KAAKuP,WACVm/E,EAAMj/E,QAEVxP,KAAK+tF,KAAKthF,MAAK,WACXmJ,aAAa64E,MAKrB,OAFAzuF,KAAK+tF,KAAKthF,KAAKwkF,GACfjxF,KAAK+tF,KAAKthF,KAAKykF,GACRlxF,KAQX,QAAQomF,GACJ,OAAOpmF,KAAK8hF,KAAKsE,GAOrB,SAEIpmF,KAAKmnF,UAELnnF,KAAKkuF,YAAc,OACnBluF,KAAK8oF,aAAa,QAElB,MAAM35E,EAASnP,KAAKsuF,OACpBtuF,KAAK+tF,KAAKthF,KAAKqI,EAAG3F,EAAQ,OAAQnP,KAAKoxF,OAAOzhF,KAAK3P,OAAQ8U,EAAG3F,EAAQ,OAAQnP,KAAKqxF,OAAO1hF,KAAK3P,OAAQ8U,EAAG3F,EAAQ,QAASnP,KAAKgQ,QAAQL,KAAK3P,OAAQ8U,EAAG3F,EAAQ,QAASnP,KAAK0P,QAAQC,KAAK3P,OAAQ8U,EAAG9U,KAAKqwF,QAAS,UAAWrwF,KAAKsxF,UAAU3hF,KAAK3P,QAOvP,SACIA,KAAK8oF,aAAa,QAOtB,OAAO/4E,GACH/P,KAAKqwF,QAAQj9D,IAAIrjB,GAOrB,UAAUK,GACNpQ,KAAK8oF,aAAa,SAAU14E,GAOhC,QAAQpB,GACJhP,KAAK8oF,aAAa,QAAS95E,GAQ/B,OAAO68E,EAAK9rF,GACR,IAAIoP,EAASnP,KAAK0vF,KAAK7D,GAKvB,OAJK18E,IACDA,EAAS,IAAI,EAAOnP,KAAM6rF,EAAK9rF,GAC/BC,KAAK0vF,KAAK7D,GAAO18E,GAEdA,EAQX,SAASA,GACL,MAAMugF,EAAO3hF,OAAOoI,KAAKnW,KAAK0vF,MAC9B,IAAK,MAAM7D,KAAO6D,EAAM,CACpB,MAAMvgF,EAASnP,KAAK0vF,KAAK7D,GACzB,GAAI18E,EAAOgpC,OACP,OAGRn4C,KAAKuxF,SAQT,QAAQnhF,GACJ,MAAMsI,EAAiB1Y,KAAKmwF,QAAQnxF,OAAOoR,GAC3C,IAAK,IAAIrR,EAAI,EAAGA,EAAI2Z,EAAe9Z,OAAQG,IACvCiB,KAAKsuF,OAAO/0E,MAAMb,EAAe3Z,GAAIqR,EAAOtM,SAQpD,UACI9D,KAAK+tF,KAAK33E,QAASo5E,GAAeA,KAClCxvF,KAAK+tF,KAAKnvF,OAAS,EACnBoB,KAAKqwF,QAAQrB,UAOjB,SACIhvF,KAAKgxF,eAAgB,EACrBhxF,KAAK8wF,eAAgB,EACrB9wF,KAAK0P,QAAQ,gBACT1P,KAAKsuF,QACLtuF,KAAKsuF,OAAOx9E,QAOpB,aACI,OAAO9Q,KAAKuxF,SAOhB,QAAQlH,GACJrqF,KAAKmnF,UACLnnF,KAAKgwF,QAAQnvF,QACbb,KAAKkuF,YAAc,SACnBluF,KAAK8oF,aAAa,QAASuB,GACvBrqF,KAAKwwF,gBAAkBxwF,KAAKgxF,eAC5BhxF,KAAK+wF,YAQb,YACI,GAAI/wF,KAAK8wF,eAAiB9wF,KAAKgxF,cAC3B,OAAOhxF,KACX,MAAMsT,EAAOtT,KACb,GAAIA,KAAKgwF,QAAQ1vF,UAAYN,KAAKywF,sBAC9BzwF,KAAKgwF,QAAQnvF,QACbb,KAAK8oF,aAAa,oBAClB9oF,KAAK8wF,eAAgB,MAEpB,CACD,MAAMt9C,EAAQxzC,KAAKgwF,QAAQxvF,WAC3BR,KAAK8wF,eAAgB,EACrB,MAAMrC,EAAQzuF,KAAK6Q,aAAa,KACxByC,EAAK09E,gBAEThxF,KAAK8oF,aAAa,oBAAqBx1E,EAAK08E,QAAQ1vF,UAEhDgT,EAAK09E,eAET19E,EAAKwuE,KAAM9yE,IACHA,GACAsE,EAAKw9E,eAAgB,EACrBx9E,EAAKy9E,YACL/wF,KAAK8oF,aAAa,kBAAmB95E,IAGrCsE,EAAKk+E,kBAGdh+C,GACCxzC,KAAKD,KAAKuP,WACVm/E,EAAMj/E,QAEVxP,KAAK+tF,KAAKthF,MAAK,WACXmJ,aAAa64E,OASzB,cACI,MAAMgD,EAAUzxF,KAAKgwF,QAAQ1vF,SAC7BN,KAAK8wF,eAAgB,EACrB9wF,KAAKgwF,QAAQnvF,QACbb,KAAK8oF,aAAa,YAAa2I,ICrVvC,MAAMp5D,GAAQ,GACd,SAASzmB,GAAOjD,EAAK5O,GACE,kBAAR4O,IACP5O,EAAO4O,EACPA,OAAMiL,GAEV7Z,EAAOA,GAAQ,GACf,MAAM2xF,EAASxM,EAAIv2E,EAAK5O,EAAK0R,MAAQ,cAC/BhQ,EAASiwF,EAAOjwF,OAChBue,EAAK0xE,EAAO1xE,GACZvO,EAAOigF,EAAOjgF,KACdk9E,EAAgBt2D,GAAMrY,IAAOvO,KAAQ4mB,GAAMrY,GAAI,QAC/C2xE,EAAgB5xF,EAAK6xF,UACvB7xF,EAAK,0BACL,IAAUA,EAAK8xF,WACflD,EACJ,IAAItB,EAaJ,OAZIsE,EACAtE,EAAK,IAAI,EAAQ5rF,EAAQ1B,IAGpBs4B,GAAMrY,KACPqY,GAAMrY,GAAM,IAAI,EAAQve,EAAQ1B,IAEpCstF,EAAKh1D,GAAMrY,IAEX0xE,EAAOtwF,QAAUrB,EAAKqB,QACtBrB,EAAKqB,MAAQswF,EAAOh3E,UAEjB2yE,EAAGl+E,OAAOuiF,EAAOjgF,KAAM1R,GAIlCgO,OAAO63C,OAAOh0C,GAAQ,CAClBkgF,QAAA,EACAC,OAAA,EACA1E,GAAIz7E,GACJo7E,QAASp7E,KC3Cb,IAAI,GAAS,WAAa,IAAI8xE,EAAI1jF,KAAS2jF,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACE,YAAY,QAAQ,CAACF,EAAG,SAAS,CAAC57E,MAAM,CAAC,SAAW,KAAK,CAAC47E,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACE,YAAY,aAAa,CAACF,EAAG,aAAa,CAAC97C,IAAI,OAAOiqD,MAAMtO,EAAIuO,SAAShqF,MAAM,CAAC,MAAQy7E,EAAIlgF,MAAM,QAAUkgF,EAAIwO,WAAWp9E,GAAG,CAAC,MAAQ4uE,EAAIyO,UAAU,MAAQzO,EAAI0O,iBAAiB,IAAI,IAAI,IAAI,IAAI,IACxY,GAAkB,G,aCqCtB,I,oGAAA,CACEriF,KADF,WAEI,MAAO,CACLsiF,mBAAmB,EACnB9yE,QAAS,EACT09C,MAAO,UACPq1B,SAAU,UACVnrF,OAAQ,UACR8qF,SAAU,WAGdxwE,MAAO,CACLje,MAAO,CACLoF,KAAM2P,OACNg6E,UAAU,IAGdC,WAAY,CACVC,WAAJ,kBAEEC,SAAU,CACRD,WADJ,WAEM,OAAOzyF,KAAK2yF,MAAMC,KAAKH,YAEzBP,UAJJ,WAKM,MAAO,CACL3yE,QAASvf,KAAKuf,QACd6gD,WAAYpgE,KAAKuf,QACjB+gD,gBAAgB,EACxB,eACQ+xB,kBAAmBryF,KAAKqyF,kBACxBl0D,aAAa,EACb73B,MAAM,EACNusF,iBAAiB,EACjBC,eAAe,EACfnxD,cAAc,EACds7B,MAAOj9D,KAAKi9D,MACZ81B,YAAY,EACZ5rF,OAAQnH,KAAKmH,OACbmxD,UAAW,CACT,SAAU,gBACV,QAAV,oBAME06B,QAAS,CACPb,UADJ,SACA,cACMvP,QAAQC,IAAI,yBACZngF,EAAGoS,GAAG,kBAAkB,SAA9B,GACQ,IAAR,gBACQ,EAAR,mBACUxO,KAAMyJ,EAAKzJ,KACX9B,GAAIuL,EAAKvL,SAIf4tF,aAXJ,SAWA,GACMpyF,KAAKizF,MAAM,QAASC,IAEtBC,aAAc,SAAlB,GACMvQ,QAAQC,IAAI9yE,GACZ/P,KAAKyyF,WAAW9oC,UAAU55C,IAE5BqjF,UAlBJ,SAkBA,GACM,IAAIloE,EAAMxoB,EAAG4/D,SACT/6D,EAAS2jB,EAAIllB,YACbM,EAAO4kB,EAAID,QAAQ1jB,EAAOjB,MAC1BxE,EAAM,CACRwE,KAAMiB,EAAOjB,KACb9B,GAAI8B,EAAK1H,QAGX,OADAssB,EAAInf,aAAa,KAAMjK,GAChB,GAAb,uBChHgV,M,yGCGhV,W,uECAA,SAASuxF,KAEkC,UADzC9xC,EACyC,uDAF3C,GAE2C,mBAF3C,EAE2C,iCAF3C,EAE2C,kBAGzC,OAAO,EAAAvvC,SAAA,0BAAP,IAGI,eAGS,IADbyO,EACa,uDAHT,iBAGS,uCAEb,MAAO,CACLrW,OAEAkpF,YAHK,EAKL7xE,MAAO,CACLya,MAAO,CACLtzB,KADK,QAEL2qF,SAAS,GAEXC,YAAa,CACX5qF,KADW,QAEX2qF,SAAS,GAEXE,cAAe,CACb7qF,KADa,QAEb2qF,SAAS,GAEXloF,KAAM,CACJzC,KADI,OAEJ2qF,QAASloF,GAEXoV,OAAQ,CACN7X,KADM,OAEN2qF,QAAS9yE,IAIbizE,OA5BK,SA4BC,KACJ,IAAM1rF,EAAM,aAAH,OAAgB8mB,EAAA,qBAAzB,IACM/e,EAAkB,CACtB0R,MAAO,CACLrX,OACAiB,KAAMyjB,EAAA,MAAczjB,MAEtByJ,GAAI,CACF6+E,YADE,SACS,GACT5rF,EAAA,sBAA2B+mB,EAAA,MAA3B,OACA/mB,EAAA,4BAAiC+mB,EAAA,MAAjC,UAuCN,OAlCIA,EAAA,MAAJ,gBACE/e,EAAA,SAAiBsjF,GAAiBtjF,EAAA,GAAD,OAAkB,SAAAhI,GACjD,IAAM,EAAN,EAAM,YAAN,EAAM,aAAN,EAAM,YAAsC8f,EAA5C,EAA4CA,aAC5C9f,EAAA,yBAA8B,CAC5B43B,SAAU53B,EAAA,MADkB,SAE5BlB,IAAKkB,EAAA,MAFuB,IAG5BwF,KAAMxF,EAAA,MAHsB,KAI5Bw3B,MAAOx3B,EAAA,MAJqB,MAK5B+jB,OAAQ/jB,EAAA,MAAS+jB,QAEnB/jB,EAAA,0BACAA,EAAA,UAAew4B,EAAf,KACAx4B,EAAA,WAAgBsgC,EAAhB,KACAtgC,EAAA,YAAiB+f,EAAjB,KACA/f,EAAA,aAAkB8f,EAAlB,QAEF9X,EAAA,cAAsBsjF,GAAiBtjF,EAAA,GAAD,YAAuB,SAAAhI,GAC3D,GAAIA,GAAMA,EAAV,yBAAuC,CACrC,MAA+CA,EAA/C,yBAAM,EAAN,EAAM,WAAN,EAAM,MAAN,EAAM,OAAN,EAAM,MAA8B+jB,EAApC,EAAoCA,cAC7B/jB,EAAP,yBACAA,EAAA,eAAoB43B,GAApB,GACA53B,EAAA,UAAelB,GAAf,GACAkB,EAAA,WAAgBwF,GAAhB,GACAxF,EAAA,YAAiBw3B,GAAjB,GACAx3B,EAAA,aAAkB+jB,GAAlB,QAIFgD,EAAA,MAAJ,cACE/e,EAAA,SAAiBsjF,GAAiBtjF,EAAA,GAAD,OAAkB,SAAAhI,GACjDA,EAAA,oDAIGokB,EAAEnkB,EAAK,OAAA4rF,GAAA,MAAU9kE,EAAD,KAAf,GAAqCA,EAA7C,YAKA,iBAGW,IAAfzjB,EAAe,uDAHX,SAKJ,MAAO,CACLjB,OAEAkpF,YAHK,EAKL7xE,MAAO,CACLpW,KAAM,CACJzC,KADI,OAEJ2qF,QAASloF,IAIbqoF,OAZK,SAYC,KACJ,OAAOvnE,EAAE,aAEP,OAAAynE,GAAA,MAAU9kE,EAAD,KAAe,CACtBrN,MAAO,CAAErX,QACT0K,GAAI++E,IAEN/kE,EANF,Y,iBCxGQ,cAA8C,IAAnCglE,EAAmC,uDAA9C,GAAqC7lF,EAAS,wDACpD8lF,EAAe9lF,EAAI,QAAzB,SACM+lF,EAAiB,SAAH,OAAY,gBAAhC,IAEA,MAAO,CACLL,YADK,SACM,GACT5rF,EAAA,QAAaA,EAAb,WACAA,EAAA,+BACEksF,WAAYlsF,EAAA,MADK,WAEjBmsF,SAAUnsF,EAAA,MAFO,UAGjB,EAAgBA,EAAA,WAIpBw2D,MAVK,SAUA,GACH,IAAM41B,EAAepsF,EAArB,cAEAA,EAAA,sCAH0B,aAK1BA,EAAA,wBACA,IAAMwsB,EAAS,GAAH,OAAMxsB,EAAlB,GAAY,MAEZA,EAAA,aAEKA,EAVqB,aAY1BA,EAAA,iBAAsBosF,EAAtB,WAEIL,GAAuB/rF,EAA3B,SACEA,EAAA,yBAGFqsF,uBAAsB,WACpBrsF,EAAA,eAIJssF,WAjCK,EAkCLC,eAlCK,EAoCL71B,MApCK,SAoCA,GACH12D,EAAA,+BACEksF,WADiB,GAEjBC,SAAUnsF,EAAA,MAFO,UAGjB,EAAgBA,EAAA,UAGlBA,EAAA,wBACAA,EAAA,mBAA4BA,EAA5B,SACKA,EATqB,aAW1BqsF,uBAAsB,kBAAOrsF,EAAA,SAA7B,QAGFwsF,aACAC,eAAgBD,GAGlB,cACMT,GAAuB/rF,EAA3B,SACEA,EAAA,4BAEF0sF,EAAA,GAGF,cACE,IAAMrpE,EAAOrjB,EAAA,cAAb,GACAA,EAAA,eAAoBA,EAAA,cAApB,SACA,MAAIqjB,IAAcrjB,EAAA,mBACXA,EAAP,gBC9DS2sF,IAXsBC,GAA5B,uBACmCA,GAAnC,+BACuBA,GAAvB,kBAC8BA,GAA9B,0BACwBA,GAAxB,mBACuBA,GAAuB,iBAAkB,gBAAhE,UAG0BA,GAA1B,qBACgCA,GAAhC,4BAC6BA,GAA7B,yBACwBA,GAAxB,oBAMMC,IALmBD,GAAzB,oBAC2BA,GAA3B,uBACkCA,GAAlC,+BAC2BA,GAA3B,uBACkCA,GAAlC,+BAC0BA,GAA1B,uB,IACiCA,GAAjC,8BAC0BA,GAA1B,sBACiCA,GAAjC,8BAG0BE,GAA2B,oBAAqB,MAC/CA,GAA2B,sBAAuB,GAA0B,IAAvG,I,qCCxBD,cAEY,IADhBx1E,EACgB,uDAFZ,QAEJvZ,EAAgB,uDAFZ,SAIJ,OAAO,eAAW,CAChBsE,KADgB,YAGhBq6E,MAAO,CACLplE,OACAvZ,SAGF2b,MAAO,mBACL,EAAQ,CACN8wE,UAAU,IAIdxiF,KAdgB,WAed,MAAO,CACL+kF,kBAAmB90F,KAAKqf,KAI5BqzE,SAAU,CACRqC,cAAe,CACb3uD,IADa,WAEX,OAAOpmC,KAAP,mBAEFogB,IAJa,SAIV,GACG/V,IAAQrK,KAAZ,oBAEAA,KAAA,oBAEAA,KAAA,eAKNg1F,MAAO,mBACL,GADG,SACH,GACEh1F,KAAA,yBAOR,IAAMi1F,GAAY95E,KAElB,M,0BCjCM+5E,GAAa,OAAAC,GAAA,MAAO,GAAD,KAEvB,gBAAoB,CAAC,WAAY,QAAS,MAFnB,cAAzB,SAQe,GAAAD,GAAA,OAAkB,CAC/B9qF,KAD+B,oBAG/BgrF,WAAY,CAAEC,aAAA,MAEd5zE,MAAO,CACL02B,OAAQ,CACNvvC,KADM,QAEN2qF,SAAS,GAEX+B,gBAAiB,CACf1sF,KADe,OAEf2qF,QAAS,MAEXgC,kBAAmB,CACjB3sF,KAAM,CAACsI,OADU,QAEjBqiF,QAAS,MAEXiC,YAAa,CACX5sF,KAAM,CAACsI,OADI,QAEXqiF,QAAS,KAEXkC,MAAO,CACL7sF,KADK,OAEL2qF,QAAS,WAEXznE,OAAQ,CACNljB,KAAM,CAACsI,OADD,QAENqiF,QAAS,GAEXmC,cAzBK,QA0BLt0F,MA1BK,QA2BLgkB,QA3BK,QA4BLuwE,QA5BK,QA6BL/zF,OA7BK,QA8BLg0F,QA9BK,QA+BLpyF,MAAO,CACLoF,KAAM,CAACsI,OADF,QAELqiF,QAAS,IAIbxjF,KA1C+B,WA2C7B,MAAO,CACL+kF,kBAAmB90F,KAAKwD,OADnB,EAELqyF,WAAW,IAIfnD,SAAU,CACRoD,mBADQ,WAEN,OAAO91F,KAAK4jF,eAAe,MAAO5jF,KAAK+1F,mBAAmB/1F,KAAKs1F,iBAAmBt1F,KAAhD,MAA4D,CAC5F+jF,YAD4F,gCAE5F99E,MAAOjG,KAAKg2F,oBAGhBC,YAPQ,WAQN,OAAOj2F,KAAK4jF,eAAe5jF,KAApB,mBAA6C,CAACA,KAArD,mBAEFk2F,gBAVQ,WAWN,OAAOl2F,KAAK01F,cAAgB11F,KAArB,sBAAkDA,KAAzD,qBAEFm2F,eAbQ,WAcN,OAAOn2F,KAAK4jF,eAAe,MAAO,CAChCG,YADgC,4BAEhC99E,MAAOjG,KAAKyvB,UAGhB2mE,oBAnBQ,WAoBN,OAAOp2F,KAAK4jF,eAAe,MAAO5jF,KAAK+1F,mBAAmB/1F,KAAxB,MAAoC,CACpE+jF,YADoE,iCAEpE99E,MAAO,CACLs5B,MAAO,gBAAcv/B,KAAD,0BAI1Bq2F,sBA3BQ,WA4BN,OAAOr2F,KAAK4jF,eAAe,MAAO,CAChCG,YADgC,mCAEhCiO,MAAO,CACL,2CAA4ChyF,KAAKm4C,SAElD,CACDn4C,KAAKs2F,eADJ,QAEDt2F,KAAKs2F,eAPP,YAUFC,eAtCQ,WAuCN,OAAKv2F,KAAL,OAEOA,KAAK4jF,eAAe,MAAO5jF,KAAKw2F,aAAax2F,KAAlB,MAA8B,CAC9D+jF,YAD8D,4BAE9D99E,MAAO,CACLs5B,MAAO,gBAAc,IAAMv/B,KAAP,0BALC,MAS3Bg2F,gBAhDQ,WAgDO,MACPT,EAA8C,MAA1Bv1F,KAAKu1F,kBAC1Bv1F,KAAKs1F,gBAAkB,EADF,GAEtBmB,WAAWz2F,KAFf,mBAIA,UACEkG,QADK,GAAP,kBAEGlG,KAAK02F,WAAa,QAAnB,OAAsC,gBAAc12F,KAAD,gBAF9C,MAAP,0BAGS,gBAAcb,KAAA,MAAYa,KAAK22F,iBAAmB32F,KAArC,uBAHtB,GAMF0vB,QA3DQ,WA4DN,wBACE,8BAA+B1vB,KAD1B,SAEL,2BAA4BA,KAFvB,MAGL,2BAA4BA,KAHvB,MAIL,8BAA+BA,KAJ1B,SAKL,6BAA8BA,KALzB,WAML,6BAA8BA,KANzB,QAOL,6BAA8BA,KAPzB,QAQL,6BAA8BA,KARzB,WASFA,KAAK42F,eAGZC,mBAxEQ,WAyEN,OAAO72F,KAAK01F,cAAgBhB,GAA5B,IAEFgC,WA3EQ,WA4EN,OAAO12F,KAAK82F,SAASC,MAAQ/2F,KAA7B,SAEF22F,iBA9EQ,WA+EN,OAAO32F,KAAKg3F,UAAUh3F,KAAtB,cAEFi3F,gBAjFQ,WAkFN,OAAOj3F,KAAKg3F,UAAUh3F,KAAtB,oBAEFk3F,SApFQ,WAqFN,OAAOC,QAAQn3F,KAAKo3F,WAApB,SAEF3nE,OAvFQ,WAwFN,IAAMA,EAAN,GAUA,OARKzvB,KAAL,SACEyvB,EAAA,UAGGzvB,KAAD,eAAJ,MAA2By2F,WAAWz2F,KAAX,oBACzByvB,EAAA,MAAe,gBAAczvB,KAAD,iBAA5B,MAGF,IAIJgzF,QAAS,CACPqE,WADO,WAEL,IAAMC,EAAO,gBAAQt3F,KAAM,UAAW,CAAEwD,MAAOxD,KAAK80F,oBAEpD,SAEO90F,KAAK4jF,eAAe,MAAO,CAChCG,YAAa,8BADf,GAFkB,MAMpBwT,aAVO,WAWL,IAAMnI,EAAYpvF,KAAlB,WAMA,OAJIA,KAAJ,WACEovF,EAAA,MAAkBpvF,KAAlB,SAGF,GAEFs2F,eAnBO,SAmBO,GACZ,OAAOt2F,KAAK4jF,eAAe,MAAO5jF,KAAK+1F,mBAAmB/1F,KAAxB,MAAoC,CACpE+jF,YADoE,mCAEpEiO,MAAO,mBACL,GAAQ,OAIdwF,QA3BO,SA2BA,GACL,GAAKx3F,KAAL,UAEA,MAAkBA,KAAKy3F,IAAvB,wBAAQl4D,EAAR,EAAQA,MAERv/B,KAAA,cAAqB4E,EAAA,UAArB,MAEF8yF,UAlCO,SAkCE,OACP13F,KAAA,aAEFg3F,UArCO,SAqCE,GACP,OAAIxzF,EAAJ,EAAsB,EAClBA,EAAJ,IAAwB,IACjBizF,WAAP,KAIJ/C,OAnM+B,SAmMzB,GACJ,IAAM3jF,EAAO,CACXg0E,YADW,oBAEX97E,MAAO,CACL0vF,KADK,cAEL,gBAFK,EAGL,gBAAiB33F,KAHZ,iBAIL,gBAAiBA,KAAK01F,mBAAgB97E,EAAY5Z,KAAKi3F,iBAEzDjF,MAAOhyF,KARI,QASXo1F,WAAY,CAAC,CACXhrF,KADW,YAEX5G,MAAOxD,KAAK03F,YAEdzxF,MAAO,CACLpC,OAAQ7D,KAAK6D,OAAS,OADjB,EAELioB,OAAQ9rB,KAAKm4C,OAAS,gBAAcn4C,KAA5B,QAFH,EAGL6G,IAAK7G,KAAK6G,IAAM,OAAI+S,GAEtB9E,GAAI9U,KAAKu3F,gBAGX,OAAOprE,EAAE,MAAOpc,EAAM,CACpB/P,KADoB,eAEpBA,KAFoB,mBAGpBA,KAHoB,eAIpBA,KAJoB,YAKpBA,KALF,kBCvPJ,MCce,2BAA+B,CAC5CoK,KAD4C,WAG5CqX,MAAO,CACLm2E,QAAS,CACPhvF,KAAM,CAACuuF,QADA,QAEP5D,SAAS,GAEXsE,aAAc,CACZjvF,KAAM,CAACsI,OADK,QAEZqiF,QAAS,IAIbP,QAAS,CACP8E,YADO,WAEL,WAAI93F,KAAK43F,QAA0B,KAE5B53F,KAAK+3F,OAAOC,UAAYh4F,KAAK4jF,eAAe,GAAiB,CAClEniE,MAAO,CACLw2E,UADK,EAELxC,OAAyB,IAAjBz1F,KAAK43F,SAAN,KAA0B53F,KAAK43F,QACjC53F,KAAKy1F,OADH,UAEHz1F,KAJC,QAKL8rB,OAAQ9rB,KALH,aAML01F,eAAe,SC9BnBwC,I,kDAAN,IAEA,SAASC,GAAT,KACEpwF,EAAA,kBACAA,EAAA,wBASF,SAASqwF,GAAT,GACE,qBAAOxzF,EAAA,iBAGT,SAASyzF,GAAT,GACE,wBAAOzzF,EAAA,iBAGT,IAAM0zF,GAAY,SAAC,EAAD,GAId,IADF90F,EACE,uDAJc,GAKZ+0F,EAAJ,EACIC,EAAJ,EAEA,IAAKH,GAAL,GAAyB,CACvB,IAAM9jE,EAASxsB,EAAf,wBACM+N,EAASsiF,GAAA,GAAkBxzF,EAAA,QAAUA,EAAA,eAA5B,GAAf,EAEA2zF,EAASziF,EAAA,QAAiBye,EAA1B,KACAikE,EAAS1iF,EAAA,QAAiBye,EAA1B,IAGF,IAAIkkE,EAAJ,EACIC,EAAJ,GACI3wF,EAAA,SAAcA,EAAA,QAAlB,QACE2wF,EAAA,IACAD,EAAS1wF,EAAA,YAAT,EACA0wF,EAASj1F,EAAA,SAAwBi1F,EAASt5F,KAAA,KAAU,SAACo5F,EAAD,cAA0BC,EAAD,EAAnC,IAA1C,GAEAC,EAASt5F,KAAA,KAAU,SAAA4I,EAAA,wBAAsBA,EAAA,aAAhC,IAAT,EAGF,IAAM4wF,EAAU,GAAH,QAAO5wF,EAAA,YAAD,EAAmB0wF,GAAtC,EAAa,MACPG,EAAU,GAAH,QAAO7wF,EAAA,aAAD,EAAoB0wF,GAAvC,EAAa,MAEPxqF,EAAIzK,EAAA,mBAA4B+0F,EAAtC,EAAU,MACJrqF,EAAI1K,EAAA,mBAA4Bg1F,EAAtC,EAAU,MAEV,MAAO,CAAEC,SAAQC,QAAOzqF,IAAGC,IAAGyqF,UAASC,YAGnCC,GAAU,CAEdC,KAFc,SAEV,KAGuB,IAAzBt1F,EAAyB,uDAHvB,GAKF,GAAKuE,EAAD,SAAgBA,EAAA,QAApB,SAIA,IAAM4xC,EAAYpzC,SAAA,cAAlB,QACMwyF,EAAYxyF,SAAA,cAAlB,QAEAozC,EAAA,eACAA,EAAA,gCAEIn2C,EAAJ,QACEm2C,EAAA,sBAA2Bn2C,EAA3B,QAGF,MAAkD80F,GAAU1zF,EAAGmD,EAA/D,GAAM,EAAN,EAAM,SAAN,EAAM,QAAN,EAAM,IAAN,EAAM,IAAN,EAAM,QAAgC6wF,EAAtC,EAAsCA,QAEhCxtE,EAAO,GAAH,OAAV,EAAgBqtE,EAAN,MACVM,EAAA,gCACAA,EAAA,cACAA,EAAA,eAEAhxF,EAAA,eAEA,IAAM2qF,EAAWn/E,OAAA,iBAAjB,GACIm/E,GAAJ,WAAgBA,EAAA,WACd3qF,EAAA,0BACAA,EAAA,mCAGFgxF,EAAA,4CACAA,EAAA,8CACAZ,GAAUY,EAAW,aAAZ,OAAyB9qF,EAAzB,aAA+BC,EAA/B,qBAA6CwqF,EAA7C,YAAsDA,EAAtD,YAAT,EAAS,MACTK,EAAA,kBAA8BxgF,OAAOygF,YAArC,OAEAtjF,YAAW,WACTqjF,EAAA,+CACAA,EAAA,yCACAZ,GAAUY,EAAW,aAAZ,OAAyBJ,EAAzB,aAAT,EAAS,uBAHX,KAOFM,KAhDc,SAgDV,GACF,GAAKlxF,GAAOA,EAAR,SAAuBA,EAAA,QAA3B,SAEA,IAAM8wF,EAAU9wF,EAAA,uBAAhB,uBAEA,OAAI8wF,EAAA,OAAJ,CACA,IAAME,EAAYF,EAAQA,EAAA,OAA1B,GAEA,IAAIE,EAAA,QAAJ,UACKA,EAAA,wBAEL,IAAMhtE,EAAOitE,YAAA,MAAoB9nF,OAAO6nF,EAAA,QAAxC,WACMvlD,EAAQr0C,KAAA,IAAS,IAAT,EAAd,GAEAuW,YAAW,WACTqjF,EAAA,4CACAA,EAAA,0CAEArjF,YAAW,WACT,IAAMmjF,EAAU9wF,EAAA,uBAAhB,uBACI,IAAA8wF,EAAA,QAAwB9wF,EAAA,QAA5B,mBACEA,EAAA,eAAoBA,EAAA,QAApB,wBACOA,EAAA,QAAP,kBAGFgxF,EAAA,YAAwBhxF,EAAA,YAAegxF,EAAvC,cAPF,OAJF,QAiBJ,SAASG,GAAT,GACE,MAAwB,qBAAV11F,KAAd,EAGF,SAAS21F,GAAT,GACE,IAAM31F,EAAN,GACM0E,EAAUtD,EAAhB,cAEA,GAAKsD,GAAYA,EAAb,UAAgCA,EAAA,QAAhC,UAA2DtD,EAA/D,YAKA,GAFAA,EAAA,cAEIwzF,GAAJ,GACElwF,EAAA,mBACAA,EAAA,wBAMA,GAAIA,EAAA,QAAJ,QAA6B,OAO/B,GALA1E,EAAA,OAAe0E,EAAA,kBAA4BmwF,GAA3C,GACInwF,EAAA,QAAJ,QACE1E,EAAA,MAAc0E,EAAA,QAAd,OAGEkwF,GAAJ,GAAqB,CAEnB,GAAIlwF,EAAA,QAAJ,gBAAqC,OAErCA,EAAA,wBAAkC,WAChC2wF,GAAA,aAEF3wF,EAAA,kBAA4BqL,OAAA,YAAkB,WACxCrL,GAAWA,EAAX,SAA8BA,EAAA,QAAlC,kBACEA,EAAA,0BACAA,EAAA,gCAHJ,SAOA2wF,GAAA,aAIJ,SAASO,GAAT,GACE,IAAMlxF,EAAUtD,EAAhB,cACA,GAAKsD,GAAYA,EAAjB,SAMA,GAJAqL,OAAA,aAAoBrL,EAAA,QAJO,WAQvB,aAAAtD,EAAA,MAAyBsD,EAAA,QAA7B,gBAQE,OAPAA,EAAA,0BACAA,EAAA,wBAF4D,UAK5DA,EAAA,kBAA4BwN,YAAW,WACrC0jF,GAAA,OAKJ7lF,OAAA,YAAkB,WACZrL,EAAJ,UACEA,EAAA,uBAGJ2wF,GAAA,SAGF,SAASQ,GAAT,GACE,IAAMnxF,EAAUtD,EAAhB,cAEKsD,GAAYA,EAAjB,UAEIA,EAAA,QAAJ,kBACEA,EAAA,8BAGFqL,OAAA,aAAoBrL,EAAA,QAApB,YAGF,IAAIoxF,IAAJ,EAEA,SAASC,GAAT,GACOD,IAAmB10F,EAAA,UAAc,QAAd,OAAgCA,EAAA,UAAc,QAAtE,QACE00F,IAAA,EACAH,GAAA,IAIJ,SAASK,GAAT,GACEF,IAAA,EACAF,GAAA,GAGF,SAASK,GAAT,IACE,IAAIH,KACFA,IAAA,EACAF,GAAA,IAIJ,SAASM,GAAT,OACE,IAAMC,EAAUT,GAAgBU,EAAhC,OACA,GACEf,GAAA,QAEF9wF,EAAA,QAAaA,EAAA,SAAb,GACAA,EAAA,kBACA,IAAMvE,EAAQo2F,EAAA,OAAd,GACIp2F,EAAJ,SACEuE,EAAA,qBAEEvE,EAAJ,QACEuE,EAAA,cAAmB6xF,EAAA,MAAnB,OAEEp2F,EAAJ,SACEuE,EAAA,eAAoBvE,EAApB,QAEEm2F,IAAJ,GACE5xF,EAAA,iCAA8C,CAAE8xF,SAAS,IACzD9xF,EAAA,+BAA4C,CAAE8xF,SAAS,IACvD9xF,EAAA,gCAAmD,CAAE8xF,SAAS,IAC9D9xF,EAAA,mCAEAA,EAAA,iCACAA,EAAA,+BACAA,EAAA,kCAEAA,EAAA,+BACAA,EAAA,6BAEAA,EAAA,wBAb0B,IAgB1BA,EAAA,gCAA6C,CAAE8xF,SAAS,MAC9CF,GAAL,GACLG,GAAA,GAIJ,SAASA,GAAT,GACE/xF,EAAA,oCACAA,EAAA,qCACAA,EAAA,mCACAA,EAAA,oCACAA,EAAA,sCACAA,EAAA,kCACAA,EAAA,qCACAA,EAAA,kCACAA,EAAA,gCACAA,EAAA,oCACAA,EAAA,+BAGF,SAASgyF,GAAT,OACEL,GAAa3xF,EAAI6xF,GAAjB,GAcF,SAASI,GAAT,UACSjyF,EAAP,QACA+xF,GAAA,GAGF,SAASlnD,GAAT,KACE,GAAIgnD,EAAA,QAAkBA,EAAtB,UAIA,IAAMK,EAAaf,GAAgBU,EAAnC,UACAF,GAAa3xF,EAAI6xF,EAAjB,IAGK,IAAMM,GAAS,CACpBvqF,KADoB,GAEpBqqF,UACApnD,WAGF,MC7Ue,kBAAW,CACxBxoC,KADwB,WAGxBgrF,WAAY,CACV8E,OAAA,IAGFz4E,MAAO,CACL04E,YADK,OAELC,OAFK,QAGL1tB,SAHK,QAIL2tB,MAAO,CACLzxF,KADK,QAEL2qF,aAAS35E,GAEX0gF,UARK,QASLC,iBATK,OAULvuC,KAVK,QAWLo5B,KAAM,CAAC7sE,OAXF,QAYLlS,GAAI,CAACkS,OAZA,QAaLiiF,KAbK,QAcLj5F,QAdK,QAeLk5F,OAAQ,CACN7xF,KAAM,CAACuuF,QADD,QAEN5D,QAAS,MAEXvrF,IAnBK,OAoBL8N,OAAQyC,QAGVxI,KAAM,iBAAO,CACX2qF,UADW,EAEXC,WAAY,KAGdjI,SAAU,CACRhjE,QADQ,WAEN,IAAMA,EAAN,GAEA,OAAI1vB,KAAJ,KAEIA,KAAJ,cAAsB0vB,EAAQ1vB,KAAR,aAA4BA,KAA5B,UAClBA,KAAJ,aAAqB0vB,EAAQ1vB,KAAR,YAA2BA,KAA3B,WAHD0vB,GAOtBkrE,eAXQ,WAWM,MACZ,gBAAO56F,KAAP,WAAwBA,KAAD,UAAkBA,KAAzC,aAEF66F,YAdQ,WAeN,OAAI76F,KAAJ,UAEOm3F,QACLn3F,KAAK86F,QACL96F,KAAKo3F,WADL,OAEAp3F,KAAKo3F,WAFL,WAGAp3F,KAAK+6F,OAJP,WAOFD,OAxBQ,WAyBN,OAAO96F,KAAKqG,IAAMrG,KAAX,MAAwBA,KAA/B,MAEFyvB,OAAQ,sBAGVulE,MAAO,CACLgG,OAAQ,iBAGVC,QArEwB,WAsEtBj7F,KAAA,iBAGFgzF,QAAS,CACPkI,kBADO,WACU,MAEf,EADIb,EAAQr6F,KAAZ,MAGM+P,GAAI,GACR9H,MAAO,CACLmiE,SAAU,aAAcpqE,KAAd,OAA4BA,KAAK+6F,OAAjC,cAAmDnhF,GAE/Do4E,MAAOhyF,KAJe,QAKtBiG,MAAOjG,KALe,OAMtByhB,MANsB,GAOtB2zE,WAAY,CAAC,CACXhrF,KADW,SAEX5G,MAAOxD,KAAK46F,kBATN,kBAWP56F,KAAKqG,GAAK,WAAX,KAXQ,mCAYHrG,KAD0B,YAEzB,UAAWA,KAAO,CAAEm7F,MAAQn7F,KAAam7F,YAA7C,IAbM,wBAeH,QAfG,GAuBV,GALA,qBAAWn7F,KAAP,QACFq6F,EAAoB,MAAZr6F,KAAKqG,IACVrG,KAAKqG,KAAO0H,OAAO/N,KAAnB,KADH,MACkCA,KAAKqG,GAAGoL,MAGxCzR,KAAJ,GAAa,CAGX,IAAIm6F,EAAcn6F,KAAlB,YACIu6F,EAAmBv6F,KAAKu6F,kBAA5B,EAEIv6F,KAAJ,aACEm6F,EAAc,UAAGA,EAAH,YAAkBn6F,KAAlB,YAAd,OACAu6F,EAAmB,UAAGA,EAAH,YAAuBv6F,KAAvB,YAAnB,QAGFgI,EAAMhI,KAAKw6F,KAAO,YAAlB,cACAzsF,OAAA,OAAcgC,EAAd,MAA0B,CACxB1J,GAAIrG,KADoB,GAExBq6F,QACAC,UAAWt6F,KAHa,UAIxBm6F,cACAI,mBACAH,OAAQp6F,KANgB,OAOxBuB,QAASvB,KAAKuB,eAGhByG,GAAOhI,KAAKolF,KAAN,IAAsBplF,KAAtB,MAAN,MAEI,MAAAgI,GAAehI,KAAnB,OAA8B+P,EAAA,WAAmB/P,KAAnB,MAKhC,OAFIA,KAAJ,SAAiB+P,EAAA,aAAqB/P,KAArB,QAEV,CAAEgI,MAAK+H,SAEhBqrF,cA3DO,WA2DM,WACX,GAAKp7F,KAAD,IAAaA,KAAK2yF,MAAlB,MAAiC3yF,KAArC,QACA,IAAMm6F,EAAc,UAAGn6F,KAAKm6F,aAAe,GAAvB,YAA6Bn6F,KAAK26F,YAAlC,IAApB,OACMJ,EAAmB,UAAGv6F,KAAKu6F,kBAAoB,GAA5B,YAAkCv6F,KAAK26F,YAAvC,YAAzB,EAEMlpF,EAAO,sBAAwBzR,KAAKq6F,MAAQE,EAAlD,GAEAv6F,KAAA,WAAe,YAER,gBAAqB,QAAD,KAArB,KAAiD,EAArD,UACE,gBAINs+D,OAzEO,WA0ELt+D,KAAA,UAAiBA,KAAjB,aC1IS,UAAAm1F,GAAA,MAAO,GAAD,GAAN,WAIN,CACP/qF,KADO,SAGPqX,MAAO,CACL45E,KADK,QAELC,MAFK,QAGL1tC,IAHK,OAIL5B,KAJK,QAKL6rC,aAAc,CACZjvF,KAAM,CAACsI,OADK,QAEZqiF,QAAS,GAEXgI,OAAQpE,SAGVzE,SAAU,CACRhjE,QADQ,WAEN,wCACE,UADK,GAEF,iCAFE,OAAP,IAGE,eAAgB1vB,KAHX,KAIL,gBAAiBA,KAJZ,MAKL,eAAgBA,KALX,YAML,kBAAmBA,KANd,QAOL,mBAAoBA,KAPf,SAQL,iBAAkBA,KARb,QASF,yCAGPyvB,OAdQ,WAeN,IAAMxpB,EAAK,mBACN,uCAOL,OAJIjG,KAAJ,MACEiG,EAAA,0BAA2BjG,KAA3B,2CAGF,IAIJgzF,QAAS,CACP8E,YADO,WAEL,IAAMpE,EAAS,oCAAf,MAEA,SAEO1zF,KAAK4jF,eAAe,MAAO,CAChCG,YADgC,mBAEhC17E,IAAK,YACJ,CAHH,IAFoB,OASxBqrF,OAvDO,SAuDD,GACJ,MAAsB1zF,KAAtB,oBAAM,EAAN,EAAM,IAAO+P,EAAb,EAAaA,KASb,OAPAA,EAAA,MAAa/P,KAAb,OAEIA,KAAJ,cACE+P,EAAA,MAAaA,EAAA,OAAb,GACAA,EAAA,kBAGKoc,EAAEnkB,EAAKhI,KAAK+1F,mBAAmB/1F,KAAxB,MAAN,GAAiD,CACvDA,KADuD,cAEvDA,KAAK+3F,OAFP,aC/EEyD,I,0FAAc,CAAC,KAAM,KAAM,KAAjC,OAEMC,GAAmB,WACvB,OAAOD,GAAA,QAAmB,cAKxB,OAJA/5E,EAAA,GAAa,CACX7Y,KAAM,CAACuuF,QAAS5+E,OADL,QAEXg7E,SAAS,GAEX,IALF,IADuB,GAUnBmI,GAAe,WACnB,OAAOF,GAAA,QAAmB,cAKxB,OAJA/5E,EAAM,SAAW,gBAAjB,IAAoC,CAClC7Y,KAAM,CAAC2P,OAD2B,QAElCg7E,QAAS,MAEX,IALF,IADmB,GAUfoI,GAAc,WAClB,OAAOH,GAAA,QAAmB,cAKxB,OAJA/5E,EAAM,QAAU,gBAAhB,IAAmC,CACjC7Y,KAAM,CAAC2P,OAD0B,QAEjCg7E,QAAS,MAEX,IALF,IADkB,GAUdqI,GAAU,CACd/6E,IAAK9S,OAAA,KADS,IAEdwmB,OAAQxmB,OAAA,KAFM,IAGd0U,MAAO1U,OAAA,UAGT,SAAS8tF,GAAT,OACE,IAAInzF,EAAJ,EACA,GAAI,MAAA2B,IAAJ,IAAmBA,EAAnB,CAGA,KAAU,CACR,IAAMyxF,EAAaz8E,EAAA,UAAnB,IACA3W,GAAa,IAAJ,OAAT,GAKF,MAAI,QAAAE,GAAmB,KAAAyB,IAAvB,IAAqCA,GAKrC3B,GAAa,IAAJ,OAAT,GACOA,EAAP,eAJSA,EAAP,eAOJ,IAAM,GAAQ,IAAd,IAEe,kBAAW,CACxB0B,KADwB,QAExBkpF,YAFwB,EAGxB7xE,MAAO,iEACLs6E,KAAM,CACJnzF,KAAM,CAACuuF,QAAS5+E,OADZ,QAEJg7E,SAAS,IAHN,IAAF,IAMHh/D,OAAQ,CACN3rB,KAAM,CAAC2P,OADD,QAENg7E,QAAS,OARN,IAAF,IAWH9wE,MAAO,CACL7Z,KAAM,CAAC2P,OADF,QAELg7E,QAAS,OAbN,IAAF,IAgBHyI,UAAW,CACTpzF,KADS,OAET2qF,QAFS,KAGT0I,UAAY,SAAA38F,GAAD,MAAc,CAAC,OAAQ,QAAS,MAAO,SAAU,WAAY,WAAW48F,SAAS58F,KAE9F0I,IAAK,CACHY,KADG,OAEH2qF,QAAS,SAGbG,OA7BwB,SA6BlB,EA7BkB,GA6BoB,IAAjC,EAAiC,EAAjC,QAAiC,EAAjC,OAAiC,EAAjC,SAELyI,GAFsC,EAAR3+E,OAElC,IACA,IAAK,IAAL,OACE2+E,GAAY5jF,OAAQkJ,EAApB,IAEF,IAAI26E,EAAY,OAAhB,GA4BA,OA1BA,GAAgB,iBAGd,EACA,SAHAA,EADc,GAId,GACER,GAAA,YAAsB,SAAAv8E,GACpB,IAAM7b,EAAoCie,EAA1C,GACM/Y,EAAYmzF,GAAgBjzF,EAAMyW,EAAxC,GACA,GAAe+8E,EAAA,WAInB,IAAMC,EAAgBD,EAAA,MAAe,SAAA1zF,GAAS,OAAIA,EAAA,WAAlD,WAEA0zF,EAAA,SAEEv7E,KAAMw7E,IAAkB56E,EAFX,MAAf,gCAGUA,EAAR,MAAuBA,EAHV,MAAf,mCAIaA,EAAX,QAA4BA,EAJf,QAAf,kCAKYA,EAAV,OAA0BA,EALb,OAAf,uCAMiBA,EAAf,WAAmCA,EAAMu6E,WAN3C,IASA,YAvBc,GA0BT7vE,EAAE1K,EAAD,IAAY,OAAAmyE,GAAA,MAAU7jF,EAAM,CAAEiiF,MAAOoK,IAA7C,MC5HE,I,UAAc,CAAC,KAAM,KAAM,KAAjC,OAEME,GAAY,CAAC,QAAS,MAA5B,UAEA,SAASC,GAAT,KACE,OAAO,WAAmB,cAExB,OADA96E,EAAMi4D,EAAS,gBAAf,IAAkC8iB,IAClC,IAFF,IAMF,IAAMC,GAAkB,SAAAn9F,GAAD,MAAc,8CAArC,IACMo9F,GAAaH,GAAU,SAAS,iBAAO,CAC3C3zF,KAD2C,OAE3C2qF,QAF2C,KAG3C0I,UAAWQ,OAGPE,GAAoB,SAAAr9F,GAAD,MAAc,wDAAvC,IACMs9F,GAAeL,GAAU,WAAW,iBAAO,CAC/C3zF,KAD+C,OAE/C2qF,QAF+C,KAG/C0I,UAAWU,OAGPE,GAAyB,SAAAv9F,GAAD,MAAc,kEAA5C,IACMw9F,GAAoBP,GAAU,gBAAgB,iBAAO,CACzD3zF,KADyD,OAEzD2qF,QAFyD,KAGzD0I,UAAWY,OAGP,GAAU,CACd3iD,MAAOnsC,OAAA,KADO,IAEdgvF,QAAShvF,OAAA,KAFK,IAGdivF,aAAcjvF,OAAA,UAGVkvF,GAAW,CACf/iD,MADe,QAEf6iD,QAFe,UAGfC,aAAc,iBAGhB,SAAS,GAAT,OACE,IAAIt0F,EAAYu0F,GAAhB,GACA,SAAI5yF,EAAJ,CAGA,KAAU,CAER,IAAMyxF,EAAaz8E,EAAA,UAAnB,IACA3W,GAAa,IAAJ,OAAT,GAIF,OADAA,GAAa,IAAJ,OAAT,GACOA,EAAP,eAGF,IAAM,GAAQ,IAAd,IAEe,kBAAW,CACxB0B,KADwB,QAExBkpF,YAFwB,EAGxB7xE,MAAO,iDACLzZ,IAAK,CACHY,KADG,OAEH2qF,QAAS,OAEX2J,MALK,QAMLC,UANK,QAOLjjD,MAAO,CACLtxC,KADK,OAEL2qF,QAFK,KAGL0I,UAAWQ,KAVR,IAAF,IAaHM,QAAS,CACPn0F,KADO,OAEP2qF,QAFO,KAGP0I,UAAWU,KAhBR,IAAF,IAmBHK,aAAc,CACZp0F,KADY,OAEZ2qF,QAFY,KAGZ0I,UAAWY,KAEVC,IAELpJ,OA7BwB,SA6BlB,EA7BkB,GA6BY,IAAzB,EAAyB,EAAzB,QAAyB,EAAzB,KAAenoE,EAAU,EAAVA,SAEpB4wE,EAAJ,GACA,IAAK,IAAL,OACEA,GAAY5jF,OAAQkJ,EAApB,IAEF,IAAI26E,EAAY,OAAhB,GAyBA,OAvBA,GAAgB,iBAGd,EACA,SAHAA,EADc,GAId,GACE,eAAsB,SAAA/8E,GACpB,IAAM7b,EAAiBie,EAAvB,GACM/Y,EAAY,GAAgBE,EAAMyW,EAAxC,GACA,GAAe+8E,EAAA,WAInBA,EAAA,SACE,aAAc36E,EADD,UAEb,aAAcA,EAFD,OAAf,kCAGYA,EAAV,OAA0BA,EAHb,OAAf,oCAIcA,EAAZ,SAA8BA,EAJjB,SAAf,0CAKoBA,EAAlB,cAAyCA,EAAMu7E,cALjD,IAQA,YApBc,GAuBT7wE,EACL1K,EADM,IAEN,OAAAmyE,GAAA,MAAU7jF,EAAM,CACdg0E,YADc,MAEdiO,MAAOoK,IAJX,MCzHAgB,GAAY,gBACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,GAAAA,GAAiB,QAOhC,KAAkBA,GAAW,CAACC,MAAA,GAAMC,QAAKC,UCsCzC,iBAGA,iDAEA,IACExtF,KADF,WAEI,MAAO,CACLi0E,QAAQ,EACRxgF,MAAO,CACLoF,KAAM2P,OACNg6E,UAAU,GAEZjF,WAAW,EACXn+E,OAAQ,GACRquF,MAAO,EACPpzF,KAAM,GACNw6E,KAAM,GACNG,UAAU,EACVD,QAAS,IACTE,YAAa,GACbb,MAAO,GACPlyE,KAAM,GACNwrF,IAAK,GACLC,QAAI9jF,EACJ+jF,UAAW,EACXC,cAAe,IAGnBpL,WAAY,CACVqL,OAAJ,IAEE5C,QA3BF,aA4BEjI,QAAS,CACPnO,WADJ,WAEM,GAAkB,KAAd7kF,KAAKoK,MAA6B,KAAdpK,KAAK4kF,KAA7B,CAGA5kF,KAAK89F,mBACL99F,KAAKgkF,QAAS,EACdpB,QAAQC,IAAI7iF,KAAKoK,KAAMpK,KAAK4kF,MAC5B,IAAN,YACA,YACM5kF,KAAKmP,OAAOF,KAAK,OAAQ,CACvB7E,KAAR,EACQw6E,KAAR,MAGIN,SAfJ,WAgBMtkF,KAAKgkF,QAAS,EACdhkF,KAAKiS,KAAO,GACZjS,KAAKmP,OAAO2B,SAEdgtF,iBApBJ,WAoBA,WACM99F,KAAK09F,GAAK,IAAIlb,GACdxiF,KAAKmP,OAAS,GAApB,IACQu4E,WAAY,CAAC,YAAa,UAAW,iBAEvC1nF,KAAKmP,OAAO2F,GAAG,gBAAgB,SAArC,GACQ,EAAR,mBACQ,EAAR,eAEM9U,KAAKmP,OAAO2F,GAAG,YAAY,SAAjC,GACQ,EAAR,iBAEM9U,KAAKmP,OAAO2F,GAAG,QAAQ,SAA7B,4BACA,qBACQ,EAAR,SACY+nB,IAEF,EAAV,eACU,EAAV,4CACU,EAAV,YACU,EAAV,qBAII2nD,mBA5CJ,SA4CA,GACuB,GAAbz0E,EAAKzJ,MAAwB,GAAXyJ,EAAKvL,IAAWxE,KAAK29F,WACzC39F,KAAK29F,YACL39F,KAAK2yF,MAAMoL,OAAO5K,aAAanzF,KAAK09F,GAAG/zC,cAEvC3pD,KAAK09F,GAAGM,aAAajuF,EAAKzJ,KAAMyJ,EAAKvL,KAGzC+/E,iBApDJ,SAoDA,GACM,IAAN,uBACMvkF,KAAK09F,GAAGO,WAAW1kB,GACnBv5E,KAAKmP,OAAOF,KAAK,WAAYsqE,MCvJ+S,M,0BCgBnU,I,8BAAA,eAAiB,CAC9BnvE,KAD8B,sBAG9BgrF,WAAY,CAAEC,aAAA,MAEd5zE,MAAO,CACL/M,OADK,QAELghF,cAFK,QAGLwI,OAAQ,CACNt1F,KAAM,CAACsI,OADD,QAENqiF,QAAS,GAEXnoE,KAAM,CACJxiB,KAAM,CAACsI,OADH,QAEJqiF,QAAS,IAEXh0D,MAAO,CACL32B,KAAM,CAACsI,OADF,QAELqiF,QAAS,GAEX/vF,MAAO,CACLoF,KAAM,CAACsI,OADF,QAELqiF,QAAS,IAIbxjF,KAAM,iBAAO,CACX0oF,OADW,GAEX5C,WAAW,IAGbnD,SAAU,CACRyL,eADQ,WAEN,OAAOjtF,OAAOlR,KAAP,OAAqBA,KAAK0U,OAAS,EAA1C,IAGF0pF,cALQ,WAMN,OAAO,EAAIj/F,KAAJ,GAAca,KAArB,QAGF0vB,QATQ,WAUN,MAAO,CACL,+BAAgC1vB,KAD3B,UAEL,qCAAsCA,KAFjC,cAGL,8BAA+BA,KAAK0U,SAIxCuiF,gBAjBQ,WAkBN,OAAIj3F,KAAKwD,MAAT,EACE,EAGExD,KAAKwD,MAAT,IACE,IAGKizF,WAAWz2F,KAAlB,QAGFq+F,gBA7BQ,WA8BN,OAAOl/F,KAAA,UAAWa,KAAKo+F,eAAvB,KAGFE,iBAjCQ,WAkCN,OAAS,IAAMt+F,KAAP,iBAAD,IAAuCA,KAAvC,cAAP,MAGFu+F,YArCQ,WAsCN,OAAOrtF,OAAOlR,KAAP,QAAsBA,KAAtB,KAAkCA,KAAlC,YAAP,GAGFyvB,OAzCQ,WA0CN,MAAO,CACL3D,OAAQ,gBAAc9rB,KADjB,gBAELu/B,MAAO,gBAAcv/B,KAAD,kBAIxBw+F,UAhDQ,WAiDN,MAAO,CACLrG,UAAW,UAAF,OAAYjnF,OAAOlR,KAAD,QAAlB,UAIby+F,YAtDQ,WAuDN,OAAOz+F,KAAKy4F,QAAU,EAAIvnF,OAAOlR,KAAP,QAAsBA,KAAhD,QAIJgzF,QAAS,CACP0L,UADO,SACE,KACP,OAAO1+F,KAAK4jF,eAAe,SAAU,CACnCoO,MAAO,wBAAF,OAD8B,GAEnC/pF,MAAO,CACL02F,KADK,cAELC,GAAI,EAAI5+F,KAFH,YAGL6+F,GAAI,EAAI7+F,KAHH,YAILwe,EAAGxe,KAJE,OAKL,eAAgBA,KALX,YAML,mBAAoBA,KANf,gBAOL,oBAAqBu0B,MAI3BuqE,OAfO,WAgBL,IAAMvzE,EAAW,CACfvrB,KAAK01F,eAAiB11F,KAAK0+F,UAAU,WADtB,GAEf1+F,KAAK0+F,UAAU,UAAW1+F,KAF5B,mBAKA,OAAOA,KAAK4jF,eAAe,MAAO,CAChC39E,MAAOjG,KADyB,UAEhCiI,MAAO,CACL82F,MADK,6BAELC,QAAS,GAAF,OAAKh/F,KAAKy+F,YAAV,YAAyBz+F,KAAKy+F,YAA9B,YAA6C,EAAIz+F,KAAKy+F,YAAtD,YAAqE,EAAIz+F,KAAKy+F,eAJzF,IAQFQ,QA7BO,WA8BL,OAAOj/F,KAAK4jF,eAAe,MAAO,CAChCG,YAAa,6BACZ/jF,KAAK+3F,OAFR,UAIFL,UAlCO,SAkCE,OACP13F,KAAA,cAIJ0zF,OAjI8B,SAiIxB,GACJ,OAAOvnE,EAAE,MAAOnsB,KAAKw2F,aAAax2F,KAAlB,MAA8B,CAC5C+jF,YAD4C,sBAE5C97E,MAAO,CACL0vF,KADK,cAEL,gBAFK,EAGL,gBAHK,IAIL,gBAAiB33F,KAAK01F,mBAAgB97E,EAAY5Z,KAAKi3F,iBAEzDjF,MAAOhyF,KARqC,QAS5Co1F,WAAY,CAAC,CACXhrF,KADW,YAEX5G,MAAOxD,KAAK03F,YAEdzxF,MAAOjG,KAbqC,OAc5C8U,GAAI9U,KAAKo3F,aACP,CACFp3F,KADE,SAEFA,KAjBF,gBC/IJ,M,aCCA,SAASk/F,GAAT,KACE,OAAO,kBAAM,gBAAY,OAAD,OAAQ32F,EAAR,4CAAxB,KAUI,mBAGJ,IAAM42F,EAAc52F,GAAA,EAAkB,CACpC62F,SAAUF,GAAgB32F,EADU,GAEpC82F,WAAYH,GAAgB32F,EAAOiV,IAFrC,KAKA,OAAO,eAAW,CAChBpT,KADgB,qBAGhBk1F,OAAQ,mBACN,EAAa,CACX/L,QAAS4L,MAMX,eAAkD,IAAZ7rF,EAAY,wDACtD,OAAO,eAAW,CAChBlJ,KADgB,sBAGhBm1F,QAHgB,WAId,0BACE,EAAajsF,EAAOtT,KAAO,CACzBo/F,SAAWp/F,KADc,SAEzBq/F,WAAar/F,KAAaq/F,gBC1B9B,mBAKJ,OAAO,GAAiB,IAAjB,UAAyD,CAC9Dj1F,KAD8D,YAG9DqX,MAAO,CACL04E,YAAa,CACXvxF,KADW,OAEX2qF,QAFW,WAGT,GAAKvzF,KAAL,GAEA,OAAOA,KAAKw/F,GAAZ,cAGJ9yB,SAAUyqB,SAGZpnF,KAf8D,WAgB5D,MAAO,CACL2qF,UAAU,IAIdhI,SAAU,CACR+M,aADQ,WAEN,OAAKz/F,KAAL,YAEA,mBACGA,KAAD,YAAoBA,KAAK06F,UAHG,KAQlCgF,QA/B8D,WAgC5D1/F,KAAA,IAAoBA,KAAKw/F,GAAL,SAApBx/F,OAGF2/F,cAnC8D,WAoC5D3/F,KAAA,IAAoBA,KAAKw/F,GAAL,WAApBx/F,OAGFgzF,QAAS,CACP10B,OADO,WAELt+D,KAAA,oBAOU,GAAlB,iB,0BCnEe,I,UAAA,eAAW,CACxBoK,KADwB,WAGxBqX,MAAO,CACLm+E,MADK,QAELC,MAFK,QAGLC,OAHK,QAILC,OAAQ5I,SAGVzE,SAAU,CACRsN,OADQ,WAEN,OAAO7I,SACJn3F,KAAD,SACCA,KADD,QAECA,KAFD,QAGCA,KAJH,SAOFigG,gBATQ,WAUN,MAAO,CACL,kBAAmBjgG,KADd,OAEL,gBAAiBA,KAFZ,MAGL,kBAAmBA,KAHd,OAIL,gBAAiBA,KAJZ,MAKL,kBAAmBA,KAAK8/F,aCD1B,GAAa,OAAA3K,GAAA,MAAO,GAAD,cAKvB,GALuB,aAMvB,gBAAkB,eAOL,sBAAoC,CACjD/qF,KADiD,QAGjDqX,MAAO,CACL04E,YAAa,CACXvxF,KADW,OAEX2qF,QAFW,WAGT,OAAKvzF,KAAL,UAEOA,KAAKkgG,UAAZ,YAF4B,KAKhCC,MATK,QAULC,UAVK,QAWLC,IAXK,QAYLC,KAZK,QAaL1I,QAbK,QAcL2I,SAdK,QAeLC,MAfK,QAgBLC,mBAhBK,QAiBL9K,QAjBK,QAkBL3tF,IAAK,CACHY,KADG,OAEH2qF,QAAS,UAEXpwF,KAtBK,QAuBLu9F,KAvBK,QAwBL93F,KAAM,CACJA,KADI,OAEJ2qF,QAAS,UAEX/vF,MAAO,MAGTuM,KAAM,iBAAO,CACX4qF,WAAY,kBAGdjI,SAAU,CACRhjE,QADQ,WAEN,wFACE,SADK,GAEF,iCAFE,OAAP,IAGE,kBAAmB1vB,KAHd,SAIL,eAAgBA,KAJX,MAKL,gBAAiBA,KALZ,OAML,kBAAmBA,KANd,SAOL,qBAAsBA,KAPjB,WAQL,aAAcA,KART,IASL,eAAgBA,KATX,MAUL,gBAAiBA,KAVZ,MAWL,cAAeA,KAXV,KAYL,cAAeA,KAZV,KAaL,iBAAkBA,KAbb,QAcL,kBAAmBA,KAdd,SAeL,eAAgBA,KAfX,MAgBL,eAAgBA,KAhBX,MAiBL,eAAgBA,KAjBX,QAkBL,iBAAkBA,KAlBb,QAmBL,gBAAiBA,KAnBZ,GAoBL,cAAeA,KApBV,KAqBL,cAAeA,KArBV,KAsBL,aAAcA,KAtBT,KAuBFA,KAvBE,cAwBFA,KAxBE,cAyBFA,KAzBE,kBA0BFA,KAAKigG,kBAGZU,kBA/BQ,WAgCN,IAAI3gG,KAAJ,SAEA,OAAO,gDAAP,OAEF46F,eApCQ,WAoCM,MACNgG,GAAgB5gG,KAAKsgG,OAAQtgG,KAAb,KAAwB,CAAE6gG,QAAQ,GACxD,OAAI7gG,KAAJ,WACK,SAAOA,KAAP,cAEP8gG,MAzCQ,WA0CN,OAAQ9gG,KAAD,OAAeA,KAAf,QAA8BA,KAA9B,WAAgDA,KAAvD,MAEF+gG,WA5CQ,WA6CN,OAAO5J,SACJn3F,KAAD,OACCA,KADD,OAECA,KAFD,WAGCA,KAHD,YAICA,KAJD,WAKCA,KALD,QAMmB,MAAlBA,KAAKghG,WAAqB9vF,OAAOlR,KAAP,WAP7B,KAUFihG,QAvDQ,WAwDN,OAAO9J,QACLn3F,KAAKsgG,MACLtgG,KAFF,MAKFyvB,OA7DQ,WA8DN,0BACKzvB,KAAKkhG,oBAKdxB,QA1GiD,WA0G1C,WACCyB,EAAgB,CACpB,CAAC,OADmB,QAEpB,CAAC,UAFmB,YAGpB,CAAC,QAHH,YAOAA,EAAA,SAAsB,YAA4B,2BAA3B,EAA2B,KAA5B,EAA4B,KAC5C,wBAAJ,IAA0C,gBAASC,EAAUC,EAAnB,OAI9CrO,QAAS,CACPmI,MADO,SACF,IAEFn7F,KAAD,qBAA6BA,KAA7B,KAAyC4E,EAAzC,QAAqD5E,KAAKy3F,IAA1D,OACAz3F,KAAA,iBAEAA,KAAA,WAAkBA,KAAlB,UAEFq3F,WARO,WASL,OAAOr3F,KAAK4jF,eAAe,OAAQ,CACjCG,YAAa,kBACZ/jF,KAAK+3F,OAFR,UAIFuJ,UAbO,WAcL,OAAOthG,KAAK4jF,eAAe,OAAQ,CACjCoO,MAAO,iBACNhyF,KAAK+3F,OAAOwJ,QAAU,CAACvhG,KAAK4jF,eAAe,GAAmB,CAC/DniE,MAAO,CACLi0E,eADK,EAELtqE,KAFK,GAGLmU,MAAO,SAMfm0D,OAjJiD,SAiJ3C,GACJ,IAAMnoE,EAAW,CACfvrB,KADe,aAEfA,KAAK43F,SAAW53F,KAFlB,aAIA,EAAsBA,KAAtB,oBAAM,EAAN,EAAM,IAAO+P,EAAb,EAAaA,KACPyxF,EAAWxhG,KAAK8gG,MAClB9gG,KADa,mBAEbA,KAFJ,aAYA,MARA,WAAIgI,IACF+H,EAAA,WAAmB/P,KAAnB,KACA+P,EAAA,eAAuB/P,KAAvB,UAEF+P,EAAA,YAAoB,CAAC,SAAU,UAAUmsF,SAAS,OAA9B,QAA8B,CAAOl8F,KAArC,QAChBA,KADgB,MAEhB6pF,KAAA,UAAe7pF,KAFnB,OAIOmsB,EAAEnkB,EAAKhI,KAAK0sE,SAAW38D,EAAOyxF,EAASxhG,KAAD,MAArC,GAAR,MCrMEyhG,IAFe,gBAArB,mBACsB,gBAAtB,oBACkB,gBAAlB,iBACmB,gBAAnB,iB,8BCHc,eAEZ,OAAO,eAAW,CAChBr3F,KAAM,KAAF,OADY,GAGhBkpF,YAHgB,EAKhB7xE,MAAO,CACLzB,GADK,OAELhY,IAAK,CACHY,KADG,OAEH2qF,QAAS,QAIbG,OAbgB,SAaV,EAbU,GAaoB,IAAzB,EAAyB,EAAzB,QAAyB,EAAzB,KAAenoE,EAAU,EAAVA,SACxBxb,EAAA,YAAoB,UAAG3F,EAAH,YAAW2F,EAAA,aAAZ,IAAnB,OAEA,IAAQ9H,EAAR,EAAQA,MACR,KAAW,CAET8H,EAAA,SACA,IAAM2f,EAAU3hB,OAAA,gBAA0B,SAAA1F,GAGxC,YAAIA,EAAgB,OAAO,EAE3B,IAAM7E,EAAQyE,EALgC,GAS9C,OAAII,EAAA,WAAJ,UACE0H,EAAA,YACA,GAGKvM,GAAP,kBAAuBA,KAGrBksB,EAAJ,SAAoB3f,EAAA,wBAAwB2f,EAAA,KAAxB,OAQtB,OALIjO,EAAJ,KACE1R,EAAA,SAAgBA,EAAA,UAAhB,GACAA,EAAA,YAAmB0R,EAAnB,IAGK0K,EAAE1K,EAAD,MAAR,MC1CS,8BAAyB,CACtCrX,KADsC,cAEtCkpF,YAFsC,EAGtC7xE,MAAO,CACLzB,GADK,OAELhY,IAAK,CACHY,KADG,OAEH2qF,QAAS,OAEXmO,MAAO,CACL94F,KADK,QAEL2qF,SAAS,IAGbG,OAdsC,SAchC,EAdgC,GAcF,IAClC,EADS,EAAyB,EAAzB,QAAyB,EAAzB,KAAenoE,EAAU,EAAVA,SAEhBtjB,EAAR,EAAQA,MA2BR,OA1BA,IAEE8H,EAAA,SACA2f,EAAU3hB,OAAA,gBAA0B,SAAA1F,GAGlC,YAAIA,EAAgB,OAAO,EAE3B,IAAM7E,EAAQyE,EAL0B,GASxC,OAAII,EAAA,WAAJ,UACE0H,EAAA,YACA,GAGKvM,GAAP,kBAAuBA,MAIvBie,EAAJ,KACE1R,EAAA,SAAgBA,EAAA,UAAhB,GACAA,EAAA,YAAmB0R,EAAnB,IAGK0K,EACL1K,EADM,IAEN,OAAAmyE,GAAA,MAAU7jF,EAAM,CACdg0E,YADc,YAEdiO,MAAOhgF,MAAW,CAChB,mBAAoByP,EAAMigF,QADrB,OAEGhyE,GAFH,MAJX,M,mCC/BW,UAAAylE,GAAA,MAAO,GAAD,KAEnB,GAAmB,SAFN,OAIN,CACP/qF,KADO,SAGPm1F,QAHO,WAIL,MAAO,CAAEh1B,KAAMvqE,OAGjB2hG,cAPO,EASPlgF,MAAO,CACLirD,SADK,QAELk1B,eAFK,QAGLC,SAHK,QAILr+F,MAAO2zF,SAGTpnF,KAAM,iBAAO,CACX+xF,OADW,GAEXC,SAFW,GAGXC,SAAU,KAGZhN,MAAO,CACLgN,SAAU,CACR/2F,QADQ,SACD,GACL,IAAMg3F,EAASl0F,OAAA,oBAAf,GAEA/N,KAAA,mBAEFkiG,MANQ,EAOR18F,WAAW,IAIfwtF,QAAS,CACPmP,WADO,SACG,GAAY,WACdC,EAAW,SAAA1nE,GACf,OAAOA,EAAA,mBAA0B,SAAArwB,GAC/B,OAAU,EAAV,SAAyBqwB,EAAzB,UACC,CAAEl1B,WAAW,KAGZu8F,EAAqB,CACzBM,KAAM3nE,EADmB,KAEzB4nE,MAAO,aACPC,eAAgB,cAiBlB,OAdIviG,KAAJ,eAEE+hG,EAAA,eAA0BrnE,EAAA,yBAAgC,SAAArwB,GACxD,IAGI,0BAA6BqwB,EAAjC,QAEAqnE,EAAA,MAAiBK,EAAjB,QAGFL,EAAA,MAAiBK,EAAjB,GAGF,GAGFI,SA/BO,WAgCL,WAAOxiG,KAAK8hG,OAAO78C,QAAO,SAAAvqB,GAAK,OAAKA,EAAA,UAA7B,cAGT75B,MAnCO,WAoCLb,KAAA,gBAAoB,SAAA06B,GAAK,OAAIA,EAA7B,WACA16B,KAAA,iBAEFyiG,cAvCO,WAuCM,WACPziG,KAAJ,gBAEE0V,YAAW,WACT,gBADF,IAMJgtF,gBAhDO,WAiDL1iG,KAAA,gBAAoB,SAAA06B,GAAK,OAAIA,EAA7B,qBACA16B,KAAA,iBAEFo/F,SApDO,SAoDC,GACNp/F,KAAA,eACAA,KAAA,cAAmBA,KAAKmiG,WAAxB,KAEF9C,WAxDO,SAwDG,GACR,IAAM38E,EAAQ1iB,KAAK8hG,OAAOt6F,MAAK,SAAAzI,GAAC,OAAIA,EAAA,OAAW27B,EAA/C,QAEA,MAEA,IAAMioE,EAAU3iG,KAAK+hG,SAASv6F,MAAK,SAAAzI,GAAC,OAAIA,EAAA,OAAW2jB,EAAnD,QACA,IACEigF,EAAA,QACAA,EAAA,kBAGF3iG,KAAA,SAAgBA,KAAK+hG,SAAS98C,QAAO,SAAAlmD,GAAC,OAAIA,EAAA,OAAW2jB,EAArD,QACA1iB,KAAA,OAAcA,KAAK8hG,OAAO78C,QAAO,SAAAlmD,GAAC,OAAIA,EAAA,OAAW2jB,EAAjD,QACA1iB,KAAA,QAAaA,KAAb,SAA4B0iB,EAA5B,SAIJgxE,OA3GO,SA2GD,GAAG,WACP,OAAOvnE,EAAE,OAAQ,CACf43D,YADe,SAEf97E,MAAO,iBACL26F,YADK,GAEF5iG,KAAK6iG,QAEV/tF,GAAI,CACF21D,OAAS,SAAA7lE,GAAD,OAAc,uBAEvB5E,KAAK+3F,OATR,YChHW,I,UAAA,OAAA5C,GAAA,MAAO,GAAD,qBAInB,gBAAoB,CAAC,WAAD,wBAAD,SAJN,OAYN,CACP/qF,KADO,aAGPqX,MAAO,CACLqhF,IADK,QAELC,SAFK,QAGLC,aAAc,CACZp6F,KADY,OAEZ2qF,QAAS,IAEX0P,UAPK,QAQL9/F,KARK,QASL2hF,QAAS,CACPl8E,KAAM,CAACsI,OADA,QAEPqiF,QAAS,KAEXU,WAAY,CACVrrF,KAAM,CAACuuF,QADG,QAEV5D,QAFU,qBAGV0I,UAAW,SAAA92C,GAAC,MAAiB,kBAANA,IAAwB,IAANA,IAE3C+9C,SAAU/L,SAGZpnF,KAAM,iBAAO,CACXozF,eAAgB,IAGlBzQ,SAAU,CACRhjE,QADQ,WAEN,MAAO,CACL,oBAAqB1vB,KADhB,SAEL,kBAAmBA,KAFd,SAGL,kBAAmBA,KAAK6D,SAAW7D,KAH9B,IAIL,oBAAqBA,KAJhB,SAKL,0BAA2BA,KALtB,cAML,gBAAiBA,KANZ,KAOL,sBAAuBA,KAAKijG,YAAcjjG,KAPrC,SAQL,iBAAkBA,KARb,MASL,gBAAiBA,KATZ,KAUL,eAAgBA,KAVX,IAWL,oBAAqBA,KAAKkjG,WAK9BE,cAlBQ,WAmBN,OACGpjG,KAAD,OACCA,KAFH,UAOFqjG,OA1BQ,WA2BN,OAAOrjG,KAAKojG,eACPpjG,KADE,MAEH,qCAFJ,OAIFyvB,OA/BQ,WAgCN,GAAIzvB,KAAKi4F,WAAaj4F,KAAtB,IAAgC,MAAO,GAEvC,MAQIA,KAAK82F,SART,YAAM,EAAN,EAAM,MAAN,EAAM,SAAN,EAAM,SAAN,EAAM,cAAN,EAAM,OAAN,EAAM,MAOJjwF,EAPF,EAOEA,IAGF,MAAO,CACLotC,cAAe,gBAAcpwC,EAAA,EADxB,GAEL67B,YAAa,gBAFR,GAGLoB,aAAc,gBAHT,GAILT,WAAY,gBAAckT,EAAD,MAK/ByhD,MAAO,CACL0F,SADK,aAEL5V,QAAS,cAGXmW,QAtFO,WAuFDj7F,KAAJ,UAAmBA,KAAK0V,cAG1BgqF,QA1FO,WA4FD1/F,KAAK+6F,OAAOlhF,eAAhB,gBACE,gBAAQ,cAAR,MAKF,GAAI7Z,KAAK8kF,SACP,gBAAU,cAAe,KAAzB,OAIJkO,QAAS,CACPsQ,WADO,WAEL,OAAOtjG,KAAK4jF,eAAe,MAAO,CAChCG,YAAa,oBACZ,CACD,gBAAQ/jF,KAAM,SAAU,CACtBiI,MAAO,CAAE+pF,MAAO,qBAItBqF,WAVO,WAWL,OAAOr3F,KAAK4jF,eAAe,MAAO,CAChCG,YADgC,mBAEhCiO,MAAO,mBACJhyF,KAAD,cAAqB,GAEvBiI,MAAO,CACL0vF,KADK,SAEL,YAAa,WAEd,CAAC,gBATJ,SAWF4L,WAtBO,WAsBG,WACF/B,EAAWxhG,KAAKojG,cAClBpjG,KADa,mBAEbA,KAFJ,aAIM+P,EAAOyxF,EAASxhG,KAAD,MAAa,CAChC+jF,YADgC,mBAEhCiO,MAAOwR,GAAA,mCAFyB,MAGhCv9F,MAAOu9F,GAAA,kCAHyB,MAIhCpO,WAAY,CAAC,CACXhrF,KADW,OAEX5G,MAAOxD,KAAK06F,WAEd5lF,GAAI,CACF2uF,aAAc,kBAAMlwF,OAAA,aAAoB,EADtC,gBAEFmwF,aAAc1jG,KAAK0V,cAIvB,OAAO1V,KAAK4jF,eAAe,MAAO7zE,EAAM,CACtC/P,KADsC,aAEtCA,KAFF,gBAKF2jG,cA9CO,WA+CL,OAAO3jG,KAAK4jF,eAAe,aAAc,CACvCniE,MAAO,CAAErX,KAAMpK,KAAKi0F,aACnB,CAACj0F,KAFJ,gBAIF0V,WAnDO,WAmDG,WACRnC,OAAA,aAAoBvT,KAApB,eAEA,IAAM8kF,EAAU5zE,OAAOlR,KAAvB,SAGGA,KAAD,WAEA,gBAHF,KAQAA,KAAA,cAAqBuT,OAAA,YAAkB,WACrC,gBADF,MAMJmgF,OA7KO,SA6KD,GACJ,OAAOvnE,EAAE,MAAO,CACd43D,YADc,UAEdiO,MAAOhyF,KAFO,QAGdiG,MAAOjG,KAAKyvB,QACX,EACmB,IAApBzvB,KAAKi0F,WACDj0F,KADJ,gBAEIA,KAPN,mB,0BC7MW,SAAS4jG,GAAmBlxF,GACzC,GAAIV,MAAM24E,QAAQj4E,GAAM,OAAOmxF,gBAAiBnxF,G,wCCFnC,SAASoxF,GAAiBn4E,GACvC,GAAsB,qBAAXo4E,QAAmD,MAAzBp4E,EAAKo4E,OAAOC,WAA2C,MAAtBr4E,EAAK,cAAuB,OAAO3Z,MAAMnK,KAAK8jB,G,iBCDvG,SAASs4E,KACtB,MAAM,IAAIC,UAAU,wICGP,SAASC,GAAmBzxF,GACzC,OAAO0xF,GAAkB1xF,IAAQ2xF,GAAgB3xF,IAAQ4xF,gBAA2B5xF,IAAQ6xF,K,ICW9F,G,0FASA,SAASC,GAAT,GACE,MAAO,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,OAAOC,MAAK,SAAAp6F,GAAG,OAAIq6F,EAAA,SAA9D,MAGF,SAASC,GAAT,GACE,MAAQ,0CAA0C9/F,KAAKy7F,IAAS,UAAUz7F,KAAlE,IAAgFy7F,EAAA,OAAxF,GAdF,YACE,mBACA,kBACA,oBACA,mBACA,kBACA,oBANF,CAAKsE,QAAL,KAiBA,IAAM,GAAQ,OAAAzP,GAAA,MAAO,GAAD,gBAIlB,SAJY,OAML,CACP/qF,KADO,SAGPqX,MAAO,CACLy7E,MADK,QAELxwB,SAFK,QAGLn/D,KAHK,QAILC,MAJK,QAKL4d,KAAM,CAACla,OALF,QAMLlJ,IAAK,CACHY,KADG,OAEH2pF,UAFG,EAGHgB,QAAS,MAIbb,SAAU,CACRsN,OADQ,WAEN,UAEF6E,iBAJQ,WAKN,OAAO1N,QACLn3F,KAAK8kG,WAAW3J,OAASn7F,KAAK8kG,WADhC,aAMJ9R,QAAS,CACP+R,QADO,WAEL,IAAIC,EAAJ,GAGA,OAFIhlG,KAAK+3F,OAAT,UAAyBiN,EAAWhlG,KAAK+3F,OAAOxE,QAAQ,GAAGpwF,KAAlC,QAElB,gBAAkBnD,KAAzB,IAEFilG,QAPO,WAQL,IAAMjxD,EAAQ,CACZ+rD,OAAQ//F,KADI,OAEZ6/F,MAAO7/F,KAFK,MAGZggG,OAAQhgG,KAHI,OAIZ4/F,MAAO5/F,KAJK,MAKZ8/F,OAAQ9/F,KAAK8/F,QAGToF,EAAe,yBAAiB,SAAA78F,GAAG,OAAI2rC,EAA7C,MAEA,OACGkxD,GAAgBN,GAAjB,IAA4C,gBAAc5kG,KAD5D,OAKFmlG,eAvBO,WAwBL,MAAO,CACLphB,YADK,qBAELiO,MAAO,CACL,mBAAoBhyF,KADf,SAEL,eAAgBA,KAFX,KAGL,eAAgBA,KAHX,iBAIL,gBAAiBA,KAJZ,MAKL,gBAAiBA,KAAKk9F,OAExBj1F,MAAO,iBACL,eAAgBjI,KADX,iBAEL0sE,SAAU1sE,KAAK6kG,kBAAoB7kG,KAF9B,SAGL4I,KAAM5I,KAAK6kG,iBAAmB,cAHzB,GAIF7kG,KAAK6iG,QAEV/tF,GAAI9U,KAAK8kG,aAGbM,kBA1CO,WA2CL,IAAMnT,EAAWjyF,KAAjB,UACMqlG,EAAc,mCACfrlG,KADe,kBAAH,IAEfiG,MAAOgsF,EAAW,CAChBA,WACAnmE,OAFgB,EAGhByT,MAAO0yD,QACLr4E,IAIN,OAFA5Z,KAAA,eAEA,GAEFslG,YAxDO,SAwDI,GACTv1F,EAAA,yCAAkBA,EAAL,OAAoB/P,KAAK42F,cACtC52F,KAAA,aAAkBA,KAAlB,UAEFulG,eA5DO,SA4DO,KACZ,IAAMC,EAAN,GACMz1F,EAAO/P,KAAb,iBAEI0kG,EAJwC,iBAOtCe,EAAiBnF,EAAA,QAAvB,KACMoF,EAAiBD,IAAvB,EAEA,EAEED,EAAA,SAEAd,EAAWpE,EAAA,QAAX,GACIkE,GAAJ,KAA8BE,EAAA,KAGhC30F,EAAA,YACAA,EAAA,YAEA,IAAMkiF,EAAWjyF,KAAjB,UAKA,OAJA,IAAc+P,EAAA,MAAa,CAAEkiF,aAE7BjyF,KAAA,eAEOmsB,EAAEnsB,KAAK6kG,iBAAmB,SAAW7kG,KAApC,MAAR,IAEF2lG,cAxFO,SAwFM,KACX,IAAMC,EAAqB,CACzB5T,MADyB,cAEzB/pF,MAAO,CACL82F,MADK,6BAELC,QAFK,YAGLrH,KAHK,MAIL,eAAe,IAIbvsE,EAAOprB,KAAb,UASA,OARA,IACE4lG,EAAA,MAAgB,CACd3T,SADc,EAEdnmE,OAFc,EAGdyT,MAAOnU,IAIJe,EAAEnsB,KAAK6kG,iBAAmB,SAAzB,OAA4C7kG,KAA5C,oBAAsE,CAC5EmsB,EAAE,MAAOy5E,EAAS,CAChBz5E,EAAE,OAAQ,CACRlkB,MAAO,CACLwvB,EAAG6oE,UAMbuF,uBAtHO,SAsHe,KAIpB,IAAM91F,EAAkB,CACtBiiF,MAAO,CACL,qBAAqB,IAInB5mE,EAAOprB,KAAb,UACA,IACE+P,EAAA,MAAa,CACXkiF,SADW,EAEXnmE,OAFW,EAGXyT,MAAOnU,IAIXprB,KAAA,eAEA,IAAMo9F,EAAYkD,EAAlB,UAIA,OAHAvwF,EAAA,MAAauwF,EAAb,MACAvwF,EAAA,SAAgBA,EAAhB,GAEOoc,EAAEnsB,KAAK6kG,iBAAmB,SAAzB,OAA4C7kG,KAA5C,oBAAsE,CAC5EmsB,EAAEixE,EADJ,OAMJ1J,OAhLO,SAgLD,GACJ,IAAM4M,EAAOtgG,KAAb,UAEA,wBAAWsgG,EACLqE,GAAJ,GACS3kG,KAAK2lG,cAAcrF,EAA1B,GAEKtgG,KAAKulG,eAAejF,EAA3B,GAGKtgG,KAAK6lG,uBAAuBvF,EAAnC,MAIW,kBAAW,CACxBl2F,KADwB,SAGxB07F,aAHwB,GAKxBxS,YALwB,EAOxBI,OAPwB,SAOlB,EAPkB,GAOK,IAAlB,EAAkB,EAAlB,KAAQnoE,EAAU,EAAVA,SACby5E,EADuB,GAe3B,OAXIj1F,EAAJ,WACEi1F,EAAWj1F,EAAA,sBACTA,EAAA,SADS,WADM,SAOVA,EAAA,SAAP,mBACOA,EAAA,SAAP,WAGKoc,EAAE,GAAD,EAAc64E,EAAW,CAAH,GAA9B,MCxPJ,MCYe,I,UAAA,OAAA7P,GAAA,sBAAyB,CACtC/qF,KADsC,UAGtCkpF,YAHsC,EAKtC7xE,MAAO,CACLw2E,SADK,QAELxC,MAAO,CACL7sF,KADK,OAEL2qF,QAAS,WAEX7mB,SANK,QAOLt/B,QAPK,QAQL24D,IARK,OASLx4F,KAAM,CACJ3E,KAAM,CAACsI,OADH,QAEJqiF,QAAS,GAEX/lF,MAAO,CACL5E,KAAM,CAACsI,OADF,QAELqiF,QAAS,QAEX/vF,MAAO2zF,SAGTzD,OAzBsC,SAyBhC,KACJ,IAAM,EAAN,EAAM,WAAN,EAAM,UAAuBjyE,EAA7B,EAA6BA,MACvB1R,EAAO,CACXg0E,YADW,UAEXiO,MAAO,iBACL,kBAAmBvwE,EADd,MAEL,uBAAwBA,EAFnB,UAGF,gBAAuBukF,IAE5B/9F,MAAO,CACL89F,IAAKtkF,EADA,IAEL,eAAgBA,EAAMskF,KAExBjxF,GAXW,EAYX7O,MAAO,CACLsH,KAAM,gBAAckU,EADf,MAELjU,MAAO,gBAAciU,EAFhB,OAGLke,SAAUle,EAAA,oBAA8B,YAE1CsmB,IAAK,SAGP,OAAO5b,EAAE,QAAS,qCAAuC1K,EAAA,SAAiBA,EAAxD,MAAV,GAAR,OC3DJ,MCae,I,UAAA,OAAA0zE,GAAA,MAAO,GAAD,KAAN,gBAAoC,CACjD/qF,KADiD,aAGjDqX,MAAO,CACLje,MAAO,CACLoF,KADK,MAEL2qF,QAAS,iBAAO,MAIpBP,QAAS,CACPiT,YADO,WAEL,OAAOjmG,KAAK4jF,eAAe,mBAAoB,CAC7CG,YAD6C,sBAE7C97E,MAAO,CACLmC,KADK,qBAELpC,IAAK,QAENhI,KAAKwD,MAAM3E,IAAImB,KANlB,cAQFkmG,WAVO,SAUG,KACR,OAAOlmG,KAAK4jF,eAAe,MAAO,CAChCG,YADgC,sBAEhC17E,OACC,gBAAQrI,KAAM,UAAW,CAAEivF,UAAS5mF,SAAU,CAHjD,MAOJqrF,OA5BiD,SA4B3C,GACJ,OAAOvnE,EAAE,MAAOnsB,KAAKw2F,aAAax2F,KAAlB,MAA8B,CAC5C+jF,YAD4C,aAE5CiO,MAAOhyF,KAAK42F,eACV,CAAC52F,KAHL,oBC1CJ,MCWM,GAAa,OAAAm1F,GAAA,MAAO,GAAD,KAEvB,GAFuB,QAAzB,SAOe,aAAkB,CAC/B/qF,KAD+B,cAG/BqX,MAAO,CACLirD,SADK,QAEL6c,MAFK,QAGL4c,WAAY,CACVv9F,KAAM,CAACsI,OADG,QAEVqiF,QAAS,GAEX6S,cAAe,CACbx9F,KAAM,CAAC2P,OADM,OAEbg7E,QAAS,iBAAM,KAEjB8S,SAAU,CACRz9F,KAAM,CAAC2P,OADC,OAERg7E,QAAS,iBAAM,KAEjBsO,SAfK,QAgBLyE,MAAO,CACL19F,KADK,MAEL2qF,QAAS,iBAAM,KAEjBgT,QApBK,QAqBLC,gBAAiB,CACf59F,KAAM,CAAC2P,OADQ,OAEfg7E,QAAS,iBAAM,KAEjBkT,eAzBK,QA0BLjjG,MAAO,CAAE+uF,UAAU,IAGrBxiF,KAhC+B,WAiC7B,MAAO,CACL22F,YADK,GAELC,UAFK,EAGLC,YAHK,EAILC,UAJK,EAKLC,WALK,EAMLC,aANK,EAOLC,UAAWhnG,KAPN,MAQLsiG,OAAO,IAIX5P,SAAU,CACRuU,cADQ,WAEN,IAAIjnG,KAAJ,WACA,OAAIA,KAAJ,MAAuBA,KAFZ,MAQPA,KAAKqjG,SAAWrjG,KAApB,kBACY,WAEdknG,SAZQ,WAaN,OACElnG,KAAKmnG,sBAAsBvoG,OAAS,GACpCoB,KAAK0mG,YAAY9nG,OADjB,GAEAoB,KAHF,OAQFonG,WArBQ,WAsBN,OACEpnG,KAAKqnG,wBAAwBzoG,OAAS,GACtCoB,KAFF,SAKFsnG,cA3BQ,WA4BN,OAAOtnG,KAAKmnG,sBAAsBvoG,OAAS,GAAKoB,KAAhD,OAEFunG,YA9BQ,WA+BN,OAAOvnG,KAAKwnG,iBAAiB5oG,OAA7B,GAEF6oG,SAjCQ,WAkCN,OAAIznG,KAAJ,aAGEA,KAAKonG,YACJpnG,KAAKuiG,gBAAkBviG,KAF1B,WAKFmnG,sBAzCQ,WA0CN,OAAOnnG,KAAK0nG,oBAAoB1nG,KAAhC,gBAEF2nG,iBA5CQ,WA6CN,OAAO3nG,KAAK0nG,oBAAoB1nG,KAAhC,WAEFqnG,wBA/CQ,WAgDN,OAAOrnG,KAAK0nG,oBAAoB1nG,KAAhC,kBAEF+0F,cAAe,CACb3uD,IADa,WAEX,OAAOpmC,KAAP,WAEFogB,IAJa,SAIV,GACDpgB,KAAA,YAEAA,KAAA,mBAGJ4nG,WA5DQ,WA6DN,OAAO5nG,KAAK0sE,YACR1sE,KAAF,MACAA,KAAKuqE,KAFP,UAKFs9B,cAlEQ,WAmEN,OAAQ7nG,KAAD,aAAqBA,KAA5B,YAEF8nG,WArEQ,WAsEN,OAAO9nG,KAAK6hG,YACR7hG,KAAF,MACAA,KAAKuqE,KAFP,UAKFg4B,eA3EQ,WA4EN,QAAIviG,KAAJ,gBACIA,KAAJ,cAEOA,KAAKymG,eACRzmG,KAAK4mG,aAAe5mG,KADjB,UAEFA,KAAK6mG,UAAY7mG,KAFtB,aAIF+nG,YAnFQ,WAoFN,OAAO/nG,KAAKwnG,iBAAiB55F,MAAM,EAAGsD,OAAOlR,KAA7C,cAEFgoG,gBAtFQ,WAuFN,IAAIhoG,KAAJ,WACA,OAAIA,KAAKknG,UAAYlnG,KAArB,eAAiD,QAC7CA,KAAJ,WAA4B,UACxBA,KAAJ,SAA0BA,KAAP,mBAAnB,GAGFwnG,iBA7FQ,WA8FN,OAAIxnG,KAAKmnG,sBAAsBvoG,OAA/B,EACSoB,KAAP,sBACSA,KAAKwmG,iBAAmBxmG,KAAKwmG,gBAAgB5nG,OAAjD,EACEoB,KAAP,wBACSA,KAAKqmG,UAAYrmG,KAAKqmG,SAASznG,OAAnC,EACEoB,KAAP,iBACSA,KAAJ,eACEA,KAAP,YACY,KAIlBg1F,MAAO,CACLsR,MAAO,CACLr7F,QADK,SACE,KACD,gBAAU+I,EAAd,IACAhU,KAAA,YAEFkiG,MAAM,GAERnN,cARK,WAWH/0F,KAAA,YACAA,KAAA,gBAAuBA,KAAKioG,UAAUjoG,KAAtC,WAEF8mG,UAdK,SAcI,GAIJz8F,GACArK,KAFH,aAIEA,KAAA,cACAA,KAAA,gBAAuBA,KAAKioG,UAAUjoG,KAAtC,YAGJ+mG,YAzBK,WAyBM,WACTrxF,YAAW,WACT,cACA,gBACA,iBACA,eAJF,IAOFwxF,SAjCK,SAiCG,GACFlnG,KAAJ,gBACEA,KAAA,yBAGJwD,MAtCK,SAsCA,GACHxD,KAAA,cAIJkoG,YAlM+B,WAmM7BloG,KAAA,YAGF0/F,QAtM+B,WAuM7B1/F,KAAA,MAAaA,KAAKuqE,KAAK60B,SAAvBp/F,OAGF2/F,cA1M+B,WA2M7B3/F,KAAA,MAAaA,KAAKuqE,KAAK80B,WAAvBr/F,OAGFgzF,QAAS,CACP0U,oBADO,SACY,GACjB,SACS11F,MAAA,QAAJ,KACO,CAAP,GAFL,IAKFnR,MAPO,WAQLb,KAAA,eACAA,KAAA,cAAqBgS,MAAA,QAAchS,KAAd,kBAArB,MAKF0iG,gBAdO,WAeL1iG,KAAA,gBAGFwiG,SAlBO,WAkB6B,IAA1B/qD,EAA0B,wDAA5B,EAA4B,uCAC5BivD,EAAN,GACAljG,EAAQA,GAASxD,KAAjB,cAEA,IAAWA,KAAK6mG,SAAW7mG,KAAK4mG,YAArB,GAEX,IAAK,IAAI1kG,EAAT,EAAoBA,EAAQlC,KAAKsmG,MAAjC,OAA+CpkG,IAAS,CACtD,IAAMimG,EAAOnoG,KAAKsmG,MAAlB,GACMhE,EAAwB,oBAAT6F,EAAsBA,EAA7B,GAAd,GAEI,IAAA7F,GAAJ,kBAA8BA,EAC5BoE,EAAA,KAAiBpE,GAAjB,IACK,mBAAWA,GAChB,gBAAa,sDAAD,uCAAZ,MAOJ,OAHAtiG,KAAA,cACAA,KAAA,UAAa0mG,EAAA,OAEN1mG,KAAP,UChPA,GAAa,OAAAm1F,GAAA,MAAO,GAAD,KAAzB,IAWe,sBAAoC,CACjD/qF,KADiD,UAGjDu3F,cAHiD,EAKjDlgF,MAAO,CACL2mF,WADK,OAEL9S,gBAAiB,CACf1sF,KADe,OAEf2qF,QAAS,IAEX2J,MANK,QAOLpxE,OAAQ,CAAC5a,OAPJ,QAQLm3F,YAAa,CAAClR,QART,QASLmR,gBATK,QAULzqD,KAVK,OAWL79B,GAXK,OAYLgoD,MAZK,OAaL4vB,QAbK,QAcL2Q,eAdK,QAeLC,YAfK,OAgBLhlG,MAAO,MAGTuM,KAxBiD,WAyB/C,MAAO,CACLi3F,UAAWhnG,KADN,MAELyoG,cAAc,IAIlB/V,SAAU,CACRhjE,QADQ,WAEN,wBACE,qBAAsB1vB,KADjB,SAEL,yBAA0BA,KAFrB,YAGL,2BAA4BA,KAHvB,cAIL,oBAAqBA,KAJhB,QAKL,uBAAwBA,KALnB,WAML,sBAAuBA,KANlB,UAQL,uBAAwC,IAAjBA,KAAK43F,SARvB,MAQ4C53F,KAAK43F,QACtD,uBAAwB53F,KATnB,WAUL,iBAAkBA,KAVb,MAWL,6BAA8BA,KAXzB,iBAYFA,KAAK42F,eAGZ8R,WAjBQ,WAkBN,OAAO1oG,KAAKggB,IAAM,SAAX,OAAoBhgB,KAA3B,OAEF2oG,WApBQ,WAqBN,OAAO3oG,KAAK4oG,kBAAkBhqG,OAA9B,GAEFiqG,QAvBQ,WAwBN,OAAQ7oG,KAAD,eACHA,KADG,OAEJA,KAAKuoG,gBAAkBvoG,KAF1B,YAIF8oG,SA5BQ,WA6BN,SAAU9oG,KAAK+3F,OAAO/vB,QAAShoE,KAA/B,QAMF+0F,cAAe,CACb3uD,IADa,WAEX,OAAOpmC,KAAP,WAEFogB,IAJa,SAIV,GACDpgB,KAAA,YACAA,KAAA,MAAWA,KAAX,kBAGJ+oG,QA5CQ,WA6CN,QAAS/oG,KAAT,WAEFgpG,cA/CQ,WAgDN,OAAOhpG,KAAP,SAEF4oG,kBAlDQ,WAkDS,WACf,OAAI5oG,KAAJ,QAAyB,CAACA,KAAR,MAEbA,KAAL,YAEOA,KAAK+nG,YAAYlpG,KAAK,SAAAoqG,GAC3B,qBAAWA,EAAyB,OAAOA,EAE3C,IAAMC,EAAmBD,EAAW,EAApC,eAEA,MAAmC,kBAArBC,EAAgCA,EAA9C,MALK,QAMG,SAAAja,GAAO,MANjB,KAMqBA,KARS,IAUhCka,YA/DQ,WAgEN,OAA4B,IAArBnpG,KAAKqoG,aAA+C,SAArBroG,KAAKqoG,aAA0BroG,KAArE,aAIJg1F,MAAO,CACLxxF,MADK,SACA,GACHxD,KAAA,cAIJopG,aAzGiD,WA4G/CppG,KAAA,aAAqBA,KAAKqpG,SAAS5kB,OAASzkF,KAAKqpG,SAAS5kB,MAAtC,OAApB,SAGFuO,QAAS,CACPqE,WADO,WAEL,MAAO,CACLr3F,KADK,iBAELA,KAFK,aAGLA,KAHF,kBAMFspG,WARO,WASL,OAAOtpG,KAAK4jF,eAAe,MAAO,CAChCG,YADgC,mBAEhC97E,MAAO,CAAEsxB,MAAOv5B,KAAK6iG,OAAOtpE,QAC3B,CACDv5B,KADC,eAEDA,KALF,iBAQFupG,eAjBO,WAkBL,MAAO,CACLvpG,KADK,WAELA,KAAK+3F,OAFP,UAKFyR,QAvBO,SAuBA,KAGoB,WAAzBC,EAAyB,uDAHpB,GAKCnJ,EAAQtgG,KAAA,UAAd,EAAc,SACR0pG,EAAY,SAAH,OAAY,gBAA3B,IACMC,KAAiB3pG,KAAK8kG,WAAW4E,KAAvC,GAEM35F,EAAO,OAAA6jF,GAAA,MAAU,CACrB3rF,MAAO,CACL,aAAc0hG,EAAc,iCAAH,aADpB,EAELlU,MAAOz1F,KAFF,gBAGL4pG,KAAM5pG,KAHD,KAIL0sE,SAAU1sE,KAJL,WAKL6pG,MAAO7pG,KAAK6pG,OAEd/0F,GAAK60F,EAED,CACAxO,MAAQ,SAAAv2F,GACNA,EAAA,iBACAA,EAAA,kBAEA,aACAw+E,GAAMA,EAAN,IAIF5W,QAAU,SAAA5nE,GACRA,EAAA,iBACAA,EAAA,yBAdF,GARN,GA2BA,OAAO5E,KAAK4jF,eAAe,MAAO,CAChCG,YADgC,gBAEhCiO,MAAOppF,EAAO,kBAAH,OAAqB,gBAArB,SAAyCgR,GACnD,CACD5Z,KAAK4jF,eAAe,GAApB,EAJF,MAWFkmB,aAtEO,WAuEL,OAAO9pG,KAAK4jF,eAAe,MAAO5jF,KAAK+1F,mBAAmB/1F,KAAxB,gBAA8C,CAC9E+jF,YAD8E,gBAE9E99E,MAAO,CAAE6lB,OAAQ,gBAAc9rB,KAAD,SAC9B8U,GAAI,CACFqmF,MAAOn7F,KADL,QAEF+pG,UAAW/pG,KAFT,YAGFwsE,QAASxsE,KAAKgqG,WAEhBjiE,IAAK,eACH,CAAC/nC,KATL,oBAWFiqG,SAlFO,WAmFL,OAAKjqG,KAAL,SAEOA,KAAK4jF,eAAe,GAAQ,CACjCniE,MAAO,CACLg0E,MAAOz1F,KADF,gBAEL4pG,KAAM5pG,KAFD,KAGL0sE,SAAU1sE,KAHL,WAILotC,QAASptC,KAJJ,SAKL+lG,IAAK/lG,KALA,WAML6pG,MAAO7pG,KAAK6pG,QAEb7pG,KAAK+3F,OAAO/vB,OAAShoE,KATxB,OAF2B,MAa7BkqG,YAhGO,WAgGI,WACT,OAAKlqG,KAAL,YAEOA,KAAK4jF,eAAe,GAAW,CACpCniE,MAAO,CACLg0E,MAAOz1F,KAAK6oG,QAAU,GAAK7oG,KADtB,gBAEL4pG,KAAM5pG,KAFD,KAGL6pG,MAAO7pG,KAHF,MAILwD,MAAOxD,KAAK4oG,mBAEd3gG,MAAO,CACL0vF,KAAM33F,KAAKunG,YAAc,QAAU,MAErC4C,YAAa,CACX5W,QAAS,SAAA9xE,GAAK,OAAI,gBAAQ,EAAD,iBAbC,MAiBhC2oF,QAlHO,SAkHA,OAKL,IAAK9S,EAAL,OAAkB,OAAO,KAEzB,IAAMvvD,EAAM,GAAH,OAAMn/B,EAAN,YAAT,GAEA,OAAO5I,KAAK4jF,eAAe,MAAO,CAChCG,YAAa,YAAF,OADqB,GAEhCh8C,OAFF,IAKFsiE,eAhIO,WAiIL,IAAM/S,EAAN,GAQA,OANIt3F,KAAK+3F,OAAT,QACET,EAAA,KAAUt3F,KAAK+3F,OAAf,SACS/3F,KAAJ,aACLs3F,EAAA,KAAUt3F,KAAKwpG,QAAf,YAGKxpG,KAAKoqG,QAAQ,UAAW,QAA/B,IAEFE,cA3IO,WA4IL,IAAMhT,EADK,GAaX,OANIt3F,KAAK+3F,OAAT,OACET,EAAA,KAAUt3F,KAAK+3F,OAAf,QACS/3F,KAAJ,YACLs3F,EAAA,KAAUt3F,KAAKwpG,QAAf,WAGKxpG,KAAKoqG,QAAQ,SAAU,QAA9B,IAEF5S,QA1JO,SA0JA,GACLx3F,KAAA,kBAEF45D,YA7JO,SA6JI,GACT55D,KAAA,gBACAA,KAAA,sBAEFgqG,UAjKO,SAiKE,GACPhqG,KAAA,gBACAA,KAAA,qBAIJ0zF,OAtRiD,SAsR3C,GACJ,OAAOvnE,EAAE,MAAOnsB,KAAKw2F,aAAax2F,KAAlB,gBAAwC,CACtD+jF,YADsD,UAEtDiO,MAAOhyF,KAAK0vB,UACV1vB,KAHJ,iBCxTJ,MCQe,I,UAAA,OAAAm1F,GAAA,sBAAyB,CACtC/qF,KADsC,YAGtCkpF,YAHsC,EAKtC7xE,MAAO,CACLje,MAAO,CACLoF,KAAM,CAACsI,OADF,QAELqiF,QAAS,IAEXpzF,IAAK,CAAC+Q,OAAQqH,SAGhBm7E,OAbsC,SAahC,KACJ,IAAQjyE,EAAR,EAAQA,MACFthB,EAAM0gC,SAASpf,EAAD,IAApB,IACMje,EAAQq9B,SAASpf,EAAD,MAAtB,IACMrK,EAAUjX,EAAM,GAAH,OAAMqD,EAAN,iBAAyB+U,OAAOkJ,EAAnD,OACM8oF,EAAYpqG,GAAQqD,EAA1B,EAEA,OAAO2oB,EAAE,MAAO,CACd43D,YADc,YAEdiO,MAAO,iBACL,cADK,GAEF,gBAAuBgU,KAJ9B,OC5BJ,MCMc,eACZ,OAAO,eAAW,CAChB57F,KADgB,gBAGhB2F,KAAM,iBAAO,CACXy6F,gBAAgB,IAGlBvP,QAPgB,WAQd,iBAAmBj7F,KAAnB,IAA4C,CAC1CoK,KAD0C,YAE1C5G,MAAOxD,KAAK03F,WACX13F,KAHH,SAMFyqG,UAdgB,WAed,eAAiBzqG,KAAjB,IAA0C,CACxCoK,KADwC,YAExC5G,MAAOxD,KAAK03F,WACX13F,KAHH,SAMFgzF,QAAS,CACP0E,UADO,SACE,OAGP,GAFA13F,KAAA,iBAEA,EAEA,IAAK,IAAIjB,EAAJ,EAAWH,EAASkF,EAAA,UAAzB,OAAmD/E,EAAnD,EAA+DA,IAAK,CAClE,IAAMuI,EAAYtH,KAAa8D,EAAA,UAA/B,IAEA,oBAAWwD,EAKX,gBAAYxD,EAAA,aAAZ,0FAJEwD,SCjCZ,SAASu5D,GAAT,OACE,IAAMv5D,EAAWsyF,EAAjB,MACM91F,EAAU81F,EAAA,SAAmB,CAAEC,SAAS,GAE9CtmF,OAAA,+BAEAxL,EAAA,UAAegG,OAAOhG,EAAtB,WACAA,EAAA,UAAc2iG,EAAA,QAAd,MAAqC,CACnCpjG,WACAxD,WAGG81F,EAAD,WAAuBA,EAAA,UAA3B,OACEtyF,IAIJ,SAAS,GAAT,OAA6E,MAC3E,GAAI,SAACS,EAAD,YAAC,EAAe2iG,EAAA,QAApB,OAEA,MAA8B3iG,EAAA,UAAa2iG,EAAA,QAA3C,MAAM,EAAN,EAAM,SAAY5mG,EAAlB,EAAkBA,QAElByP,OAAA,yCAEOxL,EAAA,UAAa2iG,EAAA,QAApB,OAGK,IAAMC,GAAS,CACpB9pC,YACAm5B,OAAA,IAGF,MCnCM,eAEJ,uBAAW/8E,EAAP,YAAwC,CAE1C,MAAOA,EAAP,WAAwBA,EAAOA,EAFW,WAK1C,OAAIA,IAAJ,SAA8B,KAE9B,SAGF,IAAM2tF,EAAO3tF,EAZyB,cAetC,OAAI2tF,IAAA,UAAqBA,EAAA,YAAiB,CAAEC,UAAU,MAAtD,SAAmF,KAEnF,E,iBCMI,GAAa,OAAA1V,GAAA,MAAO,GAExB,GAAc,CACZ2V,UAAW,CAAC,WAAD,kBAHf,IAoBMC,GAAa,CAAC,QAAS,OAAQ,OAAQ,OAAQ,iBAAkB,OAAvE,SAGe,sBAAoC,CACjD3gG,KADiD,eAGjDgrF,WAAY,CACV4V,UACAvQ,WAGFkH,cARiD,EAUjDlgF,MAAO,CACLwpF,gBADK,OAELlsC,UAFK,QAGLmsC,UAHK,QAILC,UAAW,CACTviG,KADS,OAET2qF,QAAS,UAEXt3B,QAAS,CAACk7B,QAASjmF,OARd,QASLk6F,aATK,SAULC,OAVK,QAWLhQ,KAXK,QAYLiQ,UAZK,QAaLtjC,MAbK,OAcLu4B,SAdK,QAeLl2B,YAfK,OAgBLqP,OAhBK,OAiBL6xB,iBAjBK,OAkBLC,sBAlBK,QAmBLpmF,QAnBK,QAoBLuwE,QApBK,QAqBL8V,OArBK,QAsBLC,WAtBK,QAuBLC,KAvBK,QAwBLC,aAxBK,QAyBLjyB,OAzBK,OA0BL/wE,KAAM,CACJA,KADI,OAEJ2qF,QAAS,SAIbxjF,KAAM,iBAAO,CACX87F,UADW,EAEXC,WAFW,EAGXC,YAHW,EAIXC,aAJW,EAKXC,aALW,KAMXC,UANW,EAOXC,YAAY,IAGdzZ,SAAU,CACRhjE,QADQ,WAEN,0CACK,iCADE,OAAP,IAEE,gBAFK,EAGL,2BAA4B1vB,KAHvB,UAIL,uBAAwBA,KAJnB,OAKL,4BAA6BA,KALxB,SAML,qBAAsBA,KANjB,OAOL,8BAA+BA,KAP1B,aAQL,0BAA2BA,KARtB,KASL,uBAAwBA,KATnB,OAUL,0BAA2BA,KAVtB,SAWL,yBAA0BA,KAXrB,WAYL,wBAAyBA,KAZpB,QAaL,yBAA0BA,KAbrB,SAcL,4BAA6BA,KAdxB,YAeL,wBAAyBA,KAfpB,QAgBL,uBAAwBA,KAAKyrG,UAGjCxE,cArBQ,WAsBN,IAAMA,EAAgB,uCAAtB,MAEA,OAAKjnG,KAAD,cAAuBA,KAA3B,UAEOA,KAAKy1F,OAAZ,UAFkDwR,GAIpDmF,qBA5BQ,WA6BN,0BAAWpsG,KAAP,aACKA,KAAKorG,aAAaprG,KAAzB,eAEK,IAAKA,KAAK+0F,eAAN,IAAJ,YAAP,QAEFsX,WAlCQ,WAmCN,OAAwB,IAAjBrsG,KAAKi8D,SAAZ,MAAiCj8D,KAAKi8D,SAExC0sC,WArCQ,WAsCN,OAAO,2CAAiD3oG,KAAxD,YAEF+0F,cAAe,CACb3uD,IADa,WAEX,OAAOpmC,KAAP,WAEFogB,IAJa,SAIV,GACDpgB,KAAA,YACAA,KAAA,cAAoBA,KAApB,aAGJ+oG,QAjDQ,WAiDD,MACL,OAAO,SAAA/oG,KAAA,0CAAyCA,KAAhD,UAEFssG,WApDQ,WAqDN,OACEtsG,KAAKqrG,QACLrrG,KADA,QAEAA,KAHF,UAMFgpG,cA3DQ,WA4DN,OAAOhpG,KAAK+oG,SAAWgC,GAAA,SAAoB/qG,KAA3C,OAEFusG,SA9DQ,WA+DN,OACEvsG,KAAKwsG,QACLxsG,KADA,YAEAA,KAFA,WAICA,KAAA,SAAgBA,KALnB,UAQFwsG,OAvEQ,WAwEN,OAAOxsG,KAAK2rG,MAAQ3rG,KAApB,cAEFysG,cA1EQ,WA2EN,IAAIl4E,EAAUv0B,KAAK05E,SAAW15E,KAAjB,WAAoCA,KAApC,YAAb,EAIA,OAFIA,KAAK0sG,YAAc1sG,KAAvB,eAA0Cu0B,GAAUv0B,KAAV,cAElCA,KAAK82F,SAASC,MAAQ/2F,KAAvB,QAAuC,CAC5CuN,KAD4C,EAE5CC,MAAO,QACL,CACFD,KADE,OAEFC,MAAO+mB,IAGXo4E,UAvFQ,WAwFN,OAAO3sG,KAAK8oG,YAAc9oG,KAAKusG,UAAYvsG,KAA3C,aAEF0sG,WA1FQ,WA2FN,OAAO1sG,KAAK8mG,WAAa9mG,KAAlB,eAAwCA,KAA/C,wBAIJg1F,MAAO,CAELuL,SAFK,gBAGLv4B,MAHK,WAIHhoE,KAAA,UAAeA,KAAf,gBAEF05E,OANK,WAOH15E,KAAA,UAAeA,KAAf,iBAEF8mG,UATK,cAULtjG,MAVK,SAUA,GACHxD,KAAA,cAIJ0/F,QAlKiD,WAoK3C1/F,KAAK+6F,OAAOlhF,eAAhB,QACE,gBAAS,MAAO,SAAhB,MAIE7Z,KAAK+6F,OAAOlhF,eAAhB,yBACE,gBAAS,uBAAwB,eAAjC,MAIE7Z,KAAKyrG,UAAYzrG,KAAKqrG,QAAUrrG,KAAf,UAAgCA,KAArD,SACE,gBAAY,uDAAZ,OAIJi7F,QAnLiD,WAmL1C,WAELj7F,KAAA,QAAY,kBAAM,EAAlB,aAAmCA,KAAnC,eACAA,KAAA,WAAkBA,KAAlB,eACAo0F,uBAAsB,WACpB,cACAA,uBAAsB,WACf,EAAL,gBACE,oBAMRpB,QAAS,CAEPv+E,MAFO,WAGLzU,KAAA,WAGFiV,KANO,SAMH,GAAW,WAGb1B,OAAA,uBAA6B,WAC3B,eAAoB,cAApB,WAGJq5F,kBAbO,WAaU,WACf5sG,KAAA,aAAoBA,KAAK2yF,MAAMj4D,MAA/B,QACA16B,KAAA,WAAe,kBAAM,gBAArB,SAEFsqG,cAjBO,WAkBL,IAAMhT,EAAN,GAQA,OANIt3F,KAAK+3F,OAAT,gBACET,EAAA,KAAUt3F,KAAK+3F,OAAf,iBACS/3F,KAAJ,iBACLs3F,EAAA,KAAUt3F,KAAKwpG,QAAf,gBAGKxpG,KAAKoqG,QAAQ,SAAU,QAA9B,IAEFyC,oBA5BO,WA6BL,IAAMvV,EAAN,GAQA,OANIt3F,KAAK+3F,OAAT,iBACET,EAAA,KAAUt3F,KAAK+3F,OAAf,kBACS/3F,KAAJ,kBACLs3F,EAAA,KAAUt3F,KAAKwpG,QAAf,iBAGKxpG,KAAKoqG,QAAQ,UAAW,QAA/B,IAEF0C,YAvCO,WAwCL,IAAMxV,EAAN,GAQA,OANIt3F,KAAK+3F,OAAT,OACET,EAAA,KAAUt3F,KAAK+3F,OAAf,QACS/3F,KAAJ,YACLs3F,EAAA,KAAUt3F,KAAKwpG,QAAf,WAGKxpG,KAAKoqG,QAAQ,SAAU,QAA9B,IAEFN,aAlDO,WAmDL,IAAMpvE,EAAQ,qCAAd,MAEMqyE,EAAU/sG,KAAhB,sBAOA,OALA,IACE06B,EAAA,SAAiBA,EAAA,UAAjB,GACAA,EAAA,qBAGF,GAEFsyE,aA9DO,WA+DL,OAAKhtG,KAAL,UAIKA,KAAL,QAMOA,KAAKoqG,QAAQ,SAAU,QAAS,CACrCpqG,KAAKwpG,QAAQ,QAASxpG,KADxB,qBALSA,KAAKoqG,QAAQ,SAAU,QAAS,CACrCpqG,KAAK4jF,eADP,SANQ,MAeZqpB,WA7EO,WA6EG,UACR,IAAKjtG,KAAL,WAAsB,OAAO,KAE7B,IAAMG,GAAuB,IAAjBH,KAAKi8D,QAAmBj8D,KAAK6iG,OAA7B,UAAgD7iG,KAA5D,QAEMyhB,EAAQ,CACZmoF,KAAM5pG,KADM,KAEZ6pG,MAAO7pG,KAFK,MAGZG,MACAqD,MAAOxD,KAAKosG,sBAGd,0BAAO,EAAApsG,KAAA,cAAP,gBAAO,SAA4B,CAAEyhB,WAArC,EAAiDzhB,KAAK4jF,eAAe,GAAU,CAAEniE,WAEnF6nF,WA3FO,WA4FL,OAAO,mCAAP,OAEFC,eA9FO,WA+FL,MAAO,CACLvpG,KADK,cAELA,KAFK,mBAGLA,KAHK,eAILA,KAJK,cAKLA,KALF,gBAQFktG,YAvGO,WAwGL,OAAKltG,KAAL,SAEOA,KAAK4jF,eAAe,WAAY,CACrC37E,MAAO,CACL,eAAe,IAEhB,CAACjI,KAJJ,cAF2B,MAQ7BiqG,SAhHO,WAiHL,IAAKjqG,KAAL,UAAqB,OAAO,KAE5B,IAAM+P,EAAO,CACX0R,MAAO,CACLw2E,UADK,EAELxC,MAAOz1F,KAFF,gBAGL4pG,KAAM5pG,KAHD,KAIL0sE,SAAU1sE,KAJL,WAKLotC,SAAUptC,KAAD,WAAmBA,KAAK8mG,aAAe9mG,KAL3C,iBAML+lG,IAAK/lG,KANA,WAOLuN,KAAMvN,KAAKysG,cAPN,KAQL5C,MAAO7pG,KARF,MASLwN,MAAOxN,KAAKysG,cATP,MAULjpG,MAAOxD,KAAK0sG,aAIhB,OAAO1sG,KAAK4jF,eAAe,GAApB,EAAkC5jF,KAAK+3F,OAAO/vB,OAAShoE,KAA9D,QAEFmtG,UApIO,WAqIL,IAAM5tE,EAASv/B,KAAD,aAAqBA,KAAK0sG,aAAc1sG,KAAxC,QAAd,EAAsEA,KAAxD,WACR4yB,EAAO5yB,KAAK4jF,eAAe,OAAQ,CACvCwpB,SAAU,CAAEv5F,UAAW,WACvBkwE,YAAa,gBAGf,OAAO/jF,KAAK4jF,eAAe,SAAU,CACnC39E,MAAO,CACLs5B,MAAQv/B,KAAD,cAAwC4Z,EAAvB,gBAAjB,KAER,CAJH,KAMFyzF,SAjJO,WAkJL,IAAMje,EAAYrhF,OAAA,UAAkB/N,KAApC,mBACOovF,EAFD,OAGN,MAAiCpvF,KAAjC,OAAkBstG,GAAlB,EAAM,MAAN,uBAEA,OAAOttG,KAAK4jF,eAAe,QAAS,CAClC39E,MADkC,GAElCmnG,SAAU,CACR5pG,MAAsB,WAAdxD,KAAK4I,MAAqBmF,OAAA,GAAU/N,KAAV,WAA3B,QAAmEA,KAAKgnG,WAEjF/+F,MAAO,sCAAF,IAEH82D,UAAW/+D,KAFN,UAGL0sE,SAAU1sE,KAHL,WAILggB,GAAIhgB,KAJC,WAKLqqE,YAAarqE,KAAKwrG,uBAAyBxrG,KAA9B,YAAiDA,KAAjD,SAAiEA,KAAjE,iBALR,EAML6hG,SAAU7hG,KANL,WAOL4I,KAAM5I,KAAK4I,OAEbkM,GAAI/G,OAAA,SAAyB,CAC3BkH,KAAMjV,KADqB,OAE3B06B,MAAO16B,KAFoB,QAG3ByU,MAAOzU,KAHoB,QAI3ButG,QAASvtG,KAAKsD,YAEhBykC,IApBkC,QAqBlCqtD,WAAY,CAAC,CACXhrF,KADW,SAEXojG,UAAW,CAAEC,OAAO,GACpBjqG,MAAOxD,KAAKyuD,cAIlBy7C,YAlLO,WAmLL,IAAKlqG,KAAL,YAAuB,OAAO,KAE9B,IAAM0tG,EAAe,oCAArB,MACMC,EAAc3tG,KAApB,aAEA,OAAOA,KAAK4jF,eAAe,MAAO,CAChCG,YAAa,yBACZ,CAAC,EAFJ,KAOF6pB,iBA/LO,WAgML,OAAO5tG,KAAK4jF,eAAe,MAAO,CAChCG,YAAa,sBACZ,CACD/jF,KADC,WAEDA,KAAK05E,OAAS15E,KAAK6tG,SAAnB,UAFC,KAGD7tG,KAHC,WAIDA,KAAK25E,OAAS35E,KAAK6tG,SAAnB,UANF,QASFA,SAzMO,SAyMC,GACN,OAAO7tG,KAAK4jF,eAAe,MAAO,CAChCoO,MAAO,iBAAF,OAD2B,GAEhCjqD,IAAKn/B,GACJ5I,KAHH,KAKF4tC,OA/MO,SA+MD,GAAW,WACf5tC,KAAA,aACA4E,GAAK5E,KAAKioG,WAAU,kBAAM,eAA1BrjG,OAEF4yF,QAnNO,WAoNDx3F,KAAK8mG,WAAa9mG,KAAlB,aAAsCA,KAAK2yF,MAA/C,OAEA3yF,KAAA,qBAEF8tC,QAxNO,SAwNA,GACL,GAAK9tC,KAAK2yF,MAAV,OAEA,IAAMiY,EAAOkD,GAAa9tG,KAA1B,KACA,KAEA,OAAI4qG,EAAA,gBAAuB5qG,KAAK2yF,MAAhC,MACS3yF,KAAK2yF,MAAMj4D,MAAlB,aAGG16B,KAAL,YACEA,KAAA,aACA4E,GAAK5E,KAAKizF,MAAM,QAAhBruF,OAGJiQ,QAvOO,SAuOA,GACL,IAAMiB,EAASlR,EAAf,OACA5E,KAAA,cAAqB8V,EAArB,MACA9V,KAAA,SAAgB8V,EAAA,UAAmBA,EAAA,SAAnC,UAEFxS,UA5OO,SA4OE,GAELsB,EAAA,UAAc,QAAd,OACA5E,KAAKgnG,YAAchnG,KAFrB,eAIEA,KAAA,aAAoBA,KAApB,UACAA,KAAA,eAAqBA,KAArB,eAGFA,KAAA,oBAEF45D,YAvPO,SAuPI,GAELh1D,EAAA,SAAa5E,KAAK2yF,MAAtB,QACE/tF,EAAA,iBACAA,EAAA,mBAGF,6CAEFolG,UAhQO,SAgQE,GACHhqG,KAAJ,cAAuBA,KAAKyU,QAE5B,2CAEFs5F,cArQO,WAsQA/tG,KAAL,WAEAA,KAAA,WAAkBA,KAAK2yF,MAAM3qB,MACzB7oE,KAAA,IAAwC,IAA/Ba,KAAK2yF,MAAM3qB,MAAMp2B,YAA1B,EAAmD5xC,KAAKy3F,IAAL,YADrC,IAAlB,IAIFuW,eA5QO,WA6QAhuG,KAAK2yF,MAAV,SAEA3yF,KAAA,YAAmBA,KAAK2yF,MAAMjZ,OAA9B,cAEFu0B,gBAjRO,WAkRAjuG,KAAD,UAAmBA,KAAK2yF,MAA5B,mBAEA3yF,KAAA,aAAoBA,KAAK2yF,MAAM,iBAA/B,cAEFub,aAtRO,WAuRL,IACGluG,KAAD,gCACOuG,WACNvG,KAAK2yF,MAHR,MAGqB,OAAO,EAE5B,IAAMiY,EAAOkD,GAAa9tG,KAA1B,KACA,SAAK4qG,GAAQA,EAAA,gBAAuB5qG,KAAK2yF,MAAzC,SAEA3yF,KAAA,qBAEA,IAEFmuG,YAnSO,SAmSI,GAETnuG,KAAA,WAEA,EACEA,KAAA,aAAoBA,KAApB,UACSA,KAAKisG,eAAiBjsG,KAA1B,WACLA,KAAA,eAAqBA,KAArB,YAGJyuD,SA7SO,WA8SLzuD,KAAA,gBACAA,KAAA,iBACAA,KAAA,sBC7hBF,GAAY,gBACd,GACA,EACAilF,GACA,EACA,KACA,KACA,MAIa,gBAAiB,QAYhC,KAAkB,GAAW,CAACmpB,KAAA,GAAK3M,aAAUnE,QAAK+Q,cAAWC,SAAM/Q,QAAKgR,UAAA,GAAUC,WAAA,M,mGC9BjF,SAAS5pG,EAAEmoD,GAAqDntD,EAAOC,QAAQktD,EAAE,EAAQ,SAAzF,CAAgR/sD,GAAK,SAAS4E,GAAG,OAAO,SAASA,GAAG,SAASmoD,EAAEvuC,GAAG,GAAGkB,EAAElB,GAAG,OAAOkB,EAAElB,GAAG3e,QAAQ,IAAIwvB,EAAE3P,EAAElB,GAAG,CAACzf,EAAEyf,EAAEvE,GAAE,EAAGpa,QAAQ,IAAI,OAAO+E,EAAE4Z,GAAG/H,KAAK4Y,EAAExvB,QAAQwvB,EAAEA,EAAExvB,QAAQktD,GAAG19B,EAAEpV,GAAE,EAAGoV,EAAExvB,QAAQ,IAAI6f,EAAE,GAAG,OAAOqtC,EAAEhyC,EAAEnW,EAAEmoD,EAAEq/B,EAAE1sE,EAAEqtC,EAAEhuD,EAAE,SAAS6F,GAAG,OAAOA,GAAGmoD,EAAEt1B,EAAE,SAAS7yB,EAAE8a,EAAElB,GAAGuuC,EAAE19B,EAAEzqB,EAAE8a,IAAI3R,OAAOq/D,eAAexoE,EAAE8a,EAAE,CAACytD,cAAa,EAAGD,YAAW,EAAG9mC,IAAI5nB,KAAKuuC,EAAErtC,EAAE,SAAS9a,GAAG,IAAI8a,EAAE9a,GAAGA,EAAE6oE,WAAW,WAAW,OAAO7oE,EAAE2uF,SAAS,WAAW,OAAO3uF,GAAG,OAAOmoD,EAAEt1B,EAAE/X,EAAE,IAAIA,GAAGA,GAAGqtC,EAAE19B,EAAE,SAASzqB,EAAEmoD,GAAG,OAAOh/C,OAAOxN,UAAUsZ,eAAepD,KAAK7R,EAAEmoD,IAAIA,EAAEl1C,EAAE,IAAIk1C,EAAEA,EAAEwrB,EAAE,GAAze,CAA6e,CAAC,SAASxrB,EAAErtC,GAAGqtC,EAAEltD,QAAQ+E,GAAG,SAASA,EAAEmoD,EAAErtC,GAAG,aAAa3R,OAAOq/D,eAAergB,EAAE,aAAa,CAACvpD,OAAM,IAAK,IAAIgb,EAAEkB,EAAE,GAAG2P,EAAE,SAASzqB,GAAG,OAAOA,GAAGA,EAAE6oE,WAAW7oE,EAAE,CAAC2uF,QAAQ3uF,GAA9C,CAAkD4Z,GAAGzf,EAAEwU,OAAOrS,YAAYmuB,EAAEkkE,QAAQ,mBAAmBxlF,OAAO63C,QAAQ73C,OAAOq/D,eAAer/D,OAAO,SAAS,CAACvK,MAAM,SAASoB,EAAEmoD,GAAG,GAAG,MAAMnoD,EAAE,MAAM,IAAIs/F,UAAU,8CAA8C,IAAI,IAAIxkF,EAAE3R,OAAOnJ,GAAG4Z,EAAE,EAAEA,EAAElW,UAAU1J,OAAO4f,IAAI,CAAC,IAAI6Q,EAAE/mB,UAAUkW,GAAG,GAAG,MAAM6Q,EAAE,IAAI,IAAItwB,KAAKswB,EAAEthB,OAAOxN,UAAUsZ,eAAepD,KAAK4Y,EAAEtwB,KAAK2gB,EAAE3gB,GAAGswB,EAAEtwB,IAAI,OAAO2gB,GAAGvP,UAAS,EAAGg9D,cAAa,IAAKpgB,EAAEwmC,QAAQ,CAACnpF,KAAK,aAAa2F,KAAK,WAAW,MAAM,CAACqH,QAAQ,GAAGq7E,WAAW,KAAKgc,WAAW,OAAOhtF,MAAM,CAACxP,KAAKsG,OAAO/U,MAAM+U,OAAOka,OAAOjf,SAASk7F,YAAY18F,MAAM5H,KAAK,CAACxB,KAAK2P,OAAOg7E,QAAQ,cAAclpB,YAAY,CAACzhE,KAAK2P,OAAOg7E,QAAQ,IAAIob,MAAM,CAAC/lG,KAAKuuF,QAAQ5D,SAAQ,GAAIzvF,QAAQ,CAAC8E,KAAKmF,OAAOwlF,QAAQ,WAAW,MAAM,KAAKz7C,OAAO,CAAClvC,KAAKoJ,MAAMuhF,QAAQ,WAAW,MAAM,KAAKqb,cAAc,CAAChmG,KAAKmF,OAAOwlF,QAAQ,WAAW,MAAM,KAAKsb,aAAa,CAACjmG,KAAKoJ,MAAMuhF,QAAQ,WAAW,MAAM,MAAMyB,MAAM,CAAClxF,QAAQ,CAACo+F,MAAK,EAAGj3F,QAAQ,SAASrG,GAAG,IAAI,IAAImoD,KAAKnoD,EAAE5E,KAAKyuG,WAAWpsC,UAAUtV,EAAEnoD,EAAEmoD,MAAM4hD,MAAM,WAAW3uG,KAAKioG,UAAUjoG,KAAK8uG,cAAc78F,KAAK,SAASrN,GAAG5E,KAAK+uG,iBAAiBnqG,IAAIpB,MAAM,SAASoB,GAAG5E,KAAK+uG,iBAAiBnqG,KAAKouF,QAAQ,CAACgc,WAAW,WAAW,IAAIpqG,EAAE5E,KAAK+sD,EAAEh/C,OAAO63C,OAAO,GAAG5lD,KAAK4uG,cAAc5uG,KAAK8D,SAAS9D,KAAK2uG,OAAO3uG,KAAKyyF,WAAW1zF,EAAEkwG,UAAUjvG,KAAK2yF,MAAMuc,UAAUniD,GAAG/sD,KAAKyuG,WAAWzuG,KAAKyyF,WAAWxc,OAAOj2E,KAAKyyF,WAAW1zF,EAAEmrE,aAAalqE,KAAK2yF,MAAMxoB,SAASpd,GAAG/sD,KAAKyuG,WAAWzuG,KAAKyyF,WAAWzyF,KAAKyuG,WAAWnlD,SAAStpD,KAAKiS,MAAMjS,KAAKwD,OAAOxD,KAAKoX,UAAUpX,KAAKyuG,WAAW35F,GAAG,UAAS,SAASi4C,GAAGnoD,EAAEwS,QAAQ21C,EAAE1D,WAAWzkD,EAAEquF,OAAOruF,EAAEquF,MAAM,QAAQruF,EAAEwS,YAAW,IAAIsI,EAAE,GAAG,CAAC,SAAS,UAAU,eAAe,iBAAiB,aAAa,YAAY,gBAAgB,wBAAwB,iBAAiB,UAAU,cAAc,oBAAoB,QAAQ,OAAO,UAAU,eAAe,uBAAuB,UAAUiG,OAAO3lB,KAAK83C,QAAQnyB,OAAO3lB,KAAK6uG,cAAc5pD,QAAO,SAASrgD,GAAG,OAAO8a,EAAE9a,KAAK8a,EAAE9a,IAAG,MAAMwR,SAAQ,SAAS22C,GAAGnoD,EAAE6pG,WAAW35F,GAAGi4C,GAAE,WAAW,IAAI,IAAIrtC,EAAEpX,UAAU1J,OAAO4f,EAAExM,MAAM0N,GAAG2P,EAAE,EAAEA,EAAE3P,EAAE2P,IAAI7Q,EAAE6Q,GAAG/mB,UAAU+mB,GAAGzqB,EAAEquF,MAAM/zE,MAAMta,EAAE,CAACmoD,GAAGpnC,OAAOnH,IAAI,IAAIzf,EAAEguD,EAAExrD,QAAQ,WAAW,OAAOuB,cAAc/D,IAAIguD,GAAGnoD,EAAEquF,MAAM/zE,MAAMta,EAAE,CAAC7F,GAAG4mB,OAAOnH,UAAQxe,KAAKizF,MAAM,QAAQjzF,KAAKyyF,YAAYzyF,KAAKmvG,oBAAoBnvG,KAAKs9D,WAAWA,QAAQ,WAAW,IAAI14D,EAAE5E,KAAKA,KAAKioG,WAAU,WAAWrjG,EAAE6pG,WAAWnxC,cAAa0xB,QAAQ,WAAW,IAAIpqF,EAAE5E,KAAKyuG,WAAWvjF,IAAIxoB,GAAGkR,oBAAoBhP,GAAGA,EAAEg6C,QAAQh6C,EAAEg6C,UAAUmwD,iBAAiB,SAASnqG,GAAG,GAAGA,IAAI5E,KAAKyuG,WAAWplD,WAAW,CAAC,IAAI0D,EAAE/sD,KAAKyuG,WAAWxqC,gBAAgBjkE,KAAKyuG,WAAWnlD,SAAS1kD,GAAG5E,KAAKoX,QAAQxS,EAAE5E,KAAKyuG,WAAWzqC,SAASjX,EAAEx/C,KAAKw/C,EAAElmD,KAAK7G,KAAKmvG,qBAAqBA,kBAAkB,WAAW,IAAIvqG,EAAE5E,UAAK,IAASA,KAAK0uG,kBAAa,IAAS1uG,KAAKyyB,QAAQzyB,KAAK0uG,YAAYt4F,SAAQ,SAAS22C,GAAG,IAAIrtC,EAAE9a,EAAE6pG,WAAWxjD,SAAS8B,GAAGnoD,EAAE6pG,WAAW3jD,gBAAgBiC,EAAE,cAAcrtC,EAAEwe,cAAc,KAAKt5B,EAAE6tB,cAAaq8E,YAAY,WAAW,IAAIlqG,EAAE5E,KAAKyuG,WAAWvjF,IAAI+1B,QAAQ8L,EAAE/sD,KAAKyuG,WAAWvjF,IAAIi+B,gBAAgBnpD,KAAK8D,QAAQN,MAAMxD,KAAKyuG,WAAWplD,WAAWrpD,KAAKgvF,UAAUhvF,KAAKgvG,aAAahvG,KAAKyuG,WAAWvjF,IAAI+1B,QAAQr8C,EAAE5E,KAAKyuG,WAAWvjF,IAAIi+B,gBAAgB4D,IAAIkuC,QAAQ,WAAWj7F,KAAKgvG,cAAcrP,cAAc,WAAW3/F,KAAKgvF,aAAa,SAASpqF,EAAEmoD,EAAErtC,GAAG,aAAa3R,OAAOq/D,eAAergB,EAAE,aAAa,CAACvpD,OAAM,IAAK,IAAIgb,EAAEkB,EAAE,GAAG2P,EAAE3P,EAAEA,EAAElB,GAAG,IAAI,IAAIzf,KAAKyf,EAAE,CAAC,UAAU,WAAW7Z,QAAQ5F,GAAG,GAAG,SAAS6F,GAAG8a,EAAE+X,EAAEs1B,EAAEnoD,GAAE,WAAW,OAAO4Z,EAAE5Z,MAAxC,CAA8C7F,GAAG,IAAIw5E,EAAE74D,EAAE,GAAG0sE,EAAE1sE,EAAE,GAAGtB,EAAEguE,EAAE/8D,EAAEjR,EAAEm6D,EAAEn6D,GAAE,EAAG,KAAK,KAAK,MAAM2uC,EAAEwmC,QAAQn1E,EAAEve,SAAS,SAAS+E,EAAEmoD,EAAErtC,GAAG,aAAa,SAASlB,EAAE5Z,GAAG,OAAOA,GAAGA,EAAE6oE,WAAW7oE,EAAE,CAAC2uF,QAAQ3uF,GAAGmJ,OAAOq/D,eAAergB,EAAE,aAAa,CAACvpD,OAAM,IAAKupD,EAAEqiD,QAAQriD,EAAE0lC,WAAW1lC,EAAE7rD,gBAAW,EAAO,IAAImuB,EAAE3P,EAAE,GAAG3gB,EAAEyf,EAAE6Q,GAAGkpD,EAAE74D,EAAE,GAAG0sE,EAAE5tE,EAAE+5D,GAAGn6D,EAAE7K,OAAOrS,YAAYnC,EAAEw0F,QAAQ8b,EAAE,SAASzqG,EAAEmoD,GAAGA,IAAIA,EAAEjpD,UAAUsoF,EAAEmH,QAAQ9xE,MAAMmtF,cAAcrb,QAAQ,WAAW,OAAOxmC,EAAEjpD,UAAUipD,EAAEjV,SAASs0C,EAAEmH,QAAQ9xE,MAAMotF,aAAatb,QAAQ,WAAW,OAAOxmC,EAAEjV,UAAUlzC,EAAEw4F,UAAUhR,EAAEmH,QAAQnpF,KAAKgiF,EAAEmH,UAAUt5E,EAAE,CAAC/Y,WAAWkd,EAAEq0E,WAAWrG,EAAEmH,QAAQ6b,QAAQC,GAAGtiD,EAAEwmC,QAAQt5E,EAAE8yC,EAAE7rD,WAAWkd,EAAE2uC,EAAE0lC,WAAWrG,EAAEmH,QAAQxmC,EAAEqiD,QAAQC,GAAG,SAASzqG,EAAEmoD,GAAGnoD,EAAE/E,QAAQ,SAAS+E,EAAEmoD,EAAErtC,EAAElB,EAAE6Q,EAAEtwB,GAAG,IAAIw5E,EAAE6T,EAAExnF,EAAEA,GAAG,GAAGwZ,SAASxZ,EAAE2uF,QAAQ,WAAWn1E,GAAG,aAAaA,IAAIm6D,EAAE3zE,EAAEwnF,EAAExnF,EAAE2uF,SAAS,IAA4Jt5E,EAAxJo1F,EAAE,mBAAmBjjB,EAAEA,EAAEtoF,QAAQsoF,EAAyH,GAAvHr/B,IAAIsiD,EAAE3b,OAAO3mC,EAAE2mC,OAAO2b,EAAEpqB,gBAAgBl4B,EAAEk4B,gBAAgBoqB,EAAEC,WAAU,GAAI5vF,IAAI2vF,EAAE/b,YAAW,GAAIjkE,IAAIggF,EAAEE,SAASlgF,GAAYtwB,GAAGkb,EAAE,SAASrV,GAAGA,EAAEA,GAAG5E,KAAKwvG,QAAQxvG,KAAKwvG,OAAOC,YAAYzvG,KAAKwd,QAAQxd,KAAKwd,OAAOgyF,QAAQxvG,KAAKwd,OAAOgyF,OAAOC,WAAW7qG,GAAG,oBAAoB8qG,sBAAsB9qG,EAAE8qG,qBAAqBlxF,GAAGA,EAAE/H,KAAKzW,KAAK4E,GAAGA,GAAGA,EAAE+qG,uBAAuB/qG,EAAE+qG,sBAAsBv8E,IAAIr0B,IAAIswG,EAAEO,aAAa31F,GAAGuE,IAAIvE,EAAEuE,GAAGvE,EAAE,CAAC,IAAIhW,EAAEorG,EAAE/b,WAAW77D,EAAExzB,EAAEorG,EAAE3b,OAAO2b,EAAEjG,aAAanlG,GAAGorG,EAAEQ,cAAc51F,EAAEo1F,EAAE3b,OAAO,SAAS9uF,EAAEmoD,GAAG,OAAO9yC,EAAExD,KAAKs2C,GAAGt1B,EAAE7yB,EAAEmoD,KAAKsiD,EAAEjG,aAAa3xE,EAAE,GAAG9R,OAAO8R,EAAExd,GAAG,CAACA,GAAG,MAAM,CAAC61F,SAASv3B,EAAE14E,QAAQusF,EAAEtoF,QAAQurG,KAAK,SAASzqG,EAAEmoD,EAAErtC,GAAG,aAAa,IAAIlB,EAAE,WAAW,IAAI5Z,EAAE5E,KAAK+sD,EAAEnoD,EAAEg/E,eAAelkE,EAAE9a,EAAEk/E,MAAMD,IAAI92B,EAAE,OAAOrtC,EAAE,MAAM,CAACqkE,YAAY,iBAAiBiO,MAAM,CAAC2c,MAAM/pG,EAAE+pG,QAAQ,CAAC/pG,EAAE+pG,MAAMjvF,EAAE,MAAM,CAACqoB,IAAI,cAAcroB,EAAE,WAAW,CAACqoB,IAAI,WAAW9/B,MAAM,CAACmC,KAAKxF,EAAEwF,KAAKigE,YAAYzlE,EAAEylE,kBAAkBh7C,EAAE,GAAGtwB,EAAE,CAAC20F,OAAOl1E,EAAEymE,gBAAgB51D,GAAG09B,EAAE3uC,EAAErf,S;;ACC36Lc,EAAQgtD,KAAO,SAAU/1C,EAAQyd,EAAQw7E,EAAMC,EAAMC,GACnD,IAAIrrG,EAAGmW,EACHm1F,EAAiB,EAATD,EAAcD,EAAO,EAC7BG,GAAQ,GAAKD,GAAQ,EACrBE,EAAQD,GAAQ,EAChBE,GAAS,EACTtxG,EAAIgxG,EAAQE,EAAS,EAAK,EAC1Bx4E,EAAIs4E,GAAQ,EAAI,EAChBx3B,EAAIzhE,EAAOyd,EAASx1B,GAOxB,IALAA,GAAK04B,EAEL7yB,EAAI2zE,GAAM,IAAO83B,GAAU,EAC3B93B,KAAQ83B,EACRA,GAASH,EACFG,EAAQ,EAAGzrG,EAAS,IAAJA,EAAWkS,EAAOyd,EAASx1B,GAAIA,GAAK04B,EAAG44E,GAAS,GAKvE,IAHAt1F,EAAInW,GAAM,IAAOyrG,GAAU,EAC3BzrG,KAAQyrG,EACRA,GAASL,EACFK,EAAQ,EAAGt1F,EAAS,IAAJA,EAAWjE,EAAOyd,EAASx1B,GAAIA,GAAK04B,EAAG44E,GAAS,GAEvE,GAAU,IAANzrG,EACFA,EAAI,EAAIwrG,MACH,IAAIxrG,IAAMurG,EACf,OAAOp1F,EAAIgoC,IAAsB7nB,KAAdq9C,GAAK,EAAI,GAE5Bx9D,GAAQ5b,KAAKsB,IAAI,EAAGuvG,GACpBprG,GAAQwrG,EAEV,OAAQ73B,GAAK,EAAI,GAAKx9D,EAAI5b,KAAKsB,IAAI,EAAGmE,EAAIorG,IAG5CnwG,EAAQ0Z,MAAQ,SAAUzC,EAAQtT,EAAO+wB,EAAQw7E,EAAMC,EAAMC,GAC3D,IAAIrrG,EAAGmW,EAAGqxE,EACN8jB,EAAiB,EAATD,EAAcD,EAAO,EAC7BG,GAAQ,GAAKD,GAAQ,EACrBE,EAAQD,GAAQ,EAChB9nF,EAAe,KAAT2nF,EAAc7wG,KAAKsB,IAAI,GAAI,IAAMtB,KAAKsB,IAAI,GAAI,IAAM,EAC1D1B,EAAIgxG,EAAO,EAAKE,EAAS,EACzBx4E,EAAIs4E,EAAO,GAAK,EAChBx3B,EAAI/0E,EAAQ,GAAgB,IAAVA,GAAe,EAAIA,EAAQ,EAAK,EAAI,EAmC1D,IAjCAA,EAAQrE,KAAK+pB,IAAI1lB,GAEbu9B,MAAMv9B,IAAUA,IAAU03B,KAC5BngB,EAAIgmB,MAAMv9B,GAAS,EAAI,EACvBoB,EAAIurG,IAEJvrG,EAAIzF,KAAKC,MAAMD,KAAK0jF,IAAIr/E,GAASrE,KAAKmxG,KAClC9sG,GAAS4oF,EAAIjtF,KAAKsB,IAAI,GAAImE,IAAM,IAClCA,IACAwnF,GAAK,GAGL5oF,GADEoB,EAAIwrG,GAAS,EACN/nF,EAAK+jE,EAEL/jE,EAAKlpB,KAAKsB,IAAI,EAAG,EAAI2vG,GAE5B5sG,EAAQ4oF,GAAK,IACfxnF,IACAwnF,GAAK,GAGHxnF,EAAIwrG,GAASD,GACfp1F,EAAI,EACJnW,EAAIurG,GACKvrG,EAAIwrG,GAAS,GACtBr1F,GAAMvX,EAAQ4oF,EAAK,GAAKjtF,KAAKsB,IAAI,EAAGuvG,GACpCprG,GAAQwrG,IAERr1F,EAAIvX,EAAQrE,KAAKsB,IAAI,EAAG2vG,EAAQ,GAAKjxG,KAAKsB,IAAI,EAAGuvG,GACjDprG,EAAI,IAIDorG,GAAQ,EAAGl5F,EAAOyd,EAASx1B,GAAS,IAAJgc,EAAUhc,GAAK04B,EAAG1c,GAAK,IAAKi1F,GAAQ,GAI3E,IAFAprG,EAAKA,GAAKorG,EAAQj1F,EAClBm1F,GAAQF,EACDE,EAAO,EAAGp5F,EAAOyd,EAASx1B,GAAS,IAAJ6F,EAAU7F,GAAK04B,EAAG7yB,GAAK,IAAKsrG,GAAQ,GAE1Ep5F,EAAOyd,EAASx1B,EAAI04B,IAAU,IAAJ8gD,I,qBCnF5B,SAASg4B,EAAgB7wB,EAAUpS,GACjC,KAAMoS,aAAoBpS,GACxB,MAAM,IAAI42B,UAAU,qCAIxBtkG,EAAOC,QAAU0wG,EAAiB3wG,EAAOC,QAAQ4tE,YAAa,EAAM7tE,EAAOC,QAAQ,WAAaD,EAAOC,S,kCCLvG,IAAIgW,EAAI,EAAQ,QACZ26F,EAAa,EAAQ,QACrBC,EAAyB,EAAQ,QAIrC56F,EAAE,CAAEC,OAAQ,SAAU46F,OAAO,EAAMzwB,OAAQwwB,EAAuB,SAAW,CAC3EzkD,KAAM,SAAck5B,GAClB,OAAOsrB,EAAWxwG,KAAM,IAAK,OAAQklF,O,wBCJzC,SAAUjkF,GAENA,EAAI,EAAQ,UAFhB,EAOG,SAASC,GACV,aAEA,IAAIyvG,EAA4B,kBAC5BC,EAA4B,yBAsChC,SAASC,EAAWnuG,EAAIoB,GAStB,GARA9D,KAAK0C,GAAKA,EACV1C,KAAK8D,QAAUA,EACf9D,KAAKy6B,OAAS,KACdz6B,KAAK8wG,SAAW,EAChB9wG,KAAK+wG,KAAO,EACZ/wG,KAAKgxG,SAAWhxG,KAAK0C,GAAGsD,UAAU,SAClChG,KAAKixG,SAAWjxG,KAAK0C,GAAGuoB,QAAQjrB,KAAKgxG,SAAS1qG,MAAM1H,OAASoB,KAAK0C,GAAGiD,eAAe/G,OAEhFoB,KAAK8D,QAAQotG,uBAAwB,CACvC,IAAI59F,EAAOtT,KACX0C,EAAGoS,GAAG,iBAAkB9U,KAAKmxG,aAAe,WAAa79F,EAAKkT,oBA7ClEtlB,EAAWkwG,SAAW,SAAS1uG,EAAI2uG,EAAUvtG,GAC3C,IAAKutG,EAAU,OAAO3uG,EAAG0uG,SAASttG,GAC9BA,GAAWA,EAAQ0iF,QAAO6qB,EAAS7qB,OAAQ,GAC/C,IAAI8qB,EAAU,CAACzzD,KAAMwzD,GACrB,GAAIvtG,EAAS,IAAK,IAAIub,KAAQvb,EAASwtG,EAAQjyF,GAAQvb,EAAQub,GAC/D,OAAO3c,EAAG0uG,SAASE,IAGrBpwG,EAAWgT,gBAAgB,YAAY,SAASpQ,GAC9CA,EAAUytG,EAAavxG,KAAMA,KAAKgG,UAAU,SAAUlC,GACtD,IAAI0tG,EAAaxxG,KAAKyL,iBACtB,KAAI+lG,EAAW5yG,OAAS,GAAxB,CAIA,GAAIoB,KAAKg9C,oBAAqB,CAC5B,IAAKl5C,EAAQ+5C,KAAK4zD,kBAAmB,OAErC,IAAK,IAAI1yG,EAAI,EAAGA,EAAIyyG,EAAW5yG,OAAQG,IACrC,GAAIyyG,EAAWzyG,GAAG8M,KAAKvF,MAAQkrG,EAAWzyG,GAAG2N,OAAOpG,KAAM,OAG1DtG,KAAK2C,MAAM+uG,kBAAkB1xG,KAAK2C,MAAM+uG,iBAAiB5gG,QAC7D,IAAI6gG,EAAa3xG,KAAK2C,MAAM+uG,iBAAmB,IAAIb,EAAW7wG,KAAM8D,GAC/D6tG,EAAW7tG,QAAQ+5C,OAExB38C,EAAW8kB,OAAOhmB,KAAM,kBAAmBA,MAC3C2xG,EAAW/+D,QAAO,QAGpB1xC,EAAWgT,gBAAgB,aAAa,WAClClU,KAAK2C,MAAM+uG,kBAAkB1xG,KAAK2C,MAAM+uG,iBAAiB5gG,WAkB/D,IAAIsjF,EAAwB7gF,OAAO6gF,uBAAyB,SAAShO,GACnE,OAAO1wE,WAAW0wE,EAAI,IAAK,KAEzBwrB,EAAuBr+F,OAAOq+F,sBAAwBh8F,aAsF1D,SAAS27F,EAAa7uG,EAAIZ,EAAKgC,GAC7B,IAAIi6F,EAASr7F,EAAGoB,QAAQ+tG,YACpB3wF,EAAM,GACV,IAAK,IAAI7B,KAAQyyF,EAAgB5wF,EAAI7B,GAAQyyF,EAAezyF,GAC5D,GAAI0+E,EAAQ,IAAK,IAAI1+E,KAAQ0+E,OACNnkF,IAAjBmkF,EAAO1+E,KAAqB6B,EAAI7B,GAAQ0+E,EAAO1+E,IACrD,GAAIvb,EAAS,IAAK,IAAIub,KAAQvb,OACN8V,IAAlB9V,EAAQub,KAAqB6B,EAAI7B,GAAQvb,EAAQub,IAEvD,OADI6B,EAAI28B,KAAKslC,UAASjiE,EAAI28B,KAAO38B,EAAI28B,KAAKslC,QAAQzgF,EAAIZ,IAC/Cof,EAGT,SAAS6wF,EAAQJ,GACf,MAAyB,iBAAdA,EAA+BA,EAC9BA,EAAWxuG,KAGzB,SAAS6uG,EAAYL,EAAYxrD,GAC/B,IAAI8rD,EAAU,CACZC,GAAI,WAAY/rD,EAAOgsD,WAAW,IAClCC,KAAM,WAAYjsD,EAAOgsD,UAAU,IACnCE,OAAQ,WAAYlsD,EAAOgsD,UAA+B,EAApBhsD,EAAOmsD,YAAgB,IAC7DC,SAAU,WAAYpsD,EAAOgsD,UAAUhsD,EAAOmsD,WAAa,GAAG,IAC9DE,KAAM,WAAYrsD,EAAOssD,SAAS,IAClCC,IAAK,WAAYvsD,EAAOssD,SAAStsD,EAAOvnD,OAAS,IACjDkM,MAAOq7C,EAAOwsD,KACdC,IAAKzsD,EAAOwsD,KACZE,IAAK1sD,EAAOr1C,OAGV2L,EAAM,MAAM5X,KAAKuJ,UAAUiN,UAE3BoB,IACFw1F,EAAQ,UAAY,WAAY9rD,EAAOgsD,WAAW,IAClDF,EAAQ,UAAY,WAAY9rD,EAAOgsD,UAAU,KAGnD,IAAIW,EAASnB,EAAW7tG,QAAQivG,WAC5BC,EAASF,EAAS,GAAKb,EAC3B,SAASgB,EAAW5qG,EAAKgC,GACvB,IAAI2tD,EAEFA,EADgB,iBAAP3tD,EACD,SAAS3H,GAAM,OAAO2H,EAAI3H,EAAIyjD,IAE/B8rD,EAAQp4F,eAAexP,GACtB4nG,EAAQ5nG,GAERA,EACV2oG,EAAO3qG,GAAO2vD,EAEhB,GAAI86C,EACF,IAAK,IAAIzqG,KAAOyqG,EAAYA,EAAOj5F,eAAexR,IAChD4qG,EAAW5qG,EAAKyqG,EAAOzqG,IAC3B,IAAIrB,EAAQ2qG,EAAW7tG,QAAQw0D,UAC/B,GAAItxD,EACF,IAAK,IAAIqB,KAAOrB,EAAWA,EAAM6S,eAAexR,IAC9C4qG,EAAW5qG,EAAKrB,EAAMqB,IAC1B,OAAO2qG,EAGT,SAASE,EAAeC,EAAcprG,GACpC,MAAOA,GAAMA,GAAMorG,EAAc,CAC/B,GAAkC,OAA9BprG,EAAG4wC,SAAS92B,eAA0B9Z,EAAGwM,YAAc4+F,EAAc,OAAOprG,EAChFA,EAAKA,EAAGwM,YAIZ,SAAS6+F,EAAOzB,EAAY5hG,GAC1B/P,KAAKggB,GAAK,eAAiB7gB,KAAKC,MAAMD,KAAKwB,OAAO,MAClDX,KAAK2xG,WAAaA,EAClB3xG,KAAK+P,KAAOA,EACZ/P,KAAKqzG,QAAS,EACd,IAAI54E,EAASz6B,KAAM0C,EAAKivG,EAAWjvG,GAC/B8lB,EAAgB9lB,EAAG66D,gBAAgB/0C,cACnC8qF,EAAe9qF,EAAc+qF,aAAe/qF,EAAc8qF,aAE1DE,EAAQxzG,KAAKwzG,MAAQhrF,EAAcrgB,cAAc,MACrDqrG,EAAM51F,aAAa,OAAQ,WAC3B41F,EAAM51F,aAAa,gBAAiB,QACpC41F,EAAMxzF,GAAKhgB,KAAKggB,GAChB,IAAIi9C,EAAQ00C,EAAWjvG,GAAGoB,QAAQm5D,MAClCu2C,EAAM9qG,UAAY,oBAAsBu0D,EACxCj9D,KAAKyzG,aAAe1jG,EAAK0jG,cAAgB,EAGzC,IADA,IAAIC,EAAc3jG,EAAKysB,KACdz9B,EAAI,EAAGA,EAAI20G,EAAY90G,SAAUG,EAAG,CAC3C,IAAI0e,EAAM+1F,EAAMhrG,YAAYggB,EAAcrgB,cAAc,OAAQ2D,EAAM4nG,EAAY30G,GAC9E2J,EAAYioG,GAAsB5xG,GAAKiB,KAAKyzG,aAAe,GAAK,IAAM7C,GACrD,MAAjB9kG,EAAIpD,YAAmBA,EAAYoD,EAAIpD,UAAY,IAAMA,GAC7D+U,EAAI/U,UAAYA,EACZ3J,GAAKiB,KAAKyzG,cAAch2F,EAAIG,aAAa,gBAAiB,QAC9DH,EAAIuC,GAAKhgB,KAAKggB,GAAK,IAAMjhB,EACzB0e,EAAIG,aAAa,OAAQ,UACrB9R,EAAI4nF,OAAQ5nF,EAAI4nF,OAAOj2E,EAAK1N,EAAMjE,GACjC2R,EAAIjV,YAAYggB,EAAc/f,eAAeqD,EAAI8tB,aAAem4E,EAAQjmG,KAC7E2R,EAAIk2F,OAAS50G,EAGf,IAAI46C,EAAYg4D,EAAW7tG,QAAQ61C,WAAanxB,EAAcvK,KAC1Dnc,EAAMY,EAAGkE,aAAa+qG,EAAW7tG,QAAQ8vG,cAAgB7jG,EAAKlI,KAAO,MACrE0F,EAAOzL,EAAIyL,KAAM1G,EAAM/E,EAAI+B,OAAQgwG,GAAQ,EAC3CxrE,EAAa,EAAG9H,EAAY,EAChC,GAAIoZ,IAAcnxB,EAAcvK,KAAM,CAEpC,IAAI61F,GAA0H,IAAlG,CAAC,WAAY,WAAY,SAASnvG,QAAQ2uG,EAAa3yE,iBAAiBgZ,GAAWha,UAC3GwsC,EAAe2nC,EAAwBn6D,EAAYA,EAAUwyB,aAC7D4nC,EAAuB5nC,EAAaxlE,wBACpCqtG,EAAexrF,EAAcvK,KAAKtX,wBACtC0hC,EAAc0rE,EAAqBxmG,KAAOymG,EAAazmG,KAAO4+D,EAAajnC,WAC3E3E,EAAawzE,EAAqBltG,IAAMmtG,EAAantG,IAAMslE,EAAa7mC,UAE1EkuE,EAAMvtG,MAAMsH,KAAQA,EAAO86B,EAAc,KACzCmrE,EAAMvtG,MAAMY,IAAOA,EAAM05B,EAAa,KAGtC,IAAI0zE,EAAOX,EAAaY,YAAc/0G,KAAKgB,IAAIqoB,EAAcvK,KAAK6J,YAAaU,EAAcyc,gBAAgBnd,aACzGqsF,EAAOb,EAAajkE,aAAelwC,KAAKgB,IAAIqoB,EAAcvK,KAAK4J,aAAcW,EAAcyc,gBAAgBpd,cAC/G8xB,EAAUnxC,YAAYgrG,GACtB9wG,EAAG66D,gBAAgB3/C,aAAa,oBAAqB,QACrDlb,EAAG66D,gBAAgB3/C,aAAa,YAAa5d,KAAKggB,IAClDtd,EAAG66D,gBAAgB3/C,aAAa,wBAAyB5d,KAAKggB,GAAK,IAAMhgB,KAAKyzG,cAE9E,IAIIW,EAJA/sE,EAAMsqE,EAAW7tG,QAAQuwG,cAAgBb,EAAM7sG,wBAA0B,IAAI2tG,QAC7EC,IAAU5C,EAAW7tG,QAAQ0wG,qBAAsBhB,EAAM/hE,aAAe+hE,EAAMlyE,aAAe,EAIjG5rB,YAAW,WAAa0+F,EAAc1xG,EAAGuhE,mBAEzC,IAAIwwC,EAAWptE,EAAIxjC,OAASswG,EAC5B,GAAIM,EAAW,EAAG,CAChB,IAAI3oF,EAASub,EAAIxjC,OAASwjC,EAAIxgC,IAAK6tG,EAAS5yG,EAAI+E,KAAO/E,EAAI+B,OAASwjC,EAAIxgC,KACxE,GAAI6tG,EAAS5oF,EAAS,EACpB0nF,EAAMvtG,MAAMY,KAAOA,EAAM/E,EAAI+E,IAAMilB,EAASyU,GAAa,KACzDszE,GAAQ,OACH,GAAI/nF,EAASqoF,EAAM,CACxBX,EAAMvtG,MAAM6lB,OAAUqoF,EAAO,EAAK,KAClCX,EAAMvtG,MAAMY,KAAOA,EAAM/E,EAAI+B,OAASwjC,EAAIxgC,IAAM05B,GAAa,KAC7D,IAAIh5B,EAAS7E,EAAGsD,YACZ+J,EAAKlI,KAAKrD,IAAM+C,EAAO/C,KACzB1C,EAAMY,EAAGkE,aAAaW,GACtBisG,EAAMvtG,MAAMsH,MAAQA,EAAOzL,EAAIyL,KAAO86B,GAAc,KACpDhB,EAAMmsE,EAAM7sG,0BAIlB,IAuBMguG,EAvBFC,EAAWvtE,EAAI75B,MAAQymG,EAS3B,GARIM,IAASK,GAAYlyG,EAAG+D,QAAQw6B,gBAChC2zE,EAAW,IACTvtE,EAAI75B,MAAQ65B,EAAI95B,KAAO0mG,IACzBT,EAAMvtG,MAAMs5B,MAAS00E,EAAO,EAAK,KACjCW,GAAavtE,EAAI75B,MAAQ65B,EAAI95B,KAAQ0mG,GAEvCT,EAAMvtG,MAAMsH,MAAQA,EAAOzL,EAAIyL,KAAOqnG,EAAWvsE,GAAc,MAE7DksE,EAAS,IAAK,IAAIt3F,EAAOu2F,EAAMl2F,WAAYL,EAAMA,EAAOA,EAAK4hB,YAC/D5hB,EAAKhX,MAAM66B,aAAep+B,EAAG+D,QAAQw6B,eAAiB,MAExDv+B,EAAGiI,UAAU3K,KAAKmH,OAAS6qG,EAAYL,EAAY,CACjDQ,UAAW,SAASzyF,EAAGm1F,GAAap6E,EAAOq6E,aAAar6E,EAAOg5E,aAAe/zF,EAAGm1F,IACjFpC,SAAU,SAAS/yF,GAAK+a,EAAOq6E,aAAap1F,IAC5C4yF,SAAU,WAAa,OAAO73E,EAAOs6E,gBACrCn2G,OAAQ80G,EAAY90G,OACpBkS,MAAO,WAAa6gG,EAAW7gG,SAC/B6hG,KAAM,WAAal4E,EAAOk4E,QAC1B5iG,KAAMA,KAGJ4hG,EAAW7tG,QAAQkxG,kBAErBtyG,EAAGoS,GAAG,OAAQ9U,KAAK4tC,OAAS,WAAa+mE,EAAgBj/F,YAAW,WAAai8F,EAAW7gG,UAAY,OACxGpO,EAAGoS,GAAG,QAAS9U,KAAK8tC,QAAU,WAAal4B,aAAa++F,MAG1DjyG,EAAGoS,GAAG,SAAU9U,KAAKi1G,SAAW,WAC9B,IAAIC,EAAYxyG,EAAGuhE,gBAAiB85B,EAASr7F,EAAGkR,oBAAoBjN,wBAC/DytG,IAAaA,EAAc1xG,EAAGuhE,iBACnC,IAAI1zB,EAAS1pC,EAAMutG,EAAYvtG,IAAMquG,EAAUruG,IAC3CsuG,EAAQ5kE,GAAU+iE,EAAajuE,cAAgB7c,EAAcyc,iBAAmBzc,EAAcvK,MAAMqnB,WAExG,GADKuuE,IAAOsB,GAAS3B,EAAM3rF,cACvBstF,GAASpX,EAAOl3F,KAAOsuG,GAASpX,EAAOl6F,OAAQ,OAAO8tG,EAAW7gG,QACrE0iG,EAAMvtG,MAAMY,IAAM0pC,EAAS,KAC3BijE,EAAMvtG,MAAMsH,KAAQA,EAAO6mG,EAAY7mG,KAAO2nG,EAAU3nG,KAAQ,OAGlErM,EAAW4T,GAAG0+F,EAAO,YAAY,SAAS5uG,GACxC,IAAImoD,EAAImmD,EAAeM,EAAO5uG,EAAEkR,QAAUlR,EAAEuiB,YACxC4lC,GAAiB,MAAZA,EAAE4mD,SAAiBl5E,EAAOq6E,aAAa/nD,EAAE4mD,QAASl5E,EAAOk4E,WAGpEzxG,EAAW4T,GAAG0+F,EAAO,SAAS,SAAS5uG,GACrC,IAAImoD,EAAImmD,EAAeM,EAAO5uG,EAAEkR,QAAUlR,EAAEuiB,YACxC4lC,GAAiB,MAAZA,EAAE4mD,SACTl5E,EAAOq6E,aAAa/nD,EAAE4mD,QAClBhC,EAAW7tG,QAAQsxG,uBAAuB36E,EAAOk4E,WAIzDzxG,EAAW4T,GAAG0+F,EAAO,aAAa,WAChC99F,YAAW,WAAWhT,EAAG+R,UAAW,OAItC,IAAI4gG,EAAoBr1G,KAAKs1G,uBAM7B,OAL+B,IAA3BD,EAAkBxtG,MAAuC,IAAzBwtG,EAAkBhvG,IACpDrG,KAAKu1G,iBAGPr0G,EAAW8kB,OAAOjW,EAAM,SAAU2jG,EAAY1zG,KAAKyzG,cAAeD,EAAMn2F,WAAWrd,KAAKyzG,gBACjF,EA2ET,SAAS+B,EAAkB9yG,EAAI0/D,GAC7B,IAAK1/D,EAAGs6C,oBAAqB,OAAOolB,EAEpC,IADA,IAAI/qD,EAAS,GACJtY,EAAI,EAAGA,EAAIqjE,EAAQxjE,OAAQG,IAC9BqjE,EAAQrjE,GAAG0yG,mBAAmBp6F,EAAO5K,KAAK21D,EAAQrjE,IACxD,OAAOsY,EAGT,SAASo+F,EAAW53D,EAAMn7C,EAAIoB,EAASwD,GACrC,GAAIu2C,EAAK2oC,MACP3oC,EAAKn7C,EAAI4E,EAAUxD,OACd,CACL,IAAIuT,EAASwmC,EAAKn7C,EAAIoB,GAClBuT,GAAUA,EAAOgsE,KAAMhsE,EAAOgsE,KAAK/7E,GAClCA,EAAS+P,IAIlB,SAASq+F,EAAiBhzG,EAAIZ,GAC5B,IAA0C6zG,EAAtCvzC,EAAU1/D,EAAGggE,WAAW5gE,EAAK,QACjC,GAAIsgE,EAAQxjE,OAAQ,CAClB,IAAIg3G,EAAW,SAASlzG,EAAI4E,EAAUxD,GACpC,IAAIg/F,EAAM0S,EAAkB9yG,EAAI0/D,GAChC,SAASyzC,EAAI92G,GACX,GAAIA,GAAK+jG,EAAIlkG,OAAQ,OAAO0I,EAAS,MACrCmuG,EAAW3S,EAAI/jG,GAAI2D,EAAIoB,GAAS,SAASuT,GACnCA,GAAUA,EAAOmlB,KAAK59B,OAAS,EAAG0I,EAAS+P,GAC1Cw+F,EAAI92G,EAAI,MAGjB82G,EAAI,IAIN,OAFAD,EAASpvB,OAAQ,EACjBovB,EAASnE,mBAAoB,EACtBmE,EACF,OAAID,EAAQjzG,EAAG+/D,UAAU//D,EAAGsD,YAAa,cACvC,SAAStD,GAAM,OAAOxB,EAAW28C,KAAKi4D,SAASpzG,EAAI,CAACizG,MAAOA,KACzDz0G,EAAW28C,KAAKk4D,QAClB,SAASrzG,EAAIoB,GAAW,OAAO5C,EAAW28C,KAAKk4D,QAAQrzG,EAAIoB,IAE3D,aAxZX+sG,EAAWtwG,UAAY,CACrBuQ,MAAO,WACA9Q,KAAKm4C,WACVn4C,KAAK0C,GAAGC,MAAM+uG,iBAAmB,KACjC1xG,KAAK+wG,KAAO,KACR/wG,KAAK8D,QAAQotG,wBACflxG,KAAK0C,GAAGmjB,IAAI,iBAAkB7lB,KAAKmxG,cAGjCnxG,KAAKy6B,QAAUz6B,KAAK+P,MAAM7O,EAAW8kB,OAAOhmB,KAAK+P,KAAM,SACvD/P,KAAKy6B,QAAQz6B,KAAKy6B,OAAO3pB,QAC7B5P,EAAW8kB,OAAOhmB,KAAK0C,GAAI,gBAAiB1C,KAAK0C,MAGnDy1C,OAAQ,WACN,OAAOn4C,KAAK0C,GAAGC,MAAM+uG,kBAAoB1xG,MAG3C2yG,KAAM,SAAS5iG,EAAMhR,GACnB,IAAI4yG,EAAa5hG,EAAKysB,KAAKz9B,GAAIuU,EAAOtT,KACtCA,KAAK0C,GAAG2E,WAAU,WACZsqG,EAAW9zD,KACb8zD,EAAW9zD,KAAKvqC,EAAK5Q,GAAIqN,EAAM4hG,GAE/Br+F,EAAK5Q,GAAGqJ,aAAagmG,EAAQJ,GAAaA,EAAW9pG,MAAQkI,EAAKlI,KAC7C8pG,EAAWtrG,IAAM0J,EAAK1J,GAAI,YACjDnF,EAAW8kB,OAAOjW,EAAM,OAAQ4hG,GAChCr+F,EAAK5Q,GAAGoF,oBAEN9H,KAAK8D,QAAQkyG,aACfh2G,KAAK8Q,SAIT0V,eAAgB,WACVxmB,KAAK8wG,WACPc,EAAqB5xG,KAAK8wG,UAC1B9wG,KAAK8wG,SAAW,GAGlB,IAAImF,EAAaj2G,KAAKgxG,SACnBhxG,KAAK+P,OACNkmG,EAAaj2G,KAAK+P,KAAKlI,MAGzB,IAAI/F,EAAM9B,KAAK0C,GAAGsD,YAAaM,EAAOtG,KAAK0C,GAAGuoB,QAAQnpB,EAAIwE,MAC1D,GAAIxE,EAAIwE,MAAQtG,KAAKgxG,SAAS1qG,MAAQA,EAAK1H,OAASkD,EAAI0C,IAAMxE,KAAKixG,SAAWjxG,KAAKgxG,SAASxsG,IACxF1C,EAAI0C,GAAKyxG,EAAWzxG,IAAMxE,KAAK0C,GAAGs6C,sBAChCl7C,EAAI0C,IAAMxE,KAAK8D,QAAQoyG,gBAAgBrxG,KAAKyB,EAAK9G,OAAOsC,EAAI0C,GAAK,IACrExE,KAAK8Q,YACA,CACL,IAAIwC,EAAOtT,KACXA,KAAK8wG,SAAW1c,GAAsB,WAAY9gF,EAAKs/B,YACnD5yC,KAAKy6B,QAAQz6B,KAAKy6B,OAAO07E,YAIjCvjE,OAAQ,SAASznB,GACf,GAAiB,MAAbnrB,KAAK+wG,KAAT,CACA,IAAIz9F,EAAOtT,KAAMo2G,IAAWp2G,KAAK+wG,KACjC0E,EAAWz1G,KAAK8D,QAAQ+5C,KAAM79C,KAAK0C,GAAI1C,KAAK8D,SAAS,SAASiM,GACxDuD,EAAKy9F,MAAQqF,GAAQ9iG,EAAK+iG,aAAatmG,EAAMob,QAIrDkrF,aAAc,SAAStmG,EAAMob,GACvBnrB,KAAK+P,MAAM7O,EAAW8kB,OAAOhmB,KAAK+P,KAAM,UAE5C,IAAIsjG,EAAUrzG,KAAKy6B,QAAUz6B,KAAKy6B,OAAO44E,QAAYloF,GAASnrB,KAAK8D,QAAQwyG,eACvEt2G,KAAKy6B,QAAQz6B,KAAKy6B,OAAO3pB,QAE7B9Q,KAAK+P,KAAOA,EAERA,GAAQA,EAAKysB,KAAK59B,SAChBy0G,GAA8B,GAApBtjG,EAAKysB,KAAK59B,OACtBoB,KAAK2yG,KAAK5iG,EAAM,IAEhB/P,KAAKy6B,OAAS,IAAI24E,EAAOpzG,KAAM+P,GAC/B7O,EAAW8kB,OAAOjW,EAAM,aA0NhCqjG,EAAO7yG,UAAY,CACjBuQ,MAAO,WACL,GAAI9Q,KAAK2xG,WAAWl3E,QAAUz6B,KAA9B,CACAA,KAAK2xG,WAAWl3E,OAAS,KACrBz6B,KAAKwzG,MAAMj/F,YAAYvU,KAAKwzG,MAAMj/F,WAAWC,YAAYxU,KAAKwzG,OAClExzG,KAAK2xG,WAAWjvG,GAAG8H,aAAaxK,KAAKmH,QACrC,IAAIuzB,EAAQ16B,KAAK2xG,WAAWjvG,GAAG66D,gBAC/B7iC,EAAMutC,gBAAgB,yBACtBvtC,EAAMutC,gBAAgB,aAEtB,IAAIvlE,EAAK1C,KAAK2xG,WAAWjvG,GACrB1C,KAAK2xG,WAAW7tG,QAAQkxG,iBAC1BtyG,EAAGmjB,IAAI,OAAQ7lB,KAAK4tC,QACpBlrC,EAAGmjB,IAAI,QAAS7lB,KAAK8tC,UAEvBprC,EAAGmjB,IAAI,SAAU7lB,KAAKi1G,YAGxBkB,QAAS,WACPn2G,KAAK2xG,WAAWjvG,GAAG8H,aAAaxK,KAAKmH,QACrC,IAAIszB,EAASz6B,KACbA,KAAKmH,OAAS,CAAC2D,MAAO,WAAa2vB,EAAO44E,QAAS,IACnDrzG,KAAK2xG,WAAWjvG,GAAGiI,UAAU3K,KAAKmH,SAGpCwrG,KAAM,WACJ3yG,KAAK2xG,WAAWgB,KAAK3yG,KAAK+P,KAAM/P,KAAKyzG,eAGvCqB,aAAc,SAAS/1G,EAAG81G,GAKxB,GAJI91G,GAAKiB,KAAK+P,KAAKysB,KAAK59B,OACtBG,EAAI81G,EAAY70G,KAAK+P,KAAKysB,KAAK59B,OAAS,EAAI,EACrCG,EAAI,IACXA,EAAI81G,EAAY,EAAK70G,KAAK+P,KAAKysB,KAAK59B,OAAS,GAC3CoB,KAAKyzG,cAAgB10G,EAAzB,CACA,IAAIke,EAAOjd,KAAKwzG,MAAMn2F,WAAWrd,KAAKyzG,cAClCx2F,IACFA,EAAKvU,UAAYuU,EAAKvU,UAAUnH,QAAQ,IAAMqvG,EAA2B,IACzE3zF,EAAKgrD,gBAAgB,kBAEvBhrD,EAAOjd,KAAKwzG,MAAMn2F,WAAWrd,KAAKyzG,aAAe10G,GACjDke,EAAKvU,WAAa,IAAMkoG,EACxB3zF,EAAKW,aAAa,gBAAiB,QACnC5d,KAAK2xG,WAAWjvG,GAAG66D,gBAAgB3/C,aAAa,wBAAyBX,EAAK+C,IAC9EhgB,KAAKu1G,iBACLr0G,EAAW8kB,OAAOhmB,KAAK+P,KAAM,SAAU/P,KAAK+P,KAAKysB,KAAKx8B,KAAKyzG,cAAex2F,KAG5Es4F,eAAgB,WACd,IAAIF,EAAoBr1G,KAAKs1G,uBACzBiB,EAAQv2G,KAAKwzG,MAAMn2F,WAAWg4F,EAAkBxtG,MAChD2uG,EAAQx2G,KAAKwzG,MAAMn2F,WAAWg4F,EAAkBhvG,IAChDowG,EAAYz2G,KAAKwzG,MAAMl2F,WACvBi5F,EAAMh2E,UAAYvgC,KAAKwzG,MAAMluE,UAC/BtlC,KAAKwzG,MAAMluE,UAAYixE,EAAMh2E,UAAYk2E,EAAUl2E,UAC5Ci2E,EAAMj2E,UAAYi2E,EAAM3uF,aAAe7nB,KAAKwzG,MAAMluE,UAAYtlC,KAAKwzG,MAAMlyE,eAChFthC,KAAKwzG,MAAMluE,UAAYkxE,EAAMj2E,UAAYi2E,EAAM3uF,aAAe7nB,KAAKwzG,MAAMlyE,aAAem1E,EAAUl2E,YAGtGw0E,aAAc,WACZ,OAAO51G,KAAKC,MAAMY,KAAKwzG,MAAMlyE,aAAethC,KAAKwzG,MAAMl2F,WAAWuK,eAAiB,GAGrFytF,qBAAsB,WACpB,IAAI9lE,EAASxvC,KAAK2xG,WAAW7tG,QAAQ4yG,cAAgB,EACrD,MAAO,CACL7uG,KAAM1I,KAAKgB,IAAI,EAAGH,KAAKyzG,aAAejkE,GACtCnpC,GAAIlH,KAAKe,IAAIF,KAAK+P,KAAKysB,KAAK59B,OAAS,EAAGoB,KAAKyzG,aAAejkE,MAiDlEtuC,EAAWsjE,eAAe,OAAQ,OAAQ,CACxC2e,QAASuyB,IAGXx0G,EAAWsjE,eAAe,OAAQ,YAAY,SAAS9hE,EAAIoB,GACzD,IACI6yG,EADA7qG,EAAMpJ,EAAGsD,YAAarE,EAAQe,EAAGoL,WAAWhC,GACtCjE,EAAO3G,EAAWuG,IAAIqE,EAAIxF,KAAM3E,EAAM2H,OAAQjD,EAAKyF,EACzDnK,EAAM2H,MAAQwC,EAAItH,IAAM,KAAKK,KAAKlD,EAAMM,OAAOzC,OAAOsM,EAAItH,GAAK7C,EAAM2H,MAAQ,IAC/EqtG,EAAOh1G,EAAMM,OAAOuY,OAAO,EAAG1O,EAAItH,GAAK7C,EAAM2H,QAE7CqtG,EAAO,GACP9uG,EAAOiE,GAGT,IADA,IAAI4W,EAAQ,GACH3jB,EAAI,EAAGA,EAAI+E,EAAQ6xG,MAAM/2G,OAAQG,IAAK,CAC7C,IAAIqgE,EAAOt7D,EAAQ6xG,MAAM52G,GACrBqgE,EAAKxxD,MAAM,EAAG+oG,EAAK/3G,SAAW+3G,GAChCj0F,EAAMjW,KAAK2yD,GAGf,GAAI18C,EAAM9jB,OAAQ,MAAO,CAAC49B,KAAM9Z,EAAO7a,KAAMA,EAAMxB,GAAIA,MAGzDnF,EAAWuI,SAASmtG,aAAe11G,EAAWkwG,SAE9C,IAAIU,EAAiB,CACnBj0D,KAAM38C,EAAW28C,KAAKg5D,KACtBP,gBAAgB,EAChB1C,eAAe,EACfsC,gBAAiB,mBACjBF,aAAa,EACbhB,gBAAgB,EAChB9D,wBAAwB,EACxBkE,uBAAuB,EACvBz7D,UAAW,KACXo5D,WAAY,KACZz6C,UAAW,KACXk8C,qBAAqB,EACrBH,eAAe,GAGjBnzG,EAAWsI,aAAa,cAAe,U,yDC/gBzC,oFACO,SAASmpG,EAAK97F,KAAQujB,GACzB,OAAOA,EAAK08E,OAAO,CAACC,EAAKv4E,KACjB3nB,EAAIgD,eAAe2kB,KACnBu4E,EAAIv4E,GAAK3nB,EAAI2nB,IAEVu4E,GACR,IAGP,MAAMC,EAAqBthG,WACrBuhG,EAAuBrhG,aACtB,SAASshG,EAAsBrgG,EAAK9W,GACnCA,EAAKo3G,iBACLtgG,EAAIhG,aAAemmG,EAAmBrnG,KAAK,QAC3CkH,EAAIqzE,eAAiB+sB,EAAqBtnG,KAAK,UAG/CkH,EAAIhG,aAAe6E,WAAW/F,KAAK,QACnCkH,EAAIqzE,eAAiBt0E,aAAajG,KAAK,W,mBCN/C,SAASynG,EAAQvgG,GACf,GAAIA,EAAK,OAAOwgG,EAAMxgG,GAWxB,SAASwgG,EAAMxgG,GACb,IAAK,IAAIxO,KAAO+uG,EAAQ72G,UACtBsW,EAAIxO,GAAO+uG,EAAQ72G,UAAU8H,GAE/B,OAAOwO,EAxBThX,EAAQu3G,QAAUA,EAoClBA,EAAQ72G,UAAUuU,GAClBsiG,EAAQ72G,UAAUilB,iBAAmB,SAAS1f,EAAOsgF,GAInD,OAHApmF,KAAKs3G,WAAat3G,KAAKs3G,YAAc,IACpCt3G,KAAKs3G,WAAW,IAAMxxG,GAAS9F,KAAKs3G,WAAW,IAAMxxG,IAAU,IAC7D2G,KAAK25E,GACDpmF,MAaTo3G,EAAQ72G,UAAUmlF,KAAO,SAAS5/E,EAAOsgF,GACvC,SAAStxE,IACP9U,KAAK6lB,IAAI/f,EAAOgP,GAChBsxE,EAAGlnE,MAAMlf,KAAMsI,WAKjB,OAFAwM,EAAGsxE,GAAKA,EACRpmF,KAAK8U,GAAGhP,EAAOgP,GACR9U,MAaTo3G,EAAQ72G,UAAUslB,IAClBuxF,EAAQ72G,UAAUmpF,eAClB0tB,EAAQ72G,UAAUkoF,mBAClB2uB,EAAQ72G,UAAUulB,oBAAsB,SAAShgB,EAAOsgF,GAItD,GAHApmF,KAAKs3G,WAAat3G,KAAKs3G,YAAc,GAGjC,GAAKhvG,UAAU1J,OAEjB,OADAoB,KAAKs3G,WAAa,GACXt3G,KAIT,IAUIojF,EAVA/tE,EAAYrV,KAAKs3G,WAAW,IAAMxxG,GACtC,IAAKuP,EAAW,OAAOrV,KAGvB,GAAI,GAAKsI,UAAU1J,OAEjB,cADOoB,KAAKs3G,WAAW,IAAMxxG,GACtB9F,KAKT,IAAK,IAAIjB,EAAI,EAAGA,EAAIsW,EAAUzW,OAAQG,IAEpC,GADAqkF,EAAK/tE,EAAUtW,GACXqkF,IAAOgD,GAAMhD,EAAGgD,KAAOA,EAAI,CAC7B/wE,EAAUoF,OAAO1b,EAAG,GACpB,MAUJ,OAJyB,IAArBsW,EAAUzW,eACLoB,KAAKs3G,WAAW,IAAMxxG,GAGxB9F,MAWTo3G,EAAQ72G,UAAU0O,KAAO,SAASnJ,GAChC9F,KAAKs3G,WAAat3G,KAAKs3G,YAAc,GAKrC,IAHA,IAAIr4F,EAAO,IAAIjN,MAAM1J,UAAU1J,OAAS,GACpCyW,EAAYrV,KAAKs3G,WAAW,IAAMxxG,GAE7B/G,EAAI,EAAGA,EAAIuJ,UAAU1J,OAAQG,IACpCkgB,EAAKlgB,EAAI,GAAKuJ,UAAUvJ,GAG1B,GAAIsW,EAAW,CACbA,EAAYA,EAAUzH,MAAM,GACnB7O,EAAI,EAAb,IAAK,IAAWyR,EAAM6E,EAAUzW,OAAQG,EAAIyR,IAAOzR,EACjDsW,EAAUtW,GAAGmgB,MAAMlf,KAAMif,GAI7B,OAAOjf,MAITo3G,EAAQ72G,UAAUuoF,aAAesuB,EAAQ72G,UAAU0O,KAUnDmoG,EAAQ72G,UAAU6uF,UAAY,SAAStpF,GAErC,OADA9F,KAAKs3G,WAAat3G,KAAKs3G,YAAc,GAC9Bt3G,KAAKs3G,WAAW,IAAMxxG,IAAU,IAWzCsxG,EAAQ72G,UAAUg3G,aAAe,SAASzxG,GACxC,QAAU9F,KAAKovF,UAAUtpF,GAAOlH,S,mCC9KlC;;;;;;;AAUA,IAAI2Y,EAAS,EAAQ,QACjBigG,EAAU,EAAQ,QAClB7sB,EAAU,EAAQ,QAuCtB,SAAS8sB,IACP,IACE,IAAI/kG,EAAM,IAAIX,WAAW,GAEzB,OADAW,EAAIglG,UAAY,CAACA,UAAW3lG,WAAWxR,UAAWo3G,IAAK,WAAc,OAAO,KACvD,KAAdjlG,EAAIilG,OACiB,oBAAjBjlG,EAAIklG,UACuB,IAAlCllG,EAAIklG,SAAS,EAAG,GAAGlnG,WACvB,MAAO9L,GACP,OAAO,GAIX,SAASizG,IACP,OAAOpnG,EAAOqnG,oBACV,WACA,WAGN,SAASC,EAAc36B,EAAMx+E,GAC3B,GAAIi5G,IAAej5G,EACjB,MAAM,IAAIo5G,WAAW,8BAcvB,OAZIvnG,EAAOqnG,qBAET16B,EAAO,IAAIrrE,WAAWnT,GACtBw+E,EAAKs6B,UAAYjnG,EAAOlQ,YAGX,OAAT68E,IACFA,EAAO,IAAI3sE,EAAO7R,IAEpBw+E,EAAKx+E,OAASA,GAGTw+E,EAaT,SAAS3sE,EAAQwnG,EAAKC,EAAkBt5G,GACtC,IAAK6R,EAAOqnG,uBAAyB93G,gBAAgByQ,GACnD,OAAO,IAAIA,EAAOwnG,EAAKC,EAAkBt5G,GAI3C,GAAmB,kBAARq5G,EAAkB,CAC3B,GAAgC,kBAArBC,EACT,MAAM,IAAI9lG,MACR,qEAGJ,OAAO+lG,EAAYn4G,KAAMi4G,GAE3B,OAAOpwG,EAAK7H,KAAMi4G,EAAKC,EAAkBt5G,GAW3C,SAASiJ,EAAMu1E,EAAM55E,EAAO00G,EAAkBt5G,GAC5C,GAAqB,kBAAV4E,EACT,MAAM,IAAI0gG,UAAU,yCAGtB,MAA2B,qBAAhBvtF,aAA+BnT,aAAiBmT,YAClDyhG,EAAgBh7B,EAAM55E,EAAO00G,EAAkBt5G,GAGnC,kBAAV4E,EACF60G,EAAWj7B,EAAM55E,EAAO00G,GAG1BI,EAAWl7B,EAAM55E,GA4B1B,SAAS+0G,EAAYntF,GACnB,GAAoB,kBAATA,EACT,MAAM,IAAI84E,UAAU,oCACf,GAAI94E,EAAO,EAChB,MAAM,IAAI4sF,WAAW,wCAIzB,SAASQ,EAAOp7B,EAAMhyD,EAAMuzE,EAAM8Z,GAEhC,OADAF,EAAWntF,GACPA,GAAQ,EACH2sF,EAAa36B,EAAMhyD,QAEfxR,IAAT+kF,EAIyB,kBAAb8Z,EACVV,EAAa36B,EAAMhyD,GAAMuzE,KAAKA,EAAM8Z,GACpCV,EAAa36B,EAAMhyD,GAAMuzE,KAAKA,GAE7BoZ,EAAa36B,EAAMhyD,GAW5B,SAAS+sF,EAAa/6B,EAAMhyD,GAG1B,GAFAmtF,EAAWntF,GACXgyD,EAAO26B,EAAa36B,EAAMhyD,EAAO,EAAI,EAAoB,EAAhBstF,EAAQttF,KAC5C3a,EAAOqnG,oBACV,IAAK,IAAI/4G,EAAI,EAAGA,EAAIqsB,IAAQrsB,EAC1Bq+E,EAAKr+E,GAAK,EAGd,OAAOq+E,EAgBT,SAASi7B,EAAYj7B,EAAMn7E,EAAQw2G,GAKjC,GAJwB,kBAAbA,GAAsC,KAAbA,IAClCA,EAAW,SAGRhoG,EAAOkoG,WAAWF,GACrB,MAAM,IAAIvU,UAAU,8CAGtB,IAAItlG,EAAwC,EAA/B8R,EAAWzO,EAAQw2G,GAChCr7B,EAAO26B,EAAa36B,EAAMx+E,GAE1B,IAAIg6G,EAASx7B,EAAK7jE,MAAMtX,EAAQw2G,GAShC,OAPIG,IAAWh6G,IAIbw+E,EAAOA,EAAKxvE,MAAM,EAAGgrG,IAGhBx7B,EAGT,SAASy7B,EAAez7B,EAAMj9D,GAC5B,IAAIvhB,EAASuhB,EAAMvhB,OAAS,EAAI,EAA4B,EAAxB85G,EAAQv4F,EAAMvhB,QAClDw+E,EAAO26B,EAAa36B,EAAMx+E,GAC1B,IAAK,IAAIG,EAAI,EAAGA,EAAIH,EAAQG,GAAK,EAC/Bq+E,EAAKr+E,GAAgB,IAAXohB,EAAMphB,GAElB,OAAOq+E,EAGT,SAASg7B,EAAiBh7B,EAAMj9D,EAAO24F,EAAYl6G,GAGjD,GAFAuhB,EAAMzP,WAEFooG,EAAa,GAAK34F,EAAMzP,WAAaooG,EACvC,MAAM,IAAId,WAAW,6BAGvB,GAAI73F,EAAMzP,WAAaooG,GAAcl6G,GAAU,GAC7C,MAAM,IAAIo5G,WAAW,6BAmBvB,OAfE73F,OADiBvG,IAAfk/F,QAAuCl/F,IAAXhb,EACtB,IAAImT,WAAWoO,QACHvG,IAAXhb,EACD,IAAImT,WAAWoO,EAAO24F,GAEtB,IAAI/mG,WAAWoO,EAAO24F,EAAYl6G,GAGxC6R,EAAOqnG,qBAET16B,EAAOj9D,EACPi9D,EAAKs6B,UAAYjnG,EAAOlQ,WAGxB68E,EAAOy7B,EAAcz7B,EAAMj9D,GAEtBi9D,EAGT,SAASk7B,EAAYl7B,EAAMvmE,GACzB,GAAIpG,EAAOsoG,SAASliG,GAAM,CACxB,IAAIrG,EAA4B,EAAtBkoG,EAAQ7hG,EAAIjY,QAGtB,OAFAw+E,EAAO26B,EAAa36B,EAAM5sE,GAEN,IAAhB4sE,EAAKx+E,OACAw+E,GAGTvmE,EAAIsa,KAAKisD,EAAM,EAAG,EAAG5sE,GACd4sE,GAGT,GAAIvmE,EAAK,CACP,GAA4B,qBAAhBF,aACRE,EAAIC,kBAAkBH,aAAgB,WAAYE,EACpD,MAA0B,kBAAfA,EAAIjY,QAAuBo6G,GAAMniG,EAAIjY,QACvCm5G,EAAa36B,EAAM,GAErBy7B,EAAcz7B,EAAMvmE,GAG7B,GAAiB,WAAbA,EAAIjO,MAAqB+hF,EAAQ9zE,EAAI9G,MACvC,OAAO8oG,EAAcz7B,EAAMvmE,EAAI9G,MAInC,MAAM,IAAIm0F,UAAU,sFAGtB,SAASwU,EAAS95G,GAGhB,GAAIA,GAAUi5G,IACZ,MAAM,IAAIG,WAAW,0DACaH,IAAarhG,SAAS,IAAM,UAEhE,OAAgB,EAAT5X,EAGT,SAASq6G,EAAYr6G,GAInB,OAHKA,GAAUA,IACbA,EAAS,GAEJ6R,EAAO+nG,OAAO55G,GA+EvB,SAAS8R,EAAYzO,EAAQw2G,GAC3B,GAAIhoG,EAAOsoG,SAAS92G,GAClB,OAAOA,EAAOrD,OAEhB,GAA2B,qBAAhB+X,aAA6D,oBAAvBA,YAAYC,SACxDD,YAAYC,OAAO3U,IAAWA,aAAkB0U,aACnD,OAAO1U,EAAOyO,WAEM,kBAAXzO,IACTA,EAAS,GAAKA,GAGhB,IAAIuO,EAAMvO,EAAOrD,OACjB,GAAY,IAAR4R,EAAW,OAAO,EAItB,IADA,IAAI0oG,GAAc,IAEhB,OAAQT,GACN,IAAK,QACL,IAAK,SACL,IAAK,SACH,OAAOjoG,EACT,IAAK,OACL,IAAK,QACL,UAAKoJ,EACH,OAAOu/F,EAAYl3G,GAAQrD,OAC7B,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,WACH,OAAa,EAAN4R,EACT,IAAK,MACH,OAAOA,IAAQ,EACjB,IAAK,SACH,OAAO4oG,EAAcn3G,GAAQrD,OAC/B,QACE,GAAIs6G,EAAa,OAAOC,EAAYl3G,GAAQrD,OAC5C65G,GAAY,GAAKA,GAAU31G,cAC3Bo2G,GAAc,GAMtB,SAASG,EAAcZ,EAAUnvG,EAAOyJ,GACtC,IAAImmG,GAAc,EAclB,SALct/F,IAAVtQ,GAAuBA,EAAQ,KACjCA,EAAQ,GAINA,EAAQtJ,KAAKpB,OACf,MAAO,GAOT,SAJYgb,IAAR7G,GAAqBA,EAAM/S,KAAKpB,UAClCmU,EAAM/S,KAAKpB,QAGTmU,GAAO,EACT,MAAO,GAOT,GAHAA,KAAS,EACTzJ,KAAW,EAEPyJ,GAAOzJ,EACT,MAAO,GAGJmvG,IAAUA,EAAW,QAE1B,MAAO,EACL,OAAQA,GACN,IAAK,MACH,OAAOa,EAASt5G,KAAMsJ,EAAOyJ,GAE/B,IAAK,OACL,IAAK,QACH,OAAOwmG,EAAUv5G,KAAMsJ,EAAOyJ,GAEhC,IAAK,QACH,OAAOymG,EAAWx5G,KAAMsJ,EAAOyJ,GAEjC,IAAK,SACL,IAAK,SACH,OAAO0mG,EAAYz5G,KAAMsJ,EAAOyJ,GAElC,IAAK,SACH,OAAO2mG,EAAY15G,KAAMsJ,EAAOyJ,GAElC,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,WACH,OAAO4mG,EAAa35G,KAAMsJ,EAAOyJ,GAEnC,QACE,GAAImmG,EAAa,MAAM,IAAIhV,UAAU,qBAAuBuU,GAC5DA,GAAYA,EAAW,IAAI31G,cAC3Bo2G,GAAc,GAStB,SAASU,EAAMpkG,EAAGkK,EAAG3E,GACnB,IAAIhc,EAAIyW,EAAEkK,GACVlK,EAAEkK,GAAKlK,EAAEuF,GACTvF,EAAEuF,GAAKhc,EAmIT,SAAS86G,EAAsB/iG,EAAQzM,EAAKyuG,EAAYL,EAAUpsG,GAEhE,GAAsB,IAAlByK,EAAOlY,OAAc,OAAQ,EAmBjC,GAhB0B,kBAAfk6G,GACTL,EAAWK,EACXA,EAAa,GACJA,EAAa,WACtBA,EAAa,WACJA,GAAc,aACvBA,GAAc,YAEhBA,GAAcA,EACV/3E,MAAM+3E,KAERA,EAAazsG,EAAM,EAAKyK,EAAOlY,OAAS,GAItCk6G,EAAa,IAAGA,EAAahiG,EAAOlY,OAASk6G,GAC7CA,GAAchiG,EAAOlY,OAAQ,CAC/B,GAAIyN,EAAK,OAAQ,EACZysG,EAAahiG,EAAOlY,OAAS,OAC7B,GAAIk6G,EAAa,EAAG,CACzB,IAAIzsG,EACC,OAAQ,EADJysG,EAAa,EAUxB,GALmB,kBAARzuG,IACTA,EAAMoG,EAAO5I,KAAKwC,EAAKouG,IAIrBhoG,EAAOsoG,SAAS1uG,GAElB,OAAmB,IAAfA,EAAIzL,QACE,EAEHk7G,EAAahjG,EAAQzM,EAAKyuG,EAAYL,EAAUpsG,GAClD,GAAmB,kBAARhC,EAEhB,OADAA,GAAY,IACRoG,EAAOqnG,qBACiC,oBAAjC/lG,WAAWxR,UAAUoE,QAC1B0H,EACK0F,WAAWxR,UAAUoE,QAAQ8R,KAAKK,EAAQzM,EAAKyuG,GAE/C/mG,WAAWxR,UAAUu4E,YAAYriE,KAAKK,EAAQzM,EAAKyuG,GAGvDgB,EAAahjG,EAAQ,CAAEzM,GAAOyuG,EAAYL,EAAUpsG,GAG7D,MAAM,IAAI63F,UAAU,wCAGtB,SAAS4V,EAAcpnG,EAAKrI,EAAKyuG,EAAYL,EAAUpsG,GACrD,IA0BItN,EA1BAg7G,EAAY,EACZC,EAAYtnG,EAAI9T,OAChBq7G,EAAY5vG,EAAIzL,OAEpB,QAAiBgb,IAAb6+F,IACFA,EAAWlgG,OAAOkgG,GAAU31G,cACX,SAAb21G,GAAoC,UAAbA,GACV,YAAbA,GAAuC,aAAbA,GAAyB,CACrD,GAAI/lG,EAAI9T,OAAS,GAAKyL,EAAIzL,OAAS,EACjC,OAAQ,EAEVm7G,EAAY,EACZC,GAAa,EACbC,GAAa,EACbnB,GAAc,EAIlB,SAASjsD,EAAMs/B,EAAKptF,GAClB,OAAkB,IAAdg7G,EACK5tB,EAAIptF,GAEJotF,EAAI+tB,aAAan7G,EAAIg7G,GAKhC,GAAI1tG,EAAK,CACP,IAAI8tG,GAAc,EAClB,IAAKp7G,EAAI+5G,EAAY/5G,EAAIi7G,EAAWj7G,IAClC,GAAI8tD,EAAKn6C,EAAK3T,KAAO8tD,EAAKxiD,GAAqB,IAAhB8vG,EAAoB,EAAIp7G,EAAIo7G,IAEzD,IADoB,IAAhBA,IAAmBA,EAAap7G,GAChCA,EAAIo7G,EAAa,IAAMF,EAAW,OAAOE,EAAaJ,OAEtC,IAAhBI,IAAmBp7G,GAAKA,EAAIo7G,GAChCA,GAAc,OAKlB,IADIrB,EAAamB,EAAYD,IAAWlB,EAAakB,EAAYC,GAC5Dl7G,EAAI+5G,EAAY/5G,GAAK,EAAGA,IAAK,CAEhC,IADA,IAAI2jB,GAAQ,EACH2B,EAAI,EAAGA,EAAI41F,EAAW51F,IAC7B,GAAIwoC,EAAKn6C,EAAK3T,EAAIslB,KAAOwoC,EAAKxiD,EAAKga,GAAI,CACrC3B,GAAQ,EACR,MAGJ,GAAIA,EAAO,OAAO3jB,EAItB,OAAQ,EAeV,SAASq7G,EAAUjuB,EAAKlqF,EAAQsyB,EAAQ31B,GACtC21B,EAASrjB,OAAOqjB,IAAW,EAC3B,IAAImyB,EAAYylC,EAAIvtF,OAAS21B,EACxB31B,GAGHA,EAASsS,OAAOtS,GACZA,EAAS8nD,IACX9nD,EAAS8nD,IAJX9nD,EAAS8nD,EASX,IAAI2zD,EAASp4G,EAAOrD,OACpB,GAAIy7G,EAAS,IAAM,EAAG,MAAM,IAAInW,UAAU,sBAEtCtlG,EAASy7G,EAAS,IACpBz7G,EAASy7G,EAAS,GAEpB,IAAK,IAAIt7G,EAAI,EAAGA,EAAIH,IAAUG,EAAG,CAC/B,IAAI2yF,EAAS7wD,SAAS5+B,EAAOuY,OAAW,EAAJzb,EAAO,GAAI,IAC/C,GAAIgiC,MAAM2wD,GAAS,OAAO3yF,EAC1BotF,EAAI53D,EAASx1B,GAAK2yF,EAEpB,OAAO3yF,EAGT,SAASu7G,EAAWnuB,EAAKlqF,EAAQsyB,EAAQ31B,GACvC,OAAO27G,GAAWpB,EAAYl3G,EAAQkqF,EAAIvtF,OAAS21B,GAAS43D,EAAK53D,EAAQ31B,GAG3E,SAAS47G,EAAYruB,EAAKlqF,EAAQsyB,EAAQ31B,GACxC,OAAO27G,GAAWE,EAAax4G,GAASkqF,EAAK53D,EAAQ31B,GAGvD,SAAS87G,EAAavuB,EAAKlqF,EAAQsyB,EAAQ31B,GACzC,OAAO47G,EAAWruB,EAAKlqF,EAAQsyB,EAAQ31B,GAGzC,SAAS+7G,EAAaxuB,EAAKlqF,EAAQsyB,EAAQ31B,GACzC,OAAO27G,GAAWnB,EAAcn3G,GAASkqF,EAAK53D,EAAQ31B,GAGxD,SAASg8G,EAAWzuB,EAAKlqF,EAAQsyB,EAAQ31B,GACvC,OAAO27G,GAAWM,EAAe54G,EAAQkqF,EAAIvtF,OAAS21B,GAAS43D,EAAK53D,EAAQ31B,GAkF9E,SAAS86G,EAAavtB,EAAK7iF,EAAOyJ,GAChC,OAAc,IAAVzJ,GAAeyJ,IAAQo5E,EAAIvtF,OACtB2Y,EAAO5F,cAAcw6E,GAErB50E,EAAO5F,cAAcw6E,EAAIv+E,MAAMtE,EAAOyJ,IAIjD,SAASwmG,EAAWptB,EAAK7iF,EAAOyJ,GAC9BA,EAAM5T,KAAKe,IAAIisF,EAAIvtF,OAAQmU,GAC3B,IAAIqhD,EAAM,GAENr1D,EAAIuK,EACR,MAAOvK,EAAIgU,EAAK,CACd,IAQM+nG,EAAYC,EAAWC,EAAYC,EARrCC,EAAY/uB,EAAIptF,GAChBo8G,EAAY,KACZC,EAAoBF,EAAY,IAAQ,EACvCA,EAAY,IAAQ,EACpBA,EAAY,IAAQ,EACrB,EAEJ,GAAIn8G,EAAIq8G,GAAoBroG,EAG1B,OAAQqoG,GACN,KAAK,EACCF,EAAY,MACdC,EAAYD,GAEd,MACF,KAAK,EACHJ,EAAa3uB,EAAIptF,EAAI,GACO,OAAV,IAAb+7G,KACHG,GAA6B,GAAZC,IAAqB,EAAoB,GAAbJ,EACzCG,EAAgB,MAClBE,EAAYF,IAGhB,MACF,KAAK,EACHH,EAAa3uB,EAAIptF,EAAI,GACrBg8G,EAAY5uB,EAAIptF,EAAI,GACQ,OAAV,IAAb+7G,IAAsD,OAAV,IAAZC,KACnCE,GAA6B,GAAZC,IAAoB,IAAoB,GAAbJ,IAAsB,EAAmB,GAAZC,EACrEE,EAAgB,OAAUA,EAAgB,OAAUA,EAAgB,SACtEE,EAAYF,IAGhB,MACF,KAAK,EACHH,EAAa3uB,EAAIptF,EAAI,GACrBg8G,EAAY5uB,EAAIptF,EAAI,GACpBi8G,EAAa7uB,EAAIptF,EAAI,GACO,OAAV,IAAb+7G,IAAsD,OAAV,IAAZC,IAAsD,OAAV,IAAbC,KAClEC,GAA6B,GAAZC,IAAoB,IAAqB,GAAbJ,IAAsB,IAAmB,GAAZC,IAAqB,EAAoB,GAAbC,EAClGC,EAAgB,OAAUA,EAAgB,UAC5CE,EAAYF,IAMJ,OAAdE,GAGFA,EAAY,MACZC,EAAmB,GACVD,EAAY,QAErBA,GAAa,MACb/mD,EAAI3nD,KAAK0uG,IAAc,GAAK,KAAQ,OACpCA,EAAY,MAAqB,KAAZA,GAGvB/mD,EAAI3nD,KAAK0uG,GACTp8G,GAAKq8G,EAGP,OAAOC,EAAsBjnD,GA98B/Bv0D,EAAQ4Q,OAASA,EACjB5Q,EAAQo5G,WAAaA,EACrBp5G,EAAQy7G,kBAAoB,GA0B5B7qG,EAAOqnG,yBAAqDl+F,IAA/BpY,EAAOs2G,oBAChCt2G,EAAOs2G,oBACPL,IAKJ53G,EAAQg4G,WAAaA,IAkErBpnG,EAAO8qG,SAAW,KAGlB9qG,EAAO+qG,SAAW,SAAU9oG,GAE1B,OADAA,EAAIglG,UAAYjnG,EAAOlQ,UAChBmS,GA2BTjC,EAAO5I,KAAO,SAAUrE,EAAO00G,EAAkBt5G,GAC/C,OAAOiJ,EAAK,KAAMrE,EAAO00G,EAAkBt5G,IAGzC6R,EAAOqnG,sBACTrnG,EAAOlQ,UAAUm3G,UAAY3lG,WAAWxR,UACxCkQ,EAAOinG,UAAY3lG,WACG,qBAAXgyF,QAA0BA,OAAO0X,SACxChrG,EAAOszF,OAAO0X,WAAahrG,GAE7B1C,OAAOq/D,eAAe38D,EAAQszF,OAAO0X,QAAS,CAC5Cj4G,MAAO,KACP2pE,cAAc,KAiCpB18D,EAAO+nG,MAAQ,SAAUptF,EAAMuzE,EAAM8Z,GACnC,OAAOD,EAAM,KAAMptF,EAAMuzE,EAAM8Z,IAiBjChoG,EAAO0nG,YAAc,SAAU/sF,GAC7B,OAAO+sF,EAAY,KAAM/sF,IAK3B3a,EAAOirG,gBAAkB,SAAUtwF,GACjC,OAAO+sF,EAAY,KAAM/sF,IAiH3B3a,EAAOsoG,SAAW,SAAmBvjG,GACnC,QAAe,MAALA,IAAaA,EAAEmmG,YAG3BlrG,EAAOkpD,QAAU,SAAkBv7C,EAAG5I,GACpC,IAAK/E,EAAOsoG,SAAS36F,KAAO3N,EAAOsoG,SAASvjG,GAC1C,MAAM,IAAI0uF,UAAU,6BAGtB,GAAI9lF,IAAM5I,EAAG,OAAO,EAKpB,IAHA,IAAIvH,EAAImQ,EAAExf,OACNsP,EAAIsH,EAAE5W,OAEDG,EAAI,EAAGyR,EAAMrR,KAAKe,IAAI+N,EAAGC,GAAInP,EAAIyR,IAAOzR,EAC/C,GAAIqf,EAAErf,KAAOyW,EAAEzW,GAAI,CACjBkP,EAAImQ,EAAErf,GACNmP,EAAIsH,EAAEzW,GACN,MAIJ,OAAIkP,EAAIC,GAAW,EACfA,EAAID,EAAU,EACX,GAGTwC,EAAOkoG,WAAa,SAAqBF,GACvC,OAAQlgG,OAAOkgG,GAAU31G,eACvB,IAAK,MACL,IAAK,OACL,IAAK,QACL,IAAK,QACL,IAAK,SACL,IAAK,SACL,IAAK,SACL,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,WACH,OAAO,EACT,QACE,OAAO,IAIb2N,EAAOkV,OAAS,SAAiB6W,EAAM59B,GACrC,IAAK+rF,EAAQnuD,GACX,MAAM,IAAI0nE,UAAU,+CAGtB,GAAoB,IAAhB1nE,EAAK59B,OACP,OAAO6R,EAAO+nG,MAAM,GAGtB,IAAIz5G,EACJ,QAAe6a,IAAXhb,EAEF,IADAA,EAAS,EACJG,EAAI,EAAGA,EAAIy9B,EAAK59B,SAAUG,EAC7BH,GAAU49B,EAAKz9B,GAAGH,OAItB,IAAIkY,EAASrG,EAAO0nG,YAAYv5G,GAC5BkD,EAAM,EACV,IAAK/C,EAAI,EAAGA,EAAIy9B,EAAK59B,SAAUG,EAAG,CAChC,IAAIotF,EAAM3vD,EAAKz9B,GACf,IAAK0R,EAAOsoG,SAAS5sB,GACnB,MAAM,IAAI+X,UAAU,+CAEtB/X,EAAIh7D,KAAKra,EAAQhV,GACjBA,GAAOqqF,EAAIvtF,OAEb,OAAOkY,GA8CTrG,EAAOC,WAAaA,EA0EpBD,EAAOlQ,UAAUo7G,WAAY,EAQ7BlrG,EAAOlQ,UAAUq7G,OAAS,WACxB,IAAIprG,EAAMxQ,KAAKpB,OACf,GAAI4R,EAAM,IAAM,EACd,MAAM,IAAIwnG,WAAW,6CAEvB,IAAK,IAAIj5G,EAAI,EAAGA,EAAIyR,EAAKzR,GAAK,EAC5B66G,EAAK55G,KAAMjB,EAAGA,EAAI,GAEpB,OAAOiB,MAGTyQ,EAAOlQ,UAAUs7G,OAAS,WACxB,IAAIrrG,EAAMxQ,KAAKpB,OACf,GAAI4R,EAAM,IAAM,EACd,MAAM,IAAIwnG,WAAW,6CAEvB,IAAK,IAAIj5G,EAAI,EAAGA,EAAIyR,EAAKzR,GAAK,EAC5B66G,EAAK55G,KAAMjB,EAAGA,EAAI,GAClB66G,EAAK55G,KAAMjB,EAAI,EAAGA,EAAI,GAExB,OAAOiB,MAGTyQ,EAAOlQ,UAAUu7G,OAAS,WACxB,IAAItrG,EAAMxQ,KAAKpB,OACf,GAAI4R,EAAM,IAAM,EACd,MAAM,IAAIwnG,WAAW,6CAEvB,IAAK,IAAIj5G,EAAI,EAAGA,EAAIyR,EAAKzR,GAAK,EAC5B66G,EAAK55G,KAAMjB,EAAGA,EAAI,GAClB66G,EAAK55G,KAAMjB,EAAI,EAAGA,EAAI,GACtB66G,EAAK55G,KAAMjB,EAAI,EAAGA,EAAI,GACtB66G,EAAK55G,KAAMjB,EAAI,EAAGA,EAAI,GAExB,OAAOiB,MAGTyQ,EAAOlQ,UAAUiW,SAAW,WAC1B,IAAI5X,EAAuB,EAAdoB,KAAKpB,OAClB,OAAe,IAAXA,EAAqB,GACA,IAArB0J,UAAU1J,OAAqB26G,EAAUv5G,KAAM,EAAGpB,GAC/Cy6G,EAAan6F,MAAMlf,KAAMsI,YAGlCmI,EAAOlQ,UAAUo8C,OAAS,SAAiBnnC,GACzC,IAAK/E,EAAOsoG,SAASvjG,GAAI,MAAM,IAAI0uF,UAAU,6BAC7C,OAAIlkG,OAASwV,GACsB,IAA5B/E,EAAOkpD,QAAQ35D,KAAMwV,IAG9B/E,EAAOlQ,UAAUw7G,QAAU,WACzB,IAAIz8G,EAAM,GACNa,EAAMN,EAAQy7G,kBAKlB,OAJIt7G,KAAKpB,OAAS,IAChBU,EAAMU,KAAKwW,SAAS,MAAO,EAAGrW,GAAK4B,MAAM,SAASkR,KAAK,KACnDjT,KAAKpB,OAASuB,IAAKb,GAAO,UAEzB,WAAaA,EAAM,KAG5BmR,EAAOlQ,UAAUo5D,QAAU,SAAkB7jD,EAAQxM,EAAOyJ,EAAKipG,EAAWC,GAC1E,IAAKxrG,EAAOsoG,SAASjjG,GACnB,MAAM,IAAIouF,UAAU,6BAgBtB,QAbctqF,IAAVtQ,IACFA,EAAQ,QAEEsQ,IAAR7G,IACFA,EAAM+C,EAASA,EAAOlX,OAAS,QAEfgb,IAAdoiG,IACFA,EAAY,QAEEpiG,IAAZqiG,IACFA,EAAUj8G,KAAKpB,QAGb0K,EAAQ,GAAKyJ,EAAM+C,EAAOlX,QAAUo9G,EAAY,GAAKC,EAAUj8G,KAAKpB,OACtE,MAAM,IAAIo5G,WAAW,sBAGvB,GAAIgE,GAAaC,GAAW3yG,GAASyJ,EACnC,OAAO,EAET,GAAIipG,GAAaC,EACf,OAAQ,EAEV,GAAI3yG,GAASyJ,EACX,OAAO,EAQT,GALAzJ,KAAW,EACXyJ,KAAS,EACTipG,KAAe,EACfC,KAAa,EAETj8G,OAAS8V,EAAQ,OAAO,EAS5B,IAPA,IAAI7H,EAAIguG,EAAUD,EACd9tG,EAAI6E,EAAMzJ,EACVkH,EAAMrR,KAAKe,IAAI+N,EAAGC,GAElBguG,EAAWl8G,KAAK4N,MAAMouG,EAAWC,GACjCE,EAAarmG,EAAOlI,MAAMtE,EAAOyJ,GAE5BhU,EAAI,EAAGA,EAAIyR,IAAOzR,EACzB,GAAIm9G,EAASn9G,KAAOo9G,EAAWp9G,GAAI,CACjCkP,EAAIiuG,EAASn9G,GACbmP,EAAIiuG,EAAWp9G,GACf,MAIJ,OAAIkP,EAAIC,GAAW,EACfA,EAAID,EAAU,EACX,GA6HTwC,EAAOlQ,UAAU27F,SAAW,SAAmB7xF,EAAKyuG,EAAYL,GAC9D,OAAoD,IAA7Cz4G,KAAK2E,QAAQ0F,EAAKyuG,EAAYL,IAGvChoG,EAAOlQ,UAAUoE,QAAU,SAAkB0F,EAAKyuG,EAAYL,GAC5D,OAAOoB,EAAqB75G,KAAMqK,EAAKyuG,EAAYL,GAAU,IAG/DhoG,EAAOlQ,UAAUu4E,YAAc,SAAsBzuE,EAAKyuG,EAAYL,GACpE,OAAOoB,EAAqB75G,KAAMqK,EAAKyuG,EAAYL,GAAU,IAkD/DhoG,EAAOlQ,UAAUgZ,MAAQ,SAAgBtX,EAAQsyB,EAAQ31B,EAAQ65G,GAE/D,QAAe7+F,IAAX2a,EACFkkF,EAAW,OACX75G,EAASoB,KAAKpB,OACd21B,EAAS,OAEJ,QAAe3a,IAAXhb,GAA0C,kBAAX21B,EACxCkkF,EAAWlkF,EACX31B,EAASoB,KAAKpB,OACd21B,EAAS,MAEJ,KAAI6nF,SAAS7nF,GAWlB,MAAM,IAAIniB,MACR,2EAXFmiB,GAAkB,EACd6nF,SAASx9G,IACXA,GAAkB,OACDgb,IAAb6+F,IAAwBA,EAAW,UAEvCA,EAAW75G,EACXA,OAASgb,GASb,IAAI8sC,EAAY1mD,KAAKpB,OAAS21B,EAG9B,SAFe3a,IAAXhb,GAAwBA,EAAS8nD,KAAW9nD,EAAS8nD,GAEpDzkD,EAAOrD,OAAS,IAAMA,EAAS,GAAK21B,EAAS,IAAOA,EAASv0B,KAAKpB,OACrE,MAAM,IAAIo5G,WAAW,0CAGlBS,IAAUA,EAAW,QAG1B,IADA,IAAIS,GAAc,IAEhB,OAAQT,GACN,IAAK,MACH,OAAO2B,EAASp6G,KAAMiC,EAAQsyB,EAAQ31B,GAExC,IAAK,OACL,IAAK,QACH,OAAO07G,EAAUt6G,KAAMiC,EAAQsyB,EAAQ31B,GAEzC,IAAK,QACH,OAAO47G,EAAWx6G,KAAMiC,EAAQsyB,EAAQ31B,GAE1C,IAAK,SACL,IAAK,SACH,OAAO87G,EAAY16G,KAAMiC,EAAQsyB,EAAQ31B,GAE3C,IAAK,SAEH,OAAO+7G,EAAY36G,KAAMiC,EAAQsyB,EAAQ31B,GAE3C,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,WACH,OAAOg8G,EAAU56G,KAAMiC,EAAQsyB,EAAQ31B,GAEzC,QACE,GAAIs6G,EAAa,MAAM,IAAIhV,UAAU,qBAAuBuU,GAC5DA,GAAY,GAAKA,GAAU31G,cAC3Bo2G,GAAc,IAKtBzoG,EAAOlQ,UAAUmqF,OAAS,WACxB,MAAO,CACL9hF,KAAM,SACNmH,KAAMiC,MAAMzR,UAAUqN,MAAM6I,KAAKzW,KAAKq8G,MAAQr8G,KAAM,KAwFxD,IAAIs8G,EAAuB,KAE3B,SAASjB,EAAuBkB,GAC9B,IAAI/rG,EAAM+rG,EAAW39G,OACrB,GAAI4R,GAAO8rG,EACT,OAAO/jG,OAAOC,aAAa0G,MAAM3G,OAAQgkG,GAI3C,IAAInoD,EAAM,GACNr1D,EAAI,EACR,MAAOA,EAAIyR,EACT4jD,GAAO77C,OAAOC,aAAa0G,MACzB3G,OACAgkG,EAAW3uG,MAAM7O,EAAGA,GAAKu9G,IAG7B,OAAOloD,EAGT,SAASolD,EAAYrtB,EAAK7iF,EAAOyJ,GAC/B,IAAIypG,EAAM,GACVzpG,EAAM5T,KAAKe,IAAIisF,EAAIvtF,OAAQmU,GAE3B,IAAK,IAAIhU,EAAIuK,EAAOvK,EAAIgU,IAAOhU,EAC7By9G,GAAOjkG,OAAOC,aAAsB,IAAT2zE,EAAIptF,IAEjC,OAAOy9G,EAGT,SAAS/C,EAAattB,EAAK7iF,EAAOyJ,GAChC,IAAIypG,EAAM,GACVzpG,EAAM5T,KAAKe,IAAIisF,EAAIvtF,OAAQmU,GAE3B,IAAK,IAAIhU,EAAIuK,EAAOvK,EAAIgU,IAAOhU,EAC7By9G,GAAOjkG,OAAOC,aAAa2zE,EAAIptF,IAEjC,OAAOy9G,EAGT,SAASlD,EAAUntB,EAAK7iF,EAAOyJ,GAC7B,IAAIvC,EAAM27E,EAAIvtF,SAET0K,GAASA,EAAQ,KAAGA,EAAQ,KAC5ByJ,GAAOA,EAAM,GAAKA,EAAMvC,KAAKuC,EAAMvC,GAGxC,IADA,IAAI0Q,EAAM,GACDniB,EAAIuK,EAAOvK,EAAIgU,IAAOhU,EAC7BmiB,GAAOu7F,EAAMtwB,EAAIptF,IAEnB,OAAOmiB,EAGT,SAASy4F,EAAcxtB,EAAK7iF,EAAOyJ,GAGjC,IAFA,IAAIgF,EAAQo0E,EAAIv+E,MAAMtE,EAAOyJ,GACzBqhD,EAAM,GACDr1D,EAAI,EAAGA,EAAIgZ,EAAMnZ,OAAQG,GAAK,EACrCq1D,GAAO77C,OAAOC,aAAaT,EAAMhZ,GAAoB,IAAfgZ,EAAMhZ,EAAI,IAElD,OAAOq1D,EA0CT,SAASsoD,EAAanoF,EAAQkJ,EAAK7+B,GACjC,GAAK21B,EAAS,IAAO,GAAKA,EAAS,EAAG,MAAM,IAAIyjF,WAAW,sBAC3D,GAAIzjF,EAASkJ,EAAM7+B,EAAQ,MAAM,IAAIo5G,WAAW,yCA+JlD,SAAS2E,EAAUxwB,EAAK3oF,EAAO+wB,EAAQkJ,EAAKt9B,EAAKD,GAC/C,IAAKuQ,EAAOsoG,SAAS5sB,GAAM,MAAM,IAAI+X,UAAU,+CAC/C,GAAI1gG,EAAQrD,GAAOqD,EAAQtD,EAAK,MAAM,IAAI83G,WAAW,qCACrD,GAAIzjF,EAASkJ,EAAM0uD,EAAIvtF,OAAQ,MAAM,IAAIo5G,WAAW,sBAkDtD,SAAS4E,EAAmBzwB,EAAK3oF,EAAO+wB,EAAQsoF,GAC1Cr5G,EAAQ,IAAGA,EAAQ,MAASA,EAAQ,GACxC,IAAK,IAAIzE,EAAI,EAAGslB,EAAIllB,KAAKe,IAAIisF,EAAIvtF,OAAS21B,EAAQ,GAAIx1B,EAAIslB,IAAKtlB,EAC7DotF,EAAI53D,EAASx1B,IAAMyE,EAAS,KAAS,GAAKq5G,EAAe99G,EAAI,EAAIA,MAClC,GAA5B89G,EAAe99G,EAAI,EAAIA,GA8B9B,SAAS+9G,EAAmB3wB,EAAK3oF,EAAO+wB,EAAQsoF,GAC1Cr5G,EAAQ,IAAGA,EAAQ,WAAaA,EAAQ,GAC5C,IAAK,IAAIzE,EAAI,EAAGslB,EAAIllB,KAAKe,IAAIisF,EAAIvtF,OAAS21B,EAAQ,GAAIx1B,EAAIslB,IAAKtlB,EAC7DotF,EAAI53D,EAASx1B,GAAMyE,IAAuC,GAA5Bq5G,EAAe99G,EAAI,EAAIA,GAAU,IAmJnE,SAASg+G,EAAc5wB,EAAK3oF,EAAO+wB,EAAQkJ,EAAKt9B,EAAKD,GACnD,GAAIq0B,EAASkJ,EAAM0uD,EAAIvtF,OAAQ,MAAM,IAAIo5G,WAAW,sBACpD,GAAIzjF,EAAS,EAAG,MAAM,IAAIyjF,WAAW,sBAGvC,SAASgF,EAAY7wB,EAAK3oF,EAAO+wB,EAAQsoF,EAAcI,GAKrD,OAJKA,GACHF,EAAa5wB,EAAK3oF,EAAO+wB,EAAQ,EAAG,sBAAyB,sBAE/DijF,EAAQj+F,MAAM4yE,EAAK3oF,EAAO+wB,EAAQsoF,EAAc,GAAI,GAC7CtoF,EAAS,EAWlB,SAAS2oF,EAAa/wB,EAAK3oF,EAAO+wB,EAAQsoF,EAAcI,GAKtD,OAJKA,GACHF,EAAa5wB,EAAK3oF,EAAO+wB,EAAQ,EAAG,uBAA0B,uBAEhEijF,EAAQj+F,MAAM4yE,EAAK3oF,EAAO+wB,EAAQsoF,EAAc,GAAI,GAC7CtoF,EAAS,EA/clB9jB,EAAOlQ,UAAUqN,MAAQ,SAAgBtE,EAAOyJ,GAC9C,IAoBIoqG,EApBA3sG,EAAMxQ,KAAKpB,OAqBf,GApBA0K,IAAUA,EACVyJ,OAAc6G,IAAR7G,EAAoBvC,IAAQuC,EAE9BzJ,EAAQ,GACVA,GAASkH,EACLlH,EAAQ,IAAGA,EAAQ,IACdA,EAAQkH,IACjBlH,EAAQkH,GAGNuC,EAAM,GACRA,GAAOvC,EACHuC,EAAM,IAAGA,EAAM,IACVA,EAAMvC,IACfuC,EAAMvC,GAGJuC,EAAMzJ,IAAOyJ,EAAMzJ,GAGnBmH,EAAOqnG,oBACTqF,EAASn9G,KAAK43G,SAAStuG,EAAOyJ,GAC9BoqG,EAAOzF,UAAYjnG,EAAOlQ,cACrB,CACL,IAAI68G,EAAWrqG,EAAMzJ,EACrB6zG,EAAS,IAAI1sG,EAAO2sG,OAAUxjG,GAC9B,IAAK,IAAI7a,EAAI,EAAGA,EAAIq+G,IAAYr+G,EAC9Bo+G,EAAOp+G,GAAKiB,KAAKjB,EAAIuK,GAIzB,OAAO6zG,GAWT1sG,EAAOlQ,UAAU88G,WAAa,SAAqB9oF,EAAQ7jB,EAAYusG,GACrE1oF,GAAkB,EAClB7jB,GAA0B,EACrBusG,GAAUP,EAAYnoF,EAAQ7jB,EAAY1Q,KAAKpB,QAEpD,IAAIyL,EAAMrK,KAAKu0B,GACX+oF,EAAM,EACNv+G,EAAI,EACR,QAASA,EAAI2R,IAAe4sG,GAAO,KACjCjzG,GAAOrK,KAAKu0B,EAASx1B,GAAKu+G,EAG5B,OAAOjzG,GAGToG,EAAOlQ,UAAUg9G,WAAa,SAAqBhpF,EAAQ7jB,EAAYusG,GACrE1oF,GAAkB,EAClB7jB,GAA0B,EACrBusG,GACHP,EAAYnoF,EAAQ7jB,EAAY1Q,KAAKpB,QAGvC,IAAIyL,EAAMrK,KAAKu0B,IAAW7jB,GACtB4sG,EAAM,EACV,MAAO5sG,EAAa,IAAM4sG,GAAO,KAC/BjzG,GAAOrK,KAAKu0B,IAAW7jB,GAAc4sG,EAGvC,OAAOjzG,GAGToG,EAAOlQ,UAAUi9G,UAAY,SAAoBjpF,EAAQ0oF,GAEvD,OADKA,GAAUP,EAAYnoF,EAAQ,EAAGv0B,KAAKpB,QACpCoB,KAAKu0B,IAGd9jB,EAAOlQ,UAAUk9G,aAAe,SAAuBlpF,EAAQ0oF,GAE7D,OADKA,GAAUP,EAAYnoF,EAAQ,EAAGv0B,KAAKpB,QACpCoB,KAAKu0B,GAAWv0B,KAAKu0B,EAAS,IAAM,GAG7C9jB,EAAOlQ,UAAU25G,aAAe,SAAuB3lF,EAAQ0oF,GAE7D,OADKA,GAAUP,EAAYnoF,EAAQ,EAAGv0B,KAAKpB,QACnCoB,KAAKu0B,IAAW,EAAKv0B,KAAKu0B,EAAS,IAG7C9jB,EAAOlQ,UAAUm9G,aAAe,SAAuBnpF,EAAQ0oF,GAG7D,OAFKA,GAAUP,EAAYnoF,EAAQ,EAAGv0B,KAAKpB,SAElCoB,KAAKu0B,GACTv0B,KAAKu0B,EAAS,IAAM,EACpBv0B,KAAKu0B,EAAS,IAAM,IACD,SAAnBv0B,KAAKu0B,EAAS,IAGrB9jB,EAAOlQ,UAAUo9G,aAAe,SAAuBppF,EAAQ0oF,GAG7D,OAFKA,GAAUP,EAAYnoF,EAAQ,EAAGv0B,KAAKpB,QAEpB,SAAfoB,KAAKu0B,IACTv0B,KAAKu0B,EAAS,IAAM,GACrBv0B,KAAKu0B,EAAS,IAAM,EACrBv0B,KAAKu0B,EAAS,KAGlB9jB,EAAOlQ,UAAUq9G,UAAY,SAAoBrpF,EAAQ7jB,EAAYusG,GACnE1oF,GAAkB,EAClB7jB,GAA0B,EACrBusG,GAAUP,EAAYnoF,EAAQ7jB,EAAY1Q,KAAKpB,QAEpD,IAAIyL,EAAMrK,KAAKu0B,GACX+oF,EAAM,EACNv+G,EAAI,EACR,QAASA,EAAI2R,IAAe4sG,GAAO,KACjCjzG,GAAOrK,KAAKu0B,EAASx1B,GAAKu+G,EAM5B,OAJAA,GAAO,IAEHjzG,GAAOizG,IAAKjzG,GAAOlL,KAAKsB,IAAI,EAAG,EAAIiQ,IAEhCrG,GAGToG,EAAOlQ,UAAUs9G,UAAY,SAAoBtpF,EAAQ7jB,EAAYusG,GACnE1oF,GAAkB,EAClB7jB,GAA0B,EACrBusG,GAAUP,EAAYnoF,EAAQ7jB,EAAY1Q,KAAKpB,QAEpD,IAAIG,EAAI2R,EACJ4sG,EAAM,EACNjzG,EAAMrK,KAAKu0B,IAAWx1B,GAC1B,MAAOA,EAAI,IAAMu+G,GAAO,KACtBjzG,GAAOrK,KAAKu0B,IAAWx1B,GAAKu+G,EAM9B,OAJAA,GAAO,IAEHjzG,GAAOizG,IAAKjzG,GAAOlL,KAAKsB,IAAI,EAAG,EAAIiQ,IAEhCrG,GAGToG,EAAOlQ,UAAUu9G,SAAW,SAAmBvpF,EAAQ0oF,GAErD,OADKA,GAAUP,EAAYnoF,EAAQ,EAAGv0B,KAAKpB,QACtB,IAAfoB,KAAKu0B,IAC0B,GAA5B,IAAOv0B,KAAKu0B,GAAU,GADKv0B,KAAKu0B,IAI3C9jB,EAAOlQ,UAAUw9G,YAAc,SAAsBxpF,EAAQ0oF,GACtDA,GAAUP,EAAYnoF,EAAQ,EAAGv0B,KAAKpB,QAC3C,IAAIyL,EAAMrK,KAAKu0B,GAAWv0B,KAAKu0B,EAAS,IAAM,EAC9C,OAAc,MAANlqB,EAAsB,WAANA,EAAmBA,GAG7CoG,EAAOlQ,UAAUy9G,YAAc,SAAsBzpF,EAAQ0oF,GACtDA,GAAUP,EAAYnoF,EAAQ,EAAGv0B,KAAKpB,QAC3C,IAAIyL,EAAMrK,KAAKu0B,EAAS,GAAMv0B,KAAKu0B,IAAW,EAC9C,OAAc,MAANlqB,EAAsB,WAANA,EAAmBA,GAG7CoG,EAAOlQ,UAAU09G,YAAc,SAAsB1pF,EAAQ0oF,GAG3D,OAFKA,GAAUP,EAAYnoF,EAAQ,EAAGv0B,KAAKpB,QAEnCoB,KAAKu0B,GACVv0B,KAAKu0B,EAAS,IAAM,EACpBv0B,KAAKu0B,EAAS,IAAM,GACpBv0B,KAAKu0B,EAAS,IAAM,IAGzB9jB,EAAOlQ,UAAU29G,YAAc,SAAsB3pF,EAAQ0oF,GAG3D,OAFKA,GAAUP,EAAYnoF,EAAQ,EAAGv0B,KAAKpB,QAEnCoB,KAAKu0B,IAAW,GACrBv0B,KAAKu0B,EAAS,IAAM,GACpBv0B,KAAKu0B,EAAS,IAAM,EACpBv0B,KAAKu0B,EAAS,IAGnB9jB,EAAOlQ,UAAU49G,YAAc,SAAsB5pF,EAAQ0oF,GAE3D,OADKA,GAAUP,EAAYnoF,EAAQ,EAAGv0B,KAAKpB,QACpC44G,EAAQ3qD,KAAK7sD,KAAMu0B,GAAQ,EAAM,GAAI,IAG9C9jB,EAAOlQ,UAAU69G,YAAc,SAAsB7pF,EAAQ0oF,GAE3D,OADKA,GAAUP,EAAYnoF,EAAQ,EAAGv0B,KAAKpB,QACpC44G,EAAQ3qD,KAAK7sD,KAAMu0B,GAAQ,EAAO,GAAI,IAG/C9jB,EAAOlQ,UAAU89G,aAAe,SAAuB9pF,EAAQ0oF,GAE7D,OADKA,GAAUP,EAAYnoF,EAAQ,EAAGv0B,KAAKpB,QACpC44G,EAAQ3qD,KAAK7sD,KAAMu0B,GAAQ,EAAM,GAAI,IAG9C9jB,EAAOlQ,UAAU+9G,aAAe,SAAuB/pF,EAAQ0oF,GAE7D,OADKA,GAAUP,EAAYnoF,EAAQ,EAAGv0B,KAAKpB,QACpC44G,EAAQ3qD,KAAK7sD,KAAMu0B,GAAQ,EAAO,GAAI,IAS/C9jB,EAAOlQ,UAAUg+G,YAAc,SAAsB/6G,EAAO+wB,EAAQ7jB,EAAYusG,GAI9E,GAHAz5G,GAASA,EACT+wB,GAAkB,EAClB7jB,GAA0B,GACrBusG,EAAU,CACb,IAAIuB,EAAWr/G,KAAKsB,IAAI,EAAG,EAAIiQ,GAAc,EAC7CisG,EAAS38G,KAAMwD,EAAO+wB,EAAQ7jB,EAAY8tG,EAAU,GAGtD,IAAIlB,EAAM,EACNv+G,EAAI,EACRiB,KAAKu0B,GAAkB,IAAR/wB,EACf,QAASzE,EAAI2R,IAAe4sG,GAAO,KACjCt9G,KAAKu0B,EAASx1B,GAAMyE,EAAQ85G,EAAO,IAGrC,OAAO/oF,EAAS7jB,GAGlBD,EAAOlQ,UAAUk+G,YAAc,SAAsBj7G,EAAO+wB,EAAQ7jB,EAAYusG,GAI9E,GAHAz5G,GAASA,EACT+wB,GAAkB,EAClB7jB,GAA0B,GACrBusG,EAAU,CACb,IAAIuB,EAAWr/G,KAAKsB,IAAI,EAAG,EAAIiQ,GAAc,EAC7CisG,EAAS38G,KAAMwD,EAAO+wB,EAAQ7jB,EAAY8tG,EAAU,GAGtD,IAAIz/G,EAAI2R,EAAa,EACjB4sG,EAAM,EACVt9G,KAAKu0B,EAASx1B,GAAa,IAARyE,EACnB,QAASzE,GAAK,IAAMu+G,GAAO,KACzBt9G,KAAKu0B,EAASx1B,GAAMyE,EAAQ85G,EAAO,IAGrC,OAAO/oF,EAAS7jB,GAGlBD,EAAOlQ,UAAUm+G,WAAa,SAAqBl7G,EAAO+wB,EAAQ0oF,GAMhE,OALAz5G,GAASA,EACT+wB,GAAkB,EACb0oF,GAAUN,EAAS38G,KAAMwD,EAAO+wB,EAAQ,EAAG,IAAM,GACjD9jB,EAAOqnG,sBAAqBt0G,EAAQrE,KAAKC,MAAMoE,IACpDxD,KAAKu0B,GAAmB,IAAR/wB,EACT+wB,EAAS,GAWlB9jB,EAAOlQ,UAAUo+G,cAAgB,SAAwBn7G,EAAO+wB,EAAQ0oF,GAUtE,OATAz5G,GAASA,EACT+wB,GAAkB,EACb0oF,GAAUN,EAAS38G,KAAMwD,EAAO+wB,EAAQ,EAAG,MAAQ,GACpD9jB,EAAOqnG,qBACT93G,KAAKu0B,GAAmB,IAAR/wB,EAChBxD,KAAKu0B,EAAS,GAAM/wB,IAAU,GAE9Bo5G,EAAkB58G,KAAMwD,EAAO+wB,GAAQ,GAElCA,EAAS,GAGlB9jB,EAAOlQ,UAAUq+G,cAAgB,SAAwBp7G,EAAO+wB,EAAQ0oF,GAUtE,OATAz5G,GAASA,EACT+wB,GAAkB,EACb0oF,GAAUN,EAAS38G,KAAMwD,EAAO+wB,EAAQ,EAAG,MAAQ,GACpD9jB,EAAOqnG,qBACT93G,KAAKu0B,GAAW/wB,IAAU,EAC1BxD,KAAKu0B,EAAS,GAAc,IAAR/wB,GAEpBo5G,EAAkB58G,KAAMwD,EAAO+wB,GAAQ,GAElCA,EAAS,GAUlB9jB,EAAOlQ,UAAUs+G,cAAgB,SAAwBr7G,EAAO+wB,EAAQ0oF,GAYtE,OAXAz5G,GAASA,EACT+wB,GAAkB,EACb0oF,GAAUN,EAAS38G,KAAMwD,EAAO+wB,EAAQ,EAAG,WAAY,GACxD9jB,EAAOqnG,qBACT93G,KAAKu0B,EAAS,GAAM/wB,IAAU,GAC9BxD,KAAKu0B,EAAS,GAAM/wB,IAAU,GAC9BxD,KAAKu0B,EAAS,GAAM/wB,IAAU,EAC9BxD,KAAKu0B,GAAmB,IAAR/wB,GAEhBs5G,EAAkB98G,KAAMwD,EAAO+wB,GAAQ,GAElCA,EAAS,GAGlB9jB,EAAOlQ,UAAUu+G,cAAgB,SAAwBt7G,EAAO+wB,EAAQ0oF,GAYtE,OAXAz5G,GAASA,EACT+wB,GAAkB,EACb0oF,GAAUN,EAAS38G,KAAMwD,EAAO+wB,EAAQ,EAAG,WAAY,GACxD9jB,EAAOqnG,qBACT93G,KAAKu0B,GAAW/wB,IAAU,GAC1BxD,KAAKu0B,EAAS,GAAM/wB,IAAU,GAC9BxD,KAAKu0B,EAAS,GAAM/wB,IAAU,EAC9BxD,KAAKu0B,EAAS,GAAc,IAAR/wB,GAEpBs5G,EAAkB98G,KAAMwD,EAAO+wB,GAAQ,GAElCA,EAAS,GAGlB9jB,EAAOlQ,UAAUw+G,WAAa,SAAqBv7G,EAAO+wB,EAAQ7jB,EAAYusG,GAG5E,GAFAz5G,GAASA,EACT+wB,GAAkB,GACb0oF,EAAU,CACb,IAAIxtE,EAAQtwC,KAAKsB,IAAI,EAAG,EAAIiQ,EAAa,GAEzCisG,EAAS38G,KAAMwD,EAAO+wB,EAAQ7jB,EAAY++B,EAAQ,GAAIA,GAGxD,IAAI1wC,EAAI,EACJu+G,EAAM,EACNt3D,EAAM,EACVhmD,KAAKu0B,GAAkB,IAAR/wB,EACf,QAASzE,EAAI2R,IAAe4sG,GAAO,KAC7B95G,EAAQ,GAAa,IAARwiD,GAAsC,IAAzBhmD,KAAKu0B,EAASx1B,EAAI,KAC9CinD,EAAM,GAERhmD,KAAKu0B,EAASx1B,IAAOyE,EAAQ85G,GAAQ,GAAKt3D,EAAM,IAGlD,OAAOzxB,EAAS7jB,GAGlBD,EAAOlQ,UAAUy+G,WAAa,SAAqBx7G,EAAO+wB,EAAQ7jB,EAAYusG,GAG5E,GAFAz5G,GAASA,EACT+wB,GAAkB,GACb0oF,EAAU,CACb,IAAIxtE,EAAQtwC,KAAKsB,IAAI,EAAG,EAAIiQ,EAAa,GAEzCisG,EAAS38G,KAAMwD,EAAO+wB,EAAQ7jB,EAAY++B,EAAQ,GAAIA,GAGxD,IAAI1wC,EAAI2R,EAAa,EACjB4sG,EAAM,EACNt3D,EAAM,EACVhmD,KAAKu0B,EAASx1B,GAAa,IAARyE,EACnB,QAASzE,GAAK,IAAMu+G,GAAO,KACrB95G,EAAQ,GAAa,IAARwiD,GAAsC,IAAzBhmD,KAAKu0B,EAASx1B,EAAI,KAC9CinD,EAAM,GAERhmD,KAAKu0B,EAASx1B,IAAOyE,EAAQ85G,GAAQ,GAAKt3D,EAAM,IAGlD,OAAOzxB,EAAS7jB,GAGlBD,EAAOlQ,UAAU0+G,UAAY,SAAoBz7G,EAAO+wB,EAAQ0oF,GAO9D,OANAz5G,GAASA,EACT+wB,GAAkB,EACb0oF,GAAUN,EAAS38G,KAAMwD,EAAO+wB,EAAQ,EAAG,KAAO,KAClD9jB,EAAOqnG,sBAAqBt0G,EAAQrE,KAAKC,MAAMoE,IAChDA,EAAQ,IAAGA,EAAQ,IAAOA,EAAQ,GACtCxD,KAAKu0B,GAAmB,IAAR/wB,EACT+wB,EAAS,GAGlB9jB,EAAOlQ,UAAU2+G,aAAe,SAAuB17G,EAAO+wB,EAAQ0oF,GAUpE,OATAz5G,GAASA,EACT+wB,GAAkB,EACb0oF,GAAUN,EAAS38G,KAAMwD,EAAO+wB,EAAQ,EAAG,OAAS,OACrD9jB,EAAOqnG,qBACT93G,KAAKu0B,GAAmB,IAAR/wB,EAChBxD,KAAKu0B,EAAS,GAAM/wB,IAAU,GAE9Bo5G,EAAkB58G,KAAMwD,EAAO+wB,GAAQ,GAElCA,EAAS,GAGlB9jB,EAAOlQ,UAAU4+G,aAAe,SAAuB37G,EAAO+wB,EAAQ0oF,GAUpE,OATAz5G,GAASA,EACT+wB,GAAkB,EACb0oF,GAAUN,EAAS38G,KAAMwD,EAAO+wB,EAAQ,EAAG,OAAS,OACrD9jB,EAAOqnG,qBACT93G,KAAKu0B,GAAW/wB,IAAU,EAC1BxD,KAAKu0B,EAAS,GAAc,IAAR/wB,GAEpBo5G,EAAkB58G,KAAMwD,EAAO+wB,GAAQ,GAElCA,EAAS,GAGlB9jB,EAAOlQ,UAAU6+G,aAAe,SAAuB57G,EAAO+wB,EAAQ0oF,GAYpE,OAXAz5G,GAASA,EACT+wB,GAAkB,EACb0oF,GAAUN,EAAS38G,KAAMwD,EAAO+wB,EAAQ,EAAG,YAAa,YACzD9jB,EAAOqnG,qBACT93G,KAAKu0B,GAAmB,IAAR/wB,EAChBxD,KAAKu0B,EAAS,GAAM/wB,IAAU,EAC9BxD,KAAKu0B,EAAS,GAAM/wB,IAAU,GAC9BxD,KAAKu0B,EAAS,GAAM/wB,IAAU,IAE9Bs5G,EAAkB98G,KAAMwD,EAAO+wB,GAAQ,GAElCA,EAAS,GAGlB9jB,EAAOlQ,UAAU8+G,aAAe,SAAuB77G,EAAO+wB,EAAQ0oF,GAapE,OAZAz5G,GAASA,EACT+wB,GAAkB,EACb0oF,GAAUN,EAAS38G,KAAMwD,EAAO+wB,EAAQ,EAAG,YAAa,YACzD/wB,EAAQ,IAAGA,EAAQ,WAAaA,EAAQ,GACxCiN,EAAOqnG,qBACT93G,KAAKu0B,GAAW/wB,IAAU,GAC1BxD,KAAKu0B,EAAS,GAAM/wB,IAAU,GAC9BxD,KAAKu0B,EAAS,GAAM/wB,IAAU,EAC9BxD,KAAKu0B,EAAS,GAAc,IAAR/wB,GAEpBs5G,EAAkB98G,KAAMwD,EAAO+wB,GAAQ,GAElCA,EAAS,GAgBlB9jB,EAAOlQ,UAAU++G,aAAe,SAAuB97G,EAAO+wB,EAAQ0oF,GACpE,OAAOD,EAAWh9G,KAAMwD,EAAO+wB,GAAQ,EAAM0oF,IAG/CxsG,EAAOlQ,UAAUg/G,aAAe,SAAuB/7G,EAAO+wB,EAAQ0oF,GACpE,OAAOD,EAAWh9G,KAAMwD,EAAO+wB,GAAQ,EAAO0oF,IAWhDxsG,EAAOlQ,UAAUi/G,cAAgB,SAAwBh8G,EAAO+wB,EAAQ0oF,GACtE,OAAOC,EAAYl9G,KAAMwD,EAAO+wB,GAAQ,EAAM0oF,IAGhDxsG,EAAOlQ,UAAUk/G,cAAgB,SAAwBj8G,EAAO+wB,EAAQ0oF,GACtE,OAAOC,EAAYl9G,KAAMwD,EAAO+wB,GAAQ,EAAO0oF,IAIjDxsG,EAAOlQ,UAAU4wB,KAAO,SAAerb,EAAQ4pG,EAAap2G,EAAOyJ,GAQjE,GAPKzJ,IAAOA,EAAQ,GACfyJ,GAAe,IAARA,IAAWA,EAAM/S,KAAKpB,QAC9B8gH,GAAe5pG,EAAOlX,SAAQ8gH,EAAc5pG,EAAOlX,QAClD8gH,IAAaA,EAAc,GAC5B3sG,EAAM,GAAKA,EAAMzJ,IAAOyJ,EAAMzJ,GAG9ByJ,IAAQzJ,EAAO,OAAO,EAC1B,GAAsB,IAAlBwM,EAAOlX,QAAgC,IAAhBoB,KAAKpB,OAAc,OAAO,EAGrD,GAAI8gH,EAAc,EAChB,MAAM,IAAI1H,WAAW,6BAEvB,GAAI1uG,EAAQ,GAAKA,GAAStJ,KAAKpB,OAAQ,MAAM,IAAIo5G,WAAW,6BAC5D,GAAIjlG,EAAM,EAAG,MAAM,IAAIilG,WAAW,2BAG9BjlG,EAAM/S,KAAKpB,SAAQmU,EAAM/S,KAAKpB,QAC9BkX,EAAOlX,OAAS8gH,EAAc3sG,EAAMzJ,IACtCyJ,EAAM+C,EAAOlX,OAAS8gH,EAAcp2G,GAGtC,IACIvK,EADAyR,EAAMuC,EAAMzJ,EAGhB,GAAItJ,OAAS8V,GAAUxM,EAAQo2G,GAAeA,EAAc3sG,EAE1D,IAAKhU,EAAIyR,EAAM,EAAGzR,GAAK,IAAKA,EAC1B+W,EAAO/W,EAAI2gH,GAAe1/G,KAAKjB,EAAIuK,QAEhC,GAAIkH,EAAM,MAASC,EAAOqnG,oBAE/B,IAAK/4G,EAAI,EAAGA,EAAIyR,IAAOzR,EACrB+W,EAAO/W,EAAI2gH,GAAe1/G,KAAKjB,EAAIuK,QAGrCyI,WAAWxR,UAAU6f,IAAI3J,KACvBX,EACA9V,KAAK43G,SAAStuG,EAAOA,EAAQkH,GAC7BkvG,GAIJ,OAAOlvG,GAOTC,EAAOlQ,UAAUo+F,KAAO,SAAet0F,EAAKf,EAAOyJ,EAAK0lG,GAEtD,GAAmB,kBAARpuG,EAAkB,CAS3B,GARqB,kBAAVf,GACTmvG,EAAWnvG,EACXA,EAAQ,EACRyJ,EAAM/S,KAAKpB,QACa,kBAARmU,IAChB0lG,EAAW1lG,EACXA,EAAM/S,KAAKpB,QAEM,IAAfyL,EAAIzL,OAAc,CACpB,IAAIqT,EAAO5H,EAAI6H,WAAW,GACtBD,EAAO,MACT5H,EAAM4H,GAGV,QAAiB2H,IAAb6+F,GAA8C,kBAAbA,EACnC,MAAM,IAAIvU,UAAU,6BAEtB,GAAwB,kBAAbuU,IAA0BhoG,EAAOkoG,WAAWF,GACrD,MAAM,IAAIvU,UAAU,qBAAuBuU,OAErB,kBAARpuG,IAChBA,GAAY,KAId,GAAIf,EAAQ,GAAKtJ,KAAKpB,OAAS0K,GAAStJ,KAAKpB,OAASmU,EACpD,MAAM,IAAIilG,WAAW,sBAGvB,GAAIjlG,GAAOzJ,EACT,OAAOtJ,KAQT,IAAIjB,EACJ,GANAuK,KAAkB,EAClByJ,OAAc6G,IAAR7G,EAAoB/S,KAAKpB,OAASmU,IAAQ,EAE3C1I,IAAKA,EAAM,GAGG,kBAARA,EACT,IAAKtL,EAAIuK,EAAOvK,EAAIgU,IAAOhU,EACzBiB,KAAKjB,GAAKsL,MAEP,CACL,IAAI0N,EAAQtH,EAAOsoG,SAAS1uG,GACxBA,EACA8uG,EAAY,IAAI1oG,EAAOpG,EAAKouG,GAAUjiG,YACtChG,EAAMuH,EAAMnZ,OAChB,IAAKG,EAAI,EAAGA,EAAIgU,EAAMzJ,IAASvK,EAC7BiB,KAAKjB,EAAIuK,GAASyO,EAAMhZ,EAAIyR,GAIhC,OAAOxQ,MAMT,IAAI2/G,EAAoB,qBAExB,SAASC,EAAatgH,GAIpB,GAFAA,EAAMugH,EAAWvgH,GAAKiC,QAAQo+G,EAAmB,IAE7CrgH,EAAIV,OAAS,EAAG,MAAO,GAE3B,MAAOU,EAAIV,OAAS,IAAM,EACxBU,GAAY,IAEd,OAAOA,EAGT,SAASugH,EAAYvgH,GACnB,OAAIA,EAAIwgH,KAAaxgH,EAAIwgH,OAClBxgH,EAAIiC,QAAQ,aAAc,IAGnC,SAASk7G,EAAO/8F,GACd,OAAIA,EAAI,GAAW,IAAMA,EAAElJ,SAAS,IAC7BkJ,EAAElJ,SAAS,IAGpB,SAAS2iG,EAAal3G,EAAQ89G,GAE5B,IAAI5E,EADJ4E,EAAQA,GAAS7kF,IAMjB,IAJA,IAAIt8B,EAASqD,EAAOrD,OAChBohH,EAAgB,KAChBjoG,EAAQ,GAEHhZ,EAAI,EAAGA,EAAIH,IAAUG,EAAG,CAI/B,GAHAo8G,EAAYl5G,EAAOiQ,WAAWnT,GAG1Bo8G,EAAY,OAAUA,EAAY,MAAQ,CAE5C,IAAK6E,EAAe,CAElB,GAAI7E,EAAY,MAAQ,EAEjB4E,GAAS,IAAM,GAAGhoG,EAAMtL,KAAK,IAAM,IAAM,KAC9C,SACK,GAAI1N,EAAI,IAAMH,EAAQ,EAEtBmhH,GAAS,IAAM,GAAGhoG,EAAMtL,KAAK,IAAM,IAAM,KAC9C,SAIFuzG,EAAgB7E,EAEhB,SAIF,GAAIA,EAAY,MAAQ,EACjB4E,GAAS,IAAM,GAAGhoG,EAAMtL,KAAK,IAAM,IAAM,KAC9CuzG,EAAgB7E,EAChB,SAIFA,EAAkE,OAArD6E,EAAgB,OAAU,GAAK7E,EAAY,YAC/C6E,IAEJD,GAAS,IAAM,GAAGhoG,EAAMtL,KAAK,IAAM,IAAM,KAMhD,GAHAuzG,EAAgB,KAGZ7E,EAAY,IAAM,CACpB,IAAK4E,GAAS,GAAK,EAAG,MACtBhoG,EAAMtL,KAAK0uG,QACN,GAAIA,EAAY,KAAO,CAC5B,IAAK4E,GAAS,GAAK,EAAG,MACtBhoG,EAAMtL,KACJ0uG,GAAa,EAAM,IACP,GAAZA,EAAmB,UAEhB,GAAIA,EAAY,MAAS,CAC9B,IAAK4E,GAAS,GAAK,EAAG,MACtBhoG,EAAMtL,KACJ0uG,GAAa,GAAM,IACnBA,GAAa,EAAM,GAAO,IACd,GAAZA,EAAmB,SAEhB,MAAIA,EAAY,SASrB,MAAM,IAAI/oG,MAAM,sBARhB,IAAK2tG,GAAS,GAAK,EAAG,MACtBhoG,EAAMtL,KACJ0uG,GAAa,GAAO,IACpBA,GAAa,GAAM,GAAO,IAC1BA,GAAa,EAAM,GAAO,IACd,GAAZA,EAAmB,MAOzB,OAAOpjG,EAGT,SAAS0iG,EAAcn7G,GAErB,IADA,IAAI2gH,EAAY,GACPlhH,EAAI,EAAGA,EAAIO,EAAIV,SAAUG,EAEhCkhH,EAAUxzG,KAAyB,IAApBnN,EAAI4S,WAAWnT,IAEhC,OAAOkhH,EAGT,SAASpF,EAAgBv7G,EAAKygH,GAG5B,IAFA,IAAI3zB,EAAG8zB,EAAIC,EACPF,EAAY,GACPlhH,EAAI,EAAGA,EAAIO,EAAIV,SAAUG,EAAG,CACnC,IAAKghH,GAAS,GAAK,EAAG,MAEtB3zB,EAAI9sF,EAAI4S,WAAWnT,GACnBmhH,EAAK9zB,GAAK,EACV+zB,EAAK/zB,EAAI,IACT6zB,EAAUxzG,KAAK0zG,GACfF,EAAUxzG,KAAKyzG,GAGjB,OAAOD,EAGT,SAAS7G,EAAe95G,GACtB,OAAOiY,EAAO7F,YAAYkuG,EAAYtgH,IAGxC,SAASi7G,GAAYz/F,EAAKslG,EAAK7rF,EAAQ31B,GACrC,IAAK,IAAIG,EAAI,EAAGA,EAAIH,IAAUG,EAAG,CAC/B,GAAKA,EAAIw1B,GAAU6rF,EAAIxhH,QAAYG,GAAK+b,EAAIlc,OAAS,MACrDwhH,EAAIrhH,EAAIw1B,GAAUzZ,EAAI/b,GAExB,OAAOA,EAGT,SAASi6G,GAAO3uG,GACd,OAAOA,IAAQA,K,4CCxvDjB,SAAUpJ,GAENA,EAAI,EAAQ,UAFhB,EAOG,SAASC,GACV,aACA,IAgHIm/G,EAAQC,EAhHR74G,EAAMvG,EAAWuG,IAErB,SAAS84G,EAAYC,GACnB,IAAI5yB,EAAQ4yB,EAAO5yB,MACnB,OAAgB,MAATA,EAAgBA,GAAS4yB,EAAO9+G,WAAa,IAAM,KACrD8+G,EAAOh/G,OAAS,IAAM,KACtBg/G,EAAOv9G,UAAY,IAAM,IAGhC,SAASw9G,EAAYD,EAAQ5yB,GAE3B,IADA,IAAI1wE,EAAUqjG,EAAYC,GAAS1qG,EAASoH,EACnCne,EAAI,EAAGA,EAAI6uF,EAAMhvF,OAAQG,KAA6C,GAApC+W,EAAOnR,QAAQipF,EAAMpuF,OAAOT,MACrE+W,GAAU83E,EAAMpuF,OAAOT,IACzB,OAAOme,GAAWpH,EAAS0qG,EAAS,IAAIl/G,OAAOk/G,EAAO/+G,OAAQqU,GAGhE,SAAS4qG,EAAeF,GACtB,MAAO,0BAA0B37G,KAAK27G,EAAO/+G,QAG/C,SAASk/G,EAAoBz1F,EAAKs1F,EAAQl3G,GACxCk3G,EAASC,EAAYD,EAAQ,KAC7B,IAAK,IAAIl6G,EAAOgD,EAAMhD,KAAM9B,EAAK8E,EAAM9E,GAAIyoB,EAAO/B,EAAIxjB,WAAYpB,GAAQ2mB,EAAM3mB,IAAQ9B,EAAK,EAAG,CAC9Fg8G,EAAO3+G,UAAY2C,EACnB,IAAIvC,EAASipB,EAAID,QAAQ3kB,GAAOvE,EAAQy+G,EAAOx+G,KAAKC,GACpD,GAAIF,EACF,MAAO,CAAC8F,KAAMJ,EAAInB,EAAMvE,EAAMG,OACtBmE,GAAIoB,EAAInB,EAAMvE,EAAMG,MAAQH,EAAM,GAAGnD,QACrCmD,MAAOA,IAIrB,SAAS6+G,EAA6B11F,EAAKs1F,EAAQl3G,GACjD,IAAKo3G,EAAeF,GAAS,OAAOG,EAAoBz1F,EAAKs1F,EAAQl3G,GAErEk3G,EAASC,EAAYD,EAAQ,MAE7B,IADA,IAAIv+G,EAAQopB,EAAQ,EACX/kB,EAAOgD,EAAMhD,KAAM2mB,EAAO/B,EAAIxjB,WAAYpB,GAAQ2mB,GAAO,CAMhE,IAAK,IAAIluB,EAAI,EAAGA,EAAIssB,EAAOtsB,IAAK,CAC9B,GAAIuH,EAAO2mB,EAAM,MACjB,IAAI86B,EAAU78B,EAAID,QAAQ3kB,KAC1BrE,EAAmB,MAAVA,EAAiB8lD,EAAU9lD,EAAS,KAAO8lD,EAEtD18B,GAAgB,EAChBm1F,EAAO3+G,UAAYyH,EAAM9E,GACzB,IAAIzC,EAAQy+G,EAAOx+G,KAAKC,GACxB,GAAIF,EAAO,CACT,IAAI4iB,EAAS1iB,EAAO2L,MAAM,EAAG7L,EAAMG,OAAOvD,MAAM,MAAOkiH,EAAS9+G,EAAM,GAAGpD,MAAM,MAC3EkjF,EAAYv4E,EAAMhD,KAAOqe,EAAO/lB,OAAS,EAAG20B,EAAU5O,EAAOA,EAAO/lB,OAAS,GAAGA,OACpF,MAAO,CAACiJ,KAAMJ,EAAIo6E,EAAWtuD,GACrBltB,GAAIoB,EAAIo6E,EAAYg/B,EAAOjiH,OAAS,EACX,GAAjBiiH,EAAOjiH,OAAc20B,EAAUstF,EAAO,GAAGjiH,OAASiiH,EAAOA,EAAOjiH,OAAS,GAAGA,QACpFmD,MAAOA,KAKrB,SAAS++G,EAAY7+G,EAAQu+G,EAAQO,GACnC,IAAIh/G,EAAO8F,EAAO,EAClB,MAAOA,GAAQ5F,EAAOrD,OAAQ,CAC5B4hH,EAAO3+G,UAAYgG,EACnB,IAAIm5G,EAAWR,EAAOx+G,KAAKC,GAC3B,IAAK++G,EAAU,MACf,IAAIjuG,EAAMiuG,EAAS9+G,MAAQ8+G,EAAS,GAAGpiH,OACvC,GAAImU,EAAM9Q,EAAOrD,OAASmiH,EAAW,QAChCh/G,GAASgR,EAAMhR,EAAMG,MAAQH,EAAM,GAAGnD,UACzCmD,EAAQi/G,GACVn5G,EAAOm5G,EAAS9+G,MAAQ,EAE1B,OAAOH,EAGT,SAASk/G,EAAqB/1F,EAAKs1F,EAAQl3G,GACzCk3G,EAASC,EAAYD,EAAQ,KAC7B,IAAK,IAAIl6G,EAAOgD,EAAMhD,KAAM9B,EAAK8E,EAAM9E,GAAI2mB,EAAQD,EAAIvjB,YAAarB,GAAQ6kB,EAAO7kB,IAAQ9B,GAAM,EAAG,CAClG,IAAIvC,EAASipB,EAAID,QAAQ3kB,GACrBvE,EAAQ++G,EAAY7+G,EAAQu+G,EAAQh8G,EAAK,EAAI,EAAIvC,EAAOrD,OAAS4F,GACrE,GAAIzC,EACF,MAAO,CAAC8F,KAAMJ,EAAInB,EAAMvE,EAAMG,OACtBmE,GAAIoB,EAAInB,EAAMvE,EAAMG,MAAQH,EAAM,GAAGnD,QACrCmD,MAAOA,IAIrB,SAASm/G,EAA8Bh2F,EAAKs1F,EAAQl3G,GAClD,IAAKo3G,EAAeF,GAAS,OAAOS,EAAqB/1F,EAAKs1F,EAAQl3G,GACtEk3G,EAASC,EAAYD,EAAQ,MAE7B,IADA,IAAIv+G,EAAQwpB,EAAY,EAAGs1F,EAAY71F,EAAID,QAAQ3hB,EAAMhD,MAAM1H,OAAS0K,EAAM9E,GACrE8B,EAAOgD,EAAMhD,KAAM6kB,EAAQD,EAAIvjB,YAAarB,GAAQ6kB,GAAQ,CACnE,IAAK,IAAIpsB,EAAI,EAAGA,EAAI0sB,GAAanlB,GAAQ6kB,EAAOpsB,IAAK,CACnD,IAAIgpD,EAAU78B,EAAID,QAAQ3kB,KAC1BrE,EAAmB,MAAVA,EAAiB8lD,EAAUA,EAAU,KAAO9lD,EAEvDwpB,GAAa,EAEb,IAAI1pB,EAAQ++G,EAAY7+G,EAAQu+G,EAAQO,GACxC,GAAIh/G,EAAO,CACT,IAAI4iB,EAAS1iB,EAAO2L,MAAM,EAAG7L,EAAMG,OAAOvD,MAAM,MAAOkiH,EAAS9+G,EAAM,GAAGpD,MAAM,MAC3EkjF,EAAYv7E,EAAOqe,EAAO/lB,OAAQ20B,EAAU5O,EAAOA,EAAO/lB,OAAS,GAAGA,OAC1E,MAAO,CAACiJ,KAAMJ,EAAIo6E,EAAWtuD,GACrBltB,GAAIoB,EAAIo6E,EAAYg/B,EAAOjiH,OAAS,EACX,GAAjBiiH,EAAOjiH,OAAc20B,EAAUstF,EAAO,GAAGjiH,OAASiiH,EAAOA,EAAOjiH,OAAS,GAAGA,QACpFmD,MAAOA,KAgBrB,SAASo/G,EAAUC,EAAMC,EAAQv/G,EAAKw/G,GACpC,GAAIF,EAAKxiH,QAAUyiH,EAAOziH,OAAQ,OAAOkD,EACzC,IAAK,IAAI5B,EAAM,EAAGC,EAAM2B,EAAM3C,KAAKgB,IAAI,EAAGihH,EAAKxiH,OAASyiH,EAAOziH,UAAW,CACxE,GAAIsB,GAAOC,EAAK,OAAOD,EACvB,IAAIoiB,EAAOpiB,EAAMC,GAAQ,EACrBqQ,EAAM8wG,EAASF,EAAKxzG,MAAM,EAAG0U,IAAM1jB,OACvC,GAAI4R,GAAO1O,EAAK,OAAOwgB,EACd9R,EAAM1O,EAAK3B,EAAMmiB,EACrBpiB,EAAMoiB,EAAM,GAIrB,SAASi/F,EAAoBr2F,EAAK9pB,EAAOkI,EAAOtG,GAG9C,IAAK5B,EAAMxC,OAAQ,OAAO,KAC1B,IAAI4iH,EAAOx+G,EAAWq9G,EAASC,EAC3Bh1F,EAAQk2F,EAAKpgH,GAAOzC,MAAM,YAE9BiE,EAAQ,IAAK,IAAI0D,EAAOgD,EAAMhD,KAAM9B,EAAK8E,EAAM9E,GAAIyoB,EAAO/B,EAAIxjB,WAAa,EAAI4jB,EAAM1sB,OAAQ0H,GAAQ2mB,EAAM3mB,IAAQ9B,EAAK,EAAG,CACzH,IAAI48G,EAAOl2F,EAAID,QAAQ3kB,GAAMsH,MAAMpJ,GAAKvC,EAASu/G,EAAKJ,GACtD,GAAoB,GAAhB91F,EAAM1sB,OAAa,CACrB,IAAI8jB,EAAQzgB,EAAO0C,QAAQ2mB,EAAM,IACjC,IAAc,GAAV5I,EAAa,SAAS9f,EACtB0G,EAAQ63G,EAAUC,EAAMn/G,EAAQygB,EAAO8+F,GAAQh9G,EACnD,MAAO,CAACqD,KAAMJ,EAAInB,EAAM66G,EAAUC,EAAMn/G,EAAQygB,EAAO8+F,GAAQh9G,GACvD6B,GAAIoB,EAAInB,EAAM66G,EAAUC,EAAMn/G,EAAQygB,EAAQ4I,EAAM,GAAG1sB,OAAQ4iH,GAAQh9G,IAE/E,IAAIi9G,EAAUx/G,EAAOrD,OAAS0sB,EAAM,GAAG1sB,OACvC,GAAIqD,EAAO2L,MAAM6zG,IAAYn2F,EAAM,GAAnC,CACA,IAAK,IAAIvsB,EAAI,EAAGA,EAAIusB,EAAM1sB,OAAS,EAAGG,IACpC,GAAIyiH,EAAKt2F,EAAID,QAAQ3kB,EAAOvH,KAAOusB,EAAMvsB,GAAI,SAAS6D,EACxD,IAAImQ,EAAMmY,EAAID,QAAQ3kB,EAAOglB,EAAM1sB,OAAS,GAAIwiF,EAAYogC,EAAKzuG,GAAMrL,EAAW4jB,EAAMA,EAAM1sB,OAAS,GACvG,GAAIwiF,EAAUxzE,MAAM,EAAGlG,EAAS9I,SAAW8I,EAC3C,MAAO,CAACG,KAAMJ,EAAInB,EAAM66G,EAAUC,EAAMn/G,EAAQw/G,EAASD,GAAQh9G,GACzD6B,GAAIoB,EAAInB,EAAOglB,EAAM1sB,OAAS,EAAGuiH,EAAUpuG,EAAKquE,EAAW15E,EAAS9I,OAAQ4iH,OAK1F,SAASE,EAAqBx2F,EAAK9pB,EAAOkI,EAAOtG,GAC/C,IAAK5B,EAAMxC,OAAQ,OAAO,KAC1B,IAAI4iH,EAAOx+G,EAAWq9G,EAASC,EAC3Bh1F,EAAQk2F,EAAKpgH,GAAOzC,MAAM,YAE9BiE,EAAQ,IAAK,IAAI0D,EAAOgD,EAAMhD,KAAM9B,EAAK8E,EAAM9E,GAAI2mB,EAAQD,EAAIvjB,YAAc,EAAI2jB,EAAM1sB,OAAQ0H,GAAQ6kB,EAAO7kB,IAAQ9B,GAAM,EAAG,CAC7H,IAAI48G,EAAOl2F,EAAID,QAAQ3kB,GACnB9B,GAAM,IAAG48G,EAAOA,EAAKxzG,MAAM,EAAGpJ,IAClC,IAAIvC,EAASu/G,EAAKJ,GAClB,GAAoB,GAAhB91F,EAAM1sB,OAAa,CACrB,IAAI8jB,EAAQzgB,EAAO62E,YAAYxtD,EAAM,IACrC,IAAc,GAAV5I,EAAa,SAAS9f,EAC1B,MAAO,CAACiF,KAAMJ,EAAInB,EAAM66G,EAAUC,EAAMn/G,EAAQygB,EAAO8+F,IAC/Cn7G,GAAIoB,EAAInB,EAAM66G,EAAUC,EAAMn/G,EAAQygB,EAAQ4I,EAAM,GAAG1sB,OAAQ4iH,KAEvE,IAAI95G,EAAW4jB,EAAMA,EAAM1sB,OAAS,GACpC,GAAIqD,EAAO2L,MAAM,EAAGlG,EAAS9I,SAAW8I,EAAxC,CACK,IAAI3I,EAAI,EAAb,IAAgBuK,EAAQhD,EAAOglB,EAAM1sB,OAAS,EAAGG,EAAIusB,EAAM1sB,OAAS,EAAGG,IACrE,GAAIyiH,EAAKt2F,EAAID,QAAQ3hB,EAAQvK,KAAOusB,EAAMvsB,GAAI,SAAS6D,EACzD,IAAIiE,EAAMqkB,EAAID,QAAQ3kB,EAAO,EAAIglB,EAAM1sB,QAAS+iH,EAAYH,EAAK36G,GACjE,GAAI86G,EAAU/zG,MAAM+zG,EAAU/iH,OAAS0sB,EAAM,GAAG1sB,SAAW0sB,EAAM,GACjE,MAAO,CAACzjB,KAAMJ,EAAInB,EAAO,EAAIglB,EAAM1sB,OAAQuiH,EAAUt6G,EAAK86G,EAAW96G,EAAIjI,OAAS0sB,EAAM,GAAG1sB,OAAQ4iH,IAC3Fn7G,GAAIoB,EAAInB,EAAM66G,EAAUC,EAAMn/G,EAAQyF,EAAS9I,OAAQ4iH,OAKrE,SAASI,EAAa12F,EAAK9pB,EAAOU,EAAKgC,GAOrC,IAAId,EANJhD,KAAK6hH,cAAe,EACpB7hH,KAAK8hH,iBAAkB,EACvB9hH,KAAKkrB,IAAMA,EACXppB,EAAMA,EAAMopB,EAAI8B,QAAQlrB,GAAO2F,EAAI,EAAG,GACtCzH,KAAK8B,IAAM,CAAC+F,KAAM/F,EAAKuE,GAAIvE,GAGL,iBAAXgC,EACTd,EAAWc,EAAQd,UAEnBA,EAAWc,EACXA,EAAU,MAGQ,iBAAT1C,GACO,MAAZ4B,IAAkBA,GAAW,GACjChD,KAAK+hH,QAAU,SAAS38F,EAAStjB,GAC/B,OAAQsjB,EAAUs8F,EAAuBH,GAAqBr2F,EAAK9pB,EAAOU,EAAKkB,MAGjF5B,EAAQq/G,EAAYr/G,EAAO,MACtB0C,IAAiC,IAAtBA,EAAQb,UAKtBjD,KAAK+hH,QAAU,SAAS38F,EAAStjB,GAC/B,OAAQsjB,EAAU67F,EAAuBN,GAAqBz1F,EAAK9pB,EAAOU,IAL5E9B,KAAK+hH,QAAU,SAAS38F,EAAStjB,GAC/B,OAAQsjB,EAAU87F,EAAgCN,GAA8B11F,EAAK9pB,EAAOU,KArGhGyW,OAAOhY,UAAUy2F,WACnBqpB,EAAS,SAAS/gH,GAAO,OAAOA,EAAI03F,UAAU,OAAOl0F,eACrDw9G,EAAS,SAAShhH,GAAO,OAAOA,EAAI03F,UAAU,UAE9CqpB,EAAS,SAAS/gH,GAAO,OAAOA,EAAIwD,eACpCw9G,EAAS,SAAShhH,GAAO,OAAOA,IAyGlCsiH,EAAarhH,UAAY,CACvBkF,SAAU,WAAY,OAAOzF,KAAKwH,MAAK,IACvCw6G,aAAc,WAAY,OAAOhiH,KAAKwH,MAAK,IAE3CA,KAAM,SAAS4d,GACb,IAAIvZ,EAAO7L,KAAKkrB,IAAI8B,QAAQ5H,EAAUplB,KAAK8B,IAAI+F,KAAO7H,KAAK8B,IAAIuE,IAC/D,GAAIrG,KAAK8hH,iBAAmB9hH,KAAK6hH,eAE/Bh2G,EAAOpE,EAAIoE,EAAKvF,KAAMuF,EAAKrH,IACvB4gB,GACFvZ,EAAKrH,KACDqH,EAAKrH,GAAK,IACZqH,EAAKvF,OACLuF,EAAKrH,IAAMxE,KAAKkrB,IAAID,QAAQpf,EAAKvF,OAAS,IAAI1H,UAGhDiN,EAAKrH,KACDqH,EAAKrH,IAAMxE,KAAKkrB,IAAID,QAAQpf,EAAKvF,OAAS,IAAI1H,SAChDiN,EAAKrH,GAAK,EACVqH,EAAKvF,SAG8C,GAAnDpF,EAAW6L,OAAOlB,EAAM7L,KAAKkrB,IAAI8B,QAAQnhB,KAC1C,OAAO7L,KAAK6hH,cAAe,EAGhC,IAAIxqG,EAASrX,KAAK+hH,QAAQ38F,EAASvZ,GAGnC,GAFA7L,KAAK8hH,gBAAkBzqG,GAAuD,GAA7CnW,EAAW6L,OAAOsK,EAAOxP,KAAMwP,EAAOhR,IAEnEgR,EAGF,OAFArX,KAAK8B,IAAMuV,EACXrX,KAAK6hH,cAAe,EACb7hH,KAAK8B,IAAIC,QAAS,EAEzB,IAAIgR,EAAMtL,EAAI2d,EAAUplB,KAAKkrB,IAAIvjB,YAAc3H,KAAKkrB,IAAIxjB,WAAa,EAAG,GAExE,OADA1H,KAAK8B,IAAM,CAAC+F,KAAMkL,EAAK1M,GAAI0M,GACpB/S,KAAK6hH,cAAe,GAI/Bh6G,KAAM,WAAY,GAAI7H,KAAK6hH,aAAc,OAAO7hH,KAAK8B,IAAI+F,MACzDxB,GAAI,WAAY,GAAIrG,KAAK6hH,aAAc,OAAO7hH,KAAK8B,IAAIuE,IAEvD9E,QAAS,SAAS6nE,EAAS3oD,GACzB,GAAKzgB,KAAK6hH,aAAV,CACA,IAAIv2F,EAAQpqB,EAAW2kD,WAAWujB,GAClCppE,KAAKkrB,IAAInf,aAAauf,EAAOtrB,KAAK8B,IAAI+F,KAAM7H,KAAK8B,IAAIuE,GAAIoa,GACzDzgB,KAAK8B,IAAIuE,GAAKoB,EAAIzH,KAAK8B,IAAI+F,KAAKvB,KAAOglB,EAAM1sB,OAAS,EACpC0sB,EAAMA,EAAM1sB,OAAS,GAAGA,QAA0B,GAAhB0sB,EAAM1sB,OAAcoB,KAAK8B,IAAI+F,KAAKrD,GAAK,OAI/FtD,EAAWgT,gBAAgB,mBAAmB,SAAS9S,EAAOU,EAAKkB,GACjE,OAAO,IAAI4+G,EAAa5hH,KAAKkrB,IAAK9pB,EAAOU,EAAKkB,MAEhD9B,EAAW4rE,mBAAmB,mBAAmB,SAAS1rE,EAAOU,EAAKkB,GACpE,OAAO,IAAI4+G,EAAa5hH,KAAMoB,EAAOU,EAAKkB,MAG5C9B,EAAWgT,gBAAgB,iBAAiB,SAAS9S,EAAO4B,GAC1D,IAAIwI,EAAS,GACTM,EAAM9L,KAAK+C,gBAAgB3B,EAAOpB,KAAKgG,UAAU,QAAShD,GAC9D,MAAO8I,EAAIrG,WAAY,CACrB,GAAIvE,EAAW6L,OAAOjB,EAAIzF,KAAMrG,KAAKgG,UAAU,OAAS,EAAG,MAC3DwF,EAAOiB,KAAK,CAACC,OAAQZ,EAAIjE,OAAQgE,KAAMC,EAAIzF,OAEzCmF,EAAO5M,QACToB,KAAK2M,cAAcnB,EAAQ,U,kCC7SjC,IAAIqK,EAAI,EAAQ,QACZ26F,EAAa,EAAQ,QACrBC,EAAyB,EAAQ,QAIrC56F,EAAE,CAAEC,OAAQ,SAAU46F,OAAO,EAAMzwB,OAAQwwB,EAAuB,UAAY,CAC5E5Q,MAAO,WACL,OAAO2Q,EAAWxwG,KAAM,QAAS,GAAI,Q,mBCAzC,IACEJ,EAAOC,QAAoC,qBAAnBylF,gBACtB,oBAAqB,IAAIA,eAC3B,MAAOt2E,GAGPpP,EAAOC,SAAU,I,oECZnB,SAAUoB,GAENA,EAAI,EAAQ,UAFhB,EAOG,SAASC,GAsBV,SAAS+gH,EAAiBv/G,GACpBA,EAAGC,MAAM0nE,cACX3nE,EAAGC,MAAM0nE,YAAY91D,WAAWC,YAAY9R,EAAGC,MAAM0nE,aACrD3nE,EAAGC,MAAM0nE,YAAc,MAG3B,SAAS63C,EAAex/G,GACtBu/G,EAAiBv/G,GACjB,IAAI+a,EAAM/a,EAAGC,MAAM0nE,YAAc9jE,SAAS4B,cAAc,OACxDsV,EAAIxX,MAAMyX,QAAU,+BACpBD,EAAIxX,MAAMyd,UAAYhhB,EAAGuE,UAAU,aACnCwW,EAAI/U,UAAY,8CAChB,IAAIy5G,EAAcz/G,EAAGuE,UAAU,eACL,iBAAfk7G,IAAyBA,EAAc57G,SAASkC,eAAe05G,IAC1E1kG,EAAIjV,YAAY25G,GAChBz/G,EAAG+D,QAAQ65B,UAAU/C,aAAa9f,EAAK/a,EAAG+D,QAAQ65B,UAAUhjB,YAG9D,SAAS8kG,EAAc1/G,GACrBgT,YAAW,WACT,IAAIhK,GAAQ,EACZ,GAAsB,GAAlBhJ,EAAGgnD,YAAkB,CACvB,IAAIhvB,EAAQh4B,EAAG66D,gBACf7xD,EAA0B,YAAlBgvB,EAAMie,UAA0Bj2C,EAAGuoB,QAAQ,GAAGrsB,QACjD,YAAYiG,KAAK61B,EAAMl0B,cAAc,oBAAoBmgE,aAE5Dj7D,EAAOw2G,EAAex/G,GACrBu/G,EAAiBv/G,KACrB,IAGL,SAASkrC,EAAOlrC,GACVqf,EAAQrf,IAAKw/G,EAAex/G,GAElC,SAAS2/G,EAAS3/G,GAChB,IAAIgE,EAAUhE,EAAGkR,oBAAqBlI,EAAQqW,EAAQrf,GACtDgE,EAAQgC,UAAYhC,EAAQgC,UAAUnH,QAAQ,oBAAqB,KAAOmK,EAAQ,oBAAsB,IAEpGA,EAAOw2G,EAAex/G,GACrBu/G,EAAiBv/G,GAGxB,SAASqf,EAAQrf,GACf,OAA2B,IAAnBA,EAAGgnD,aAAyC,KAAlBhnD,EAAGuoB,QAAQ,GAhE/C/pB,EAAWsI,aAAa,cAAe,IAAI,SAAS9G,EAAI2H,EAAKC,GAC3D,IAAI7L,EAAO6L,GAAOA,GAAOpJ,EAAWqJ,KACpC,GAAIF,IAAQ5L,EACViE,EAAGoS,GAAG,OAAQ84B,GACdlrC,EAAGoS,GAAG,SAAUutG,GAChB3/G,EAAGoS,GAAG,UAAWutG,GACjBnhH,EAAW4T,GAAGpS,EAAG66D,gBAAiB,oBAAqB76D,EAAGC,MAAM2/G,mBAAqB,WAAaF,EAAc1/G,KAChH2/G,EAAS3/G,QACJ,IAAK2H,GAAO5L,EAAM,CACvBiE,EAAGmjB,IAAI,OAAQ+nB,GACflrC,EAAGmjB,IAAI,SAAUw8F,GACjB3/G,EAAGmjB,IAAI,UAAWw8F,GAClBnhH,EAAW2kB,IAAInjB,EAAG66D,gBAAiB,oBAAqB76D,EAAGC,MAAM2/G,oBACjEL,EAAiBv/G,GACjB,IAAIgE,EAAUhE,EAAGkR,oBACjBlN,EAAQgC,UAAYhC,EAAQgC,UAAUnH,QAAQ,oBAAqB,IAGjE8I,IAAQ3H,EAAGirC,YAAYC,EAAOlrC,U,mBC7BtC,IAAI8T,EAAW,GAAGA,SAElB5W,EAAOC,QAAUmS,MAAM24E,SAAW,SAAUj4E,GAC1C,MAA6B,kBAAtB8D,EAASC,KAAK/D,K,4CCHvB,IAAImD,EAAI,EAAQ,QACZrU,EAAS,EAAQ,QACjB+gH,EAAa,EAAQ,QACrBrjG,EAAQ,EAAQ,QAChBm/D,EAAc,EAAQ,QACtBM,EAAQ,EAAQ,QAEhB3sE,EAAQxQ,EAAOwQ,MACfwwG,EAAaD,EAAW,OAAQ,aAChCvgH,EAAOq8E,EAAY,IAAIr8E,MACvBxC,EAAS6+E,EAAY,GAAG7+E,QACxB0S,EAAamsE,EAAY,GAAGnsE,YAC5B3Q,EAAU88E,EAAY,GAAG98E,SACzBkhH,EAAiBpkC,EAAY,GAAI7nE,UAEjCksG,EAAS,mBACTC,EAAM,oBACNzC,EAAK,oBAEL0C,EAAM,SAAU7gH,EAAOwyB,EAAQtyB,GACjC,IAAIxD,EAAOe,EAAOyC,EAAQsyB,EAAS,GAC/BpnB,EAAO3N,EAAOyC,EAAQsyB,EAAS,GACnC,OAAKvyB,EAAK2gH,EAAK5gH,KAAWC,EAAKk+G,EAAI/yG,IAAWnL,EAAKk+G,EAAIn+G,KAAWC,EAAK2gH,EAAKlkH,GACnE,MAAQgkH,EAAevwG,EAAWnQ,EAAO,GAAI,IAC7CA,GAGP8gH,EAASlkC,GAAM,WACjB,MAAsC,qBAA/B6jC,EAAW,iBACY,cAAzBA,EAAW,aAGdA,GAIF3sG,EAAE,CAAEC,OAAQ,OAAQC,MAAM,EAAMkqE,OAAQ4iC,GAAU,CAEhD/2B,UAAW,SAAmBg3B,EAAIC,EAAUh6E,GAC1C,IAAK,IAAIhqC,EAAI,EAAGkb,EAAI3R,UAAU1J,OAAQqgB,EAAOjN,EAAMiI,GAAIlb,EAAIkb,EAAGlb,IAAKkgB,EAAKlgB,GAAKuJ,UAAUvJ,GACvF,IAAIsY,EAAS6H,EAAMsjG,EAAY,KAAMvjG,GACrC,MAAwB,iBAAV5H,EAAqB9V,EAAQ8V,EAAQqrG,EAAQE,GAAOvrG,M","file":"js/codepair.c1b873d9.js","sourcesContent":["'use strict';\n\nvar alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split('')\n  , length = 64\n  , map = {}\n  , seed = 0\n  , i = 0\n  , prev;\n\n/**\n * Return a string representing the specified number.\n *\n * @param {Number} num The number to convert.\n * @returns {String} The string representation of the number.\n * @api public\n */\nfunction encode(num) {\n  var encoded = '';\n\n  do {\n    encoded = alphabet[num % length] + encoded;\n    num = Math.floor(num / length);\n  } while (num > 0);\n\n  return encoded;\n}\n\n/**\n * Return the integer value specified by the given string.\n *\n * @param {String} str The string to convert.\n * @returns {Number} The integer value represented by the string.\n * @api public\n */\nfunction decode(str) {\n  var decoded = 0;\n\n  for (i = 0; i < str.length; i++) {\n    decoded = decoded * length + map[str.charAt(i)];\n  }\n\n  return decoded;\n}\n\n/**\n * Yeast: A tiny growing id generator.\n *\n * @returns {String} A unique id.\n * @api public\n */\nfunction yeast() {\n  var now = encode(+new Date());\n\n  if (now !== prev) return seed = 0, prev = now;\n  return now +'.'+ encode(seed++);\n}\n\n//\n// Map each character to its index.\n//\nfor (; i < length; i++) map[alphabet[i]] = i;\n\n//\n// Expose the `yeast`, `encode` and `decode` functions.\n//\nyeast.encode = encode;\nyeast.decode = decode;\nmodule.exports = yeast;\n","\n/**\n * Expose `Backoff`.\n */\n\nmodule.exports = Backoff;\n\n/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction Backoff(opts) {\n  opts = opts || {};\n  this.ms = opts.min || 100;\n  this.max = opts.max || 10000;\n  this.factor = opts.factor || 2;\n  this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n  this.attempts = 0;\n}\n\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\n\nBackoff.prototype.duration = function(){\n  var ms = this.ms * Math.pow(this.factor, this.attempts++);\n  if (this.jitter) {\n    var rand =  Math.random();\n    var deviation = Math.floor(rand * this.jitter * ms);\n    ms = (Math.floor(rand * 10) & 1) == 0  ? ms - deviation : ms + deviation;\n  }\n  return Math.min(ms, this.max) | 0;\n};\n\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\n\nBackoff.prototype.reset = function(){\n  this.attempts = 0;\n};\n\n/**\n * Set the minimum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMin = function(min){\n  this.ms = min;\n};\n\n/**\n * Set the maximum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMax = function(max){\n  this.max = max;\n};\n\n/**\n * Set the jitter\n *\n * @api public\n */\n\nBackoff.prototype.setJitter = function(jitter){\n  this.jitter = jitter;\n};\n\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// Define search commands. Depends on dialog.js or another\n// implementation of the openDialog method.\n\n// Replace works a little oddly -- it will do the replace on the next\n// Ctrl-G (or whatever is bound to findNext) press. You prevent a\n// replace by making sure the match is no longer selected when hitting\n// Ctrl-G.\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"./searchcursor\"), require(\"../dialog/dialog\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"./searchcursor\", \"../dialog/dialog\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  // default search panel location\n  CodeMirror.defineOption(\"search\", {bottom: false});\n\n  function searchOverlay(query, caseInsensitive) {\n    if (typeof query == \"string\")\n      query = new RegExp(query.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\"), caseInsensitive ? \"gi\" : \"g\");\n    else if (!query.global)\n      query = new RegExp(query.source, query.ignoreCase ? \"gi\" : \"g\");\n\n    return {token: function(stream) {\n      query.lastIndex = stream.pos;\n      var match = query.exec(stream.string);\n      if (match && match.index == stream.pos) {\n        stream.pos += match[0].length || 1;\n        return \"searching\";\n      } else if (match) {\n        stream.pos = match.index;\n      } else {\n        stream.skipToEnd();\n      }\n    }};\n  }\n\n  function SearchState() {\n    this.posFrom = this.posTo = this.lastQuery = this.query = null;\n    this.overlay = null;\n  }\n\n  function getSearchState(cm) {\n    return cm.state.search || (cm.state.search = new SearchState());\n  }\n\n  function queryCaseInsensitive(query) {\n    return typeof query == \"string\" && query == query.toLowerCase();\n  }\n\n  function getSearchCursor(cm, query, pos) {\n    // Heuristic: if the query string is all lowercase, do a case insensitive search.\n    return cm.getSearchCursor(query, pos, {caseFold: queryCaseInsensitive(query), multiline: true});\n  }\n\n  function persistentDialog(cm, text, deflt, onEnter, onKeyDown) {\n    cm.openDialog(text, onEnter, {\n      value: deflt,\n      selectValueOnOpen: true,\n      closeOnEnter: false,\n      onClose: function() { clearSearch(cm); },\n      onKeyDown: onKeyDown,\n      bottom: cm.options.search.bottom\n    });\n  }\n\n  function dialog(cm, text, shortText, deflt, f) {\n    if (cm.openDialog) cm.openDialog(text, f, {value: deflt, selectValueOnOpen: true, bottom: cm.options.search.bottom});\n    else f(prompt(shortText, deflt));\n  }\n\n  function confirmDialog(cm, text, shortText, fs) {\n    if (cm.openConfirm) cm.openConfirm(text, fs);\n    else if (confirm(shortText)) fs[0]();\n  }\n\n  function parseString(string) {\n    return string.replace(/\\\\([nrt\\\\])/g, function(match, ch) {\n      if (ch == \"n\") return \"\\n\"\n      if (ch == \"r\") return \"\\r\"\n      if (ch == \"t\") return \"\\t\"\n      if (ch == \"\\\\\") return \"\\\\\"\n      return match\n    })\n  }\n\n  function parseQuery(query) {\n    var isRE = query.match(/^\\/(.*)\\/([a-z]*)$/);\n    if (isRE) {\n      try { query = new RegExp(isRE[1], isRE[2].indexOf(\"i\") == -1 ? \"\" : \"i\"); }\n      catch(e) {} // Not a regular expression after all, do a string search\n    } else {\n      query = parseString(query)\n    }\n    if (typeof query == \"string\" ? query == \"\" : query.test(\"\"))\n      query = /x^/;\n    return query;\n  }\n\n  function startSearch(cm, state, query) {\n    state.queryText = query;\n    state.query = parseQuery(query);\n    cm.removeOverlay(state.overlay, queryCaseInsensitive(state.query));\n    state.overlay = searchOverlay(state.query, queryCaseInsensitive(state.query));\n    cm.addOverlay(state.overlay);\n    if (cm.showMatchesOnScrollbar) {\n      if (state.annotate) { state.annotate.clear(); state.annotate = null; }\n      state.annotate = cm.showMatchesOnScrollbar(state.query, queryCaseInsensitive(state.query));\n    }\n  }\n\n  function doSearch(cm, rev, persistent, immediate) {\n    var state = getSearchState(cm);\n    if (state.query) return findNext(cm, rev);\n    var q = cm.getSelection() || state.lastQuery;\n    if (q instanceof RegExp && q.source == \"x^\") q = null\n    if (persistent && cm.openDialog) {\n      var hiding = null\n      var searchNext = function(query, event) {\n        CodeMirror.e_stop(event);\n        if (!query) return;\n        if (query != state.queryText) {\n          startSearch(cm, state, query);\n          state.posFrom = state.posTo = cm.getCursor();\n        }\n        if (hiding) hiding.style.opacity = 1\n        findNext(cm, event.shiftKey, function(_, to) {\n          var dialog\n          if (to.line < 3 && document.querySelector &&\n              (dialog = cm.display.wrapper.querySelector(\".CodeMirror-dialog\")) &&\n              dialog.getBoundingClientRect().bottom - 4 > cm.cursorCoords(to, \"window\").top)\n            (hiding = dialog).style.opacity = .4\n        })\n      };\n      persistentDialog(cm, getQueryDialog(cm), q, searchNext, function(event, query) {\n        var keyName = CodeMirror.keyName(event)\n        var extra = cm.getOption('extraKeys'), cmd = (extra && extra[keyName]) || CodeMirror.keyMap[cm.getOption(\"keyMap\")][keyName]\n        if (cmd == \"findNext\" || cmd == \"findPrev\" ||\n          cmd == \"findPersistentNext\" || cmd == \"findPersistentPrev\") {\n          CodeMirror.e_stop(event);\n          startSearch(cm, getSearchState(cm), query);\n          cm.execCommand(cmd);\n        } else if (cmd == \"find\" || cmd == \"findPersistent\") {\n          CodeMirror.e_stop(event);\n          searchNext(query, event);\n        }\n      });\n      if (immediate && q) {\n        startSearch(cm, state, q);\n        findNext(cm, rev);\n      }\n    } else {\n      dialog(cm, getQueryDialog(cm), \"Search for:\", q, function(query) {\n        if (query && !state.query) cm.operation(function() {\n          startSearch(cm, state, query);\n          state.posFrom = state.posTo = cm.getCursor();\n          findNext(cm, rev);\n        });\n      });\n    }\n  }\n\n  function findNext(cm, rev, callback) {cm.operation(function() {\n    var state = getSearchState(cm);\n    var cursor = getSearchCursor(cm, state.query, rev ? state.posFrom : state.posTo);\n    if (!cursor.find(rev)) {\n      cursor = getSearchCursor(cm, state.query, rev ? CodeMirror.Pos(cm.lastLine()) : CodeMirror.Pos(cm.firstLine(), 0));\n      if (!cursor.find(rev)) return;\n    }\n    cm.setSelection(cursor.from(), cursor.to());\n    cm.scrollIntoView({from: cursor.from(), to: cursor.to()}, 20);\n    state.posFrom = cursor.from(); state.posTo = cursor.to();\n    if (callback) callback(cursor.from(), cursor.to())\n  });}\n\n  function clearSearch(cm) {cm.operation(function() {\n    var state = getSearchState(cm);\n    state.lastQuery = state.query;\n    if (!state.query) return;\n    state.query = state.queryText = null;\n    cm.removeOverlay(state.overlay);\n    if (state.annotate) { state.annotate.clear(); state.annotate = null; }\n  });}\n\n  function el(tag, attrs) {\n    var element = tag ? document.createElement(tag) : document.createDocumentFragment();\n    for (var key in attrs) {\n      element[key] = attrs[key];\n    }\n    for (var i = 2; i < arguments.length; i++) {\n      var child = arguments[i]\n      element.appendChild(typeof child == \"string\" ? document.createTextNode(child) : child);\n    }\n    return element;\n  }\n\n  function getQueryDialog(cm)  {\n    return el(\"\", null,\n              el(\"span\", {className: \"CodeMirror-search-label\"}, cm.phrase(\"Search:\")), \" \",\n              el(\"input\", {type: \"text\", \"style\": \"width: 10em\", className: \"CodeMirror-search-field\"}), \" \",\n              el(\"span\", {style: \"color: #888\", className: \"CodeMirror-search-hint\"},\n                 cm.phrase(\"(Use /re/ syntax for regexp search)\")));\n  }\n  function getReplaceQueryDialog(cm) {\n    return el(\"\", null, \" \",\n              el(\"input\", {type: \"text\", \"style\": \"width: 10em\", className: \"CodeMirror-search-field\"}), \" \",\n              el(\"span\", {style: \"color: #888\", className: \"CodeMirror-search-hint\"},\n                 cm.phrase(\"(Use /re/ syntax for regexp search)\")));\n  }\n  function getReplacementQueryDialog(cm) {\n    return el(\"\", null,\n              el(\"span\", {className: \"CodeMirror-search-label\"}, cm.phrase(\"With:\")), \" \",\n              el(\"input\", {type: \"text\", \"style\": \"width: 10em\", className: \"CodeMirror-search-field\"}));\n  }\n  function getDoReplaceConfirm(cm) {\n    return el(\"\", null,\n              el(\"span\", {className: \"CodeMirror-search-label\"}, cm.phrase(\"Replace?\")), \" \",\n              el(\"button\", {}, cm.phrase(\"Yes\")), \" \",\n              el(\"button\", {}, cm.phrase(\"No\")), \" \",\n              el(\"button\", {}, cm.phrase(\"All\")), \" \",\n              el(\"button\", {}, cm.phrase(\"Stop\")));\n  }\n\n  function replaceAll(cm, query, text) {\n    cm.operation(function() {\n      for (var cursor = getSearchCursor(cm, query); cursor.findNext();) {\n        if (typeof query != \"string\") {\n          var match = cm.getRange(cursor.from(), cursor.to()).match(query);\n          cursor.replace(text.replace(/\\$(\\d)/g, function(_, i) {return match[i];}));\n        } else cursor.replace(text);\n      }\n    });\n  }\n\n  function replace(cm, all) {\n    if (cm.getOption(\"readOnly\")) return;\n    var query = cm.getSelection() || getSearchState(cm).lastQuery;\n    var dialogText = all ? cm.phrase(\"Replace all:\") : cm.phrase(\"Replace:\")\n    var fragment = el(\"\", null,\n                      el(\"span\", {className: \"CodeMirror-search-label\"}, dialogText),\n                      getReplaceQueryDialog(cm))\n    dialog(cm, fragment, dialogText, query, function(query) {\n      if (!query) return;\n      query = parseQuery(query);\n      dialog(cm, getReplacementQueryDialog(cm), cm.phrase(\"Replace with:\"), \"\", function(text) {\n        text = parseString(text)\n        if (all) {\n          replaceAll(cm, query, text)\n        } else {\n          clearSearch(cm);\n          var cursor = getSearchCursor(cm, query, cm.getCursor(\"from\"));\n          var advance = function() {\n            var start = cursor.from(), match;\n            if (!(match = cursor.findNext())) {\n              cursor = getSearchCursor(cm, query);\n              if (!(match = cursor.findNext()) ||\n                  (start && cursor.from().line == start.line && cursor.from().ch == start.ch)) return;\n            }\n            cm.setSelection(cursor.from(), cursor.to());\n            cm.scrollIntoView({from: cursor.from(), to: cursor.to()});\n            confirmDialog(cm, getDoReplaceConfirm(cm), cm.phrase(\"Replace?\"),\n                          [function() {doReplace(match);}, advance,\n                           function() {replaceAll(cm, query, text)}]);\n          };\n          var doReplace = function(match) {\n            cursor.replace(typeof query == \"string\" ? text :\n                           text.replace(/\\$(\\d)/g, function(_, i) {return match[i];}));\n            advance();\n          };\n          advance();\n        }\n      });\n    });\n  }\n\n  CodeMirror.commands.find = function(cm) {clearSearch(cm); doSearch(cm);};\n  CodeMirror.commands.findPersistent = function(cm) {clearSearch(cm); doSearch(cm, false, true);};\n  CodeMirror.commands.findPersistentNext = function(cm) {doSearch(cm, false, true, true);};\n  CodeMirror.commands.findPersistentPrev = function(cm) {doSearch(cm, true, true, true);};\n  CodeMirror.commands.findNext = doSearch;\n  CodeMirror.commands.findPrev = function(cm) {doSearch(cm, true);};\n  CodeMirror.commands.clearSearch = clearSearch;\n  CodeMirror.commands.replace = replace;\n  CodeMirror.commands.replaceAll = function(cm) {replace(cm, true);};\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  var defaults = {\n    pairs: \"()[]{}''\\\"\\\"\",\n    closeBefore: \")]}'\\\":;>\",\n    triples: \"\",\n    explode: \"[]{}\"\n  };\n\n  var Pos = CodeMirror.Pos;\n\n  CodeMirror.defineOption(\"autoCloseBrackets\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      cm.removeKeyMap(keyMap);\n      cm.state.closeBrackets = null;\n    }\n    if (val) {\n      ensureBound(getOption(val, \"pairs\"))\n      cm.state.closeBrackets = val;\n      cm.addKeyMap(keyMap);\n    }\n  });\n\n  function getOption(conf, name) {\n    if (name == \"pairs\" && typeof conf == \"string\") return conf;\n    if (typeof conf == \"object\" && conf[name] != null) return conf[name];\n    return defaults[name];\n  }\n\n  var keyMap = {Backspace: handleBackspace, Enter: handleEnter};\n  function ensureBound(chars) {\n    for (var i = 0; i < chars.length; i++) {\n      var ch = chars.charAt(i), key = \"'\" + ch + \"'\"\n      if (!keyMap[key]) keyMap[key] = handler(ch)\n    }\n  }\n  ensureBound(defaults.pairs + \"`\")\n\n  function handler(ch) {\n    return function(cm) { return handleChar(cm, ch); };\n  }\n\n  function getConfig(cm) {\n    var deflt = cm.state.closeBrackets;\n    if (!deflt || deflt.override) return deflt;\n    var mode = cm.getModeAt(cm.getCursor());\n    return mode.closeBrackets || deflt;\n  }\n\n  function handleBackspace(cm) {\n    var conf = getConfig(cm);\n    if (!conf || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n\n    var pairs = getOption(conf, \"pairs\");\n    var ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++) {\n      if (!ranges[i].empty()) return CodeMirror.Pass;\n      var around = charsAround(cm, ranges[i].head);\n      if (!around || pairs.indexOf(around) % 2 != 0) return CodeMirror.Pass;\n    }\n    for (var i = ranges.length - 1; i >= 0; i--) {\n      var cur = ranges[i].head;\n      cm.replaceRange(\"\", Pos(cur.line, cur.ch - 1), Pos(cur.line, cur.ch + 1), \"+delete\");\n    }\n  }\n\n  function handleEnter(cm) {\n    var conf = getConfig(cm);\n    var explode = conf && getOption(conf, \"explode\");\n    if (!explode || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n\n    var ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++) {\n      if (!ranges[i].empty()) return CodeMirror.Pass;\n      var around = charsAround(cm, ranges[i].head);\n      if (!around || explode.indexOf(around) % 2 != 0) return CodeMirror.Pass;\n    }\n    cm.operation(function() {\n      var linesep = cm.lineSeparator() || \"\\n\";\n      cm.replaceSelection(linesep + linesep, null);\n      moveSel(cm, -1)\n      ranges = cm.listSelections();\n      for (var i = 0; i < ranges.length; i++) {\n        var line = ranges[i].head.line;\n        cm.indentLine(line, null, true);\n        cm.indentLine(line + 1, null, true);\n      }\n    });\n  }\n\n  function moveSel(cm, dir) {\n    var newRanges = [], ranges = cm.listSelections(), primary = 0\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i]\n      if (range.head == cm.getCursor()) primary = i\n      var pos = range.head.ch || dir > 0 ? {line: range.head.line, ch: range.head.ch + dir} : {line: range.head.line - 1}\n      newRanges.push({anchor: pos, head: pos})\n    }\n    cm.setSelections(newRanges, primary)\n  }\n\n  function contractSelection(sel) {\n    var inverted = CodeMirror.cmpPos(sel.anchor, sel.head) > 0;\n    return {anchor: new Pos(sel.anchor.line, sel.anchor.ch + (inverted ? -1 : 1)),\n            head: new Pos(sel.head.line, sel.head.ch + (inverted ? 1 : -1))};\n  }\n\n  function handleChar(cm, ch) {\n    var conf = getConfig(cm);\n    if (!conf || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n\n    var pairs = getOption(conf, \"pairs\");\n    var pos = pairs.indexOf(ch);\n    if (pos == -1) return CodeMirror.Pass;\n\n    var closeBefore = getOption(conf,\"closeBefore\");\n\n    var triples = getOption(conf, \"triples\");\n\n    var identical = pairs.charAt(pos + 1) == ch;\n    var ranges = cm.listSelections();\n    var opening = pos % 2 == 0;\n\n    var type;\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i], cur = range.head, curType;\n      var next = cm.getRange(cur, Pos(cur.line, cur.ch + 1));\n      if (opening && !range.empty()) {\n        curType = \"surround\";\n      } else if ((identical || !opening) && next == ch) {\n        if (identical && stringStartsAfter(cm, cur))\n          curType = \"both\";\n        else if (triples.indexOf(ch) >= 0 && cm.getRange(cur, Pos(cur.line, cur.ch + 3)) == ch + ch + ch)\n          curType = \"skipThree\";\n        else\n          curType = \"skip\";\n      } else if (identical && cur.ch > 1 && triples.indexOf(ch) >= 0 &&\n                 cm.getRange(Pos(cur.line, cur.ch - 2), cur) == ch + ch) {\n        if (cur.ch > 2 && /\\bstring/.test(cm.getTokenTypeAt(Pos(cur.line, cur.ch - 2)))) return CodeMirror.Pass;\n        curType = \"addFour\";\n      } else if (identical) {\n        var prev = cur.ch == 0 ? \" \" : cm.getRange(Pos(cur.line, cur.ch - 1), cur)\n        if (!CodeMirror.isWordChar(next) && prev != ch && !CodeMirror.isWordChar(prev)) curType = \"both\";\n        else return CodeMirror.Pass;\n      } else if (opening && (next.length === 0 || /\\s/.test(next) || closeBefore.indexOf(next) > -1)) {\n        curType = \"both\";\n      } else {\n        return CodeMirror.Pass;\n      }\n      if (!type) type = curType;\n      else if (type != curType) return CodeMirror.Pass;\n    }\n\n    var left = pos % 2 ? pairs.charAt(pos - 1) : ch;\n    var right = pos % 2 ? ch : pairs.charAt(pos + 1);\n    cm.operation(function() {\n      if (type == \"skip\") {\n        moveSel(cm, 1)\n      } else if (type == \"skipThree\") {\n        moveSel(cm, 3)\n      } else if (type == \"surround\") {\n        var sels = cm.getSelections();\n        for (var i = 0; i < sels.length; i++)\n          sels[i] = left + sels[i] + right;\n        cm.replaceSelections(sels, \"around\");\n        sels = cm.listSelections().slice();\n        for (var i = 0; i < sels.length; i++)\n          sels[i] = contractSelection(sels[i]);\n        cm.setSelections(sels);\n      } else if (type == \"both\") {\n        cm.replaceSelection(left + right, null);\n        cm.triggerElectric(left + right);\n        moveSel(cm, -1)\n      } else if (type == \"addFour\") {\n        cm.replaceSelection(left + left + left + left, \"before\");\n        moveSel(cm, 1)\n      }\n    });\n  }\n\n  function charsAround(cm, pos) {\n    var str = cm.getRange(Pos(pos.line, pos.ch - 1),\n                          Pos(pos.line, pos.ch + 1));\n    return str.length == 2 ? str : null;\n  }\n\n  function stringStartsAfter(cm, pos) {\n    var token = cm.getTokenAt(Pos(pos.line, pos.ch + 1))\n    return /\\bstring/.test(token.type) && token.start == pos.ch &&\n      (pos.ch == 0 || !/\\bstring/.test(cm.getTokenTypeAt(pos)))\n  }\n});\n","// `SameValue` abstract operation\n// https://tc39.es/ecma262/#sec-samevalue\n// eslint-disable-next-line es/no-object-is -- safe\nmodule.exports = Object.is || function is(x, y) {\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n","import { Transport } from \"../transport.js\";\nimport parseqs from \"parseqs\";\nimport yeast from \"yeast\";\nimport { pick } from \"../util.js\";\nimport { defaultBinaryType, nextTick, usingBrowserWebSocket, WebSocket } from \"./websocket-constructor.js\";\nimport { encodePacket } from \"engine.io-parser\";\n// detect ReactNative environment\nconst isReactNative = typeof navigator !== \"undefined\" &&\n    typeof navigator.product === \"string\" &&\n    navigator.product.toLowerCase() === \"reactnative\";\nexport class WS extends Transport {\n    /**\n     * WebSocket transport constructor.\n     *\n     * @api {Object} connection options\n     * @api public\n     */\n    constructor(opts) {\n        super(opts);\n        this.supportsBinary = !opts.forceBase64;\n    }\n    /**\n     * Transport name.\n     *\n     * @api public\n     */\n    get name() {\n        return \"websocket\";\n    }\n    /**\n     * Opens socket.\n     *\n     * @api private\n     */\n    doOpen() {\n        if (!this.check()) {\n            // let probe timeout\n            return;\n        }\n        const uri = this.uri();\n        const protocols = this.opts.protocols;\n        // React Native only supports the 'headers' option, and will print a warning if anything else is passed\n        const opts = isReactNative\n            ? {}\n            : pick(this.opts, \"agent\", \"perMessageDeflate\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"localAddress\", \"protocolVersion\", \"origin\", \"maxPayload\", \"family\", \"checkServerIdentity\");\n        if (this.opts.extraHeaders) {\n            opts.headers = this.opts.extraHeaders;\n        }\n        try {\n            this.ws =\n                usingBrowserWebSocket && !isReactNative\n                    ? protocols\n                        ? new WebSocket(uri, protocols)\n                        : new WebSocket(uri)\n                    : new WebSocket(uri, protocols, opts);\n        }\n        catch (err) {\n            return this.emit(\"error\", err);\n        }\n        this.ws.binaryType = this.socket.binaryType || defaultBinaryType;\n        this.addEventListeners();\n    }\n    /**\n     * Adds event listeners to the socket\n     *\n     * @api private\n     */\n    addEventListeners() {\n        this.ws.onopen = () => {\n            if (this.opts.autoUnref) {\n                this.ws._socket.unref();\n            }\n            this.onOpen();\n        };\n        this.ws.onclose = this.onClose.bind(this);\n        this.ws.onmessage = ev => this.onData(ev.data);\n        this.ws.onerror = e => this.onError(\"websocket error\", e);\n    }\n    /**\n     * Writes data to socket.\n     *\n     * @param {Array} array of packets.\n     * @api private\n     */\n    write(packets) {\n        this.writable = false;\n        // encodePacket efficient as it uses WS framing\n        // no need for encodePayload\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            encodePacket(packet, this.supportsBinary, data => {\n                // always create a new object (GH-437)\n                const opts = {};\n                if (!usingBrowserWebSocket) {\n                    if (packet.options) {\n                        opts.compress = packet.options.compress;\n                    }\n                    if (this.opts.perMessageDeflate) {\n                        const len = \"string\" === typeof data ? Buffer.byteLength(data) : data.length;\n                        if (len < this.opts.perMessageDeflate.threshold) {\n                            opts.compress = false;\n                        }\n                    }\n                }\n                // Sometimes the websocket has already been closed but the browser didn't\n                // have a chance of informing us about it yet, in that case send will\n                // throw an error\n                try {\n                    if (usingBrowserWebSocket) {\n                        // TypeError is thrown when passing the second argument on Safari\n                        this.ws.send(data);\n                    }\n                    else {\n                        this.ws.send(data, opts);\n                    }\n                }\n                catch (e) {\n                }\n                if (lastPacket) {\n                    // fake drain\n                    // defer to next tick to allow Socket to clear writeBuffer\n                    nextTick(() => {\n                        this.writable = true;\n                        this.emit(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    /**\n     * Closes socket.\n     *\n     * @api private\n     */\n    doClose() {\n        if (typeof this.ws !== \"undefined\") {\n            this.ws.close();\n            this.ws = null;\n        }\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @api private\n     */\n    uri() {\n        let query = this.query || {};\n        const schema = this.opts.secure ? \"wss\" : \"ws\";\n        let port = \"\";\n        // avoid port if default for schema\n        if (this.opts.port &&\n            ((\"wss\" === schema && Number(this.opts.port) !== 443) ||\n                (\"ws\" === schema && Number(this.opts.port) !== 80))) {\n            port = \":\" + this.opts.port;\n        }\n        // append timestamp to URI\n        if (this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = yeast();\n        }\n        // communicate binary support capabilities\n        if (!this.supportsBinary) {\n            query.b64 = 1;\n        }\n        const encodedQuery = parseqs.encode(query);\n        const ipv6 = this.opts.hostname.indexOf(\":\") !== -1;\n        return (schema +\n            \"://\" +\n            (ipv6 ? \"[\" + this.opts.hostname + \"]\" : this.opts.hostname) +\n            port +\n            this.opts.path +\n            (encodedQuery.length ? \"?\" + encodedQuery : \"\"));\n    }\n    /**\n     * Feature detection for WebSocket.\n     *\n     * @return {Boolean} whether this transport is available.\n     * @api public\n     */\n    check() {\n        return (!!WebSocket &&\n            !(\"__initialize\" in WebSocket && this.name === WS.prototype.name));\n    }\n}\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","export default (() => {\n    if (typeof self !== \"undefined\") {\n        return self;\n    }\n    else if (typeof window !== \"undefined\") {\n        return window;\n    }\n    else {\n        return Function(\"return this\")();\n    }\n})();\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// Open simple dialogs on top of an editor. Relies on dialog.css.\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  function dialogDiv(cm, template, bottom) {\n    var wrap = cm.getWrapperElement();\n    var dialog;\n    dialog = wrap.appendChild(document.createElement(\"div\"));\n    if (bottom)\n      dialog.className = \"CodeMirror-dialog CodeMirror-dialog-bottom\";\n    else\n      dialog.className = \"CodeMirror-dialog CodeMirror-dialog-top\";\n\n    if (typeof template == \"string\") {\n      dialog.innerHTML = template;\n    } else { // Assuming it's a detached DOM element.\n      dialog.appendChild(template);\n    }\n    CodeMirror.addClass(wrap, 'dialog-opened');\n    return dialog;\n  }\n\n  function closeNotification(cm, newVal) {\n    if (cm.state.currentNotificationClose)\n      cm.state.currentNotificationClose();\n    cm.state.currentNotificationClose = newVal;\n  }\n\n  CodeMirror.defineExtension(\"openDialog\", function(template, callback, options) {\n    if (!options) options = {};\n\n    closeNotification(this, null);\n\n    var dialog = dialogDiv(this, template, options.bottom);\n    var closed = false, me = this;\n    function close(newVal) {\n      if (typeof newVal == 'string') {\n        inp.value = newVal;\n      } else {\n        if (closed) return;\n        closed = true;\n        CodeMirror.rmClass(dialog.parentNode, 'dialog-opened');\n        dialog.parentNode.removeChild(dialog);\n        me.focus();\n\n        if (options.onClose) options.onClose(dialog);\n      }\n    }\n\n    var inp = dialog.getElementsByTagName(\"input\")[0], button;\n    if (inp) {\n      inp.focus();\n\n      if (options.value) {\n        inp.value = options.value;\n        if (options.selectValueOnOpen !== false) {\n          inp.select();\n        }\n      }\n\n      if (options.onInput)\n        CodeMirror.on(inp, \"input\", function(e) { options.onInput(e, inp.value, close);});\n      if (options.onKeyUp)\n        CodeMirror.on(inp, \"keyup\", function(e) {options.onKeyUp(e, inp.value, close);});\n\n      CodeMirror.on(inp, \"keydown\", function(e) {\n        if (options && options.onKeyDown && options.onKeyDown(e, inp.value, close)) { return; }\n        if (e.keyCode == 27 || (options.closeOnEnter !== false && e.keyCode == 13)) {\n          inp.blur();\n          CodeMirror.e_stop(e);\n          close();\n        }\n        if (e.keyCode == 13) callback(inp.value, e);\n      });\n\n      if (options.closeOnBlur !== false) CodeMirror.on(dialog, \"focusout\", function (evt) {\n        if (evt.relatedTarget !== null) close();\n      });\n    } else if (button = dialog.getElementsByTagName(\"button\")[0]) {\n      CodeMirror.on(button, \"click\", function() {\n        close();\n        me.focus();\n      });\n\n      if (options.closeOnBlur !== false) CodeMirror.on(button, \"blur\", close);\n\n      button.focus();\n    }\n    return close;\n  });\n\n  CodeMirror.defineExtension(\"openConfirm\", function(template, callbacks, options) {\n    closeNotification(this, null);\n    var dialog = dialogDiv(this, template, options && options.bottom);\n    var buttons = dialog.getElementsByTagName(\"button\");\n    var closed = false, me = this, blurring = 1;\n    function close() {\n      if (closed) return;\n      closed = true;\n      CodeMirror.rmClass(dialog.parentNode, 'dialog-opened');\n      dialog.parentNode.removeChild(dialog);\n      me.focus();\n    }\n    buttons[0].focus();\n    for (var i = 0; i < buttons.length; ++i) {\n      var b = buttons[i];\n      (function(callback) {\n        CodeMirror.on(b, \"click\", function(e) {\n          CodeMirror.e_preventDefault(e);\n          close();\n          if (callback) callback(me);\n        });\n      })(callbacks[i]);\n      CodeMirror.on(b, \"blur\", function() {\n        --blurring;\n        setTimeout(function() { if (blurring <= 0) close(); }, 200);\n      });\n      CodeMirror.on(b, \"focus\", function() { ++blurring; });\n    }\n  });\n\n  /*\n   * openNotification\n   * Opens a notification, that can be closed with an optional timer\n   * (default 5000ms timer) and always closes on click.\n   *\n   * If a notification is opened while another is opened, it will close the\n   * currently opened one and open the new one immediately.\n   */\n  CodeMirror.defineExtension(\"openNotification\", function(template, options) {\n    closeNotification(this, close);\n    var dialog = dialogDiv(this, template, options && options.bottom);\n    var closed = false, doneTimer;\n    var duration = options && typeof options.duration !== \"undefined\" ? options.duration : 5000;\n\n    function close() {\n      if (closed) return;\n      closed = true;\n      clearTimeout(doneTimer);\n      CodeMirror.rmClass(dialog.parentNode, 'dialog-opened');\n      dialog.parentNode.removeChild(dialog);\n    }\n\n    CodeMirror.on(dialog, 'click', function(e) {\n      CodeMirror.e_preventDefault(e);\n      close();\n    });\n\n    if (duration)\n      doneTimer = setTimeout(close, duration);\n\n    return close;\n  });\n});\n","var $ = require('../internals/export');\nvar is = require('../internals/same-value');\n\n// `Object.is` method\n// https://tc39.es/ecma262/#sec-object.is\n$({ target: 'Object', stat: true }, {\n  is: is\n});\n","const PACKET_TYPES = Object.create(null); // no Map = no polyfill\nPACKET_TYPES[\"open\"] = \"0\";\nPACKET_TYPES[\"close\"] = \"1\";\nPACKET_TYPES[\"ping\"] = \"2\";\nPACKET_TYPES[\"pong\"] = \"3\";\nPACKET_TYPES[\"message\"] = \"4\";\nPACKET_TYPES[\"upgrade\"] = \"5\";\nPACKET_TYPES[\"noop\"] = \"6\";\nconst PACKET_TYPES_REVERSE = Object.create(null);\nObject.keys(PACKET_TYPES).forEach(key => {\n    PACKET_TYPES_REVERSE[PACKET_TYPES[key]] = key;\n});\nconst ERROR_PACKET = { type: \"error\", data: \"parser error\" };\nexport { PACKET_TYPES, PACKET_TYPES_REVERSE, ERROR_PACKET };\n","import { PACKET_TYPES } from \"./commons.js\";\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        Object.prototype.toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\n// ArrayBuffer.isView method is not defined in IE10\nconst isView = obj => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj && obj.buffer instanceof ArrayBuffer;\n};\nconst encodePacket = ({ type, data }, supportsBinary, callback) => {\n    if (withNativeBlob && data instanceof Blob) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(data, callback);\n        }\n    }\n    else if (withNativeArrayBuffer &&\n        (data instanceof ArrayBuffer || isView(data))) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(new Blob([data]), callback);\n        }\n    }\n    // plain string\n    return callback(PACKET_TYPES[type] + (data || \"\"));\n};\nconst encodeBlobAsBase64 = (data, callback) => {\n    const fileReader = new FileReader();\n    fileReader.onload = function () {\n        const content = fileReader.result.split(\",\")[1];\n        callback(\"b\" + content);\n    };\n    return fileReader.readAsDataURL(data);\n};\nexport default encodePacket;\n","/*\n * base64-arraybuffer 1.0.1 <https://github.com/niklasvh/base64-arraybuffer>\n * Copyright (c) 2021 Niklas von Hertzen <https://hertzen.com>\n * Released under MIT License\n */\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n// Use a lookup table to find the index.\nvar lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (var i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\nvar encode = function (arraybuffer) {\n    var bytes = new Uint8Array(arraybuffer), i, len = bytes.length, base64 = '';\n    for (i = 0; i < len; i += 3) {\n        base64 += chars[bytes[i] >> 2];\n        base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n        base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n        base64 += chars[bytes[i + 2] & 63];\n    }\n    if (len % 3 === 2) {\n        base64 = base64.substring(0, base64.length - 1) + '=';\n    }\n    else if (len % 3 === 1) {\n        base64 = base64.substring(0, base64.length - 2) + '==';\n    }\n    return base64;\n};\nvar decode = function (base64) {\n    var bufferLength = base64.length * 0.75, len = base64.length, i, p = 0, encoded1, encoded2, encoded3, encoded4;\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n    var arraybuffer = new ArrayBuffer(bufferLength), bytes = new Uint8Array(arraybuffer);\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n    return arraybuffer;\n};\n\nexport { decode, encode };\n//# sourceMappingURL=base64-arraybuffer.es5.js.map\n","import { ERROR_PACKET, PACKET_TYPES_REVERSE } from \"./commons.js\";\nimport { decode } from \"base64-arraybuffer\";\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst decodePacket = (encodedPacket, binaryType) => {\n    if (typeof encodedPacket !== \"string\") {\n        return {\n            type: \"message\",\n            data: mapBinary(encodedPacket, binaryType)\n        };\n    }\n    const type = encodedPacket.charAt(0);\n    if (type === \"b\") {\n        return {\n            type: \"message\",\n            data: decodeBase64Packet(encodedPacket.substring(1), binaryType)\n        };\n    }\n    const packetType = PACKET_TYPES_REVERSE[type];\n    if (!packetType) {\n        return ERROR_PACKET;\n    }\n    return encodedPacket.length > 1\n        ? {\n            type: PACKET_TYPES_REVERSE[type],\n            data: encodedPacket.substring(1)\n        }\n        : {\n            type: PACKET_TYPES_REVERSE[type]\n        };\n};\nconst decodeBase64Packet = (data, binaryType) => {\n    if (withNativeArrayBuffer) {\n        const decoded = decode(data);\n        return mapBinary(decoded, binaryType);\n    }\n    else {\n        return { base64: true, data }; // fallback for old browsers\n    }\n};\nconst mapBinary = (data, binaryType) => {\n    switch (binaryType) {\n        case \"blob\":\n            return data instanceof ArrayBuffer ? new Blob([data]) : data;\n        case \"arraybuffer\":\n        default:\n            return data; // assuming the data is already an ArrayBuffer\n    }\n};\nexport default decodePacket;\n","import encodePacket from \"./encodePacket.js\";\nimport decodePacket from \"./decodePacket.js\";\nconst SEPARATOR = String.fromCharCode(30); // see https://en.wikipedia.org/wiki/Delimiter#ASCII_delimited_text\nconst encodePayload = (packets, callback) => {\n    // some packets may be added to the array while encoding, so the initial length must be saved\n    const length = packets.length;\n    const encodedPackets = new Array(length);\n    let count = 0;\n    packets.forEach((packet, i) => {\n        // force base64 encoding for binary packets\n        encodePacket(packet, false, encodedPacket => {\n            encodedPackets[i] = encodedPacket;\n            if (++count === length) {\n                callback(encodedPackets.join(SEPARATOR));\n            }\n        });\n    });\n};\nconst decodePayload = (encodedPayload, binaryType) => {\n    const encodedPackets = encodedPayload.split(SEPARATOR);\n    const packets = [];\n    for (let i = 0; i < encodedPackets.length; i++) {\n        const decodedPacket = decodePacket(encodedPackets[i], binaryType);\n        packets.push(decodedPacket);\n        if (decodedPacket.type === \"error\") {\n            break;\n        }\n    }\n    return packets;\n};\nexport const protocol = 4;\nexport { encodePacket, encodePayload, decodePacket, decodePayload };\n","import { decodePacket } from \"engine.io-parser\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions } from \"./util.js\";\nexport class Transport extends Emitter {\n    /**\n     * Transport abstract constructor.\n     *\n     * @param {Object} options.\n     * @api private\n     */\n    constructor(opts) {\n        super();\n        this.writable = false;\n        installTimerFunctions(this, opts);\n        this.opts = opts;\n        this.query = opts.query;\n        this.readyState = \"\";\n        this.socket = opts.socket;\n    }\n    /**\n     * Emits an error.\n     *\n     * @param {String} str\n     * @return {Transport} for chaining\n     * @api protected\n     */\n    onError(msg, desc) {\n        const err = new Error(msg);\n        // @ts-ignore\n        err.type = \"TransportError\";\n        // @ts-ignore\n        err.description = desc;\n        super.emit(\"error\", err);\n        return this;\n    }\n    /**\n     * Opens the transport.\n     *\n     * @api public\n     */\n    open() {\n        if (\"closed\" === this.readyState || \"\" === this.readyState) {\n            this.readyState = \"opening\";\n            this.doOpen();\n        }\n        return this;\n    }\n    /**\n     * Closes the transport.\n     *\n     * @api public\n     */\n    close() {\n        if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n            this.doClose();\n            this.onClose();\n        }\n        return this;\n    }\n    /**\n     * Sends multiple packets.\n     *\n     * @param {Array} packets\n     * @api public\n     */\n    send(packets) {\n        if (\"open\" === this.readyState) {\n            this.write(packets);\n        }\n        else {\n            // this might happen if the transport was silently closed in the beforeunload event handler\n        }\n    }\n    /**\n     * Called upon open\n     *\n     * @api protected\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        this.writable = true;\n        super.emit(\"open\");\n    }\n    /**\n     * Called with data.\n     *\n     * @param {String} data\n     * @api protected\n     */\n    onData(data) {\n        const packet = decodePacket(data, this.socket.binaryType);\n        this.onPacket(packet);\n    }\n    /**\n     * Called with a decoded packet.\n     *\n     * @api protected\n     */\n    onPacket(packet) {\n        super.emit(\"packet\", packet);\n    }\n    /**\n     * Called upon close.\n     *\n     * @api protected\n     */\n    onClose() {\n        this.readyState = \"closed\";\n        super.emit(\"close\");\n    }\n}\n","'use strict';\nvar collection = require('../internals/collection');\nvar collectionStrong = require('../internals/collection-strong');\n\n// `Map` constructor\n// https://tc39.es/ecma262/#sec-map-objects\ncollection('Map', function (init) {\n  return function Map() { return init(this, arguments.length ? arguments[0] : undefined); };\n}, collectionStrong);\n","/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\n\nexports.encode = function (obj) {\n  var str = '';\n\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      if (str.length) str += '&';\n      str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n    }\n  }\n\n  return str;\n};\n\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\n\nexports.decode = function(qs){\n  var qry = {};\n  var pairs = qs.split('&');\n  for (var i = 0, l = pairs.length; i < l; i++) {\n    var pair = pairs[i].split('=');\n    qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n  }\n  return qry;\n};\n","/**\n * Parses an URI\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\n\nvar re = /^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\nvar parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\n\nmodule.exports = function parseuri(str) {\n    var src = str,\n        b = str.indexOf('['),\n        e = str.indexOf(']');\n\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n\n    var m = re.exec(str || ''),\n        uri = {},\n        i = 14;\n\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n\n    uri.pathNames = pathNames(uri, uri['path']);\n    uri.queryKey = queryKey(uri, uri['query']);\n\n    return uri;\n};\n\nfunction pathNames(obj, path) {\n    var regx = /\\/{2,9}/g,\n        names = path.replace(regx, \"/\").split(\"/\");\n\n    if (path.substr(0, 1) == '/' || path.length === 0) {\n        names.splice(0, 1);\n    }\n    if (path.substr(path.length - 1, 1) == '/') {\n        names.splice(names.length - 1, 1);\n    }\n\n    return names;\n}\n\nfunction queryKey(uri, query) {\n    var data = {};\n\n    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {\n        if ($1) {\n            data[$1] = $2;\n        }\n    });\n\n    return data;\n}\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// This is CodeMirror (https://codemirror.net), a code editor\n// implemented in JavaScript on top of the browser's DOM.\n//\n// You can find some technical background for some of the code below\n// at http://marijnhaverbeke.nl/blog/#cm-internals .\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.CodeMirror = factory());\n}(this, (function () { 'use strict';\n\n  // Kludges for bugs and behavior differences that can't be feature\n  // detected are enabled based on userAgent etc sniffing.\n  var userAgent = navigator.userAgent;\n  var platform = navigator.platform;\n\n  var gecko = /gecko\\/\\d/i.test(userAgent);\n  var ie_upto10 = /MSIE \\d/.test(userAgent);\n  var ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(userAgent);\n  var edge = /Edge\\/(\\d+)/.exec(userAgent);\n  var ie = ie_upto10 || ie_11up || edge;\n  var ie_version = ie && (ie_upto10 ? document.documentMode || 6 : +(edge || ie_11up)[1]);\n  var webkit = !edge && /WebKit\\//.test(userAgent);\n  var qtwebkit = webkit && /Qt\\/\\d+\\.\\d+/.test(userAgent);\n  var chrome = !edge && /Chrome\\//.test(userAgent);\n  var presto = /Opera\\//.test(userAgent);\n  var safari = /Apple Computer/.test(navigator.vendor);\n  var mac_geMountainLion = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(userAgent);\n  var phantom = /PhantomJS/.test(userAgent);\n\n  var ios = safari && (/Mobile\\/\\w+/.test(userAgent) || navigator.maxTouchPoints > 2);\n  var android = /Android/.test(userAgent);\n  // This is woefully incomplete. Suggestions for alternative methods welcome.\n  var mobile = ios || android || /webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);\n  var mac = ios || /Mac/.test(platform);\n  var chromeOS = /\\bCrOS\\b/.test(userAgent);\n  var windows = /win/i.test(platform);\n\n  var presto_version = presto && userAgent.match(/Version\\/(\\d*\\.\\d*)/);\n  if (presto_version) { presto_version = Number(presto_version[1]); }\n  if (presto_version && presto_version >= 15) { presto = false; webkit = true; }\n  // Some browsers use the wrong event properties to signal cmd/ctrl on OS X\n  var flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11));\n  var captureRightClick = gecko || (ie && ie_version >= 9);\n\n  function classTest(cls) { return new RegExp(\"(^|\\\\s)\" + cls + \"(?:$|\\\\s)\\\\s*\") }\n\n  var rmClass = function(node, cls) {\n    var current = node.className;\n    var match = classTest(cls).exec(current);\n    if (match) {\n      var after = current.slice(match.index + match[0].length);\n      node.className = current.slice(0, match.index) + (after ? match[1] + after : \"\");\n    }\n  };\n\n  function removeChildren(e) {\n    for (var count = e.childNodes.length; count > 0; --count)\n      { e.removeChild(e.firstChild); }\n    return e\n  }\n\n  function removeChildrenAndAdd(parent, e) {\n    return removeChildren(parent).appendChild(e)\n  }\n\n  function elt(tag, content, className, style) {\n    var e = document.createElement(tag);\n    if (className) { e.className = className; }\n    if (style) { e.style.cssText = style; }\n    if (typeof content == \"string\") { e.appendChild(document.createTextNode(content)); }\n    else if (content) { for (var i = 0; i < content.length; ++i) { e.appendChild(content[i]); } }\n    return e\n  }\n  // wrapper for elt, which removes the elt from the accessibility tree\n  function eltP(tag, content, className, style) {\n    var e = elt(tag, content, className, style);\n    e.setAttribute(\"role\", \"presentation\");\n    return e\n  }\n\n  var range;\n  if (document.createRange) { range = function(node, start, end, endNode) {\n    var r = document.createRange();\n    r.setEnd(endNode || node, end);\n    r.setStart(node, start);\n    return r\n  }; }\n  else { range = function(node, start, end) {\n    var r = document.body.createTextRange();\n    try { r.moveToElementText(node.parentNode); }\n    catch(e) { return r }\n    r.collapse(true);\n    r.moveEnd(\"character\", end);\n    r.moveStart(\"character\", start);\n    return r\n  }; }\n\n  function contains(parent, child) {\n    if (child.nodeType == 3) // Android browser always returns false when child is a textnode\n      { child = child.parentNode; }\n    if (parent.contains)\n      { return parent.contains(child) }\n    do {\n      if (child.nodeType == 11) { child = child.host; }\n      if (child == parent) { return true }\n    } while (child = child.parentNode)\n  }\n\n  function activeElt() {\n    // IE and Edge may throw an \"Unspecified Error\" when accessing document.activeElement.\n    // IE < 10 will throw when accessed while the page is loading or in an iframe.\n    // IE > 9 and Edge will throw when accessed in an iframe if document.body is unavailable.\n    var activeElement;\n    try {\n      activeElement = document.activeElement;\n    } catch(e) {\n      activeElement = document.body || null;\n    }\n    while (activeElement && activeElement.shadowRoot && activeElement.shadowRoot.activeElement)\n      { activeElement = activeElement.shadowRoot.activeElement; }\n    return activeElement\n  }\n\n  function addClass(node, cls) {\n    var current = node.className;\n    if (!classTest(cls).test(current)) { node.className += (current ? \" \" : \"\") + cls; }\n  }\n  function joinClasses(a, b) {\n    var as = a.split(\" \");\n    for (var i = 0; i < as.length; i++)\n      { if (as[i] && !classTest(as[i]).test(b)) { b += \" \" + as[i]; } }\n    return b\n  }\n\n  var selectInput = function(node) { node.select(); };\n  if (ios) // Mobile Safari apparently has a bug where select() is broken.\n    { selectInput = function(node) { node.selectionStart = 0; node.selectionEnd = node.value.length; }; }\n  else if (ie) // Suppress mysterious IE10 errors\n    { selectInput = function(node) { try { node.select(); } catch(_e) {} }; }\n\n  function bind(f) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    return function(){return f.apply(null, args)}\n  }\n\n  function copyObj(obj, target, overwrite) {\n    if (!target) { target = {}; }\n    for (var prop in obj)\n      { if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop)))\n        { target[prop] = obj[prop]; } }\n    return target\n  }\n\n  // Counts the column offset in a string, taking tabs into account.\n  // Used mostly to find indentation.\n  function countColumn(string, end, tabSize, startIndex, startValue) {\n    if (end == null) {\n      end = string.search(/[^\\s\\u00a0]/);\n      if (end == -1) { end = string.length; }\n    }\n    for (var i = startIndex || 0, n = startValue || 0;;) {\n      var nextTab = string.indexOf(\"\\t\", i);\n      if (nextTab < 0 || nextTab >= end)\n        { return n + (end - i) }\n      n += nextTab - i;\n      n += tabSize - (n % tabSize);\n      i = nextTab + 1;\n    }\n  }\n\n  var Delayed = function() {\n    this.id = null;\n    this.f = null;\n    this.time = 0;\n    this.handler = bind(this.onTimeout, this);\n  };\n  Delayed.prototype.onTimeout = function (self) {\n    self.id = 0;\n    if (self.time <= +new Date) {\n      self.f();\n    } else {\n      setTimeout(self.handler, self.time - +new Date);\n    }\n  };\n  Delayed.prototype.set = function (ms, f) {\n    this.f = f;\n    var time = +new Date + ms;\n    if (!this.id || time < this.time) {\n      clearTimeout(this.id);\n      this.id = setTimeout(this.handler, ms);\n      this.time = time;\n    }\n  };\n\n  function indexOf(array, elt) {\n    for (var i = 0; i < array.length; ++i)\n      { if (array[i] == elt) { return i } }\n    return -1\n  }\n\n  // Number of pixels added to scroller and sizer to hide scrollbar\n  var scrollerGap = 50;\n\n  // Returned or thrown by various protocols to signal 'I'm not\n  // handling this'.\n  var Pass = {toString: function(){return \"CodeMirror.Pass\"}};\n\n  // Reused option objects for setSelection & friends\n  var sel_dontScroll = {scroll: false}, sel_mouse = {origin: \"*mouse\"}, sel_move = {origin: \"+move\"};\n\n  // The inverse of countColumn -- find the offset that corresponds to\n  // a particular column.\n  function findColumn(string, goal, tabSize) {\n    for (var pos = 0, col = 0;;) {\n      var nextTab = string.indexOf(\"\\t\", pos);\n      if (nextTab == -1) { nextTab = string.length; }\n      var skipped = nextTab - pos;\n      if (nextTab == string.length || col + skipped >= goal)\n        { return pos + Math.min(skipped, goal - col) }\n      col += nextTab - pos;\n      col += tabSize - (col % tabSize);\n      pos = nextTab + 1;\n      if (col >= goal) { return pos }\n    }\n  }\n\n  var spaceStrs = [\"\"];\n  function spaceStr(n) {\n    while (spaceStrs.length <= n)\n      { spaceStrs.push(lst(spaceStrs) + \" \"); }\n    return spaceStrs[n]\n  }\n\n  function lst(arr) { return arr[arr.length-1] }\n\n  function map(array, f) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = f(array[i], i); }\n    return out\n  }\n\n  function insertSorted(array, value, score) {\n    var pos = 0, priority = score(value);\n    while (pos < array.length && score(array[pos]) <= priority) { pos++; }\n    array.splice(pos, 0, value);\n  }\n\n  function nothing() {}\n\n  function createObj(base, props) {\n    var inst;\n    if (Object.create) {\n      inst = Object.create(base);\n    } else {\n      nothing.prototype = base;\n      inst = new nothing();\n    }\n    if (props) { copyObj(props, inst); }\n    return inst\n  }\n\n  var nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;\n  function isWordCharBasic(ch) {\n    return /\\w/.test(ch) || ch > \"\\x80\" &&\n      (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch))\n  }\n  function isWordChar(ch, helper) {\n    if (!helper) { return isWordCharBasic(ch) }\n    if (helper.source.indexOf(\"\\\\w\") > -1 && isWordCharBasic(ch)) { return true }\n    return helper.test(ch)\n  }\n\n  function isEmpty(obj) {\n    for (var n in obj) { if (obj.hasOwnProperty(n) && obj[n]) { return false } }\n    return true\n  }\n\n  // Extending unicode characters. A series of a non-extending char +\n  // any number of extending chars is treated as a single unit as far\n  // as editing and measuring is concerned. This is not fully correct,\n  // since some scripts/fonts/browsers also treat other configurations\n  // of code points as a group.\n  var extendingChars = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;\n  function isExtendingChar(ch) { return ch.charCodeAt(0) >= 768 && extendingChars.test(ch) }\n\n  // Returns a number from the range [`0`; `str.length`] unless `pos` is outside that range.\n  function skipExtendingChars(str, pos, dir) {\n    while ((dir < 0 ? pos > 0 : pos < str.length) && isExtendingChar(str.charAt(pos))) { pos += dir; }\n    return pos\n  }\n\n  // Returns the value from the range [`from`; `to`] that satisfies\n  // `pred` and is closest to `from`. Assumes that at least `to`\n  // satisfies `pred`. Supports `from` being greater than `to`.\n  function findFirst(pred, from, to) {\n    // At any point we are certain `to` satisfies `pred`, don't know\n    // whether `from` does.\n    var dir = from > to ? -1 : 1;\n    for (;;) {\n      if (from == to) { return from }\n      var midF = (from + to) / 2, mid = dir < 0 ? Math.ceil(midF) : Math.floor(midF);\n      if (mid == from) { return pred(mid) ? from : to }\n      if (pred(mid)) { to = mid; }\n      else { from = mid + dir; }\n    }\n  }\n\n  // BIDI HELPERS\n\n  function iterateBidiSections(order, from, to, f) {\n    if (!order) { return f(from, to, \"ltr\", 0) }\n    var found = false;\n    for (var i = 0; i < order.length; ++i) {\n      var part = order[i];\n      if (part.from < to && part.to > from || from == to && part.to == from) {\n        f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? \"rtl\" : \"ltr\", i);\n        found = true;\n      }\n    }\n    if (!found) { f(from, to, \"ltr\"); }\n  }\n\n  var bidiOther = null;\n  function getBidiPartAt(order, ch, sticky) {\n    var found;\n    bidiOther = null;\n    for (var i = 0; i < order.length; ++i) {\n      var cur = order[i];\n      if (cur.from < ch && cur.to > ch) { return i }\n      if (cur.to == ch) {\n        if (cur.from != cur.to && sticky == \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n      if (cur.from == ch) {\n        if (cur.from != cur.to && sticky != \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n    }\n    return found != null ? found : bidiOther\n  }\n\n  // Bidirectional ordering algorithm\n  // See http://unicode.org/reports/tr9/tr9-13.html for the algorithm\n  // that this (partially) implements.\n\n  // One-char codes used for character types:\n  // L (L):   Left-to-Right\n  // R (R):   Right-to-Left\n  // r (AL):  Right-to-Left Arabic\n  // 1 (EN):  European Number\n  // + (ES):  European Number Separator\n  // % (ET):  European Number Terminator\n  // n (AN):  Arabic Number\n  // , (CS):  Common Number Separator\n  // m (NSM): Non-Spacing Mark\n  // b (BN):  Boundary Neutral\n  // s (B):   Paragraph Separator\n  // t (S):   Segment Separator\n  // w (WS):  Whitespace\n  // N (ON):  Other Neutrals\n\n  // Returns null if characters are ordered as they appear\n  // (left-to-right), or an array of sections ({from, to, level}\n  // objects) in the order in which they occur visually.\n  var bidiOrdering = (function() {\n    // Character types for codepoints 0 to 0xff\n    var lowTypes = \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\";\n    // Character types for codepoints 0x600 to 0x6f9\n    var arabicTypes = \"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\";\n    function charType(code) {\n      if (code <= 0xf7) { return lowTypes.charAt(code) }\n      else if (0x590 <= code && code <= 0x5f4) { return \"R\" }\n      else if (0x600 <= code && code <= 0x6f9) { return arabicTypes.charAt(code - 0x600) }\n      else if (0x6ee <= code && code <= 0x8ac) { return \"r\" }\n      else if (0x2000 <= code && code <= 0x200b) { return \"w\" }\n      else if (code == 0x200c) { return \"b\" }\n      else { return \"L\" }\n    }\n\n    var bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;\n    var isNeutral = /[stwN]/, isStrong = /[LRr]/, countsAsLeft = /[Lb1n]/, countsAsNum = /[1n]/;\n\n    function BidiSpan(level, from, to) {\n      this.level = level;\n      this.from = from; this.to = to;\n    }\n\n    return function(str, direction) {\n      var outerType = direction == \"ltr\" ? \"L\" : \"R\";\n\n      if (str.length == 0 || direction == \"ltr\" && !bidiRE.test(str)) { return false }\n      var len = str.length, types = [];\n      for (var i = 0; i < len; ++i)\n        { types.push(charType(str.charCodeAt(i))); }\n\n      // W1. Examine each non-spacing mark (NSM) in the level run, and\n      // change the type of the NSM to the type of the previous\n      // character. If the NSM is at the start of the level run, it will\n      // get the type of sor.\n      for (var i$1 = 0, prev = outerType; i$1 < len; ++i$1) {\n        var type = types[i$1];\n        if (type == \"m\") { types[i$1] = prev; }\n        else { prev = type; }\n      }\n\n      // W2. Search backwards from each instance of a European number\n      // until the first strong type (R, L, AL, or sor) is found. If an\n      // AL is found, change the type of the European number to Arabic\n      // number.\n      // W3. Change all ALs to R.\n      for (var i$2 = 0, cur = outerType; i$2 < len; ++i$2) {\n        var type$1 = types[i$2];\n        if (type$1 == \"1\" && cur == \"r\") { types[i$2] = \"n\"; }\n        else if (isStrong.test(type$1)) { cur = type$1; if (type$1 == \"r\") { types[i$2] = \"R\"; } }\n      }\n\n      // W4. A single European separator between two European numbers\n      // changes to a European number. A single common separator between\n      // two numbers of the same type changes to that type.\n      for (var i$3 = 1, prev$1 = types[0]; i$3 < len - 1; ++i$3) {\n        var type$2 = types[i$3];\n        if (type$2 == \"+\" && prev$1 == \"1\" && types[i$3+1] == \"1\") { types[i$3] = \"1\"; }\n        else if (type$2 == \",\" && prev$1 == types[i$3+1] &&\n                 (prev$1 == \"1\" || prev$1 == \"n\")) { types[i$3] = prev$1; }\n        prev$1 = type$2;\n      }\n\n      // W5. A sequence of European terminators adjacent to European\n      // numbers changes to all European numbers.\n      // W6. Otherwise, separators and terminators change to Other\n      // Neutral.\n      for (var i$4 = 0; i$4 < len; ++i$4) {\n        var type$3 = types[i$4];\n        if (type$3 == \",\") { types[i$4] = \"N\"; }\n        else if (type$3 == \"%\") {\n          var end = (void 0);\n          for (end = i$4 + 1; end < len && types[end] == \"%\"; ++end) {}\n          var replace = (i$4 && types[i$4-1] == \"!\") || (end < len && types[end] == \"1\") ? \"1\" : \"N\";\n          for (var j = i$4; j < end; ++j) { types[j] = replace; }\n          i$4 = end - 1;\n        }\n      }\n\n      // W7. Search backwards from each instance of a European number\n      // until the first strong type (R, L, or sor) is found. If an L is\n      // found, then change the type of the European number to L.\n      for (var i$5 = 0, cur$1 = outerType; i$5 < len; ++i$5) {\n        var type$4 = types[i$5];\n        if (cur$1 == \"L\" && type$4 == \"1\") { types[i$5] = \"L\"; }\n        else if (isStrong.test(type$4)) { cur$1 = type$4; }\n      }\n\n      // N1. A sequence of neutrals takes the direction of the\n      // surrounding strong text if the text on both sides has the same\n      // direction. European and Arabic numbers act as if they were R in\n      // terms of their influence on neutrals. Start-of-level-run (sor)\n      // and end-of-level-run (eor) are used at level run boundaries.\n      // N2. Any remaining neutrals take the embedding direction.\n      for (var i$6 = 0; i$6 < len; ++i$6) {\n        if (isNeutral.test(types[i$6])) {\n          var end$1 = (void 0);\n          for (end$1 = i$6 + 1; end$1 < len && isNeutral.test(types[end$1]); ++end$1) {}\n          var before = (i$6 ? types[i$6-1] : outerType) == \"L\";\n          var after = (end$1 < len ? types[end$1] : outerType) == \"L\";\n          var replace$1 = before == after ? (before ? \"L\" : \"R\") : outerType;\n          for (var j$1 = i$6; j$1 < end$1; ++j$1) { types[j$1] = replace$1; }\n          i$6 = end$1 - 1;\n        }\n      }\n\n      // Here we depart from the documented algorithm, in order to avoid\n      // building up an actual levels array. Since there are only three\n      // levels (0, 1, 2) in an implementation that doesn't take\n      // explicit embedding into account, we can build up the order on\n      // the fly, without following the level-based algorithm.\n      var order = [], m;\n      for (var i$7 = 0; i$7 < len;) {\n        if (countsAsLeft.test(types[i$7])) {\n          var start = i$7;\n          for (++i$7; i$7 < len && countsAsLeft.test(types[i$7]); ++i$7) {}\n          order.push(new BidiSpan(0, start, i$7));\n        } else {\n          var pos = i$7, at = order.length, isRTL = direction == \"rtl\" ? 1 : 0;\n          for (++i$7; i$7 < len && types[i$7] != \"L\"; ++i$7) {}\n          for (var j$2 = pos; j$2 < i$7;) {\n            if (countsAsNum.test(types[j$2])) {\n              if (pos < j$2) { order.splice(at, 0, new BidiSpan(1, pos, j$2)); at += isRTL; }\n              var nstart = j$2;\n              for (++j$2; j$2 < i$7 && countsAsNum.test(types[j$2]); ++j$2) {}\n              order.splice(at, 0, new BidiSpan(2, nstart, j$2));\n              at += isRTL;\n              pos = j$2;\n            } else { ++j$2; }\n          }\n          if (pos < i$7) { order.splice(at, 0, new BidiSpan(1, pos, i$7)); }\n        }\n      }\n      if (direction == \"ltr\") {\n        if (order[0].level == 1 && (m = str.match(/^\\s+/))) {\n          order[0].from = m[0].length;\n          order.unshift(new BidiSpan(0, 0, m[0].length));\n        }\n        if (lst(order).level == 1 && (m = str.match(/\\s+$/))) {\n          lst(order).to -= m[0].length;\n          order.push(new BidiSpan(0, len - m[0].length, len));\n        }\n      }\n\n      return direction == \"rtl\" ? order.reverse() : order\n    }\n  })();\n\n  // Get the bidi ordering for the given line (and cache it). Returns\n  // false for lines that are fully left-to-right, and an array of\n  // BidiSpan objects otherwise.\n  function getOrder(line, direction) {\n    var order = line.order;\n    if (order == null) { order = line.order = bidiOrdering(line.text, direction); }\n    return order\n  }\n\n  // EVENT HANDLING\n\n  // Lightweight event framework. on/off also work on DOM nodes,\n  // registering native DOM handlers.\n\n  var noHandlers = [];\n\n  var on = function(emitter, type, f) {\n    if (emitter.addEventListener) {\n      emitter.addEventListener(type, f, false);\n    } else if (emitter.attachEvent) {\n      emitter.attachEvent(\"on\" + type, f);\n    } else {\n      var map = emitter._handlers || (emitter._handlers = {});\n      map[type] = (map[type] || noHandlers).concat(f);\n    }\n  };\n\n  function getHandlers(emitter, type) {\n    return emitter._handlers && emitter._handlers[type] || noHandlers\n  }\n\n  function off(emitter, type, f) {\n    if (emitter.removeEventListener) {\n      emitter.removeEventListener(type, f, false);\n    } else if (emitter.detachEvent) {\n      emitter.detachEvent(\"on\" + type, f);\n    } else {\n      var map = emitter._handlers, arr = map && map[type];\n      if (arr) {\n        var index = indexOf(arr, f);\n        if (index > -1)\n          { map[type] = arr.slice(0, index).concat(arr.slice(index + 1)); }\n      }\n    }\n  }\n\n  function signal(emitter, type /*, values...*/) {\n    var handlers = getHandlers(emitter, type);\n    if (!handlers.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2);\n    for (var i = 0; i < handlers.length; ++i) { handlers[i].apply(null, args); }\n  }\n\n  // The DOM events that CodeMirror handles can be overridden by\n  // registering a (non-DOM) handler on the editor for the event name,\n  // and preventDefault-ing the event in that handler.\n  function signalDOMEvent(cm, e, override) {\n    if (typeof e == \"string\")\n      { e = {type: e, preventDefault: function() { this.defaultPrevented = true; }}; }\n    signal(cm, override || e.type, cm, e);\n    return e_defaultPrevented(e) || e.codemirrorIgnore\n  }\n\n  function signalCursorActivity(cm) {\n    var arr = cm._handlers && cm._handlers.cursorActivity;\n    if (!arr) { return }\n    var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = []);\n    for (var i = 0; i < arr.length; ++i) { if (indexOf(set, arr[i]) == -1)\n      { set.push(arr[i]); } }\n  }\n\n  function hasHandler(emitter, type) {\n    return getHandlers(emitter, type).length > 0\n  }\n\n  // Add on and off methods to a constructor's prototype, to make\n  // registering events on such objects more convenient.\n  function eventMixin(ctor) {\n    ctor.prototype.on = function(type, f) {on(this, type, f);};\n    ctor.prototype.off = function(type, f) {off(this, type, f);};\n  }\n\n  // Due to the fact that we still support jurassic IE versions, some\n  // compatibility wrappers are needed.\n\n  function e_preventDefault(e) {\n    if (e.preventDefault) { e.preventDefault(); }\n    else { e.returnValue = false; }\n  }\n  function e_stopPropagation(e) {\n    if (e.stopPropagation) { e.stopPropagation(); }\n    else { e.cancelBubble = true; }\n  }\n  function e_defaultPrevented(e) {\n    return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false\n  }\n  function e_stop(e) {e_preventDefault(e); e_stopPropagation(e);}\n\n  function e_target(e) {return e.target || e.srcElement}\n  function e_button(e) {\n    var b = e.which;\n    if (b == null) {\n      if (e.button & 1) { b = 1; }\n      else if (e.button & 2) { b = 3; }\n      else if (e.button & 4) { b = 2; }\n    }\n    if (mac && e.ctrlKey && b == 1) { b = 3; }\n    return b\n  }\n\n  // Detect drag-and-drop\n  var dragAndDrop = function() {\n    // There is *some* kind of drag-and-drop support in IE6-8, but I\n    // couldn't get it to work yet.\n    if (ie && ie_version < 9) { return false }\n    var div = elt('div');\n    return \"draggable\" in div || \"dragDrop\" in div\n  }();\n\n  var zwspSupported;\n  function zeroWidthElement(measure) {\n    if (zwspSupported == null) {\n      var test = elt(\"span\", \"\\u200b\");\n      removeChildrenAndAdd(measure, elt(\"span\", [test, document.createTextNode(\"x\")]));\n      if (measure.firstChild.offsetHeight != 0)\n        { zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8); }\n    }\n    var node = zwspSupported ? elt(\"span\", \"\\u200b\") :\n      elt(\"span\", \"\\u00a0\", null, \"display: inline-block; width: 1px; margin-right: -1px\");\n    node.setAttribute(\"cm-text\", \"\");\n    return node\n  }\n\n  // Feature-detect IE's crummy client rect reporting for bidi text\n  var badBidiRects;\n  function hasBadBidiRects(measure) {\n    if (badBidiRects != null) { return badBidiRects }\n    var txt = removeChildrenAndAdd(measure, document.createTextNode(\"A\\u062eA\"));\n    var r0 = range(txt, 0, 1).getBoundingClientRect();\n    var r1 = range(txt, 1, 2).getBoundingClientRect();\n    removeChildren(measure);\n    if (!r0 || r0.left == r0.right) { return false } // Safari returns null in some cases (#2780)\n    return badBidiRects = (r1.right - r0.right < 3)\n  }\n\n  // See if \"\".split is the broken IE version, if so, provide an\n  // alternative way to split lines.\n  var splitLinesAuto = \"\\n\\nb\".split(/\\n/).length != 3 ? function (string) {\n    var pos = 0, result = [], l = string.length;\n    while (pos <= l) {\n      var nl = string.indexOf(\"\\n\", pos);\n      if (nl == -1) { nl = string.length; }\n      var line = string.slice(pos, string.charAt(nl - 1) == \"\\r\" ? nl - 1 : nl);\n      var rt = line.indexOf(\"\\r\");\n      if (rt != -1) {\n        result.push(line.slice(0, rt));\n        pos += rt + 1;\n      } else {\n        result.push(line);\n        pos = nl + 1;\n      }\n    }\n    return result\n  } : function (string) { return string.split(/\\r\\n?|\\n/); };\n\n  var hasSelection = window.getSelection ? function (te) {\n    try { return te.selectionStart != te.selectionEnd }\n    catch(e) { return false }\n  } : function (te) {\n    var range;\n    try {range = te.ownerDocument.selection.createRange();}\n    catch(e) {}\n    if (!range || range.parentElement() != te) { return false }\n    return range.compareEndPoints(\"StartToEnd\", range) != 0\n  };\n\n  var hasCopyEvent = (function () {\n    var e = elt(\"div\");\n    if (\"oncopy\" in e) { return true }\n    e.setAttribute(\"oncopy\", \"return;\");\n    return typeof e.oncopy == \"function\"\n  })();\n\n  var badZoomedRects = null;\n  function hasBadZoomedRects(measure) {\n    if (badZoomedRects != null) { return badZoomedRects }\n    var node = removeChildrenAndAdd(measure, elt(\"span\", \"x\"));\n    var normal = node.getBoundingClientRect();\n    var fromRange = range(node, 0, 1).getBoundingClientRect();\n    return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1\n  }\n\n  // Known modes, by name and by MIME\n  var modes = {}, mimeModes = {};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  function defineMode(name, mode) {\n    if (arguments.length > 2)\n      { mode.dependencies = Array.prototype.slice.call(arguments, 2); }\n    modes[name] = mode;\n  }\n\n  function defineMIME(mime, spec) {\n    mimeModes[mime] = spec;\n  }\n\n  // Given a MIME type, a {name, ...options} config object, or a name\n  // string, return a mode config object.\n  function resolveMode(spec) {\n    if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec)) {\n      spec = mimeModes[spec];\n    } else if (spec && typeof spec.name == \"string\" && mimeModes.hasOwnProperty(spec.name)) {\n      var found = mimeModes[spec.name];\n      if (typeof found == \"string\") { found = {name: found}; }\n      spec = createObj(found, spec);\n      spec.name = found.name;\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec)) {\n      return resolveMode(\"application/xml\")\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+json$/.test(spec)) {\n      return resolveMode(\"application/json\")\n    }\n    if (typeof spec == \"string\") { return {name: spec} }\n    else { return spec || {name: \"null\"} }\n  }\n\n  // Given a mode spec (anything that resolveMode accepts), find and\n  // initialize an actual mode object.\n  function getMode(options, spec) {\n    spec = resolveMode(spec);\n    var mfactory = modes[spec.name];\n    if (!mfactory) { return getMode(options, \"text/plain\") }\n    var modeObj = mfactory(options, spec);\n    if (modeExtensions.hasOwnProperty(spec.name)) {\n      var exts = modeExtensions[spec.name];\n      for (var prop in exts) {\n        if (!exts.hasOwnProperty(prop)) { continue }\n        if (modeObj.hasOwnProperty(prop)) { modeObj[\"_\" + prop] = modeObj[prop]; }\n        modeObj[prop] = exts[prop];\n      }\n    }\n    modeObj.name = spec.name;\n    if (spec.helperType) { modeObj.helperType = spec.helperType; }\n    if (spec.modeProps) { for (var prop$1 in spec.modeProps)\n      { modeObj[prop$1] = spec.modeProps[prop$1]; } }\n\n    return modeObj\n  }\n\n  // This can be used to attach properties to mode objects from\n  // outside the actual mode definition.\n  var modeExtensions = {};\n  function extendMode(mode, properties) {\n    var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : (modeExtensions[mode] = {});\n    copyObj(properties, exts);\n  }\n\n  function copyState(mode, state) {\n    if (state === true) { return state }\n    if (mode.copyState) { return mode.copyState(state) }\n    var nstate = {};\n    for (var n in state) {\n      var val = state[n];\n      if (val instanceof Array) { val = val.concat([]); }\n      nstate[n] = val;\n    }\n    return nstate\n  }\n\n  // Given a mode and a state (for that mode), find the inner mode and\n  // state at the position that the state refers to.\n  function innerMode(mode, state) {\n    var info;\n    while (mode.innerMode) {\n      info = mode.innerMode(state);\n      if (!info || info.mode == mode) { break }\n      state = info.state;\n      mode = info.mode;\n    }\n    return info || {mode: mode, state: state}\n  }\n\n  function startState(mode, a1, a2) {\n    return mode.startState ? mode.startState(a1, a2) : true\n  }\n\n  // STRING STREAM\n\n  // Fed to the mode parsers, provides helper functions to make\n  // parsers more succinct.\n\n  var StringStream = function(string, tabSize, lineOracle) {\n    this.pos = this.start = 0;\n    this.string = string;\n    this.tabSize = tabSize || 8;\n    this.lastColumnPos = this.lastColumnValue = 0;\n    this.lineStart = 0;\n    this.lineOracle = lineOracle;\n  };\n\n  StringStream.prototype.eol = function () {return this.pos >= this.string.length};\n  StringStream.prototype.sol = function () {return this.pos == this.lineStart};\n  StringStream.prototype.peek = function () {return this.string.charAt(this.pos) || undefined};\n  StringStream.prototype.next = function () {\n    if (this.pos < this.string.length)\n      { return this.string.charAt(this.pos++) }\n  };\n  StringStream.prototype.eat = function (match) {\n    var ch = this.string.charAt(this.pos);\n    var ok;\n    if (typeof match == \"string\") { ok = ch == match; }\n    else { ok = ch && (match.test ? match.test(ch) : match(ch)); }\n    if (ok) {++this.pos; return ch}\n  };\n  StringStream.prototype.eatWhile = function (match) {\n    var start = this.pos;\n    while (this.eat(match)){}\n    return this.pos > start\n  };\n  StringStream.prototype.eatSpace = function () {\n    var start = this.pos;\n    while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos))) { ++this.pos; }\n    return this.pos > start\n  };\n  StringStream.prototype.skipToEnd = function () {this.pos = this.string.length;};\n  StringStream.prototype.skipTo = function (ch) {\n    var found = this.string.indexOf(ch, this.pos);\n    if (found > -1) {this.pos = found; return true}\n  };\n  StringStream.prototype.backUp = function (n) {this.pos -= n;};\n  StringStream.prototype.column = function () {\n    if (this.lastColumnPos < this.start) {\n      this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue);\n      this.lastColumnPos = this.start;\n    }\n    return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.indentation = function () {\n    return countColumn(this.string, null, this.tabSize) -\n      (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.match = function (pattern, consume, caseInsensitive) {\n    if (typeof pattern == \"string\") {\n      var cased = function (str) { return caseInsensitive ? str.toLowerCase() : str; };\n      var substr = this.string.substr(this.pos, pattern.length);\n      if (cased(substr) == cased(pattern)) {\n        if (consume !== false) { this.pos += pattern.length; }\n        return true\n      }\n    } else {\n      var match = this.string.slice(this.pos).match(pattern);\n      if (match && match.index > 0) { return null }\n      if (match && consume !== false) { this.pos += match[0].length; }\n      return match\n    }\n  };\n  StringStream.prototype.current = function (){return this.string.slice(this.start, this.pos)};\n  StringStream.prototype.hideFirstChars = function (n, inner) {\n    this.lineStart += n;\n    try { return inner() }\n    finally { this.lineStart -= n; }\n  };\n  StringStream.prototype.lookAhead = function (n) {\n    var oracle = this.lineOracle;\n    return oracle && oracle.lookAhead(n)\n  };\n  StringStream.prototype.baseToken = function () {\n    var oracle = this.lineOracle;\n    return oracle && oracle.baseToken(this.pos)\n  };\n\n  // Find the line object corresponding to the given line number.\n  function getLine(doc, n) {\n    n -= doc.first;\n    if (n < 0 || n >= doc.size) { throw new Error(\"There is no line \" + (n + doc.first) + \" in the document.\") }\n    var chunk = doc;\n    while (!chunk.lines) {\n      for (var i = 0;; ++i) {\n        var child = chunk.children[i], sz = child.chunkSize();\n        if (n < sz) { chunk = child; break }\n        n -= sz;\n      }\n    }\n    return chunk.lines[n]\n  }\n\n  // Get the part of a document between two positions, as an array of\n  // strings.\n  function getBetween(doc, start, end) {\n    var out = [], n = start.line;\n    doc.iter(start.line, end.line + 1, function (line) {\n      var text = line.text;\n      if (n == end.line) { text = text.slice(0, end.ch); }\n      if (n == start.line) { text = text.slice(start.ch); }\n      out.push(text);\n      ++n;\n    });\n    return out\n  }\n  // Get the lines between from and to, as array of strings.\n  function getLines(doc, from, to) {\n    var out = [];\n    doc.iter(from, to, function (line) { out.push(line.text); }); // iter aborts when callback returns truthy value\n    return out\n  }\n\n  // Update the height of a line, propagating the height change\n  // upwards to parent nodes.\n  function updateLineHeight(line, height) {\n    var diff = height - line.height;\n    if (diff) { for (var n = line; n; n = n.parent) { n.height += diff; } }\n  }\n\n  // Given a line object, find its line number by walking up through\n  // its parent links.\n  function lineNo(line) {\n    if (line.parent == null) { return null }\n    var cur = line.parent, no = indexOf(cur.lines, line);\n    for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\n      for (var i = 0;; ++i) {\n        if (chunk.children[i] == cur) { break }\n        no += chunk.children[i].chunkSize();\n      }\n    }\n    return no + cur.first\n  }\n\n  // Find the line at the given vertical position, using the height\n  // information in the document tree.\n  function lineAtHeight(chunk, h) {\n    var n = chunk.first;\n    outer: do {\n      for (var i$1 = 0; i$1 < chunk.children.length; ++i$1) {\n        var child = chunk.children[i$1], ch = child.height;\n        if (h < ch) { chunk = child; continue outer }\n        h -= ch;\n        n += child.chunkSize();\n      }\n      return n\n    } while (!chunk.lines)\n    var i = 0;\n    for (; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i], lh = line.height;\n      if (h < lh) { break }\n      h -= lh;\n    }\n    return n + i\n  }\n\n  function isLine(doc, l) {return l >= doc.first && l < doc.first + doc.size}\n\n  function lineNumberFor(options, i) {\n    return String(options.lineNumberFormatter(i + options.firstLineNumber))\n  }\n\n  // A Pos instance represents a position within the text.\n  function Pos(line, ch, sticky) {\n    if ( sticky === void 0 ) sticky = null;\n\n    if (!(this instanceof Pos)) { return new Pos(line, ch, sticky) }\n    this.line = line;\n    this.ch = ch;\n    this.sticky = sticky;\n  }\n\n  // Compare two positions, return 0 if they are the same, a negative\n  // number when a is less, and a positive number otherwise.\n  function cmp(a, b) { return a.line - b.line || a.ch - b.ch }\n\n  function equalCursorPos(a, b) { return a.sticky == b.sticky && cmp(a, b) == 0 }\n\n  function copyPos(x) {return Pos(x.line, x.ch)}\n  function maxPos(a, b) { return cmp(a, b) < 0 ? b : a }\n  function minPos(a, b) { return cmp(a, b) < 0 ? a : b }\n\n  // Most of the external API clips given positions to make sure they\n  // actually exist within the document.\n  function clipLine(doc, n) {return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1))}\n  function clipPos(doc, pos) {\n    if (pos.line < doc.first) { return Pos(doc.first, 0) }\n    var last = doc.first + doc.size - 1;\n    if (pos.line > last) { return Pos(last, getLine(doc, last).text.length) }\n    return clipToLen(pos, getLine(doc, pos.line).text.length)\n  }\n  function clipToLen(pos, linelen) {\n    var ch = pos.ch;\n    if (ch == null || ch > linelen) { return Pos(pos.line, linelen) }\n    else if (ch < 0) { return Pos(pos.line, 0) }\n    else { return pos }\n  }\n  function clipPosArray(doc, array) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = clipPos(doc, array[i]); }\n    return out\n  }\n\n  var SavedContext = function(state, lookAhead) {\n    this.state = state;\n    this.lookAhead = lookAhead;\n  };\n\n  var Context = function(doc, state, line, lookAhead) {\n    this.state = state;\n    this.doc = doc;\n    this.line = line;\n    this.maxLookAhead = lookAhead || 0;\n    this.baseTokens = null;\n    this.baseTokenPos = 1;\n  };\n\n  Context.prototype.lookAhead = function (n) {\n    var line = this.doc.getLine(this.line + n);\n    if (line != null && n > this.maxLookAhead) { this.maxLookAhead = n; }\n    return line\n  };\n\n  Context.prototype.baseToken = function (n) {\n    if (!this.baseTokens) { return null }\n    while (this.baseTokens[this.baseTokenPos] <= n)\n      { this.baseTokenPos += 2; }\n    var type = this.baseTokens[this.baseTokenPos + 1];\n    return {type: type && type.replace(/( |^)overlay .*/, \"\"),\n            size: this.baseTokens[this.baseTokenPos] - n}\n  };\n\n  Context.prototype.nextLine = function () {\n    this.line++;\n    if (this.maxLookAhead > 0) { this.maxLookAhead--; }\n  };\n\n  Context.fromSaved = function (doc, saved, line) {\n    if (saved instanceof SavedContext)\n      { return new Context(doc, copyState(doc.mode, saved.state), line, saved.lookAhead) }\n    else\n      { return new Context(doc, copyState(doc.mode, saved), line) }\n  };\n\n  Context.prototype.save = function (copy) {\n    var state = copy !== false ? copyState(this.doc.mode, this.state) : this.state;\n    return this.maxLookAhead > 0 ? new SavedContext(state, this.maxLookAhead) : state\n  };\n\n\n  // Compute a style array (an array starting with a mode generation\n  // -- for invalidation -- followed by pairs of end positions and\n  // style strings), which is used to highlight the tokens on the\n  // line.\n  function highlightLine(cm, line, context, forceToEnd) {\n    // A styles array always starts with a number identifying the\n    // mode/overlays that it is based on (for easy invalidation).\n    var st = [cm.state.modeGen], lineClasses = {};\n    // Compute the base array of styles\n    runMode(cm, line.text, cm.doc.mode, context, function (end, style) { return st.push(end, style); },\n            lineClasses, forceToEnd);\n    var state = context.state;\n\n    // Run overlays, adjust style array.\n    var loop = function ( o ) {\n      context.baseTokens = st;\n      var overlay = cm.state.overlays[o], i = 1, at = 0;\n      context.state = true;\n      runMode(cm, line.text, overlay.mode, context, function (end, style) {\n        var start = i;\n        // Ensure there's a token end at the current position, and that i points at it\n        while (at < end) {\n          var i_end = st[i];\n          if (i_end > end)\n            { st.splice(i, 1, end, st[i+1], i_end); }\n          i += 2;\n          at = Math.min(end, i_end);\n        }\n        if (!style) { return }\n        if (overlay.opaque) {\n          st.splice(start, i - start, end, \"overlay \" + style);\n          i = start + 2;\n        } else {\n          for (; start < i; start += 2) {\n            var cur = st[start+1];\n            st[start+1] = (cur ? cur + \" \" : \"\") + \"overlay \" + style;\n          }\n        }\n      }, lineClasses);\n      context.state = state;\n      context.baseTokens = null;\n      context.baseTokenPos = 1;\n    };\n\n    for (var o = 0; o < cm.state.overlays.length; ++o) loop( o );\n\n    return {styles: st, classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null}\n  }\n\n  function getLineStyles(cm, line, updateFrontier) {\n    if (!line.styles || line.styles[0] != cm.state.modeGen) {\n      var context = getContextBefore(cm, lineNo(line));\n      var resetState = line.text.length > cm.options.maxHighlightLength && copyState(cm.doc.mode, context.state);\n      var result = highlightLine(cm, line, context);\n      if (resetState) { context.state = resetState; }\n      line.stateAfter = context.save(!resetState);\n      line.styles = result.styles;\n      if (result.classes) { line.styleClasses = result.classes; }\n      else if (line.styleClasses) { line.styleClasses = null; }\n      if (updateFrontier === cm.doc.highlightFrontier)\n        { cm.doc.modeFrontier = Math.max(cm.doc.modeFrontier, ++cm.doc.highlightFrontier); }\n    }\n    return line.styles\n  }\n\n  function getContextBefore(cm, n, precise) {\n    var doc = cm.doc, display = cm.display;\n    if (!doc.mode.startState) { return new Context(doc, true, n) }\n    var start = findStartLine(cm, n, precise);\n    var saved = start > doc.first && getLine(doc, start - 1).stateAfter;\n    var context = saved ? Context.fromSaved(doc, saved, start) : new Context(doc, startState(doc.mode), start);\n\n    doc.iter(start, n, function (line) {\n      processLine(cm, line.text, context);\n      var pos = context.line;\n      line.stateAfter = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo ? context.save() : null;\n      context.nextLine();\n    });\n    if (precise) { doc.modeFrontier = context.line; }\n    return context\n  }\n\n  // Lightweight form of highlight -- proceed over this line and\n  // update state, but don't save a style array. Used for lines that\n  // aren't currently visible.\n  function processLine(cm, text, context, startAt) {\n    var mode = cm.doc.mode;\n    var stream = new StringStream(text, cm.options.tabSize, context);\n    stream.start = stream.pos = startAt || 0;\n    if (text == \"\") { callBlankLine(mode, context.state); }\n    while (!stream.eol()) {\n      readToken(mode, stream, context.state);\n      stream.start = stream.pos;\n    }\n  }\n\n  function callBlankLine(mode, state) {\n    if (mode.blankLine) { return mode.blankLine(state) }\n    if (!mode.innerMode) { return }\n    var inner = innerMode(mode, state);\n    if (inner.mode.blankLine) { return inner.mode.blankLine(inner.state) }\n  }\n\n  function readToken(mode, stream, state, inner) {\n    for (var i = 0; i < 10; i++) {\n      if (inner) { inner[0] = innerMode(mode, state).mode; }\n      var style = mode.token(stream, state);\n      if (stream.pos > stream.start) { return style }\n    }\n    throw new Error(\"Mode \" + mode.name + \" failed to advance stream.\")\n  }\n\n  var Token = function(stream, type, state) {\n    this.start = stream.start; this.end = stream.pos;\n    this.string = stream.current();\n    this.type = type || null;\n    this.state = state;\n  };\n\n  // Utility for getTokenAt and getLineTokens\n  function takeToken(cm, pos, precise, asArray) {\n    var doc = cm.doc, mode = doc.mode, style;\n    pos = clipPos(doc, pos);\n    var line = getLine(doc, pos.line), context = getContextBefore(cm, pos.line, precise);\n    var stream = new StringStream(line.text, cm.options.tabSize, context), tokens;\n    if (asArray) { tokens = []; }\n    while ((asArray || stream.pos < pos.ch) && !stream.eol()) {\n      stream.start = stream.pos;\n      style = readToken(mode, stream, context.state);\n      if (asArray) { tokens.push(new Token(stream, style, copyState(doc.mode, context.state))); }\n    }\n    return asArray ? tokens : new Token(stream, style, context.state)\n  }\n\n  function extractLineClasses(type, output) {\n    if (type) { for (;;) {\n      var lineClass = type.match(/(?:^|\\s+)line-(background-)?(\\S+)/);\n      if (!lineClass) { break }\n      type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length);\n      var prop = lineClass[1] ? \"bgClass\" : \"textClass\";\n      if (output[prop] == null)\n        { output[prop] = lineClass[2]; }\n      else if (!(new RegExp(\"(?:^|\\\\s)\" + lineClass[2] + \"(?:$|\\\\s)\")).test(output[prop]))\n        { output[prop] += \" \" + lineClass[2]; }\n    } }\n    return type\n  }\n\n  // Run the given mode's parser over a line, calling f for each token.\n  function runMode(cm, text, mode, context, f, lineClasses, forceToEnd) {\n    var flattenSpans = mode.flattenSpans;\n    if (flattenSpans == null) { flattenSpans = cm.options.flattenSpans; }\n    var curStart = 0, curStyle = null;\n    var stream = new StringStream(text, cm.options.tabSize, context), style;\n    var inner = cm.options.addModeClass && [null];\n    if (text == \"\") { extractLineClasses(callBlankLine(mode, context.state), lineClasses); }\n    while (!stream.eol()) {\n      if (stream.pos > cm.options.maxHighlightLength) {\n        flattenSpans = false;\n        if (forceToEnd) { processLine(cm, text, context, stream.pos); }\n        stream.pos = text.length;\n        style = null;\n      } else {\n        style = extractLineClasses(readToken(mode, stream, context.state, inner), lineClasses);\n      }\n      if (inner) {\n        var mName = inner[0].name;\n        if (mName) { style = \"m-\" + (style ? mName + \" \" + style : mName); }\n      }\n      if (!flattenSpans || curStyle != style) {\n        while (curStart < stream.start) {\n          curStart = Math.min(stream.start, curStart + 5000);\n          f(curStart, curStyle);\n        }\n        curStyle = style;\n      }\n      stream.start = stream.pos;\n    }\n    while (curStart < stream.pos) {\n      // Webkit seems to refuse to render text nodes longer than 57444\n      // characters, and returns inaccurate measurements in nodes\n      // starting around 5000 chars.\n      var pos = Math.min(stream.pos, curStart + 5000);\n      f(pos, curStyle);\n      curStart = pos;\n    }\n  }\n\n  // Finds the line to start with when starting a parse. Tries to\n  // find a line with a stateAfter, so that it can start with a\n  // valid state. If that fails, it returns the line with the\n  // smallest indentation, which tends to need the least context to\n  // parse correctly.\n  function findStartLine(cm, n, precise) {\n    var minindent, minline, doc = cm.doc;\n    var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100);\n    for (var search = n; search > lim; --search) {\n      if (search <= doc.first) { return doc.first }\n      var line = getLine(doc, search - 1), after = line.stateAfter;\n      if (after && (!precise || search + (after instanceof SavedContext ? after.lookAhead : 0) <= doc.modeFrontier))\n        { return search }\n      var indented = countColumn(line.text, null, cm.options.tabSize);\n      if (minline == null || minindent > indented) {\n        minline = search - 1;\n        minindent = indented;\n      }\n    }\n    return minline\n  }\n\n  function retreatFrontier(doc, n) {\n    doc.modeFrontier = Math.min(doc.modeFrontier, n);\n    if (doc.highlightFrontier < n - 10) { return }\n    var start = doc.first;\n    for (var line = n - 1; line > start; line--) {\n      var saved = getLine(doc, line).stateAfter;\n      // change is on 3\n      // state on line 1 looked ahead 2 -- so saw 3\n      // test 1 + 2 < 3 should cover this\n      if (saved && (!(saved instanceof SavedContext) || line + saved.lookAhead < n)) {\n        start = line + 1;\n        break\n      }\n    }\n    doc.highlightFrontier = Math.min(doc.highlightFrontier, start);\n  }\n\n  // Optimize some code when these features are not used.\n  var sawReadOnlySpans = false, sawCollapsedSpans = false;\n\n  function seeReadOnlySpans() {\n    sawReadOnlySpans = true;\n  }\n\n  function seeCollapsedSpans() {\n    sawCollapsedSpans = true;\n  }\n\n  // TEXTMARKER SPANS\n\n  function MarkedSpan(marker, from, to) {\n    this.marker = marker;\n    this.from = from; this.to = to;\n  }\n\n  // Search an array of spans for a span matching the given marker.\n  function getMarkedSpanFor(spans, marker) {\n    if (spans) { for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.marker == marker) { return span }\n    } }\n  }\n\n  // Remove a span from an array, returning undefined if no spans are\n  // left (we don't store arrays for lines without spans).\n  function removeMarkedSpan(spans, span) {\n    var r;\n    for (var i = 0; i < spans.length; ++i)\n      { if (spans[i] != span) { (r || (r = [])).push(spans[i]); } }\n    return r\n  }\n\n  // Add a span to a line.\n  function addMarkedSpan(line, span, op) {\n    var inThisOp = op && window.WeakSet && (op.markedSpans || (op.markedSpans = new WeakSet));\n    if (inThisOp && inThisOp.has(line.markedSpans)) {\n      line.markedSpans.push(span);\n    } else {\n      line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span];\n      if (inThisOp) { inThisOp.add(line.markedSpans); }\n    }\n    span.marker.attachLine(line);\n  }\n\n  // Used for the algorithm that adjusts markers for a change in the\n  // document. These functions cut an array of spans at a given\n  // character position, returning an array of remaining chunks (or\n  // undefined if nothing remains).\n  function markedSpansBefore(old, startCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh);\n      if (startsBefore || span.from == startCh && marker.type == \"bookmark\" && (!isInsert || !span.marker.insertLeft)) {\n        var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to));\n      }\n    } }\n    return nw\n  }\n  function markedSpansAfter(old, endCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh);\n      if (endsAfter || span.from == endCh && marker.type == \"bookmark\" && (!isInsert || span.marker.insertLeft)) {\n        var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh,\n                                              span.to == null ? null : span.to - endCh));\n      }\n    } }\n    return nw\n  }\n\n  // Given a change object, compute the new set of marker spans that\n  // cover the line in which the change took place. Removes spans\n  // entirely within the change, reconnects spans belonging to the\n  // same marker that appear on both sides of the change, and cuts off\n  // spans partially within the change. Returns an array of span\n  // arrays with one element for each line in (after) the change.\n  function stretchSpansOverChange(doc, change) {\n    if (change.full) { return null }\n    var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans;\n    var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans;\n    if (!oldFirst && !oldLast) { return null }\n\n    var startCh = change.from.ch, endCh = change.to.ch, isInsert = cmp(change.from, change.to) == 0;\n    // Get the spans that 'stick out' on both sides\n    var first = markedSpansBefore(oldFirst, startCh, isInsert);\n    var last = markedSpansAfter(oldLast, endCh, isInsert);\n\n    // Next, merge those two ends\n    var sameLine = change.text.length == 1, offset = lst(change.text).length + (sameLine ? startCh : 0);\n    if (first) {\n      // Fix up .to properties of first\n      for (var i = 0; i < first.length; ++i) {\n        var span = first[i];\n        if (span.to == null) {\n          var found = getMarkedSpanFor(last, span.marker);\n          if (!found) { span.to = startCh; }\n          else if (sameLine) { span.to = found.to == null ? null : found.to + offset; }\n        }\n      }\n    }\n    if (last) {\n      // Fix up .from in last (or move them into first in case of sameLine)\n      for (var i$1 = 0; i$1 < last.length; ++i$1) {\n        var span$1 = last[i$1];\n        if (span$1.to != null) { span$1.to += offset; }\n        if (span$1.from == null) {\n          var found$1 = getMarkedSpanFor(first, span$1.marker);\n          if (!found$1) {\n            span$1.from = offset;\n            if (sameLine) { (first || (first = [])).push(span$1); }\n          }\n        } else {\n          span$1.from += offset;\n          if (sameLine) { (first || (first = [])).push(span$1); }\n        }\n      }\n    }\n    // Make sure we didn't create any zero-length spans\n    if (first) { first = clearEmptySpans(first); }\n    if (last && last != first) { last = clearEmptySpans(last); }\n\n    var newMarkers = [first];\n    if (!sameLine) {\n      // Fill gap with whole-line-spans\n      var gap = change.text.length - 2, gapMarkers;\n      if (gap > 0 && first)\n        { for (var i$2 = 0; i$2 < first.length; ++i$2)\n          { if (first[i$2].to == null)\n            { (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i$2].marker, null, null)); } } }\n      for (var i$3 = 0; i$3 < gap; ++i$3)\n        { newMarkers.push(gapMarkers); }\n      newMarkers.push(last);\n    }\n    return newMarkers\n  }\n\n  // Remove spans that are empty and don't have a clearWhenEmpty\n  // option of false.\n  function clearEmptySpans(spans) {\n    for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false)\n        { spans.splice(i--, 1); }\n    }\n    if (!spans.length) { return null }\n    return spans\n  }\n\n  // Used to 'clip' out readOnly ranges when making a change.\n  function removeReadOnlyRanges(doc, from, to) {\n    var markers = null;\n    doc.iter(from.line, to.line + 1, function (line) {\n      if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n        var mark = line.markedSpans[i].marker;\n        if (mark.readOnly && (!markers || indexOf(markers, mark) == -1))\n          { (markers || (markers = [])).push(mark); }\n      } }\n    });\n    if (!markers) { return null }\n    var parts = [{from: from, to: to}];\n    for (var i = 0; i < markers.length; ++i) {\n      var mk = markers[i], m = mk.find(0);\n      for (var j = 0; j < parts.length; ++j) {\n        var p = parts[j];\n        if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) { continue }\n        var newParts = [j, 1], dfrom = cmp(p.from, m.from), dto = cmp(p.to, m.to);\n        if (dfrom < 0 || !mk.inclusiveLeft && !dfrom)\n          { newParts.push({from: p.from, to: m.from}); }\n        if (dto > 0 || !mk.inclusiveRight && !dto)\n          { newParts.push({from: m.to, to: p.to}); }\n        parts.splice.apply(parts, newParts);\n        j += newParts.length - 3;\n      }\n    }\n    return parts\n  }\n\n  // Connect or disconnect spans from a line.\n  function detachMarkedSpans(line) {\n    var spans = line.markedSpans;\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.detachLine(line); }\n    line.markedSpans = null;\n  }\n  function attachMarkedSpans(line, spans) {\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.attachLine(line); }\n    line.markedSpans = spans;\n  }\n\n  // Helpers used when computing which overlapping collapsed span\n  // counts as the larger one.\n  function extraLeft(marker) { return marker.inclusiveLeft ? -1 : 0 }\n  function extraRight(marker) { return marker.inclusiveRight ? 1 : 0 }\n\n  // Returns a number indicating which of two overlapping collapsed\n  // spans is larger (and thus includes the other). Falls back to\n  // comparing ids when the spans cover exactly the same range.\n  function compareCollapsedMarkers(a, b) {\n    var lenDiff = a.lines.length - b.lines.length;\n    if (lenDiff != 0) { return lenDiff }\n    var aPos = a.find(), bPos = b.find();\n    var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b);\n    if (fromCmp) { return -fromCmp }\n    var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b);\n    if (toCmp) { return toCmp }\n    return b.id - a.id\n  }\n\n  // Find out whether a line ends or starts in a collapsed span. If\n  // so, return the marker for that span.\n  function collapsedSpanAtSide(line, start) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (sp.marker.collapsed && (start ? sp.from : sp.to) == null &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0))\n        { found = sp.marker; }\n    } }\n    return found\n  }\n  function collapsedSpanAtStart(line) { return collapsedSpanAtSide(line, true) }\n  function collapsedSpanAtEnd(line) { return collapsedSpanAtSide(line, false) }\n\n  function collapsedSpanAround(line, ch) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (sp.marker.collapsed && (sp.from == null || sp.from < ch) && (sp.to == null || sp.to > ch) &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0)) { found = sp.marker; }\n    } }\n    return found\n  }\n\n  // Test whether there exists a collapsed span that partially\n  // overlaps (covers the start or end, but not both) of a new span.\n  // Such overlap is not allowed.\n  function conflictingCollapsedRange(doc, lineNo, from, to, marker) {\n    var line = getLine(doc, lineNo);\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      var found = sp.marker.find(0);\n      var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker);\n      var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker);\n      if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) { continue }\n      if (fromCmp <= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.to, from) >= 0 : cmp(found.to, from) > 0) ||\n          fromCmp >= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.from, to) <= 0 : cmp(found.from, to) < 0))\n        { return true }\n    } }\n  }\n\n  // A visual line is a line as drawn on the screen. Folding, for\n  // example, can cause multiple logical lines to appear on the same\n  // visual line. This finds the start of the visual line that the\n  // given line is part of (usually that is the line itself).\n  function visualLine(line) {\n    var merged;\n    while (merged = collapsedSpanAtStart(line))\n      { line = merged.find(-1, true).line; }\n    return line\n  }\n\n  function visualLineEnd(line) {\n    var merged;\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return line\n  }\n\n  // Returns an array of logical lines that continue the visual line\n  // started by the argument, or undefined if there are no such lines.\n  function visualLineContinued(line) {\n    var merged, lines;\n    while (merged = collapsedSpanAtEnd(line)) {\n      line = merged.find(1, true).line\n      ;(lines || (lines = [])).push(line);\n    }\n    return lines\n  }\n\n  // Get the line number of the start of the visual line that the\n  // given line number is part of.\n  function visualLineNo(doc, lineN) {\n    var line = getLine(doc, lineN), vis = visualLine(line);\n    if (line == vis) { return lineN }\n    return lineNo(vis)\n  }\n\n  // Get the line number of the start of the next visual line after\n  // the given line.\n  function visualLineEndNo(doc, lineN) {\n    if (lineN > doc.lastLine()) { return lineN }\n    var line = getLine(doc, lineN), merged;\n    if (!lineIsHidden(doc, line)) { return lineN }\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return lineNo(line) + 1\n  }\n\n  // Compute whether a line is hidden. Lines count as hidden when they\n  // are part of a visual line that starts with another line, or when\n  // they are entirely covered by collapsed, non-widget span.\n  function lineIsHidden(doc, line) {\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      if (sp.from == null) { return true }\n      if (sp.marker.widgetNode) { continue }\n      if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp))\n        { return true }\n    } }\n  }\n  function lineIsHiddenInner(doc, line, span) {\n    if (span.to == null) {\n      var end = span.marker.find(1, true);\n      return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker))\n    }\n    if (span.marker.inclusiveRight && span.to == line.text.length)\n      { return true }\n    for (var sp = (void 0), i = 0; i < line.markedSpans.length; ++i) {\n      sp = line.markedSpans[i];\n      if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to &&\n          (sp.to == null || sp.to != span.from) &&\n          (sp.marker.inclusiveLeft || span.marker.inclusiveRight) &&\n          lineIsHiddenInner(doc, line, sp)) { return true }\n    }\n  }\n\n  // Find the height above the given line.\n  function heightAtLine(lineObj) {\n    lineObj = visualLine(lineObj);\n\n    var h = 0, chunk = lineObj.parent;\n    for (var i = 0; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i];\n      if (line == lineObj) { break }\n      else { h += line.height; }\n    }\n    for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {\n      for (var i$1 = 0; i$1 < p.children.length; ++i$1) {\n        var cur = p.children[i$1];\n        if (cur == chunk) { break }\n        else { h += cur.height; }\n      }\n    }\n    return h\n  }\n\n  // Compute the character length of a line, taking into account\n  // collapsed ranges (see markText) that might hide parts, and join\n  // other lines onto it.\n  function lineLength(line) {\n    if (line.height == 0) { return 0 }\n    var len = line.text.length, merged, cur = line;\n    while (merged = collapsedSpanAtStart(cur)) {\n      var found = merged.find(0, true);\n      cur = found.from.line;\n      len += found.from.ch - found.to.ch;\n    }\n    cur = line;\n    while (merged = collapsedSpanAtEnd(cur)) {\n      var found$1 = merged.find(0, true);\n      len -= cur.text.length - found$1.from.ch;\n      cur = found$1.to.line;\n      len += cur.text.length - found$1.to.ch;\n    }\n    return len\n  }\n\n  // Find the longest line in the document.\n  function findMaxLine(cm) {\n    var d = cm.display, doc = cm.doc;\n    d.maxLine = getLine(doc, doc.first);\n    d.maxLineLength = lineLength(d.maxLine);\n    d.maxLineChanged = true;\n    doc.iter(function (line) {\n      var len = lineLength(line);\n      if (len > d.maxLineLength) {\n        d.maxLineLength = len;\n        d.maxLine = line;\n      }\n    });\n  }\n\n  // LINE DATA STRUCTURE\n\n  // Line objects. These hold state related to a line, including\n  // highlighting info (the styles array).\n  var Line = function(text, markedSpans, estimateHeight) {\n    this.text = text;\n    attachMarkedSpans(this, markedSpans);\n    this.height = estimateHeight ? estimateHeight(this) : 1;\n  };\n\n  Line.prototype.lineNo = function () { return lineNo(this) };\n  eventMixin(Line);\n\n  // Change the content (text, markers) of a line. Automatically\n  // invalidates cached information and tries to re-estimate the\n  // line's height.\n  function updateLine(line, text, markedSpans, estimateHeight) {\n    line.text = text;\n    if (line.stateAfter) { line.stateAfter = null; }\n    if (line.styles) { line.styles = null; }\n    if (line.order != null) { line.order = null; }\n    detachMarkedSpans(line);\n    attachMarkedSpans(line, markedSpans);\n    var estHeight = estimateHeight ? estimateHeight(line) : 1;\n    if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n  }\n\n  // Detach a line from the document tree and its markers.\n  function cleanUpLine(line) {\n    line.parent = null;\n    detachMarkedSpans(line);\n  }\n\n  // Convert a style as returned by a mode (either null, or a string\n  // containing one or more styles) to a CSS style. This is cached,\n  // and also looks for line-wide styles.\n  var styleToClassCache = {}, styleToClassCacheWithMode = {};\n  function interpretTokenStyle(style, options) {\n    if (!style || /^\\s*$/.test(style)) { return null }\n    var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache;\n    return cache[style] ||\n      (cache[style] = style.replace(/\\S+/g, \"cm-$&\"))\n  }\n\n  // Render the DOM representation of the text of a line. Also builds\n  // up a 'line map', which points at the DOM nodes that represent\n  // specific stretches of text, and is used by the measuring code.\n  // The returned object contains the DOM node, this map, and\n  // information about line-wide styles that were set by the mode.\n  function buildLineContent(cm, lineView) {\n    // The padding-right forces the element to have a 'border', which\n    // is needed on Webkit to be able to get line-level bounding\n    // rectangles for it (in measureChar).\n    var content = eltP(\"span\", null, null, webkit ? \"padding-right: .1px\" : null);\n    var builder = {pre: eltP(\"pre\", [content], \"CodeMirror-line\"), content: content,\n                   col: 0, pos: 0, cm: cm,\n                   trailingSpace: false,\n                   splitSpaces: cm.getOption(\"lineWrapping\")};\n    lineView.measure = {};\n\n    // Iterate over the logical lines that make up this visual line.\n    for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {\n      var line = i ? lineView.rest[i - 1] : lineView.line, order = (void 0);\n      builder.pos = 0;\n      builder.addToken = buildToken;\n      // Optionally wire in some hacks into the token-rendering\n      // algorithm, to deal with browser quirks.\n      if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line, cm.doc.direction)))\n        { builder.addToken = buildTokenBadBidi(builder.addToken, order); }\n      builder.map = [];\n      var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line);\n      insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate));\n      if (line.styleClasses) {\n        if (line.styleClasses.bgClass)\n          { builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || \"\"); }\n        if (line.styleClasses.textClass)\n          { builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || \"\"); }\n      }\n\n      // Ensure at least a single node is present, for measuring.\n      if (builder.map.length == 0)\n        { builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure))); }\n\n      // Store the map and a cache object for the current logical line\n      if (i == 0) {\n        lineView.measure.map = builder.map;\n        lineView.measure.cache = {};\n      } else {\n  (lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map)\n        ;(lineView.measure.caches || (lineView.measure.caches = [])).push({});\n      }\n    }\n\n    // See issue #2901\n    if (webkit) {\n      var last = builder.content.lastChild;\n      if (/\\bcm-tab\\b/.test(last.className) || (last.querySelector && last.querySelector(\".cm-tab\")))\n        { builder.content.className = \"cm-tab-wrap-hack\"; }\n    }\n\n    signal(cm, \"renderLine\", cm, lineView.line, builder.pre);\n    if (builder.pre.className)\n      { builder.textClass = joinClasses(builder.pre.className, builder.textClass || \"\"); }\n\n    return builder\n  }\n\n  function defaultSpecialCharPlaceholder(ch) {\n    var token = elt(\"span\", \"\\u2022\", \"cm-invalidchar\");\n    token.title = \"\\\\u\" + ch.charCodeAt(0).toString(16);\n    token.setAttribute(\"aria-label\", token.title);\n    return token\n  }\n\n  // Build up the DOM representation for a single token, and add it to\n  // the line map. Takes care to render special characters separately.\n  function buildToken(builder, text, style, startStyle, endStyle, css, attributes) {\n    if (!text) { return }\n    var displayText = builder.splitSpaces ? splitSpaces(text, builder.trailingSpace) : text;\n    var special = builder.cm.state.specialChars, mustWrap = false;\n    var content;\n    if (!special.test(text)) {\n      builder.col += text.length;\n      content = document.createTextNode(displayText);\n      builder.map.push(builder.pos, builder.pos + text.length, content);\n      if (ie && ie_version < 9) { mustWrap = true; }\n      builder.pos += text.length;\n    } else {\n      content = document.createDocumentFragment();\n      var pos = 0;\n      while (true) {\n        special.lastIndex = pos;\n        var m = special.exec(text);\n        var skipped = m ? m.index - pos : text.length - pos;\n        if (skipped) {\n          var txt = document.createTextNode(displayText.slice(pos, pos + skipped));\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt])); }\n          else { content.appendChild(txt); }\n          builder.map.push(builder.pos, builder.pos + skipped, txt);\n          builder.col += skipped;\n          builder.pos += skipped;\n        }\n        if (!m) { break }\n        pos += skipped + 1;\n        var txt$1 = (void 0);\n        if (m[0] == \"\\t\") {\n          var tabSize = builder.cm.options.tabSize, tabWidth = tabSize - builder.col % tabSize;\n          txt$1 = content.appendChild(elt(\"span\", spaceStr(tabWidth), \"cm-tab\"));\n          txt$1.setAttribute(\"role\", \"presentation\");\n          txt$1.setAttribute(\"cm-text\", \"\\t\");\n          builder.col += tabWidth;\n        } else if (m[0] == \"\\r\" || m[0] == \"\\n\") {\n          txt$1 = content.appendChild(elt(\"span\", m[0] == \"\\r\" ? \"\\u240d\" : \"\\u2424\", \"cm-invalidchar\"));\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          builder.col += 1;\n        } else {\n          txt$1 = builder.cm.options.specialCharPlaceholder(m[0]);\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt$1])); }\n          else { content.appendChild(txt$1); }\n          builder.col += 1;\n        }\n        builder.map.push(builder.pos, builder.pos + 1, txt$1);\n        builder.pos++;\n      }\n    }\n    builder.trailingSpace = displayText.charCodeAt(text.length - 1) == 32;\n    if (style || startStyle || endStyle || mustWrap || css || attributes) {\n      var fullStyle = style || \"\";\n      if (startStyle) { fullStyle += startStyle; }\n      if (endStyle) { fullStyle += endStyle; }\n      var token = elt(\"span\", [content], fullStyle, css);\n      if (attributes) {\n        for (var attr in attributes) { if (attributes.hasOwnProperty(attr) && attr != \"style\" && attr != \"class\")\n          { token.setAttribute(attr, attributes[attr]); } }\n      }\n      return builder.content.appendChild(token)\n    }\n    builder.content.appendChild(content);\n  }\n\n  // Change some spaces to NBSP to prevent the browser from collapsing\n  // trailing spaces at the end of a line when rendering text (issue #1362).\n  function splitSpaces(text, trailingBefore) {\n    if (text.length > 1 && !/  /.test(text)) { return text }\n    var spaceBefore = trailingBefore, result = \"\";\n    for (var i = 0; i < text.length; i++) {\n      var ch = text.charAt(i);\n      if (ch == \" \" && spaceBefore && (i == text.length - 1 || text.charCodeAt(i + 1) == 32))\n        { ch = \"\\u00a0\"; }\n      result += ch;\n      spaceBefore = ch == \" \";\n    }\n    return result\n  }\n\n  // Work around nonsense dimensions being reported for stretches of\n  // right-to-left text.\n  function buildTokenBadBidi(inner, order) {\n    return function (builder, text, style, startStyle, endStyle, css, attributes) {\n      style = style ? style + \" cm-force-border\" : \"cm-force-border\";\n      var start = builder.pos, end = start + text.length;\n      for (;;) {\n        // Find the part that overlaps with the start of this text\n        var part = (void 0);\n        for (var i = 0; i < order.length; i++) {\n          part = order[i];\n          if (part.to > start && part.from <= start) { break }\n        }\n        if (part.to >= end) { return inner(builder, text, style, startStyle, endStyle, css, attributes) }\n        inner(builder, text.slice(0, part.to - start), style, startStyle, null, css, attributes);\n        startStyle = null;\n        text = text.slice(part.to - start);\n        start = part.to;\n      }\n    }\n  }\n\n  function buildCollapsedSpan(builder, size, marker, ignoreWidget) {\n    var widget = !ignoreWidget && marker.widgetNode;\n    if (widget) { builder.map.push(builder.pos, builder.pos + size, widget); }\n    if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {\n      if (!widget)\n        { widget = builder.content.appendChild(document.createElement(\"span\")); }\n      widget.setAttribute(\"cm-marker\", marker.id);\n    }\n    if (widget) {\n      builder.cm.display.input.setUneditable(widget);\n      builder.content.appendChild(widget);\n    }\n    builder.pos += size;\n    builder.trailingSpace = false;\n  }\n\n  // Outputs a number of spans to make up a line, taking highlighting\n  // and marked text into account.\n  function insertLineContent(line, builder, styles) {\n    var spans = line.markedSpans, allText = line.text, at = 0;\n    if (!spans) {\n      for (var i$1 = 1; i$1 < styles.length; i$1+=2)\n        { builder.addToken(builder, allText.slice(at, at = styles[i$1]), interpretTokenStyle(styles[i$1+1], builder.cm.options)); }\n      return\n    }\n\n    var len = allText.length, pos = 0, i = 1, text = \"\", style, css;\n    var nextChange = 0, spanStyle, spanEndStyle, spanStartStyle, collapsed, attributes;\n    for (;;) {\n      if (nextChange == pos) { // Update current marker set\n        spanStyle = spanEndStyle = spanStartStyle = css = \"\";\n        attributes = null;\n        collapsed = null; nextChange = Infinity;\n        var foundBookmarks = [], endStyles = (void 0);\n        for (var j = 0; j < spans.length; ++j) {\n          var sp = spans[j], m = sp.marker;\n          if (m.type == \"bookmark\" && sp.from == pos && m.widgetNode) {\n            foundBookmarks.push(m);\n          } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {\n            if (sp.to != null && sp.to != pos && nextChange > sp.to) {\n              nextChange = sp.to;\n              spanEndStyle = \"\";\n            }\n            if (m.className) { spanStyle += \" \" + m.className; }\n            if (m.css) { css = (css ? css + \";\" : \"\") + m.css; }\n            if (m.startStyle && sp.from == pos) { spanStartStyle += \" \" + m.startStyle; }\n            if (m.endStyle && sp.to == nextChange) { (endStyles || (endStyles = [])).push(m.endStyle, sp.to); }\n            // support for the old title property\n            // https://github.com/codemirror/CodeMirror/pull/5673\n            if (m.title) { (attributes || (attributes = {})).title = m.title; }\n            if (m.attributes) {\n              for (var attr in m.attributes)\n                { (attributes || (attributes = {}))[attr] = m.attributes[attr]; }\n            }\n            if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0))\n              { collapsed = sp; }\n          } else if (sp.from > pos && nextChange > sp.from) {\n            nextChange = sp.from;\n          }\n        }\n        if (endStyles) { for (var j$1 = 0; j$1 < endStyles.length; j$1 += 2)\n          { if (endStyles[j$1 + 1] == nextChange) { spanEndStyle += \" \" + endStyles[j$1]; } } }\n\n        if (!collapsed || collapsed.from == pos) { for (var j$2 = 0; j$2 < foundBookmarks.length; ++j$2)\n          { buildCollapsedSpan(builder, 0, foundBookmarks[j$2]); } }\n        if (collapsed && (collapsed.from || 0) == pos) {\n          buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos,\n                             collapsed.marker, collapsed.from == null);\n          if (collapsed.to == null) { return }\n          if (collapsed.to == pos) { collapsed = false; }\n        }\n      }\n      if (pos >= len) { break }\n\n      var upto = Math.min(len, nextChange);\n      while (true) {\n        if (text) {\n          var end = pos + text.length;\n          if (!collapsed) {\n            var tokenText = end > upto ? text.slice(0, upto - pos) : text;\n            builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle,\n                             spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : \"\", css, attributes);\n          }\n          if (end >= upto) {text = text.slice(upto - pos); pos = upto; break}\n          pos = end;\n          spanStartStyle = \"\";\n        }\n        text = allText.slice(at, at = styles[i++]);\n        style = interpretTokenStyle(styles[i++], builder.cm.options);\n      }\n    }\n  }\n\n\n  // These objects are used to represent the visible (currently drawn)\n  // part of the document. A LineView may correspond to multiple\n  // logical lines, if those are connected by collapsed ranges.\n  function LineView(doc, line, lineN) {\n    // The starting line\n    this.line = line;\n    // Continuing lines, if any\n    this.rest = visualLineContinued(line);\n    // Number of logical lines in this visual line\n    this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1;\n    this.node = this.text = null;\n    this.hidden = lineIsHidden(doc, line);\n  }\n\n  // Create a range of LineView objects for the given lines.\n  function buildViewArray(cm, from, to) {\n    var array = [], nextPos;\n    for (var pos = from; pos < to; pos = nextPos) {\n      var view = new LineView(cm.doc, getLine(cm.doc, pos), pos);\n      nextPos = pos + view.size;\n      array.push(view);\n    }\n    return array\n  }\n\n  var operationGroup = null;\n\n  function pushOperation(op) {\n    if (operationGroup) {\n      operationGroup.ops.push(op);\n    } else {\n      op.ownsGroup = operationGroup = {\n        ops: [op],\n        delayedCallbacks: []\n      };\n    }\n  }\n\n  function fireCallbacksForOps(group) {\n    // Calls delayed callbacks and cursorActivity handlers until no\n    // new ones appear\n    var callbacks = group.delayedCallbacks, i = 0;\n    do {\n      for (; i < callbacks.length; i++)\n        { callbacks[i].call(null); }\n      for (var j = 0; j < group.ops.length; j++) {\n        var op = group.ops[j];\n        if (op.cursorActivityHandlers)\n          { while (op.cursorActivityCalled < op.cursorActivityHandlers.length)\n            { op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm); } }\n      }\n    } while (i < callbacks.length)\n  }\n\n  function finishOperation(op, endCb) {\n    var group = op.ownsGroup;\n    if (!group) { return }\n\n    try { fireCallbacksForOps(group); }\n    finally {\n      operationGroup = null;\n      endCb(group);\n    }\n  }\n\n  var orphanDelayedCallbacks = null;\n\n  // Often, we want to signal events at a point where we are in the\n  // middle of some work, but don't want the handler to start calling\n  // other methods on the editor, which might be in an inconsistent\n  // state or simply not expect any other events to happen.\n  // signalLater looks whether there are any handlers, and schedules\n  // them to be executed when the last operation ends, or, if no\n  // operation is active, when a timeout fires.\n  function signalLater(emitter, type /*, values...*/) {\n    var arr = getHandlers(emitter, type);\n    if (!arr.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2), list;\n    if (operationGroup) {\n      list = operationGroup.delayedCallbacks;\n    } else if (orphanDelayedCallbacks) {\n      list = orphanDelayedCallbacks;\n    } else {\n      list = orphanDelayedCallbacks = [];\n      setTimeout(fireOrphanDelayed, 0);\n    }\n    var loop = function ( i ) {\n      list.push(function () { return arr[i].apply(null, args); });\n    };\n\n    for (var i = 0; i < arr.length; ++i)\n      loop( i );\n  }\n\n  function fireOrphanDelayed() {\n    var delayed = orphanDelayedCallbacks;\n    orphanDelayedCallbacks = null;\n    for (var i = 0; i < delayed.length; ++i) { delayed[i](); }\n  }\n\n  // When an aspect of a line changes, a string is added to\n  // lineView.changes. This updates the relevant part of the line's\n  // DOM structure.\n  function updateLineForChanges(cm, lineView, lineN, dims) {\n    for (var j = 0; j < lineView.changes.length; j++) {\n      var type = lineView.changes[j];\n      if (type == \"text\") { updateLineText(cm, lineView); }\n      else if (type == \"gutter\") { updateLineGutter(cm, lineView, lineN, dims); }\n      else if (type == \"class\") { updateLineClasses(cm, lineView); }\n      else if (type == \"widget\") { updateLineWidgets(cm, lineView, dims); }\n    }\n    lineView.changes = null;\n  }\n\n  // Lines with gutter elements, widgets or a background class need to\n  // be wrapped, and have the extra elements added to the wrapper div\n  function ensureLineWrapped(lineView) {\n    if (lineView.node == lineView.text) {\n      lineView.node = elt(\"div\", null, null, \"position: relative\");\n      if (lineView.text.parentNode)\n        { lineView.text.parentNode.replaceChild(lineView.node, lineView.text); }\n      lineView.node.appendChild(lineView.text);\n      if (ie && ie_version < 8) { lineView.node.style.zIndex = 2; }\n    }\n    return lineView.node\n  }\n\n  function updateLineBackground(cm, lineView) {\n    var cls = lineView.bgClass ? lineView.bgClass + \" \" + (lineView.line.bgClass || \"\") : lineView.line.bgClass;\n    if (cls) { cls += \" CodeMirror-linebackground\"; }\n    if (lineView.background) {\n      if (cls) { lineView.background.className = cls; }\n      else { lineView.background.parentNode.removeChild(lineView.background); lineView.background = null; }\n    } else if (cls) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.background = wrap.insertBefore(elt(\"div\", null, cls), wrap.firstChild);\n      cm.display.input.setUneditable(lineView.background);\n    }\n  }\n\n  // Wrapper around buildLineContent which will reuse the structure\n  // in display.externalMeasured when possible.\n  function getLineContent(cm, lineView) {\n    var ext = cm.display.externalMeasured;\n    if (ext && ext.line == lineView.line) {\n      cm.display.externalMeasured = null;\n      lineView.measure = ext.measure;\n      return ext.built\n    }\n    return buildLineContent(cm, lineView)\n  }\n\n  // Redraw the line's text. Interacts with the background and text\n  // classes because the mode may output tokens that influence these\n  // classes.\n  function updateLineText(cm, lineView) {\n    var cls = lineView.text.className;\n    var built = getLineContent(cm, lineView);\n    if (lineView.text == lineView.node) { lineView.node = built.pre; }\n    lineView.text.parentNode.replaceChild(built.pre, lineView.text);\n    lineView.text = built.pre;\n    if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {\n      lineView.bgClass = built.bgClass;\n      lineView.textClass = built.textClass;\n      updateLineClasses(cm, lineView);\n    } else if (cls) {\n      lineView.text.className = cls;\n    }\n  }\n\n  function updateLineClasses(cm, lineView) {\n    updateLineBackground(cm, lineView);\n    if (lineView.line.wrapClass)\n      { ensureLineWrapped(lineView).className = lineView.line.wrapClass; }\n    else if (lineView.node != lineView.text)\n      { lineView.node.className = \"\"; }\n    var textClass = lineView.textClass ? lineView.textClass + \" \" + (lineView.line.textClass || \"\") : lineView.line.textClass;\n    lineView.text.className = textClass || \"\";\n  }\n\n  function updateLineGutter(cm, lineView, lineN, dims) {\n    if (lineView.gutter) {\n      lineView.node.removeChild(lineView.gutter);\n      lineView.gutter = null;\n    }\n    if (lineView.gutterBackground) {\n      lineView.node.removeChild(lineView.gutterBackground);\n      lineView.gutterBackground = null;\n    }\n    if (lineView.line.gutterClass) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.gutterBackground = elt(\"div\", null, \"CodeMirror-gutter-background \" + lineView.line.gutterClass,\n                                      (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px; width: \" + (dims.gutterTotalWidth) + \"px\"));\n      cm.display.input.setUneditable(lineView.gutterBackground);\n      wrap.insertBefore(lineView.gutterBackground, lineView.text);\n    }\n    var markers = lineView.line.gutterMarkers;\n    if (cm.options.lineNumbers || markers) {\n      var wrap$1 = ensureLineWrapped(lineView);\n      var gutterWrap = lineView.gutter = elt(\"div\", null, \"CodeMirror-gutter-wrapper\", (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px\"));\n      gutterWrap.setAttribute(\"aria-hidden\", \"true\");\n      cm.display.input.setUneditable(gutterWrap);\n      wrap$1.insertBefore(gutterWrap, lineView.text);\n      if (lineView.line.gutterClass)\n        { gutterWrap.className += \" \" + lineView.line.gutterClass; }\n      if (cm.options.lineNumbers && (!markers || !markers[\"CodeMirror-linenumbers\"]))\n        { lineView.lineNumber = gutterWrap.appendChild(\n          elt(\"div\", lineNumberFor(cm.options, lineN),\n              \"CodeMirror-linenumber CodeMirror-gutter-elt\",\n              (\"left: \" + (dims.gutterLeft[\"CodeMirror-linenumbers\"]) + \"px; width: \" + (cm.display.lineNumInnerWidth) + \"px\"))); }\n      if (markers) { for (var k = 0; k < cm.display.gutterSpecs.length; ++k) {\n        var id = cm.display.gutterSpecs[k].className, found = markers.hasOwnProperty(id) && markers[id];\n        if (found)\n          { gutterWrap.appendChild(elt(\"div\", [found], \"CodeMirror-gutter-elt\",\n                                     (\"left: \" + (dims.gutterLeft[id]) + \"px; width: \" + (dims.gutterWidth[id]) + \"px\"))); }\n      } }\n    }\n  }\n\n  function updateLineWidgets(cm, lineView, dims) {\n    if (lineView.alignable) { lineView.alignable = null; }\n    var isWidget = classTest(\"CodeMirror-linewidget\");\n    for (var node = lineView.node.firstChild, next = (void 0); node; node = next) {\n      next = node.nextSibling;\n      if (isWidget.test(node.className)) { lineView.node.removeChild(node); }\n    }\n    insertLineWidgets(cm, lineView, dims);\n  }\n\n  // Build a line's DOM representation from scratch\n  function buildLineElement(cm, lineView, lineN, dims) {\n    var built = getLineContent(cm, lineView);\n    lineView.text = lineView.node = built.pre;\n    if (built.bgClass) { lineView.bgClass = built.bgClass; }\n    if (built.textClass) { lineView.textClass = built.textClass; }\n\n    updateLineClasses(cm, lineView);\n    updateLineGutter(cm, lineView, lineN, dims);\n    insertLineWidgets(cm, lineView, dims);\n    return lineView.node\n  }\n\n  // A lineView may contain multiple logical lines (when merged by\n  // collapsed spans). The widgets for all of them need to be drawn.\n  function insertLineWidgets(cm, lineView, dims) {\n    insertLineWidgetsFor(cm, lineView.line, lineView, dims, true);\n    if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n      { insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false); } }\n  }\n\n  function insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {\n    if (!line.widgets) { return }\n    var wrap = ensureLineWrapped(lineView);\n    for (var i = 0, ws = line.widgets; i < ws.length; ++i) {\n      var widget = ws[i], node = elt(\"div\", [widget.node], \"CodeMirror-linewidget\" + (widget.className ? \" \" + widget.className : \"\"));\n      if (!widget.handleMouseEvents) { node.setAttribute(\"cm-ignore-events\", \"true\"); }\n      positionLineWidget(widget, node, lineView, dims);\n      cm.display.input.setUneditable(node);\n      if (allowAbove && widget.above)\n        { wrap.insertBefore(node, lineView.gutter || lineView.text); }\n      else\n        { wrap.appendChild(node); }\n      signalLater(widget, \"redraw\");\n    }\n  }\n\n  function positionLineWidget(widget, node, lineView, dims) {\n    if (widget.noHScroll) {\n  (lineView.alignable || (lineView.alignable = [])).push(node);\n      var width = dims.wrapperWidth;\n      node.style.left = dims.fixedPos + \"px\";\n      if (!widget.coverGutter) {\n        width -= dims.gutterTotalWidth;\n        node.style.paddingLeft = dims.gutterTotalWidth + \"px\";\n      }\n      node.style.width = width + \"px\";\n    }\n    if (widget.coverGutter) {\n      node.style.zIndex = 5;\n      node.style.position = \"relative\";\n      if (!widget.noHScroll) { node.style.marginLeft = -dims.gutterTotalWidth + \"px\"; }\n    }\n  }\n\n  function widgetHeight(widget) {\n    if (widget.height != null) { return widget.height }\n    var cm = widget.doc.cm;\n    if (!cm) { return 0 }\n    if (!contains(document.body, widget.node)) {\n      var parentStyle = \"position: relative;\";\n      if (widget.coverGutter)\n        { parentStyle += \"margin-left: -\" + cm.display.gutters.offsetWidth + \"px;\"; }\n      if (widget.noHScroll)\n        { parentStyle += \"width: \" + cm.display.wrapper.clientWidth + \"px;\"; }\n      removeChildrenAndAdd(cm.display.measure, elt(\"div\", [widget.node], null, parentStyle));\n    }\n    return widget.height = widget.node.parentNode.offsetHeight\n  }\n\n  // Return true when the given mouse event happened in a widget\n  function eventInWidget(display, e) {\n    for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {\n      if (!n || (n.nodeType == 1 && n.getAttribute(\"cm-ignore-events\") == \"true\") ||\n          (n.parentNode == display.sizer && n != display.mover))\n        { return true }\n    }\n  }\n\n  // POSITION MEASUREMENT\n\n  function paddingTop(display) {return display.lineSpace.offsetTop}\n  function paddingVert(display) {return display.mover.offsetHeight - display.lineSpace.offsetHeight}\n  function paddingH(display) {\n    if (display.cachedPaddingH) { return display.cachedPaddingH }\n    var e = removeChildrenAndAdd(display.measure, elt(\"pre\", \"x\", \"CodeMirror-line-like\"));\n    var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle;\n    var data = {left: parseInt(style.paddingLeft), right: parseInt(style.paddingRight)};\n    if (!isNaN(data.left) && !isNaN(data.right)) { display.cachedPaddingH = data; }\n    return data\n  }\n\n  function scrollGap(cm) { return scrollerGap - cm.display.nativeBarWidth }\n  function displayWidth(cm) {\n    return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth\n  }\n  function displayHeight(cm) {\n    return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight\n  }\n\n  // Ensure the lineView.wrapping.heights array is populated. This is\n  // an array of bottom offsets for the lines that make up a drawn\n  // line. When lineWrapping is on, there might be more than one\n  // height.\n  function ensureLineHeights(cm, lineView, rect) {\n    var wrapping = cm.options.lineWrapping;\n    var curWidth = wrapping && displayWidth(cm);\n    if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {\n      var heights = lineView.measure.heights = [];\n      if (wrapping) {\n        lineView.measure.width = curWidth;\n        var rects = lineView.text.firstChild.getClientRects();\n        for (var i = 0; i < rects.length - 1; i++) {\n          var cur = rects[i], next = rects[i + 1];\n          if (Math.abs(cur.bottom - next.bottom) > 2)\n            { heights.push((cur.bottom + next.top) / 2 - rect.top); }\n        }\n      }\n      heights.push(rect.bottom - rect.top);\n    }\n  }\n\n  // Find a line map (mapping character offsets to text nodes) and a\n  // measurement cache for the given line number. (A line view might\n  // contain multiple lines when collapsed ranges are present.)\n  function mapFromLineView(lineView, line, lineN) {\n    if (lineView.line == line)\n      { return {map: lineView.measure.map, cache: lineView.measure.cache} }\n    if (lineView.rest) {\n      for (var i = 0; i < lineView.rest.length; i++)\n        { if (lineView.rest[i] == line)\n          { return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i]} } }\n      for (var i$1 = 0; i$1 < lineView.rest.length; i$1++)\n        { if (lineNo(lineView.rest[i$1]) > lineN)\n          { return {map: lineView.measure.maps[i$1], cache: lineView.measure.caches[i$1], before: true} } }\n    }\n  }\n\n  // Render a line into the hidden node display.externalMeasured. Used\n  // when measurement is needed for a line that's not in the viewport.\n  function updateExternalMeasurement(cm, line) {\n    line = visualLine(line);\n    var lineN = lineNo(line);\n    var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN);\n    view.lineN = lineN;\n    var built = view.built = buildLineContent(cm, view);\n    view.text = built.pre;\n    removeChildrenAndAdd(cm.display.lineMeasure, built.pre);\n    return view\n  }\n\n  // Get a {top, bottom, left, right} box (in line-local coordinates)\n  // for a given character.\n  function measureChar(cm, line, ch, bias) {\n    return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias)\n  }\n\n  // Find a line view that corresponds to the given line number.\n  function findViewForLine(cm, lineN) {\n    if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo)\n      { return cm.display.view[findViewIndex(cm, lineN)] }\n    var ext = cm.display.externalMeasured;\n    if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size)\n      { return ext }\n  }\n\n  // Measurement can be split in two steps, the set-up work that\n  // applies to the whole line, and the measurement of the actual\n  // character. Functions like coordsChar, that need to do a lot of\n  // measurements in a row, can thus ensure that the set-up work is\n  // only done once.\n  function prepareMeasureForLine(cm, line) {\n    var lineN = lineNo(line);\n    var view = findViewForLine(cm, lineN);\n    if (view && !view.text) {\n      view = null;\n    } else if (view && view.changes) {\n      updateLineForChanges(cm, view, lineN, getDimensions(cm));\n      cm.curOp.forceUpdate = true;\n    }\n    if (!view)\n      { view = updateExternalMeasurement(cm, line); }\n\n    var info = mapFromLineView(view, line, lineN);\n    return {\n      line: line, view: view, rect: null,\n      map: info.map, cache: info.cache, before: info.before,\n      hasHeights: false\n    }\n  }\n\n  // Given a prepared measurement object, measures the position of an\n  // actual character (or fetches it from the cache).\n  function measureCharPrepared(cm, prepared, ch, bias, varHeight) {\n    if (prepared.before) { ch = -1; }\n    var key = ch + (bias || \"\"), found;\n    if (prepared.cache.hasOwnProperty(key)) {\n      found = prepared.cache[key];\n    } else {\n      if (!prepared.rect)\n        { prepared.rect = prepared.view.text.getBoundingClientRect(); }\n      if (!prepared.hasHeights) {\n        ensureLineHeights(cm, prepared.view, prepared.rect);\n        prepared.hasHeights = true;\n      }\n      found = measureCharInner(cm, prepared, ch, bias);\n      if (!found.bogus) { prepared.cache[key] = found; }\n    }\n    return {left: found.left, right: found.right,\n            top: varHeight ? found.rtop : found.top,\n            bottom: varHeight ? found.rbottom : found.bottom}\n  }\n\n  var nullRect = {left: 0, right: 0, top: 0, bottom: 0};\n\n  function nodeAndOffsetInLineMap(map, ch, bias) {\n    var node, start, end, collapse, mStart, mEnd;\n    // First, search the line map for the text node corresponding to,\n    // or closest to, the target character.\n    for (var i = 0; i < map.length; i += 3) {\n      mStart = map[i];\n      mEnd = map[i + 1];\n      if (ch < mStart) {\n        start = 0; end = 1;\n        collapse = \"left\";\n      } else if (ch < mEnd) {\n        start = ch - mStart;\n        end = start + 1;\n      } else if (i == map.length - 3 || ch == mEnd && map[i + 3] > ch) {\n        end = mEnd - mStart;\n        start = end - 1;\n        if (ch >= mEnd) { collapse = \"right\"; }\n      }\n      if (start != null) {\n        node = map[i + 2];\n        if (mStart == mEnd && bias == (node.insertLeft ? \"left\" : \"right\"))\n          { collapse = bias; }\n        if (bias == \"left\" && start == 0)\n          { while (i && map[i - 2] == map[i - 3] && map[i - 1].insertLeft) {\n            node = map[(i -= 3) + 2];\n            collapse = \"left\";\n          } }\n        if (bias == \"right\" && start == mEnd - mStart)\n          { while (i < map.length - 3 && map[i + 3] == map[i + 4] && !map[i + 5].insertLeft) {\n            node = map[(i += 3) + 2];\n            collapse = \"right\";\n          } }\n        break\n      }\n    }\n    return {node: node, start: start, end: end, collapse: collapse, coverStart: mStart, coverEnd: mEnd}\n  }\n\n  function getUsefulRect(rects, bias) {\n    var rect = nullRect;\n    if (bias == \"left\") { for (var i = 0; i < rects.length; i++) {\n      if ((rect = rects[i]).left != rect.right) { break }\n    } } else { for (var i$1 = rects.length - 1; i$1 >= 0; i$1--) {\n      if ((rect = rects[i$1]).left != rect.right) { break }\n    } }\n    return rect\n  }\n\n  function measureCharInner(cm, prepared, ch, bias) {\n    var place = nodeAndOffsetInLineMap(prepared.map, ch, bias);\n    var node = place.node, start = place.start, end = place.end, collapse = place.collapse;\n\n    var rect;\n    if (node.nodeType == 3) { // If it is a text node, use a range to retrieve the coordinates.\n      for (var i$1 = 0; i$1 < 4; i$1++) { // Retry a maximum of 4 times when nonsense rectangles are returned\n        while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) { --start; }\n        while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) { ++end; }\n        if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart)\n          { rect = node.parentNode.getBoundingClientRect(); }\n        else\n          { rect = getUsefulRect(range(node, start, end).getClientRects(), bias); }\n        if (rect.left || rect.right || start == 0) { break }\n        end = start;\n        start = start - 1;\n        collapse = \"right\";\n      }\n      if (ie && ie_version < 11) { rect = maybeUpdateRectForZooming(cm.display.measure, rect); }\n    } else { // If it is a widget, simply get the box for the whole widget.\n      if (start > 0) { collapse = bias = \"right\"; }\n      var rects;\n      if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1)\n        { rect = rects[bias == \"right\" ? rects.length - 1 : 0]; }\n      else\n        { rect = node.getBoundingClientRect(); }\n    }\n    if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {\n      var rSpan = node.parentNode.getClientRects()[0];\n      if (rSpan)\n        { rect = {left: rSpan.left, right: rSpan.left + charWidth(cm.display), top: rSpan.top, bottom: rSpan.bottom}; }\n      else\n        { rect = nullRect; }\n    }\n\n    var rtop = rect.top - prepared.rect.top, rbot = rect.bottom - prepared.rect.top;\n    var mid = (rtop + rbot) / 2;\n    var heights = prepared.view.measure.heights;\n    var i = 0;\n    for (; i < heights.length - 1; i++)\n      { if (mid < heights[i]) { break } }\n    var top = i ? heights[i - 1] : 0, bot = heights[i];\n    var result = {left: (collapse == \"right\" ? rect.right : rect.left) - prepared.rect.left,\n                  right: (collapse == \"left\" ? rect.left : rect.right) - prepared.rect.left,\n                  top: top, bottom: bot};\n    if (!rect.left && !rect.right) { result.bogus = true; }\n    if (!cm.options.singleCursorHeightPerLine) { result.rtop = rtop; result.rbottom = rbot; }\n\n    return result\n  }\n\n  // Work around problem with bounding client rects on ranges being\n  // returned incorrectly when zoomed on IE10 and below.\n  function maybeUpdateRectForZooming(measure, rect) {\n    if (!window.screen || screen.logicalXDPI == null ||\n        screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure))\n      { return rect }\n    var scaleX = screen.logicalXDPI / screen.deviceXDPI;\n    var scaleY = screen.logicalYDPI / screen.deviceYDPI;\n    return {left: rect.left * scaleX, right: rect.right * scaleX,\n            top: rect.top * scaleY, bottom: rect.bottom * scaleY}\n  }\n\n  function clearLineMeasurementCacheFor(lineView) {\n    if (lineView.measure) {\n      lineView.measure.cache = {};\n      lineView.measure.heights = null;\n      if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n        { lineView.measure.caches[i] = {}; } }\n    }\n  }\n\n  function clearLineMeasurementCache(cm) {\n    cm.display.externalMeasure = null;\n    removeChildren(cm.display.lineMeasure);\n    for (var i = 0; i < cm.display.view.length; i++)\n      { clearLineMeasurementCacheFor(cm.display.view[i]); }\n  }\n\n  function clearCaches(cm) {\n    clearLineMeasurementCache(cm);\n    cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null;\n    if (!cm.options.lineWrapping) { cm.display.maxLineChanged = true; }\n    cm.display.lineNumChars = null;\n  }\n\n  function pageScrollX() {\n    // Work around https://bugs.chromium.org/p/chromium/issues/detail?id=489206\n    // which causes page_Offset and bounding client rects to use\n    // different reference viewports and invalidate our calculations.\n    if (chrome && android) { return -(document.body.getBoundingClientRect().left - parseInt(getComputedStyle(document.body).marginLeft)) }\n    return window.pageXOffset || (document.documentElement || document.body).scrollLeft\n  }\n  function pageScrollY() {\n    if (chrome && android) { return -(document.body.getBoundingClientRect().top - parseInt(getComputedStyle(document.body).marginTop)) }\n    return window.pageYOffset || (document.documentElement || document.body).scrollTop\n  }\n\n  function widgetTopHeight(lineObj) {\n    var height = 0;\n    if (lineObj.widgets) { for (var i = 0; i < lineObj.widgets.length; ++i) { if (lineObj.widgets[i].above)\n      { height += widgetHeight(lineObj.widgets[i]); } } }\n    return height\n  }\n\n  // Converts a {top, bottom, left, right} box from line-local\n  // coordinates into another coordinate system. Context may be one of\n  // \"line\", \"div\" (display.lineDiv), \"local\"./null (editor), \"window\",\n  // or \"page\".\n  function intoCoordSystem(cm, lineObj, rect, context, includeWidgets) {\n    if (!includeWidgets) {\n      var height = widgetTopHeight(lineObj);\n      rect.top += height; rect.bottom += height;\n    }\n    if (context == \"line\") { return rect }\n    if (!context) { context = \"local\"; }\n    var yOff = heightAtLine(lineObj);\n    if (context == \"local\") { yOff += paddingTop(cm.display); }\n    else { yOff -= cm.display.viewOffset; }\n    if (context == \"page\" || context == \"window\") {\n      var lOff = cm.display.lineSpace.getBoundingClientRect();\n      yOff += lOff.top + (context == \"window\" ? 0 : pageScrollY());\n      var xOff = lOff.left + (context == \"window\" ? 0 : pageScrollX());\n      rect.left += xOff; rect.right += xOff;\n    }\n    rect.top += yOff; rect.bottom += yOff;\n    return rect\n  }\n\n  // Coverts a box from \"div\" coords to another coordinate system.\n  // Context may be \"window\", \"page\", \"div\", or \"local\"./null.\n  function fromCoordSystem(cm, coords, context) {\n    if (context == \"div\") { return coords }\n    var left = coords.left, top = coords.top;\n    // First move into \"page\" coordinate system\n    if (context == \"page\") {\n      left -= pageScrollX();\n      top -= pageScrollY();\n    } else if (context == \"local\" || !context) {\n      var localBox = cm.display.sizer.getBoundingClientRect();\n      left += localBox.left;\n      top += localBox.top;\n    }\n\n    var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect();\n    return {left: left - lineSpaceBox.left, top: top - lineSpaceBox.top}\n  }\n\n  function charCoords(cm, pos, context, lineObj, bias) {\n    if (!lineObj) { lineObj = getLine(cm.doc, pos.line); }\n    return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context)\n  }\n\n  // Returns a box for a given cursor position, which may have an\n  // 'other' property containing the position of the secondary cursor\n  // on a bidi boundary.\n  // A cursor Pos(line, char, \"before\") is on the same visual line as `char - 1`\n  // and after `char - 1` in writing order of `char - 1`\n  // A cursor Pos(line, char, \"after\") is on the same visual line as `char`\n  // and before `char` in writing order of `char`\n  // Examples (upper-case letters are RTL, lower-case are LTR):\n  //     Pos(0, 1, ...)\n  //     before   after\n  // ab     a|b     a|b\n  // aB     a|B     aB|\n  // Ab     |Ab     A|b\n  // AB     B|A     B|A\n  // Every position after the last character on a line is considered to stick\n  // to the last character on the line.\n  function cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {\n    lineObj = lineObj || getLine(cm.doc, pos.line);\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    function get(ch, right) {\n      var m = measureCharPrepared(cm, preparedMeasure, ch, right ? \"right\" : \"left\", varHeight);\n      if (right) { m.left = m.right; } else { m.right = m.left; }\n      return intoCoordSystem(cm, lineObj, m, context)\n    }\n    var order = getOrder(lineObj, cm.doc.direction), ch = pos.ch, sticky = pos.sticky;\n    if (ch >= lineObj.text.length) {\n      ch = lineObj.text.length;\n      sticky = \"before\";\n    } else if (ch <= 0) {\n      ch = 0;\n      sticky = \"after\";\n    }\n    if (!order) { return get(sticky == \"before\" ? ch - 1 : ch, sticky == \"before\") }\n\n    function getBidi(ch, partPos, invert) {\n      var part = order[partPos], right = part.level == 1;\n      return get(invert ? ch - 1 : ch, right != invert)\n    }\n    var partPos = getBidiPartAt(order, ch, sticky);\n    var other = bidiOther;\n    var val = getBidi(ch, partPos, sticky == \"before\");\n    if (other != null) { val.other = getBidi(ch, other, sticky != \"before\"); }\n    return val\n  }\n\n  // Used to cheaply estimate the coordinates for a position. Used for\n  // intermediate scroll updates.\n  function estimateCoords(cm, pos) {\n    var left = 0;\n    pos = clipPos(cm.doc, pos);\n    if (!cm.options.lineWrapping) { left = charWidth(cm.display) * pos.ch; }\n    var lineObj = getLine(cm.doc, pos.line);\n    var top = heightAtLine(lineObj) + paddingTop(cm.display);\n    return {left: left, right: left, top: top, bottom: top + lineObj.height}\n  }\n\n  // Positions returned by coordsChar contain some extra information.\n  // xRel is the relative x position of the input coordinates compared\n  // to the found position (so xRel > 0 means the coordinates are to\n  // the right of the character position, for example). When outside\n  // is true, that means the coordinates lie outside the line's\n  // vertical range.\n  function PosWithInfo(line, ch, sticky, outside, xRel) {\n    var pos = Pos(line, ch, sticky);\n    pos.xRel = xRel;\n    if (outside) { pos.outside = outside; }\n    return pos\n  }\n\n  // Compute the character position closest to the given coordinates.\n  // Input must be lineSpace-local (\"div\" coordinate system).\n  function coordsChar(cm, x, y) {\n    var doc = cm.doc;\n    y += cm.display.viewOffset;\n    if (y < 0) { return PosWithInfo(doc.first, 0, null, -1, -1) }\n    var lineN = lineAtHeight(doc, y), last = doc.first + doc.size - 1;\n    if (lineN > last)\n      { return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, null, 1, 1) }\n    if (x < 0) { x = 0; }\n\n    var lineObj = getLine(doc, lineN);\n    for (;;) {\n      var found = coordsCharInner(cm, lineObj, lineN, x, y);\n      var collapsed = collapsedSpanAround(lineObj, found.ch + (found.xRel > 0 || found.outside > 0 ? 1 : 0));\n      if (!collapsed) { return found }\n      var rangeEnd = collapsed.find(1);\n      if (rangeEnd.line == lineN) { return rangeEnd }\n      lineObj = getLine(doc, lineN = rangeEnd.line);\n    }\n  }\n\n  function wrappedLineExtent(cm, lineObj, preparedMeasure, y) {\n    y -= widgetTopHeight(lineObj);\n    var end = lineObj.text.length;\n    var begin = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch - 1).bottom <= y; }, end, 0);\n    end = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch).top > y; }, begin, end);\n    return {begin: begin, end: end}\n  }\n\n  function wrappedLineExtentChar(cm, lineObj, preparedMeasure, target) {\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    var targetTop = intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, target), \"line\").top;\n    return wrappedLineExtent(cm, lineObj, preparedMeasure, targetTop)\n  }\n\n  // Returns true if the given side of a box is after the given\n  // coordinates, in top-to-bottom, left-to-right order.\n  function boxIsAfter(box, x, y, left) {\n    return box.bottom <= y ? false : box.top > y ? true : (left ? box.left : box.right) > x\n  }\n\n  function coordsCharInner(cm, lineObj, lineNo, x, y) {\n    // Move y into line-local coordinate space\n    y -= heightAtLine(lineObj);\n    var preparedMeasure = prepareMeasureForLine(cm, lineObj);\n    // When directly calling `measureCharPrepared`, we have to adjust\n    // for the widgets at this line.\n    var widgetHeight = widgetTopHeight(lineObj);\n    var begin = 0, end = lineObj.text.length, ltr = true;\n\n    var order = getOrder(lineObj, cm.doc.direction);\n    // If the line isn't plain left-to-right text, first figure out\n    // which bidi section the coordinates fall into.\n    if (order) {\n      var part = (cm.options.lineWrapping ? coordsBidiPartWrapped : coordsBidiPart)\n                   (cm, lineObj, lineNo, preparedMeasure, order, x, y);\n      ltr = part.level != 1;\n      // The awkward -1 offsets are needed because findFirst (called\n      // on these below) will treat its first bound as inclusive,\n      // second as exclusive, but we want to actually address the\n      // characters in the part's range\n      begin = ltr ? part.from : part.to - 1;\n      end = ltr ? part.to : part.from - 1;\n    }\n\n    // A binary search to find the first character whose bounding box\n    // starts after the coordinates. If we run across any whose box wrap\n    // the coordinates, store that.\n    var chAround = null, boxAround = null;\n    var ch = findFirst(function (ch) {\n      var box = measureCharPrepared(cm, preparedMeasure, ch);\n      box.top += widgetHeight; box.bottom += widgetHeight;\n      if (!boxIsAfter(box, x, y, false)) { return false }\n      if (box.top <= y && box.left <= x) {\n        chAround = ch;\n        boxAround = box;\n      }\n      return true\n    }, begin, end);\n\n    var baseX, sticky, outside = false;\n    // If a box around the coordinates was found, use that\n    if (boxAround) {\n      // Distinguish coordinates nearer to the left or right side of the box\n      var atLeft = x - boxAround.left < boxAround.right - x, atStart = atLeft == ltr;\n      ch = chAround + (atStart ? 0 : 1);\n      sticky = atStart ? \"after\" : \"before\";\n      baseX = atLeft ? boxAround.left : boxAround.right;\n    } else {\n      // (Adjust for extended bound, if necessary.)\n      if (!ltr && (ch == end || ch == begin)) { ch++; }\n      // To determine which side to associate with, get the box to the\n      // left of the character and compare it's vertical position to the\n      // coordinates\n      sticky = ch == 0 ? \"after\" : ch == lineObj.text.length ? \"before\" :\n        (measureCharPrepared(cm, preparedMeasure, ch - (ltr ? 1 : 0)).bottom + widgetHeight <= y) == ltr ?\n        \"after\" : \"before\";\n      // Now get accurate coordinates for this place, in order to get a\n      // base X position\n      var coords = cursorCoords(cm, Pos(lineNo, ch, sticky), \"line\", lineObj, preparedMeasure);\n      baseX = coords.left;\n      outside = y < coords.top ? -1 : y >= coords.bottom ? 1 : 0;\n    }\n\n    ch = skipExtendingChars(lineObj.text, ch, 1);\n    return PosWithInfo(lineNo, ch, sticky, outside, x - baseX)\n  }\n\n  function coordsBidiPart(cm, lineObj, lineNo, preparedMeasure, order, x, y) {\n    // Bidi parts are sorted left-to-right, and in a non-line-wrapping\n    // situation, we can take this ordering to correspond to the visual\n    // ordering. This finds the first part whose end is after the given\n    // coordinates.\n    var index = findFirst(function (i) {\n      var part = order[i], ltr = part.level != 1;\n      return boxIsAfter(cursorCoords(cm, Pos(lineNo, ltr ? part.to : part.from, ltr ? \"before\" : \"after\"),\n                                     \"line\", lineObj, preparedMeasure), x, y, true)\n    }, 0, order.length - 1);\n    var part = order[index];\n    // If this isn't the first part, the part's start is also after\n    // the coordinates, and the coordinates aren't on the same line as\n    // that start, move one part back.\n    if (index > 0) {\n      var ltr = part.level != 1;\n      var start = cursorCoords(cm, Pos(lineNo, ltr ? part.from : part.to, ltr ? \"after\" : \"before\"),\n                               \"line\", lineObj, preparedMeasure);\n      if (boxIsAfter(start, x, y, true) && start.top > y)\n        { part = order[index - 1]; }\n    }\n    return part\n  }\n\n  function coordsBidiPartWrapped(cm, lineObj, _lineNo, preparedMeasure, order, x, y) {\n    // In a wrapped line, rtl text on wrapping boundaries can do things\n    // that don't correspond to the ordering in our `order` array at\n    // all, so a binary search doesn't work, and we want to return a\n    // part that only spans one line so that the binary search in\n    // coordsCharInner is safe. As such, we first find the extent of the\n    // wrapped line, and then do a flat search in which we discard any\n    // spans that aren't on the line.\n    var ref = wrappedLineExtent(cm, lineObj, preparedMeasure, y);\n    var begin = ref.begin;\n    var end = ref.end;\n    if (/\\s/.test(lineObj.text.charAt(end - 1))) { end--; }\n    var part = null, closestDist = null;\n    for (var i = 0; i < order.length; i++) {\n      var p = order[i];\n      if (p.from >= end || p.to <= begin) { continue }\n      var ltr = p.level != 1;\n      var endX = measureCharPrepared(cm, preparedMeasure, ltr ? Math.min(end, p.to) - 1 : Math.max(begin, p.from)).right;\n      // Weigh against spans ending before this, so that they are only\n      // picked if nothing ends after\n      var dist = endX < x ? x - endX + 1e9 : endX - x;\n      if (!part || closestDist > dist) {\n        part = p;\n        closestDist = dist;\n      }\n    }\n    if (!part) { part = order[order.length - 1]; }\n    // Clip the part to the wrapped line.\n    if (part.from < begin) { part = {from: begin, to: part.to, level: part.level}; }\n    if (part.to > end) { part = {from: part.from, to: end, level: part.level}; }\n    return part\n  }\n\n  var measureText;\n  // Compute the default text height.\n  function textHeight(display) {\n    if (display.cachedTextHeight != null) { return display.cachedTextHeight }\n    if (measureText == null) {\n      measureText = elt(\"pre\", null, \"CodeMirror-line-like\");\n      // Measure a bunch of lines, for browsers that compute\n      // fractional heights.\n      for (var i = 0; i < 49; ++i) {\n        measureText.appendChild(document.createTextNode(\"x\"));\n        measureText.appendChild(elt(\"br\"));\n      }\n      measureText.appendChild(document.createTextNode(\"x\"));\n    }\n    removeChildrenAndAdd(display.measure, measureText);\n    var height = measureText.offsetHeight / 50;\n    if (height > 3) { display.cachedTextHeight = height; }\n    removeChildren(display.measure);\n    return height || 1\n  }\n\n  // Compute the default character width.\n  function charWidth(display) {\n    if (display.cachedCharWidth != null) { return display.cachedCharWidth }\n    var anchor = elt(\"span\", \"xxxxxxxxxx\");\n    var pre = elt(\"pre\", [anchor], \"CodeMirror-line-like\");\n    removeChildrenAndAdd(display.measure, pre);\n    var rect = anchor.getBoundingClientRect(), width = (rect.right - rect.left) / 10;\n    if (width > 2) { display.cachedCharWidth = width; }\n    return width || 10\n  }\n\n  // Do a bulk-read of the DOM positions and sizes needed to draw the\n  // view, so that we don't interleave reading and writing to the DOM.\n  function getDimensions(cm) {\n    var d = cm.display, left = {}, width = {};\n    var gutterLeft = d.gutters.clientLeft;\n    for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {\n      var id = cm.display.gutterSpecs[i].className;\n      left[id] = n.offsetLeft + n.clientLeft + gutterLeft;\n      width[id] = n.clientWidth;\n    }\n    return {fixedPos: compensateForHScroll(d),\n            gutterTotalWidth: d.gutters.offsetWidth,\n            gutterLeft: left,\n            gutterWidth: width,\n            wrapperWidth: d.wrapper.clientWidth}\n  }\n\n  // Computes display.scroller.scrollLeft + display.gutters.offsetWidth,\n  // but using getBoundingClientRect to get a sub-pixel-accurate\n  // result.\n  function compensateForHScroll(display) {\n    return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left\n  }\n\n  // Returns a function that estimates the height of a line, to use as\n  // first approximation until the line becomes visible (and is thus\n  // properly measurable).\n  function estimateHeight(cm) {\n    var th = textHeight(cm.display), wrapping = cm.options.lineWrapping;\n    var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3);\n    return function (line) {\n      if (lineIsHidden(cm.doc, line)) { return 0 }\n\n      var widgetsHeight = 0;\n      if (line.widgets) { for (var i = 0; i < line.widgets.length; i++) {\n        if (line.widgets[i].height) { widgetsHeight += line.widgets[i].height; }\n      } }\n\n      if (wrapping)\n        { return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th }\n      else\n        { return widgetsHeight + th }\n    }\n  }\n\n  function estimateLineHeights(cm) {\n    var doc = cm.doc, est = estimateHeight(cm);\n    doc.iter(function (line) {\n      var estHeight = est(line);\n      if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n    });\n  }\n\n  // Given a mouse event, find the corresponding position. If liberal\n  // is false, it checks whether a gutter or scrollbar was clicked,\n  // and returns null if it was. forRect is used by rectangular\n  // selections, and tries to estimate a character position even for\n  // coordinates beyond the right of the text.\n  function posFromMouse(cm, e, liberal, forRect) {\n    var display = cm.display;\n    if (!liberal && e_target(e).getAttribute(\"cm-not-content\") == \"true\") { return null }\n\n    var x, y, space = display.lineSpace.getBoundingClientRect();\n    // Fails unpredictably on IE[67] when mouse is dragged around quickly.\n    try { x = e.clientX - space.left; y = e.clientY - space.top; }\n    catch (e$1) { return null }\n    var coords = coordsChar(cm, x, y), line;\n    if (forRect && coords.xRel > 0 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {\n      var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length;\n      coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff));\n    }\n    return coords\n  }\n\n  // Find the view element corresponding to a given line. Return null\n  // when the line isn't visible.\n  function findViewIndex(cm, n) {\n    if (n >= cm.display.viewTo) { return null }\n    n -= cm.display.viewFrom;\n    if (n < 0) { return null }\n    var view = cm.display.view;\n    for (var i = 0; i < view.length; i++) {\n      n -= view[i].size;\n      if (n < 0) { return i }\n    }\n  }\n\n  // Updates the display.view data structure for a given change to the\n  // document. From and to are in pre-change coordinates. Lendiff is\n  // the amount of lines added or subtracted by the change. This is\n  // used for changes that span multiple lines, or change the way\n  // lines are divided into visual lines. regLineChange (below)\n  // registers single-line changes.\n  function regChange(cm, from, to, lendiff) {\n    if (from == null) { from = cm.doc.first; }\n    if (to == null) { to = cm.doc.first + cm.doc.size; }\n    if (!lendiff) { lendiff = 0; }\n\n    var display = cm.display;\n    if (lendiff && to < display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers > from))\n      { display.updateLineNumbers = from; }\n\n    cm.curOp.viewChanged = true;\n\n    if (from >= display.viewTo) { // Change after\n      if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo)\n        { resetView(cm); }\n    } else if (to <= display.viewFrom) { // Change before\n      if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {\n        resetView(cm);\n      } else {\n        display.viewFrom += lendiff;\n        display.viewTo += lendiff;\n      }\n    } else if (from <= display.viewFrom && to >= display.viewTo) { // Full overlap\n      resetView(cm);\n    } else if (from <= display.viewFrom) { // Top overlap\n      var cut = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cut) {\n        display.view = display.view.slice(cut.index);\n        display.viewFrom = cut.lineN;\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    } else if (to >= display.viewTo) { // Bottom overlap\n      var cut$1 = viewCuttingPoint(cm, from, from, -1);\n      if (cut$1) {\n        display.view = display.view.slice(0, cut$1.index);\n        display.viewTo = cut$1.lineN;\n      } else {\n        resetView(cm);\n      }\n    } else { // Gap in the middle\n      var cutTop = viewCuttingPoint(cm, from, from, -1);\n      var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cutTop && cutBot) {\n        display.view = display.view.slice(0, cutTop.index)\n          .concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN))\n          .concat(display.view.slice(cutBot.index));\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    }\n\n    var ext = display.externalMeasured;\n    if (ext) {\n      if (to < ext.lineN)\n        { ext.lineN += lendiff; }\n      else if (from < ext.lineN + ext.size)\n        { display.externalMeasured = null; }\n    }\n  }\n\n  // Register a change to a single line. Type must be one of \"text\",\n  // \"gutter\", \"class\", \"widget\"\n  function regLineChange(cm, line, type) {\n    cm.curOp.viewChanged = true;\n    var display = cm.display, ext = cm.display.externalMeasured;\n    if (ext && line >= ext.lineN && line < ext.lineN + ext.size)\n      { display.externalMeasured = null; }\n\n    if (line < display.viewFrom || line >= display.viewTo) { return }\n    var lineView = display.view[findViewIndex(cm, line)];\n    if (lineView.node == null) { return }\n    var arr = lineView.changes || (lineView.changes = []);\n    if (indexOf(arr, type) == -1) { arr.push(type); }\n  }\n\n  // Clear the view.\n  function resetView(cm) {\n    cm.display.viewFrom = cm.display.viewTo = cm.doc.first;\n    cm.display.view = [];\n    cm.display.viewOffset = 0;\n  }\n\n  function viewCuttingPoint(cm, oldN, newN, dir) {\n    var index = findViewIndex(cm, oldN), diff, view = cm.display.view;\n    if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size)\n      { return {index: index, lineN: newN} }\n    var n = cm.display.viewFrom;\n    for (var i = 0; i < index; i++)\n      { n += view[i].size; }\n    if (n != oldN) {\n      if (dir > 0) {\n        if (index == view.length - 1) { return null }\n        diff = (n + view[index].size) - oldN;\n        index++;\n      } else {\n        diff = n - oldN;\n      }\n      oldN += diff; newN += diff;\n    }\n    while (visualLineNo(cm.doc, newN) != newN) {\n      if (index == (dir < 0 ? 0 : view.length - 1)) { return null }\n      newN += dir * view[index - (dir < 0 ? 1 : 0)].size;\n      index += dir;\n    }\n    return {index: index, lineN: newN}\n  }\n\n  // Force the view to cover a given range, adding empty view element\n  // or clipping off existing ones as needed.\n  function adjustView(cm, from, to) {\n    var display = cm.display, view = display.view;\n    if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {\n      display.view = buildViewArray(cm, from, to);\n      display.viewFrom = from;\n    } else {\n      if (display.viewFrom > from)\n        { display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view); }\n      else if (display.viewFrom < from)\n        { display.view = display.view.slice(findViewIndex(cm, from)); }\n      display.viewFrom = from;\n      if (display.viewTo < to)\n        { display.view = display.view.concat(buildViewArray(cm, display.viewTo, to)); }\n      else if (display.viewTo > to)\n        { display.view = display.view.slice(0, findViewIndex(cm, to)); }\n    }\n    display.viewTo = to;\n  }\n\n  // Count the number of lines in the view whose DOM representation is\n  // out of date (or nonexistent).\n  function countDirtyView(cm) {\n    var view = cm.display.view, dirty = 0;\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (!lineView.hidden && (!lineView.node || lineView.changes)) { ++dirty; }\n    }\n    return dirty\n  }\n\n  function updateSelection(cm) {\n    cm.display.input.showSelection(cm.display.input.prepareSelection());\n  }\n\n  function prepareSelection(cm, primary) {\n    if ( primary === void 0 ) primary = true;\n\n    var doc = cm.doc, result = {};\n    var curFragment = result.cursors = document.createDocumentFragment();\n    var selFragment = result.selection = document.createDocumentFragment();\n\n    var customCursor = cm.options.$customCursor;\n    if (customCursor) { primary = true; }\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      if (!primary && i == doc.sel.primIndex) { continue }\n      var range = doc.sel.ranges[i];\n      if (range.from().line >= cm.display.viewTo || range.to().line < cm.display.viewFrom) { continue }\n      var collapsed = range.empty();\n      if (customCursor) {\n        var head = customCursor(cm, range);\n        if (head) { drawSelectionCursor(cm, head, curFragment); }\n      } else if (collapsed || cm.options.showCursorWhenSelecting) {\n        drawSelectionCursor(cm, range.head, curFragment);\n      }\n      if (!collapsed)\n        { drawSelectionRange(cm, range, selFragment); }\n    }\n    return result\n  }\n\n  // Draws a cursor for the given range\n  function drawSelectionCursor(cm, head, output) {\n    var pos = cursorCoords(cm, head, \"div\", null, null, !cm.options.singleCursorHeightPerLine);\n\n    var cursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor\"));\n    cursor.style.left = pos.left + \"px\";\n    cursor.style.top = pos.top + \"px\";\n    cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + \"px\";\n\n    if (/\\bcm-fat-cursor\\b/.test(cm.getWrapperElement().className)) {\n      var charPos = charCoords(cm, head, \"div\", null, null);\n      var width = charPos.right - charPos.left;\n      cursor.style.width = (width > 0 ? width : cm.defaultCharWidth()) + \"px\";\n    }\n\n    if (pos.other) {\n      // Secondary cursor, shown when on a 'jump' in bi-directional text\n      var otherCursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor CodeMirror-secondarycursor\"));\n      otherCursor.style.display = \"\";\n      otherCursor.style.left = pos.other.left + \"px\";\n      otherCursor.style.top = pos.other.top + \"px\";\n      otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + \"px\";\n    }\n  }\n\n  function cmpCoords(a, b) { return a.top - b.top || a.left - b.left }\n\n  // Draws the given range as a highlighted selection\n  function drawSelectionRange(cm, range, output) {\n    var display = cm.display, doc = cm.doc;\n    var fragment = document.createDocumentFragment();\n    var padding = paddingH(cm.display), leftSide = padding.left;\n    var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right;\n    var docLTR = doc.direction == \"ltr\";\n\n    function add(left, top, width, bottom) {\n      if (top < 0) { top = 0; }\n      top = Math.round(top);\n      bottom = Math.round(bottom);\n      fragment.appendChild(elt(\"div\", null, \"CodeMirror-selected\", (\"position: absolute; left: \" + left + \"px;\\n                             top: \" + top + \"px; width: \" + (width == null ? rightSide - left : width) + \"px;\\n                             height: \" + (bottom - top) + \"px\")));\n    }\n\n    function drawForLine(line, fromArg, toArg) {\n      var lineObj = getLine(doc, line);\n      var lineLen = lineObj.text.length;\n      var start, end;\n      function coords(ch, bias) {\n        return charCoords(cm, Pos(line, ch), \"div\", lineObj, bias)\n      }\n\n      function wrapX(pos, dir, side) {\n        var extent = wrappedLineExtentChar(cm, lineObj, null, pos);\n        var prop = (dir == \"ltr\") == (side == \"after\") ? \"left\" : \"right\";\n        var ch = side == \"after\" ? extent.begin : extent.end - (/\\s/.test(lineObj.text.charAt(extent.end - 1)) ? 2 : 1);\n        return coords(ch, prop)[prop]\n      }\n\n      var order = getOrder(lineObj, doc.direction);\n      iterateBidiSections(order, fromArg || 0, toArg == null ? lineLen : toArg, function (from, to, dir, i) {\n        var ltr = dir == \"ltr\";\n        var fromPos = coords(from, ltr ? \"left\" : \"right\");\n        var toPos = coords(to - 1, ltr ? \"right\" : \"left\");\n\n        var openStart = fromArg == null && from == 0, openEnd = toArg == null && to == lineLen;\n        var first = i == 0, last = !order || i == order.length - 1;\n        if (toPos.top - fromPos.top <= 3) { // Single line\n          var openLeft = (docLTR ? openStart : openEnd) && first;\n          var openRight = (docLTR ? openEnd : openStart) && last;\n          var left = openLeft ? leftSide : (ltr ? fromPos : toPos).left;\n          var right = openRight ? rightSide : (ltr ? toPos : fromPos).right;\n          add(left, fromPos.top, right - left, fromPos.bottom);\n        } else { // Multiple lines\n          var topLeft, topRight, botLeft, botRight;\n          if (ltr) {\n            topLeft = docLTR && openStart && first ? leftSide : fromPos.left;\n            topRight = docLTR ? rightSide : wrapX(from, dir, \"before\");\n            botLeft = docLTR ? leftSide : wrapX(to, dir, \"after\");\n            botRight = docLTR && openEnd && last ? rightSide : toPos.right;\n          } else {\n            topLeft = !docLTR ? leftSide : wrapX(from, dir, \"before\");\n            topRight = !docLTR && openStart && first ? rightSide : fromPos.right;\n            botLeft = !docLTR && openEnd && last ? leftSide : toPos.left;\n            botRight = !docLTR ? rightSide : wrapX(to, dir, \"after\");\n          }\n          add(topLeft, fromPos.top, topRight - topLeft, fromPos.bottom);\n          if (fromPos.bottom < toPos.top) { add(leftSide, fromPos.bottom, null, toPos.top); }\n          add(botLeft, toPos.top, botRight - botLeft, toPos.bottom);\n        }\n\n        if (!start || cmpCoords(fromPos, start) < 0) { start = fromPos; }\n        if (cmpCoords(toPos, start) < 0) { start = toPos; }\n        if (!end || cmpCoords(fromPos, end) < 0) { end = fromPos; }\n        if (cmpCoords(toPos, end) < 0) { end = toPos; }\n      });\n      return {start: start, end: end}\n    }\n\n    var sFrom = range.from(), sTo = range.to();\n    if (sFrom.line == sTo.line) {\n      drawForLine(sFrom.line, sFrom.ch, sTo.ch);\n    } else {\n      var fromLine = getLine(doc, sFrom.line), toLine = getLine(doc, sTo.line);\n      var singleVLine = visualLine(fromLine) == visualLine(toLine);\n      var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end;\n      var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start;\n      if (singleVLine) {\n        if (leftEnd.top < rightStart.top - 2) {\n          add(leftEnd.right, leftEnd.top, null, leftEnd.bottom);\n          add(leftSide, rightStart.top, rightStart.left, rightStart.bottom);\n        } else {\n          add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom);\n        }\n      }\n      if (leftEnd.bottom < rightStart.top)\n        { add(leftSide, leftEnd.bottom, null, rightStart.top); }\n    }\n\n    output.appendChild(fragment);\n  }\n\n  // Cursor-blinking\n  function restartBlink(cm) {\n    if (!cm.state.focused) { return }\n    var display = cm.display;\n    clearInterval(display.blinker);\n    var on = true;\n    display.cursorDiv.style.visibility = \"\";\n    if (cm.options.cursorBlinkRate > 0)\n      { display.blinker = setInterval(function () {\n        if (!cm.hasFocus()) { onBlur(cm); }\n        display.cursorDiv.style.visibility = (on = !on) ? \"\" : \"hidden\";\n      }, cm.options.cursorBlinkRate); }\n    else if (cm.options.cursorBlinkRate < 0)\n      { display.cursorDiv.style.visibility = \"hidden\"; }\n  }\n\n  function ensureFocus(cm) {\n    if (!cm.hasFocus()) {\n      cm.display.input.focus();\n      if (!cm.state.focused) { onFocus(cm); }\n    }\n  }\n\n  function delayBlurEvent(cm) {\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () { if (cm.state.delayingBlurEvent) {\n      cm.state.delayingBlurEvent = false;\n      if (cm.state.focused) { onBlur(cm); }\n    } }, 100);\n  }\n\n  function onFocus(cm, e) {\n    if (cm.state.delayingBlurEvent && !cm.state.draggingText) { cm.state.delayingBlurEvent = false; }\n\n    if (cm.options.readOnly == \"nocursor\") { return }\n    if (!cm.state.focused) {\n      signal(cm, \"focus\", cm, e);\n      cm.state.focused = true;\n      addClass(cm.display.wrapper, \"CodeMirror-focused\");\n      // This test prevents this from firing when a context\n      // menu is closed (since the input reset would kill the\n      // select-all detection hack)\n      if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {\n        cm.display.input.reset();\n        if (webkit) { setTimeout(function () { return cm.display.input.reset(true); }, 20); } // Issue #1730\n      }\n      cm.display.input.receivedFocus();\n    }\n    restartBlink(cm);\n  }\n  function onBlur(cm, e) {\n    if (cm.state.delayingBlurEvent) { return }\n\n    if (cm.state.focused) {\n      signal(cm, \"blur\", cm, e);\n      cm.state.focused = false;\n      rmClass(cm.display.wrapper, \"CodeMirror-focused\");\n    }\n    clearInterval(cm.display.blinker);\n    setTimeout(function () { if (!cm.state.focused) { cm.display.shift = false; } }, 150);\n  }\n\n  // Read the actual heights of the rendered lines, and update their\n  // stored heights to match.\n  function updateHeightsInViewport(cm) {\n    var display = cm.display;\n    var prevBottom = display.lineDiv.offsetTop;\n    var viewTop = Math.max(0, display.scroller.getBoundingClientRect().top);\n    var oldHeight = display.lineDiv.getBoundingClientRect().top;\n    var mustScroll = 0;\n    for (var i = 0; i < display.view.length; i++) {\n      var cur = display.view[i], wrapping = cm.options.lineWrapping;\n      var height = (void 0), width = 0;\n      if (cur.hidden) { continue }\n      oldHeight += cur.line.height;\n      if (ie && ie_version < 8) {\n        var bot = cur.node.offsetTop + cur.node.offsetHeight;\n        height = bot - prevBottom;\n        prevBottom = bot;\n      } else {\n        var box = cur.node.getBoundingClientRect();\n        height = box.bottom - box.top;\n        // Check that lines don't extend past the right of the current\n        // editor width\n        if (!wrapping && cur.text.firstChild)\n          { width = cur.text.firstChild.getBoundingClientRect().right - box.left - 1; }\n      }\n      var diff = cur.line.height - height;\n      if (diff > .005 || diff < -.005) {\n        if (oldHeight < viewTop) { mustScroll -= diff; }\n        updateLineHeight(cur.line, height);\n        updateWidgetHeight(cur.line);\n        if (cur.rest) { for (var j = 0; j < cur.rest.length; j++)\n          { updateWidgetHeight(cur.rest[j]); } }\n      }\n      if (width > cm.display.sizerWidth) {\n        var chWidth = Math.ceil(width / charWidth(cm.display));\n        if (chWidth > cm.display.maxLineLength) {\n          cm.display.maxLineLength = chWidth;\n          cm.display.maxLine = cur.line;\n          cm.display.maxLineChanged = true;\n        }\n      }\n    }\n    if (Math.abs(mustScroll) > 2) { display.scroller.scrollTop += mustScroll; }\n  }\n\n  // Read and store the height of line widgets associated with the\n  // given line.\n  function updateWidgetHeight(line) {\n    if (line.widgets) { for (var i = 0; i < line.widgets.length; ++i) {\n      var w = line.widgets[i], parent = w.node.parentNode;\n      if (parent) { w.height = parent.offsetHeight; }\n    } }\n  }\n\n  // Compute the lines that are visible in a given viewport (defaults\n  // the the current scroll position). viewport may contain top,\n  // height, and ensure (see op.scrollToPos) properties.\n  function visibleLines(display, doc, viewport) {\n    var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop;\n    top = Math.floor(top - paddingTop(display));\n    var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight;\n\n    var from = lineAtHeight(doc, top), to = lineAtHeight(doc, bottom);\n    // Ensure is a {from: {line, ch}, to: {line, ch}} object, and\n    // forces those lines into the viewport (if possible).\n    if (viewport && viewport.ensure) {\n      var ensureFrom = viewport.ensure.from.line, ensureTo = viewport.ensure.to.line;\n      if (ensureFrom < from) {\n        from = ensureFrom;\n        to = lineAtHeight(doc, heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight);\n      } else if (Math.min(ensureTo, doc.lastLine()) >= to) {\n        from = lineAtHeight(doc, heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight);\n        to = ensureTo;\n      }\n    }\n    return {from: from, to: Math.max(to, from + 1)}\n  }\n\n  // SCROLLING THINGS INTO VIEW\n\n  // If an editor sits on the top or bottom of the window, partially\n  // scrolled out of view, this ensures that the cursor is visible.\n  function maybeScrollWindow(cm, rect) {\n    if (signalDOMEvent(cm, \"scrollCursorIntoView\")) { return }\n\n    var display = cm.display, box = display.sizer.getBoundingClientRect(), doScroll = null;\n    if (rect.top + box.top < 0) { doScroll = true; }\n    else if (rect.bottom + box.top > (window.innerHeight || document.documentElement.clientHeight)) { doScroll = false; }\n    if (doScroll != null && !phantom) {\n      var scrollNode = elt(\"div\", \"\\u200b\", null, (\"position: absolute;\\n                         top: \" + (rect.top - display.viewOffset - paddingTop(cm.display)) + \"px;\\n                         height: \" + (rect.bottom - rect.top + scrollGap(cm) + display.barHeight) + \"px;\\n                         left: \" + (rect.left) + \"px; width: \" + (Math.max(2, rect.right - rect.left)) + \"px;\"));\n      cm.display.lineSpace.appendChild(scrollNode);\n      scrollNode.scrollIntoView(doScroll);\n      cm.display.lineSpace.removeChild(scrollNode);\n    }\n  }\n\n  // Scroll a given position into view (immediately), verifying that\n  // it actually became visible (as line heights are accurately\n  // measured, the position of something may 'drift' during drawing).\n  function scrollPosIntoView(cm, pos, end, margin) {\n    if (margin == null) { margin = 0; }\n    var rect;\n    if (!cm.options.lineWrapping && pos == end) {\n      // Set pos and end to the cursor positions around the character pos sticks to\n      // If pos.sticky == \"before\", that is around pos.ch - 1, otherwise around pos.ch\n      // If pos == Pos(_, 0, \"before\"), pos and end are unchanged\n      end = pos.sticky == \"before\" ? Pos(pos.line, pos.ch + 1, \"before\") : pos;\n      pos = pos.ch ? Pos(pos.line, pos.sticky == \"before\" ? pos.ch - 1 : pos.ch, \"after\") : pos;\n    }\n    for (var limit = 0; limit < 5; limit++) {\n      var changed = false;\n      var coords = cursorCoords(cm, pos);\n      var endCoords = !end || end == pos ? coords : cursorCoords(cm, end);\n      rect = {left: Math.min(coords.left, endCoords.left),\n              top: Math.min(coords.top, endCoords.top) - margin,\n              right: Math.max(coords.left, endCoords.left),\n              bottom: Math.max(coords.bottom, endCoords.bottom) + margin};\n      var scrollPos = calculateScrollPos(cm, rect);\n      var startTop = cm.doc.scrollTop, startLeft = cm.doc.scrollLeft;\n      if (scrollPos.scrollTop != null) {\n        updateScrollTop(cm, scrollPos.scrollTop);\n        if (Math.abs(cm.doc.scrollTop - startTop) > 1) { changed = true; }\n      }\n      if (scrollPos.scrollLeft != null) {\n        setScrollLeft(cm, scrollPos.scrollLeft);\n        if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) { changed = true; }\n      }\n      if (!changed) { break }\n    }\n    return rect\n  }\n\n  // Scroll a given set of coordinates into view (immediately).\n  function scrollIntoView(cm, rect) {\n    var scrollPos = calculateScrollPos(cm, rect);\n    if (scrollPos.scrollTop != null) { updateScrollTop(cm, scrollPos.scrollTop); }\n    if (scrollPos.scrollLeft != null) { setScrollLeft(cm, scrollPos.scrollLeft); }\n  }\n\n  // Calculate a new scroll position needed to scroll the given\n  // rectangle into view. Returns an object with scrollTop and\n  // scrollLeft properties. When these are undefined, the\n  // vertical/horizontal position does not need to be adjusted.\n  function calculateScrollPos(cm, rect) {\n    var display = cm.display, snapMargin = textHeight(cm.display);\n    if (rect.top < 0) { rect.top = 0; }\n    var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop;\n    var screen = displayHeight(cm), result = {};\n    if (rect.bottom - rect.top > screen) { rect.bottom = rect.top + screen; }\n    var docBottom = cm.doc.height + paddingVert(display);\n    var atTop = rect.top < snapMargin, atBottom = rect.bottom > docBottom - snapMargin;\n    if (rect.top < screentop) {\n      result.scrollTop = atTop ? 0 : rect.top;\n    } else if (rect.bottom > screentop + screen) {\n      var newTop = Math.min(rect.top, (atBottom ? docBottom : rect.bottom) - screen);\n      if (newTop != screentop) { result.scrollTop = newTop; }\n    }\n\n    var gutterSpace = cm.options.fixedGutter ? 0 : display.gutters.offsetWidth;\n    var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft - gutterSpace;\n    var screenw = displayWidth(cm) - display.gutters.offsetWidth;\n    var tooWide = rect.right - rect.left > screenw;\n    if (tooWide) { rect.right = rect.left + screenw; }\n    if (rect.left < 10)\n      { result.scrollLeft = 0; }\n    else if (rect.left < screenleft)\n      { result.scrollLeft = Math.max(0, rect.left + gutterSpace - (tooWide ? 0 : 10)); }\n    else if (rect.right > screenw + screenleft - 3)\n      { result.scrollLeft = rect.right + (tooWide ? 0 : 10) - screenw; }\n    return result\n  }\n\n  // Store a relative adjustment to the scroll position in the current\n  // operation (to be applied when the operation finishes).\n  function addToScrollTop(cm, top) {\n    if (top == null) { return }\n    resolveScrollToPos(cm);\n    cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top;\n  }\n\n  // Make sure that at the end of the operation the current cursor is\n  // shown.\n  function ensureCursorVisible(cm) {\n    resolveScrollToPos(cm);\n    var cur = cm.getCursor();\n    cm.curOp.scrollToPos = {from: cur, to: cur, margin: cm.options.cursorScrollMargin};\n  }\n\n  function scrollToCoords(cm, x, y) {\n    if (x != null || y != null) { resolveScrollToPos(cm); }\n    if (x != null) { cm.curOp.scrollLeft = x; }\n    if (y != null) { cm.curOp.scrollTop = y; }\n  }\n\n  function scrollToRange(cm, range) {\n    resolveScrollToPos(cm);\n    cm.curOp.scrollToPos = range;\n  }\n\n  // When an operation has its scrollToPos property set, and another\n  // scroll action is applied before the end of the operation, this\n  // 'simulates' scrolling that position into view in a cheap way, so\n  // that the effect of intermediate scroll commands is not ignored.\n  function resolveScrollToPos(cm) {\n    var range = cm.curOp.scrollToPos;\n    if (range) {\n      cm.curOp.scrollToPos = null;\n      var from = estimateCoords(cm, range.from), to = estimateCoords(cm, range.to);\n      scrollToCoordsRange(cm, from, to, range.margin);\n    }\n  }\n\n  function scrollToCoordsRange(cm, from, to, margin) {\n    var sPos = calculateScrollPos(cm, {\n      left: Math.min(from.left, to.left),\n      top: Math.min(from.top, to.top) - margin,\n      right: Math.max(from.right, to.right),\n      bottom: Math.max(from.bottom, to.bottom) + margin\n    });\n    scrollToCoords(cm, sPos.scrollLeft, sPos.scrollTop);\n  }\n\n  // Sync the scrollable area and scrollbars, ensure the viewport\n  // covers the visible area.\n  function updateScrollTop(cm, val) {\n    if (Math.abs(cm.doc.scrollTop - val) < 2) { return }\n    if (!gecko) { updateDisplaySimple(cm, {top: val}); }\n    setScrollTop(cm, val, true);\n    if (gecko) { updateDisplaySimple(cm); }\n    startWorker(cm, 100);\n  }\n\n  function setScrollTop(cm, val, forceScroll) {\n    val = Math.max(0, Math.min(cm.display.scroller.scrollHeight - cm.display.scroller.clientHeight, val));\n    if (cm.display.scroller.scrollTop == val && !forceScroll) { return }\n    cm.doc.scrollTop = val;\n    cm.display.scrollbars.setScrollTop(val);\n    if (cm.display.scroller.scrollTop != val) { cm.display.scroller.scrollTop = val; }\n  }\n\n  // Sync scroller and scrollbar, ensure the gutter elements are\n  // aligned.\n  function setScrollLeft(cm, val, isScroller, forceScroll) {\n    val = Math.max(0, Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth));\n    if ((isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) && !forceScroll) { return }\n    cm.doc.scrollLeft = val;\n    alignHorizontally(cm);\n    if (cm.display.scroller.scrollLeft != val) { cm.display.scroller.scrollLeft = val; }\n    cm.display.scrollbars.setScrollLeft(val);\n  }\n\n  // SCROLLBARS\n\n  // Prepare DOM reads needed to update the scrollbars. Done in one\n  // shot to minimize update/measure roundtrips.\n  function measureForScrollbars(cm) {\n    var d = cm.display, gutterW = d.gutters.offsetWidth;\n    var docH = Math.round(cm.doc.height + paddingVert(cm.display));\n    return {\n      clientHeight: d.scroller.clientHeight,\n      viewHeight: d.wrapper.clientHeight,\n      scrollWidth: d.scroller.scrollWidth, clientWidth: d.scroller.clientWidth,\n      viewWidth: d.wrapper.clientWidth,\n      barLeft: cm.options.fixedGutter ? gutterW : 0,\n      docHeight: docH,\n      scrollHeight: docH + scrollGap(cm) + d.barHeight,\n      nativeBarWidth: d.nativeBarWidth,\n      gutterWidth: gutterW\n    }\n  }\n\n  var NativeScrollbars = function(place, scroll, cm) {\n    this.cm = cm;\n    var vert = this.vert = elt(\"div\", [elt(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\");\n    var horiz = this.horiz = elt(\"div\", [elt(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\");\n    vert.tabIndex = horiz.tabIndex = -1;\n    place(vert); place(horiz);\n\n    on(vert, \"scroll\", function () {\n      if (vert.clientHeight) { scroll(vert.scrollTop, \"vertical\"); }\n    });\n    on(horiz, \"scroll\", function () {\n      if (horiz.clientWidth) { scroll(horiz.scrollLeft, \"horizontal\"); }\n    });\n\n    this.checkedZeroWidth = false;\n    // Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).\n    if (ie && ie_version < 8) { this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\"; }\n  };\n\n  NativeScrollbars.prototype.update = function (measure) {\n    var needsH = measure.scrollWidth > measure.clientWidth + 1;\n    var needsV = measure.scrollHeight > measure.clientHeight + 1;\n    var sWidth = measure.nativeBarWidth;\n\n    if (needsV) {\n      this.vert.style.display = \"block\";\n      this.vert.style.bottom = needsH ? sWidth + \"px\" : \"0\";\n      var totalHeight = measure.viewHeight - (needsH ? sWidth : 0);\n      // A bug in IE8 can cause this value to be negative, so guard it.\n      this.vert.firstChild.style.height =\n        Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + \"px\";\n    } else {\n      this.vert.scrollTop = 0;\n      this.vert.style.display = \"\";\n      this.vert.firstChild.style.height = \"0\";\n    }\n\n    if (needsH) {\n      this.horiz.style.display = \"block\";\n      this.horiz.style.right = needsV ? sWidth + \"px\" : \"0\";\n      this.horiz.style.left = measure.barLeft + \"px\";\n      var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0);\n      this.horiz.firstChild.style.width =\n        Math.max(0, measure.scrollWidth - measure.clientWidth + totalWidth) + \"px\";\n    } else {\n      this.horiz.style.display = \"\";\n      this.horiz.firstChild.style.width = \"0\";\n    }\n\n    if (!this.checkedZeroWidth && measure.clientHeight > 0) {\n      if (sWidth == 0) { this.zeroWidthHack(); }\n      this.checkedZeroWidth = true;\n    }\n\n    return {right: needsV ? sWidth : 0, bottom: needsH ? sWidth : 0}\n  };\n\n  NativeScrollbars.prototype.setScrollLeft = function (pos) {\n    if (this.horiz.scrollLeft != pos) { this.horiz.scrollLeft = pos; }\n    if (this.disableHoriz) { this.enableZeroWidthBar(this.horiz, this.disableHoriz, \"horiz\"); }\n  };\n\n  NativeScrollbars.prototype.setScrollTop = function (pos) {\n    if (this.vert.scrollTop != pos) { this.vert.scrollTop = pos; }\n    if (this.disableVert) { this.enableZeroWidthBar(this.vert, this.disableVert, \"vert\"); }\n  };\n\n  NativeScrollbars.prototype.zeroWidthHack = function () {\n    var w = mac && !mac_geMountainLion ? \"12px\" : \"18px\";\n    this.horiz.style.height = this.vert.style.width = w;\n    this.horiz.style.pointerEvents = this.vert.style.pointerEvents = \"none\";\n    this.disableHoriz = new Delayed;\n    this.disableVert = new Delayed;\n  };\n\n  NativeScrollbars.prototype.enableZeroWidthBar = function (bar, delay, type) {\n    bar.style.pointerEvents = \"auto\";\n    function maybeDisable() {\n      // To find out whether the scrollbar is still visible, we\n      // check whether the element under the pixel in the bottom\n      // right corner of the scrollbar box is the scrollbar box\n      // itself (when the bar is still visible) or its filler child\n      // (when the bar is hidden). If it is still visible, we keep\n      // it enabled, if it's hidden, we disable pointer events.\n      var box = bar.getBoundingClientRect();\n      var elt = type == \"vert\" ? document.elementFromPoint(box.right - 1, (box.top + box.bottom) / 2)\n          : document.elementFromPoint((box.right + box.left) / 2, box.bottom - 1);\n      if (elt != bar) { bar.style.pointerEvents = \"none\"; }\n      else { delay.set(1000, maybeDisable); }\n    }\n    delay.set(1000, maybeDisable);\n  };\n\n  NativeScrollbars.prototype.clear = function () {\n    var parent = this.horiz.parentNode;\n    parent.removeChild(this.horiz);\n    parent.removeChild(this.vert);\n  };\n\n  var NullScrollbars = function () {};\n\n  NullScrollbars.prototype.update = function () { return {bottom: 0, right: 0} };\n  NullScrollbars.prototype.setScrollLeft = function () {};\n  NullScrollbars.prototype.setScrollTop = function () {};\n  NullScrollbars.prototype.clear = function () {};\n\n  function updateScrollbars(cm, measure) {\n    if (!measure) { measure = measureForScrollbars(cm); }\n    var startWidth = cm.display.barWidth, startHeight = cm.display.barHeight;\n    updateScrollbarsInner(cm, measure);\n    for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {\n      if (startWidth != cm.display.barWidth && cm.options.lineWrapping)\n        { updateHeightsInViewport(cm); }\n      updateScrollbarsInner(cm, measureForScrollbars(cm));\n      startWidth = cm.display.barWidth; startHeight = cm.display.barHeight;\n    }\n  }\n\n  // Re-synchronize the fake scrollbars with the actual size of the\n  // content.\n  function updateScrollbarsInner(cm, measure) {\n    var d = cm.display;\n    var sizes = d.scrollbars.update(measure);\n\n    d.sizer.style.paddingRight = (d.barWidth = sizes.right) + \"px\";\n    d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + \"px\";\n    d.heightForcer.style.borderBottom = sizes.bottom + \"px solid transparent\";\n\n    if (sizes.right && sizes.bottom) {\n      d.scrollbarFiller.style.display = \"block\";\n      d.scrollbarFiller.style.height = sizes.bottom + \"px\";\n      d.scrollbarFiller.style.width = sizes.right + \"px\";\n    } else { d.scrollbarFiller.style.display = \"\"; }\n    if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {\n      d.gutterFiller.style.display = \"block\";\n      d.gutterFiller.style.height = sizes.bottom + \"px\";\n      d.gutterFiller.style.width = measure.gutterWidth + \"px\";\n    } else { d.gutterFiller.style.display = \"\"; }\n  }\n\n  var scrollbarModel = {\"native\": NativeScrollbars, \"null\": NullScrollbars};\n\n  function initScrollbars(cm) {\n    if (cm.display.scrollbars) {\n      cm.display.scrollbars.clear();\n      if (cm.display.scrollbars.addClass)\n        { rmClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n    }\n\n    cm.display.scrollbars = new scrollbarModel[cm.options.scrollbarStyle](function (node) {\n      cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller);\n      // Prevent clicks in the scrollbars from killing focus\n      on(node, \"mousedown\", function () {\n        if (cm.state.focused) { setTimeout(function () { return cm.display.input.focus(); }, 0); }\n      });\n      node.setAttribute(\"cm-not-content\", \"true\");\n    }, function (pos, axis) {\n      if (axis == \"horizontal\") { setScrollLeft(cm, pos); }\n      else { updateScrollTop(cm, pos); }\n    }, cm);\n    if (cm.display.scrollbars.addClass)\n      { addClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n  }\n\n  // Operations are used to wrap a series of changes to the editor\n  // state in such a way that each change won't have to update the\n  // cursor and display (which would be awkward, slow, and\n  // error-prone). Instead, display updates are batched and then all\n  // combined and executed at once.\n\n  var nextOpId = 0;\n  // Start a new operation.\n  function startOperation(cm) {\n    cm.curOp = {\n      cm: cm,\n      viewChanged: false,      // Flag that indicates that lines might need to be redrawn\n      startHeight: cm.doc.height, // Used to detect need to update scrollbar\n      forceUpdate: false,      // Used to force a redraw\n      updateInput: 0,       // Whether to reset the input textarea\n      typing: false,           // Whether this reset should be careful to leave existing text (for compositing)\n      changeObjs: null,        // Accumulated changes, for firing change events\n      cursorActivityHandlers: null, // Set of handlers to fire cursorActivity on\n      cursorActivityCalled: 0, // Tracks which cursorActivity handlers have been called already\n      selectionChanged: false, // Whether the selection needs to be redrawn\n      updateMaxLine: false,    // Set when the widest line needs to be determined anew\n      scrollLeft: null, scrollTop: null, // Intermediate scroll position, not pushed to DOM yet\n      scrollToPos: null,       // Used to scroll to a specific position\n      focus: false,\n      id: ++nextOpId,          // Unique ID\n      markArrays: null         // Used by addMarkedSpan\n    };\n    pushOperation(cm.curOp);\n  }\n\n  // Finish an operation, updating the display and signalling delayed events\n  function endOperation(cm) {\n    var op = cm.curOp;\n    if (op) { finishOperation(op, function (group) {\n      for (var i = 0; i < group.ops.length; i++)\n        { group.ops[i].cm.curOp = null; }\n      endOperations(group);\n    }); }\n  }\n\n  // The DOM updates done when an operation finishes are batched so\n  // that the minimum number of relayouts are required.\n  function endOperations(group) {\n    var ops = group.ops;\n    for (var i = 0; i < ops.length; i++) // Read DOM\n      { endOperation_R1(ops[i]); }\n    for (var i$1 = 0; i$1 < ops.length; i$1++) // Write DOM (maybe)\n      { endOperation_W1(ops[i$1]); }\n    for (var i$2 = 0; i$2 < ops.length; i$2++) // Read DOM\n      { endOperation_R2(ops[i$2]); }\n    for (var i$3 = 0; i$3 < ops.length; i$3++) // Write DOM (maybe)\n      { endOperation_W2(ops[i$3]); }\n    for (var i$4 = 0; i$4 < ops.length; i$4++) // Read DOM\n      { endOperation_finish(ops[i$4]); }\n  }\n\n  function endOperation_R1(op) {\n    var cm = op.cm, display = cm.display;\n    maybeClipScrollbars(cm);\n    if (op.updateMaxLine) { findMaxLine(cm); }\n\n    op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null ||\n      op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom ||\n                         op.scrollToPos.to.line >= display.viewTo) ||\n      display.maxLineChanged && cm.options.lineWrapping;\n    op.update = op.mustUpdate &&\n      new DisplayUpdate(cm, op.mustUpdate && {top: op.scrollTop, ensure: op.scrollToPos}, op.forceUpdate);\n  }\n\n  function endOperation_W1(op) {\n    op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update);\n  }\n\n  function endOperation_R2(op) {\n    var cm = op.cm, display = cm.display;\n    if (op.updatedDisplay) { updateHeightsInViewport(cm); }\n\n    op.barMeasure = measureForScrollbars(cm);\n\n    // If the max line changed since it was last measured, measure it,\n    // and ensure the document's width matches it.\n    // updateDisplay_W2 will use these properties to do the actual resizing\n    if (display.maxLineChanged && !cm.options.lineWrapping) {\n      op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3;\n      cm.display.sizerWidth = op.adjustWidthTo;\n      op.barMeasure.scrollWidth =\n        Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth);\n      op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm));\n    }\n\n    if (op.updatedDisplay || op.selectionChanged)\n      { op.preparedSelection = display.input.prepareSelection(); }\n  }\n\n  function endOperation_W2(op) {\n    var cm = op.cm;\n\n    if (op.adjustWidthTo != null) {\n      cm.display.sizer.style.minWidth = op.adjustWidthTo + \"px\";\n      if (op.maxScrollLeft < cm.doc.scrollLeft)\n        { setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true); }\n      cm.display.maxLineChanged = false;\n    }\n\n    var takeFocus = op.focus && op.focus == activeElt();\n    if (op.preparedSelection)\n      { cm.display.input.showSelection(op.preparedSelection, takeFocus); }\n    if (op.updatedDisplay || op.startHeight != cm.doc.height)\n      { updateScrollbars(cm, op.barMeasure); }\n    if (op.updatedDisplay)\n      { setDocumentHeight(cm, op.barMeasure); }\n\n    if (op.selectionChanged) { restartBlink(cm); }\n\n    if (cm.state.focused && op.updateInput)\n      { cm.display.input.reset(op.typing); }\n    if (takeFocus) { ensureFocus(op.cm); }\n  }\n\n  function endOperation_finish(op) {\n    var cm = op.cm, display = cm.display, doc = cm.doc;\n\n    if (op.updatedDisplay) { postUpdateDisplay(cm, op.update); }\n\n    // Abort mouse wheel delta measurement, when scrolling explicitly\n    if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos))\n      { display.wheelStartX = display.wheelStartY = null; }\n\n    // Propagate the scroll position to the actual DOM scroller\n    if (op.scrollTop != null) { setScrollTop(cm, op.scrollTop, op.forceScroll); }\n\n    if (op.scrollLeft != null) { setScrollLeft(cm, op.scrollLeft, true, true); }\n    // If we need to scroll a specific position into view, do so.\n    if (op.scrollToPos) {\n      var rect = scrollPosIntoView(cm, clipPos(doc, op.scrollToPos.from),\n                                   clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin);\n      maybeScrollWindow(cm, rect);\n    }\n\n    // Fire events for markers that are hidden/unidden by editing or\n    // undoing\n    var hidden = op.maybeHiddenMarkers, unhidden = op.maybeUnhiddenMarkers;\n    if (hidden) { for (var i = 0; i < hidden.length; ++i)\n      { if (!hidden[i].lines.length) { signal(hidden[i], \"hide\"); } } }\n    if (unhidden) { for (var i$1 = 0; i$1 < unhidden.length; ++i$1)\n      { if (unhidden[i$1].lines.length) { signal(unhidden[i$1], \"unhide\"); } } }\n\n    if (display.wrapper.offsetHeight)\n      { doc.scrollTop = cm.display.scroller.scrollTop; }\n\n    // Fire change events, and delayed event handlers\n    if (op.changeObjs)\n      { signal(cm, \"changes\", cm, op.changeObjs); }\n    if (op.update)\n      { op.update.finish(); }\n  }\n\n  // Run the given function in an operation\n  function runInOp(cm, f) {\n    if (cm.curOp) { return f() }\n    startOperation(cm);\n    try { return f() }\n    finally { endOperation(cm); }\n  }\n  // Wraps a function in an operation. Returns the wrapped function.\n  function operation(cm, f) {\n    return function() {\n      if (cm.curOp) { return f.apply(cm, arguments) }\n      startOperation(cm);\n      try { return f.apply(cm, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n  // Used to add methods to editor and doc instances, wrapping them in\n  // operations.\n  function methodOp(f) {\n    return function() {\n      if (this.curOp) { return f.apply(this, arguments) }\n      startOperation(this);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(this); }\n    }\n  }\n  function docMethodOp(f) {\n    return function() {\n      var cm = this.cm;\n      if (!cm || cm.curOp) { return f.apply(this, arguments) }\n      startOperation(cm);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n\n  // HIGHLIGHT WORKER\n\n  function startWorker(cm, time) {\n    if (cm.doc.highlightFrontier < cm.display.viewTo)\n      { cm.state.highlight.set(time, bind(highlightWorker, cm)); }\n  }\n\n  function highlightWorker(cm) {\n    var doc = cm.doc;\n    if (doc.highlightFrontier >= cm.display.viewTo) { return }\n    var end = +new Date + cm.options.workTime;\n    var context = getContextBefore(cm, doc.highlightFrontier);\n    var changedLines = [];\n\n    doc.iter(context.line, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function (line) {\n      if (context.line >= cm.display.viewFrom) { // Visible\n        var oldStyles = line.styles;\n        var resetState = line.text.length > cm.options.maxHighlightLength ? copyState(doc.mode, context.state) : null;\n        var highlighted = highlightLine(cm, line, context, true);\n        if (resetState) { context.state = resetState; }\n        line.styles = highlighted.styles;\n        var oldCls = line.styleClasses, newCls = highlighted.classes;\n        if (newCls) { line.styleClasses = newCls; }\n        else if (oldCls) { line.styleClasses = null; }\n        var ischange = !oldStyles || oldStyles.length != line.styles.length ||\n          oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass);\n        for (var i = 0; !ischange && i < oldStyles.length; ++i) { ischange = oldStyles[i] != line.styles[i]; }\n        if (ischange) { changedLines.push(context.line); }\n        line.stateAfter = context.save();\n        context.nextLine();\n      } else {\n        if (line.text.length <= cm.options.maxHighlightLength)\n          { processLine(cm, line.text, context); }\n        line.stateAfter = context.line % 5 == 0 ? context.save() : null;\n        context.nextLine();\n      }\n      if (+new Date > end) {\n        startWorker(cm, cm.options.workDelay);\n        return true\n      }\n    });\n    doc.highlightFrontier = context.line;\n    doc.modeFrontier = Math.max(doc.modeFrontier, context.line);\n    if (changedLines.length) { runInOp(cm, function () {\n      for (var i = 0; i < changedLines.length; i++)\n        { regLineChange(cm, changedLines[i], \"text\"); }\n    }); }\n  }\n\n  // DISPLAY DRAWING\n\n  var DisplayUpdate = function(cm, viewport, force) {\n    var display = cm.display;\n\n    this.viewport = viewport;\n    // Store some values that we'll need later (but don't want to force a relayout for)\n    this.visible = visibleLines(display, cm.doc, viewport);\n    this.editorIsHidden = !display.wrapper.offsetWidth;\n    this.wrapperHeight = display.wrapper.clientHeight;\n    this.wrapperWidth = display.wrapper.clientWidth;\n    this.oldDisplayWidth = displayWidth(cm);\n    this.force = force;\n    this.dims = getDimensions(cm);\n    this.events = [];\n  };\n\n  DisplayUpdate.prototype.signal = function (emitter, type) {\n    if (hasHandler(emitter, type))\n      { this.events.push(arguments); }\n  };\n  DisplayUpdate.prototype.finish = function () {\n    for (var i = 0; i < this.events.length; i++)\n      { signal.apply(null, this.events[i]); }\n  };\n\n  function maybeClipScrollbars(cm) {\n    var display = cm.display;\n    if (!display.scrollbarsClipped && display.scroller.offsetWidth) {\n      display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth;\n      display.heightForcer.style.height = scrollGap(cm) + \"px\";\n      display.sizer.style.marginBottom = -display.nativeBarWidth + \"px\";\n      display.sizer.style.borderRightWidth = scrollGap(cm) + \"px\";\n      display.scrollbarsClipped = true;\n    }\n  }\n\n  function selectionSnapshot(cm) {\n    if (cm.hasFocus()) { return null }\n    var active = activeElt();\n    if (!active || !contains(cm.display.lineDiv, active)) { return null }\n    var result = {activeElt: active};\n    if (window.getSelection) {\n      var sel = window.getSelection();\n      if (sel.anchorNode && sel.extend && contains(cm.display.lineDiv, sel.anchorNode)) {\n        result.anchorNode = sel.anchorNode;\n        result.anchorOffset = sel.anchorOffset;\n        result.focusNode = sel.focusNode;\n        result.focusOffset = sel.focusOffset;\n      }\n    }\n    return result\n  }\n\n  function restoreSelection(snapshot) {\n    if (!snapshot || !snapshot.activeElt || snapshot.activeElt == activeElt()) { return }\n    snapshot.activeElt.focus();\n    if (!/^(INPUT|TEXTAREA)$/.test(snapshot.activeElt.nodeName) &&\n        snapshot.anchorNode && contains(document.body, snapshot.anchorNode) && contains(document.body, snapshot.focusNode)) {\n      var sel = window.getSelection(), range = document.createRange();\n      range.setEnd(snapshot.anchorNode, snapshot.anchorOffset);\n      range.collapse(false);\n      sel.removeAllRanges();\n      sel.addRange(range);\n      sel.extend(snapshot.focusNode, snapshot.focusOffset);\n    }\n  }\n\n  // Does the actual updating of the line display. Bails out\n  // (returning false) when there is nothing to be done and forced is\n  // false.\n  function updateDisplayIfNeeded(cm, update) {\n    var display = cm.display, doc = cm.doc;\n\n    if (update.editorIsHidden) {\n      resetView(cm);\n      return false\n    }\n\n    // Bail out if the visible area is already rendered and nothing changed.\n    if (!update.force &&\n        update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) &&\n        display.renderedView == display.view && countDirtyView(cm) == 0)\n      { return false }\n\n    if (maybeUpdateLineNumberWidth(cm)) {\n      resetView(cm);\n      update.dims = getDimensions(cm);\n    }\n\n    // Compute a suitable new viewport (from & to)\n    var end = doc.first + doc.size;\n    var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first);\n    var to = Math.min(end, update.visible.to + cm.options.viewportMargin);\n    if (display.viewFrom < from && from - display.viewFrom < 20) { from = Math.max(doc.first, display.viewFrom); }\n    if (display.viewTo > to && display.viewTo - to < 20) { to = Math.min(end, display.viewTo); }\n    if (sawCollapsedSpans) {\n      from = visualLineNo(cm.doc, from);\n      to = visualLineEndNo(cm.doc, to);\n    }\n\n    var different = from != display.viewFrom || to != display.viewTo ||\n      display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth;\n    adjustView(cm, from, to);\n\n    display.viewOffset = heightAtLine(getLine(cm.doc, display.viewFrom));\n    // Position the mover div to align with the current scroll position\n    cm.display.mover.style.top = display.viewOffset + \"px\";\n\n    var toUpdate = countDirtyView(cm);\n    if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo))\n      { return false }\n\n    // For big changes, we hide the enclosing element during the\n    // update, since that speeds up the operations on most browsers.\n    var selSnapshot = selectionSnapshot(cm);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"none\"; }\n    patchDisplay(cm, display.updateLineNumbers, update.dims);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"\"; }\n    display.renderedView = display.view;\n    // There might have been a widget with a focused element that got\n    // hidden or updated, if so re-focus it.\n    restoreSelection(selSnapshot);\n\n    // Prevent selection and cursors from interfering with the scroll\n    // width and height.\n    removeChildren(display.cursorDiv);\n    removeChildren(display.selectionDiv);\n    display.gutters.style.height = display.sizer.style.minHeight = 0;\n\n    if (different) {\n      display.lastWrapHeight = update.wrapperHeight;\n      display.lastWrapWidth = update.wrapperWidth;\n      startWorker(cm, 400);\n    }\n\n    display.updateLineNumbers = null;\n\n    return true\n  }\n\n  function postUpdateDisplay(cm, update) {\n    var viewport = update.viewport;\n\n    for (var first = true;; first = false) {\n      if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {\n        // Clip forced viewport to actual scrollable area.\n        if (viewport && viewport.top != null)\n          { viewport = {top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)}; }\n        // Updated line heights might result in the drawn area not\n        // actually covering the viewport. Keep looping until it does.\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n        if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo)\n          { break }\n      } else if (first) {\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n      }\n      if (!updateDisplayIfNeeded(cm, update)) { break }\n      updateHeightsInViewport(cm);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.force = false;\n    }\n\n    update.signal(cm, \"update\", cm);\n    if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {\n      update.signal(cm, \"viewportChange\", cm, cm.display.viewFrom, cm.display.viewTo);\n      cm.display.reportedViewFrom = cm.display.viewFrom; cm.display.reportedViewTo = cm.display.viewTo;\n    }\n  }\n\n  function updateDisplaySimple(cm, viewport) {\n    var update = new DisplayUpdate(cm, viewport);\n    if (updateDisplayIfNeeded(cm, update)) {\n      updateHeightsInViewport(cm);\n      postUpdateDisplay(cm, update);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.finish();\n    }\n  }\n\n  // Sync the actual display DOM structure with display.view, removing\n  // nodes for lines that are no longer in view, and creating the ones\n  // that are not there yet, and updating the ones that are out of\n  // date.\n  function patchDisplay(cm, updateNumbersFrom, dims) {\n    var display = cm.display, lineNumbers = cm.options.lineNumbers;\n    var container = display.lineDiv, cur = container.firstChild;\n\n    function rm(node) {\n      var next = node.nextSibling;\n      // Works around a throw-scroll bug in OS X Webkit\n      if (webkit && mac && cm.display.currentWheelTarget == node)\n        { node.style.display = \"none\"; }\n      else\n        { node.parentNode.removeChild(node); }\n      return next\n    }\n\n    var view = display.view, lineN = display.viewFrom;\n    // Loop over the elements in the view, syncing cur (the DOM nodes\n    // in display.lineDiv) with the view as we go.\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (lineView.hidden) ; else if (!lineView.node || lineView.node.parentNode != container) { // Not drawn yet\n        var node = buildLineElement(cm, lineView, lineN, dims);\n        container.insertBefore(node, cur);\n      } else { // Already drawn\n        while (cur != lineView.node) { cur = rm(cur); }\n        var updateNumber = lineNumbers && updateNumbersFrom != null &&\n          updateNumbersFrom <= lineN && lineView.lineNumber;\n        if (lineView.changes) {\n          if (indexOf(lineView.changes, \"gutter\") > -1) { updateNumber = false; }\n          updateLineForChanges(cm, lineView, lineN, dims);\n        }\n        if (updateNumber) {\n          removeChildren(lineView.lineNumber);\n          lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)));\n        }\n        cur = lineView.node.nextSibling;\n      }\n      lineN += lineView.size;\n    }\n    while (cur) { cur = rm(cur); }\n  }\n\n  function updateGutterSpace(display) {\n    var width = display.gutters.offsetWidth;\n    display.sizer.style.marginLeft = width + \"px\";\n    // Send an event to consumers responding to changes in gutter width.\n    signalLater(display, \"gutterChanged\", display);\n  }\n\n  function setDocumentHeight(cm, measure) {\n    cm.display.sizer.style.minHeight = measure.docHeight + \"px\";\n    cm.display.heightForcer.style.top = measure.docHeight + \"px\";\n    cm.display.gutters.style.height = (measure.docHeight + cm.display.barHeight + scrollGap(cm)) + \"px\";\n  }\n\n  // Re-align line numbers and gutter marks to compensate for\n  // horizontal scrolling.\n  function alignHorizontally(cm) {\n    var display = cm.display, view = display.view;\n    if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) { return }\n    var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft;\n    var gutterW = display.gutters.offsetWidth, left = comp + \"px\";\n    for (var i = 0; i < view.length; i++) { if (!view[i].hidden) {\n      if (cm.options.fixedGutter) {\n        if (view[i].gutter)\n          { view[i].gutter.style.left = left; }\n        if (view[i].gutterBackground)\n          { view[i].gutterBackground.style.left = left; }\n      }\n      var align = view[i].alignable;\n      if (align) { for (var j = 0; j < align.length; j++)\n        { align[j].style.left = left; } }\n    } }\n    if (cm.options.fixedGutter)\n      { display.gutters.style.left = (comp + gutterW) + \"px\"; }\n  }\n\n  // Used to ensure that the line number gutter is still the right\n  // size for the current document size. Returns true when an update\n  // is needed.\n  function maybeUpdateLineNumberWidth(cm) {\n    if (!cm.options.lineNumbers) { return false }\n    var doc = cm.doc, last = lineNumberFor(cm.options, doc.first + doc.size - 1), display = cm.display;\n    if (last.length != display.lineNumChars) {\n      var test = display.measure.appendChild(elt(\"div\", [elt(\"div\", last)],\n                                                 \"CodeMirror-linenumber CodeMirror-gutter-elt\"));\n      var innerW = test.firstChild.offsetWidth, padding = test.offsetWidth - innerW;\n      display.lineGutter.style.width = \"\";\n      display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1;\n      display.lineNumWidth = display.lineNumInnerWidth + padding;\n      display.lineNumChars = display.lineNumInnerWidth ? last.length : -1;\n      display.lineGutter.style.width = display.lineNumWidth + \"px\";\n      updateGutterSpace(cm.display);\n      return true\n    }\n    return false\n  }\n\n  function getGutters(gutters, lineNumbers) {\n    var result = [], sawLineNumbers = false;\n    for (var i = 0; i < gutters.length; i++) {\n      var name = gutters[i], style = null;\n      if (typeof name != \"string\") { style = name.style; name = name.className; }\n      if (name == \"CodeMirror-linenumbers\") {\n        if (!lineNumbers) { continue }\n        else { sawLineNumbers = true; }\n      }\n      result.push({className: name, style: style});\n    }\n    if (lineNumbers && !sawLineNumbers) { result.push({className: \"CodeMirror-linenumbers\", style: null}); }\n    return result\n  }\n\n  // Rebuild the gutter elements, ensure the margin to the left of the\n  // code matches their width.\n  function renderGutters(display) {\n    var gutters = display.gutters, specs = display.gutterSpecs;\n    removeChildren(gutters);\n    display.lineGutter = null;\n    for (var i = 0; i < specs.length; ++i) {\n      var ref = specs[i];\n      var className = ref.className;\n      var style = ref.style;\n      var gElt = gutters.appendChild(elt(\"div\", null, \"CodeMirror-gutter \" + className));\n      if (style) { gElt.style.cssText = style; }\n      if (className == \"CodeMirror-linenumbers\") {\n        display.lineGutter = gElt;\n        gElt.style.width = (display.lineNumWidth || 1) + \"px\";\n      }\n    }\n    gutters.style.display = specs.length ? \"\" : \"none\";\n    updateGutterSpace(display);\n  }\n\n  function updateGutters(cm) {\n    renderGutters(cm.display);\n    regChange(cm);\n    alignHorizontally(cm);\n  }\n\n  // The display handles the DOM integration, both for input reading\n  // and content drawing. It holds references to DOM nodes and\n  // display-related state.\n\n  function Display(place, doc, input, options) {\n    var d = this;\n    this.input = input;\n\n    // Covers bottom-right square when both scrollbars are present.\n    d.scrollbarFiller = elt(\"div\", null, \"CodeMirror-scrollbar-filler\");\n    d.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Covers bottom of gutter when coverGutterNextToScrollbar is on\n    // and h scrollbar is present.\n    d.gutterFiller = elt(\"div\", null, \"CodeMirror-gutter-filler\");\n    d.gutterFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Will contain the actual code, positioned to cover the viewport.\n    d.lineDiv = eltP(\"div\", null, \"CodeMirror-code\");\n    // Elements are added to these to represent selection and cursors.\n    d.selectionDiv = elt(\"div\", null, null, \"position: relative; z-index: 1\");\n    d.cursorDiv = elt(\"div\", null, \"CodeMirror-cursors\");\n    // A visibility: hidden element used to find the size of things.\n    d.measure = elt(\"div\", null, \"CodeMirror-measure\");\n    // When lines outside of the viewport are measured, they are drawn in this.\n    d.lineMeasure = elt(\"div\", null, \"CodeMirror-measure\");\n    // Wraps everything that needs to exist inside the vertically-padded coordinate system\n    d.lineSpace = eltP(\"div\", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv],\n                      null, \"position: relative; outline: none\");\n    var lines = eltP(\"div\", [d.lineSpace], \"CodeMirror-lines\");\n    // Moved around its parent to cover visible view.\n    d.mover = elt(\"div\", [lines], null, \"position: relative\");\n    // Set to the height of the document, allowing scrolling.\n    d.sizer = elt(\"div\", [d.mover], \"CodeMirror-sizer\");\n    d.sizerWidth = null;\n    // Behavior of elts with overflow: auto and padding is\n    // inconsistent across browsers. This is used to ensure the\n    // scrollable area is big enough.\n    d.heightForcer = elt(\"div\", null, null, \"position: absolute; height: \" + scrollerGap + \"px; width: 1px;\");\n    // Will contain the gutters, if any.\n    d.gutters = elt(\"div\", null, \"CodeMirror-gutters\");\n    d.lineGutter = null;\n    // Actual scrollable element.\n    d.scroller = elt(\"div\", [d.sizer, d.heightForcer, d.gutters], \"CodeMirror-scroll\");\n    d.scroller.setAttribute(\"tabIndex\", \"-1\");\n    // The element in which the editor lives.\n    d.wrapper = elt(\"div\", [d.scrollbarFiller, d.gutterFiller, d.scroller], \"CodeMirror\");\n\n    // This attribute is respected by automatic translation systems such as Google Translate,\n    // and may also be respected by tools used by human translators.\n    d.wrapper.setAttribute('translate', 'no');\n\n    // Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)\n    if (ie && ie_version < 8) { d.gutters.style.zIndex = -1; d.scroller.style.paddingRight = 0; }\n    if (!webkit && !(gecko && mobile)) { d.scroller.draggable = true; }\n\n    if (place) {\n      if (place.appendChild) { place.appendChild(d.wrapper); }\n      else { place(d.wrapper); }\n    }\n\n    // Current rendered range (may be bigger than the view window).\n    d.viewFrom = d.viewTo = doc.first;\n    d.reportedViewFrom = d.reportedViewTo = doc.first;\n    // Information about the rendered lines.\n    d.view = [];\n    d.renderedView = null;\n    // Holds info about a single rendered line when it was rendered\n    // for measurement, while not in view.\n    d.externalMeasured = null;\n    // Empty space (in pixels) above the view\n    d.viewOffset = 0;\n    d.lastWrapHeight = d.lastWrapWidth = 0;\n    d.updateLineNumbers = null;\n\n    d.nativeBarWidth = d.barHeight = d.barWidth = 0;\n    d.scrollbarsClipped = false;\n\n    // Used to only resize the line number gutter when necessary (when\n    // the amount of lines crosses a boundary that makes its width change)\n    d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null;\n    // Set to true when a non-horizontal-scrolling line widget is\n    // added. As an optimization, line widget aligning is skipped when\n    // this is false.\n    d.alignWidgets = false;\n\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n\n    // Tracks the maximum line length so that the horizontal scrollbar\n    // can be kept static when scrolling.\n    d.maxLine = null;\n    d.maxLineLength = 0;\n    d.maxLineChanged = false;\n\n    // Used for measuring wheel scrolling granularity\n    d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null;\n\n    // True when shift is held down.\n    d.shift = false;\n\n    // Used to track whether anything happened since the context menu\n    // was opened.\n    d.selForContextMenu = null;\n\n    d.activeTouch = null;\n\n    d.gutterSpecs = getGutters(options.gutters, options.lineNumbers);\n    renderGutters(d);\n\n    input.init(d);\n  }\n\n  // Since the delta values reported on mouse wheel events are\n  // unstandardized between browsers and even browser versions, and\n  // generally horribly unpredictable, this code starts by measuring\n  // the scroll effect that the first few mouse wheel events have,\n  // and, from that, detects the way it can convert deltas to pixel\n  // offsets afterwards.\n  //\n  // The reason we want to know the amount a wheel event will scroll\n  // is that it gives us a chance to update the display before the\n  // actual scrolling happens, reducing flickering.\n\n  var wheelSamples = 0, wheelPixelsPerUnit = null;\n  // Fill in a browser-detected starting value on browsers where we\n  // know one. These don't have to be accurate -- the result of them\n  // being wrong would just be a slight flicker on the first wheel\n  // scroll (if it is large enough).\n  if (ie) { wheelPixelsPerUnit = -.53; }\n  else if (gecko) { wheelPixelsPerUnit = 15; }\n  else if (chrome) { wheelPixelsPerUnit = -.7; }\n  else if (safari) { wheelPixelsPerUnit = -1/3; }\n\n  function wheelEventDelta(e) {\n    var dx = e.wheelDeltaX, dy = e.wheelDeltaY;\n    if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) { dx = e.detail; }\n    if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) { dy = e.detail; }\n    else if (dy == null) { dy = e.wheelDelta; }\n    return {x: dx, y: dy}\n  }\n  function wheelEventPixels(e) {\n    var delta = wheelEventDelta(e);\n    delta.x *= wheelPixelsPerUnit;\n    delta.y *= wheelPixelsPerUnit;\n    return delta\n  }\n\n  function onScrollWheel(cm, e) {\n    var delta = wheelEventDelta(e), dx = delta.x, dy = delta.y;\n    var pixelsPerUnit = wheelPixelsPerUnit;\n    if (e.deltaMode === 0) {\n      dx = e.deltaX;\n      dy = e.deltaY;\n      pixelsPerUnit = 1;\n    }\n\n    var display = cm.display, scroll = display.scroller;\n    // Quit if there's nothing to scroll here\n    var canScrollX = scroll.scrollWidth > scroll.clientWidth;\n    var canScrollY = scroll.scrollHeight > scroll.clientHeight;\n    if (!(dx && canScrollX || dy && canScrollY)) { return }\n\n    // Webkit browsers on OS X abort momentum scrolls when the target\n    // of the scroll event is removed from the scrollable element.\n    // This hack (see related code in patchDisplay) makes sure the\n    // element is kept around.\n    if (dy && mac && webkit) {\n      outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {\n        for (var i = 0; i < view.length; i++) {\n          if (view[i].node == cur) {\n            cm.display.currentWheelTarget = cur;\n            break outer\n          }\n        }\n      }\n    }\n\n    // On some browsers, horizontal scrolling will cause redraws to\n    // happen before the gutter has been realigned, causing it to\n    // wriggle around in a most unseemly way. When we have an\n    // estimated pixels/delta value, we just handle horizontal\n    // scrolling entirely here. It'll be slightly off from native, but\n    // better than glitching out.\n    if (dx && !gecko && !presto && pixelsPerUnit != null) {\n      if (dy && canScrollY)\n        { updateScrollTop(cm, Math.max(0, scroll.scrollTop + dy * pixelsPerUnit)); }\n      setScrollLeft(cm, Math.max(0, scroll.scrollLeft + dx * pixelsPerUnit));\n      // Only prevent default scrolling if vertical scrolling is\n      // actually possible. Otherwise, it causes vertical scroll\n      // jitter on OSX trackpads when deltaX is small and deltaY\n      // is large (issue #3579)\n      if (!dy || (dy && canScrollY))\n        { e_preventDefault(e); }\n      display.wheelStartX = null; // Abort measurement, if in progress\n      return\n    }\n\n    // 'Project' the visible viewport to cover the area that is being\n    // scrolled into view (if we know enough to estimate it).\n    if (dy && pixelsPerUnit != null) {\n      var pixels = dy * pixelsPerUnit;\n      var top = cm.doc.scrollTop, bot = top + display.wrapper.clientHeight;\n      if (pixels < 0) { top = Math.max(0, top + pixels - 50); }\n      else { bot = Math.min(cm.doc.height, bot + pixels + 50); }\n      updateDisplaySimple(cm, {top: top, bottom: bot});\n    }\n\n    if (wheelSamples < 20 && e.deltaMode !== 0) {\n      if (display.wheelStartX == null) {\n        display.wheelStartX = scroll.scrollLeft; display.wheelStartY = scroll.scrollTop;\n        display.wheelDX = dx; display.wheelDY = dy;\n        setTimeout(function () {\n          if (display.wheelStartX == null) { return }\n          var movedX = scroll.scrollLeft - display.wheelStartX;\n          var movedY = scroll.scrollTop - display.wheelStartY;\n          var sample = (movedY && display.wheelDY && movedY / display.wheelDY) ||\n            (movedX && display.wheelDX && movedX / display.wheelDX);\n          display.wheelStartX = display.wheelStartY = null;\n          if (!sample) { return }\n          wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1);\n          ++wheelSamples;\n        }, 200);\n      } else {\n        display.wheelDX += dx; display.wheelDY += dy;\n      }\n    }\n  }\n\n  // Selection objects are immutable. A new one is created every time\n  // the selection changes. A selection is one or more non-overlapping\n  // (and non-touching) ranges, sorted, and an integer that indicates\n  // which one is the primary selection (the one that's scrolled into\n  // view, that getCursor returns, etc).\n  var Selection = function(ranges, primIndex) {\n    this.ranges = ranges;\n    this.primIndex = primIndex;\n  };\n\n  Selection.prototype.primary = function () { return this.ranges[this.primIndex] };\n\n  Selection.prototype.equals = function (other) {\n    if (other == this) { return true }\n    if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) { return false }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var here = this.ranges[i], there = other.ranges[i];\n      if (!equalCursorPos(here.anchor, there.anchor) || !equalCursorPos(here.head, there.head)) { return false }\n    }\n    return true\n  };\n\n  Selection.prototype.deepCopy = function () {\n    var out = [];\n    for (var i = 0; i < this.ranges.length; i++)\n      { out[i] = new Range(copyPos(this.ranges[i].anchor), copyPos(this.ranges[i].head)); }\n    return new Selection(out, this.primIndex)\n  };\n\n  Selection.prototype.somethingSelected = function () {\n    for (var i = 0; i < this.ranges.length; i++)\n      { if (!this.ranges[i].empty()) { return true } }\n    return false\n  };\n\n  Selection.prototype.contains = function (pos, end) {\n    if (!end) { end = pos; }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var range = this.ranges[i];\n      if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0)\n        { return i }\n    }\n    return -1\n  };\n\n  var Range = function(anchor, head) {\n    this.anchor = anchor; this.head = head;\n  };\n\n  Range.prototype.from = function () { return minPos(this.anchor, this.head) };\n  Range.prototype.to = function () { return maxPos(this.anchor, this.head) };\n  Range.prototype.empty = function () { return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch };\n\n  // Take an unsorted, potentially overlapping set of ranges, and\n  // build a selection out of it. 'Consumes' ranges array (modifying\n  // it).\n  function normalizeSelection(cm, ranges, primIndex) {\n    var mayTouch = cm && cm.options.selectionsMayTouch;\n    var prim = ranges[primIndex];\n    ranges.sort(function (a, b) { return cmp(a.from(), b.from()); });\n    primIndex = indexOf(ranges, prim);\n    for (var i = 1; i < ranges.length; i++) {\n      var cur = ranges[i], prev = ranges[i - 1];\n      var diff = cmp(prev.to(), cur.from());\n      if (mayTouch && !cur.empty() ? diff > 0 : diff >= 0) {\n        var from = minPos(prev.from(), cur.from()), to = maxPos(prev.to(), cur.to());\n        var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head;\n        if (i <= primIndex) { --primIndex; }\n        ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to));\n      }\n    }\n    return new Selection(ranges, primIndex)\n  }\n\n  function simpleSelection(anchor, head) {\n    return new Selection([new Range(anchor, head || anchor)], 0)\n  }\n\n  // Compute the position of the end of a change (its 'to' property\n  // refers to the pre-change end).\n  function changeEnd(change) {\n    if (!change.text) { return change.to }\n    return Pos(change.from.line + change.text.length - 1,\n               lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0))\n  }\n\n  // Adjust a position to refer to the post-change position of the\n  // same text, or the end of the change if the change covers it.\n  function adjustForChange(pos, change) {\n    if (cmp(pos, change.from) < 0) { return pos }\n    if (cmp(pos, change.to) <= 0) { return changeEnd(change) }\n\n    var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1, ch = pos.ch;\n    if (pos.line == change.to.line) { ch += changeEnd(change).ch - change.to.ch; }\n    return Pos(line, ch)\n  }\n\n  function computeSelAfterChange(doc, change) {\n    var out = [];\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      var range = doc.sel.ranges[i];\n      out.push(new Range(adjustForChange(range.anchor, change),\n                         adjustForChange(range.head, change)));\n    }\n    return normalizeSelection(doc.cm, out, doc.sel.primIndex)\n  }\n\n  function offsetPos(pos, old, nw) {\n    if (pos.line == old.line)\n      { return Pos(nw.line, pos.ch - old.ch + nw.ch) }\n    else\n      { return Pos(nw.line + (pos.line - old.line), pos.ch) }\n  }\n\n  // Used by replaceSelections to allow moving the selection to the\n  // start or around the replaced test. Hint may be \"start\" or \"around\".\n  function computeReplacedSel(doc, changes, hint) {\n    var out = [];\n    var oldPrev = Pos(doc.first, 0), newPrev = oldPrev;\n    for (var i = 0; i < changes.length; i++) {\n      var change = changes[i];\n      var from = offsetPos(change.from, oldPrev, newPrev);\n      var to = offsetPos(changeEnd(change), oldPrev, newPrev);\n      oldPrev = change.to;\n      newPrev = to;\n      if (hint == \"around\") {\n        var range = doc.sel.ranges[i], inv = cmp(range.head, range.anchor) < 0;\n        out[i] = new Range(inv ? to : from, inv ? from : to);\n      } else {\n        out[i] = new Range(from, from);\n      }\n    }\n    return new Selection(out, doc.sel.primIndex)\n  }\n\n  // Used to get the editor into a consistent state again when options change.\n\n  function loadMode(cm) {\n    cm.doc.mode = getMode(cm.options, cm.doc.modeOption);\n    resetModeState(cm);\n  }\n\n  function resetModeState(cm) {\n    cm.doc.iter(function (line) {\n      if (line.stateAfter) { line.stateAfter = null; }\n      if (line.styles) { line.styles = null; }\n    });\n    cm.doc.modeFrontier = cm.doc.highlightFrontier = cm.doc.first;\n    startWorker(cm, 100);\n    cm.state.modeGen++;\n    if (cm.curOp) { regChange(cm); }\n  }\n\n  // DOCUMENT DATA STRUCTURE\n\n  // By default, updates that start and end at the beginning of a line\n  // are treated specially, in order to make the association of line\n  // widgets and marker elements with the text behave more intuitive.\n  function isWholeLineUpdate(doc, change) {\n    return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == \"\" &&\n      (!doc.cm || doc.cm.options.wholeLineUpdateBefore)\n  }\n\n  // Perform a change on the document data structure.\n  function updateDoc(doc, change, markedSpans, estimateHeight) {\n    function spansFor(n) {return markedSpans ? markedSpans[n] : null}\n    function update(line, text, spans) {\n      updateLine(line, text, spans, estimateHeight);\n      signalLater(line, \"change\", line, change);\n    }\n    function linesFor(start, end) {\n      var result = [];\n      for (var i = start; i < end; ++i)\n        { result.push(new Line(text[i], spansFor(i), estimateHeight)); }\n      return result\n    }\n\n    var from = change.from, to = change.to, text = change.text;\n    var firstLine = getLine(doc, from.line), lastLine = getLine(doc, to.line);\n    var lastText = lst(text), lastSpans = spansFor(text.length - 1), nlines = to.line - from.line;\n\n    // Adjust the line structure\n    if (change.full) {\n      doc.insert(0, linesFor(0, text.length));\n      doc.remove(text.length, doc.size - text.length);\n    } else if (isWholeLineUpdate(doc, change)) {\n      // This is a whole-line replace. Treated specially to make\n      // sure line objects move the way they are supposed to.\n      var added = linesFor(0, text.length - 1);\n      update(lastLine, lastLine.text, lastSpans);\n      if (nlines) { doc.remove(from.line, nlines); }\n      if (added.length) { doc.insert(from.line, added); }\n    } else if (firstLine == lastLine) {\n      if (text.length == 1) {\n        update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans);\n      } else {\n        var added$1 = linesFor(1, text.length - 1);\n        added$1.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight));\n        update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n        doc.insert(from.line + 1, added$1);\n      }\n    } else if (text.length == 1) {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0));\n      doc.remove(from.line + 1, nlines);\n    } else {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n      update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans);\n      var added$2 = linesFor(1, text.length - 1);\n      if (nlines > 1) { doc.remove(from.line + 1, nlines - 1); }\n      doc.insert(from.line + 1, added$2);\n    }\n\n    signalLater(doc, \"change\", doc, change);\n  }\n\n  // Call f for all linked documents.\n  function linkedDocs(doc, f, sharedHistOnly) {\n    function propagate(doc, skip, sharedHist) {\n      if (doc.linked) { for (var i = 0; i < doc.linked.length; ++i) {\n        var rel = doc.linked[i];\n        if (rel.doc == skip) { continue }\n        var shared = sharedHist && rel.sharedHist;\n        if (sharedHistOnly && !shared) { continue }\n        f(rel.doc, shared);\n        propagate(rel.doc, doc, shared);\n      } }\n    }\n    propagate(doc, null, true);\n  }\n\n  // Attach a document to an editor.\n  function attachDoc(cm, doc) {\n    if (doc.cm) { throw new Error(\"This document is already in use.\") }\n    cm.doc = doc;\n    doc.cm = cm;\n    estimateLineHeights(cm);\n    loadMode(cm);\n    setDirectionClass(cm);\n    cm.options.direction = doc.direction;\n    if (!cm.options.lineWrapping) { findMaxLine(cm); }\n    cm.options.mode = doc.modeOption;\n    regChange(cm);\n  }\n\n  function setDirectionClass(cm) {\n  (cm.doc.direction == \"rtl\" ? addClass : rmClass)(cm.display.lineDiv, \"CodeMirror-rtl\");\n  }\n\n  function directionChanged(cm) {\n    runInOp(cm, function () {\n      setDirectionClass(cm);\n      regChange(cm);\n    });\n  }\n\n  function History(prev) {\n    // Arrays of change events and selections. Doing something adds an\n    // event to done and clears undo. Undoing moves events from done\n    // to undone, redoing moves them in the other direction.\n    this.done = []; this.undone = [];\n    this.undoDepth = prev ? prev.undoDepth : Infinity;\n    // Used to track when changes can be merged into a single undo\n    // event\n    this.lastModTime = this.lastSelTime = 0;\n    this.lastOp = this.lastSelOp = null;\n    this.lastOrigin = this.lastSelOrigin = null;\n    // Used by the isClean() method\n    this.generation = this.maxGeneration = prev ? prev.maxGeneration : 1;\n  }\n\n  // Create a history change event from an updateDoc-style change\n  // object.\n  function historyChangeFromChange(doc, change) {\n    var histChange = {from: copyPos(change.from), to: changeEnd(change), text: getBetween(doc, change.from, change.to)};\n    attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);\n    linkedDocs(doc, function (doc) { return attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1); }, true);\n    return histChange\n  }\n\n  // Pop all selection events off the end of a history array. Stop at\n  // a change event.\n  function clearSelectionEvents(array) {\n    while (array.length) {\n      var last = lst(array);\n      if (last.ranges) { array.pop(); }\n      else { break }\n    }\n  }\n\n  // Find the top change event in the history. Pop off selection\n  // events that are in the way.\n  function lastChangeEvent(hist, force) {\n    if (force) {\n      clearSelectionEvents(hist.done);\n      return lst(hist.done)\n    } else if (hist.done.length && !lst(hist.done).ranges) {\n      return lst(hist.done)\n    } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {\n      hist.done.pop();\n      return lst(hist.done)\n    }\n  }\n\n  // Register a change in the history. Merges changes that are within\n  // a single operation, or are close together with an origin that\n  // allows merging (starting with \"+\") into a single event.\n  function addChangeToHistory(doc, change, selAfter, opId) {\n    var hist = doc.history;\n    hist.undone.length = 0;\n    var time = +new Date, cur;\n    var last;\n\n    if ((hist.lastOp == opId ||\n         hist.lastOrigin == change.origin && change.origin &&\n         ((change.origin.charAt(0) == \"+\" && hist.lastModTime > time - (doc.cm ? doc.cm.options.historyEventDelay : 500)) ||\n          change.origin.charAt(0) == \"*\")) &&\n        (cur = lastChangeEvent(hist, hist.lastOp == opId))) {\n      // Merge this change into the last event\n      last = lst(cur.changes);\n      if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {\n        // Optimized case for simple insertion -- don't want to add\n        // new changesets for every character typed\n        last.to = changeEnd(change);\n      } else {\n        // Add new sub-event\n        cur.changes.push(historyChangeFromChange(doc, change));\n      }\n    } else {\n      // Can not be merged, start a new event.\n      var before = lst(hist.done);\n      if (!before || !before.ranges)\n        { pushSelectionToHistory(doc.sel, hist.done); }\n      cur = {changes: [historyChangeFromChange(doc, change)],\n             generation: hist.generation};\n      hist.done.push(cur);\n      while (hist.done.length > hist.undoDepth) {\n        hist.done.shift();\n        if (!hist.done[0].ranges) { hist.done.shift(); }\n      }\n    }\n    hist.done.push(selAfter);\n    hist.generation = ++hist.maxGeneration;\n    hist.lastModTime = hist.lastSelTime = time;\n    hist.lastOp = hist.lastSelOp = opId;\n    hist.lastOrigin = hist.lastSelOrigin = change.origin;\n\n    if (!last) { signal(doc, \"historyAdded\"); }\n  }\n\n  function selectionEventCanBeMerged(doc, origin, prev, sel) {\n    var ch = origin.charAt(0);\n    return ch == \"*\" ||\n      ch == \"+\" &&\n      prev.ranges.length == sel.ranges.length &&\n      prev.somethingSelected() == sel.somethingSelected() &&\n      new Date - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500)\n  }\n\n  // Called whenever the selection changes, sets the new selection as\n  // the pending selection in the history, and pushes the old pending\n  // selection into the 'done' array when it was significantly\n  // different (in number of selected ranges, emptiness, or time).\n  function addSelectionToHistory(doc, sel, opId, options) {\n    var hist = doc.history, origin = options && options.origin;\n\n    // A new event is started when the previous origin does not match\n    // the current, or the origins don't allow matching. Origins\n    // starting with * are always merged, those starting with + are\n    // merged when similar and close together in time.\n    if (opId == hist.lastSelOp ||\n        (origin && hist.lastSelOrigin == origin &&\n         (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin ||\n          selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))))\n      { hist.done[hist.done.length - 1] = sel; }\n    else\n      { pushSelectionToHistory(sel, hist.done); }\n\n    hist.lastSelTime = +new Date;\n    hist.lastSelOrigin = origin;\n    hist.lastSelOp = opId;\n    if (options && options.clearRedo !== false)\n      { clearSelectionEvents(hist.undone); }\n  }\n\n  function pushSelectionToHistory(sel, dest) {\n    var top = lst(dest);\n    if (!(top && top.ranges && top.equals(sel)))\n      { dest.push(sel); }\n  }\n\n  // Used to store marked span information in the history.\n  function attachLocalSpans(doc, change, from, to) {\n    var existing = change[\"spans_\" + doc.id], n = 0;\n    doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function (line) {\n      if (line.markedSpans)\n        { (existing || (existing = change[\"spans_\" + doc.id] = {}))[n] = line.markedSpans; }\n      ++n;\n    });\n  }\n\n  // When un/re-doing restores text containing marked spans, those\n  // that have been explicitly cleared should not be restored.\n  function removeClearedSpans(spans) {\n    if (!spans) { return null }\n    var out;\n    for (var i = 0; i < spans.length; ++i) {\n      if (spans[i].marker.explicitlyCleared) { if (!out) { out = spans.slice(0, i); } }\n      else if (out) { out.push(spans[i]); }\n    }\n    return !out ? spans : out.length ? out : null\n  }\n\n  // Retrieve and filter the old marked spans stored in a change event.\n  function getOldSpans(doc, change) {\n    var found = change[\"spans_\" + doc.id];\n    if (!found) { return null }\n    var nw = [];\n    for (var i = 0; i < change.text.length; ++i)\n      { nw.push(removeClearedSpans(found[i])); }\n    return nw\n  }\n\n  // Used for un/re-doing changes from the history. Combines the\n  // result of computing the existing spans with the set of spans that\n  // existed in the history (so that deleting around a span and then\n  // undoing brings back the span).\n  function mergeOldSpans(doc, change) {\n    var old = getOldSpans(doc, change);\n    var stretched = stretchSpansOverChange(doc, change);\n    if (!old) { return stretched }\n    if (!stretched) { return old }\n\n    for (var i = 0; i < old.length; ++i) {\n      var oldCur = old[i], stretchCur = stretched[i];\n      if (oldCur && stretchCur) {\n        spans: for (var j = 0; j < stretchCur.length; ++j) {\n          var span = stretchCur[j];\n          for (var k = 0; k < oldCur.length; ++k)\n            { if (oldCur[k].marker == span.marker) { continue spans } }\n          oldCur.push(span);\n        }\n      } else if (stretchCur) {\n        old[i] = stretchCur;\n      }\n    }\n    return old\n  }\n\n  // Used both to provide a JSON-safe object in .getHistory, and, when\n  // detaching a document, to split the history in two\n  function copyHistoryArray(events, newGroup, instantiateSel) {\n    var copy = [];\n    for (var i = 0; i < events.length; ++i) {\n      var event = events[i];\n      if (event.ranges) {\n        copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event);\n        continue\n      }\n      var changes = event.changes, newChanges = [];\n      copy.push({changes: newChanges});\n      for (var j = 0; j < changes.length; ++j) {\n        var change = changes[j], m = (void 0);\n        newChanges.push({from: change.from, to: change.to, text: change.text});\n        if (newGroup) { for (var prop in change) { if (m = prop.match(/^spans_(\\d+)$/)) {\n          if (indexOf(newGroup, Number(m[1])) > -1) {\n            lst(newChanges)[prop] = change[prop];\n            delete change[prop];\n          }\n        } } }\n      }\n    }\n    return copy\n  }\n\n  // The 'scroll' parameter given to many of these indicated whether\n  // the new cursor position should be scrolled into view after\n  // modifying the selection.\n\n  // If shift is held or the extend flag is set, extends a range to\n  // include a given position (and optionally a second position).\n  // Otherwise, simply returns the range between the given positions.\n  // Used for cursor motion and such.\n  function extendRange(range, head, other, extend) {\n    if (extend) {\n      var anchor = range.anchor;\n      if (other) {\n        var posBefore = cmp(head, anchor) < 0;\n        if (posBefore != (cmp(other, anchor) < 0)) {\n          anchor = head;\n          head = other;\n        } else if (posBefore != (cmp(head, other) < 0)) {\n          head = other;\n        }\n      }\n      return new Range(anchor, head)\n    } else {\n      return new Range(other || head, head)\n    }\n  }\n\n  // Extend the primary selection range, discard the rest.\n  function extendSelection(doc, head, other, options, extend) {\n    if (extend == null) { extend = doc.cm && (doc.cm.display.shift || doc.extend); }\n    setSelection(doc, new Selection([extendRange(doc.sel.primary(), head, other, extend)], 0), options);\n  }\n\n  // Extend all selections (pos is an array of selections with length\n  // equal the number of selections)\n  function extendSelections(doc, heads, options) {\n    var out = [];\n    var extend = doc.cm && (doc.cm.display.shift || doc.extend);\n    for (var i = 0; i < doc.sel.ranges.length; i++)\n      { out[i] = extendRange(doc.sel.ranges[i], heads[i], null, extend); }\n    var newSel = normalizeSelection(doc.cm, out, doc.sel.primIndex);\n    setSelection(doc, newSel, options);\n  }\n\n  // Updates a single range in the selection.\n  function replaceOneSelection(doc, i, range, options) {\n    var ranges = doc.sel.ranges.slice(0);\n    ranges[i] = range;\n    setSelection(doc, normalizeSelection(doc.cm, ranges, doc.sel.primIndex), options);\n  }\n\n  // Reset the selection to a single range.\n  function setSimpleSelection(doc, anchor, head, options) {\n    setSelection(doc, simpleSelection(anchor, head), options);\n  }\n\n  // Give beforeSelectionChange handlers a change to influence a\n  // selection update.\n  function filterSelectionChange(doc, sel, options) {\n    var obj = {\n      ranges: sel.ranges,\n      update: function(ranges) {\n        this.ranges = [];\n        for (var i = 0; i < ranges.length; i++)\n          { this.ranges[i] = new Range(clipPos(doc, ranges[i].anchor),\n                                     clipPos(doc, ranges[i].head)); }\n      },\n      origin: options && options.origin\n    };\n    signal(doc, \"beforeSelectionChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeSelectionChange\", doc.cm, obj); }\n    if (obj.ranges != sel.ranges) { return normalizeSelection(doc.cm, obj.ranges, obj.ranges.length - 1) }\n    else { return sel }\n  }\n\n  function setSelectionReplaceHistory(doc, sel, options) {\n    var done = doc.history.done, last = lst(done);\n    if (last && last.ranges) {\n      done[done.length - 1] = sel;\n      setSelectionNoUndo(doc, sel, options);\n    } else {\n      setSelection(doc, sel, options);\n    }\n  }\n\n  // Set a new selection.\n  function setSelection(doc, sel, options) {\n    setSelectionNoUndo(doc, sel, options);\n    addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options);\n  }\n\n  function setSelectionNoUndo(doc, sel, options) {\n    if (hasHandler(doc, \"beforeSelectionChange\") || doc.cm && hasHandler(doc.cm, \"beforeSelectionChange\"))\n      { sel = filterSelectionChange(doc, sel, options); }\n\n    var bias = options && options.bias ||\n      (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1);\n    setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true));\n\n    if (!(options && options.scroll === false) && doc.cm && doc.cm.getOption(\"readOnly\") != \"nocursor\")\n      { ensureCursorVisible(doc.cm); }\n  }\n\n  function setSelectionInner(doc, sel) {\n    if (sel.equals(doc.sel)) { return }\n\n    doc.sel = sel;\n\n    if (doc.cm) {\n      doc.cm.curOp.updateInput = 1;\n      doc.cm.curOp.selectionChanged = true;\n      signalCursorActivity(doc.cm);\n    }\n    signalLater(doc, \"cursorActivity\", doc);\n  }\n\n  // Verify that the selection does not partially select any atomic\n  // marked ranges.\n  function reCheckSelection(doc) {\n    setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false));\n  }\n\n  // Return a selection that does not partially select any atomic\n  // ranges.\n  function skipAtomicInSelection(doc, sel, bias, mayClear) {\n    var out;\n    for (var i = 0; i < sel.ranges.length; i++) {\n      var range = sel.ranges[i];\n      var old = sel.ranges.length == doc.sel.ranges.length && doc.sel.ranges[i];\n      var newAnchor = skipAtomic(doc, range.anchor, old && old.anchor, bias, mayClear);\n      var newHead = skipAtomic(doc, range.head, old && old.head, bias, mayClear);\n      if (out || newAnchor != range.anchor || newHead != range.head) {\n        if (!out) { out = sel.ranges.slice(0, i); }\n        out[i] = new Range(newAnchor, newHead);\n      }\n    }\n    return out ? normalizeSelection(doc.cm, out, sel.primIndex) : sel\n  }\n\n  function skipAtomicInner(doc, pos, oldPos, dir, mayClear) {\n    var line = getLine(doc, pos.line);\n    if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n      var sp = line.markedSpans[i], m = sp.marker;\n\n      // Determine if we should prevent the cursor being placed to the left/right of an atomic marker\n      // Historically this was determined using the inclusiveLeft/Right option, but the new way to control it\n      // is with selectLeft/Right\n      var preventCursorLeft = (\"selectLeft\" in m) ? !m.selectLeft : m.inclusiveLeft;\n      var preventCursorRight = (\"selectRight\" in m) ? !m.selectRight : m.inclusiveRight;\n\n      if ((sp.from == null || (preventCursorLeft ? sp.from <= pos.ch : sp.from < pos.ch)) &&\n          (sp.to == null || (preventCursorRight ? sp.to >= pos.ch : sp.to > pos.ch))) {\n        if (mayClear) {\n          signal(m, \"beforeCursorEnter\");\n          if (m.explicitlyCleared) {\n            if (!line.markedSpans) { break }\n            else {--i; continue}\n          }\n        }\n        if (!m.atomic) { continue }\n\n        if (oldPos) {\n          var near = m.find(dir < 0 ? 1 : -1), diff = (void 0);\n          if (dir < 0 ? preventCursorRight : preventCursorLeft)\n            { near = movePos(doc, near, -dir, near && near.line == pos.line ? line : null); }\n          if (near && near.line == pos.line && (diff = cmp(near, oldPos)) && (dir < 0 ? diff < 0 : diff > 0))\n            { return skipAtomicInner(doc, near, pos, dir, mayClear) }\n        }\n\n        var far = m.find(dir < 0 ? -1 : 1);\n        if (dir < 0 ? preventCursorLeft : preventCursorRight)\n          { far = movePos(doc, far, dir, far.line == pos.line ? line : null); }\n        return far ? skipAtomicInner(doc, far, pos, dir, mayClear) : null\n      }\n    } }\n    return pos\n  }\n\n  // Ensure a given position is not inside an atomic range.\n  function skipAtomic(doc, pos, oldPos, bias, mayClear) {\n    var dir = bias || 1;\n    var found = skipAtomicInner(doc, pos, oldPos, dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, dir, true)) ||\n        skipAtomicInner(doc, pos, oldPos, -dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, -dir, true));\n    if (!found) {\n      doc.cantEdit = true;\n      return Pos(doc.first, 0)\n    }\n    return found\n  }\n\n  function movePos(doc, pos, dir, line) {\n    if (dir < 0 && pos.ch == 0) {\n      if (pos.line > doc.first) { return clipPos(doc, Pos(pos.line - 1)) }\n      else { return null }\n    } else if (dir > 0 && pos.ch == (line || getLine(doc, pos.line)).text.length) {\n      if (pos.line < doc.first + doc.size - 1) { return Pos(pos.line + 1, 0) }\n      else { return null }\n    } else {\n      return new Pos(pos.line, pos.ch + dir)\n    }\n  }\n\n  function selectAll(cm) {\n    cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll);\n  }\n\n  // UPDATING\n\n  // Allow \"beforeChange\" event handlers to influence a change\n  function filterChange(doc, change, update) {\n    var obj = {\n      canceled: false,\n      from: change.from,\n      to: change.to,\n      text: change.text,\n      origin: change.origin,\n      cancel: function () { return obj.canceled = true; }\n    };\n    if (update) { obj.update = function (from, to, text, origin) {\n      if (from) { obj.from = clipPos(doc, from); }\n      if (to) { obj.to = clipPos(doc, to); }\n      if (text) { obj.text = text; }\n      if (origin !== undefined) { obj.origin = origin; }\n    }; }\n    signal(doc, \"beforeChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeChange\", doc.cm, obj); }\n\n    if (obj.canceled) {\n      if (doc.cm) { doc.cm.curOp.updateInput = 2; }\n      return null\n    }\n    return {from: obj.from, to: obj.to, text: obj.text, origin: obj.origin}\n  }\n\n  // Apply a change to a document, and add it to the document's\n  // history, and propagating it to all linked documents.\n  function makeChange(doc, change, ignoreReadOnly) {\n    if (doc.cm) {\n      if (!doc.cm.curOp) { return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly) }\n      if (doc.cm.state.suppressEdits) { return }\n    }\n\n    if (hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")) {\n      change = filterChange(doc, change, true);\n      if (!change) { return }\n    }\n\n    // Possibly split or suppress the update based on the presence\n    // of read-only spans in its range.\n    var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to);\n    if (split) {\n      for (var i = split.length - 1; i >= 0; --i)\n        { makeChangeInner(doc, {from: split[i].from, to: split[i].to, text: i ? [\"\"] : change.text, origin: change.origin}); }\n    } else {\n      makeChangeInner(doc, change);\n    }\n  }\n\n  function makeChangeInner(doc, change) {\n    if (change.text.length == 1 && change.text[0] == \"\" && cmp(change.from, change.to) == 0) { return }\n    var selAfter = computeSelAfterChange(doc, change);\n    addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN);\n\n    makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change));\n    var rebased = [];\n\n    linkedDocs(doc, function (doc, sharedHist) {\n      if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n        rebaseHist(doc.history, change);\n        rebased.push(doc.history);\n      }\n      makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change));\n    });\n  }\n\n  // Revert a change stored in a document's history.\n  function makeChangeFromHistory(doc, type, allowSelectionOnly) {\n    var suppress = doc.cm && doc.cm.state.suppressEdits;\n    if (suppress && !allowSelectionOnly) { return }\n\n    var hist = doc.history, event, selAfter = doc.sel;\n    var source = type == \"undo\" ? hist.done : hist.undone, dest = type == \"undo\" ? hist.undone : hist.done;\n\n    // Verify that there is a useable event (so that ctrl-z won't\n    // needlessly clear selection events)\n    var i = 0;\n    for (; i < source.length; i++) {\n      event = source[i];\n      if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges)\n        { break }\n    }\n    if (i == source.length) { return }\n    hist.lastOrigin = hist.lastSelOrigin = null;\n\n    for (;;) {\n      event = source.pop();\n      if (event.ranges) {\n        pushSelectionToHistory(event, dest);\n        if (allowSelectionOnly && !event.equals(doc.sel)) {\n          setSelection(doc, event, {clearRedo: false});\n          return\n        }\n        selAfter = event;\n      } else if (suppress) {\n        source.push(event);\n        return\n      } else { break }\n    }\n\n    // Build up a reverse change object to add to the opposite history\n    // stack (redo when undoing, and vice versa).\n    var antiChanges = [];\n    pushSelectionToHistory(selAfter, dest);\n    dest.push({changes: antiChanges, generation: hist.generation});\n    hist.generation = event.generation || ++hist.maxGeneration;\n\n    var filter = hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\");\n\n    var loop = function ( i ) {\n      var change = event.changes[i];\n      change.origin = type;\n      if (filter && !filterChange(doc, change, false)) {\n        source.length = 0;\n        return {}\n      }\n\n      antiChanges.push(historyChangeFromChange(doc, change));\n\n      var after = i ? computeSelAfterChange(doc, change) : lst(source);\n      makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change));\n      if (!i && doc.cm) { doc.cm.scrollIntoView({from: change.from, to: changeEnd(change)}); }\n      var rebased = [];\n\n      // Propagate to the linked documents\n      linkedDocs(doc, function (doc, sharedHist) {\n        if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n          rebaseHist(doc.history, change);\n          rebased.push(doc.history);\n        }\n        makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change));\n      });\n    };\n\n    for (var i$1 = event.changes.length - 1; i$1 >= 0; --i$1) {\n      var returned = loop( i$1 );\n\n      if ( returned ) return returned.v;\n    }\n  }\n\n  // Sub-views need their line numbers shifted when text is added\n  // above or below them in the parent document.\n  function shiftDoc(doc, distance) {\n    if (distance == 0) { return }\n    doc.first += distance;\n    doc.sel = new Selection(map(doc.sel.ranges, function (range) { return new Range(\n      Pos(range.anchor.line + distance, range.anchor.ch),\n      Pos(range.head.line + distance, range.head.ch)\n    ); }), doc.sel.primIndex);\n    if (doc.cm) {\n      regChange(doc.cm, doc.first, doc.first - distance, distance);\n      for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++)\n        { regLineChange(doc.cm, l, \"gutter\"); }\n    }\n  }\n\n  // More lower-level change function, handling only a single document\n  // (not linked ones).\n  function makeChangeSingleDoc(doc, change, selAfter, spans) {\n    if (doc.cm && !doc.cm.curOp)\n      { return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans) }\n\n    if (change.to.line < doc.first) {\n      shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line));\n      return\n    }\n    if (change.from.line > doc.lastLine()) { return }\n\n    // Clip the change to the size of this doc\n    if (change.from.line < doc.first) {\n      var shift = change.text.length - 1 - (doc.first - change.from.line);\n      shiftDoc(doc, shift);\n      change = {from: Pos(doc.first, 0), to: Pos(change.to.line + shift, change.to.ch),\n                text: [lst(change.text)], origin: change.origin};\n    }\n    var last = doc.lastLine();\n    if (change.to.line > last) {\n      change = {from: change.from, to: Pos(last, getLine(doc, last).text.length),\n                text: [change.text[0]], origin: change.origin};\n    }\n\n    change.removed = getBetween(doc, change.from, change.to);\n\n    if (!selAfter) { selAfter = computeSelAfterChange(doc, change); }\n    if (doc.cm) { makeChangeSingleDocInEditor(doc.cm, change, spans); }\n    else { updateDoc(doc, change, spans); }\n    setSelectionNoUndo(doc, selAfter, sel_dontScroll);\n\n    if (doc.cantEdit && skipAtomic(doc, Pos(doc.firstLine(), 0)))\n      { doc.cantEdit = false; }\n  }\n\n  // Handle the interaction of a change to a document with the editor\n  // that this document is part of.\n  function makeChangeSingleDocInEditor(cm, change, spans) {\n    var doc = cm.doc, display = cm.display, from = change.from, to = change.to;\n\n    var recomputeMaxLength = false, checkWidthStart = from.line;\n    if (!cm.options.lineWrapping) {\n      checkWidthStart = lineNo(visualLine(getLine(doc, from.line)));\n      doc.iter(checkWidthStart, to.line + 1, function (line) {\n        if (line == display.maxLine) {\n          recomputeMaxLength = true;\n          return true\n        }\n      });\n    }\n\n    if (doc.sel.contains(change.from, change.to) > -1)\n      { signalCursorActivity(cm); }\n\n    updateDoc(doc, change, spans, estimateHeight(cm));\n\n    if (!cm.options.lineWrapping) {\n      doc.iter(checkWidthStart, from.line + change.text.length, function (line) {\n        var len = lineLength(line);\n        if (len > display.maxLineLength) {\n          display.maxLine = line;\n          display.maxLineLength = len;\n          display.maxLineChanged = true;\n          recomputeMaxLength = false;\n        }\n      });\n      if (recomputeMaxLength) { cm.curOp.updateMaxLine = true; }\n    }\n\n    retreatFrontier(doc, from.line);\n    startWorker(cm, 400);\n\n    var lendiff = change.text.length - (to.line - from.line) - 1;\n    // Remember that these lines changed, for updating the display\n    if (change.full)\n      { regChange(cm); }\n    else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change))\n      { regLineChange(cm, from.line, \"text\"); }\n    else\n      { regChange(cm, from.line, to.line + 1, lendiff); }\n\n    var changesHandler = hasHandler(cm, \"changes\"), changeHandler = hasHandler(cm, \"change\");\n    if (changeHandler || changesHandler) {\n      var obj = {\n        from: from, to: to,\n        text: change.text,\n        removed: change.removed,\n        origin: change.origin\n      };\n      if (changeHandler) { signalLater(cm, \"change\", cm, obj); }\n      if (changesHandler) { (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj); }\n    }\n    cm.display.selForContextMenu = null;\n  }\n\n  function replaceRange(doc, code, from, to, origin) {\n    var assign;\n\n    if (!to) { to = from; }\n    if (cmp(to, from) < 0) { (assign = [to, from], from = assign[0], to = assign[1]); }\n    if (typeof code == \"string\") { code = doc.splitLines(code); }\n    makeChange(doc, {from: from, to: to, text: code, origin: origin});\n  }\n\n  // Rebasing/resetting history to deal with externally-sourced changes\n\n  function rebaseHistSelSingle(pos, from, to, diff) {\n    if (to < pos.line) {\n      pos.line += diff;\n    } else if (from < pos.line) {\n      pos.line = from;\n      pos.ch = 0;\n    }\n  }\n\n  // Tries to rebase an array of history events given a change in the\n  // document. If the change touches the same lines as the event, the\n  // event, and everything 'behind' it, is discarded. If the change is\n  // before the event, the event's positions are updated. Uses a\n  // copy-on-write scheme for the positions, to avoid having to\n  // reallocate them all on every rebase, but also avoid problems with\n  // shared position objects being unsafely updated.\n  function rebaseHistArray(array, from, to, diff) {\n    for (var i = 0; i < array.length; ++i) {\n      var sub = array[i], ok = true;\n      if (sub.ranges) {\n        if (!sub.copied) { sub = array[i] = sub.deepCopy(); sub.copied = true; }\n        for (var j = 0; j < sub.ranges.length; j++) {\n          rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff);\n          rebaseHistSelSingle(sub.ranges[j].head, from, to, diff);\n        }\n        continue\n      }\n      for (var j$1 = 0; j$1 < sub.changes.length; ++j$1) {\n        var cur = sub.changes[j$1];\n        if (to < cur.from.line) {\n          cur.from = Pos(cur.from.line + diff, cur.from.ch);\n          cur.to = Pos(cur.to.line + diff, cur.to.ch);\n        } else if (from <= cur.to.line) {\n          ok = false;\n          break\n        }\n      }\n      if (!ok) {\n        array.splice(0, i + 1);\n        i = 0;\n      }\n    }\n  }\n\n  function rebaseHist(hist, change) {\n    var from = change.from.line, to = change.to.line, diff = change.text.length - (to - from) - 1;\n    rebaseHistArray(hist.done, from, to, diff);\n    rebaseHistArray(hist.undone, from, to, diff);\n  }\n\n  // Utility for applying a change to a line by handle or number,\n  // returning the number and optionally registering the line as\n  // changed.\n  function changeLine(doc, handle, changeType, op) {\n    var no = handle, line = handle;\n    if (typeof handle == \"number\") { line = getLine(doc, clipLine(doc, handle)); }\n    else { no = lineNo(handle); }\n    if (no == null) { return null }\n    if (op(line, no) && doc.cm) { regLineChange(doc.cm, no, changeType); }\n    return line\n  }\n\n  // The document is represented as a BTree consisting of leaves, with\n  // chunk of lines in them, and branches, with up to ten leaves or\n  // other branch nodes below them. The top node is always a branch\n  // node, and is the document object itself (meaning it has\n  // additional methods and properties).\n  //\n  // All nodes have parent links. The tree is used both to go from\n  // line numbers to line objects, and to go from objects to numbers.\n  // It also indexes by height, and is used to convert between height\n  // and line object, and to find the total height of the document.\n  //\n  // See also http://marijnhaverbeke.nl/blog/codemirror-line-tree.html\n\n  function LeafChunk(lines) {\n    this.lines = lines;\n    this.parent = null;\n    var height = 0;\n    for (var i = 0; i < lines.length; ++i) {\n      lines[i].parent = this;\n      height += lines[i].height;\n    }\n    this.height = height;\n  }\n\n  LeafChunk.prototype = {\n    chunkSize: function() { return this.lines.length },\n\n    // Remove the n lines at offset 'at'.\n    removeInner: function(at, n) {\n      for (var i = at, e = at + n; i < e; ++i) {\n        var line = this.lines[i];\n        this.height -= line.height;\n        cleanUpLine(line);\n        signalLater(line, \"delete\");\n      }\n      this.lines.splice(at, n);\n    },\n\n    // Helper used to collapse a small branch into a single leaf.\n    collapse: function(lines) {\n      lines.push.apply(lines, this.lines);\n    },\n\n    // Insert the given array of lines at offset 'at', count them as\n    // having the given height.\n    insertInner: function(at, lines, height) {\n      this.height += height;\n      this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at));\n      for (var i = 0; i < lines.length; ++i) { lines[i].parent = this; }\n    },\n\n    // Used to iterate over a part of the tree.\n    iterN: function(at, n, op) {\n      for (var e = at + n; at < e; ++at)\n        { if (op(this.lines[at])) { return true } }\n    }\n  };\n\n  function BranchChunk(children) {\n    this.children = children;\n    var size = 0, height = 0;\n    for (var i = 0; i < children.length; ++i) {\n      var ch = children[i];\n      size += ch.chunkSize(); height += ch.height;\n      ch.parent = this;\n    }\n    this.size = size;\n    this.height = height;\n    this.parent = null;\n  }\n\n  BranchChunk.prototype = {\n    chunkSize: function() { return this.size },\n\n    removeInner: function(at, n) {\n      this.size -= n;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var rm = Math.min(n, sz - at), oldHeight = child.height;\n          child.removeInner(at, rm);\n          this.height -= oldHeight - child.height;\n          if (sz == rm) { this.children.splice(i--, 1); child.parent = null; }\n          if ((n -= rm) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n      // If the result is smaller than 25 lines, ensure that it is a\n      // single leaf node.\n      if (this.size - n < 25 &&\n          (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {\n        var lines = [];\n        this.collapse(lines);\n        this.children = [new LeafChunk(lines)];\n        this.children[0].parent = this;\n      }\n    },\n\n    collapse: function(lines) {\n      for (var i = 0; i < this.children.length; ++i) { this.children[i].collapse(lines); }\n    },\n\n    insertInner: function(at, lines, height) {\n      this.size += lines.length;\n      this.height += height;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at <= sz) {\n          child.insertInner(at, lines, height);\n          if (child.lines && child.lines.length > 50) {\n            // To avoid memory thrashing when child.lines is huge (e.g. first view of a large file), it's never spliced.\n            // Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.\n            var remaining = child.lines.length % 25 + 25;\n            for (var pos = remaining; pos < child.lines.length;) {\n              var leaf = new LeafChunk(child.lines.slice(pos, pos += 25));\n              child.height -= leaf.height;\n              this.children.splice(++i, 0, leaf);\n              leaf.parent = this;\n            }\n            child.lines = child.lines.slice(0, remaining);\n            this.maybeSpill();\n          }\n          break\n        }\n        at -= sz;\n      }\n    },\n\n    // When a node has grown, check whether it should be split.\n    maybeSpill: function() {\n      if (this.children.length <= 10) { return }\n      var me = this;\n      do {\n        var spilled = me.children.splice(me.children.length - 5, 5);\n        var sibling = new BranchChunk(spilled);\n        if (!me.parent) { // Become the parent node\n          var copy = new BranchChunk(me.children);\n          copy.parent = me;\n          me.children = [copy, sibling];\n          me = copy;\n       } else {\n          me.size -= sibling.size;\n          me.height -= sibling.height;\n          var myIndex = indexOf(me.parent.children, me);\n          me.parent.children.splice(myIndex + 1, 0, sibling);\n        }\n        sibling.parent = me.parent;\n      } while (me.children.length > 10)\n      me.parent.maybeSpill();\n    },\n\n    iterN: function(at, n, op) {\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var used = Math.min(n, sz - at);\n          if (child.iterN(at, used, op)) { return true }\n          if ((n -= used) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n    }\n  };\n\n  // Line widgets are block elements displayed above or below a line.\n\n  var LineWidget = function(doc, node, options) {\n    if (options) { for (var opt in options) { if (options.hasOwnProperty(opt))\n      { this[opt] = options[opt]; } } }\n    this.doc = doc;\n    this.node = node;\n  };\n\n  LineWidget.prototype.clear = function () {\n    var cm = this.doc.cm, ws = this.line.widgets, line = this.line, no = lineNo(line);\n    if (no == null || !ws) { return }\n    for (var i = 0; i < ws.length; ++i) { if (ws[i] == this) { ws.splice(i--, 1); } }\n    if (!ws.length) { line.widgets = null; }\n    var height = widgetHeight(this);\n    updateLineHeight(line, Math.max(0, line.height - height));\n    if (cm) {\n      runInOp(cm, function () {\n        adjustScrollWhenAboveVisible(cm, line, -height);\n        regLineChange(cm, no, \"widget\");\n      });\n      signalLater(cm, \"lineWidgetCleared\", cm, this, no);\n    }\n  };\n\n  LineWidget.prototype.changed = function () {\n      var this$1 = this;\n\n    var oldH = this.height, cm = this.doc.cm, line = this.line;\n    this.height = null;\n    var diff = widgetHeight(this) - oldH;\n    if (!diff) { return }\n    if (!lineIsHidden(this.doc, line)) { updateLineHeight(line, line.height + diff); }\n    if (cm) {\n      runInOp(cm, function () {\n        cm.curOp.forceUpdate = true;\n        adjustScrollWhenAboveVisible(cm, line, diff);\n        signalLater(cm, \"lineWidgetChanged\", cm, this$1, lineNo(line));\n      });\n    }\n  };\n  eventMixin(LineWidget);\n\n  function adjustScrollWhenAboveVisible(cm, line, diff) {\n    if (heightAtLine(line) < ((cm.curOp && cm.curOp.scrollTop) || cm.doc.scrollTop))\n      { addToScrollTop(cm, diff); }\n  }\n\n  function addLineWidget(doc, handle, node, options) {\n    var widget = new LineWidget(doc, node, options);\n    var cm = doc.cm;\n    if (cm && widget.noHScroll) { cm.display.alignWidgets = true; }\n    changeLine(doc, handle, \"widget\", function (line) {\n      var widgets = line.widgets || (line.widgets = []);\n      if (widget.insertAt == null) { widgets.push(widget); }\n      else { widgets.splice(Math.min(widgets.length, Math.max(0, widget.insertAt)), 0, widget); }\n      widget.line = line;\n      if (cm && !lineIsHidden(doc, line)) {\n        var aboveVisible = heightAtLine(line) < doc.scrollTop;\n        updateLineHeight(line, line.height + widgetHeight(widget));\n        if (aboveVisible) { addToScrollTop(cm, widget.height); }\n        cm.curOp.forceUpdate = true;\n      }\n      return true\n    });\n    if (cm) { signalLater(cm, \"lineWidgetAdded\", cm, widget, typeof handle == \"number\" ? handle : lineNo(handle)); }\n    return widget\n  }\n\n  // TEXTMARKERS\n\n  // Created with markText and setBookmark methods. A TextMarker is a\n  // handle that can be used to clear or find a marked position in the\n  // document. Line objects hold arrays (markedSpans) containing\n  // {from, to, marker} object pointing to such marker objects, and\n  // indicating that such a marker is present on that line. Multiple\n  // lines may point to the same marker when it spans across lines.\n  // The spans will have null for their from/to properties when the\n  // marker continues beyond the start/end of the line. Markers have\n  // links back to the lines they currently touch.\n\n  // Collapsed markers have unique ids, in order to be able to order\n  // them, which is needed for uniquely determining an outer marker\n  // when they overlap (they may nest, but not partially overlap).\n  var nextMarkerId = 0;\n\n  var TextMarker = function(doc, type) {\n    this.lines = [];\n    this.type = type;\n    this.doc = doc;\n    this.id = ++nextMarkerId;\n  };\n\n  // Clear the marker.\n  TextMarker.prototype.clear = function () {\n    if (this.explicitlyCleared) { return }\n    var cm = this.doc.cm, withOp = cm && !cm.curOp;\n    if (withOp) { startOperation(cm); }\n    if (hasHandler(this, \"clear\")) {\n      var found = this.find();\n      if (found) { signalLater(this, \"clear\", found.from, found.to); }\n    }\n    var min = null, max = null;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n      if (cm && !this.collapsed) { regLineChange(cm, lineNo(line), \"text\"); }\n      else if (cm) {\n        if (span.to != null) { max = lineNo(line); }\n        if (span.from != null) { min = lineNo(line); }\n      }\n      line.markedSpans = removeMarkedSpan(line.markedSpans, span);\n      if (span.from == null && this.collapsed && !lineIsHidden(this.doc, line) && cm)\n        { updateLineHeight(line, textHeight(cm.display)); }\n    }\n    if (cm && this.collapsed && !cm.options.lineWrapping) { for (var i$1 = 0; i$1 < this.lines.length; ++i$1) {\n      var visual = visualLine(this.lines[i$1]), len = lineLength(visual);\n      if (len > cm.display.maxLineLength) {\n        cm.display.maxLine = visual;\n        cm.display.maxLineLength = len;\n        cm.display.maxLineChanged = true;\n      }\n    } }\n\n    if (min != null && cm && this.collapsed) { regChange(cm, min, max + 1); }\n    this.lines.length = 0;\n    this.explicitlyCleared = true;\n    if (this.atomic && this.doc.cantEdit) {\n      this.doc.cantEdit = false;\n      if (cm) { reCheckSelection(cm.doc); }\n    }\n    if (cm) { signalLater(cm, \"markerCleared\", cm, this, min, max); }\n    if (withOp) { endOperation(cm); }\n    if (this.parent) { this.parent.clear(); }\n  };\n\n  // Find the position of the marker in the document. Returns a {from,\n  // to} object by default. Side can be passed to get a specific side\n  // -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the\n  // Pos objects returned contain a line object, rather than a line\n  // number (used to prevent looking up the same line twice).\n  TextMarker.prototype.find = function (side, lineObj) {\n    if (side == null && this.type == \"bookmark\") { side = 1; }\n    var from, to;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n      if (span.from != null) {\n        from = Pos(lineObj ? line : lineNo(line), span.from);\n        if (side == -1) { return from }\n      }\n      if (span.to != null) {\n        to = Pos(lineObj ? line : lineNo(line), span.to);\n        if (side == 1) { return to }\n      }\n    }\n    return from && {from: from, to: to}\n  };\n\n  // Signals that the marker's widget changed, and surrounding layout\n  // should be recomputed.\n  TextMarker.prototype.changed = function () {\n      var this$1 = this;\n\n    var pos = this.find(-1, true), widget = this, cm = this.doc.cm;\n    if (!pos || !cm) { return }\n    runInOp(cm, function () {\n      var line = pos.line, lineN = lineNo(pos.line);\n      var view = findViewForLine(cm, lineN);\n      if (view) {\n        clearLineMeasurementCacheFor(view);\n        cm.curOp.selectionChanged = cm.curOp.forceUpdate = true;\n      }\n      cm.curOp.updateMaxLine = true;\n      if (!lineIsHidden(widget.doc, line) && widget.height != null) {\n        var oldHeight = widget.height;\n        widget.height = null;\n        var dHeight = widgetHeight(widget) - oldHeight;\n        if (dHeight)\n          { updateLineHeight(line, line.height + dHeight); }\n      }\n      signalLater(cm, \"markerChanged\", cm, this$1);\n    });\n  };\n\n  TextMarker.prototype.attachLine = function (line) {\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp;\n      if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1)\n        { (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this); }\n    }\n    this.lines.push(line);\n  };\n\n  TextMarker.prototype.detachLine = function (line) {\n    this.lines.splice(indexOf(this.lines, line), 1);\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp\n      ;(op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this);\n    }\n  };\n  eventMixin(TextMarker);\n\n  // Create a marker, wire it up to the right lines, and\n  function markText(doc, from, to, options, type) {\n    // Shared markers (across linked documents) are handled separately\n    // (markTextShared will call out to this again, once per\n    // document).\n    if (options && options.shared) { return markTextShared(doc, from, to, options, type) }\n    // Ensure we are in an operation.\n    if (doc.cm && !doc.cm.curOp) { return operation(doc.cm, markText)(doc, from, to, options, type) }\n\n    var marker = new TextMarker(doc, type), diff = cmp(from, to);\n    if (options) { copyObj(options, marker, false); }\n    // Don't connect empty markers unless clearWhenEmpty is false\n    if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false)\n      { return marker }\n    if (marker.replacedWith) {\n      // Showing up as a widget implies collapsed (widget replaces text)\n      marker.collapsed = true;\n      marker.widgetNode = eltP(\"span\", [marker.replacedWith], \"CodeMirror-widget\");\n      if (!options.handleMouseEvents) { marker.widgetNode.setAttribute(\"cm-ignore-events\", \"true\"); }\n      if (options.insertLeft) { marker.widgetNode.insertLeft = true; }\n    }\n    if (marker.collapsed) {\n      if (conflictingCollapsedRange(doc, from.line, from, to, marker) ||\n          from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker))\n        { throw new Error(\"Inserting collapsed marker partially overlapping an existing one\") }\n      seeCollapsedSpans();\n    }\n\n    if (marker.addToHistory)\n      { addChangeToHistory(doc, {from: from, to: to, origin: \"markText\"}, doc.sel, NaN); }\n\n    var curLine = from.line, cm = doc.cm, updateMaxLine;\n    doc.iter(curLine, to.line + 1, function (line) {\n      if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine)\n        { updateMaxLine = true; }\n      if (marker.collapsed && curLine != from.line) { updateLineHeight(line, 0); }\n      addMarkedSpan(line, new MarkedSpan(marker,\n                                         curLine == from.line ? from.ch : null,\n                                         curLine == to.line ? to.ch : null), doc.cm && doc.cm.curOp);\n      ++curLine;\n    });\n    // lineIsHidden depends on the presence of the spans, so needs a second pass\n    if (marker.collapsed) { doc.iter(from.line, to.line + 1, function (line) {\n      if (lineIsHidden(doc, line)) { updateLineHeight(line, 0); }\n    }); }\n\n    if (marker.clearOnEnter) { on(marker, \"beforeCursorEnter\", function () { return marker.clear(); }); }\n\n    if (marker.readOnly) {\n      seeReadOnlySpans();\n      if (doc.history.done.length || doc.history.undone.length)\n        { doc.clearHistory(); }\n    }\n    if (marker.collapsed) {\n      marker.id = ++nextMarkerId;\n      marker.atomic = true;\n    }\n    if (cm) {\n      // Sync editor state\n      if (updateMaxLine) { cm.curOp.updateMaxLine = true; }\n      if (marker.collapsed)\n        { regChange(cm, from.line, to.line + 1); }\n      else if (marker.className || marker.startStyle || marker.endStyle || marker.css ||\n               marker.attributes || marker.title)\n        { for (var i = from.line; i <= to.line; i++) { regLineChange(cm, i, \"text\"); } }\n      if (marker.atomic) { reCheckSelection(cm.doc); }\n      signalLater(cm, \"markerAdded\", cm, marker);\n    }\n    return marker\n  }\n\n  // SHARED TEXTMARKERS\n\n  // A shared marker spans multiple linked documents. It is\n  // implemented as a meta-marker-object controlling multiple normal\n  // markers.\n  var SharedTextMarker = function(markers, primary) {\n    this.markers = markers;\n    this.primary = primary;\n    for (var i = 0; i < markers.length; ++i)\n      { markers[i].parent = this; }\n  };\n\n  SharedTextMarker.prototype.clear = function () {\n    if (this.explicitlyCleared) { return }\n    this.explicitlyCleared = true;\n    for (var i = 0; i < this.markers.length; ++i)\n      { this.markers[i].clear(); }\n    signalLater(this, \"clear\");\n  };\n\n  SharedTextMarker.prototype.find = function (side, lineObj) {\n    return this.primary.find(side, lineObj)\n  };\n  eventMixin(SharedTextMarker);\n\n  function markTextShared(doc, from, to, options, type) {\n    options = copyObj(options);\n    options.shared = false;\n    var markers = [markText(doc, from, to, options, type)], primary = markers[0];\n    var widget = options.widgetNode;\n    linkedDocs(doc, function (doc) {\n      if (widget) { options.widgetNode = widget.cloneNode(true); }\n      markers.push(markText(doc, clipPos(doc, from), clipPos(doc, to), options, type));\n      for (var i = 0; i < doc.linked.length; ++i)\n        { if (doc.linked[i].isParent) { return } }\n      primary = lst(markers);\n    });\n    return new SharedTextMarker(markers, primary)\n  }\n\n  function findSharedMarkers(doc) {\n    return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())), function (m) { return m.parent; })\n  }\n\n  function copySharedMarkers(doc, markers) {\n    for (var i = 0; i < markers.length; i++) {\n      var marker = markers[i], pos = marker.find();\n      var mFrom = doc.clipPos(pos.from), mTo = doc.clipPos(pos.to);\n      if (cmp(mFrom, mTo)) {\n        var subMark = markText(doc, mFrom, mTo, marker.primary, marker.primary.type);\n        marker.markers.push(subMark);\n        subMark.parent = marker;\n      }\n    }\n  }\n\n  function detachSharedMarkers(markers) {\n    var loop = function ( i ) {\n      var marker = markers[i], linked = [marker.primary.doc];\n      linkedDocs(marker.primary.doc, function (d) { return linked.push(d); });\n      for (var j = 0; j < marker.markers.length; j++) {\n        var subMarker = marker.markers[j];\n        if (indexOf(linked, subMarker.doc) == -1) {\n          subMarker.parent = null;\n          marker.markers.splice(j--, 1);\n        }\n      }\n    };\n\n    for (var i = 0; i < markers.length; i++) loop( i );\n  }\n\n  var nextDocId = 0;\n  var Doc = function(text, mode, firstLine, lineSep, direction) {\n    if (!(this instanceof Doc)) { return new Doc(text, mode, firstLine, lineSep, direction) }\n    if (firstLine == null) { firstLine = 0; }\n\n    BranchChunk.call(this, [new LeafChunk([new Line(\"\", null)])]);\n    this.first = firstLine;\n    this.scrollTop = this.scrollLeft = 0;\n    this.cantEdit = false;\n    this.cleanGeneration = 1;\n    this.modeFrontier = this.highlightFrontier = firstLine;\n    var start = Pos(firstLine, 0);\n    this.sel = simpleSelection(start);\n    this.history = new History(null);\n    this.id = ++nextDocId;\n    this.modeOption = mode;\n    this.lineSep = lineSep;\n    this.direction = (direction == \"rtl\") ? \"rtl\" : \"ltr\";\n    this.extend = false;\n\n    if (typeof text == \"string\") { text = this.splitLines(text); }\n    updateDoc(this, {from: start, to: start, text: text});\n    setSelection(this, simpleSelection(start), sel_dontScroll);\n  };\n\n  Doc.prototype = createObj(BranchChunk.prototype, {\n    constructor: Doc,\n    // Iterate over the document. Supports two forms -- with only one\n    // argument, it calls that for each line in the document. With\n    // three, it iterates over the range given by the first two (with\n    // the second being non-inclusive).\n    iter: function(from, to, op) {\n      if (op) { this.iterN(from - this.first, to - from, op); }\n      else { this.iterN(this.first, this.first + this.size, from); }\n    },\n\n    // Non-public interface for adding and removing lines.\n    insert: function(at, lines) {\n      var height = 0;\n      for (var i = 0; i < lines.length; ++i) { height += lines[i].height; }\n      this.insertInner(at - this.first, lines, height);\n    },\n    remove: function(at, n) { this.removeInner(at - this.first, n); },\n\n    // From here, the methods are part of the public interface. Most\n    // are also available from CodeMirror (editor) instances.\n\n    getValue: function(lineSep) {\n      var lines = getLines(this, this.first, this.first + this.size);\n      if (lineSep === false) { return lines }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n    setValue: docMethodOp(function(code) {\n      var top = Pos(this.first, 0), last = this.first + this.size - 1;\n      makeChange(this, {from: top, to: Pos(last, getLine(this, last).text.length),\n                        text: this.splitLines(code), origin: \"setValue\", full: true}, true);\n      if (this.cm) { scrollToCoords(this.cm, 0, 0); }\n      setSelection(this, simpleSelection(top), sel_dontScroll);\n    }),\n    replaceRange: function(code, from, to, origin) {\n      from = clipPos(this, from);\n      to = to ? clipPos(this, to) : from;\n      replaceRange(this, code, from, to, origin);\n    },\n    getRange: function(from, to, lineSep) {\n      var lines = getBetween(this, clipPos(this, from), clipPos(this, to));\n      if (lineSep === false) { return lines }\n      if (lineSep === '') { return lines.join('') }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n\n    getLine: function(line) {var l = this.getLineHandle(line); return l && l.text},\n\n    getLineHandle: function(line) {if (isLine(this, line)) { return getLine(this, line) }},\n    getLineNumber: function(line) {return lineNo(line)},\n\n    getLineHandleVisualStart: function(line) {\n      if (typeof line == \"number\") { line = getLine(this, line); }\n      return visualLine(line)\n    },\n\n    lineCount: function() {return this.size},\n    firstLine: function() {return this.first},\n    lastLine: function() {return this.first + this.size - 1},\n\n    clipPos: function(pos) {return clipPos(this, pos)},\n\n    getCursor: function(start) {\n      var range = this.sel.primary(), pos;\n      if (start == null || start == \"head\") { pos = range.head; }\n      else if (start == \"anchor\") { pos = range.anchor; }\n      else if (start == \"end\" || start == \"to\" || start === false) { pos = range.to(); }\n      else { pos = range.from(); }\n      return pos\n    },\n    listSelections: function() { return this.sel.ranges },\n    somethingSelected: function() {return this.sel.somethingSelected()},\n\n    setCursor: docMethodOp(function(line, ch, options) {\n      setSimpleSelection(this, clipPos(this, typeof line == \"number\" ? Pos(line, ch || 0) : line), null, options);\n    }),\n    setSelection: docMethodOp(function(anchor, head, options) {\n      setSimpleSelection(this, clipPos(this, anchor), clipPos(this, head || anchor), options);\n    }),\n    extendSelection: docMethodOp(function(head, other, options) {\n      extendSelection(this, clipPos(this, head), other && clipPos(this, other), options);\n    }),\n    extendSelections: docMethodOp(function(heads, options) {\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    extendSelectionsBy: docMethodOp(function(f, options) {\n      var heads = map(this.sel.ranges, f);\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    setSelections: docMethodOp(function(ranges, primary, options) {\n      if (!ranges.length) { return }\n      var out = [];\n      for (var i = 0; i < ranges.length; i++)\n        { out[i] = new Range(clipPos(this, ranges[i].anchor),\n                           clipPos(this, ranges[i].head || ranges[i].anchor)); }\n      if (primary == null) { primary = Math.min(ranges.length - 1, this.sel.primIndex); }\n      setSelection(this, normalizeSelection(this.cm, out, primary), options);\n    }),\n    addSelection: docMethodOp(function(anchor, head, options) {\n      var ranges = this.sel.ranges.slice(0);\n      ranges.push(new Range(clipPos(this, anchor), clipPos(this, head || anchor)));\n      setSelection(this, normalizeSelection(this.cm, ranges, ranges.length - 1), options);\n    }),\n\n    getSelection: function(lineSep) {\n      var ranges = this.sel.ranges, lines;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        lines = lines ? lines.concat(sel) : sel;\n      }\n      if (lineSep === false) { return lines }\n      else { return lines.join(lineSep || this.lineSeparator()) }\n    },\n    getSelections: function(lineSep) {\n      var parts = [], ranges = this.sel.ranges;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        if (lineSep !== false) { sel = sel.join(lineSep || this.lineSeparator()); }\n        parts[i] = sel;\n      }\n      return parts\n    },\n    replaceSelection: function(code, collapse, origin) {\n      var dup = [];\n      for (var i = 0; i < this.sel.ranges.length; i++)\n        { dup[i] = code; }\n      this.replaceSelections(dup, collapse, origin || \"+input\");\n    },\n    replaceSelections: docMethodOp(function(code, collapse, origin) {\n      var changes = [], sel = this.sel;\n      for (var i = 0; i < sel.ranges.length; i++) {\n        var range = sel.ranges[i];\n        changes[i] = {from: range.from(), to: range.to(), text: this.splitLines(code[i]), origin: origin};\n      }\n      var newSel = collapse && collapse != \"end\" && computeReplacedSel(this, changes, collapse);\n      for (var i$1 = changes.length - 1; i$1 >= 0; i$1--)\n        { makeChange(this, changes[i$1]); }\n      if (newSel) { setSelectionReplaceHistory(this, newSel); }\n      else if (this.cm) { ensureCursorVisible(this.cm); }\n    }),\n    undo: docMethodOp(function() {makeChangeFromHistory(this, \"undo\");}),\n    redo: docMethodOp(function() {makeChangeFromHistory(this, \"redo\");}),\n    undoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"undo\", true);}),\n    redoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"redo\", true);}),\n\n    setExtending: function(val) {this.extend = val;},\n    getExtending: function() {return this.extend},\n\n    historySize: function() {\n      var hist = this.history, done = 0, undone = 0;\n      for (var i = 0; i < hist.done.length; i++) { if (!hist.done[i].ranges) { ++done; } }\n      for (var i$1 = 0; i$1 < hist.undone.length; i$1++) { if (!hist.undone[i$1].ranges) { ++undone; } }\n      return {undo: done, redo: undone}\n    },\n    clearHistory: function() {\n      var this$1 = this;\n\n      this.history = new History(this.history);\n      linkedDocs(this, function (doc) { return doc.history = this$1.history; }, true);\n    },\n\n    markClean: function() {\n      this.cleanGeneration = this.changeGeneration(true);\n    },\n    changeGeneration: function(forceSplit) {\n      if (forceSplit)\n        { this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null; }\n      return this.history.generation\n    },\n    isClean: function (gen) {\n      return this.history.generation == (gen || this.cleanGeneration)\n    },\n\n    getHistory: function() {\n      return {done: copyHistoryArray(this.history.done),\n              undone: copyHistoryArray(this.history.undone)}\n    },\n    setHistory: function(histData) {\n      var hist = this.history = new History(this.history);\n      hist.done = copyHistoryArray(histData.done.slice(0), null, true);\n      hist.undone = copyHistoryArray(histData.undone.slice(0), null, true);\n    },\n\n    setGutterMarker: docMethodOp(function(line, gutterID, value) {\n      return changeLine(this, line, \"gutter\", function (line) {\n        var markers = line.gutterMarkers || (line.gutterMarkers = {});\n        markers[gutterID] = value;\n        if (!value && isEmpty(markers)) { line.gutterMarkers = null; }\n        return true\n      })\n    }),\n\n    clearGutter: docMethodOp(function(gutterID) {\n      var this$1 = this;\n\n      this.iter(function (line) {\n        if (line.gutterMarkers && line.gutterMarkers[gutterID]) {\n          changeLine(this$1, line, \"gutter\", function () {\n            line.gutterMarkers[gutterID] = null;\n            if (isEmpty(line.gutterMarkers)) { line.gutterMarkers = null; }\n            return true\n          });\n        }\n      });\n    }),\n\n    lineInfo: function(line) {\n      var n;\n      if (typeof line == \"number\") {\n        if (!isLine(this, line)) { return null }\n        n = line;\n        line = getLine(this, line);\n        if (!line) { return null }\n      } else {\n        n = lineNo(line);\n        if (n == null) { return null }\n      }\n      return {line: n, handle: line, text: line.text, gutterMarkers: line.gutterMarkers,\n              textClass: line.textClass, bgClass: line.bgClass, wrapClass: line.wrapClass,\n              widgets: line.widgets}\n    },\n\n    addLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        if (!line[prop]) { line[prop] = cls; }\n        else if (classTest(cls).test(line[prop])) { return false }\n        else { line[prop] += \" \" + cls; }\n        return true\n      })\n    }),\n    removeLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        var cur = line[prop];\n        if (!cur) { return false }\n        else if (cls == null) { line[prop] = null; }\n        else {\n          var found = cur.match(classTest(cls));\n          if (!found) { return false }\n          var end = found.index + found[0].length;\n          line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? \"\" : \" \") + cur.slice(end) || null;\n        }\n        return true\n      })\n    }),\n\n    addLineWidget: docMethodOp(function(handle, node, options) {\n      return addLineWidget(this, handle, node, options)\n    }),\n    removeLineWidget: function(widget) { widget.clear(); },\n\n    markText: function(from, to, options) {\n      return markText(this, clipPos(this, from), clipPos(this, to), options, options && options.type || \"range\")\n    },\n    setBookmark: function(pos, options) {\n      var realOpts = {replacedWith: options && (options.nodeType == null ? options.widget : options),\n                      insertLeft: options && options.insertLeft,\n                      clearWhenEmpty: false, shared: options && options.shared,\n                      handleMouseEvents: options && options.handleMouseEvents};\n      pos = clipPos(this, pos);\n      return markText(this, pos, pos, realOpts, \"bookmark\")\n    },\n    findMarksAt: function(pos) {\n      pos = clipPos(this, pos);\n      var markers = [], spans = getLine(this, pos.line).markedSpans;\n      if (spans) { for (var i = 0; i < spans.length; ++i) {\n        var span = spans[i];\n        if ((span.from == null || span.from <= pos.ch) &&\n            (span.to == null || span.to >= pos.ch))\n          { markers.push(span.marker.parent || span.marker); }\n      } }\n      return markers\n    },\n    findMarks: function(from, to, filter) {\n      from = clipPos(this, from); to = clipPos(this, to);\n      var found = [], lineNo = from.line;\n      this.iter(from.line, to.line + 1, function (line) {\n        var spans = line.markedSpans;\n        if (spans) { for (var i = 0; i < spans.length; i++) {\n          var span = spans[i];\n          if (!(span.to != null && lineNo == from.line && from.ch >= span.to ||\n                span.from == null && lineNo != from.line ||\n                span.from != null && lineNo == to.line && span.from >= to.ch) &&\n              (!filter || filter(span.marker)))\n            { found.push(span.marker.parent || span.marker); }\n        } }\n        ++lineNo;\n      });\n      return found\n    },\n    getAllMarks: function() {\n      var markers = [];\n      this.iter(function (line) {\n        var sps = line.markedSpans;\n        if (sps) { for (var i = 0; i < sps.length; ++i)\n          { if (sps[i].from != null) { markers.push(sps[i].marker); } } }\n      });\n      return markers\n    },\n\n    posFromIndex: function(off) {\n      var ch, lineNo = this.first, sepSize = this.lineSeparator().length;\n      this.iter(function (line) {\n        var sz = line.text.length + sepSize;\n        if (sz > off) { ch = off; return true }\n        off -= sz;\n        ++lineNo;\n      });\n      return clipPos(this, Pos(lineNo, ch))\n    },\n    indexFromPos: function (coords) {\n      coords = clipPos(this, coords);\n      var index = coords.ch;\n      if (coords.line < this.first || coords.ch < 0) { return 0 }\n      var sepSize = this.lineSeparator().length;\n      this.iter(this.first, coords.line, function (line) { // iter aborts when callback returns a truthy value\n        index += line.text.length + sepSize;\n      });\n      return index\n    },\n\n    copy: function(copyHistory) {\n      var doc = new Doc(getLines(this, this.first, this.first + this.size),\n                        this.modeOption, this.first, this.lineSep, this.direction);\n      doc.scrollTop = this.scrollTop; doc.scrollLeft = this.scrollLeft;\n      doc.sel = this.sel;\n      doc.extend = false;\n      if (copyHistory) {\n        doc.history.undoDepth = this.history.undoDepth;\n        doc.setHistory(this.getHistory());\n      }\n      return doc\n    },\n\n    linkedDoc: function(options) {\n      if (!options) { options = {}; }\n      var from = this.first, to = this.first + this.size;\n      if (options.from != null && options.from > from) { from = options.from; }\n      if (options.to != null && options.to < to) { to = options.to; }\n      var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep, this.direction);\n      if (options.sharedHist) { copy.history = this.history\n      ; }(this.linked || (this.linked = [])).push({doc: copy, sharedHist: options.sharedHist});\n      copy.linked = [{doc: this, isParent: true, sharedHist: options.sharedHist}];\n      copySharedMarkers(copy, findSharedMarkers(this));\n      return copy\n    },\n    unlinkDoc: function(other) {\n      if (other instanceof CodeMirror) { other = other.doc; }\n      if (this.linked) { for (var i = 0; i < this.linked.length; ++i) {\n        var link = this.linked[i];\n        if (link.doc != other) { continue }\n        this.linked.splice(i, 1);\n        other.unlinkDoc(this);\n        detachSharedMarkers(findSharedMarkers(this));\n        break\n      } }\n      // If the histories were shared, split them again\n      if (other.history == this.history) {\n        var splitIds = [other.id];\n        linkedDocs(other, function (doc) { return splitIds.push(doc.id); }, true);\n        other.history = new History(null);\n        other.history.done = copyHistoryArray(this.history.done, splitIds);\n        other.history.undone = copyHistoryArray(this.history.undone, splitIds);\n      }\n    },\n    iterLinkedDocs: function(f) {linkedDocs(this, f);},\n\n    getMode: function() {return this.mode},\n    getEditor: function() {return this.cm},\n\n    splitLines: function(str) {\n      if (this.lineSep) { return str.split(this.lineSep) }\n      return splitLinesAuto(str)\n    },\n    lineSeparator: function() { return this.lineSep || \"\\n\" },\n\n    setDirection: docMethodOp(function (dir) {\n      if (dir != \"rtl\") { dir = \"ltr\"; }\n      if (dir == this.direction) { return }\n      this.direction = dir;\n      this.iter(function (line) { return line.order = null; });\n      if (this.cm) { directionChanged(this.cm); }\n    })\n  });\n\n  // Public alias.\n  Doc.prototype.eachLine = Doc.prototype.iter;\n\n  // Kludge to work around strange IE behavior where it'll sometimes\n  // re-fire a series of drag-related events right after the drop (#1551)\n  var lastDrop = 0;\n\n  function onDrop(e) {\n    var cm = this;\n    clearDragCursor(cm);\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e))\n      { return }\n    e_preventDefault(e);\n    if (ie) { lastDrop = +new Date; }\n    var pos = posFromMouse(cm, e, true), files = e.dataTransfer.files;\n    if (!pos || cm.isReadOnly()) { return }\n    // Might be a file drop, in which case we simply extract the text\n    // and insert it.\n    if (files && files.length && window.FileReader && window.File) {\n      var n = files.length, text = Array(n), read = 0;\n      var markAsReadAndPasteIfAllFilesAreRead = function () {\n        if (++read == n) {\n          operation(cm, function () {\n            pos = clipPos(cm.doc, pos);\n            var change = {from: pos, to: pos,\n                          text: cm.doc.splitLines(\n                              text.filter(function (t) { return t != null; }).join(cm.doc.lineSeparator())),\n                          origin: \"paste\"};\n            makeChange(cm.doc, change);\n            setSelectionReplaceHistory(cm.doc, simpleSelection(clipPos(cm.doc, pos), clipPos(cm.doc, changeEnd(change))));\n          })();\n        }\n      };\n      var readTextFromFile = function (file, i) {\n        if (cm.options.allowDropFileTypes &&\n            indexOf(cm.options.allowDropFileTypes, file.type) == -1) {\n          markAsReadAndPasteIfAllFilesAreRead();\n          return\n        }\n        var reader = new FileReader;\n        reader.onerror = function () { return markAsReadAndPasteIfAllFilesAreRead(); };\n        reader.onload = function () {\n          var content = reader.result;\n          if (/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(content)) {\n            markAsReadAndPasteIfAllFilesAreRead();\n            return\n          }\n          text[i] = content;\n          markAsReadAndPasteIfAllFilesAreRead();\n        };\n        reader.readAsText(file);\n      };\n      for (var i = 0; i < files.length; i++) { readTextFromFile(files[i], i); }\n    } else { // Normal drop\n      // Don't do a replace if the drop happened inside of the selected text.\n      if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {\n        cm.state.draggingText(e);\n        // Ensure the editor is re-focused\n        setTimeout(function () { return cm.display.input.focus(); }, 20);\n        return\n      }\n      try {\n        var text$1 = e.dataTransfer.getData(\"Text\");\n        if (text$1) {\n          var selected;\n          if (cm.state.draggingText && !cm.state.draggingText.copy)\n            { selected = cm.listSelections(); }\n          setSelectionNoUndo(cm.doc, simpleSelection(pos, pos));\n          if (selected) { for (var i$1 = 0; i$1 < selected.length; ++i$1)\n            { replaceRange(cm.doc, \"\", selected[i$1].anchor, selected[i$1].head, \"drag\"); } }\n          cm.replaceSelection(text$1, \"around\", \"paste\");\n          cm.display.input.focus();\n        }\n      }\n      catch(e$1){}\n    }\n  }\n\n  function onDragStart(cm, e) {\n    if (ie && (!cm.state.draggingText || +new Date - lastDrop < 100)) { e_stop(e); return }\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) { return }\n\n    e.dataTransfer.setData(\"Text\", cm.getSelection());\n    e.dataTransfer.effectAllowed = \"copyMove\";\n\n    // Use dummy image instead of default browsers image.\n    // Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.\n    if (e.dataTransfer.setDragImage && !safari) {\n      var img = elt(\"img\", null, null, \"position: fixed; left: 0; top: 0;\");\n      img.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n      if (presto) {\n        img.width = img.height = 1;\n        cm.display.wrapper.appendChild(img);\n        // Force a relayout, or Opera won't use our image for some obscure reason\n        img._top = img.offsetTop;\n      }\n      e.dataTransfer.setDragImage(img, 0, 0);\n      if (presto) { img.parentNode.removeChild(img); }\n    }\n  }\n\n  function onDragOver(cm, e) {\n    var pos = posFromMouse(cm, e);\n    if (!pos) { return }\n    var frag = document.createDocumentFragment();\n    drawSelectionCursor(cm, pos, frag);\n    if (!cm.display.dragCursor) {\n      cm.display.dragCursor = elt(\"div\", null, \"CodeMirror-cursors CodeMirror-dragcursors\");\n      cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv);\n    }\n    removeChildrenAndAdd(cm.display.dragCursor, frag);\n  }\n\n  function clearDragCursor(cm) {\n    if (cm.display.dragCursor) {\n      cm.display.lineSpace.removeChild(cm.display.dragCursor);\n      cm.display.dragCursor = null;\n    }\n  }\n\n  // These must be handled carefully, because naively registering a\n  // handler for each editor will cause the editors to never be\n  // garbage collected.\n\n  function forEachCodeMirror(f) {\n    if (!document.getElementsByClassName) { return }\n    var byClass = document.getElementsByClassName(\"CodeMirror\"), editors = [];\n    for (var i = 0; i < byClass.length; i++) {\n      var cm = byClass[i].CodeMirror;\n      if (cm) { editors.push(cm); }\n    }\n    if (editors.length) { editors[0].operation(function () {\n      for (var i = 0; i < editors.length; i++) { f(editors[i]); }\n    }); }\n  }\n\n  var globalsRegistered = false;\n  function ensureGlobalHandlers() {\n    if (globalsRegistered) { return }\n    registerGlobalHandlers();\n    globalsRegistered = true;\n  }\n  function registerGlobalHandlers() {\n    // When the window resizes, we need to refresh active editors.\n    var resizeTimer;\n    on(window, \"resize\", function () {\n      if (resizeTimer == null) { resizeTimer = setTimeout(function () {\n        resizeTimer = null;\n        forEachCodeMirror(onResize);\n      }, 100); }\n    });\n    // When the window loses focus, we want to show the editor as blurred\n    on(window, \"blur\", function () { return forEachCodeMirror(onBlur); });\n  }\n  // Called when the window resizes\n  function onResize(cm) {\n    var d = cm.display;\n    // Might be a text scaling operation, clear size caches.\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n    d.scrollbarsClipped = false;\n    cm.setSize();\n  }\n\n  var keyNames = {\n    3: \"Pause\", 8: \"Backspace\", 9: \"Tab\", 13: \"Enter\", 16: \"Shift\", 17: \"Ctrl\", 18: \"Alt\",\n    19: \"Pause\", 20: \"CapsLock\", 27: \"Esc\", 32: \"Space\", 33: \"PageUp\", 34: \"PageDown\", 35: \"End\",\n    36: \"Home\", 37: \"Left\", 38: \"Up\", 39: \"Right\", 40: \"Down\", 44: \"PrintScrn\", 45: \"Insert\",\n    46: \"Delete\", 59: \";\", 61: \"=\", 91: \"Mod\", 92: \"Mod\", 93: \"Mod\",\n    106: \"*\", 107: \"=\", 109: \"-\", 110: \".\", 111: \"/\", 145: \"ScrollLock\",\n    173: \"-\", 186: \";\", 187: \"=\", 188: \",\", 189: \"-\", 190: \".\", 191: \"/\", 192: \"`\", 219: \"[\", 220: \"\\\\\",\n    221: \"]\", 222: \"'\", 224: \"Mod\", 63232: \"Up\", 63233: \"Down\", 63234: \"Left\", 63235: \"Right\", 63272: \"Delete\",\n    63273: \"Home\", 63275: \"End\", 63276: \"PageUp\", 63277: \"PageDown\", 63302: \"Insert\"\n  };\n\n  // Number keys\n  for (var i = 0; i < 10; i++) { keyNames[i + 48] = keyNames[i + 96] = String(i); }\n  // Alphabetic keys\n  for (var i$1 = 65; i$1 <= 90; i$1++) { keyNames[i$1] = String.fromCharCode(i$1); }\n  // Function keys\n  for (var i$2 = 1; i$2 <= 12; i$2++) { keyNames[i$2 + 111] = keyNames[i$2 + 63235] = \"F\" + i$2; }\n\n  var keyMap = {};\n\n  keyMap.basic = {\n    \"Left\": \"goCharLeft\", \"Right\": \"goCharRight\", \"Up\": \"goLineUp\", \"Down\": \"goLineDown\",\n    \"End\": \"goLineEnd\", \"Home\": \"goLineStartSmart\", \"PageUp\": \"goPageUp\", \"PageDown\": \"goPageDown\",\n    \"Delete\": \"delCharAfter\", \"Backspace\": \"delCharBefore\", \"Shift-Backspace\": \"delCharBefore\",\n    \"Tab\": \"defaultTab\", \"Shift-Tab\": \"indentAuto\",\n    \"Enter\": \"newlineAndIndent\", \"Insert\": \"toggleOverwrite\",\n    \"Esc\": \"singleSelection\"\n  };\n  // Note that the save and find-related commands aren't defined by\n  // default. User code or addons can define them. Unknown commands\n  // are simply ignored.\n  keyMap.pcDefault = {\n    \"Ctrl-A\": \"selectAll\", \"Ctrl-D\": \"deleteLine\", \"Ctrl-Z\": \"undo\", \"Shift-Ctrl-Z\": \"redo\", \"Ctrl-Y\": \"redo\",\n    \"Ctrl-Home\": \"goDocStart\", \"Ctrl-End\": \"goDocEnd\", \"Ctrl-Up\": \"goLineUp\", \"Ctrl-Down\": \"goLineDown\",\n    \"Ctrl-Left\": \"goGroupLeft\", \"Ctrl-Right\": \"goGroupRight\", \"Alt-Left\": \"goLineStart\", \"Alt-Right\": \"goLineEnd\",\n    \"Ctrl-Backspace\": \"delGroupBefore\", \"Ctrl-Delete\": \"delGroupAfter\", \"Ctrl-S\": \"save\", \"Ctrl-F\": \"find\",\n    \"Ctrl-G\": \"findNext\", \"Shift-Ctrl-G\": \"findPrev\", \"Shift-Ctrl-F\": \"replace\", \"Shift-Ctrl-R\": \"replaceAll\",\n    \"Ctrl-[\": \"indentLess\", \"Ctrl-]\": \"indentMore\",\n    \"Ctrl-U\": \"undoSelection\", \"Shift-Ctrl-U\": \"redoSelection\", \"Alt-U\": \"redoSelection\",\n    \"fallthrough\": \"basic\"\n  };\n  // Very basic readline/emacs-style bindings, which are standard on Mac.\n  keyMap.emacsy = {\n    \"Ctrl-F\": \"goCharRight\", \"Ctrl-B\": \"goCharLeft\", \"Ctrl-P\": \"goLineUp\", \"Ctrl-N\": \"goLineDown\",\n    \"Ctrl-A\": \"goLineStart\", \"Ctrl-E\": \"goLineEnd\", \"Ctrl-V\": \"goPageDown\", \"Shift-Ctrl-V\": \"goPageUp\",\n    \"Ctrl-D\": \"delCharAfter\", \"Ctrl-H\": \"delCharBefore\", \"Alt-Backspace\": \"delWordBefore\", \"Ctrl-K\": \"killLine\",\n    \"Ctrl-T\": \"transposeChars\", \"Ctrl-O\": \"openLine\"\n  };\n  keyMap.macDefault = {\n    \"Cmd-A\": \"selectAll\", \"Cmd-D\": \"deleteLine\", \"Cmd-Z\": \"undo\", \"Shift-Cmd-Z\": \"redo\", \"Cmd-Y\": \"redo\",\n    \"Cmd-Home\": \"goDocStart\", \"Cmd-Up\": \"goDocStart\", \"Cmd-End\": \"goDocEnd\", \"Cmd-Down\": \"goDocEnd\", \"Alt-Left\": \"goGroupLeft\",\n    \"Alt-Right\": \"goGroupRight\", \"Cmd-Left\": \"goLineLeft\", \"Cmd-Right\": \"goLineRight\", \"Alt-Backspace\": \"delGroupBefore\",\n    \"Ctrl-Alt-Backspace\": \"delGroupAfter\", \"Alt-Delete\": \"delGroupAfter\", \"Cmd-S\": \"save\", \"Cmd-F\": \"find\",\n    \"Cmd-G\": \"findNext\", \"Shift-Cmd-G\": \"findPrev\", \"Cmd-Alt-F\": \"replace\", \"Shift-Cmd-Alt-F\": \"replaceAll\",\n    \"Cmd-[\": \"indentLess\", \"Cmd-]\": \"indentMore\", \"Cmd-Backspace\": \"delWrappedLineLeft\", \"Cmd-Delete\": \"delWrappedLineRight\",\n    \"Cmd-U\": \"undoSelection\", \"Shift-Cmd-U\": \"redoSelection\", \"Ctrl-Up\": \"goDocStart\", \"Ctrl-Down\": \"goDocEnd\",\n    \"fallthrough\": [\"basic\", \"emacsy\"]\n  };\n  keyMap[\"default\"] = mac ? keyMap.macDefault : keyMap.pcDefault;\n\n  // KEYMAP DISPATCH\n\n  function normalizeKeyName(name) {\n    var parts = name.split(/-(?!$)/);\n    name = parts[parts.length - 1];\n    var alt, ctrl, shift, cmd;\n    for (var i = 0; i < parts.length - 1; i++) {\n      var mod = parts[i];\n      if (/^(cmd|meta|m)$/i.test(mod)) { cmd = true; }\n      else if (/^a(lt)?$/i.test(mod)) { alt = true; }\n      else if (/^(c|ctrl|control)$/i.test(mod)) { ctrl = true; }\n      else if (/^s(hift)?$/i.test(mod)) { shift = true; }\n      else { throw new Error(\"Unrecognized modifier name: \" + mod) }\n    }\n    if (alt) { name = \"Alt-\" + name; }\n    if (ctrl) { name = \"Ctrl-\" + name; }\n    if (cmd) { name = \"Cmd-\" + name; }\n    if (shift) { name = \"Shift-\" + name; }\n    return name\n  }\n\n  // This is a kludge to keep keymaps mostly working as raw objects\n  // (backwards compatibility) while at the same time support features\n  // like normalization and multi-stroke key bindings. It compiles a\n  // new normalized keymap, and then updates the old object to reflect\n  // this.\n  function normalizeKeyMap(keymap) {\n    var copy = {};\n    for (var keyname in keymap) { if (keymap.hasOwnProperty(keyname)) {\n      var value = keymap[keyname];\n      if (/^(name|fallthrough|(de|at)tach)$/.test(keyname)) { continue }\n      if (value == \"...\") { delete keymap[keyname]; continue }\n\n      var keys = map(keyname.split(\" \"), normalizeKeyName);\n      for (var i = 0; i < keys.length; i++) {\n        var val = (void 0), name = (void 0);\n        if (i == keys.length - 1) {\n          name = keys.join(\" \");\n          val = value;\n        } else {\n          name = keys.slice(0, i + 1).join(\" \");\n          val = \"...\";\n        }\n        var prev = copy[name];\n        if (!prev) { copy[name] = val; }\n        else if (prev != val) { throw new Error(\"Inconsistent bindings for \" + name) }\n      }\n      delete keymap[keyname];\n    } }\n    for (var prop in copy) { keymap[prop] = copy[prop]; }\n    return keymap\n  }\n\n  function lookupKey(key, map, handle, context) {\n    map = getKeyMap(map);\n    var found = map.call ? map.call(key, context) : map[key];\n    if (found === false) { return \"nothing\" }\n    if (found === \"...\") { return \"multi\" }\n    if (found != null && handle(found)) { return \"handled\" }\n\n    if (map.fallthrough) {\n      if (Object.prototype.toString.call(map.fallthrough) != \"[object Array]\")\n        { return lookupKey(key, map.fallthrough, handle, context) }\n      for (var i = 0; i < map.fallthrough.length; i++) {\n        var result = lookupKey(key, map.fallthrough[i], handle, context);\n        if (result) { return result }\n      }\n    }\n  }\n\n  // Modifier key presses don't count as 'real' key presses for the\n  // purpose of keymap fallthrough.\n  function isModifierKey(value) {\n    var name = typeof value == \"string\" ? value : keyNames[value.keyCode];\n    return name == \"Ctrl\" || name == \"Alt\" || name == \"Shift\" || name == \"Mod\"\n  }\n\n  function addModifierNames(name, event, noShift) {\n    var base = name;\n    if (event.altKey && base != \"Alt\") { name = \"Alt-\" + name; }\n    if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != \"Ctrl\") { name = \"Ctrl-\" + name; }\n    if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != \"Mod\") { name = \"Cmd-\" + name; }\n    if (!noShift && event.shiftKey && base != \"Shift\") { name = \"Shift-\" + name; }\n    return name\n  }\n\n  // Look up the name of a key as indicated by an event object.\n  function keyName(event, noShift) {\n    if (presto && event.keyCode == 34 && event[\"char\"]) { return false }\n    var name = keyNames[event.keyCode];\n    if (name == null || event.altGraphKey) { return false }\n    // Ctrl-ScrollLock has keyCode 3, same as Ctrl-Pause,\n    // so we'll use event.code when available (Chrome 48+, FF 38+, Safari 10.1+)\n    if (event.keyCode == 3 && event.code) { name = event.code; }\n    return addModifierNames(name, event, noShift)\n  }\n\n  function getKeyMap(val) {\n    return typeof val == \"string\" ? keyMap[val] : val\n  }\n\n  // Helper for deleting text near the selection(s), used to implement\n  // backspace, delete, and similar functionality.\n  function deleteNearSelection(cm, compute) {\n    var ranges = cm.doc.sel.ranges, kill = [];\n    // Build up a set of ranges to kill first, merging overlapping\n    // ranges.\n    for (var i = 0; i < ranges.length; i++) {\n      var toKill = compute(ranges[i]);\n      while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {\n        var replaced = kill.pop();\n        if (cmp(replaced.from, toKill.from) < 0) {\n          toKill.from = replaced.from;\n          break\n        }\n      }\n      kill.push(toKill);\n    }\n    // Next, remove those actual ranges.\n    runInOp(cm, function () {\n      for (var i = kill.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, \"\", kill[i].from, kill[i].to, \"+delete\"); }\n      ensureCursorVisible(cm);\n    });\n  }\n\n  function moveCharLogically(line, ch, dir) {\n    var target = skipExtendingChars(line.text, ch + dir, dir);\n    return target < 0 || target > line.text.length ? null : target\n  }\n\n  function moveLogically(line, start, dir) {\n    var ch = moveCharLogically(line, start.ch, dir);\n    return ch == null ? null : new Pos(start.line, ch, dir < 0 ? \"after\" : \"before\")\n  }\n\n  function endOfLine(visually, cm, lineObj, lineNo, dir) {\n    if (visually) {\n      if (cm.doc.direction == \"rtl\") { dir = -dir; }\n      var order = getOrder(lineObj, cm.doc.direction);\n      if (order) {\n        var part = dir < 0 ? lst(order) : order[0];\n        var moveInStorageOrder = (dir < 0) == (part.level == 1);\n        var sticky = moveInStorageOrder ? \"after\" : \"before\";\n        var ch;\n        // With a wrapped rtl chunk (possibly spanning multiple bidi parts),\n        // it could be that the last bidi part is not on the last visual line,\n        // since visual lines contain content order-consecutive chunks.\n        // Thus, in rtl, we are looking for the first (content-order) character\n        // in the rtl chunk that is on the last line (that is, the same line\n        // as the last (content-order) character).\n        if (part.level > 0 || cm.doc.direction == \"rtl\") {\n          var prep = prepareMeasureForLine(cm, lineObj);\n          ch = dir < 0 ? lineObj.text.length - 1 : 0;\n          var targetTop = measureCharPrepared(cm, prep, ch).top;\n          ch = findFirst(function (ch) { return measureCharPrepared(cm, prep, ch).top == targetTop; }, (dir < 0) == (part.level == 1) ? part.from : part.to - 1, ch);\n          if (sticky == \"before\") { ch = moveCharLogically(lineObj, ch, 1); }\n        } else { ch = dir < 0 ? part.to : part.from; }\n        return new Pos(lineNo, ch, sticky)\n      }\n    }\n    return new Pos(lineNo, dir < 0 ? lineObj.text.length : 0, dir < 0 ? \"before\" : \"after\")\n  }\n\n  function moveVisually(cm, line, start, dir) {\n    var bidi = getOrder(line, cm.doc.direction);\n    if (!bidi) { return moveLogically(line, start, dir) }\n    if (start.ch >= line.text.length) {\n      start.ch = line.text.length;\n      start.sticky = \"before\";\n    } else if (start.ch <= 0) {\n      start.ch = 0;\n      start.sticky = \"after\";\n    }\n    var partPos = getBidiPartAt(bidi, start.ch, start.sticky), part = bidi[partPos];\n    if (cm.doc.direction == \"ltr\" && part.level % 2 == 0 && (dir > 0 ? part.to > start.ch : part.from < start.ch)) {\n      // Case 1: We move within an ltr part in an ltr editor. Even with wrapped lines,\n      // nothing interesting happens.\n      return moveLogically(line, start, dir)\n    }\n\n    var mv = function (pos, dir) { return moveCharLogically(line, pos instanceof Pos ? pos.ch : pos, dir); };\n    var prep;\n    var getWrappedLineExtent = function (ch) {\n      if (!cm.options.lineWrapping) { return {begin: 0, end: line.text.length} }\n      prep = prep || prepareMeasureForLine(cm, line);\n      return wrappedLineExtentChar(cm, line, prep, ch)\n    };\n    var wrappedLineExtent = getWrappedLineExtent(start.sticky == \"before\" ? mv(start, -1) : start.ch);\n\n    if (cm.doc.direction == \"rtl\" || part.level == 1) {\n      var moveInStorageOrder = (part.level == 1) == (dir < 0);\n      var ch = mv(start, moveInStorageOrder ? 1 : -1);\n      if (ch != null && (!moveInStorageOrder ? ch >= part.from && ch >= wrappedLineExtent.begin : ch <= part.to && ch <= wrappedLineExtent.end)) {\n        // Case 2: We move within an rtl part or in an rtl editor on the same visual line\n        var sticky = moveInStorageOrder ? \"before\" : \"after\";\n        return new Pos(start.line, ch, sticky)\n      }\n    }\n\n    // Case 3: Could not move within this bidi part in this visual line, so leave\n    // the current bidi part\n\n    var searchInVisualLine = function (partPos, dir, wrappedLineExtent) {\n      var getRes = function (ch, moveInStorageOrder) { return moveInStorageOrder\n        ? new Pos(start.line, mv(ch, 1), \"before\")\n        : new Pos(start.line, ch, \"after\"); };\n\n      for (; partPos >= 0 && partPos < bidi.length; partPos += dir) {\n        var part = bidi[partPos];\n        var moveInStorageOrder = (dir > 0) == (part.level != 1);\n        var ch = moveInStorageOrder ? wrappedLineExtent.begin : mv(wrappedLineExtent.end, -1);\n        if (part.from <= ch && ch < part.to) { return getRes(ch, moveInStorageOrder) }\n        ch = moveInStorageOrder ? part.from : mv(part.to, -1);\n        if (wrappedLineExtent.begin <= ch && ch < wrappedLineExtent.end) { return getRes(ch, moveInStorageOrder) }\n      }\n    };\n\n    // Case 3a: Look for other bidi parts on the same visual line\n    var res = searchInVisualLine(partPos + dir, dir, wrappedLineExtent);\n    if (res) { return res }\n\n    // Case 3b: Look for other bidi parts on the next visual line\n    var nextCh = dir > 0 ? wrappedLineExtent.end : mv(wrappedLineExtent.begin, -1);\n    if (nextCh != null && !(dir > 0 && nextCh == line.text.length)) {\n      res = searchInVisualLine(dir > 0 ? 0 : bidi.length - 1, dir, getWrappedLineExtent(nextCh));\n      if (res) { return res }\n    }\n\n    // Case 4: Nowhere to move\n    return null\n  }\n\n  // Commands are parameter-less actions that can be performed on an\n  // editor, mostly used for keybindings.\n  var commands = {\n    selectAll: selectAll,\n    singleSelection: function (cm) { return cm.setSelection(cm.getCursor(\"anchor\"), cm.getCursor(\"head\"), sel_dontScroll); },\n    killLine: function (cm) { return deleteNearSelection(cm, function (range) {\n      if (range.empty()) {\n        var len = getLine(cm.doc, range.head.line).text.length;\n        if (range.head.ch == len && range.head.line < cm.lastLine())\n          { return {from: range.head, to: Pos(range.head.line + 1, 0)} }\n        else\n          { return {from: range.head, to: Pos(range.head.line, len)} }\n      } else {\n        return {from: range.from(), to: range.to()}\n      }\n    }); },\n    deleteLine: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0),\n      to: clipPos(cm.doc, Pos(range.to().line + 1, 0))\n    }); }); },\n    delLineLeft: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0), to: range.from()\n    }); }); },\n    delWrappedLineLeft: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var leftPos = cm.coordsChar({left: 0, top: top}, \"div\");\n      return {from: leftPos, to: range.from()}\n    }); },\n    delWrappedLineRight: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var rightPos = cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\");\n      return {from: range.from(), to: rightPos }\n    }); },\n    undo: function (cm) { return cm.undo(); },\n    redo: function (cm) { return cm.redo(); },\n    undoSelection: function (cm) { return cm.undoSelection(); },\n    redoSelection: function (cm) { return cm.redoSelection(); },\n    goDocStart: function (cm) { return cm.extendSelection(Pos(cm.firstLine(), 0)); },\n    goDocEnd: function (cm) { return cm.extendSelection(Pos(cm.lastLine())); },\n    goLineStart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStart(cm, range.head.line); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineStartSmart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStartSmart(cm, range.head); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineEnd: function (cm) { return cm.extendSelectionsBy(function (range) { return lineEnd(cm, range.head.line); },\n      {origin: \"+move\", bias: -1}\n    ); },\n    goLineRight: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeft: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: 0, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeftSmart: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      var pos = cm.coordsChar({left: 0, top: top}, \"div\");\n      if (pos.ch < cm.getLine(pos.line).search(/\\S/)) { return lineStartSmart(cm, range.head) }\n      return pos\n    }, sel_move); },\n    goLineUp: function (cm) { return cm.moveV(-1, \"line\"); },\n    goLineDown: function (cm) { return cm.moveV(1, \"line\"); },\n    goPageUp: function (cm) { return cm.moveV(-1, \"page\"); },\n    goPageDown: function (cm) { return cm.moveV(1, \"page\"); },\n    goCharLeft: function (cm) { return cm.moveH(-1, \"char\"); },\n    goCharRight: function (cm) { return cm.moveH(1, \"char\"); },\n    goColumnLeft: function (cm) { return cm.moveH(-1, \"column\"); },\n    goColumnRight: function (cm) { return cm.moveH(1, \"column\"); },\n    goWordLeft: function (cm) { return cm.moveH(-1, \"word\"); },\n    goGroupRight: function (cm) { return cm.moveH(1, \"group\"); },\n    goGroupLeft: function (cm) { return cm.moveH(-1, \"group\"); },\n    goWordRight: function (cm) { return cm.moveH(1, \"word\"); },\n    delCharBefore: function (cm) { return cm.deleteH(-1, \"codepoint\"); },\n    delCharAfter: function (cm) { return cm.deleteH(1, \"char\"); },\n    delWordBefore: function (cm) { return cm.deleteH(-1, \"word\"); },\n    delWordAfter: function (cm) { return cm.deleteH(1, \"word\"); },\n    delGroupBefore: function (cm) { return cm.deleteH(-1, \"group\"); },\n    delGroupAfter: function (cm) { return cm.deleteH(1, \"group\"); },\n    indentAuto: function (cm) { return cm.indentSelection(\"smart\"); },\n    indentMore: function (cm) { return cm.indentSelection(\"add\"); },\n    indentLess: function (cm) { return cm.indentSelection(\"subtract\"); },\n    insertTab: function (cm) { return cm.replaceSelection(\"\\t\"); },\n    insertSoftTab: function (cm) {\n      var spaces = [], ranges = cm.listSelections(), tabSize = cm.options.tabSize;\n      for (var i = 0; i < ranges.length; i++) {\n        var pos = ranges[i].from();\n        var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize);\n        spaces.push(spaceStr(tabSize - col % tabSize));\n      }\n      cm.replaceSelections(spaces);\n    },\n    defaultTab: function (cm) {\n      if (cm.somethingSelected()) { cm.indentSelection(\"add\"); }\n      else { cm.execCommand(\"insertTab\"); }\n    },\n    // Swap the two chars left and right of each selection's head.\n    // Move cursor behind the two swapped characters afterwards.\n    //\n    // Doesn't consider line feeds a character.\n    // Doesn't scan more than one line above to find a character.\n    // Doesn't do anything on an empty line.\n    // Doesn't do anything with non-empty selections.\n    transposeChars: function (cm) { return runInOp(cm, function () {\n      var ranges = cm.listSelections(), newSel = [];\n      for (var i = 0; i < ranges.length; i++) {\n        if (!ranges[i].empty()) { continue }\n        var cur = ranges[i].head, line = getLine(cm.doc, cur.line).text;\n        if (line) {\n          if (cur.ch == line.length) { cur = new Pos(cur.line, cur.ch - 1); }\n          if (cur.ch > 0) {\n            cur = new Pos(cur.line, cur.ch + 1);\n            cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2),\n                            Pos(cur.line, cur.ch - 2), cur, \"+transpose\");\n          } else if (cur.line > cm.doc.first) {\n            var prev = getLine(cm.doc, cur.line - 1).text;\n            if (prev) {\n              cur = new Pos(cur.line, 1);\n              cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() +\n                              prev.charAt(prev.length - 1),\n                              Pos(cur.line - 1, prev.length - 1), cur, \"+transpose\");\n            }\n          }\n        }\n        newSel.push(new Range(cur, cur));\n      }\n      cm.setSelections(newSel);\n    }); },\n    newlineAndIndent: function (cm) { return runInOp(cm, function () {\n      var sels = cm.listSelections();\n      for (var i = sels.length - 1; i >= 0; i--)\n        { cm.replaceRange(cm.doc.lineSeparator(), sels[i].anchor, sels[i].head, \"+input\"); }\n      sels = cm.listSelections();\n      for (var i$1 = 0; i$1 < sels.length; i$1++)\n        { cm.indentLine(sels[i$1].from().line, null, true); }\n      ensureCursorVisible(cm);\n    }); },\n    openLine: function (cm) { return cm.replaceSelection(\"\\n\", \"start\"); },\n    toggleOverwrite: function (cm) { return cm.toggleOverwrite(); }\n  };\n\n\n  function lineStart(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLine(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, visual, lineN, 1)\n  }\n  function lineEnd(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLineEnd(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, line, lineN, -1)\n  }\n  function lineStartSmart(cm, pos) {\n    var start = lineStart(cm, pos.line);\n    var line = getLine(cm.doc, start.line);\n    var order = getOrder(line, cm.doc.direction);\n    if (!order || order[0].level == 0) {\n      var firstNonWS = Math.max(start.ch, line.text.search(/\\S/));\n      var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch;\n      return Pos(start.line, inWS ? 0 : firstNonWS, start.sticky)\n    }\n    return start\n  }\n\n  // Run a handler that was bound to a key.\n  function doHandleBinding(cm, bound, dropShift) {\n    if (typeof bound == \"string\") {\n      bound = commands[bound];\n      if (!bound) { return false }\n    }\n    // Ensure previous input has been read, so that the handler sees a\n    // consistent view of the document\n    cm.display.input.ensurePolled();\n    var prevShift = cm.display.shift, done = false;\n    try {\n      if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n      if (dropShift) { cm.display.shift = false; }\n      done = bound(cm) != Pass;\n    } finally {\n      cm.display.shift = prevShift;\n      cm.state.suppressEdits = false;\n    }\n    return done\n  }\n\n  function lookupKeyForEditor(cm, name, handle) {\n    for (var i = 0; i < cm.state.keyMaps.length; i++) {\n      var result = lookupKey(name, cm.state.keyMaps[i], handle, cm);\n      if (result) { return result }\n    }\n    return (cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm))\n      || lookupKey(name, cm.options.keyMap, handle, cm)\n  }\n\n  // Note that, despite the name, this function is also used to check\n  // for bound mouse clicks.\n\n  var stopSeq = new Delayed;\n\n  function dispatchKey(cm, name, e, handle) {\n    var seq = cm.state.keySeq;\n    if (seq) {\n      if (isModifierKey(name)) { return \"handled\" }\n      if (/\\'$/.test(name))\n        { cm.state.keySeq = null; }\n      else\n        { stopSeq.set(50, function () {\n          if (cm.state.keySeq == seq) {\n            cm.state.keySeq = null;\n            cm.display.input.reset();\n          }\n        }); }\n      if (dispatchKeyInner(cm, seq + \" \" + name, e, handle)) { return true }\n    }\n    return dispatchKeyInner(cm, name, e, handle)\n  }\n\n  function dispatchKeyInner(cm, name, e, handle) {\n    var result = lookupKeyForEditor(cm, name, handle);\n\n    if (result == \"multi\")\n      { cm.state.keySeq = name; }\n    if (result == \"handled\")\n      { signalLater(cm, \"keyHandled\", cm, name, e); }\n\n    if (result == \"handled\" || result == \"multi\") {\n      e_preventDefault(e);\n      restartBlink(cm);\n    }\n\n    return !!result\n  }\n\n  // Handle a key from the keydown event.\n  function handleKeyBinding(cm, e) {\n    var name = keyName(e, true);\n    if (!name) { return false }\n\n    if (e.shiftKey && !cm.state.keySeq) {\n      // First try to resolve full name (including 'Shift-'). Failing\n      // that, see if there is a cursor-motion command (starting with\n      // 'go') bound to the keyname without 'Shift-'.\n      return dispatchKey(cm, \"Shift-\" + name, e, function (b) { return doHandleBinding(cm, b, true); })\n          || dispatchKey(cm, name, e, function (b) {\n               if (typeof b == \"string\" ? /^go[A-Z]/.test(b) : b.motion)\n                 { return doHandleBinding(cm, b) }\n             })\n    } else {\n      return dispatchKey(cm, name, e, function (b) { return doHandleBinding(cm, b); })\n    }\n  }\n\n  // Handle a key from the keypress event\n  function handleCharBinding(cm, e, ch) {\n    return dispatchKey(cm, \"'\" + ch + \"'\", e, function (b) { return doHandleBinding(cm, b, true); })\n  }\n\n  var lastStoppedKey = null;\n  function onKeyDown(e) {\n    var cm = this;\n    if (e.target && e.target != cm.display.input.getField()) { return }\n    cm.curOp.focus = activeElt();\n    if (signalDOMEvent(cm, e)) { return }\n    // IE does strange things with escape.\n    if (ie && ie_version < 11 && e.keyCode == 27) { e.returnValue = false; }\n    var code = e.keyCode;\n    cm.display.shift = code == 16 || e.shiftKey;\n    var handled = handleKeyBinding(cm, e);\n    if (presto) {\n      lastStoppedKey = handled ? code : null;\n      // Opera has no cut event... we try to at least catch the key combo\n      if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey))\n        { cm.replaceSelection(\"\", null, \"cut\"); }\n    }\n    if (gecko && !mac && !handled && code == 46 && e.shiftKey && !e.ctrlKey && document.execCommand)\n      { document.execCommand(\"cut\"); }\n\n    // Turn mouse into crosshair when Alt is held on Mac.\n    if (code == 18 && !/\\bCodeMirror-crosshair\\b/.test(cm.display.lineDiv.className))\n      { showCrossHair(cm); }\n  }\n\n  function showCrossHair(cm) {\n    var lineDiv = cm.display.lineDiv;\n    addClass(lineDiv, \"CodeMirror-crosshair\");\n\n    function up(e) {\n      if (e.keyCode == 18 || !e.altKey) {\n        rmClass(lineDiv, \"CodeMirror-crosshair\");\n        off(document, \"keyup\", up);\n        off(document, \"mouseover\", up);\n      }\n    }\n    on(document, \"keyup\", up);\n    on(document, \"mouseover\", up);\n  }\n\n  function onKeyUp(e) {\n    if (e.keyCode == 16) { this.doc.sel.shift = false; }\n    signalDOMEvent(this, e);\n  }\n\n  function onKeyPress(e) {\n    var cm = this;\n    if (e.target && e.target != cm.display.input.getField()) { return }\n    if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) { return }\n    var keyCode = e.keyCode, charCode = e.charCode;\n    if (presto && keyCode == lastStoppedKey) {lastStoppedKey = null; e_preventDefault(e); return}\n    if ((presto && (!e.which || e.which < 10)) && handleKeyBinding(cm, e)) { return }\n    var ch = String.fromCharCode(charCode == null ? keyCode : charCode);\n    // Some browsers fire keypress events for backspace\n    if (ch == \"\\x08\") { return }\n    if (handleCharBinding(cm, e, ch)) { return }\n    cm.display.input.onKeyPress(e);\n  }\n\n  var DOUBLECLICK_DELAY = 400;\n\n  var PastClick = function(time, pos, button) {\n    this.time = time;\n    this.pos = pos;\n    this.button = button;\n  };\n\n  PastClick.prototype.compare = function (time, pos, button) {\n    return this.time + DOUBLECLICK_DELAY > time &&\n      cmp(pos, this.pos) == 0 && button == this.button\n  };\n\n  var lastClick, lastDoubleClick;\n  function clickRepeat(pos, button) {\n    var now = +new Date;\n    if (lastDoubleClick && lastDoubleClick.compare(now, pos, button)) {\n      lastClick = lastDoubleClick = null;\n      return \"triple\"\n    } else if (lastClick && lastClick.compare(now, pos, button)) {\n      lastDoubleClick = new PastClick(now, pos, button);\n      lastClick = null;\n      return \"double\"\n    } else {\n      lastClick = new PastClick(now, pos, button);\n      lastDoubleClick = null;\n      return \"single\"\n    }\n  }\n\n  // A mouse down can be a single click, double click, triple click,\n  // start of selection drag, start of text drag, new cursor\n  // (ctrl-click), rectangle drag (alt-drag), or xwin\n  // middle-click-paste. Or it might be a click on something we should\n  // not interfere with, such as a scrollbar or widget.\n  function onMouseDown(e) {\n    var cm = this, display = cm.display;\n    if (signalDOMEvent(cm, e) || display.activeTouch && display.input.supportsTouch()) { return }\n    display.input.ensurePolled();\n    display.shift = e.shiftKey;\n\n    if (eventInWidget(display, e)) {\n      if (!webkit) {\n        // Briefly turn off draggability, to allow widgets to do\n        // normal dragging things.\n        display.scroller.draggable = false;\n        setTimeout(function () { return display.scroller.draggable = true; }, 100);\n      }\n      return\n    }\n    if (clickInGutter(cm, e)) { return }\n    var pos = posFromMouse(cm, e), button = e_button(e), repeat = pos ? clickRepeat(pos, button) : \"single\";\n    window.focus();\n\n    // #3261: make sure, that we're not starting a second selection\n    if (button == 1 && cm.state.selectingText)\n      { cm.state.selectingText(e); }\n\n    if (pos && handleMappedButton(cm, button, pos, repeat, e)) { return }\n\n    if (button == 1) {\n      if (pos) { leftButtonDown(cm, pos, repeat, e); }\n      else if (e_target(e) == display.scroller) { e_preventDefault(e); }\n    } else if (button == 2) {\n      if (pos) { extendSelection(cm.doc, pos); }\n      setTimeout(function () { return display.input.focus(); }, 20);\n    } else if (button == 3) {\n      if (captureRightClick) { cm.display.input.onContextMenu(e); }\n      else { delayBlurEvent(cm); }\n    }\n  }\n\n  function handleMappedButton(cm, button, pos, repeat, event) {\n    var name = \"Click\";\n    if (repeat == \"double\") { name = \"Double\" + name; }\n    else if (repeat == \"triple\") { name = \"Triple\" + name; }\n    name = (button == 1 ? \"Left\" : button == 2 ? \"Middle\" : \"Right\") + name;\n\n    return dispatchKey(cm,  addModifierNames(name, event), event, function (bound) {\n      if (typeof bound == \"string\") { bound = commands[bound]; }\n      if (!bound) { return false }\n      var done = false;\n      try {\n        if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n        done = bound(cm, pos) != Pass;\n      } finally {\n        cm.state.suppressEdits = false;\n      }\n      return done\n    })\n  }\n\n  function configureMouse(cm, repeat, event) {\n    var option = cm.getOption(\"configureMouse\");\n    var value = option ? option(cm, repeat, event) : {};\n    if (value.unit == null) {\n      var rect = chromeOS ? event.shiftKey && event.metaKey : event.altKey;\n      value.unit = rect ? \"rectangle\" : repeat == \"single\" ? \"char\" : repeat == \"double\" ? \"word\" : \"line\";\n    }\n    if (value.extend == null || cm.doc.extend) { value.extend = cm.doc.extend || event.shiftKey; }\n    if (value.addNew == null) { value.addNew = mac ? event.metaKey : event.ctrlKey; }\n    if (value.moveOnDrag == null) { value.moveOnDrag = !(mac ? event.altKey : event.ctrlKey); }\n    return value\n  }\n\n  function leftButtonDown(cm, pos, repeat, event) {\n    if (ie) { setTimeout(bind(ensureFocus, cm), 0); }\n    else { cm.curOp.focus = activeElt(); }\n\n    var behavior = configureMouse(cm, repeat, event);\n\n    var sel = cm.doc.sel, contained;\n    if (cm.options.dragDrop && dragAndDrop && !cm.isReadOnly() &&\n        repeat == \"single\" && (contained = sel.contains(pos)) > -1 &&\n        (cmp((contained = sel.ranges[contained]).from(), pos) < 0 || pos.xRel > 0) &&\n        (cmp(contained.to(), pos) > 0 || pos.xRel < 0))\n      { leftButtonStartDrag(cm, event, pos, behavior); }\n    else\n      { leftButtonSelect(cm, event, pos, behavior); }\n  }\n\n  // Start a text drag. When it ends, see if any dragging actually\n  // happen, and treat as a click if it didn't.\n  function leftButtonStartDrag(cm, event, pos, behavior) {\n    var display = cm.display, moved = false;\n    var dragEnd = operation(cm, function (e) {\n      if (webkit) { display.scroller.draggable = false; }\n      cm.state.draggingText = false;\n      if (cm.state.delayingBlurEvent) {\n        if (cm.hasFocus()) { cm.state.delayingBlurEvent = false; }\n        else { delayBlurEvent(cm); }\n      }\n      off(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n      off(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n      off(display.scroller, \"dragstart\", dragStart);\n      off(display.scroller, \"drop\", dragEnd);\n      if (!moved) {\n        e_preventDefault(e);\n        if (!behavior.addNew)\n          { extendSelection(cm.doc, pos, null, null, behavior.extend); }\n        // Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)\n        if ((webkit && !safari) || ie && ie_version == 9)\n          { setTimeout(function () {display.wrapper.ownerDocument.body.focus({preventScroll: true}); display.input.focus();}, 20); }\n        else\n          { display.input.focus(); }\n      }\n    });\n    var mouseMove = function(e2) {\n      moved = moved || Math.abs(event.clientX - e2.clientX) + Math.abs(event.clientY - e2.clientY) >= 10;\n    };\n    var dragStart = function () { return moved = true; };\n    // Let the drag handler handle this.\n    if (webkit) { display.scroller.draggable = true; }\n    cm.state.draggingText = dragEnd;\n    dragEnd.copy = !behavior.moveOnDrag;\n    on(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n    on(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n    on(display.scroller, \"dragstart\", dragStart);\n    on(display.scroller, \"drop\", dragEnd);\n\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () { return display.input.focus(); }, 20);\n    // IE's approach to draggable\n    if (display.scroller.dragDrop) { display.scroller.dragDrop(); }\n  }\n\n  function rangeForUnit(cm, pos, unit) {\n    if (unit == \"char\") { return new Range(pos, pos) }\n    if (unit == \"word\") { return cm.findWordAt(pos) }\n    if (unit == \"line\") { return new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))) }\n    var result = unit(cm, pos);\n    return new Range(result.from, result.to)\n  }\n\n  // Normal selection, as opposed to text dragging.\n  function leftButtonSelect(cm, event, start, behavior) {\n    if (ie) { delayBlurEvent(cm); }\n    var display = cm.display, doc = cm.doc;\n    e_preventDefault(event);\n\n    var ourRange, ourIndex, startSel = doc.sel, ranges = startSel.ranges;\n    if (behavior.addNew && !behavior.extend) {\n      ourIndex = doc.sel.contains(start);\n      if (ourIndex > -1)\n        { ourRange = ranges[ourIndex]; }\n      else\n        { ourRange = new Range(start, start); }\n    } else {\n      ourRange = doc.sel.primary();\n      ourIndex = doc.sel.primIndex;\n    }\n\n    if (behavior.unit == \"rectangle\") {\n      if (!behavior.addNew) { ourRange = new Range(start, start); }\n      start = posFromMouse(cm, event, true, true);\n      ourIndex = -1;\n    } else {\n      var range = rangeForUnit(cm, start, behavior.unit);\n      if (behavior.extend)\n        { ourRange = extendRange(ourRange, range.anchor, range.head, behavior.extend); }\n      else\n        { ourRange = range; }\n    }\n\n    if (!behavior.addNew) {\n      ourIndex = 0;\n      setSelection(doc, new Selection([ourRange], 0), sel_mouse);\n      startSel = doc.sel;\n    } else if (ourIndex == -1) {\n      ourIndex = ranges.length;\n      setSelection(doc, normalizeSelection(cm, ranges.concat([ourRange]), ourIndex),\n                   {scroll: false, origin: \"*mouse\"});\n    } else if (ranges.length > 1 && ranges[ourIndex].empty() && behavior.unit == \"char\" && !behavior.extend) {\n      setSelection(doc, normalizeSelection(cm, ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0),\n                   {scroll: false, origin: \"*mouse\"});\n      startSel = doc.sel;\n    } else {\n      replaceOneSelection(doc, ourIndex, ourRange, sel_mouse);\n    }\n\n    var lastPos = start;\n    function extendTo(pos) {\n      if (cmp(lastPos, pos) == 0) { return }\n      lastPos = pos;\n\n      if (behavior.unit == \"rectangle\") {\n        var ranges = [], tabSize = cm.options.tabSize;\n        var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize);\n        var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize);\n        var left = Math.min(startCol, posCol), right = Math.max(startCol, posCol);\n        for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line));\n             line <= end; line++) {\n          var text = getLine(doc, line).text, leftPos = findColumn(text, left, tabSize);\n          if (left == right)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos))); }\n          else if (text.length > leftPos)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize)))); }\n        }\n        if (!ranges.length) { ranges.push(new Range(start, start)); }\n        setSelection(doc, normalizeSelection(cm, startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex),\n                     {origin: \"*mouse\", scroll: false});\n        cm.scrollIntoView(pos);\n      } else {\n        var oldRange = ourRange;\n        var range = rangeForUnit(cm, pos, behavior.unit);\n        var anchor = oldRange.anchor, head;\n        if (cmp(range.anchor, anchor) > 0) {\n          head = range.head;\n          anchor = minPos(oldRange.from(), range.anchor);\n        } else {\n          head = range.anchor;\n          anchor = maxPos(oldRange.to(), range.head);\n        }\n        var ranges$1 = startSel.ranges.slice(0);\n        ranges$1[ourIndex] = bidiSimplify(cm, new Range(clipPos(doc, anchor), head));\n        setSelection(doc, normalizeSelection(cm, ranges$1, ourIndex), sel_mouse);\n      }\n    }\n\n    var editorSize = display.wrapper.getBoundingClientRect();\n    // Used to ensure timeout re-tries don't fire when another extend\n    // happened in the meantime (clearTimeout isn't reliable -- at\n    // least on Chrome, the timeouts still happen even when cleared,\n    // if the clear happens after their scheduled firing time).\n    var counter = 0;\n\n    function extend(e) {\n      var curCount = ++counter;\n      var cur = posFromMouse(cm, e, true, behavior.unit == \"rectangle\");\n      if (!cur) { return }\n      if (cmp(cur, lastPos) != 0) {\n        cm.curOp.focus = activeElt();\n        extendTo(cur);\n        var visible = visibleLines(display, doc);\n        if (cur.line >= visible.to || cur.line < visible.from)\n          { setTimeout(operation(cm, function () {if (counter == curCount) { extend(e); }}), 150); }\n      } else {\n        var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0;\n        if (outside) { setTimeout(operation(cm, function () {\n          if (counter != curCount) { return }\n          display.scroller.scrollTop += outside;\n          extend(e);\n        }), 50); }\n      }\n    }\n\n    function done(e) {\n      cm.state.selectingText = false;\n      counter = Infinity;\n      // If e is null or undefined we interpret this as someone trying\n      // to explicitly cancel the selection rather than the user\n      // letting go of the mouse button.\n      if (e) {\n        e_preventDefault(e);\n        display.input.focus();\n      }\n      off(display.wrapper.ownerDocument, \"mousemove\", move);\n      off(display.wrapper.ownerDocument, \"mouseup\", up);\n      doc.history.lastSelOrigin = null;\n    }\n\n    var move = operation(cm, function (e) {\n      if (e.buttons === 0 || !e_button(e)) { done(e); }\n      else { extend(e); }\n    });\n    var up = operation(cm, done);\n    cm.state.selectingText = up;\n    on(display.wrapper.ownerDocument, \"mousemove\", move);\n    on(display.wrapper.ownerDocument, \"mouseup\", up);\n  }\n\n  // Used when mouse-selecting to adjust the anchor to the proper side\n  // of a bidi jump depending on the visual position of the head.\n  function bidiSimplify(cm, range) {\n    var anchor = range.anchor;\n    var head = range.head;\n    var anchorLine = getLine(cm.doc, anchor.line);\n    if (cmp(anchor, head) == 0 && anchor.sticky == head.sticky) { return range }\n    var order = getOrder(anchorLine);\n    if (!order) { return range }\n    var index = getBidiPartAt(order, anchor.ch, anchor.sticky), part = order[index];\n    if (part.from != anchor.ch && part.to != anchor.ch) { return range }\n    var boundary = index + ((part.from == anchor.ch) == (part.level != 1) ? 0 : 1);\n    if (boundary == 0 || boundary == order.length) { return range }\n\n    // Compute the relative visual position of the head compared to the\n    // anchor (<0 is to the left, >0 to the right)\n    var leftSide;\n    if (head.line != anchor.line) {\n      leftSide = (head.line - anchor.line) * (cm.doc.direction == \"ltr\" ? 1 : -1) > 0;\n    } else {\n      var headIndex = getBidiPartAt(order, head.ch, head.sticky);\n      var dir = headIndex - index || (head.ch - anchor.ch) * (part.level == 1 ? -1 : 1);\n      if (headIndex == boundary - 1 || headIndex == boundary)\n        { leftSide = dir < 0; }\n      else\n        { leftSide = dir > 0; }\n    }\n\n    var usePart = order[boundary + (leftSide ? -1 : 0)];\n    var from = leftSide == (usePart.level == 1);\n    var ch = from ? usePart.from : usePart.to, sticky = from ? \"after\" : \"before\";\n    return anchor.ch == ch && anchor.sticky == sticky ? range : new Range(new Pos(anchor.line, ch, sticky), head)\n  }\n\n\n  // Determines whether an event happened in the gutter, and fires the\n  // handlers for the corresponding event.\n  function gutterEvent(cm, e, type, prevent) {\n    var mX, mY;\n    if (e.touches) {\n      mX = e.touches[0].clientX;\n      mY = e.touches[0].clientY;\n    } else {\n      try { mX = e.clientX; mY = e.clientY; }\n      catch(e$1) { return false }\n    }\n    if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) { return false }\n    if (prevent) { e_preventDefault(e); }\n\n    var display = cm.display;\n    var lineBox = display.lineDiv.getBoundingClientRect();\n\n    if (mY > lineBox.bottom || !hasHandler(cm, type)) { return e_defaultPrevented(e) }\n    mY -= lineBox.top - display.viewOffset;\n\n    for (var i = 0; i < cm.display.gutterSpecs.length; ++i) {\n      var g = display.gutters.childNodes[i];\n      if (g && g.getBoundingClientRect().right >= mX) {\n        var line = lineAtHeight(cm.doc, mY);\n        var gutter = cm.display.gutterSpecs[i];\n        signal(cm, type, cm, line, gutter.className, e);\n        return e_defaultPrevented(e)\n      }\n    }\n  }\n\n  function clickInGutter(cm, e) {\n    return gutterEvent(cm, e, \"gutterClick\", true)\n  }\n\n  // CONTEXT MENU HANDLING\n\n  // To make the context menu work, we need to briefly unhide the\n  // textarea (making it as unobtrusive as possible) to let the\n  // right-click take effect on it.\n  function onContextMenu(cm, e) {\n    if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) { return }\n    if (signalDOMEvent(cm, e, \"contextmenu\")) { return }\n    if (!captureRightClick) { cm.display.input.onContextMenu(e); }\n  }\n\n  function contextMenuInGutter(cm, e) {\n    if (!hasHandler(cm, \"gutterContextMenu\")) { return false }\n    return gutterEvent(cm, e, \"gutterContextMenu\", false)\n  }\n\n  function themeChanged(cm) {\n    cm.display.wrapper.className = cm.display.wrapper.className.replace(/\\s*cm-s-\\S+/g, \"\") +\n      cm.options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\");\n    clearCaches(cm);\n  }\n\n  var Init = {toString: function(){return \"CodeMirror.Init\"}};\n\n  var defaults = {};\n  var optionHandlers = {};\n\n  function defineOptions(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    function option(name, deflt, handle, notOnInit) {\n      CodeMirror.defaults[name] = deflt;\n      if (handle) { optionHandlers[name] =\n        notOnInit ? function (cm, val, old) {if (old != Init) { handle(cm, val, old); }} : handle; }\n    }\n\n    CodeMirror.defineOption = option;\n\n    // Passed to option handlers when there is no old value.\n    CodeMirror.Init = Init;\n\n    // These two are, on init, called from the constructor because they\n    // have to be initialized before the editor can start at all.\n    option(\"value\", \"\", function (cm, val) { return cm.setValue(val); }, true);\n    option(\"mode\", null, function (cm, val) {\n      cm.doc.modeOption = val;\n      loadMode(cm);\n    }, true);\n\n    option(\"indentUnit\", 2, loadMode, true);\n    option(\"indentWithTabs\", false);\n    option(\"smartIndent\", true);\n    option(\"tabSize\", 4, function (cm) {\n      resetModeState(cm);\n      clearCaches(cm);\n      regChange(cm);\n    }, true);\n\n    option(\"lineSeparator\", null, function (cm, val) {\n      cm.doc.lineSep = val;\n      if (!val) { return }\n      var newBreaks = [], lineNo = cm.doc.first;\n      cm.doc.iter(function (line) {\n        for (var pos = 0;;) {\n          var found = line.text.indexOf(val, pos);\n          if (found == -1) { break }\n          pos = found + val.length;\n          newBreaks.push(Pos(lineNo, found));\n        }\n        lineNo++;\n      });\n      for (var i = newBreaks.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length)); }\n    });\n    option(\"specialChars\", /[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b\\u200e\\u200f\\u2028\\u2029\\ufeff\\ufff9-\\ufffc]/g, function (cm, val, old) {\n      cm.state.specialChars = new RegExp(val.source + (val.test(\"\\t\") ? \"\" : \"|\\t\"), \"g\");\n      if (old != Init) { cm.refresh(); }\n    });\n    option(\"specialCharPlaceholder\", defaultSpecialCharPlaceholder, function (cm) { return cm.refresh(); }, true);\n    option(\"electricChars\", true);\n    option(\"inputStyle\", mobile ? \"contenteditable\" : \"textarea\", function () {\n      throw new Error(\"inputStyle can not (yet) be changed in a running editor\") // FIXME\n    }, true);\n    option(\"spellcheck\", false, function (cm, val) { return cm.getInputField().spellcheck = val; }, true);\n    option(\"autocorrect\", false, function (cm, val) { return cm.getInputField().autocorrect = val; }, true);\n    option(\"autocapitalize\", false, function (cm, val) { return cm.getInputField().autocapitalize = val; }, true);\n    option(\"rtlMoveVisually\", !windows);\n    option(\"wholeLineUpdateBefore\", true);\n\n    option(\"theme\", \"default\", function (cm) {\n      themeChanged(cm);\n      updateGutters(cm);\n    }, true);\n    option(\"keyMap\", \"default\", function (cm, val, old) {\n      var next = getKeyMap(val);\n      var prev = old != Init && getKeyMap(old);\n      if (prev && prev.detach) { prev.detach(cm, next); }\n      if (next.attach) { next.attach(cm, prev || null); }\n    });\n    option(\"extraKeys\", null);\n    option(\"configureMouse\", null);\n\n    option(\"lineWrapping\", false, wrappingChanged, true);\n    option(\"gutters\", [], function (cm, val) {\n      cm.display.gutterSpecs = getGutters(val, cm.options.lineNumbers);\n      updateGutters(cm);\n    }, true);\n    option(\"fixedGutter\", true, function (cm, val) {\n      cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + \"px\" : \"0\";\n      cm.refresh();\n    }, true);\n    option(\"coverGutterNextToScrollbar\", false, function (cm) { return updateScrollbars(cm); }, true);\n    option(\"scrollbarStyle\", \"native\", function (cm) {\n      initScrollbars(cm);\n      updateScrollbars(cm);\n      cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);\n      cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft);\n    }, true);\n    option(\"lineNumbers\", false, function (cm, val) {\n      cm.display.gutterSpecs = getGutters(cm.options.gutters, val);\n      updateGutters(cm);\n    }, true);\n    option(\"firstLineNumber\", 1, updateGutters, true);\n    option(\"lineNumberFormatter\", function (integer) { return integer; }, updateGutters, true);\n    option(\"showCursorWhenSelecting\", false, updateSelection, true);\n\n    option(\"resetSelectionOnContextMenu\", true);\n    option(\"lineWiseCopyCut\", true);\n    option(\"pasteLinesPerSelection\", true);\n    option(\"selectionsMayTouch\", false);\n\n    option(\"readOnly\", false, function (cm, val) {\n      if (val == \"nocursor\") {\n        onBlur(cm);\n        cm.display.input.blur();\n      }\n      cm.display.input.readOnlyChanged(val);\n    });\n\n    option(\"screenReaderLabel\", null, function (cm, val) {\n      val = (val === '') ? null : val;\n      cm.display.input.screenReaderLabelChanged(val);\n    });\n\n    option(\"disableInput\", false, function (cm, val) {if (!val) { cm.display.input.reset(); }}, true);\n    option(\"dragDrop\", true, dragDropChanged);\n    option(\"allowDropFileTypes\", null);\n\n    option(\"cursorBlinkRate\", 530);\n    option(\"cursorScrollMargin\", 0);\n    option(\"cursorHeight\", 1, updateSelection, true);\n    option(\"singleCursorHeightPerLine\", true, updateSelection, true);\n    option(\"workTime\", 100);\n    option(\"workDelay\", 100);\n    option(\"flattenSpans\", true, resetModeState, true);\n    option(\"addModeClass\", false, resetModeState, true);\n    option(\"pollInterval\", 100);\n    option(\"undoDepth\", 200, function (cm, val) { return cm.doc.history.undoDepth = val; });\n    option(\"historyEventDelay\", 1250);\n    option(\"viewportMargin\", 10, function (cm) { return cm.refresh(); }, true);\n    option(\"maxHighlightLength\", 10000, resetModeState, true);\n    option(\"moveInputWithCursor\", true, function (cm, val) {\n      if (!val) { cm.display.input.resetPosition(); }\n    });\n\n    option(\"tabindex\", null, function (cm, val) { return cm.display.input.getField().tabIndex = val || \"\"; });\n    option(\"autofocus\", null);\n    option(\"direction\", \"ltr\", function (cm, val) { return cm.doc.setDirection(val); }, true);\n    option(\"phrases\", null);\n  }\n\n  function dragDropChanged(cm, value, old) {\n    var wasOn = old && old != Init;\n    if (!value != !wasOn) {\n      var funcs = cm.display.dragFunctions;\n      var toggle = value ? on : off;\n      toggle(cm.display.scroller, \"dragstart\", funcs.start);\n      toggle(cm.display.scroller, \"dragenter\", funcs.enter);\n      toggle(cm.display.scroller, \"dragover\", funcs.over);\n      toggle(cm.display.scroller, \"dragleave\", funcs.leave);\n      toggle(cm.display.scroller, \"drop\", funcs.drop);\n    }\n  }\n\n  function wrappingChanged(cm) {\n    if (cm.options.lineWrapping) {\n      addClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      cm.display.sizer.style.minWidth = \"\";\n      cm.display.sizerWidth = null;\n    } else {\n      rmClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      findMaxLine(cm);\n    }\n    estimateLineHeights(cm);\n    regChange(cm);\n    clearCaches(cm);\n    setTimeout(function () { return updateScrollbars(cm); }, 100);\n  }\n\n  // A CodeMirror instance represents an editor. This is the object\n  // that user code is usually dealing with.\n\n  function CodeMirror(place, options) {\n    var this$1 = this;\n\n    if (!(this instanceof CodeMirror)) { return new CodeMirror(place, options) }\n\n    this.options = options = options ? copyObj(options) : {};\n    // Determine effective options based on given values and defaults.\n    copyObj(defaults, options, false);\n\n    var doc = options.value;\n    if (typeof doc == \"string\") { doc = new Doc(doc, options.mode, null, options.lineSeparator, options.direction); }\n    else if (options.mode) { doc.modeOption = options.mode; }\n    this.doc = doc;\n\n    var input = new CodeMirror.inputStyles[options.inputStyle](this);\n    var display = this.display = new Display(place, doc, input, options);\n    display.wrapper.CodeMirror = this;\n    themeChanged(this);\n    if (options.lineWrapping)\n      { this.display.wrapper.className += \" CodeMirror-wrap\"; }\n    initScrollbars(this);\n\n    this.state = {\n      keyMaps: [],  // stores maps added by addKeyMap\n      overlays: [], // highlighting overlays, as added by addOverlay\n      modeGen: 0,   // bumped when mode/overlay changes, used to invalidate highlighting info\n      overwrite: false,\n      delayingBlurEvent: false,\n      focused: false,\n      suppressEdits: false, // used to disable editing during key handlers when in readOnly mode\n      pasteIncoming: -1, cutIncoming: -1, // help recognize paste/cut edits in input.poll\n      selectingText: false,\n      draggingText: false,\n      highlight: new Delayed(), // stores highlight worker timeout\n      keySeq: null,  // Unfinished key sequence\n      specialChars: null\n    };\n\n    if (options.autofocus && !mobile) { display.input.focus(); }\n\n    // Override magic textarea content restore that IE sometimes does\n    // on our hidden textarea on reload\n    if (ie && ie_version < 11) { setTimeout(function () { return this$1.display.input.reset(true); }, 20); }\n\n    registerEventHandlers(this);\n    ensureGlobalHandlers();\n\n    startOperation(this);\n    this.curOp.forceUpdate = true;\n    attachDoc(this, doc);\n\n    if ((options.autofocus && !mobile) || this.hasFocus())\n      { setTimeout(function () {\n        if (this$1.hasFocus() && !this$1.state.focused) { onFocus(this$1); }\n      }, 20); }\n    else\n      { onBlur(this); }\n\n    for (var opt in optionHandlers) { if (optionHandlers.hasOwnProperty(opt))\n      { optionHandlers[opt](this, options[opt], Init); } }\n    maybeUpdateLineNumberWidth(this);\n    if (options.finishInit) { options.finishInit(this); }\n    for (var i = 0; i < initHooks.length; ++i) { initHooks[i](this); }\n    endOperation(this);\n    // Suppress optimizelegibility in Webkit, since it breaks text\n    // measuring on line wrapping boundaries.\n    if (webkit && options.lineWrapping &&\n        getComputedStyle(display.lineDiv).textRendering == \"optimizelegibility\")\n      { display.lineDiv.style.textRendering = \"auto\"; }\n  }\n\n  // The default configuration options.\n  CodeMirror.defaults = defaults;\n  // Functions to run when options are changed.\n  CodeMirror.optionHandlers = optionHandlers;\n\n  // Attach the necessary event handlers when initializing the editor\n  function registerEventHandlers(cm) {\n    var d = cm.display;\n    on(d.scroller, \"mousedown\", operation(cm, onMouseDown));\n    // Older IE's will not fire a second mousedown for a double click\n    if (ie && ie_version < 11)\n      { on(d.scroller, \"dblclick\", operation(cm, function (e) {\n        if (signalDOMEvent(cm, e)) { return }\n        var pos = posFromMouse(cm, e);\n        if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) { return }\n        e_preventDefault(e);\n        var word = cm.findWordAt(pos);\n        extendSelection(cm.doc, word.anchor, word.head);\n      })); }\n    else\n      { on(d.scroller, \"dblclick\", function (e) { return signalDOMEvent(cm, e) || e_preventDefault(e); }); }\n    // Some browsers fire contextmenu *after* opening the menu, at\n    // which point we can't mess with it anymore. Context menu is\n    // handled in onMouseDown for these browsers.\n    on(d.scroller, \"contextmenu\", function (e) { return onContextMenu(cm, e); });\n    on(d.input.getField(), \"contextmenu\", function (e) {\n      if (!d.scroller.contains(e.target)) { onContextMenu(cm, e); }\n    });\n\n    // Used to suppress mouse event handling when a touch happens\n    var touchFinished, prevTouch = {end: 0};\n    function finishTouch() {\n      if (d.activeTouch) {\n        touchFinished = setTimeout(function () { return d.activeTouch = null; }, 1000);\n        prevTouch = d.activeTouch;\n        prevTouch.end = +new Date;\n      }\n    }\n    function isMouseLikeTouchEvent(e) {\n      if (e.touches.length != 1) { return false }\n      var touch = e.touches[0];\n      return touch.radiusX <= 1 && touch.radiusY <= 1\n    }\n    function farAway(touch, other) {\n      if (other.left == null) { return true }\n      var dx = other.left - touch.left, dy = other.top - touch.top;\n      return dx * dx + dy * dy > 20 * 20\n    }\n    on(d.scroller, \"touchstart\", function (e) {\n      if (!signalDOMEvent(cm, e) && !isMouseLikeTouchEvent(e) && !clickInGutter(cm, e)) {\n        d.input.ensurePolled();\n        clearTimeout(touchFinished);\n        var now = +new Date;\n        d.activeTouch = {start: now, moved: false,\n                         prev: now - prevTouch.end <= 300 ? prevTouch : null};\n        if (e.touches.length == 1) {\n          d.activeTouch.left = e.touches[0].pageX;\n          d.activeTouch.top = e.touches[0].pageY;\n        }\n      }\n    });\n    on(d.scroller, \"touchmove\", function () {\n      if (d.activeTouch) { d.activeTouch.moved = true; }\n    });\n    on(d.scroller, \"touchend\", function (e) {\n      var touch = d.activeTouch;\n      if (touch && !eventInWidget(d, e) && touch.left != null &&\n          !touch.moved && new Date - touch.start < 300) {\n        var pos = cm.coordsChar(d.activeTouch, \"page\"), range;\n        if (!touch.prev || farAway(touch, touch.prev)) // Single tap\n          { range = new Range(pos, pos); }\n        else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) // Double tap\n          { range = cm.findWordAt(pos); }\n        else // Triple tap\n          { range = new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))); }\n        cm.setSelection(range.anchor, range.head);\n        cm.focus();\n        e_preventDefault(e);\n      }\n      finishTouch();\n    });\n    on(d.scroller, \"touchcancel\", finishTouch);\n\n    // Sync scrolling between fake scrollbars and real scrollable\n    // area, ensure viewport is updated when scrolling.\n    on(d.scroller, \"scroll\", function () {\n      if (d.scroller.clientHeight) {\n        updateScrollTop(cm, d.scroller.scrollTop);\n        setScrollLeft(cm, d.scroller.scrollLeft, true);\n        signal(cm, \"scroll\", cm);\n      }\n    });\n\n    // Listen to wheel events in order to try and update the viewport on time.\n    on(d.scroller, \"mousewheel\", function (e) { return onScrollWheel(cm, e); });\n    on(d.scroller, \"DOMMouseScroll\", function (e) { return onScrollWheel(cm, e); });\n\n    // Prevent wrapper from ever scrolling\n    on(d.wrapper, \"scroll\", function () { return d.wrapper.scrollTop = d.wrapper.scrollLeft = 0; });\n\n    d.dragFunctions = {\n      enter: function (e) {if (!signalDOMEvent(cm, e)) { e_stop(e); }},\n      over: function (e) {if (!signalDOMEvent(cm, e)) { onDragOver(cm, e); e_stop(e); }},\n      start: function (e) { return onDragStart(cm, e); },\n      drop: operation(cm, onDrop),\n      leave: function (e) {if (!signalDOMEvent(cm, e)) { clearDragCursor(cm); }}\n    };\n\n    var inp = d.input.getField();\n    on(inp, \"keyup\", function (e) { return onKeyUp.call(cm, e); });\n    on(inp, \"keydown\", operation(cm, onKeyDown));\n    on(inp, \"keypress\", operation(cm, onKeyPress));\n    on(inp, \"focus\", function (e) { return onFocus(cm, e); });\n    on(inp, \"blur\", function (e) { return onBlur(cm, e); });\n  }\n\n  var initHooks = [];\n  CodeMirror.defineInitHook = function (f) { return initHooks.push(f); };\n\n  // Indent the given line. The how parameter can be \"smart\",\n  // \"add\"/null, \"subtract\", or \"prev\". When aggressive is false\n  // (typically set to true for forced single-line indents), empty\n  // lines are not indented, and places where the mode returns Pass\n  // are left alone.\n  function indentLine(cm, n, how, aggressive) {\n    var doc = cm.doc, state;\n    if (how == null) { how = \"add\"; }\n    if (how == \"smart\") {\n      // Fall back to \"prev\" when the mode doesn't have an indentation\n      // method.\n      if (!doc.mode.indent) { how = \"prev\"; }\n      else { state = getContextBefore(cm, n).state; }\n    }\n\n    var tabSize = cm.options.tabSize;\n    var line = getLine(doc, n), curSpace = countColumn(line.text, null, tabSize);\n    if (line.stateAfter) { line.stateAfter = null; }\n    var curSpaceString = line.text.match(/^\\s*/)[0], indentation;\n    if (!aggressive && !/\\S/.test(line.text)) {\n      indentation = 0;\n      how = \"not\";\n    } else if (how == \"smart\") {\n      indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text);\n      if (indentation == Pass || indentation > 150) {\n        if (!aggressive) { return }\n        how = \"prev\";\n      }\n    }\n    if (how == \"prev\") {\n      if (n > doc.first) { indentation = countColumn(getLine(doc, n-1).text, null, tabSize); }\n      else { indentation = 0; }\n    } else if (how == \"add\") {\n      indentation = curSpace + cm.options.indentUnit;\n    } else if (how == \"subtract\") {\n      indentation = curSpace - cm.options.indentUnit;\n    } else if (typeof how == \"number\") {\n      indentation = curSpace + how;\n    }\n    indentation = Math.max(0, indentation);\n\n    var indentString = \"\", pos = 0;\n    if (cm.options.indentWithTabs)\n      { for (var i = Math.floor(indentation / tabSize); i; --i) {pos += tabSize; indentString += \"\\t\";} }\n    if (pos < indentation) { indentString += spaceStr(indentation - pos); }\n\n    if (indentString != curSpaceString) {\n      replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), \"+input\");\n      line.stateAfter = null;\n      return true\n    } else {\n      // Ensure that, if the cursor was in the whitespace at the start\n      // of the line, it is moved to the end of that space.\n      for (var i$1 = 0; i$1 < doc.sel.ranges.length; i$1++) {\n        var range = doc.sel.ranges[i$1];\n        if (range.head.line == n && range.head.ch < curSpaceString.length) {\n          var pos$1 = Pos(n, curSpaceString.length);\n          replaceOneSelection(doc, i$1, new Range(pos$1, pos$1));\n          break\n        }\n      }\n    }\n  }\n\n  // This will be set to a {lineWise: bool, text: [string]} object, so\n  // that, when pasting, we know what kind of selections the copied\n  // text was made out of.\n  var lastCopied = null;\n\n  function setLastCopied(newLastCopied) {\n    lastCopied = newLastCopied;\n  }\n\n  function applyTextInput(cm, inserted, deleted, sel, origin) {\n    var doc = cm.doc;\n    cm.display.shift = false;\n    if (!sel) { sel = doc.sel; }\n\n    var recent = +new Date - 200;\n    var paste = origin == \"paste\" || cm.state.pasteIncoming > recent;\n    var textLines = splitLinesAuto(inserted), multiPaste = null;\n    // When pasting N lines into N selections, insert one line per selection\n    if (paste && sel.ranges.length > 1) {\n      if (lastCopied && lastCopied.text.join(\"\\n\") == inserted) {\n        if (sel.ranges.length % lastCopied.text.length == 0) {\n          multiPaste = [];\n          for (var i = 0; i < lastCopied.text.length; i++)\n            { multiPaste.push(doc.splitLines(lastCopied.text[i])); }\n        }\n      } else if (textLines.length == sel.ranges.length && cm.options.pasteLinesPerSelection) {\n        multiPaste = map(textLines, function (l) { return [l]; });\n      }\n    }\n\n    var updateInput = cm.curOp.updateInput;\n    // Normal behavior is to insert the new text into every selection\n    for (var i$1 = sel.ranges.length - 1; i$1 >= 0; i$1--) {\n      var range = sel.ranges[i$1];\n      var from = range.from(), to = range.to();\n      if (range.empty()) {\n        if (deleted && deleted > 0) // Handle deletion\n          { from = Pos(from.line, from.ch - deleted); }\n        else if (cm.state.overwrite && !paste) // Handle overwrite\n          { to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length)); }\n        else if (paste && lastCopied && lastCopied.lineWise && lastCopied.text.join(\"\\n\") == textLines.join(\"\\n\"))\n          { from = to = Pos(from.line, 0); }\n      }\n      var changeEvent = {from: from, to: to, text: multiPaste ? multiPaste[i$1 % multiPaste.length] : textLines,\n                         origin: origin || (paste ? \"paste\" : cm.state.cutIncoming > recent ? \"cut\" : \"+input\")};\n      makeChange(cm.doc, changeEvent);\n      signalLater(cm, \"inputRead\", cm, changeEvent);\n    }\n    if (inserted && !paste)\n      { triggerElectric(cm, inserted); }\n\n    ensureCursorVisible(cm);\n    if (cm.curOp.updateInput < 2) { cm.curOp.updateInput = updateInput; }\n    cm.curOp.typing = true;\n    cm.state.pasteIncoming = cm.state.cutIncoming = -1;\n  }\n\n  function handlePaste(e, cm) {\n    var pasted = e.clipboardData && e.clipboardData.getData(\"Text\");\n    if (pasted) {\n      e.preventDefault();\n      if (!cm.isReadOnly() && !cm.options.disableInput)\n        { runInOp(cm, function () { return applyTextInput(cm, pasted, 0, null, \"paste\"); }); }\n      return true\n    }\n  }\n\n  function triggerElectric(cm, inserted) {\n    // When an 'electric' character is inserted, immediately trigger a reindent\n    if (!cm.options.electricChars || !cm.options.smartIndent) { return }\n    var sel = cm.doc.sel;\n\n    for (var i = sel.ranges.length - 1; i >= 0; i--) {\n      var range = sel.ranges[i];\n      if (range.head.ch > 100 || (i && sel.ranges[i - 1].head.line == range.head.line)) { continue }\n      var mode = cm.getModeAt(range.head);\n      var indented = false;\n      if (mode.electricChars) {\n        for (var j = 0; j < mode.electricChars.length; j++)\n          { if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {\n            indented = indentLine(cm, range.head.line, \"smart\");\n            break\n          } }\n      } else if (mode.electricInput) {\n        if (mode.electricInput.test(getLine(cm.doc, range.head.line).text.slice(0, range.head.ch)))\n          { indented = indentLine(cm, range.head.line, \"smart\"); }\n      }\n      if (indented) { signalLater(cm, \"electricInput\", cm, range.head.line); }\n    }\n  }\n\n  function copyableRanges(cm) {\n    var text = [], ranges = [];\n    for (var i = 0; i < cm.doc.sel.ranges.length; i++) {\n      var line = cm.doc.sel.ranges[i].head.line;\n      var lineRange = {anchor: Pos(line, 0), head: Pos(line + 1, 0)};\n      ranges.push(lineRange);\n      text.push(cm.getRange(lineRange.anchor, lineRange.head));\n    }\n    return {text: text, ranges: ranges}\n  }\n\n  function disableBrowserMagic(field, spellcheck, autocorrect, autocapitalize) {\n    field.setAttribute(\"autocorrect\", autocorrect ? \"\" : \"off\");\n    field.setAttribute(\"autocapitalize\", autocapitalize ? \"\" : \"off\");\n    field.setAttribute(\"spellcheck\", !!spellcheck);\n  }\n\n  function hiddenTextarea() {\n    var te = elt(\"textarea\", null, null, \"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none\");\n    var div = elt(\"div\", [te], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\");\n    // The textarea is kept positioned near the cursor to prevent the\n    // fact that it'll be scrolled into view on input from scrolling\n    // our fake cursor out of view. On webkit, when wrap=off, paste is\n    // very slow. So make the area wide instead.\n    if (webkit) { te.style.width = \"1000px\"; }\n    else { te.setAttribute(\"wrap\", \"off\"); }\n    // If border: 0; -- iOS fails to open keyboard (issue #1287)\n    if (ios) { te.style.border = \"1px solid black\"; }\n    disableBrowserMagic(te);\n    return div\n  }\n\n  // The publicly visible API. Note that methodOp(f) means\n  // 'wrap f in an operation, performed on its `this` parameter'.\n\n  // This is not the complete set of editor methods. Most of the\n  // methods defined on the Doc type are also injected into\n  // CodeMirror.prototype, for backwards compatibility and\n  // convenience.\n\n  function addEditorMethods(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    var helpers = CodeMirror.helpers = {};\n\n    CodeMirror.prototype = {\n      constructor: CodeMirror,\n      focus: function(){window.focus(); this.display.input.focus();},\n\n      setOption: function(option, value) {\n        var options = this.options, old = options[option];\n        if (options[option] == value && option != \"mode\") { return }\n        options[option] = value;\n        if (optionHandlers.hasOwnProperty(option))\n          { operation(this, optionHandlers[option])(this, value, old); }\n        signal(this, \"optionChange\", this, option);\n      },\n\n      getOption: function(option) {return this.options[option]},\n      getDoc: function() {return this.doc},\n\n      addKeyMap: function(map, bottom) {\n        this.state.keyMaps[bottom ? \"push\" : \"unshift\"](getKeyMap(map));\n      },\n      removeKeyMap: function(map) {\n        var maps = this.state.keyMaps;\n        for (var i = 0; i < maps.length; ++i)\n          { if (maps[i] == map || maps[i].name == map) {\n            maps.splice(i, 1);\n            return true\n          } }\n      },\n\n      addOverlay: methodOp(function(spec, options) {\n        var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec);\n        if (mode.startState) { throw new Error(\"Overlays may not be stateful.\") }\n        insertSorted(this.state.overlays,\n                     {mode: mode, modeSpec: spec, opaque: options && options.opaque,\n                      priority: (options && options.priority) || 0},\n                     function (overlay) { return overlay.priority; });\n        this.state.modeGen++;\n        regChange(this);\n      }),\n      removeOverlay: methodOp(function(spec) {\n        var overlays = this.state.overlays;\n        for (var i = 0; i < overlays.length; ++i) {\n          var cur = overlays[i].modeSpec;\n          if (cur == spec || typeof spec == \"string\" && cur.name == spec) {\n            overlays.splice(i, 1);\n            this.state.modeGen++;\n            regChange(this);\n            return\n          }\n        }\n      }),\n\n      indentLine: methodOp(function(n, dir, aggressive) {\n        if (typeof dir != \"string\" && typeof dir != \"number\") {\n          if (dir == null) { dir = this.options.smartIndent ? \"smart\" : \"prev\"; }\n          else { dir = dir ? \"add\" : \"subtract\"; }\n        }\n        if (isLine(this.doc, n)) { indentLine(this, n, dir, aggressive); }\n      }),\n      indentSelection: methodOp(function(how) {\n        var ranges = this.doc.sel.ranges, end = -1;\n        for (var i = 0; i < ranges.length; i++) {\n          var range = ranges[i];\n          if (!range.empty()) {\n            var from = range.from(), to = range.to();\n            var start = Math.max(end, from.line);\n            end = Math.min(this.lastLine(), to.line - (to.ch ? 0 : 1)) + 1;\n            for (var j = start; j < end; ++j)\n              { indentLine(this, j, how); }\n            var newRanges = this.doc.sel.ranges;\n            if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0)\n              { replaceOneSelection(this.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll); }\n          } else if (range.head.line > end) {\n            indentLine(this, range.head.line, how, true);\n            end = range.head.line;\n            if (i == this.doc.sel.primIndex) { ensureCursorVisible(this); }\n          }\n        }\n      }),\n\n      // Fetch the parser token for a given character. Useful for hacks\n      // that want to inspect the mode state (say, for completion).\n      getTokenAt: function(pos, precise) {\n        return takeToken(this, pos, precise)\n      },\n\n      getLineTokens: function(line, precise) {\n        return takeToken(this, Pos(line), precise, true)\n      },\n\n      getTokenTypeAt: function(pos) {\n        pos = clipPos(this.doc, pos);\n        var styles = getLineStyles(this, getLine(this.doc, pos.line));\n        var before = 0, after = (styles.length - 1) / 2, ch = pos.ch;\n        var type;\n        if (ch == 0) { type = styles[2]; }\n        else { for (;;) {\n          var mid = (before + after) >> 1;\n          if ((mid ? styles[mid * 2 - 1] : 0) >= ch) { after = mid; }\n          else if (styles[mid * 2 + 1] < ch) { before = mid + 1; }\n          else { type = styles[mid * 2 + 2]; break }\n        } }\n        var cut = type ? type.indexOf(\"overlay \") : -1;\n        return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1)\n      },\n\n      getModeAt: function(pos) {\n        var mode = this.doc.mode;\n        if (!mode.innerMode) { return mode }\n        return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode\n      },\n\n      getHelper: function(pos, type) {\n        return this.getHelpers(pos, type)[0]\n      },\n\n      getHelpers: function(pos, type) {\n        var found = [];\n        if (!helpers.hasOwnProperty(type)) { return found }\n        var help = helpers[type], mode = this.getModeAt(pos);\n        if (typeof mode[type] == \"string\") {\n          if (help[mode[type]]) { found.push(help[mode[type]]); }\n        } else if (mode[type]) {\n          for (var i = 0; i < mode[type].length; i++) {\n            var val = help[mode[type][i]];\n            if (val) { found.push(val); }\n          }\n        } else if (mode.helperType && help[mode.helperType]) {\n          found.push(help[mode.helperType]);\n        } else if (help[mode.name]) {\n          found.push(help[mode.name]);\n        }\n        for (var i$1 = 0; i$1 < help._global.length; i$1++) {\n          var cur = help._global[i$1];\n          if (cur.pred(mode, this) && indexOf(found, cur.val) == -1)\n            { found.push(cur.val); }\n        }\n        return found\n      },\n\n      getStateAfter: function(line, precise) {\n        var doc = this.doc;\n        line = clipLine(doc, line == null ? doc.first + doc.size - 1: line);\n        return getContextBefore(this, line + 1, precise).state\n      },\n\n      cursorCoords: function(start, mode) {\n        var pos, range = this.doc.sel.primary();\n        if (start == null) { pos = range.head; }\n        else if (typeof start == \"object\") { pos = clipPos(this.doc, start); }\n        else { pos = start ? range.from() : range.to(); }\n        return cursorCoords(this, pos, mode || \"page\")\n      },\n\n      charCoords: function(pos, mode) {\n        return charCoords(this, clipPos(this.doc, pos), mode || \"page\")\n      },\n\n      coordsChar: function(coords, mode) {\n        coords = fromCoordSystem(this, coords, mode || \"page\");\n        return coordsChar(this, coords.left, coords.top)\n      },\n\n      lineAtHeight: function(height, mode) {\n        height = fromCoordSystem(this, {top: height, left: 0}, mode || \"page\").top;\n        return lineAtHeight(this.doc, height + this.display.viewOffset)\n      },\n      heightAtLine: function(line, mode, includeWidgets) {\n        var end = false, lineObj;\n        if (typeof line == \"number\") {\n          var last = this.doc.first + this.doc.size - 1;\n          if (line < this.doc.first) { line = this.doc.first; }\n          else if (line > last) { line = last; end = true; }\n          lineObj = getLine(this.doc, line);\n        } else {\n          lineObj = line;\n        }\n        return intoCoordSystem(this, lineObj, {top: 0, left: 0}, mode || \"page\", includeWidgets || end).top +\n          (end ? this.doc.height - heightAtLine(lineObj) : 0)\n      },\n\n      defaultTextHeight: function() { return textHeight(this.display) },\n      defaultCharWidth: function() { return charWidth(this.display) },\n\n      getViewport: function() { return {from: this.display.viewFrom, to: this.display.viewTo}},\n\n      addWidget: function(pos, node, scroll, vert, horiz) {\n        var display = this.display;\n        pos = cursorCoords(this, clipPos(this.doc, pos));\n        var top = pos.bottom, left = pos.left;\n        node.style.position = \"absolute\";\n        node.setAttribute(\"cm-ignore-events\", \"true\");\n        this.display.input.setUneditable(node);\n        display.sizer.appendChild(node);\n        if (vert == \"over\") {\n          top = pos.top;\n        } else if (vert == \"above\" || vert == \"near\") {\n          var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),\n          hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth);\n          // Default to positioning above (if specified and possible); otherwise default to positioning below\n          if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight)\n            { top = pos.top - node.offsetHeight; }\n          else if (pos.bottom + node.offsetHeight <= vspace)\n            { top = pos.bottom; }\n          if (left + node.offsetWidth > hspace)\n            { left = hspace - node.offsetWidth; }\n        }\n        node.style.top = top + \"px\";\n        node.style.left = node.style.right = \"\";\n        if (horiz == \"right\") {\n          left = display.sizer.clientWidth - node.offsetWidth;\n          node.style.right = \"0px\";\n        } else {\n          if (horiz == \"left\") { left = 0; }\n          else if (horiz == \"middle\") { left = (display.sizer.clientWidth - node.offsetWidth) / 2; }\n          node.style.left = left + \"px\";\n        }\n        if (scroll)\n          { scrollIntoView(this, {left: left, top: top, right: left + node.offsetWidth, bottom: top + node.offsetHeight}); }\n      },\n\n      triggerOnKeyDown: methodOp(onKeyDown),\n      triggerOnKeyPress: methodOp(onKeyPress),\n      triggerOnKeyUp: onKeyUp,\n      triggerOnMouseDown: methodOp(onMouseDown),\n\n      execCommand: function(cmd) {\n        if (commands.hasOwnProperty(cmd))\n          { return commands[cmd].call(null, this) }\n      },\n\n      triggerElectric: methodOp(function(text) { triggerElectric(this, text); }),\n\n      findPosH: function(from, amount, unit, visually) {\n        var dir = 1;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          cur = findPosH(this.doc, cur, dir, unit, visually);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveH: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        this.extendSelectionsBy(function (range) {\n          if (this$1.display.shift || this$1.doc.extend || range.empty())\n            { return findPosH(this$1.doc, range.head, dir, unit, this$1.options.rtlMoveVisually) }\n          else\n            { return dir < 0 ? range.from() : range.to() }\n        }, sel_move);\n      }),\n\n      deleteH: methodOp(function(dir, unit) {\n        var sel = this.doc.sel, doc = this.doc;\n        if (sel.somethingSelected())\n          { doc.replaceSelection(\"\", null, \"+delete\"); }\n        else\n          { deleteNearSelection(this, function (range) {\n            var other = findPosH(doc, range.head, dir, unit, false);\n            return dir < 0 ? {from: other, to: range.head} : {from: range.head, to: other}\n          }); }\n      }),\n\n      findPosV: function(from, amount, unit, goalColumn) {\n        var dir = 1, x = goalColumn;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          var coords = cursorCoords(this, cur, \"div\");\n          if (x == null) { x = coords.left; }\n          else { coords.left = x; }\n          cur = findPosV(this, coords, dir, unit);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveV: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        var doc = this.doc, goals = [];\n        var collapse = !this.display.shift && !doc.extend && doc.sel.somethingSelected();\n        doc.extendSelectionsBy(function (range) {\n          if (collapse)\n            { return dir < 0 ? range.from() : range.to() }\n          var headPos = cursorCoords(this$1, range.head, \"div\");\n          if (range.goalColumn != null) { headPos.left = range.goalColumn; }\n          goals.push(headPos.left);\n          var pos = findPosV(this$1, headPos, dir, unit);\n          if (unit == \"page\" && range == doc.sel.primary())\n            { addToScrollTop(this$1, charCoords(this$1, pos, \"div\").top - headPos.top); }\n          return pos\n        }, sel_move);\n        if (goals.length) { for (var i = 0; i < doc.sel.ranges.length; i++)\n          { doc.sel.ranges[i].goalColumn = goals[i]; } }\n      }),\n\n      // Find the word at the given position (as returned by coordsChar).\n      findWordAt: function(pos) {\n        var doc = this.doc, line = getLine(doc, pos.line).text;\n        var start = pos.ch, end = pos.ch;\n        if (line) {\n          var helper = this.getHelper(pos, \"wordChars\");\n          if ((pos.sticky == \"before\" || end == line.length) && start) { --start; } else { ++end; }\n          var startChar = line.charAt(start);\n          var check = isWordChar(startChar, helper)\n            ? function (ch) { return isWordChar(ch, helper); }\n            : /\\s/.test(startChar) ? function (ch) { return /\\s/.test(ch); }\n            : function (ch) { return (!/\\s/.test(ch) && !isWordChar(ch)); };\n          while (start > 0 && check(line.charAt(start - 1))) { --start; }\n          while (end < line.length && check(line.charAt(end))) { ++end; }\n        }\n        return new Range(Pos(pos.line, start), Pos(pos.line, end))\n      },\n\n      toggleOverwrite: function(value) {\n        if (value != null && value == this.state.overwrite) { return }\n        if (this.state.overwrite = !this.state.overwrite)\n          { addClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n        else\n          { rmClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n\n        signal(this, \"overwriteToggle\", this, this.state.overwrite);\n      },\n      hasFocus: function() { return this.display.input.getField() == activeElt() },\n      isReadOnly: function() { return !!(this.options.readOnly || this.doc.cantEdit) },\n\n      scrollTo: methodOp(function (x, y) { scrollToCoords(this, x, y); }),\n      getScrollInfo: function() {\n        var scroller = this.display.scroller;\n        return {left: scroller.scrollLeft, top: scroller.scrollTop,\n                height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,\n                width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,\n                clientHeight: displayHeight(this), clientWidth: displayWidth(this)}\n      },\n\n      scrollIntoView: methodOp(function(range, margin) {\n        if (range == null) {\n          range = {from: this.doc.sel.primary().head, to: null};\n          if (margin == null) { margin = this.options.cursorScrollMargin; }\n        } else if (typeof range == \"number\") {\n          range = {from: Pos(range, 0), to: null};\n        } else if (range.from == null) {\n          range = {from: range, to: null};\n        }\n        if (!range.to) { range.to = range.from; }\n        range.margin = margin || 0;\n\n        if (range.from.line != null) {\n          scrollToRange(this, range);\n        } else {\n          scrollToCoordsRange(this, range.from, range.to, range.margin);\n        }\n      }),\n\n      setSize: methodOp(function(width, height) {\n        var this$1 = this;\n\n        var interpret = function (val) { return typeof val == \"number\" || /^\\d+$/.test(String(val)) ? val + \"px\" : val; };\n        if (width != null) { this.display.wrapper.style.width = interpret(width); }\n        if (height != null) { this.display.wrapper.style.height = interpret(height); }\n        if (this.options.lineWrapping) { clearLineMeasurementCache(this); }\n        var lineNo = this.display.viewFrom;\n        this.doc.iter(lineNo, this.display.viewTo, function (line) {\n          if (line.widgets) { for (var i = 0; i < line.widgets.length; i++)\n            { if (line.widgets[i].noHScroll) { regLineChange(this$1, lineNo, \"widget\"); break } } }\n          ++lineNo;\n        });\n        this.curOp.forceUpdate = true;\n        signal(this, \"refresh\", this);\n      }),\n\n      operation: function(f){return runInOp(this, f)},\n      startOperation: function(){return startOperation(this)},\n      endOperation: function(){return endOperation(this)},\n\n      refresh: methodOp(function() {\n        var oldHeight = this.display.cachedTextHeight;\n        regChange(this);\n        this.curOp.forceUpdate = true;\n        clearCaches(this);\n        scrollToCoords(this, this.doc.scrollLeft, this.doc.scrollTop);\n        updateGutterSpace(this.display);\n        if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5 || this.options.lineWrapping)\n          { estimateLineHeights(this); }\n        signal(this, \"refresh\", this);\n      }),\n\n      swapDoc: methodOp(function(doc) {\n        var old = this.doc;\n        old.cm = null;\n        // Cancel the current text selection if any (#5821)\n        if (this.state.selectingText) { this.state.selectingText(); }\n        attachDoc(this, doc);\n        clearCaches(this);\n        this.display.input.reset();\n        scrollToCoords(this, doc.scrollLeft, doc.scrollTop);\n        this.curOp.forceScroll = true;\n        signalLater(this, \"swapDoc\", this, old);\n        return old\n      }),\n\n      phrase: function(phraseText) {\n        var phrases = this.options.phrases;\n        return phrases && Object.prototype.hasOwnProperty.call(phrases, phraseText) ? phrases[phraseText] : phraseText\n      },\n\n      getInputField: function(){return this.display.input.getField()},\n      getWrapperElement: function(){return this.display.wrapper},\n      getScrollerElement: function(){return this.display.scroller},\n      getGutterElement: function(){return this.display.gutters}\n    };\n    eventMixin(CodeMirror);\n\n    CodeMirror.registerHelper = function(type, name, value) {\n      if (!helpers.hasOwnProperty(type)) { helpers[type] = CodeMirror[type] = {_global: []}; }\n      helpers[type][name] = value;\n    };\n    CodeMirror.registerGlobalHelper = function(type, name, predicate, value) {\n      CodeMirror.registerHelper(type, name, value);\n      helpers[type]._global.push({pred: predicate, val: value});\n    };\n  }\n\n  // Used for horizontal relative motion. Dir is -1 or 1 (left or\n  // right), unit can be \"codepoint\", \"char\", \"column\" (like char, but\n  // doesn't cross line boundaries), \"word\" (across next word), or\n  // \"group\" (to the start of next group of word or\n  // non-word-non-whitespace chars). The visually param controls\n  // whether, in right-to-left text, direction 1 means to move towards\n  // the next index in the string, or towards the character to the right\n  // of the current position. The resulting position will have a\n  // hitSide=true property if it reached the end of the document.\n  function findPosH(doc, pos, dir, unit, visually) {\n    var oldPos = pos;\n    var origDir = dir;\n    var lineObj = getLine(doc, pos.line);\n    var lineDir = visually && doc.direction == \"rtl\" ? -dir : dir;\n    function findNextLine() {\n      var l = pos.line + lineDir;\n      if (l < doc.first || l >= doc.first + doc.size) { return false }\n      pos = new Pos(l, pos.ch, pos.sticky);\n      return lineObj = getLine(doc, l)\n    }\n    function moveOnce(boundToLine) {\n      var next;\n      if (unit == \"codepoint\") {\n        var ch = lineObj.text.charCodeAt(pos.ch + (dir > 0 ? 0 : -1));\n        if (isNaN(ch)) {\n          next = null;\n        } else {\n          var astral = dir > 0 ? ch >= 0xD800 && ch < 0xDC00 : ch >= 0xDC00 && ch < 0xDFFF;\n          next = new Pos(pos.line, Math.max(0, Math.min(lineObj.text.length, pos.ch + dir * (astral ? 2 : 1))), -dir);\n        }\n      } else if (visually) {\n        next = moveVisually(doc.cm, lineObj, pos, dir);\n      } else {\n        next = moveLogically(lineObj, pos, dir);\n      }\n      if (next == null) {\n        if (!boundToLine && findNextLine())\n          { pos = endOfLine(visually, doc.cm, lineObj, pos.line, lineDir); }\n        else\n          { return false }\n      } else {\n        pos = next;\n      }\n      return true\n    }\n\n    if (unit == \"char\" || unit == \"codepoint\") {\n      moveOnce();\n    } else if (unit == \"column\") {\n      moveOnce(true);\n    } else if (unit == \"word\" || unit == \"group\") {\n      var sawType = null, group = unit == \"group\";\n      var helper = doc.cm && doc.cm.getHelper(pos, \"wordChars\");\n      for (var first = true;; first = false) {\n        if (dir < 0 && !moveOnce(!first)) { break }\n        var cur = lineObj.text.charAt(pos.ch) || \"\\n\";\n        var type = isWordChar(cur, helper) ? \"w\"\n          : group && cur == \"\\n\" ? \"n\"\n          : !group || /\\s/.test(cur) ? null\n          : \"p\";\n        if (group && !first && !type) { type = \"s\"; }\n        if (sawType && sawType != type) {\n          if (dir < 0) {dir = 1; moveOnce(); pos.sticky = \"after\";}\n          break\n        }\n\n        if (type) { sawType = type; }\n        if (dir > 0 && !moveOnce(!first)) { break }\n      }\n    }\n    var result = skipAtomic(doc, pos, oldPos, origDir, true);\n    if (equalCursorPos(oldPos, result)) { result.hitSide = true; }\n    return result\n  }\n\n  // For relative vertical movement. Dir may be -1 or 1. Unit can be\n  // \"page\" or \"line\". The resulting position will have a hitSide=true\n  // property if it reached the end of the document.\n  function findPosV(cm, pos, dir, unit) {\n    var doc = cm.doc, x = pos.left, y;\n    if (unit == \"page\") {\n      var pageSize = Math.min(cm.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight);\n      var moveAmount = Math.max(pageSize - .5 * textHeight(cm.display), 3);\n      y = (dir > 0 ? pos.bottom : pos.top) + dir * moveAmount;\n\n    } else if (unit == \"line\") {\n      y = dir > 0 ? pos.bottom + 3 : pos.top - 3;\n    }\n    var target;\n    for (;;) {\n      target = coordsChar(cm, x, y);\n      if (!target.outside) { break }\n      if (dir < 0 ? y <= 0 : y >= doc.height) { target.hitSide = true; break }\n      y += dir * 5;\n    }\n    return target\n  }\n\n  // CONTENTEDITABLE INPUT STYLE\n\n  var ContentEditableInput = function(cm) {\n    this.cm = cm;\n    this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null;\n    this.polling = new Delayed();\n    this.composing = null;\n    this.gracePeriod = false;\n    this.readDOMTimeout = null;\n  };\n\n  ContentEditableInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = input.cm;\n    var div = input.div = display.lineDiv;\n    div.contentEditable = true;\n    disableBrowserMagic(div, cm.options.spellcheck, cm.options.autocorrect, cm.options.autocapitalize);\n\n    function belongsToInput(e) {\n      for (var t = e.target; t; t = t.parentNode) {\n        if (t == div) { return true }\n        if (/\\bCodeMirror-(?:line)?widget\\b/.test(t.className)) { break }\n      }\n      return false\n    }\n\n    on(div, \"paste\", function (e) {\n      if (!belongsToInput(e) || signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n      // IE doesn't fire input events, so we schedule a read for the pasted content in this way\n      if (ie_version <= 11) { setTimeout(operation(cm, function () { return this$1.updateFromDOM(); }), 20); }\n    });\n\n    on(div, \"compositionstart\", function (e) {\n      this$1.composing = {data: e.data, done: false};\n    });\n    on(div, \"compositionupdate\", function (e) {\n      if (!this$1.composing) { this$1.composing = {data: e.data, done: false}; }\n    });\n    on(div, \"compositionend\", function (e) {\n      if (this$1.composing) {\n        if (e.data != this$1.composing.data) { this$1.readFromDOMSoon(); }\n        this$1.composing.done = true;\n      }\n    });\n\n    on(div, \"touchstart\", function () { return input.forceCompositionEnd(); });\n\n    on(div, \"input\", function () {\n      if (!this$1.composing) { this$1.readFromDOMSoon(); }\n    });\n\n    function onCopyCut(e) {\n      if (!belongsToInput(e) || signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n        if (e.type == \"cut\") { cm.replaceSelection(\"\", null, \"cut\"); }\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.operation(function () {\n            cm.setSelections(ranges.ranges, 0, sel_dontScroll);\n            cm.replaceSelection(\"\", null, \"cut\");\n          });\n        }\n      }\n      if (e.clipboardData) {\n        e.clipboardData.clearData();\n        var content = lastCopied.text.join(\"\\n\");\n        // iOS exposes the clipboard API, but seems to discard content inserted into it\n        e.clipboardData.setData(\"Text\", content);\n        if (e.clipboardData.getData(\"Text\") == content) {\n          e.preventDefault();\n          return\n        }\n      }\n      // Old-fashioned briefly-focus-a-textarea hack\n      var kludge = hiddenTextarea(), te = kludge.firstChild;\n      cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild);\n      te.value = lastCopied.text.join(\"\\n\");\n      var hadFocus = activeElt();\n      selectInput(te);\n      setTimeout(function () {\n        cm.display.lineSpace.removeChild(kludge);\n        hadFocus.focus();\n        if (hadFocus == div) { input.showPrimarySelection(); }\n      }, 50);\n    }\n    on(div, \"copy\", onCopyCut);\n    on(div, \"cut\", onCopyCut);\n  };\n\n  ContentEditableInput.prototype.screenReaderLabelChanged = function (label) {\n    // Label for screenreaders, accessibility\n    if(label) {\n      this.div.setAttribute('aria-label', label);\n    } else {\n      this.div.removeAttribute('aria-label');\n    }\n  };\n\n  ContentEditableInput.prototype.prepareSelection = function () {\n    var result = prepareSelection(this.cm, false);\n    result.focus = activeElt() == this.div;\n    return result\n  };\n\n  ContentEditableInput.prototype.showSelection = function (info, takeFocus) {\n    if (!info || !this.cm.display.view.length) { return }\n    if (info.focus || takeFocus) { this.showPrimarySelection(); }\n    this.showMultipleSelections(info);\n  };\n\n  ContentEditableInput.prototype.getSelection = function () {\n    return this.cm.display.wrapper.ownerDocument.getSelection()\n  };\n\n  ContentEditableInput.prototype.showPrimarySelection = function () {\n    var sel = this.getSelection(), cm = this.cm, prim = cm.doc.sel.primary();\n    var from = prim.from(), to = prim.to();\n\n    if (cm.display.viewTo == cm.display.viewFrom || from.line >= cm.display.viewTo || to.line < cm.display.viewFrom) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var curAnchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var curFocus = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad &&\n        cmp(minPos(curAnchor, curFocus), from) == 0 &&\n        cmp(maxPos(curAnchor, curFocus), to) == 0)\n      { return }\n\n    var view = cm.display.view;\n    var start = (from.line >= cm.display.viewFrom && posToDOM(cm, from)) ||\n        {node: view[0].measure.map[2], offset: 0};\n    var end = to.line < cm.display.viewTo && posToDOM(cm, to);\n    if (!end) {\n      var measure = view[view.length - 1].measure;\n      var map = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map;\n      end = {node: map[map.length - 1], offset: map[map.length - 2] - map[map.length - 3]};\n    }\n\n    if (!start || !end) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var old = sel.rangeCount && sel.getRangeAt(0), rng;\n    try { rng = range(start.node, start.offset, end.offset, end.node); }\n    catch(e) {} // Our model of the DOM might be outdated, in which case the range we try to set can be impossible\n    if (rng) {\n      if (!gecko && cm.state.focused) {\n        sel.collapse(start.node, start.offset);\n        if (!rng.collapsed) {\n          sel.removeAllRanges();\n          sel.addRange(rng);\n        }\n      } else {\n        sel.removeAllRanges();\n        sel.addRange(rng);\n      }\n      if (old && sel.anchorNode == null) { sel.addRange(old); }\n      else if (gecko) { this.startGracePeriod(); }\n    }\n    this.rememberSelection();\n  };\n\n  ContentEditableInput.prototype.startGracePeriod = function () {\n      var this$1 = this;\n\n    clearTimeout(this.gracePeriod);\n    this.gracePeriod = setTimeout(function () {\n      this$1.gracePeriod = false;\n      if (this$1.selectionChanged())\n        { this$1.cm.operation(function () { return this$1.cm.curOp.selectionChanged = true; }); }\n    }, 20);\n  };\n\n  ContentEditableInput.prototype.showMultipleSelections = function (info) {\n    removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors);\n    removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection);\n  };\n\n  ContentEditableInput.prototype.rememberSelection = function () {\n    var sel = this.getSelection();\n    this.lastAnchorNode = sel.anchorNode; this.lastAnchorOffset = sel.anchorOffset;\n    this.lastFocusNode = sel.focusNode; this.lastFocusOffset = sel.focusOffset;\n  };\n\n  ContentEditableInput.prototype.selectionInEditor = function () {\n    var sel = this.getSelection();\n    if (!sel.rangeCount) { return false }\n    var node = sel.getRangeAt(0).commonAncestorContainer;\n    return contains(this.div, node)\n  };\n\n  ContentEditableInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\") {\n      if (!this.selectionInEditor() || activeElt() != this.div)\n        { this.showSelection(this.prepareSelection(), true); }\n      this.div.focus();\n    }\n  };\n  ContentEditableInput.prototype.blur = function () { this.div.blur(); };\n  ContentEditableInput.prototype.getField = function () { return this.div };\n\n  ContentEditableInput.prototype.supportsTouch = function () { return true };\n\n  ContentEditableInput.prototype.receivedFocus = function () {\n      var this$1 = this;\n\n    var input = this;\n    if (this.selectionInEditor())\n      { setTimeout(function () { return this$1.pollSelection(); }, 20); }\n    else\n      { runInOp(this.cm, function () { return input.cm.curOp.selectionChanged = true; }); }\n\n    function poll() {\n      if (input.cm.state.focused) {\n        input.pollSelection();\n        input.polling.set(input.cm.options.pollInterval, poll);\n      }\n    }\n    this.polling.set(this.cm.options.pollInterval, poll);\n  };\n\n  ContentEditableInput.prototype.selectionChanged = function () {\n    var sel = this.getSelection();\n    return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset ||\n      sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset\n  };\n\n  ContentEditableInput.prototype.pollSelection = function () {\n    if (this.readDOMTimeout != null || this.gracePeriod || !this.selectionChanged()) { return }\n    var sel = this.getSelection(), cm = this.cm;\n    // On Android Chrome (version 56, at least), backspacing into an\n    // uneditable block element will put the cursor in that element,\n    // and then, because it's not editable, hide the virtual keyboard.\n    // Because Android doesn't allow us to actually detect backspace\n    // presses in a sane way, this code checks for when that happens\n    // and simulates a backspace press in this case.\n    if (android && chrome && this.cm.display.gutterSpecs.length && isInGutter(sel.anchorNode)) {\n      this.cm.triggerOnKeyDown({type: \"keydown\", keyCode: 8, preventDefault: Math.abs});\n      this.blur();\n      this.focus();\n      return\n    }\n    if (this.composing) { return }\n    this.rememberSelection();\n    var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var head = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (anchor && head) { runInOp(cm, function () {\n      setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll);\n      if (anchor.bad || head.bad) { cm.curOp.selectionChanged = true; }\n    }); }\n  };\n\n  ContentEditableInput.prototype.pollContent = function () {\n    if (this.readDOMTimeout != null) {\n      clearTimeout(this.readDOMTimeout);\n      this.readDOMTimeout = null;\n    }\n\n    var cm = this.cm, display = cm.display, sel = cm.doc.sel.primary();\n    var from = sel.from(), to = sel.to();\n    if (from.ch == 0 && from.line > cm.firstLine())\n      { from = Pos(from.line - 1, getLine(cm.doc, from.line - 1).length); }\n    if (to.ch == getLine(cm.doc, to.line).text.length && to.line < cm.lastLine())\n      { to = Pos(to.line + 1, 0); }\n    if (from.line < display.viewFrom || to.line > display.viewTo - 1) { return false }\n\n    var fromIndex, fromLine, fromNode;\n    if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {\n      fromLine = lineNo(display.view[0].line);\n      fromNode = display.view[0].node;\n    } else {\n      fromLine = lineNo(display.view[fromIndex].line);\n      fromNode = display.view[fromIndex - 1].node.nextSibling;\n    }\n    var toIndex = findViewIndex(cm, to.line);\n    var toLine, toNode;\n    if (toIndex == display.view.length - 1) {\n      toLine = display.viewTo - 1;\n      toNode = display.lineDiv.lastChild;\n    } else {\n      toLine = lineNo(display.view[toIndex + 1].line) - 1;\n      toNode = display.view[toIndex + 1].node.previousSibling;\n    }\n\n    if (!fromNode) { return false }\n    var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine));\n    var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length));\n    while (newText.length > 1 && oldText.length > 1) {\n      if (lst(newText) == lst(oldText)) { newText.pop(); oldText.pop(); toLine--; }\n      else if (newText[0] == oldText[0]) { newText.shift(); oldText.shift(); fromLine++; }\n      else { break }\n    }\n\n    var cutFront = 0, cutEnd = 0;\n    var newTop = newText[0], oldTop = oldText[0], maxCutFront = Math.min(newTop.length, oldTop.length);\n    while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront))\n      { ++cutFront; }\n    var newBot = lst(newText), oldBot = lst(oldText);\n    var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0),\n                             oldBot.length - (oldText.length == 1 ? cutFront : 0));\n    while (cutEnd < maxCutEnd &&\n           newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1))\n      { ++cutEnd; }\n    // Try to move start of change to start of selection if ambiguous\n    if (newText.length == 1 && oldText.length == 1 && fromLine == from.line) {\n      while (cutFront && cutFront > from.ch &&\n             newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1)) {\n        cutFront--;\n        cutEnd++;\n      }\n    }\n\n    newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd).replace(/^\\u200b+/, \"\");\n    newText[0] = newText[0].slice(cutFront).replace(/\\u200b+$/, \"\");\n\n    var chFrom = Pos(fromLine, cutFront);\n    var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0);\n    if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {\n      replaceRange(cm.doc, newText, chFrom, chTo, \"+input\");\n      return true\n    }\n  };\n\n  ContentEditableInput.prototype.ensurePolled = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.reset = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.forceCompositionEnd = function () {\n    if (!this.composing) { return }\n    clearTimeout(this.readDOMTimeout);\n    this.composing = null;\n    this.updateFromDOM();\n    this.div.blur();\n    this.div.focus();\n  };\n  ContentEditableInput.prototype.readFromDOMSoon = function () {\n      var this$1 = this;\n\n    if (this.readDOMTimeout != null) { return }\n    this.readDOMTimeout = setTimeout(function () {\n      this$1.readDOMTimeout = null;\n      if (this$1.composing) {\n        if (this$1.composing.done) { this$1.composing = null; }\n        else { return }\n      }\n      this$1.updateFromDOM();\n    }, 80);\n  };\n\n  ContentEditableInput.prototype.updateFromDOM = function () {\n      var this$1 = this;\n\n    if (this.cm.isReadOnly() || !this.pollContent())\n      { runInOp(this.cm, function () { return regChange(this$1.cm); }); }\n  };\n\n  ContentEditableInput.prototype.setUneditable = function (node) {\n    node.contentEditable = \"false\";\n  };\n\n  ContentEditableInput.prototype.onKeyPress = function (e) {\n    if (e.charCode == 0 || this.composing) { return }\n    e.preventDefault();\n    if (!this.cm.isReadOnly())\n      { operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0); }\n  };\n\n  ContentEditableInput.prototype.readOnlyChanged = function (val) {\n    this.div.contentEditable = String(val != \"nocursor\");\n  };\n\n  ContentEditableInput.prototype.onContextMenu = function () {};\n  ContentEditableInput.prototype.resetPosition = function () {};\n\n  ContentEditableInput.prototype.needsContentAttribute = true;\n\n  function posToDOM(cm, pos) {\n    var view = findViewForLine(cm, pos.line);\n    if (!view || view.hidden) { return null }\n    var line = getLine(cm.doc, pos.line);\n    var info = mapFromLineView(view, line, pos.line);\n\n    var order = getOrder(line, cm.doc.direction), side = \"left\";\n    if (order) {\n      var partPos = getBidiPartAt(order, pos.ch);\n      side = partPos % 2 ? \"right\" : \"left\";\n    }\n    var result = nodeAndOffsetInLineMap(info.map, pos.ch, side);\n    result.offset = result.collapse == \"right\" ? result.end : result.start;\n    return result\n  }\n\n  function isInGutter(node) {\n    for (var scan = node; scan; scan = scan.parentNode)\n      { if (/CodeMirror-gutter-wrapper/.test(scan.className)) { return true } }\n    return false\n  }\n\n  function badPos(pos, bad) { if (bad) { pos.bad = true; } return pos }\n\n  function domTextBetween(cm, from, to, fromLine, toLine) {\n    var text = \"\", closing = false, lineSep = cm.doc.lineSeparator(), extraLinebreak = false;\n    function recognizeMarker(id) { return function (marker) { return marker.id == id; } }\n    function close() {\n      if (closing) {\n        text += lineSep;\n        if (extraLinebreak) { text += lineSep; }\n        closing = extraLinebreak = false;\n      }\n    }\n    function addText(str) {\n      if (str) {\n        close();\n        text += str;\n      }\n    }\n    function walk(node) {\n      if (node.nodeType == 1) {\n        var cmText = node.getAttribute(\"cm-text\");\n        if (cmText) {\n          addText(cmText);\n          return\n        }\n        var markerID = node.getAttribute(\"cm-marker\"), range;\n        if (markerID) {\n          var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID));\n          if (found.length && (range = found[0].find(0)))\n            { addText(getBetween(cm.doc, range.from, range.to).join(lineSep)); }\n          return\n        }\n        if (node.getAttribute(\"contenteditable\") == \"false\") { return }\n        var isBlock = /^(pre|div|p|li|table|br)$/i.test(node.nodeName);\n        if (!/^br$/i.test(node.nodeName) && node.textContent.length == 0) { return }\n\n        if (isBlock) { close(); }\n        for (var i = 0; i < node.childNodes.length; i++)\n          { walk(node.childNodes[i]); }\n\n        if (/^(pre|p)$/i.test(node.nodeName)) { extraLinebreak = true; }\n        if (isBlock) { closing = true; }\n      } else if (node.nodeType == 3) {\n        addText(node.nodeValue.replace(/\\u200b/g, \"\").replace(/\\u00a0/g, \" \"));\n      }\n    }\n    for (;;) {\n      walk(from);\n      if (from == to) { break }\n      from = from.nextSibling;\n      extraLinebreak = false;\n    }\n    return text\n  }\n\n  function domToPos(cm, node, offset) {\n    var lineNode;\n    if (node == cm.display.lineDiv) {\n      lineNode = cm.display.lineDiv.childNodes[offset];\n      if (!lineNode) { return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true) }\n      node = null; offset = 0;\n    } else {\n      for (lineNode = node;; lineNode = lineNode.parentNode) {\n        if (!lineNode || lineNode == cm.display.lineDiv) { return null }\n        if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) { break }\n      }\n    }\n    for (var i = 0; i < cm.display.view.length; i++) {\n      var lineView = cm.display.view[i];\n      if (lineView.node == lineNode)\n        { return locateNodeInLineView(lineView, node, offset) }\n    }\n  }\n\n  function locateNodeInLineView(lineView, node, offset) {\n    var wrapper = lineView.text.firstChild, bad = false;\n    if (!node || !contains(wrapper, node)) { return badPos(Pos(lineNo(lineView.line), 0), true) }\n    if (node == wrapper) {\n      bad = true;\n      node = wrapper.childNodes[offset];\n      offset = 0;\n      if (!node) {\n        var line = lineView.rest ? lst(lineView.rest) : lineView.line;\n        return badPos(Pos(lineNo(line), line.text.length), bad)\n      }\n    }\n\n    var textNode = node.nodeType == 3 ? node : null, topNode = node;\n    if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {\n      textNode = node.firstChild;\n      if (offset) { offset = textNode.nodeValue.length; }\n    }\n    while (topNode.parentNode != wrapper) { topNode = topNode.parentNode; }\n    var measure = lineView.measure, maps = measure.maps;\n\n    function find(textNode, topNode, offset) {\n      for (var i = -1; i < (maps ? maps.length : 0); i++) {\n        var map = i < 0 ? measure.map : maps[i];\n        for (var j = 0; j < map.length; j += 3) {\n          var curNode = map[j + 2];\n          if (curNode == textNode || curNode == topNode) {\n            var line = lineNo(i < 0 ? lineView.line : lineView.rest[i]);\n            var ch = map[j] + offset;\n            if (offset < 0 || curNode != textNode) { ch = map[j + (offset ? 1 : 0)]; }\n            return Pos(line, ch)\n          }\n        }\n      }\n    }\n    var found = find(textNode, topNode, offset);\n    if (found) { return badPos(found, bad) }\n\n    // FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems\n    for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {\n      found = find(after, after.firstChild, 0);\n      if (found)\n        { return badPos(Pos(found.line, found.ch - dist), bad) }\n      else\n        { dist += after.textContent.length; }\n    }\n    for (var before = topNode.previousSibling, dist$1 = offset; before; before = before.previousSibling) {\n      found = find(before, before.firstChild, -1);\n      if (found)\n        { return badPos(Pos(found.line, found.ch + dist$1), bad) }\n      else\n        { dist$1 += before.textContent.length; }\n    }\n  }\n\n  // TEXTAREA INPUT STYLE\n\n  var TextareaInput = function(cm) {\n    this.cm = cm;\n    // See input.poll and input.reset\n    this.prevInput = \"\";\n\n    // Flag that indicates whether we expect input to appear real soon\n    // now (after some event like 'keypress' or 'input') and are\n    // polling intensively.\n    this.pollingFast = false;\n    // Self-resetting timeout for the poller\n    this.polling = new Delayed();\n    // Used to work around IE issue with selection being forgotten when focus moves away from textarea\n    this.hasSelection = false;\n    this.composing = null;\n  };\n\n  TextareaInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = this.cm;\n    this.createField(display);\n    var te = this.textarea;\n\n    display.wrapper.insertBefore(this.wrapper, display.wrapper.firstChild);\n\n    // Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)\n    if (ios) { te.style.width = \"0px\"; }\n\n    on(te, \"input\", function () {\n      if (ie && ie_version >= 9 && this$1.hasSelection) { this$1.hasSelection = null; }\n      input.poll();\n    });\n\n    on(te, \"paste\", function (e) {\n      if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n\n      cm.state.pasteIncoming = +new Date;\n      input.fastPoll();\n    });\n\n    function prepareCopyCut(e) {\n      if (signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.setSelections(ranges.ranges, null, sel_dontScroll);\n        } else {\n          input.prevInput = \"\";\n          te.value = ranges.text.join(\"\\n\");\n          selectInput(te);\n        }\n      }\n      if (e.type == \"cut\") { cm.state.cutIncoming = +new Date; }\n    }\n    on(te, \"cut\", prepareCopyCut);\n    on(te, \"copy\", prepareCopyCut);\n\n    on(display.scroller, \"paste\", function (e) {\n      if (eventInWidget(display, e) || signalDOMEvent(cm, e)) { return }\n      if (!te.dispatchEvent) {\n        cm.state.pasteIncoming = +new Date;\n        input.focus();\n        return\n      }\n\n      // Pass the `paste` event to the textarea so it's handled by its event listener.\n      var event = new Event(\"paste\");\n      event.clipboardData = e.clipboardData;\n      te.dispatchEvent(event);\n    });\n\n    // Prevent normal selection in the editor (we handle our own)\n    on(display.lineSpace, \"selectstart\", function (e) {\n      if (!eventInWidget(display, e)) { e_preventDefault(e); }\n    });\n\n    on(te, \"compositionstart\", function () {\n      var start = cm.getCursor(\"from\");\n      if (input.composing) { input.composing.range.clear(); }\n      input.composing = {\n        start: start,\n        range: cm.markText(start, cm.getCursor(\"to\"), {className: \"CodeMirror-composing\"})\n      };\n    });\n    on(te, \"compositionend\", function () {\n      if (input.composing) {\n        input.poll();\n        input.composing.range.clear();\n        input.composing = null;\n      }\n    });\n  };\n\n  TextareaInput.prototype.createField = function (_display) {\n    // Wraps and hides input textarea\n    this.wrapper = hiddenTextarea();\n    // The semihidden textarea that is focused when the editor is\n    // focused, and receives input.\n    this.textarea = this.wrapper.firstChild;\n  };\n\n  TextareaInput.prototype.screenReaderLabelChanged = function (label) {\n    // Label for screenreaders, accessibility\n    if(label) {\n      this.textarea.setAttribute('aria-label', label);\n    } else {\n      this.textarea.removeAttribute('aria-label');\n    }\n  };\n\n  TextareaInput.prototype.prepareSelection = function () {\n    // Redraw the selection and/or cursor\n    var cm = this.cm, display = cm.display, doc = cm.doc;\n    var result = prepareSelection(cm);\n\n    // Move the hidden textarea near the cursor to prevent scrolling artifacts\n    if (cm.options.moveInputWithCursor) {\n      var headPos = cursorCoords(cm, doc.sel.primary().head, \"div\");\n      var wrapOff = display.wrapper.getBoundingClientRect(), lineOff = display.lineDiv.getBoundingClientRect();\n      result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10,\n                                          headPos.top + lineOff.top - wrapOff.top));\n      result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10,\n                                           headPos.left + lineOff.left - wrapOff.left));\n    }\n\n    return result\n  };\n\n  TextareaInput.prototype.showSelection = function (drawn) {\n    var cm = this.cm, display = cm.display;\n    removeChildrenAndAdd(display.cursorDiv, drawn.cursors);\n    removeChildrenAndAdd(display.selectionDiv, drawn.selection);\n    if (drawn.teTop != null) {\n      this.wrapper.style.top = drawn.teTop + \"px\";\n      this.wrapper.style.left = drawn.teLeft + \"px\";\n    }\n  };\n\n  // Reset the input to correspond to the selection (or to be empty,\n  // when not typing and nothing is selected)\n  TextareaInput.prototype.reset = function (typing) {\n    if (this.contextMenuPending || this.composing) { return }\n    var cm = this.cm;\n    if (cm.somethingSelected()) {\n      this.prevInput = \"\";\n      var content = cm.getSelection();\n      this.textarea.value = content;\n      if (cm.state.focused) { selectInput(this.textarea); }\n      if (ie && ie_version >= 9) { this.hasSelection = content; }\n    } else if (!typing) {\n      this.prevInput = this.textarea.value = \"\";\n      if (ie && ie_version >= 9) { this.hasSelection = null; }\n    }\n  };\n\n  TextareaInput.prototype.getField = function () { return this.textarea };\n\n  TextareaInput.prototype.supportsTouch = function () { return false };\n\n  TextareaInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\" && (!mobile || activeElt() != this.textarea)) {\n      try { this.textarea.focus(); }\n      catch (e) {} // IE8 will throw if the textarea is display: none or not in DOM\n    }\n  };\n\n  TextareaInput.prototype.blur = function () { this.textarea.blur(); };\n\n  TextareaInput.prototype.resetPosition = function () {\n    this.wrapper.style.top = this.wrapper.style.left = 0;\n  };\n\n  TextareaInput.prototype.receivedFocus = function () { this.slowPoll(); };\n\n  // Poll for input changes, using the normal rate of polling. This\n  // runs as long as the editor is focused.\n  TextareaInput.prototype.slowPoll = function () {\n      var this$1 = this;\n\n    if (this.pollingFast) { return }\n    this.polling.set(this.cm.options.pollInterval, function () {\n      this$1.poll();\n      if (this$1.cm.state.focused) { this$1.slowPoll(); }\n    });\n  };\n\n  // When an event has just come in that is likely to add or change\n  // something in the input textarea, we poll faster, to ensure that\n  // the change appears on the screen quickly.\n  TextareaInput.prototype.fastPoll = function () {\n    var missed = false, input = this;\n    input.pollingFast = true;\n    function p() {\n      var changed = input.poll();\n      if (!changed && !missed) {missed = true; input.polling.set(60, p);}\n      else {input.pollingFast = false; input.slowPoll();}\n    }\n    input.polling.set(20, p);\n  };\n\n  // Read input from the textarea, and update the document to match.\n  // When something is selected, it is present in the textarea, and\n  // selected (unless it is huge, in which case a placeholder is\n  // used). When nothing is selected, the cursor sits after previously\n  // seen text (can be empty), which is stored in prevInput (we must\n  // not reset the textarea when typing, because that breaks IME).\n  TextareaInput.prototype.poll = function () {\n      var this$1 = this;\n\n    var cm = this.cm, input = this.textarea, prevInput = this.prevInput;\n    // Since this is called a *lot*, try to bail out as cheaply as\n    // possible when it is clear that nothing happened. hasSelection\n    // will be the case when there is a lot of text in the textarea,\n    // in which case reading its value would be expensive.\n    if (this.contextMenuPending || !cm.state.focused ||\n        (hasSelection(input) && !prevInput && !this.composing) ||\n        cm.isReadOnly() || cm.options.disableInput || cm.state.keySeq)\n      { return false }\n\n    var text = input.value;\n    // If nothing changed, bail.\n    if (text == prevInput && !cm.somethingSelected()) { return false }\n    // Work around nonsensical selection resetting in IE9/10, and\n    // inexplicable appearance of private area unicode characters on\n    // some key combos in Mac (#2689).\n    if (ie && ie_version >= 9 && this.hasSelection === text ||\n        mac && /[\\uf700-\\uf7ff]/.test(text)) {\n      cm.display.input.reset();\n      return false\n    }\n\n    if (cm.doc.sel == cm.display.selForContextMenu) {\n      var first = text.charCodeAt(0);\n      if (first == 0x200b && !prevInput) { prevInput = \"\\u200b\"; }\n      if (first == 0x21da) { this.reset(); return this.cm.execCommand(\"undo\") }\n    }\n    // Find the part of the input that is actually new\n    var same = 0, l = Math.min(prevInput.length, text.length);\n    while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) { ++same; }\n\n    runInOp(cm, function () {\n      applyTextInput(cm, text.slice(same), prevInput.length - same,\n                     null, this$1.composing ? \"*compose\" : null);\n\n      // Don't leave long text in the textarea, since it makes further polling slow\n      if (text.length > 1000 || text.indexOf(\"\\n\") > -1) { input.value = this$1.prevInput = \"\"; }\n      else { this$1.prevInput = text; }\n\n      if (this$1.composing) {\n        this$1.composing.range.clear();\n        this$1.composing.range = cm.markText(this$1.composing.start, cm.getCursor(\"to\"),\n                                           {className: \"CodeMirror-composing\"});\n      }\n    });\n    return true\n  };\n\n  TextareaInput.prototype.ensurePolled = function () {\n    if (this.pollingFast && this.poll()) { this.pollingFast = false; }\n  };\n\n  TextareaInput.prototype.onKeyPress = function () {\n    if (ie && ie_version >= 9) { this.hasSelection = null; }\n    this.fastPoll();\n  };\n\n  TextareaInput.prototype.onContextMenu = function (e) {\n    var input = this, cm = input.cm, display = cm.display, te = input.textarea;\n    if (input.contextMenuPending) { input.contextMenuPending(); }\n    var pos = posFromMouse(cm, e), scrollPos = display.scroller.scrollTop;\n    if (!pos || presto) { return } // Opera is difficult.\n\n    // Reset the current text selection only if the click is done outside of the selection\n    // and 'resetSelectionOnContextMenu' option is true.\n    var reset = cm.options.resetSelectionOnContextMenu;\n    if (reset && cm.doc.sel.contains(pos) == -1)\n      { operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll); }\n\n    var oldCSS = te.style.cssText, oldWrapperCSS = input.wrapper.style.cssText;\n    var wrapperBox = input.wrapper.offsetParent.getBoundingClientRect();\n    input.wrapper.style.cssText = \"position: static\";\n    te.style.cssText = \"position: absolute; width: 30px; height: 30px;\\n      top: \" + (e.clientY - wrapperBox.top - 5) + \"px; left: \" + (e.clientX - wrapperBox.left - 5) + \"px;\\n      z-index: 1000; background: \" + (ie ? \"rgba(255, 255, 255, .05)\" : \"transparent\") + \";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\";\n    var oldScrollY;\n    if (webkit) { oldScrollY = window.scrollY; } // Work around Chrome issue (#2712)\n    display.input.focus();\n    if (webkit) { window.scrollTo(null, oldScrollY); }\n    display.input.reset();\n    // Adds \"Select all\" to context menu in FF\n    if (!cm.somethingSelected()) { te.value = input.prevInput = \" \"; }\n    input.contextMenuPending = rehide;\n    display.selForContextMenu = cm.doc.sel;\n    clearTimeout(display.detectingSelectAll);\n\n    // Select-all will be greyed out if there's nothing to select, so\n    // this adds a zero-width space so that we can later check whether\n    // it got selected.\n    function prepareSelectAllHack() {\n      if (te.selectionStart != null) {\n        var selected = cm.somethingSelected();\n        var extval = \"\\u200b\" + (selected ? te.value : \"\");\n        te.value = \"\\u21da\"; // Used to catch context-menu undo\n        te.value = extval;\n        input.prevInput = selected ? \"\" : \"\\u200b\";\n        te.selectionStart = 1; te.selectionEnd = extval.length;\n        // Re-set this, in case some other handler touched the\n        // selection in the meantime.\n        display.selForContextMenu = cm.doc.sel;\n      }\n    }\n    function rehide() {\n      if (input.contextMenuPending != rehide) { return }\n      input.contextMenuPending = false;\n      input.wrapper.style.cssText = oldWrapperCSS;\n      te.style.cssText = oldCSS;\n      if (ie && ie_version < 9) { display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos); }\n\n      // Try to detect the user choosing select-all\n      if (te.selectionStart != null) {\n        if (!ie || (ie && ie_version < 9)) { prepareSelectAllHack(); }\n        var i = 0, poll = function () {\n          if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 &&\n              te.selectionEnd > 0 && input.prevInput == \"\\u200b\") {\n            operation(cm, selectAll)(cm);\n          } else if (i++ < 10) {\n            display.detectingSelectAll = setTimeout(poll, 500);\n          } else {\n            display.selForContextMenu = null;\n            display.input.reset();\n          }\n        };\n        display.detectingSelectAll = setTimeout(poll, 200);\n      }\n    }\n\n    if (ie && ie_version >= 9) { prepareSelectAllHack(); }\n    if (captureRightClick) {\n      e_stop(e);\n      var mouseup = function () {\n        off(window, \"mouseup\", mouseup);\n        setTimeout(rehide, 20);\n      };\n      on(window, \"mouseup\", mouseup);\n    } else {\n      setTimeout(rehide, 50);\n    }\n  };\n\n  TextareaInput.prototype.readOnlyChanged = function (val) {\n    if (!val) { this.reset(); }\n    this.textarea.disabled = val == \"nocursor\";\n    this.textarea.readOnly = !!val;\n  };\n\n  TextareaInput.prototype.setUneditable = function () {};\n\n  TextareaInput.prototype.needsContentAttribute = false;\n\n  function fromTextArea(textarea, options) {\n    options = options ? copyObj(options) : {};\n    options.value = textarea.value;\n    if (!options.tabindex && textarea.tabIndex)\n      { options.tabindex = textarea.tabIndex; }\n    if (!options.placeholder && textarea.placeholder)\n      { options.placeholder = textarea.placeholder; }\n    // Set autofocus to true if this textarea is focused, or if it has\n    // autofocus and no other element is focused.\n    if (options.autofocus == null) {\n      var hasFocus = activeElt();\n      options.autofocus = hasFocus == textarea ||\n        textarea.getAttribute(\"autofocus\") != null && hasFocus == document.body;\n    }\n\n    function save() {textarea.value = cm.getValue();}\n\n    var realSubmit;\n    if (textarea.form) {\n      on(textarea.form, \"submit\", save);\n      // Deplorable hack to make the submit method do the right thing.\n      if (!options.leaveSubmitMethodAlone) {\n        var form = textarea.form;\n        realSubmit = form.submit;\n        try {\n          var wrappedSubmit = form.submit = function () {\n            save();\n            form.submit = realSubmit;\n            form.submit();\n            form.submit = wrappedSubmit;\n          };\n        } catch(e) {}\n      }\n    }\n\n    options.finishInit = function (cm) {\n      cm.save = save;\n      cm.getTextArea = function () { return textarea; };\n      cm.toTextArea = function () {\n        cm.toTextArea = isNaN; // Prevent this from being ran twice\n        save();\n        textarea.parentNode.removeChild(cm.getWrapperElement());\n        textarea.style.display = \"\";\n        if (textarea.form) {\n          off(textarea.form, \"submit\", save);\n          if (!options.leaveSubmitMethodAlone && typeof textarea.form.submit == \"function\")\n            { textarea.form.submit = realSubmit; }\n        }\n      };\n    };\n\n    textarea.style.display = \"none\";\n    var cm = CodeMirror(function (node) { return textarea.parentNode.insertBefore(node, textarea.nextSibling); },\n      options);\n    return cm\n  }\n\n  function addLegacyProps(CodeMirror) {\n    CodeMirror.off = off;\n    CodeMirror.on = on;\n    CodeMirror.wheelEventPixels = wheelEventPixels;\n    CodeMirror.Doc = Doc;\n    CodeMirror.splitLines = splitLinesAuto;\n    CodeMirror.countColumn = countColumn;\n    CodeMirror.findColumn = findColumn;\n    CodeMirror.isWordChar = isWordCharBasic;\n    CodeMirror.Pass = Pass;\n    CodeMirror.signal = signal;\n    CodeMirror.Line = Line;\n    CodeMirror.changeEnd = changeEnd;\n    CodeMirror.scrollbarModel = scrollbarModel;\n    CodeMirror.Pos = Pos;\n    CodeMirror.cmpPos = cmp;\n    CodeMirror.modes = modes;\n    CodeMirror.mimeModes = mimeModes;\n    CodeMirror.resolveMode = resolveMode;\n    CodeMirror.getMode = getMode;\n    CodeMirror.modeExtensions = modeExtensions;\n    CodeMirror.extendMode = extendMode;\n    CodeMirror.copyState = copyState;\n    CodeMirror.startState = startState;\n    CodeMirror.innerMode = innerMode;\n    CodeMirror.commands = commands;\n    CodeMirror.keyMap = keyMap;\n    CodeMirror.keyName = keyName;\n    CodeMirror.isModifierKey = isModifierKey;\n    CodeMirror.lookupKey = lookupKey;\n    CodeMirror.normalizeKeyMap = normalizeKeyMap;\n    CodeMirror.StringStream = StringStream;\n    CodeMirror.SharedTextMarker = SharedTextMarker;\n    CodeMirror.TextMarker = TextMarker;\n    CodeMirror.LineWidget = LineWidget;\n    CodeMirror.e_preventDefault = e_preventDefault;\n    CodeMirror.e_stopPropagation = e_stopPropagation;\n    CodeMirror.e_stop = e_stop;\n    CodeMirror.addClass = addClass;\n    CodeMirror.contains = contains;\n    CodeMirror.rmClass = rmClass;\n    CodeMirror.keyNames = keyNames;\n  }\n\n  // EDITOR CONSTRUCTOR\n\n  defineOptions(CodeMirror);\n\n  addEditorMethods(CodeMirror);\n\n  // Set up methods on CodeMirror's prototype to redirect to the editor's document.\n  var dontDelegate = \"iter insert remove copy getEditor constructor\".split(\" \");\n  for (var prop in Doc.prototype) { if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0)\n    { CodeMirror.prototype[prop] = (function(method) {\n      return function() {return method.apply(this.doc, arguments)}\n    })(Doc.prototype[prop]); } }\n\n  eventMixin(Doc);\n  CodeMirror.inputStyles = {\"textarea\": TextareaInput, \"contenteditable\": ContentEditableInput};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  CodeMirror.defineMode = function(name/*, mode, */) {\n    if (!CodeMirror.defaults.mode && name != \"null\") { CodeMirror.defaults.mode = name; }\n    defineMode.apply(this, arguments);\n  };\n\n  CodeMirror.defineMIME = defineMIME;\n\n  // Minimal default mode.\n  CodeMirror.defineMode(\"null\", function () { return ({token: function (stream) { return stream.skipToEnd(); }}); });\n  CodeMirror.defineMIME(\"text/plain\", \"null\");\n\n  // EXTENSIONS\n\n  CodeMirror.defineExtension = function (name, func) {\n    CodeMirror.prototype[name] = func;\n  };\n  CodeMirror.defineDocExtension = function (name, func) {\n    Doc.prototype[name] = func;\n  };\n\n  CodeMirror.fromTextArea = fromTextArea;\n\n  addLegacyProps(CodeMirror);\n\n  CodeMirror.version = \"5.65.0\";\n\n  return CodeMirror;\n\n})));\n","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","/**\n * Diff Match and Patch\n * Copyright 2018 The diff-match-patch Authors.\n * https://github.com/google/diff-match-patch\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Computes the difference between two texts to create a patch.\n * Applies the patch onto another text, allowing for errors.\n * @author fraser@google.com (Neil Fraser)\n */\n\n/**\n * Class containing the diff, match and patch methods.\n * @constructor\n */\nvar diff_match_patch = function() {\n\n  // Defaults.\n  // Redefine these in your program to override the defaults.\n\n  // Number of seconds to map a diff before giving up (0 for infinity).\n  this.Diff_Timeout = 1.0;\n  // Cost of an empty edit operation in terms of edit characters.\n  this.Diff_EditCost = 4;\n  // At what point is no match declared (0.0 = perfection, 1.0 = very loose).\n  this.Match_Threshold = 0.5;\n  // How far to search for a match (0 = exact location, 1000+ = broad match).\n  // A match this many characters away from the expected location will add\n  // 1.0 to the score (0.0 is a perfect match).\n  this.Match_Distance = 1000;\n  // When deleting a large block of text (over ~64 characters), how close do\n  // the contents have to be to match the expected contents. (0.0 = perfection,\n  // 1.0 = very loose).  Note that Match_Threshold controls how closely the\n  // end points of a delete need to match.\n  this.Patch_DeleteThreshold = 0.5;\n  // Chunk size for context length.\n  this.Patch_Margin = 4;\n\n  // The number of bits in an int.\n  this.Match_MaxBits = 32;\n};\n\n\n//  DIFF FUNCTIONS\n\n\n/**\n * The data structure representing a diff is an array of tuples:\n * [[DIFF_DELETE, 'Hello'], [DIFF_INSERT, 'Goodbye'], [DIFF_EQUAL, ' world.']]\n * which means: delete 'Hello', add 'Goodbye' and keep ' world.'\n */\nvar DIFF_DELETE = -1;\nvar DIFF_INSERT = 1;\nvar DIFF_EQUAL = 0;\n\n/**\n * Class representing one diff tuple.\n * ~Attempts to look like a two-element array (which is what this used to be).~\n * Constructor returns an actual two-element array, to allow destructing @JackuB\n * See https://github.com/JackuB/diff-match-patch/issues/14 for details\n * @param {number} op Operation, one of: DIFF_DELETE, DIFF_INSERT, DIFF_EQUAL.\n * @param {string} text Text to be deleted, inserted, or retained.\n * @constructor\n */\ndiff_match_patch.Diff = function(op, text) {\n  return [op, text];\n};\n\n/**\n * Find the differences between two texts.  Simplifies the problem by stripping\n * any common prefix or suffix off the texts before diffing.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {boolean=} opt_checklines Optional speedup flag. If present and false,\n *     then don't run a line-level diff first to identify the changed areas.\n *     Defaults to true, which does a faster, slightly less optimal diff.\n * @param {number=} opt_deadline Optional time when the diff should be complete\n *     by.  Used internally for recursive calls.  Users should set DiffTimeout\n *     instead.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_main = function(text1, text2, opt_checklines,\n    opt_deadline) {\n  // Set a deadline by which time the diff must be complete.\n  if (typeof opt_deadline == 'undefined') {\n    if (this.Diff_Timeout <= 0) {\n      opt_deadline = Number.MAX_VALUE;\n    } else {\n      opt_deadline = (new Date).getTime() + this.Diff_Timeout * 1000;\n    }\n  }\n  var deadline = opt_deadline;\n\n  // Check for null inputs.\n  if (text1 == null || text2 == null) {\n    throw new Error('Null input. (diff_main)');\n  }\n\n  // Check for equality (speedup).\n  if (text1 == text2) {\n    if (text1) {\n      return [new diff_match_patch.Diff(DIFF_EQUAL, text1)];\n    }\n    return [];\n  }\n\n  if (typeof opt_checklines == 'undefined') {\n    opt_checklines = true;\n  }\n  var checklines = opt_checklines;\n\n  // Trim off common prefix (speedup).\n  var commonlength = this.diff_commonPrefix(text1, text2);\n  var commonprefix = text1.substring(0, commonlength);\n  text1 = text1.substring(commonlength);\n  text2 = text2.substring(commonlength);\n\n  // Trim off common suffix (speedup).\n  commonlength = this.diff_commonSuffix(text1, text2);\n  var commonsuffix = text1.substring(text1.length - commonlength);\n  text1 = text1.substring(0, text1.length - commonlength);\n  text2 = text2.substring(0, text2.length - commonlength);\n\n  // Compute the diff on the middle block.\n  var diffs = this.diff_compute_(text1, text2, checklines, deadline);\n\n  // Restore the prefix and suffix.\n  if (commonprefix) {\n    diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, commonprefix));\n  }\n  if (commonsuffix) {\n    diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, commonsuffix));\n  }\n  this.diff_cleanupMerge(diffs);\n  return diffs;\n};\n\n\n/**\n * Find the differences between two texts.  Assumes that the texts do not\n * have any common prefix or suffix.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {boolean} checklines Speedup flag.  If false, then don't run a\n *     line-level diff first to identify the changed areas.\n *     If true, then run a faster, slightly less optimal diff.\n * @param {number} deadline Time when the diff should be complete by.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_compute_ = function(text1, text2, checklines,\n    deadline) {\n  var diffs;\n\n  if (!text1) {\n    // Just add some text (speedup).\n    return [new diff_match_patch.Diff(DIFF_INSERT, text2)];\n  }\n\n  if (!text2) {\n    // Just delete some text (speedup).\n    return [new diff_match_patch.Diff(DIFF_DELETE, text1)];\n  }\n\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  var i = longtext.indexOf(shorttext);\n  if (i != -1) {\n    // Shorter text is inside the longer text (speedup).\n    diffs = [new diff_match_patch.Diff(DIFF_INSERT, longtext.substring(0, i)),\n             new diff_match_patch.Diff(DIFF_EQUAL, shorttext),\n             new diff_match_patch.Diff(DIFF_INSERT,\n                 longtext.substring(i + shorttext.length))];\n    // Swap insertions for deletions if diff is reversed.\n    if (text1.length > text2.length) {\n      diffs[0][0] = diffs[2][0] = DIFF_DELETE;\n    }\n    return diffs;\n  }\n\n  if (shorttext.length == 1) {\n    // Single character string.\n    // After the previous speedup, the character can't be an equality.\n    return [new diff_match_patch.Diff(DIFF_DELETE, text1),\n            new diff_match_patch.Diff(DIFF_INSERT, text2)];\n  }\n\n  // Check to see if the problem can be split in two.\n  var hm = this.diff_halfMatch_(text1, text2);\n  if (hm) {\n    // A half-match was found, sort out the return data.\n    var text1_a = hm[0];\n    var text1_b = hm[1];\n    var text2_a = hm[2];\n    var text2_b = hm[3];\n    var mid_common = hm[4];\n    // Send both pairs off for separate processing.\n    var diffs_a = this.diff_main(text1_a, text2_a, checklines, deadline);\n    var diffs_b = this.diff_main(text1_b, text2_b, checklines, deadline);\n    // Merge the results.\n    return diffs_a.concat([new diff_match_patch.Diff(DIFF_EQUAL, mid_common)],\n                          diffs_b);\n  }\n\n  if (checklines && text1.length > 100 && text2.length > 100) {\n    return this.diff_lineMode_(text1, text2, deadline);\n  }\n\n  return this.diff_bisect_(text1, text2, deadline);\n};\n\n\n/**\n * Do a quick line-level diff on both strings, then rediff the parts for\n * greater accuracy.\n * This speedup can produce non-minimal diffs.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} deadline Time when the diff should be complete by.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_lineMode_ = function(text1, text2, deadline) {\n  // Scan the text on a line-by-line basis first.\n  var a = this.diff_linesToChars_(text1, text2);\n  text1 = a.chars1;\n  text2 = a.chars2;\n  var linearray = a.lineArray;\n\n  var diffs = this.diff_main(text1, text2, false, deadline);\n\n  // Convert the diff back to original text.\n  this.diff_charsToLines_(diffs, linearray);\n  // Eliminate freak matches (e.g. blank lines)\n  this.diff_cleanupSemantic(diffs);\n\n  // Rediff any replacement blocks, this time character-by-character.\n  // Add a dummy entry at the end.\n  diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, ''));\n  var pointer = 0;\n  var count_delete = 0;\n  var count_insert = 0;\n  var text_delete = '';\n  var text_insert = '';\n  while (pointer < diffs.length) {\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        count_insert++;\n        text_insert += diffs[pointer][1];\n        break;\n      case DIFF_DELETE:\n        count_delete++;\n        text_delete += diffs[pointer][1];\n        break;\n      case DIFF_EQUAL:\n        // Upon reaching an equality, check for prior redundancies.\n        if (count_delete >= 1 && count_insert >= 1) {\n          // Delete the offending records and add the merged ones.\n          diffs.splice(pointer - count_delete - count_insert,\n                       count_delete + count_insert);\n          pointer = pointer - count_delete - count_insert;\n          var subDiff =\n              this.diff_main(text_delete, text_insert, false, deadline);\n          for (var j = subDiff.length - 1; j >= 0; j--) {\n            diffs.splice(pointer, 0, subDiff[j]);\n          }\n          pointer = pointer + subDiff.length;\n        }\n        count_insert = 0;\n        count_delete = 0;\n        text_delete = '';\n        text_insert = '';\n        break;\n    }\n    pointer++;\n  }\n  diffs.pop();  // Remove the dummy entry at the end.\n\n  return diffs;\n};\n\n\n/**\n * Find the 'middle snake' of a diff, split the problem in two\n * and return the recursively constructed diff.\n * See Myers 1986 paper: An O(ND) Difference Algorithm and Its Variations.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} deadline Time at which to bail if not yet complete.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_bisect_ = function(text1, text2, deadline) {\n  // Cache the text lengths to prevent multiple calls.\n  var text1_length = text1.length;\n  var text2_length = text2.length;\n  var max_d = Math.ceil((text1_length + text2_length) / 2);\n  var v_offset = max_d;\n  var v_length = 2 * max_d;\n  var v1 = new Array(v_length);\n  var v2 = new Array(v_length);\n  // Setting all elements to -1 is faster in Chrome & Firefox than mixing\n  // integers and undefined.\n  for (var x = 0; x < v_length; x++) {\n    v1[x] = -1;\n    v2[x] = -1;\n  }\n  v1[v_offset + 1] = 0;\n  v2[v_offset + 1] = 0;\n  var delta = text1_length - text2_length;\n  // If the total number of characters is odd, then the front path will collide\n  // with the reverse path.\n  var front = (delta % 2 != 0);\n  // Offsets for start and end of k loop.\n  // Prevents mapping of space beyond the grid.\n  var k1start = 0;\n  var k1end = 0;\n  var k2start = 0;\n  var k2end = 0;\n  for (var d = 0; d < max_d; d++) {\n    // Bail out if deadline is reached.\n    if ((new Date()).getTime() > deadline) {\n      break;\n    }\n\n    // Walk the front path one step.\n    for (var k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {\n      var k1_offset = v_offset + k1;\n      var x1;\n      if (k1 == -d || (k1 != d && v1[k1_offset - 1] < v1[k1_offset + 1])) {\n        x1 = v1[k1_offset + 1];\n      } else {\n        x1 = v1[k1_offset - 1] + 1;\n      }\n      var y1 = x1 - k1;\n      while (x1 < text1_length && y1 < text2_length &&\n             text1.charAt(x1) == text2.charAt(y1)) {\n        x1++;\n        y1++;\n      }\n      v1[k1_offset] = x1;\n      if (x1 > text1_length) {\n        // Ran off the right of the graph.\n        k1end += 2;\n      } else if (y1 > text2_length) {\n        // Ran off the bottom of the graph.\n        k1start += 2;\n      } else if (front) {\n        var k2_offset = v_offset + delta - k1;\n        if (k2_offset >= 0 && k2_offset < v_length && v2[k2_offset] != -1) {\n          // Mirror x2 onto top-left coordinate system.\n          var x2 = text1_length - v2[k2_offset];\n          if (x1 >= x2) {\n            // Overlap detected.\n            return this.diff_bisectSplit_(text1, text2, x1, y1, deadline);\n          }\n        }\n      }\n    }\n\n    // Walk the reverse path one step.\n    for (var k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {\n      var k2_offset = v_offset + k2;\n      var x2;\n      if (k2 == -d || (k2 != d && v2[k2_offset - 1] < v2[k2_offset + 1])) {\n        x2 = v2[k2_offset + 1];\n      } else {\n        x2 = v2[k2_offset - 1] + 1;\n      }\n      var y2 = x2 - k2;\n      while (x2 < text1_length && y2 < text2_length &&\n             text1.charAt(text1_length - x2 - 1) ==\n             text2.charAt(text2_length - y2 - 1)) {\n        x2++;\n        y2++;\n      }\n      v2[k2_offset] = x2;\n      if (x2 > text1_length) {\n        // Ran off the left of the graph.\n        k2end += 2;\n      } else if (y2 > text2_length) {\n        // Ran off the top of the graph.\n        k2start += 2;\n      } else if (!front) {\n        var k1_offset = v_offset + delta - k2;\n        if (k1_offset >= 0 && k1_offset < v_length && v1[k1_offset] != -1) {\n          var x1 = v1[k1_offset];\n          var y1 = v_offset + x1 - k1_offset;\n          // Mirror x2 onto top-left coordinate system.\n          x2 = text1_length - x2;\n          if (x1 >= x2) {\n            // Overlap detected.\n            return this.diff_bisectSplit_(text1, text2, x1, y1, deadline);\n          }\n        }\n      }\n    }\n  }\n  // Diff took too long and hit the deadline or\n  // number of diffs equals number of characters, no commonality at all.\n  return [new diff_match_patch.Diff(DIFF_DELETE, text1),\n          new diff_match_patch.Diff(DIFF_INSERT, text2)];\n};\n\n\n/**\n * Given the location of the 'middle snake', split the diff in two parts\n * and recurse.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} x Index of split point in text1.\n * @param {number} y Index of split point in text2.\n * @param {number} deadline Time at which to bail if not yet complete.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_bisectSplit_ = function(text1, text2, x, y,\n    deadline) {\n  var text1a = text1.substring(0, x);\n  var text2a = text2.substring(0, y);\n  var text1b = text1.substring(x);\n  var text2b = text2.substring(y);\n\n  // Compute both diffs serially.\n  var diffs = this.diff_main(text1a, text2a, false, deadline);\n  var diffsb = this.diff_main(text1b, text2b, false, deadline);\n\n  return diffs.concat(diffsb);\n};\n\n\n/**\n * Split two texts into an array of strings.  Reduce the texts to a string of\n * hashes where each Unicode character represents one line.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {{chars1: string, chars2: string, lineArray: !Array.<string>}}\n *     An object containing the encoded text1, the encoded text2 and\n *     the array of unique strings.\n *     The zeroth element of the array of unique strings is intentionally blank.\n * @private\n */\ndiff_match_patch.prototype.diff_linesToChars_ = function(text1, text2) {\n  var lineArray = [];  // e.g. lineArray[4] == 'Hello\\n'\n  var lineHash = {};   // e.g. lineHash['Hello\\n'] == 4\n\n  // '\\x00' is a valid character, but various debuggers don't like it.\n  // So we'll insert a junk entry to avoid generating a null character.\n  lineArray[0] = '';\n\n  /**\n   * Split a text into an array of strings.  Reduce the texts to a string of\n   * hashes where each Unicode character represents one line.\n   * Modifies linearray and linehash through being a closure.\n   * @param {string} text String to encode.\n   * @return {string} Encoded string.\n   * @private\n   */\n  function diff_linesToCharsMunge_(text) {\n    var chars = '';\n    // Walk the text, pulling out a substring for each line.\n    // text.split('\\n') would would temporarily double our memory footprint.\n    // Modifying text would create many large strings to garbage collect.\n    var lineStart = 0;\n    var lineEnd = -1;\n    // Keeping our own length variable is faster than looking it up.\n    var lineArrayLength = lineArray.length;\n    while (lineEnd < text.length - 1) {\n      lineEnd = text.indexOf('\\n', lineStart);\n      if (lineEnd == -1) {\n        lineEnd = text.length - 1;\n      }\n      var line = text.substring(lineStart, lineEnd + 1);\n\n      if (lineHash.hasOwnProperty ? lineHash.hasOwnProperty(line) :\n          (lineHash[line] !== undefined)) {\n        chars += String.fromCharCode(lineHash[line]);\n      } else {\n        if (lineArrayLength == maxLines) {\n          // Bail out at 65535 because\n          // String.fromCharCode(65536) == String.fromCharCode(0)\n          line = text.substring(lineStart);\n          lineEnd = text.length;\n        }\n        chars += String.fromCharCode(lineArrayLength);\n        lineHash[line] = lineArrayLength;\n        lineArray[lineArrayLength++] = line;\n      }\n      lineStart = lineEnd + 1;\n    }\n    return chars;\n  }\n  // Allocate 2/3rds of the space for text1, the rest for text2.\n  var maxLines = 40000;\n  var chars1 = diff_linesToCharsMunge_(text1);\n  maxLines = 65535;\n  var chars2 = diff_linesToCharsMunge_(text2);\n  return {chars1: chars1, chars2: chars2, lineArray: lineArray};\n};\n\n\n/**\n * Rehydrate the text in a diff from a string of line hashes to real lines of\n * text.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @param {!Array.<string>} lineArray Array of unique strings.\n * @private\n */\ndiff_match_patch.prototype.diff_charsToLines_ = function(diffs, lineArray) {\n  for (var i = 0; i < diffs.length; i++) {\n    var chars = diffs[i][1];\n    var text = [];\n    for (var j = 0; j < chars.length; j++) {\n      text[j] = lineArray[chars.charCodeAt(j)];\n    }\n    diffs[i][1] = text.join('');\n  }\n};\n\n\n/**\n * Determine the common prefix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the start of each\n *     string.\n */\ndiff_match_patch.prototype.diff_commonPrefix = function(text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 || text1.charAt(0) != text2.charAt(0)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: https://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerstart = 0;\n  while (pointermin < pointermid) {\n    if (text1.substring(pointerstart, pointermid) ==\n        text2.substring(pointerstart, pointermid)) {\n      pointermin = pointermid;\n      pointerstart = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n  return pointermid;\n};\n\n\n/**\n * Determine the common suffix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the end of each string.\n */\ndiff_match_patch.prototype.diff_commonSuffix = function(text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 ||\n      text1.charAt(text1.length - 1) != text2.charAt(text2.length - 1)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: https://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerend = 0;\n  while (pointermin < pointermid) {\n    if (text1.substring(text1.length - pointermid, text1.length - pointerend) ==\n        text2.substring(text2.length - pointermid, text2.length - pointerend)) {\n      pointermin = pointermid;\n      pointerend = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n  return pointermid;\n};\n\n\n/**\n * Determine if the suffix of one string is the prefix of another.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the end of the first\n *     string and the start of the second string.\n * @private\n */\ndiff_match_patch.prototype.diff_commonOverlap_ = function(text1, text2) {\n  // Cache the text lengths to prevent multiple calls.\n  var text1_length = text1.length;\n  var text2_length = text2.length;\n  // Eliminate the null case.\n  if (text1_length == 0 || text2_length == 0) {\n    return 0;\n  }\n  // Truncate the longer string.\n  if (text1_length > text2_length) {\n    text1 = text1.substring(text1_length - text2_length);\n  } else if (text1_length < text2_length) {\n    text2 = text2.substring(0, text1_length);\n  }\n  var text_length = Math.min(text1_length, text2_length);\n  // Quick check for the worst case.\n  if (text1 == text2) {\n    return text_length;\n  }\n\n  // Start by looking for a single character match\n  // and increase length until no match is found.\n  // Performance analysis: https://neil.fraser.name/news/2010/11/04/\n  var best = 0;\n  var length = 1;\n  while (true) {\n    var pattern = text1.substring(text_length - length);\n    var found = text2.indexOf(pattern);\n    if (found == -1) {\n      return best;\n    }\n    length += found;\n    if (found == 0 || text1.substring(text_length - length) ==\n        text2.substring(0, length)) {\n      best = length;\n      length++;\n    }\n  }\n};\n\n\n/**\n * Do the two texts share a substring which is at least half the length of the\n * longer text?\n * This speedup can produce non-minimal diffs.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {Array.<string>} Five element Array, containing the prefix of\n *     text1, the suffix of text1, the prefix of text2, the suffix of\n *     text2 and the common middle.  Or null if there was no match.\n * @private\n */\ndiff_match_patch.prototype.diff_halfMatch_ = function(text1, text2) {\n  if (this.Diff_Timeout <= 0) {\n    // Don't risk returning a non-optimal diff if we have unlimited time.\n    return null;\n  }\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  if (longtext.length < 4 || shorttext.length * 2 < longtext.length) {\n    return null;  // Pointless.\n  }\n  var dmp = this;  // 'this' becomes 'window' in a closure.\n\n  /**\n   * Does a substring of shorttext exist within longtext such that the substring\n   * is at least half the length of longtext?\n   * Closure, but does not reference any external variables.\n   * @param {string} longtext Longer string.\n   * @param {string} shorttext Shorter string.\n   * @param {number} i Start index of quarter length substring within longtext.\n   * @return {Array.<string>} Five element Array, containing the prefix of\n   *     longtext, the suffix of longtext, the prefix of shorttext, the suffix\n   *     of shorttext and the common middle.  Or null if there was no match.\n   * @private\n   */\n  function diff_halfMatchI_(longtext, shorttext, i) {\n    // Start with a 1/4 length substring at position i as a seed.\n    var seed = longtext.substring(i, i + Math.floor(longtext.length / 4));\n    var j = -1;\n    var best_common = '';\n    var best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b;\n    while ((j = shorttext.indexOf(seed, j + 1)) != -1) {\n      var prefixLength = dmp.diff_commonPrefix(longtext.substring(i),\n                                               shorttext.substring(j));\n      var suffixLength = dmp.diff_commonSuffix(longtext.substring(0, i),\n                                               shorttext.substring(0, j));\n      if (best_common.length < suffixLength + prefixLength) {\n        best_common = shorttext.substring(j - suffixLength, j) +\n            shorttext.substring(j, j + prefixLength);\n        best_longtext_a = longtext.substring(0, i - suffixLength);\n        best_longtext_b = longtext.substring(i + prefixLength);\n        best_shorttext_a = shorttext.substring(0, j - suffixLength);\n        best_shorttext_b = shorttext.substring(j + prefixLength);\n      }\n    }\n    if (best_common.length * 2 >= longtext.length) {\n      return [best_longtext_a, best_longtext_b,\n              best_shorttext_a, best_shorttext_b, best_common];\n    } else {\n      return null;\n    }\n  }\n\n  // First check if the second quarter is the seed for a half-match.\n  var hm1 = diff_halfMatchI_(longtext, shorttext,\n                             Math.ceil(longtext.length / 4));\n  // Check again based on the third quarter.\n  var hm2 = diff_halfMatchI_(longtext, shorttext,\n                             Math.ceil(longtext.length / 2));\n  var hm;\n  if (!hm1 && !hm2) {\n    return null;\n  } else if (!hm2) {\n    hm = hm1;\n  } else if (!hm1) {\n    hm = hm2;\n  } else {\n    // Both matched.  Select the longest.\n    hm = hm1[4].length > hm2[4].length ? hm1 : hm2;\n  }\n\n  // A half-match was found, sort out the return data.\n  var text1_a, text1_b, text2_a, text2_b;\n  if (text1.length > text2.length) {\n    text1_a = hm[0];\n    text1_b = hm[1];\n    text2_a = hm[2];\n    text2_b = hm[3];\n  } else {\n    text2_a = hm[0];\n    text2_b = hm[1];\n    text1_a = hm[2];\n    text1_b = hm[3];\n  }\n  var mid_common = hm[4];\n  return [text1_a, text1_b, text2_a, text2_b, mid_common];\n};\n\n\n/**\n * Reduce the number of edits by eliminating semantically trivial equalities.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupSemantic = function(diffs) {\n  var changes = false;\n  var equalities = [];  // Stack of indices where equalities are found.\n  var equalitiesLength = 0;  // Keeping our own length var is faster in JS.\n  /** @type {?string} */\n  var lastEquality = null;\n  // Always equal to diffs[equalities[equalitiesLength - 1]][1]\n  var pointer = 0;  // Index of current position.\n  // Number of characters that changed prior to the equality.\n  var length_insertions1 = 0;\n  var length_deletions1 = 0;\n  // Number of characters that changed after the equality.\n  var length_insertions2 = 0;\n  var length_deletions2 = 0;\n  while (pointer < diffs.length) {\n    if (diffs[pointer][0] == DIFF_EQUAL) {  // Equality found.\n      equalities[equalitiesLength++] = pointer;\n      length_insertions1 = length_insertions2;\n      length_deletions1 = length_deletions2;\n      length_insertions2 = 0;\n      length_deletions2 = 0;\n      lastEquality = diffs[pointer][1];\n    } else {  // An insertion or deletion.\n      if (diffs[pointer][0] == DIFF_INSERT) {\n        length_insertions2 += diffs[pointer][1].length;\n      } else {\n        length_deletions2 += diffs[pointer][1].length;\n      }\n      // Eliminate an equality that is smaller or equal to the edits on both\n      // sides of it.\n      if (lastEquality && (lastEquality.length <=\n          Math.max(length_insertions1, length_deletions1)) &&\n          (lastEquality.length <= Math.max(length_insertions2,\n                                           length_deletions2))) {\n        // Duplicate record.\n        diffs.splice(equalities[equalitiesLength - 1], 0,\n                     new diff_match_patch.Diff(DIFF_DELETE, lastEquality));\n        // Change second copy to insert.\n        diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT;\n        // Throw away the equality we just deleted.\n        equalitiesLength--;\n        // Throw away the previous equality (it needs to be reevaluated).\n        equalitiesLength--;\n        pointer = equalitiesLength > 0 ? equalities[equalitiesLength - 1] : -1;\n        length_insertions1 = 0;  // Reset the counters.\n        length_deletions1 = 0;\n        length_insertions2 = 0;\n        length_deletions2 = 0;\n        lastEquality = null;\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n\n  // Normalize the diff.\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n  this.diff_cleanupSemanticLossless(diffs);\n\n  // Find any overlaps between deletions and insertions.\n  // e.g: <del>abcxxx</del><ins>xxxdef</ins>\n  //   -> <del>abc</del>xxx<ins>def</ins>\n  // e.g: <del>xxxabc</del><ins>defxxx</ins>\n  //   -> <ins>def</ins>xxx<del>abc</del>\n  // Only extract an overlap if it is as big as the edit ahead or behind it.\n  pointer = 1;\n  while (pointer < diffs.length) {\n    if (diffs[pointer - 1][0] == DIFF_DELETE &&\n        diffs[pointer][0] == DIFF_INSERT) {\n      var deletion = diffs[pointer - 1][1];\n      var insertion = diffs[pointer][1];\n      var overlap_length1 = this.diff_commonOverlap_(deletion, insertion);\n      var overlap_length2 = this.diff_commonOverlap_(insertion, deletion);\n      if (overlap_length1 >= overlap_length2) {\n        if (overlap_length1 >= deletion.length / 2 ||\n            overlap_length1 >= insertion.length / 2) {\n          // Overlap found.  Insert an equality and trim the surrounding edits.\n          diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_EQUAL,\n              insertion.substring(0, overlap_length1)));\n          diffs[pointer - 1][1] =\n              deletion.substring(0, deletion.length - overlap_length1);\n          diffs[pointer + 1][1] = insertion.substring(overlap_length1);\n          pointer++;\n        }\n      } else {\n        if (overlap_length2 >= deletion.length / 2 ||\n            overlap_length2 >= insertion.length / 2) {\n          // Reverse overlap found.\n          // Insert an equality and swap and trim the surrounding edits.\n          diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_EQUAL,\n              deletion.substring(0, overlap_length2)));\n          diffs[pointer - 1][0] = DIFF_INSERT;\n          diffs[pointer - 1][1] =\n              insertion.substring(0, insertion.length - overlap_length2);\n          diffs[pointer + 1][0] = DIFF_DELETE;\n          diffs[pointer + 1][1] =\n              deletion.substring(overlap_length2);\n          pointer++;\n        }\n      }\n      pointer++;\n    }\n    pointer++;\n  }\n};\n\n\n/**\n * Look for single edits surrounded on both sides by equalities\n * which can be shifted sideways to align the edit to a word boundary.\n * e.g: The c<ins>at c</ins>ame. -> The <ins>cat </ins>came.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupSemanticLossless = function(diffs) {\n  /**\n   * Given two strings, compute a score representing whether the internal\n   * boundary falls on logical boundaries.\n   * Scores range from 6 (best) to 0 (worst).\n   * Closure, but does not reference any external variables.\n   * @param {string} one First string.\n   * @param {string} two Second string.\n   * @return {number} The score.\n   * @private\n   */\n  function diff_cleanupSemanticScore_(one, two) {\n    if (!one || !two) {\n      // Edges are the best.\n      return 6;\n    }\n\n    // Each port of this function behaves slightly differently due to\n    // subtle differences in each language's definition of things like\n    // 'whitespace'.  Since this function's purpose is largely cosmetic,\n    // the choice has been made to use each language's native features\n    // rather than force total conformity.\n    var char1 = one.charAt(one.length - 1);\n    var char2 = two.charAt(0);\n    var nonAlphaNumeric1 = char1.match(diff_match_patch.nonAlphaNumericRegex_);\n    var nonAlphaNumeric2 = char2.match(diff_match_patch.nonAlphaNumericRegex_);\n    var whitespace1 = nonAlphaNumeric1 &&\n        char1.match(diff_match_patch.whitespaceRegex_);\n    var whitespace2 = nonAlphaNumeric2 &&\n        char2.match(diff_match_patch.whitespaceRegex_);\n    var lineBreak1 = whitespace1 &&\n        char1.match(diff_match_patch.linebreakRegex_);\n    var lineBreak2 = whitespace2 &&\n        char2.match(diff_match_patch.linebreakRegex_);\n    var blankLine1 = lineBreak1 &&\n        one.match(diff_match_patch.blanklineEndRegex_);\n    var blankLine2 = lineBreak2 &&\n        two.match(diff_match_patch.blanklineStartRegex_);\n\n    if (blankLine1 || blankLine2) {\n      // Five points for blank lines.\n      return 5;\n    } else if (lineBreak1 || lineBreak2) {\n      // Four points for line breaks.\n      return 4;\n    } else if (nonAlphaNumeric1 && !whitespace1 && whitespace2) {\n      // Three points for end of sentences.\n      return 3;\n    } else if (whitespace1 || whitespace2) {\n      // Two points for whitespace.\n      return 2;\n    } else if (nonAlphaNumeric1 || nonAlphaNumeric2) {\n      // One point for non-alphanumeric.\n      return 1;\n    }\n    return 0;\n  }\n\n  var pointer = 1;\n  // Intentionally ignore the first and last element (don't need checking).\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] == DIFF_EQUAL &&\n        diffs[pointer + 1][0] == DIFF_EQUAL) {\n      // This is a single edit surrounded by equalities.\n      var equality1 = diffs[pointer - 1][1];\n      var edit = diffs[pointer][1];\n      var equality2 = diffs[pointer + 1][1];\n\n      // First, shift the edit as far left as possible.\n      var commonOffset = this.diff_commonSuffix(equality1, edit);\n      if (commonOffset) {\n        var commonString = edit.substring(edit.length - commonOffset);\n        equality1 = equality1.substring(0, equality1.length - commonOffset);\n        edit = commonString + edit.substring(0, edit.length - commonOffset);\n        equality2 = commonString + equality2;\n      }\n\n      // Second, step character by character right, looking for the best fit.\n      var bestEquality1 = equality1;\n      var bestEdit = edit;\n      var bestEquality2 = equality2;\n      var bestScore = diff_cleanupSemanticScore_(equality1, edit) +\n          diff_cleanupSemanticScore_(edit, equality2);\n      while (edit.charAt(0) === equality2.charAt(0)) {\n        equality1 += edit.charAt(0);\n        edit = edit.substring(1) + equality2.charAt(0);\n        equality2 = equality2.substring(1);\n        var score = diff_cleanupSemanticScore_(equality1, edit) +\n            diff_cleanupSemanticScore_(edit, equality2);\n        // The >= encourages trailing rather than leading whitespace on edits.\n        if (score >= bestScore) {\n          bestScore = score;\n          bestEquality1 = equality1;\n          bestEdit = edit;\n          bestEquality2 = equality2;\n        }\n      }\n\n      if (diffs[pointer - 1][1] != bestEquality1) {\n        // We have an improvement, save it back to the diff.\n        if (bestEquality1) {\n          diffs[pointer - 1][1] = bestEquality1;\n        } else {\n          diffs.splice(pointer - 1, 1);\n          pointer--;\n        }\n        diffs[pointer][1] = bestEdit;\n        if (bestEquality2) {\n          diffs[pointer + 1][1] = bestEquality2;\n        } else {\n          diffs.splice(pointer + 1, 1);\n          pointer--;\n        }\n      }\n    }\n    pointer++;\n  }\n};\n\n// Define some regex patterns for matching boundaries.\ndiff_match_patch.nonAlphaNumericRegex_ = /[^a-zA-Z0-9]/;\ndiff_match_patch.whitespaceRegex_ = /\\s/;\ndiff_match_patch.linebreakRegex_ = /[\\r\\n]/;\ndiff_match_patch.blanklineEndRegex_ = /\\n\\r?\\n$/;\ndiff_match_patch.blanklineStartRegex_ = /^\\r?\\n\\r?\\n/;\n\n/**\n * Reduce the number of edits by eliminating operationally trivial equalities.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupEfficiency = function(diffs) {\n  var changes = false;\n  var equalities = [];  // Stack of indices where equalities are found.\n  var equalitiesLength = 0;  // Keeping our own length var is faster in JS.\n  /** @type {?string} */\n  var lastEquality = null;\n  // Always equal to diffs[equalities[equalitiesLength - 1]][1]\n  var pointer = 0;  // Index of current position.\n  // Is there an insertion operation before the last equality.\n  var pre_ins = false;\n  // Is there a deletion operation before the last equality.\n  var pre_del = false;\n  // Is there an insertion operation after the last equality.\n  var post_ins = false;\n  // Is there a deletion operation after the last equality.\n  var post_del = false;\n  while (pointer < diffs.length) {\n    if (diffs[pointer][0] == DIFF_EQUAL) {  // Equality found.\n      if (diffs[pointer][1].length < this.Diff_EditCost &&\n          (post_ins || post_del)) {\n        // Candidate found.\n        equalities[equalitiesLength++] = pointer;\n        pre_ins = post_ins;\n        pre_del = post_del;\n        lastEquality = diffs[pointer][1];\n      } else {\n        // Not a candidate, and can never become one.\n        equalitiesLength = 0;\n        lastEquality = null;\n      }\n      post_ins = post_del = false;\n    } else {  // An insertion or deletion.\n      if (diffs[pointer][0] == DIFF_DELETE) {\n        post_del = true;\n      } else {\n        post_ins = true;\n      }\n      /*\n       * Five types to be split:\n       * <ins>A</ins><del>B</del>XY<ins>C</ins><del>D</del>\n       * <ins>A</ins>X<ins>C</ins><del>D</del>\n       * <ins>A</ins><del>B</del>X<ins>C</ins>\n       * <ins>A</del>X<ins>C</ins><del>D</del>\n       * <ins>A</ins><del>B</del>X<del>C</del>\n       */\n      if (lastEquality && ((pre_ins && pre_del && post_ins && post_del) ||\n                           ((lastEquality.length < this.Diff_EditCost / 2) &&\n                            (pre_ins + pre_del + post_ins + post_del) == 3))) {\n        // Duplicate record.\n        diffs.splice(equalities[equalitiesLength - 1], 0,\n                     new diff_match_patch.Diff(DIFF_DELETE, lastEquality));\n        // Change second copy to insert.\n        diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT;\n        equalitiesLength--;  // Throw away the equality we just deleted;\n        lastEquality = null;\n        if (pre_ins && pre_del) {\n          // No changes made which could affect previous entry, keep going.\n          post_ins = post_del = true;\n          equalitiesLength = 0;\n        } else {\n          equalitiesLength--;  // Throw away the previous equality.\n          pointer = equalitiesLength > 0 ?\n              equalities[equalitiesLength - 1] : -1;\n          post_ins = post_del = false;\n        }\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n};\n\n\n/**\n * Reorder and merge like edit sections.  Merge equalities.\n * Any edit section can move as long as it doesn't cross an equality.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupMerge = function(diffs) {\n  // Add a dummy entry at the end.\n  diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, ''));\n  var pointer = 0;\n  var count_delete = 0;\n  var count_insert = 0;\n  var text_delete = '';\n  var text_insert = '';\n  var commonlength;\n  while (pointer < diffs.length) {\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        count_insert++;\n        text_insert += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_DELETE:\n        count_delete++;\n        text_delete += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_EQUAL:\n        // Upon reaching an equality, check for prior redundancies.\n        if (count_delete + count_insert > 1) {\n          if (count_delete !== 0 && count_insert !== 0) {\n            // Factor out any common prefixies.\n            commonlength = this.diff_commonPrefix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              if ((pointer - count_delete - count_insert) > 0 &&\n                  diffs[pointer - count_delete - count_insert - 1][0] ==\n                  DIFF_EQUAL) {\n                diffs[pointer - count_delete - count_insert - 1][1] +=\n                    text_insert.substring(0, commonlength);\n              } else {\n                diffs.splice(0, 0, new diff_match_patch.Diff(DIFF_EQUAL,\n                    text_insert.substring(0, commonlength)));\n                pointer++;\n              }\n              text_insert = text_insert.substring(commonlength);\n              text_delete = text_delete.substring(commonlength);\n            }\n            // Factor out any common suffixies.\n            commonlength = this.diff_commonSuffix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              diffs[pointer][1] = text_insert.substring(text_insert.length -\n                  commonlength) + diffs[pointer][1];\n              text_insert = text_insert.substring(0, text_insert.length -\n                  commonlength);\n              text_delete = text_delete.substring(0, text_delete.length -\n                  commonlength);\n            }\n          }\n          // Delete the offending records and add the merged ones.\n          pointer -= count_delete + count_insert;\n          diffs.splice(pointer, count_delete + count_insert);\n          if (text_delete.length) {\n            diffs.splice(pointer, 0,\n                new diff_match_patch.Diff(DIFF_DELETE, text_delete));\n            pointer++;\n          }\n          if (text_insert.length) {\n            diffs.splice(pointer, 0,\n                new diff_match_patch.Diff(DIFF_INSERT, text_insert));\n            pointer++;\n          }\n          pointer++;\n        } else if (pointer !== 0 && diffs[pointer - 1][0] == DIFF_EQUAL) {\n          // Merge this equality with the previous one.\n          diffs[pointer - 1][1] += diffs[pointer][1];\n          diffs.splice(pointer, 1);\n        } else {\n          pointer++;\n        }\n        count_insert = 0;\n        count_delete = 0;\n        text_delete = '';\n        text_insert = '';\n        break;\n    }\n  }\n  if (diffs[diffs.length - 1][1] === '') {\n    diffs.pop();  // Remove the dummy entry at the end.\n  }\n\n  // Second pass: look for single edits surrounded on both sides by equalities\n  // which can be shifted sideways to eliminate an equality.\n  // e.g: A<ins>BA</ins>C -> <ins>AB</ins>AC\n  var changes = false;\n  pointer = 1;\n  // Intentionally ignore the first and last element (don't need checking).\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] == DIFF_EQUAL &&\n        diffs[pointer + 1][0] == DIFF_EQUAL) {\n      // This is a single edit surrounded by equalities.\n      if (diffs[pointer][1].substring(diffs[pointer][1].length -\n          diffs[pointer - 1][1].length) == diffs[pointer - 1][1]) {\n        // Shift the edit over the previous equality.\n        diffs[pointer][1] = diffs[pointer - 1][1] +\n            diffs[pointer][1].substring(0, diffs[pointer][1].length -\n                                        diffs[pointer - 1][1].length);\n        diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];\n        diffs.splice(pointer - 1, 1);\n        changes = true;\n      } else if (diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) ==\n          diffs[pointer + 1][1]) {\n        // Shift the edit over the next equality.\n        diffs[pointer - 1][1] += diffs[pointer + 1][1];\n        diffs[pointer][1] =\n            diffs[pointer][1].substring(diffs[pointer + 1][1].length) +\n            diffs[pointer + 1][1];\n        diffs.splice(pointer + 1, 1);\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n  // If shifts were made, the diff needs reordering and another shift sweep.\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n};\n\n\n/**\n * loc is a location in text1, compute and return the equivalent location in\n * text2.\n * e.g. 'The cat' vs 'The big cat', 1->1, 5->8\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @param {number} loc Location within text1.\n * @return {number} Location within text2.\n */\ndiff_match_patch.prototype.diff_xIndex = function(diffs, loc) {\n  var chars1 = 0;\n  var chars2 = 0;\n  var last_chars1 = 0;\n  var last_chars2 = 0;\n  var x;\n  for (x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_INSERT) {  // Equality or deletion.\n      chars1 += diffs[x][1].length;\n    }\n    if (diffs[x][0] !== DIFF_DELETE) {  // Equality or insertion.\n      chars2 += diffs[x][1].length;\n    }\n    if (chars1 > loc) {  // Overshot the location.\n      break;\n    }\n    last_chars1 = chars1;\n    last_chars2 = chars2;\n  }\n  // Was the location was deleted?\n  if (diffs.length != x && diffs[x][0] === DIFF_DELETE) {\n    return last_chars2;\n  }\n  // Add the remaining character length.\n  return last_chars2 + (loc - last_chars1);\n};\n\n\n/**\n * Convert a diff array into a pretty HTML report.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} HTML representation.\n */\ndiff_match_patch.prototype.diff_prettyHtml = function(diffs) {\n  var html = [];\n  var pattern_amp = /&/g;\n  var pattern_lt = /</g;\n  var pattern_gt = />/g;\n  var pattern_para = /\\n/g;\n  for (var x = 0; x < diffs.length; x++) {\n    var op = diffs[x][0];    // Operation (insert, delete, equal)\n    var data = diffs[x][1];  // Text of change.\n    var text = data.replace(pattern_amp, '&amp;').replace(pattern_lt, '&lt;')\n        .replace(pattern_gt, '&gt;').replace(pattern_para, '&para;<br>');\n    switch (op) {\n      case DIFF_INSERT:\n        html[x] = '<ins style=\"background:#e6ffe6;\">' + text + '</ins>';\n        break;\n      case DIFF_DELETE:\n        html[x] = '<del style=\"background:#ffe6e6;\">' + text + '</del>';\n        break;\n      case DIFF_EQUAL:\n        html[x] = '<span>' + text + '</span>';\n        break;\n    }\n  }\n  return html.join('');\n};\n\n\n/**\n * Compute and return the source text (all equalities and deletions).\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Source text.\n */\ndiff_match_patch.prototype.diff_text1 = function(diffs) {\n  var text = [];\n  for (var x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_INSERT) {\n      text[x] = diffs[x][1];\n    }\n  }\n  return text.join('');\n};\n\n\n/**\n * Compute and return the destination text (all equalities and insertions).\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Destination text.\n */\ndiff_match_patch.prototype.diff_text2 = function(diffs) {\n  var text = [];\n  for (var x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_DELETE) {\n      text[x] = diffs[x][1];\n    }\n  }\n  return text.join('');\n};\n\n\n/**\n * Compute the Levenshtein distance; the number of inserted, deleted or\n * substituted characters.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {number} Number of changes.\n */\ndiff_match_patch.prototype.diff_levenshtein = function(diffs) {\n  var levenshtein = 0;\n  var insertions = 0;\n  var deletions = 0;\n  for (var x = 0; x < diffs.length; x++) {\n    var op = diffs[x][0];\n    var data = diffs[x][1];\n    switch (op) {\n      case DIFF_INSERT:\n        insertions += data.length;\n        break;\n      case DIFF_DELETE:\n        deletions += data.length;\n        break;\n      case DIFF_EQUAL:\n        // A deletion and an insertion is one substitution.\n        levenshtein += Math.max(insertions, deletions);\n        insertions = 0;\n        deletions = 0;\n        break;\n    }\n  }\n  levenshtein += Math.max(insertions, deletions);\n  return levenshtein;\n};\n\n\n/**\n * Crush the diff into an encoded string which describes the operations\n * required to transform text1 into text2.\n * E.g. =3\\t-2\\t+ing  -> Keep 3 chars, delete 2 chars, insert 'ing'.\n * Operations are tab-separated.  Inserted text is escaped using %xx notation.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Delta text.\n */\ndiff_match_patch.prototype.diff_toDelta = function(diffs) {\n  var text = [];\n  for (var x = 0; x < diffs.length; x++) {\n    switch (diffs[x][0]) {\n      case DIFF_INSERT:\n        text[x] = '+' + encodeURI(diffs[x][1]);\n        break;\n      case DIFF_DELETE:\n        text[x] = '-' + diffs[x][1].length;\n        break;\n      case DIFF_EQUAL:\n        text[x] = '=' + diffs[x][1].length;\n        break;\n    }\n  }\n  return text.join('\\t').replace(/%20/g, ' ');\n};\n\n\n/**\n * Given the original text1, and an encoded string which describes the\n * operations required to transform text1 into text2, compute the full diff.\n * @param {string} text1 Source string for the diff.\n * @param {string} delta Delta text.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @throws {!Error} If invalid input.\n */\ndiff_match_patch.prototype.diff_fromDelta = function(text1, delta) {\n  var diffs = [];\n  var diffsLength = 0;  // Keeping our own length var is faster in JS.\n  var pointer = 0;  // Cursor in text1\n  var tokens = delta.split(/\\t/g);\n  for (var x = 0; x < tokens.length; x++) {\n    // Each token begins with a one character parameter which specifies the\n    // operation of this token (delete, insert, equality).\n    var param = tokens[x].substring(1);\n    switch (tokens[x].charAt(0)) {\n      case '+':\n        try {\n          diffs[diffsLength++] =\n              new diff_match_patch.Diff(DIFF_INSERT, decodeURI(param));\n        } catch (ex) {\n          // Malformed URI sequence.\n          throw new Error('Illegal escape in diff_fromDelta: ' + param);\n        }\n        break;\n      case '-':\n        // Fall through.\n      case '=':\n        var n = parseInt(param, 10);\n        if (isNaN(n) || n < 0) {\n          throw new Error('Invalid number in diff_fromDelta: ' + param);\n        }\n        var text = text1.substring(pointer, pointer += n);\n        if (tokens[x].charAt(0) == '=') {\n          diffs[diffsLength++] = new diff_match_patch.Diff(DIFF_EQUAL, text);\n        } else {\n          diffs[diffsLength++] = new diff_match_patch.Diff(DIFF_DELETE, text);\n        }\n        break;\n      default:\n        // Blank tokens are ok (from a trailing \\t).\n        // Anything else is an error.\n        if (tokens[x]) {\n          throw new Error('Invalid diff operation in diff_fromDelta: ' +\n                          tokens[x]);\n        }\n    }\n  }\n  if (pointer != text1.length) {\n    throw new Error('Delta length (' + pointer +\n        ') does not equal source text length (' + text1.length + ').');\n  }\n  return diffs;\n};\n\n\n//  MATCH FUNCTIONS\n\n\n/**\n * Locate the best instance of 'pattern' in 'text' near 'loc'.\n * @param {string} text The text to search.\n * @param {string} pattern The pattern to search for.\n * @param {number} loc The location to search around.\n * @return {number} Best match index or -1.\n */\ndiff_match_patch.prototype.match_main = function(text, pattern, loc) {\n  // Check for null inputs.\n  if (text == null || pattern == null || loc == null) {\n    throw new Error('Null input. (match_main)');\n  }\n\n  loc = Math.max(0, Math.min(loc, text.length));\n  if (text == pattern) {\n    // Shortcut (potentially not guaranteed by the algorithm)\n    return 0;\n  } else if (!text.length) {\n    // Nothing to match.\n    return -1;\n  } else if (text.substring(loc, loc + pattern.length) == pattern) {\n    // Perfect match at the perfect spot!  (Includes case of null pattern)\n    return loc;\n  } else {\n    // Do a fuzzy compare.\n    return this.match_bitap_(text, pattern, loc);\n  }\n};\n\n\n/**\n * Locate the best instance of 'pattern' in 'text' near 'loc' using the\n * Bitap algorithm.\n * @param {string} text The text to search.\n * @param {string} pattern The pattern to search for.\n * @param {number} loc The location to search around.\n * @return {number} Best match index or -1.\n * @private\n */\ndiff_match_patch.prototype.match_bitap_ = function(text, pattern, loc) {\n  if (pattern.length > this.Match_MaxBits) {\n    throw new Error('Pattern too long for this browser.');\n  }\n\n  // Initialise the alphabet.\n  var s = this.match_alphabet_(pattern);\n\n  var dmp = this;  // 'this' becomes 'window' in a closure.\n\n  /**\n   * Compute and return the score for a match with e errors and x location.\n   * Accesses loc and pattern through being a closure.\n   * @param {number} e Number of errors in match.\n   * @param {number} x Location of match.\n   * @return {number} Overall score for match (0.0 = good, 1.0 = bad).\n   * @private\n   */\n  function match_bitapScore_(e, x) {\n    var accuracy = e / pattern.length;\n    var proximity = Math.abs(loc - x);\n    if (!dmp.Match_Distance) {\n      // Dodge divide by zero error.\n      return proximity ? 1.0 : accuracy;\n    }\n    return accuracy + (proximity / dmp.Match_Distance);\n  }\n\n  // Highest score beyond which we give up.\n  var score_threshold = this.Match_Threshold;\n  // Is there a nearby exact match? (speedup)\n  var best_loc = text.indexOf(pattern, loc);\n  if (best_loc != -1) {\n    score_threshold = Math.min(match_bitapScore_(0, best_loc), score_threshold);\n    // What about in the other direction? (speedup)\n    best_loc = text.lastIndexOf(pattern, loc + pattern.length);\n    if (best_loc != -1) {\n      score_threshold =\n          Math.min(match_bitapScore_(0, best_loc), score_threshold);\n    }\n  }\n\n  // Initialise the bit arrays.\n  var matchmask = 1 << (pattern.length - 1);\n  best_loc = -1;\n\n  var bin_min, bin_mid;\n  var bin_max = pattern.length + text.length;\n  var last_rd;\n  for (var d = 0; d < pattern.length; d++) {\n    // Scan for the best match; each iteration allows for one more error.\n    // Run a binary search to determine how far from 'loc' we can stray at this\n    // error level.\n    bin_min = 0;\n    bin_mid = bin_max;\n    while (bin_min < bin_mid) {\n      if (match_bitapScore_(d, loc + bin_mid) <= score_threshold) {\n        bin_min = bin_mid;\n      } else {\n        bin_max = bin_mid;\n      }\n      bin_mid = Math.floor((bin_max - bin_min) / 2 + bin_min);\n    }\n    // Use the result from this iteration as the maximum for the next.\n    bin_max = bin_mid;\n    var start = Math.max(1, loc - bin_mid + 1);\n    var finish = Math.min(loc + bin_mid, text.length) + pattern.length;\n\n    var rd = Array(finish + 2);\n    rd[finish + 1] = (1 << d) - 1;\n    for (var j = finish; j >= start; j--) {\n      // The alphabet (s) is a sparse hash, so the following line generates\n      // warnings.\n      var charMatch = s[text.charAt(j - 1)];\n      if (d === 0) {  // First pass: exact match.\n        rd[j] = ((rd[j + 1] << 1) | 1) & charMatch;\n      } else {  // Subsequent passes: fuzzy match.\n        rd[j] = (((rd[j + 1] << 1) | 1) & charMatch) |\n                (((last_rd[j + 1] | last_rd[j]) << 1) | 1) |\n                last_rd[j + 1];\n      }\n      if (rd[j] & matchmask) {\n        var score = match_bitapScore_(d, j - 1);\n        // This match will almost certainly be better than any existing match.\n        // But check anyway.\n        if (score <= score_threshold) {\n          // Told you so.\n          score_threshold = score;\n          best_loc = j - 1;\n          if (best_loc > loc) {\n            // When passing loc, don't exceed our current distance from loc.\n            start = Math.max(1, 2 * loc - best_loc);\n          } else {\n            // Already passed loc, downhill from here on in.\n            break;\n          }\n        }\n      }\n    }\n    // No hope for a (better) match at greater error levels.\n    if (match_bitapScore_(d + 1, loc) > score_threshold) {\n      break;\n    }\n    last_rd = rd;\n  }\n  return best_loc;\n};\n\n\n/**\n * Initialise the alphabet for the Bitap algorithm.\n * @param {string} pattern The text to encode.\n * @return {!Object} Hash of character locations.\n * @private\n */\ndiff_match_patch.prototype.match_alphabet_ = function(pattern) {\n  var s = {};\n  for (var i = 0; i < pattern.length; i++) {\n    s[pattern.charAt(i)] = 0;\n  }\n  for (var i = 0; i < pattern.length; i++) {\n    s[pattern.charAt(i)] |= 1 << (pattern.length - i - 1);\n  }\n  return s;\n};\n\n\n//  PATCH FUNCTIONS\n\n\n/**\n * Increase the context until it is unique,\n * but don't let the pattern expand beyond Match_MaxBits.\n * @param {!diff_match_patch.patch_obj} patch The patch to grow.\n * @param {string} text Source text.\n * @private\n */\ndiff_match_patch.prototype.patch_addContext_ = function(patch, text) {\n  if (text.length == 0) {\n    return;\n  }\n  if (patch.start2 === null) {\n    throw Error('patch not initialized');\n  }\n  var pattern = text.substring(patch.start2, patch.start2 + patch.length1);\n  var padding = 0;\n\n  // Look for the first and last matches of pattern in text.  If two different\n  // matches are found, increase the pattern length.\n  while (text.indexOf(pattern) != text.lastIndexOf(pattern) &&\n         pattern.length < this.Match_MaxBits - this.Patch_Margin -\n         this.Patch_Margin) {\n    padding += this.Patch_Margin;\n    pattern = text.substring(patch.start2 - padding,\n                             patch.start2 + patch.length1 + padding);\n  }\n  // Add one chunk for good luck.\n  padding += this.Patch_Margin;\n\n  // Add the prefix.\n  var prefix = text.substring(patch.start2 - padding, patch.start2);\n  if (prefix) {\n    patch.diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, prefix));\n  }\n  // Add the suffix.\n  var suffix = text.substring(patch.start2 + patch.length1,\n                              patch.start2 + patch.length1 + padding);\n  if (suffix) {\n    patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, suffix));\n  }\n\n  // Roll back the start points.\n  patch.start1 -= prefix.length;\n  patch.start2 -= prefix.length;\n  // Extend the lengths.\n  patch.length1 += prefix.length + suffix.length;\n  patch.length2 += prefix.length + suffix.length;\n};\n\n\n/**\n * Compute a list of patches to turn text1 into text2.\n * Use diffs if provided, otherwise compute it ourselves.\n * There are four ways to call this function, depending on what data is\n * available to the caller:\n * Method 1:\n * a = text1, b = text2\n * Method 2:\n * a = diffs\n * Method 3 (optimal):\n * a = text1, b = diffs\n * Method 4 (deprecated, use method 3):\n * a = text1, b = text2, c = diffs\n *\n * @param {string|!Array.<!diff_match_patch.Diff>} a text1 (methods 1,3,4) or\n * Array of diff tuples for text1 to text2 (method 2).\n * @param {string|!Array.<!diff_match_patch.Diff>=} opt_b text2 (methods 1,4) or\n * Array of diff tuples for text1 to text2 (method 3) or undefined (method 2).\n * @param {string|!Array.<!diff_match_patch.Diff>=} opt_c Array of diff tuples\n * for text1 to text2 (method 4) or undefined (methods 1,2,3).\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n */\ndiff_match_patch.prototype.patch_make = function(a, opt_b, opt_c) {\n  var text1, diffs;\n  if (typeof a == 'string' && typeof opt_b == 'string' &&\n      typeof opt_c == 'undefined') {\n    // Method 1: text1, text2\n    // Compute diffs from text1 and text2.\n    text1 = /** @type {string} */(a);\n    diffs = this.diff_main(text1, /** @type {string} */(opt_b), true);\n    if (diffs.length > 2) {\n      this.diff_cleanupSemantic(diffs);\n      this.diff_cleanupEfficiency(diffs);\n    }\n  } else if (a && typeof a == 'object' && typeof opt_b == 'undefined' &&\n      typeof opt_c == 'undefined') {\n    // Method 2: diffs\n    // Compute text1 from diffs.\n    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */(a);\n    text1 = this.diff_text1(diffs);\n  } else if (typeof a == 'string' && opt_b && typeof opt_b == 'object' &&\n      typeof opt_c == 'undefined') {\n    // Method 3: text1, diffs\n    text1 = /** @type {string} */(a);\n    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */(opt_b);\n  } else if (typeof a == 'string' && typeof opt_b == 'string' &&\n      opt_c && typeof opt_c == 'object') {\n    // Method 4: text1, text2, diffs\n    // text2 is not used.\n    text1 = /** @type {string} */(a);\n    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */(opt_c);\n  } else {\n    throw new Error('Unknown call format to patch_make.');\n  }\n\n  if (diffs.length === 0) {\n    return [];  // Get rid of the null case.\n  }\n  var patches = [];\n  var patch = new diff_match_patch.patch_obj();\n  var patchDiffLength = 0;  // Keeping our own length var is faster in JS.\n  var char_count1 = 0;  // Number of characters into the text1 string.\n  var char_count2 = 0;  // Number of characters into the text2 string.\n  // Start with text1 (prepatch_text) and apply the diffs until we arrive at\n  // text2 (postpatch_text).  We recreate the patches one by one to determine\n  // context info.\n  var prepatch_text = text1;\n  var postpatch_text = text1;\n  for (var x = 0; x < diffs.length; x++) {\n    var diff_type = diffs[x][0];\n    var diff_text = diffs[x][1];\n\n    if (!patchDiffLength && diff_type !== DIFF_EQUAL) {\n      // A new patch starts here.\n      patch.start1 = char_count1;\n      patch.start2 = char_count2;\n    }\n\n    switch (diff_type) {\n      case DIFF_INSERT:\n        patch.diffs[patchDiffLength++] = diffs[x];\n        patch.length2 += diff_text.length;\n        postpatch_text = postpatch_text.substring(0, char_count2) + diff_text +\n                         postpatch_text.substring(char_count2);\n        break;\n      case DIFF_DELETE:\n        patch.length1 += diff_text.length;\n        patch.diffs[patchDiffLength++] = diffs[x];\n        postpatch_text = postpatch_text.substring(0, char_count2) +\n                         postpatch_text.substring(char_count2 +\n                             diff_text.length);\n        break;\n      case DIFF_EQUAL:\n        if (diff_text.length <= 2 * this.Patch_Margin &&\n            patchDiffLength && diffs.length != x + 1) {\n          // Small equality inside a patch.\n          patch.diffs[patchDiffLength++] = diffs[x];\n          patch.length1 += diff_text.length;\n          patch.length2 += diff_text.length;\n        } else if (diff_text.length >= 2 * this.Patch_Margin) {\n          // Time for a new patch.\n          if (patchDiffLength) {\n            this.patch_addContext_(patch, prepatch_text);\n            patches.push(patch);\n            patch = new diff_match_patch.patch_obj();\n            patchDiffLength = 0;\n            // Unlike Unidiff, our patch lists have a rolling context.\n            // https://github.com/google/diff-match-patch/wiki/Unidiff\n            // Update prepatch text & pos to reflect the application of the\n            // just completed patch.\n            prepatch_text = postpatch_text;\n            char_count1 = char_count2;\n          }\n        }\n        break;\n    }\n\n    // Update the current character count.\n    if (diff_type !== DIFF_INSERT) {\n      char_count1 += diff_text.length;\n    }\n    if (diff_type !== DIFF_DELETE) {\n      char_count2 += diff_text.length;\n    }\n  }\n  // Pick up the leftover patch if not empty.\n  if (patchDiffLength) {\n    this.patch_addContext_(patch, prepatch_text);\n    patches.push(patch);\n  }\n\n  return patches;\n};\n\n\n/**\n * Given an array of patches, return another array that is identical.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n */\ndiff_match_patch.prototype.patch_deepCopy = function(patches) {\n  // Making deep copies is hard in JavaScript.\n  var patchesCopy = [];\n  for (var x = 0; x < patches.length; x++) {\n    var patch = patches[x];\n    var patchCopy = new diff_match_patch.patch_obj();\n    patchCopy.diffs = [];\n    for (var y = 0; y < patch.diffs.length; y++) {\n      patchCopy.diffs[y] =\n          new diff_match_patch.Diff(patch.diffs[y][0], patch.diffs[y][1]);\n    }\n    patchCopy.start1 = patch.start1;\n    patchCopy.start2 = patch.start2;\n    patchCopy.length1 = patch.length1;\n    patchCopy.length2 = patch.length2;\n    patchesCopy[x] = patchCopy;\n  }\n  return patchesCopy;\n};\n\n\n/**\n * Merge a set of patches onto the text.  Return a patched text, as well\n * as a list of true/false values indicating which patches were applied.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @param {string} text Old text.\n * @return {!Array.<string|!Array.<boolean>>} Two element Array, containing the\n *      new text and an array of boolean values.\n */\ndiff_match_patch.prototype.patch_apply = function(patches, text) {\n  if (patches.length == 0) {\n    return [text, []];\n  }\n\n  // Deep copy the patches so that no changes are made to originals.\n  patches = this.patch_deepCopy(patches);\n\n  var nullPadding = this.patch_addPadding(patches);\n  text = nullPadding + text + nullPadding;\n\n  this.patch_splitMax(patches);\n  // delta keeps track of the offset between the expected and actual location\n  // of the previous patch.  If there are patches expected at positions 10 and\n  // 20, but the first patch was found at 12, delta is 2 and the second patch\n  // has an effective expected position of 22.\n  var delta = 0;\n  var results = [];\n  for (var x = 0; x < patches.length; x++) {\n    var expected_loc = patches[x].start2 + delta;\n    var text1 = this.diff_text1(patches[x].diffs);\n    var start_loc;\n    var end_loc = -1;\n    if (text1.length > this.Match_MaxBits) {\n      // patch_splitMax will only provide an oversized pattern in the case of\n      // a monster delete.\n      start_loc = this.match_main(text, text1.substring(0, this.Match_MaxBits),\n                                  expected_loc);\n      if (start_loc != -1) {\n        end_loc = this.match_main(text,\n            text1.substring(text1.length - this.Match_MaxBits),\n            expected_loc + text1.length - this.Match_MaxBits);\n        if (end_loc == -1 || start_loc >= end_loc) {\n          // Can't find valid trailing context.  Drop this patch.\n          start_loc = -1;\n        }\n      }\n    } else {\n      start_loc = this.match_main(text, text1, expected_loc);\n    }\n    if (start_loc == -1) {\n      // No match found.  :(\n      results[x] = false;\n      // Subtract the delta for this failed patch from subsequent patches.\n      delta -= patches[x].length2 - patches[x].length1;\n    } else {\n      // Found a match.  :)\n      results[x] = true;\n      delta = start_loc - expected_loc;\n      var text2;\n      if (end_loc == -1) {\n        text2 = text.substring(start_loc, start_loc + text1.length);\n      } else {\n        text2 = text.substring(start_loc, end_loc + this.Match_MaxBits);\n      }\n      if (text1 == text2) {\n        // Perfect match, just shove the replacement text in.\n        text = text.substring(0, start_loc) +\n               this.diff_text2(patches[x].diffs) +\n               text.substring(start_loc + text1.length);\n      } else {\n        // Imperfect match.  Run a diff to get a framework of equivalent\n        // indices.\n        var diffs = this.diff_main(text1, text2, false);\n        if (text1.length > this.Match_MaxBits &&\n            this.diff_levenshtein(diffs) / text1.length >\n            this.Patch_DeleteThreshold) {\n          // The end points match, but the content is unacceptably bad.\n          results[x] = false;\n        } else {\n          this.diff_cleanupSemanticLossless(diffs);\n          var index1 = 0;\n          var index2;\n          for (var y = 0; y < patches[x].diffs.length; y++) {\n            var mod = patches[x].diffs[y];\n            if (mod[0] !== DIFF_EQUAL) {\n              index2 = this.diff_xIndex(diffs, index1);\n            }\n            if (mod[0] === DIFF_INSERT) {  // Insertion\n              text = text.substring(0, start_loc + index2) + mod[1] +\n                     text.substring(start_loc + index2);\n            } else if (mod[0] === DIFF_DELETE) {  // Deletion\n              text = text.substring(0, start_loc + index2) +\n                     text.substring(start_loc + this.diff_xIndex(diffs,\n                         index1 + mod[1].length));\n            }\n            if (mod[0] !== DIFF_DELETE) {\n              index1 += mod[1].length;\n            }\n          }\n        }\n      }\n    }\n  }\n  // Strip the padding off.\n  text = text.substring(nullPadding.length, text.length - nullPadding.length);\n  return [text, results];\n};\n\n\n/**\n * Add some padding on text start and end so that edges can match something.\n * Intended to be called only from within patch_apply.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {string} The padding string added to each side.\n */\ndiff_match_patch.prototype.patch_addPadding = function(patches) {\n  var paddingLength = this.Patch_Margin;\n  var nullPadding = '';\n  for (var x = 1; x <= paddingLength; x++) {\n    nullPadding += String.fromCharCode(x);\n  }\n\n  // Bump all the patches forward.\n  for (var x = 0; x < patches.length; x++) {\n    patches[x].start1 += paddingLength;\n    patches[x].start2 += paddingLength;\n  }\n\n  // Add some padding on start of first diff.\n  var patch = patches[0];\n  var diffs = patch.diffs;\n  if (diffs.length == 0 || diffs[0][0] != DIFF_EQUAL) {\n    // Add nullPadding equality.\n    diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, nullPadding));\n    patch.start1 -= paddingLength;  // Should be 0.\n    patch.start2 -= paddingLength;  // Should be 0.\n    patch.length1 += paddingLength;\n    patch.length2 += paddingLength;\n  } else if (paddingLength > diffs[0][1].length) {\n    // Grow first equality.\n    var extraLength = paddingLength - diffs[0][1].length;\n    diffs[0][1] = nullPadding.substring(diffs[0][1].length) + diffs[0][1];\n    patch.start1 -= extraLength;\n    patch.start2 -= extraLength;\n    patch.length1 += extraLength;\n    patch.length2 += extraLength;\n  }\n\n  // Add some padding on end of last diff.\n  patch = patches[patches.length - 1];\n  diffs = patch.diffs;\n  if (diffs.length == 0 || diffs[diffs.length - 1][0] != DIFF_EQUAL) {\n    // Add nullPadding equality.\n    diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, nullPadding));\n    patch.length1 += paddingLength;\n    patch.length2 += paddingLength;\n  } else if (paddingLength > diffs[diffs.length - 1][1].length) {\n    // Grow last equality.\n    var extraLength = paddingLength - diffs[diffs.length - 1][1].length;\n    diffs[diffs.length - 1][1] += nullPadding.substring(0, extraLength);\n    patch.length1 += extraLength;\n    patch.length2 += extraLength;\n  }\n\n  return nullPadding;\n};\n\n\n/**\n * Look through the patches and break up any which are longer than the maximum\n * limit of the match algorithm.\n * Intended to be called only from within patch_apply.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n */\ndiff_match_patch.prototype.patch_splitMax = function(patches) {\n  var patch_size = this.Match_MaxBits;\n  for (var x = 0; x < patches.length; x++) {\n    if (patches[x].length1 <= patch_size) {\n      continue;\n    }\n    var bigpatch = patches[x];\n    // Remove the big old patch.\n    patches.splice(x--, 1);\n    var start1 = bigpatch.start1;\n    var start2 = bigpatch.start2;\n    var precontext = '';\n    while (bigpatch.diffs.length !== 0) {\n      // Create one of several smaller patches.\n      var patch = new diff_match_patch.patch_obj();\n      var empty = true;\n      patch.start1 = start1 - precontext.length;\n      patch.start2 = start2 - precontext.length;\n      if (precontext !== '') {\n        patch.length1 = patch.length2 = precontext.length;\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, precontext));\n      }\n      while (bigpatch.diffs.length !== 0 &&\n             patch.length1 < patch_size - this.Patch_Margin) {\n        var diff_type = bigpatch.diffs[0][0];\n        var diff_text = bigpatch.diffs[0][1];\n        if (diff_type === DIFF_INSERT) {\n          // Insertions are harmless.\n          patch.length2 += diff_text.length;\n          start2 += diff_text.length;\n          patch.diffs.push(bigpatch.diffs.shift());\n          empty = false;\n        } else if (diff_type === DIFF_DELETE && patch.diffs.length == 1 &&\n                   patch.diffs[0][0] == DIFF_EQUAL &&\n                   diff_text.length > 2 * patch_size) {\n          // This is a large deletion.  Let it pass in one chunk.\n          patch.length1 += diff_text.length;\n          start1 += diff_text.length;\n          empty = false;\n          patch.diffs.push(new diff_match_patch.Diff(diff_type, diff_text));\n          bigpatch.diffs.shift();\n        } else {\n          // Deletion or equality.  Only take as much as we can stomach.\n          diff_text = diff_text.substring(0,\n              patch_size - patch.length1 - this.Patch_Margin);\n          patch.length1 += diff_text.length;\n          start1 += diff_text.length;\n          if (diff_type === DIFF_EQUAL) {\n            patch.length2 += diff_text.length;\n            start2 += diff_text.length;\n          } else {\n            empty = false;\n          }\n          patch.diffs.push(new diff_match_patch.Diff(diff_type, diff_text));\n          if (diff_text == bigpatch.diffs[0][1]) {\n            bigpatch.diffs.shift();\n          } else {\n            bigpatch.diffs[0][1] =\n                bigpatch.diffs[0][1].substring(diff_text.length);\n          }\n        }\n      }\n      // Compute the head context for the next patch.\n      precontext = this.diff_text2(patch.diffs);\n      precontext =\n          precontext.substring(precontext.length - this.Patch_Margin);\n      // Append the end context for this patch.\n      var postcontext = this.diff_text1(bigpatch.diffs)\n                            .substring(0, this.Patch_Margin);\n      if (postcontext !== '') {\n        patch.length1 += postcontext.length;\n        patch.length2 += postcontext.length;\n        if (patch.diffs.length !== 0 &&\n            patch.diffs[patch.diffs.length - 1][0] === DIFF_EQUAL) {\n          patch.diffs[patch.diffs.length - 1][1] += postcontext;\n        } else {\n          patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, postcontext));\n        }\n      }\n      if (!empty) {\n        patches.splice(++x, 0, patch);\n      }\n    }\n  }\n};\n\n\n/**\n * Take a list of patches and return a textual representation.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {string} Text representation of patches.\n */\ndiff_match_patch.prototype.patch_toText = function(patches) {\n  var text = [];\n  for (var x = 0; x < patches.length; x++) {\n    text[x] = patches[x];\n  }\n  return text.join('');\n};\n\n\n/**\n * Parse a textual representation of patches and return a list of Patch objects.\n * @param {string} textline Text representation of patches.\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n * @throws {!Error} If invalid input.\n */\ndiff_match_patch.prototype.patch_fromText = function(textline) {\n  var patches = [];\n  if (!textline) {\n    return patches;\n  }\n  var text = textline.split('\\n');\n  var textPointer = 0;\n  var patchHeader = /^@@ -(\\d+),?(\\d*) \\+(\\d+),?(\\d*) @@$/;\n  while (textPointer < text.length) {\n    var m = text[textPointer].match(patchHeader);\n    if (!m) {\n      throw new Error('Invalid patch string: ' + text[textPointer]);\n    }\n    var patch = new diff_match_patch.patch_obj();\n    patches.push(patch);\n    patch.start1 = parseInt(m[1], 10);\n    if (m[2] === '') {\n      patch.start1--;\n      patch.length1 = 1;\n    } else if (m[2] == '0') {\n      patch.length1 = 0;\n    } else {\n      patch.start1--;\n      patch.length1 = parseInt(m[2], 10);\n    }\n\n    patch.start2 = parseInt(m[3], 10);\n    if (m[4] === '') {\n      patch.start2--;\n      patch.length2 = 1;\n    } else if (m[4] == '0') {\n      patch.length2 = 0;\n    } else {\n      patch.start2--;\n      patch.length2 = parseInt(m[4], 10);\n    }\n    textPointer++;\n\n    while (textPointer < text.length) {\n      var sign = text[textPointer].charAt(0);\n      try {\n        var line = decodeURI(text[textPointer].substring(1));\n      } catch (ex) {\n        // Malformed URI sequence.\n        throw new Error('Illegal escape in patch_fromText: ' + line);\n      }\n      if (sign == '-') {\n        // Deletion.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_DELETE, line));\n      } else if (sign == '+') {\n        // Insertion.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_INSERT, line));\n      } else if (sign == ' ') {\n        // Minor equality.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, line));\n      } else if (sign == '@') {\n        // Start of next patch.\n        break;\n      } else if (sign === '') {\n        // Blank line?  Whatever.\n      } else {\n        // WTF?\n        throw new Error('Invalid patch mode \"' + sign + '\" in: ' + line);\n      }\n      textPointer++;\n    }\n  }\n  return patches;\n};\n\n\n/**\n * Class representing one patch operation.\n * @constructor\n */\ndiff_match_patch.patch_obj = function() {\n  /** @type {!Array.<!diff_match_patch.Diff>} */\n  this.diffs = [];\n  /** @type {?number} */\n  this.start1 = null;\n  /** @type {?number} */\n  this.start2 = null;\n  /** @type {number} */\n  this.length1 = 0;\n  /** @type {number} */\n  this.length2 = 0;\n};\n\n\n/**\n * Emulate GNU diff's format.\n * Header: @@ -382,8 +481,9 @@\n * Indices are printed as 1-based, not 0-based.\n * @return {string} The GNU diff string.\n */\ndiff_match_patch.patch_obj.prototype.toString = function() {\n  var coords1, coords2;\n  if (this.length1 === 0) {\n    coords1 = this.start1 + ',0';\n  } else if (this.length1 == 1) {\n    coords1 = this.start1 + 1;\n  } else {\n    coords1 = (this.start1 + 1) + ',' + this.length1;\n  }\n  if (this.length2 === 0) {\n    coords2 = this.start2 + ',0';\n  } else if (this.length2 == 1) {\n    coords2 = this.start2 + 1;\n  } else {\n    coords2 = (this.start2 + 1) + ',' + this.length2;\n  }\n  var text = ['@@ -' + coords1 + ' +' + coords2 + ' @@\\n'];\n  var op;\n  // Escape the body of the patch with %xx notation.\n  for (var x = 0; x < this.diffs.length; x++) {\n    switch (this.diffs[x][0]) {\n      case DIFF_INSERT:\n        op = '+';\n        break;\n      case DIFF_DELETE:\n        op = '-';\n        break;\n      case DIFF_EQUAL:\n        op = ' ';\n        break;\n    }\n    text[x + 1] = op + encodeURI(this.diffs[x][1]) + '\\n';\n  }\n  return text.join('').replace(/%20/g, ' ');\n};\n\n\n// The following export code was added by @ForbesLindesay\nmodule.exports = diff_match_patch;\nmodule.exports['diff_match_patch'] = diff_match_patch;\nmodule.exports['DIFF_DELETE'] = DIFF_DELETE;\nmodule.exports['DIFF_INSERT'] = DIFF_INSERT;\nmodule.exports['DIFF_EQUAL'] = DIFF_EQUAL;","'use strict';\nvar defineProperty = require('../internals/object-define-property').f;\nvar create = require('../internals/object-create');\nvar redefineAll = require('../internals/redefine-all');\nvar bind = require('../internals/function-bind-context');\nvar anInstance = require('../internals/an-instance');\nvar iterate = require('../internals/iterate');\nvar defineIterator = require('../internals/define-iterator');\nvar setSpecies = require('../internals/set-species');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fastKey = require('../internals/internal-metadata').fastKey;\nvar InternalStateModule = require('../internals/internal-state');\n\nvar setInternalState = InternalStateModule.set;\nvar internalStateGetterFor = InternalStateModule.getterFor;\n\nmodule.exports = {\n  getConstructor: function (wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {\n    var Constructor = wrapper(function (that, iterable) {\n      anInstance(that, Prototype);\n      setInternalState(that, {\n        type: CONSTRUCTOR_NAME,\n        index: create(null),\n        first: undefined,\n        last: undefined,\n        size: 0\n      });\n      if (!DESCRIPTORS) that.size = 0;\n      if (iterable != undefined) iterate(iterable, that[ADDER], { that: that, AS_ENTRIES: IS_MAP });\n    });\n\n    var Prototype = Constructor.prototype;\n\n    var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);\n\n    var define = function (that, key, value) {\n      var state = getInternalState(that);\n      var entry = getEntry(that, key);\n      var previous, index;\n      // change existing entry\n      if (entry) {\n        entry.value = value;\n      // create new entry\n      } else {\n        state.last = entry = {\n          index: index = fastKey(key, true),\n          key: key,\n          value: value,\n          previous: previous = state.last,\n          next: undefined,\n          removed: false\n        };\n        if (!state.first) state.first = entry;\n        if (previous) previous.next = entry;\n        if (DESCRIPTORS) state.size++;\n        else that.size++;\n        // add to index\n        if (index !== 'F') state.index[index] = entry;\n      } return that;\n    };\n\n    var getEntry = function (that, key) {\n      var state = getInternalState(that);\n      // fast case\n      var index = fastKey(key);\n      var entry;\n      if (index !== 'F') return state.index[index];\n      // frozen object case\n      for (entry = state.first; entry; entry = entry.next) {\n        if (entry.key == key) return entry;\n      }\n    };\n\n    redefineAll(Prototype, {\n      // `{ Map, Set }.prototype.clear()` methods\n      // https://tc39.es/ecma262/#sec-map.prototype.clear\n      // https://tc39.es/ecma262/#sec-set.prototype.clear\n      clear: function clear() {\n        var that = this;\n        var state = getInternalState(that);\n        var data = state.index;\n        var entry = state.first;\n        while (entry) {\n          entry.removed = true;\n          if (entry.previous) entry.previous = entry.previous.next = undefined;\n          delete data[entry.index];\n          entry = entry.next;\n        }\n        state.first = state.last = undefined;\n        if (DESCRIPTORS) state.size = 0;\n        else that.size = 0;\n      },\n      // `{ Map, Set }.prototype.delete(key)` methods\n      // https://tc39.es/ecma262/#sec-map.prototype.delete\n      // https://tc39.es/ecma262/#sec-set.prototype.delete\n      'delete': function (key) {\n        var that = this;\n        var state = getInternalState(that);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.next;\n          var prev = entry.previous;\n          delete state.index[entry.index];\n          entry.removed = true;\n          if (prev) prev.next = next;\n          if (next) next.previous = prev;\n          if (state.first == entry) state.first = next;\n          if (state.last == entry) state.last = prev;\n          if (DESCRIPTORS) state.size--;\n          else that.size--;\n        } return !!entry;\n      },\n      // `{ Map, Set }.prototype.forEach(callbackfn, thisArg = undefined)` methods\n      // https://tc39.es/ecma262/#sec-map.prototype.foreach\n      // https://tc39.es/ecma262/#sec-set.prototype.foreach\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        var state = getInternalState(this);\n        var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n        var entry;\n        while (entry = entry ? entry.next : state.first) {\n          boundFunction(entry.value, entry.key, this);\n          // revert to the last existing entry\n          while (entry && entry.removed) entry = entry.previous;\n        }\n      },\n      // `{ Map, Set}.prototype.has(key)` methods\n      // https://tc39.es/ecma262/#sec-map.prototype.has\n      // https://tc39.es/ecma262/#sec-set.prototype.has\n      has: function has(key) {\n        return !!getEntry(this, key);\n      }\n    });\n\n    redefineAll(Prototype, IS_MAP ? {\n      // `Map.prototype.get(key)` method\n      // https://tc39.es/ecma262/#sec-map.prototype.get\n      get: function get(key) {\n        var entry = getEntry(this, key);\n        return entry && entry.value;\n      },\n      // `Map.prototype.set(key, value)` method\n      // https://tc39.es/ecma262/#sec-map.prototype.set\n      set: function set(key, value) {\n        return define(this, key === 0 ? 0 : key, value);\n      }\n    } : {\n      // `Set.prototype.add(value)` method\n      // https://tc39.es/ecma262/#sec-set.prototype.add\n      add: function add(value) {\n        return define(this, value = value === 0 ? 0 : value, value);\n      }\n    });\n    if (DESCRIPTORS) defineProperty(Prototype, 'size', {\n      get: function () {\n        return getInternalState(this).size;\n      }\n    });\n    return Constructor;\n  },\n  setStrong: function (Constructor, CONSTRUCTOR_NAME, IS_MAP) {\n    var ITERATOR_NAME = CONSTRUCTOR_NAME + ' Iterator';\n    var getInternalCollectionState = internalStateGetterFor(CONSTRUCTOR_NAME);\n    var getInternalIteratorState = internalStateGetterFor(ITERATOR_NAME);\n    // `{ Map, Set }.prototype.{ keys, values, entries, @@iterator }()` methods\n    // https://tc39.es/ecma262/#sec-map.prototype.entries\n    // https://tc39.es/ecma262/#sec-map.prototype.keys\n    // https://tc39.es/ecma262/#sec-map.prototype.values\n    // https://tc39.es/ecma262/#sec-map.prototype-@@iterator\n    // https://tc39.es/ecma262/#sec-set.prototype.entries\n    // https://tc39.es/ecma262/#sec-set.prototype.keys\n    // https://tc39.es/ecma262/#sec-set.prototype.values\n    // https://tc39.es/ecma262/#sec-set.prototype-@@iterator\n    defineIterator(Constructor, CONSTRUCTOR_NAME, function (iterated, kind) {\n      setInternalState(this, {\n        type: ITERATOR_NAME,\n        target: iterated,\n        state: getInternalCollectionState(iterated),\n        kind: kind,\n        last: undefined\n      });\n    }, function () {\n      var state = getInternalIteratorState(this);\n      var kind = state.kind;\n      var entry = state.last;\n      // revert to the last existing entry\n      while (entry && entry.removed) entry = entry.previous;\n      // get next entry\n      if (!state.target || !(state.last = entry = entry ? entry.next : state.state.first)) {\n        // or finish the iteration\n        state.target = undefined;\n        return { value: undefined, done: true };\n      }\n      // return step by kind\n      if (kind == 'keys') return { value: entry.key, done: false };\n      if (kind == 'values') return { value: entry.value, done: false };\n      return { value: [entry.key, entry.value], done: false };\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // `{ Map, Set }.prototype[@@species]` accessors\n    // https://tc39.es/ecma262/#sec-get-map-@@species\n    // https://tc39.es/ecma262/#sec-get-set-@@species\n    setSpecies(CONSTRUCTOR_NAME);\n  }\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar InternalMetadataModule = require('../internals/internal-metadata');\nvar iterate = require('../internals/iterate');\nvar anInstance = require('../internals/an-instance');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar fails = require('../internals/fails');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar inheritIfRequired = require('../internals/inherit-if-required');\n\nmodule.exports = function (CONSTRUCTOR_NAME, wrapper, common) {\n  var IS_MAP = CONSTRUCTOR_NAME.indexOf('Map') !== -1;\n  var IS_WEAK = CONSTRUCTOR_NAME.indexOf('Weak') !== -1;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var NativeConstructor = global[CONSTRUCTOR_NAME];\n  var NativePrototype = NativeConstructor && NativeConstructor.prototype;\n  var Constructor = NativeConstructor;\n  var exported = {};\n\n  var fixMethod = function (KEY) {\n    var uncurriedNativeMethod = uncurryThis(NativePrototype[KEY]);\n    redefine(NativePrototype, KEY,\n      KEY == 'add' ? function add(value) {\n        uncurriedNativeMethod(this, value === 0 ? 0 : value);\n        return this;\n      } : KEY == 'delete' ? function (key) {\n        return IS_WEAK && !isObject(key) ? false : uncurriedNativeMethod(this, key === 0 ? 0 : key);\n      } : KEY == 'get' ? function get(key) {\n        return IS_WEAK && !isObject(key) ? undefined : uncurriedNativeMethod(this, key === 0 ? 0 : key);\n      } : KEY == 'has' ? function has(key) {\n        return IS_WEAK && !isObject(key) ? false : uncurriedNativeMethod(this, key === 0 ? 0 : key);\n      } : function set(key, value) {\n        uncurriedNativeMethod(this, key === 0 ? 0 : key, value);\n        return this;\n      }\n    );\n  };\n\n  var REPLACE = isForced(\n    CONSTRUCTOR_NAME,\n    !isCallable(NativeConstructor) || !(IS_WEAK || NativePrototype.forEach && !fails(function () {\n      new NativeConstructor().entries().next();\n    }))\n  );\n\n  if (REPLACE) {\n    // create collection constructor\n    Constructor = common.getConstructor(wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER);\n    InternalMetadataModule.enable();\n  } else if (isForced(CONSTRUCTOR_NAME, true)) {\n    var instance = new Constructor();\n    // early implementations not supports chaining\n    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;\n    // V8 ~ Chromium 40- weak-collections throws on primitives, but should return false\n    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n    // most early implementations doesn't supports iterables, most modern - not close it correctly\n    // eslint-disable-next-line no-new -- required for testing\n    var ACCEPT_ITERABLES = checkCorrectnessOfIteration(function (iterable) { new NativeConstructor(iterable); });\n    // for early implementations -0 and +0 not the same\n    var BUGGY_ZERO = !IS_WEAK && fails(function () {\n      // V8 ~ Chromium 42- fails only with 5+ elements\n      var $instance = new NativeConstructor();\n      var index = 5;\n      while (index--) $instance[ADDER](index, index);\n      return !$instance.has(-0);\n    });\n\n    if (!ACCEPT_ITERABLES) {\n      Constructor = wrapper(function (dummy, iterable) {\n        anInstance(dummy, NativePrototype);\n        var that = inheritIfRequired(new NativeConstructor(), dummy, Constructor);\n        if (iterable != undefined) iterate(iterable, that[ADDER], { that: that, AS_ENTRIES: IS_MAP });\n        return that;\n      });\n      Constructor.prototype = NativePrototype;\n      NativePrototype.constructor = Constructor;\n    }\n\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n\n    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n\n    // weak collections should not contains .clear method\n    if (IS_WEAK && NativePrototype.clear) delete NativePrototype.clear;\n  }\n\n  exported[CONSTRUCTOR_NAME] = Constructor;\n  $({ global: true, forced: Constructor != NativeConstructor }, exported);\n\n  setToStringTag(Constructor, CONSTRUCTOR_NAME);\n\n  if (!IS_WEAK) common.setStrong(Constructor, CONSTRUCTOR_NAME, IS_MAP);\n\n  return Constructor;\n};\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var noOptions = {};\n  var nonWS = /[^\\s\\u00a0]/;\n  var Pos = CodeMirror.Pos, cmp = CodeMirror.cmpPos;\n\n  function firstNonWS(str) {\n    var found = str.search(nonWS);\n    return found == -1 ? 0 : found;\n  }\n\n  CodeMirror.commands.toggleComment = function(cm) {\n    cm.toggleComment();\n  };\n\n  CodeMirror.defineExtension(\"toggleComment\", function(options) {\n    if (!options) options = noOptions;\n    var cm = this;\n    var minLine = Infinity, ranges = this.listSelections(), mode = null;\n    for (var i = ranges.length - 1; i >= 0; i--) {\n      var from = ranges[i].from(), to = ranges[i].to();\n      if (from.line >= minLine) continue;\n      if (to.line >= minLine) to = Pos(minLine, 0);\n      minLine = from.line;\n      if (mode == null) {\n        if (cm.uncomment(from, to, options)) mode = \"un\";\n        else { cm.lineComment(from, to, options); mode = \"line\"; }\n      } else if (mode == \"un\") {\n        cm.uncomment(from, to, options);\n      } else {\n        cm.lineComment(from, to, options);\n      }\n    }\n  });\n\n  // Rough heuristic to try and detect lines that are part of multi-line string\n  function probablyInsideString(cm, pos, line) {\n    return /\\bstring\\b/.test(cm.getTokenTypeAt(Pos(pos.line, 0))) && !/^[\\'\\\"\\`]/.test(line)\n  }\n\n  function getMode(cm, pos) {\n    var mode = cm.getMode()\n    return mode.useInnerComments === false || !mode.innerMode ? mode : cm.getModeAt(pos)\n  }\n\n  CodeMirror.defineExtension(\"lineComment\", function(from, to, options) {\n    if (!options) options = noOptions;\n    var self = this, mode = getMode(self, from);\n    var firstLine = self.getLine(from.line);\n    if (firstLine == null || probablyInsideString(self, from, firstLine)) return;\n\n    var commentString = options.lineComment || mode.lineComment;\n    if (!commentString) {\n      if (options.blockCommentStart || mode.blockCommentStart) {\n        options.fullLines = true;\n        self.blockComment(from, to, options);\n      }\n      return;\n    }\n\n    var end = Math.min(to.ch != 0 || to.line == from.line ? to.line + 1 : to.line, self.lastLine() + 1);\n    var pad = options.padding == null ? \" \" : options.padding;\n    var blankLines = options.commentBlankLines || from.line == to.line;\n\n    self.operation(function() {\n      if (options.indent) {\n        var baseString = null;\n        for (var i = from.line; i < end; ++i) {\n          var line = self.getLine(i);\n          var whitespace = line.slice(0, firstNonWS(line));\n          if (baseString == null || baseString.length > whitespace.length) {\n            baseString = whitespace;\n          }\n        }\n        for (var i = from.line; i < end; ++i) {\n          var line = self.getLine(i), cut = baseString.length;\n          if (!blankLines && !nonWS.test(line)) continue;\n          if (line.slice(0, cut) != baseString) cut = firstNonWS(line);\n          self.replaceRange(baseString + commentString + pad, Pos(i, 0), Pos(i, cut));\n        }\n      } else {\n        for (var i = from.line; i < end; ++i) {\n          if (blankLines || nonWS.test(self.getLine(i)))\n            self.replaceRange(commentString + pad, Pos(i, 0));\n        }\n      }\n    });\n  });\n\n  CodeMirror.defineExtension(\"blockComment\", function(from, to, options) {\n    if (!options) options = noOptions;\n    var self = this, mode = getMode(self, from);\n    var startString = options.blockCommentStart || mode.blockCommentStart;\n    var endString = options.blockCommentEnd || mode.blockCommentEnd;\n    if (!startString || !endString) {\n      if ((options.lineComment || mode.lineComment) && options.fullLines != false)\n        self.lineComment(from, to, options);\n      return;\n    }\n    if (/\\bcomment\\b/.test(self.getTokenTypeAt(Pos(from.line, 0)))) return\n\n    var end = Math.min(to.line, self.lastLine());\n    if (end != from.line && to.ch == 0 && nonWS.test(self.getLine(end))) --end;\n\n    var pad = options.padding == null ? \" \" : options.padding;\n    if (from.line > end) return;\n\n    self.operation(function() {\n      if (options.fullLines != false) {\n        var lastLineHasText = nonWS.test(self.getLine(end));\n        self.replaceRange(pad + endString, Pos(end));\n        self.replaceRange(startString + pad, Pos(from.line, 0));\n        var lead = options.blockCommentLead || mode.blockCommentLead;\n        if (lead != null) for (var i = from.line + 1; i <= end; ++i)\n          if (i != end || lastLineHasText)\n            self.replaceRange(lead + pad, Pos(i, 0));\n      } else {\n        var atCursor = cmp(self.getCursor(\"to\"), to) == 0, empty = !self.somethingSelected()\n        self.replaceRange(endString, to);\n        if (atCursor) self.setSelection(empty ? to : self.getCursor(\"from\"), to)\n        self.replaceRange(startString, from);\n      }\n    });\n  });\n\n  CodeMirror.defineExtension(\"uncomment\", function(from, to, options) {\n    if (!options) options = noOptions;\n    var self = this, mode = getMode(self, from);\n    var end = Math.min(to.ch != 0 || to.line == from.line ? to.line : to.line - 1, self.lastLine()), start = Math.min(from.line, end);\n\n    // Try finding line comments\n    var lineString = options.lineComment || mode.lineComment, lines = [];\n    var pad = options.padding == null ? \" \" : options.padding, didSomething;\n    lineComment: {\n      if (!lineString) break lineComment;\n      for (var i = start; i <= end; ++i) {\n        var line = self.getLine(i);\n        var found = line.indexOf(lineString);\n        if (found > -1 && !/comment/.test(self.getTokenTypeAt(Pos(i, found + 1)))) found = -1;\n        if (found == -1 && nonWS.test(line)) break lineComment;\n        if (found > -1 && nonWS.test(line.slice(0, found))) break lineComment;\n        lines.push(line);\n      }\n      self.operation(function() {\n        for (var i = start; i <= end; ++i) {\n          var line = lines[i - start];\n          var pos = line.indexOf(lineString), endPos = pos + lineString.length;\n          if (pos < 0) continue;\n          if (line.slice(endPos, endPos + pad.length) == pad) endPos += pad.length;\n          didSomething = true;\n          self.replaceRange(\"\", Pos(i, pos), Pos(i, endPos));\n        }\n      });\n      if (didSomething) return true;\n    }\n\n    // Try block comments\n    var startString = options.blockCommentStart || mode.blockCommentStart;\n    var endString = options.blockCommentEnd || mode.blockCommentEnd;\n    if (!startString || !endString) return false;\n    var lead = options.blockCommentLead || mode.blockCommentLead;\n    var startLine = self.getLine(start), open = startLine.indexOf(startString)\n    if (open == -1) return false\n    var endLine = end == start ? startLine : self.getLine(end)\n    var close = endLine.indexOf(endString, end == start ? open + startString.length : 0);\n    var insideStart = Pos(start, open + 1), insideEnd = Pos(end, close + 1)\n    if (close == -1 ||\n        !/comment/.test(self.getTokenTypeAt(insideStart)) ||\n        !/comment/.test(self.getTokenTypeAt(insideEnd)) ||\n        self.getRange(insideStart, insideEnd, \"\\n\").indexOf(endString) > -1)\n      return false;\n\n    // Avoid killing block comments completely outside the selection.\n    // Positions of the last startString before the start of the selection, and the first endString after it.\n    var lastStart = startLine.lastIndexOf(startString, from.ch);\n    var firstEnd = lastStart == -1 ? -1 : startLine.slice(0, from.ch).indexOf(endString, lastStart + startString.length);\n    if (lastStart != -1 && firstEnd != -1 && firstEnd + endString.length != from.ch) return false;\n    // Positions of the first endString after the end of the selection, and the last startString before it.\n    firstEnd = endLine.indexOf(endString, to.ch);\n    var almostLastStart = endLine.slice(to.ch).lastIndexOf(startString, firstEnd - to.ch);\n    lastStart = (firstEnd == -1 || almostLastStart == -1) ? -1 : to.ch + almostLastStart;\n    if (firstEnd != -1 && lastStart != -1 && lastStart != to.ch) return false;\n\n    self.operation(function() {\n      self.replaceRange(\"\", Pos(end, close - (pad && endLine.slice(close - pad.length, close) == pad ? pad.length : 0)),\n                        Pos(end, close + endString.length));\n      var openEnd = open + startString.length;\n      if (pad && startLine.slice(openEnd, openEnd + pad.length) == pad) openEnd += pad.length;\n      self.replaceRange(\"\", Pos(start, open), Pos(start, openEnd));\n      if (lead) for (var i = start + 1; i <= end; ++i) {\n        var line = self.getLine(i), found = line.indexOf(lead);\n        if (found == -1 || nonWS.test(line.slice(0, found))) continue;\n        var foundEnd = found + lead.length;\n        if (pad && line.slice(foundEnd, foundEnd + pad.length) == pad) foundEnd += pad.length;\n        self.replaceRange(\"\", Pos(i, found), Pos(i, foundEnd));\n      }\n    });\n    return true;\n  });\n});\n","const DiffPatchMatch = require(\"diff-match-patch\");\r\n\r\nconst dmp = new DiffPatchMatch();\r\n\r\nclass TextController {\r\n  constructor(code = \"\") {\r\n    this.code = code;\r\n    this.shadow = code;\r\n    this.cursorPos = 0;\r\n  }\r\n  applyPatch(patches) {\r\n    let result = dmp.patch_apply(patches, this.code);\r\n    this.code = result[0];\r\n    // this.shadow = this.code;\r\n    let patch_applied = 0;\r\n    for (let i = 0; i < result[1].length; i++) {\r\n      if (result[1][i]) {\r\n        patch_applied++;\r\n      }\r\n    }\r\n    let iter = 0;\r\n    let delta = 0;\r\n    for (let i = 0; i < patches.length; i++) {\r\n      if (result[1][i]) {\r\n        if (patches[i].start1 !== patches[i].start2) {\r\n          console.log(\"Error at patch \", i);\r\n        }\r\n        // patch is applying to [start1, start1 + length1)\r\n        if (patches[i].start1 + patches[i].length1 <= this.cursorPos)\r\n          delta += patches[i].length2 - patches[i].length1;\r\n        else if (patches[i].start1 >= this.cursorPos) break;\r\n        else {\r\n          iter = patches[i].start1;\r\n          for (let j = 0; j < patches[i].diffs.length; j++) {\r\n            if (patches[i].diffs[j][0] == 0) {\r\n              iter += patches[i].diffs[j][1].length;\r\n            } else if (patches[i].diffs[j][0] == 1) {\r\n              if (iter <= this.cursorPos) {\r\n                delta += patches[i].diffs[j][1].length;\r\n              }\r\n            } else {\r\n              iter += patches[i].diffs[j][1].length;\r\n              if (iter <= this.cursorPos) {\r\n                delta -= patches[i].diffs[j][1].length;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    this.cursorPos += delta;\r\n    if (this.cursorPos > this.code.length) this.cursorPos = this.code.length;\r\n    // console.log(\"cursor delta\", delta);\r\n    return patch_applied;\r\n  }\r\n  updateCursor(line, ch) {\r\n    let iter = 0;\r\n    let lineCount = 0;\r\n    while (lineCount < line) {\r\n      if (this.code[iter] == \"\\n\") {\r\n        lineCount++;\r\n      }\r\n      iter++;\r\n    }\r\n    iter += ch;\r\n    this.cursorPos = iter;\r\n    // console.log(\"updated to \", this.cursorPos, \"from\", line, ch);\r\n  }\r\n  setCursor() {\r\n    let lastEndlineFound = -1;\r\n    let lineCount = 0;\r\n    for (let i = this.cursorPos - 1; i >= 0; i--) {\r\n      if (this.code[i] === \"\\n\") {\r\n        lineCount++;\r\n        if (lastEndlineFound == -1) {\r\n          lastEndlineFound = i;\r\n        }\r\n      }\r\n    }\r\n    return {\r\n      line: lineCount,\r\n      ch: this.cursorPos - 1 - lastEndlineFound,\r\n    };\r\n  }\r\n  makePatch(data = undefined) {\r\n    if (data === undefined) {\r\n      return dmp.patch_make(this.shadow, this.code);\r\n    } else {\r\n      return dmp.patch_make(this.code, data);\r\n    }\r\n  }\r\n  fullPatch() {\r\n    return dmp.patch_make(\"\", this.code);\r\n  }\r\n  displayPatch() {\r\n    return dmp.patch_toText(this.makePatch());\r\n  }\r\n  localPatch(patch) {\r\n    let result = dmp.patch_apply(patch, this.code);\r\n    this.code = result[0];\r\n    result = dmp.patch_apply(patch, this.shadow);\r\n    this.shadow = result[0];\r\n  }\r\n}\r\n\r\nmodule.exports = TextController;\r\n","import globalThis from \"../globalThis.js\";\nexport const nextTick = (() => {\n    const isPromiseAvailable = typeof Promise === \"function\" && typeof Promise.resolve === \"function\";\n    if (isPromiseAvailable) {\n        return cb => Promise.resolve().then(cb);\n    }\n    else {\n        return (cb, setTimeoutFn) => setTimeoutFn(cb, 0);\n    }\n})();\nexport const WebSocket = globalThis.WebSocket || globalThis.MozWebSocket;\nexport const usingBrowserWebSocket = true;\nexport const defaultBinaryType = \"arraybuffer\";\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"fill-height\",attrs:{\"fluid\":\"\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":12}},[(!_vm.logged)?_c('v-container',[_c('v-row',{attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"8\",\"md\":\"4\"}},[_c('v-form',[_c('v-text-field',{attrs:{\"counter\":10,\"label\":\"Name\",\"required\":\"\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_c('v-text-field',{attrs:{\"counter\":10,\"label\":\"Room\",\"required\":\"\"},model:{value:(_vm.room),callback:function ($$v) {_vm.room=$$v},expression:\"room\"}}),_c('v-btn',{staticClass:\"mr-4\",attrs:{\"color\":\"green\"},on:{\"click\":_vm.createUser}},[_vm._v(\" Go \")])],1)],1)],1)],1):_c('v-container',[_c('v-row',{staticClass:\"px-2\"},[_c('v-col',[_c('p',[_vm._v(\"Current users: \"+_vm._s(_vm.users.length)+\" users\")]),_vm._l((_vm.users),function(user){return _c('v-card-text',{key:user.id},[_c('div',[_vm._v(\"Name\")]),_c('p',{staticClass:\"text-h4 text--primary\"},[_vm._v(\" \"+_vm._s(user.name)+\" \"),(user.id == _vm.socket.id)?_c('span',{staticClass:\"text-center\"},[_vm._v(\" (You) \"),_c('v-btn',{attrs:{\"align\":\"right\"},on:{\"click\":_vm.exitRoom}},[_vm._v(\" Exit \")])],1):_vm._e()])])})],2)],1),_c('v-row',{staticClass:\"px-2\"},[_c('v-col',[_c('Editor',{ref:\"editor\",on:{\"input\":_vm.socketUpdateText,\"newCursor\":_vm.socketUpdateCursor},model:{value:(_vm.code),callback:function ($$v) {_vm.code=$$v},expression:\"code\"}})],1)],1)],1),_c('v-snackbar',{attrs:{\"timeout\":_vm.timeout},model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_vm._v(\" \"+_vm._s(_vm.notiContent)+\" \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import parseuri from \"parseuri\";\n/**\n * URL parser.\n *\n * @param uri - url\n * @param path - the request path of the connection\n * @param loc - An object meant to mimic window.location.\n *        Defaults to window.location.\n * @public\n */\nexport function url(uri, path = \"\", loc) {\n    let obj = uri;\n    // default to window.location\n    loc = loc || (typeof location !== \"undefined\" && location);\n    if (null == uri)\n        uri = loc.protocol + \"//\" + loc.host;\n    // relative path support\n    if (typeof uri === \"string\") {\n        if (\"/\" === uri.charAt(0)) {\n            if (\"/\" === uri.charAt(1)) {\n                uri = loc.protocol + uri;\n            }\n            else {\n                uri = loc.host + uri;\n            }\n        }\n        if (!/^(https?|wss?):\\/\\//.test(uri)) {\n            if (\"undefined\" !== typeof loc) {\n                uri = loc.protocol + \"//\" + uri;\n            }\n            else {\n                uri = \"https://\" + uri;\n            }\n        }\n        // parse\n        obj = parseuri(uri);\n    }\n    // make sure we treat `localhost:80` and `localhost` equally\n    if (!obj.port) {\n        if (/^(http|ws)$/.test(obj.protocol)) {\n            obj.port = \"80\";\n        }\n        else if (/^(http|ws)s$/.test(obj.protocol)) {\n            obj.port = \"443\";\n        }\n    }\n    obj.path = obj.path || \"/\";\n    const ipv6 = obj.host.indexOf(\":\") !== -1;\n    const host = ipv6 ? \"[\" + obj.host + \"]\" : obj.host;\n    // define unique id\n    obj.id = obj.protocol + \"://\" + host + \":\" + obj.port + path;\n    // define href\n    obj.href =\n        obj.protocol +\n            \"://\" +\n            host +\n            (loc && loc.port === obj.port ? \"\" : \":\" + obj.port);\n    return obj;\n}\n","// browser shim for xmlhttprequest module\nimport hasCORS from \"has-cors\";\nimport globalThis from \"../globalThis.js\";\nexport default function (opts) {\n    const xdomain = opts.xdomain;\n    // XMLHttpRequest can be disabled on IE\n    try {\n        if (\"undefined\" !== typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n            return new XMLHttpRequest();\n        }\n    }\n    catch (e) { }\n    if (!xdomain) {\n        try {\n            return new globalThis[[\"Active\"].concat(\"Object\").join(\"X\")](\"Microsoft.XMLHTTP\");\n        }\n        catch (e) { }\n    }\n}\n","import { Transport } from \"../transport.js\";\nimport yeast from \"yeast\";\nimport parseqs from \"parseqs\";\nimport { encodePayload, decodePayload } from \"engine.io-parser\";\nexport class Polling extends Transport {\n    constructor() {\n        super(...arguments);\n        this.polling = false;\n    }\n    /**\n     * Transport name.\n     */\n    get name() {\n        return \"polling\";\n    }\n    /**\n     * Opens the socket (triggers polling). We write a PING message to determine\n     * when the transport is open.\n     *\n     * @api private\n     */\n    doOpen() {\n        this.poll();\n    }\n    /**\n     * Pauses polling.\n     *\n     * @param {Function} callback upon buffers are flushed and transport is paused\n     * @api private\n     */\n    pause(onPause) {\n        this.readyState = \"pausing\";\n        const pause = () => {\n            this.readyState = \"paused\";\n            onPause();\n        };\n        if (this.polling || !this.writable) {\n            let total = 0;\n            if (this.polling) {\n                total++;\n                this.once(\"pollComplete\", function () {\n                    --total || pause();\n                });\n            }\n            if (!this.writable) {\n                total++;\n                this.once(\"drain\", function () {\n                    --total || pause();\n                });\n            }\n        }\n        else {\n            pause();\n        }\n    }\n    /**\n     * Starts polling cycle.\n     *\n     * @api public\n     */\n    poll() {\n        this.polling = true;\n        this.doPoll();\n        this.emit(\"poll\");\n    }\n    /**\n     * Overloads onData to detect payloads.\n     *\n     * @api private\n     */\n    onData(data) {\n        const callback = packet => {\n            // if its the first message we consider the transport open\n            if (\"opening\" === this.readyState && packet.type === \"open\") {\n                this.onOpen();\n            }\n            // if its a close packet, we close the ongoing requests\n            if (\"close\" === packet.type) {\n                this.onClose();\n                return false;\n            }\n            // otherwise bypass onData and handle the message\n            this.onPacket(packet);\n        };\n        // decode payload\n        decodePayload(data, this.socket.binaryType).forEach(callback);\n        // if an event did not trigger closing\n        if (\"closed\" !== this.readyState) {\n            // if we got data we're not polling\n            this.polling = false;\n            this.emit(\"pollComplete\");\n            if (\"open\" === this.readyState) {\n                this.poll();\n            }\n            else {\n            }\n        }\n    }\n    /**\n     * For polling, send a close packet.\n     *\n     * @api private\n     */\n    doClose() {\n        const close = () => {\n            this.write([{ type: \"close\" }]);\n        };\n        if (\"open\" === this.readyState) {\n            close();\n        }\n        else {\n            // in case we're trying to close while\n            // handshaking is in progress (GH-164)\n            this.once(\"open\", close);\n        }\n    }\n    /**\n     * Writes a packets payload.\n     *\n     * @param {Array} data packets\n     * @param {Function} drain callback\n     * @api private\n     */\n    write(packets) {\n        this.writable = false;\n        encodePayload(packets, data => {\n            this.doWrite(data, () => {\n                this.writable = true;\n                this.emit(\"drain\");\n            });\n        });\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @api private\n     */\n    uri() {\n        let query = this.query || {};\n        const schema = this.opts.secure ? \"https\" : \"http\";\n        let port = \"\";\n        // cache busting is forced\n        if (false !== this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = yeast();\n        }\n        if (!this.supportsBinary && !query.sid) {\n            query.b64 = 1;\n        }\n        // avoid port if default for schema\n        if (this.opts.port &&\n            ((\"https\" === schema && Number(this.opts.port) !== 443) ||\n                (\"http\" === schema && Number(this.opts.port) !== 80))) {\n            port = \":\" + this.opts.port;\n        }\n        const encodedQuery = parseqs.encode(query);\n        const ipv6 = this.opts.hostname.indexOf(\":\") !== -1;\n        return (schema +\n            \"://\" +\n            (ipv6 ? \"[\" + this.opts.hostname + \"]\" : this.opts.hostname) +\n            port +\n            this.opts.path +\n            (encodedQuery.length ? \"?\" + encodedQuery : \"\"));\n    }\n}\n","/* global attachEvent */\nimport XMLHttpRequest from \"./xmlhttprequest.js\";\nimport globalThis from \"../globalThis.js\";\nimport { installTimerFunctions, pick } from \"../util.js\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { Polling } from \"./polling.js\";\n/**\n * Empty function\n */\nfunction empty() { }\nconst hasXHR2 = (function () {\n    const xhr = new XMLHttpRequest({\n        xdomain: false\n    });\n    return null != xhr.responseType;\n})();\nexport class XHR extends Polling {\n    /**\n     * XHR Polling constructor.\n     *\n     * @param {Object} opts\n     * @api public\n     */\n    constructor(opts) {\n        super(opts);\n        if (typeof location !== \"undefined\") {\n            const isSSL = \"https:\" === location.protocol;\n            let port = location.port;\n            // some user agents have empty `location.port`\n            if (!port) {\n                port = isSSL ? \"443\" : \"80\";\n            }\n            this.xd =\n                (typeof location !== \"undefined\" &&\n                    opts.hostname !== location.hostname) ||\n                    port !== opts.port;\n            this.xs = opts.secure !== isSSL;\n        }\n        /**\n         * XHR supports binary\n         */\n        const forceBase64 = opts && opts.forceBase64;\n        this.supportsBinary = hasXHR2 && !forceBase64;\n    }\n    /**\n     * Creates a request.\n     *\n     * @param {String} method\n     * @api private\n     */\n    request(opts = {}) {\n        Object.assign(opts, { xd: this.xd, xs: this.xs }, this.opts);\n        return new Request(this.uri(), opts);\n    }\n    /**\n     * Sends data.\n     *\n     * @param {String} data to send.\n     * @param {Function} called upon flush.\n     * @api private\n     */\n    doWrite(data, fn) {\n        const req = this.request({\n            method: \"POST\",\n            data: data\n        });\n        req.on(\"success\", fn);\n        req.on(\"error\", err => {\n            this.onError(\"xhr post error\", err);\n        });\n    }\n    /**\n     * Starts a poll cycle.\n     *\n     * @api private\n     */\n    doPoll() {\n        const req = this.request();\n        req.on(\"data\", this.onData.bind(this));\n        req.on(\"error\", err => {\n            this.onError(\"xhr poll error\", err);\n        });\n        this.pollXhr = req;\n    }\n}\nexport class Request extends Emitter {\n    /**\n     * Request constructor\n     *\n     * @param {Object} options\n     * @api public\n     */\n    constructor(uri, opts) {\n        super();\n        installTimerFunctions(this, opts);\n        this.opts = opts;\n        this.method = opts.method || \"GET\";\n        this.uri = uri;\n        this.async = false !== opts.async;\n        this.data = undefined !== opts.data ? opts.data : null;\n        this.create();\n    }\n    /**\n     * Creates the XHR object and sends the request.\n     *\n     * @api private\n     */\n    create() {\n        const opts = pick(this.opts, \"agent\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"autoUnref\");\n        opts.xdomain = !!this.opts.xd;\n        opts.xscheme = !!this.opts.xs;\n        const xhr = (this.xhr = new XMLHttpRequest(opts));\n        try {\n            xhr.open(this.method, this.uri, this.async);\n            try {\n                if (this.opts.extraHeaders) {\n                    xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n                    for (let i in this.opts.extraHeaders) {\n                        if (this.opts.extraHeaders.hasOwnProperty(i)) {\n                            xhr.setRequestHeader(i, this.opts.extraHeaders[i]);\n                        }\n                    }\n                }\n            }\n            catch (e) { }\n            if (\"POST\" === this.method) {\n                try {\n                    xhr.setRequestHeader(\"Content-type\", \"text/plain;charset=UTF-8\");\n                }\n                catch (e) { }\n            }\n            try {\n                xhr.setRequestHeader(\"Accept\", \"*/*\");\n            }\n            catch (e) { }\n            // ie6 check\n            if (\"withCredentials\" in xhr) {\n                xhr.withCredentials = this.opts.withCredentials;\n            }\n            if (this.opts.requestTimeout) {\n                xhr.timeout = this.opts.requestTimeout;\n            }\n            xhr.onreadystatechange = () => {\n                if (4 !== xhr.readyState)\n                    return;\n                if (200 === xhr.status || 1223 === xhr.status) {\n                    this.onLoad();\n                }\n                else {\n                    // make sure the `error` event handler that's user-set\n                    // does not throw in the same tick and gets caught here\n                    this.setTimeoutFn(() => {\n                        this.onError(typeof xhr.status === \"number\" ? xhr.status : 0);\n                    }, 0);\n                }\n            };\n            xhr.send(this.data);\n        }\n        catch (e) {\n            // Need to defer since .create() is called directly from the constructor\n            // and thus the 'error' event can only be only bound *after* this exception\n            // occurs.  Therefore, also, we cannot throw here at all.\n            this.setTimeoutFn(() => {\n                this.onError(e);\n            }, 0);\n            return;\n        }\n        if (typeof document !== \"undefined\") {\n            this.index = Request.requestsCount++;\n            Request.requests[this.index] = this;\n        }\n    }\n    /**\n     * Called upon successful response.\n     *\n     * @api private\n     */\n    onSuccess() {\n        this.emit(\"success\");\n        this.cleanup();\n    }\n    /**\n     * Called if we have data.\n     *\n     * @api private\n     */\n    onData(data) {\n        this.emit(\"data\", data);\n        this.onSuccess();\n    }\n    /**\n     * Called upon error.\n     *\n     * @api private\n     */\n    onError(err) {\n        this.emit(\"error\", err);\n        this.cleanup(true);\n    }\n    /**\n     * Cleans up house.\n     *\n     * @api private\n     */\n    cleanup(fromError) {\n        if (\"undefined\" === typeof this.xhr || null === this.xhr) {\n            return;\n        }\n        this.xhr.onreadystatechange = empty;\n        if (fromError) {\n            try {\n                this.xhr.abort();\n            }\n            catch (e) { }\n        }\n        if (typeof document !== \"undefined\") {\n            delete Request.requests[this.index];\n        }\n        this.xhr = null;\n    }\n    /**\n     * Called upon load.\n     *\n     * @api private\n     */\n    onLoad() {\n        const data = this.xhr.responseText;\n        if (data !== null) {\n            this.onData(data);\n        }\n    }\n    /**\n     * Aborts the request.\n     *\n     * @api public\n     */\n    abort() {\n        this.cleanup();\n    }\n}\nRequest.requestsCount = 0;\nRequest.requests = {};\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\nif (typeof document !== \"undefined\") {\n    // @ts-ignore\n    if (typeof attachEvent === \"function\") {\n        // @ts-ignore\n        attachEvent(\"onunload\", unloadHandler);\n    }\n    else if (typeof addEventListener === \"function\") {\n        const terminationEvent = \"onpagehide\" in globalThis ? \"pagehide\" : \"unload\";\n        addEventListener(terminationEvent, unloadHandler, false);\n    }\n}\nfunction unloadHandler() {\n    for (let i in Request.requests) {\n        if (Request.requests.hasOwnProperty(i)) {\n            Request.requests[i].abort();\n        }\n    }\n}\n","import { XHR } from \"./polling-xhr.js\";\nimport { WS } from \"./websocket.js\";\nexport const transports = {\n    websocket: WS,\n    polling: XHR\n};\n","import { transports } from \"./transports/index.js\";\nimport { installTimerFunctions } from \"./util.js\";\nimport parseqs from \"parseqs\";\nimport parseuri from \"parseuri\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { protocol } from \"engine.io-parser\";\nexport class Socket extends Emitter {\n    /**\n     * Socket constructor.\n     *\n     * @param {String|Object} uri or options\n     * @param {Object} opts - options\n     * @api public\n     */\n    constructor(uri, opts = {}) {\n        super();\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = null;\n        }\n        if (uri) {\n            uri = parseuri(uri);\n            opts.hostname = uri.host;\n            opts.secure = uri.protocol === \"https\" || uri.protocol === \"wss\";\n            opts.port = uri.port;\n            if (uri.query)\n                opts.query = uri.query;\n        }\n        else if (opts.host) {\n            opts.hostname = parseuri(opts.host).host;\n        }\n        installTimerFunctions(this, opts);\n        this.secure =\n            null != opts.secure\n                ? opts.secure\n                : typeof location !== \"undefined\" && \"https:\" === location.protocol;\n        if (opts.hostname && !opts.port) {\n            // if no port is specified manually, use the protocol default\n            opts.port = this.secure ? \"443\" : \"80\";\n        }\n        this.hostname =\n            opts.hostname ||\n                (typeof location !== \"undefined\" ? location.hostname : \"localhost\");\n        this.port =\n            opts.port ||\n                (typeof location !== \"undefined\" && location.port\n                    ? location.port\n                    : this.secure\n                        ? \"443\"\n                        : \"80\");\n        this.transports = opts.transports || [\"polling\", \"websocket\"];\n        this.readyState = \"\";\n        this.writeBuffer = [];\n        this.prevBufferLen = 0;\n        this.opts = Object.assign({\n            path: \"/engine.io\",\n            agent: false,\n            withCredentials: false,\n            upgrade: true,\n            timestampParam: \"t\",\n            rememberUpgrade: false,\n            rejectUnauthorized: true,\n            perMessageDeflate: {\n                threshold: 1024\n            },\n            transportOptions: {},\n            closeOnBeforeunload: true\n        }, opts);\n        this.opts.path = this.opts.path.replace(/\\/$/, \"\") + \"/\";\n        if (typeof this.opts.query === \"string\") {\n            this.opts.query = parseqs.decode(this.opts.query);\n        }\n        // set on handshake\n        this.id = null;\n        this.upgrades = null;\n        this.pingInterval = null;\n        this.pingTimeout = null;\n        // set on heartbeat\n        this.pingTimeoutTimer = null;\n        if (typeof addEventListener === \"function\") {\n            if (this.opts.closeOnBeforeunload) {\n                // Firefox closes the connection when the \"beforeunload\" event is emitted but not Chrome. This event listener\n                // ensures every browser behaves the same (no \"disconnect\" event at the Socket.IO level when the page is\n                // closed/reloaded)\n                addEventListener(\"beforeunload\", () => {\n                    if (this.transport) {\n                        // silently close the transport\n                        this.transport.removeAllListeners();\n                        this.transport.close();\n                    }\n                }, false);\n            }\n            if (this.hostname !== \"localhost\") {\n                this.offlineEventListener = () => {\n                    this.onClose(\"transport close\");\n                };\n                addEventListener(\"offline\", this.offlineEventListener, false);\n            }\n        }\n        this.open();\n    }\n    /**\n     * Creates transport of the given type.\n     *\n     * @param {String} transport name\n     * @return {Transport}\n     * @api private\n     */\n    createTransport(name) {\n        const query = clone(this.opts.query);\n        // append engine.io protocol identifier\n        query.EIO = protocol;\n        // transport name\n        query.transport = name;\n        // session id if we already have one\n        if (this.id)\n            query.sid = this.id;\n        const opts = Object.assign({}, this.opts.transportOptions[name], this.opts, {\n            query,\n            socket: this,\n            hostname: this.hostname,\n            secure: this.secure,\n            port: this.port\n        });\n        return new transports[name](opts);\n    }\n    /**\n     * Initializes transport to use and starts probe.\n     *\n     * @api private\n     */\n    open() {\n        let transport;\n        if (this.opts.rememberUpgrade &&\n            Socket.priorWebsocketSuccess &&\n            this.transports.indexOf(\"websocket\") !== -1) {\n            transport = \"websocket\";\n        }\n        else if (0 === this.transports.length) {\n            // Emit error on next tick so it can be listened to\n            this.setTimeoutFn(() => {\n                this.emitReserved(\"error\", \"No transports available\");\n            }, 0);\n            return;\n        }\n        else {\n            transport = this.transports[0];\n        }\n        this.readyState = \"opening\";\n        // Retry with the next transport if the transport is disabled (jsonp: false)\n        try {\n            transport = this.createTransport(transport);\n        }\n        catch (e) {\n            this.transports.shift();\n            this.open();\n            return;\n        }\n        transport.open();\n        this.setTransport(transport);\n    }\n    /**\n     * Sets the current transport. Disables the existing one (if any).\n     *\n     * @api private\n     */\n    setTransport(transport) {\n        if (this.transport) {\n            this.transport.removeAllListeners();\n        }\n        // set up transport\n        this.transport = transport;\n        // set up transport listeners\n        transport\n            .on(\"drain\", this.onDrain.bind(this))\n            .on(\"packet\", this.onPacket.bind(this))\n            .on(\"error\", this.onError.bind(this))\n            .on(\"close\", () => {\n            this.onClose(\"transport close\");\n        });\n    }\n    /**\n     * Probes a transport.\n     *\n     * @param {String} transport name\n     * @api private\n     */\n    probe(name) {\n        let transport = this.createTransport(name);\n        let failed = false;\n        Socket.priorWebsocketSuccess = false;\n        const onTransportOpen = () => {\n            if (failed)\n                return;\n            transport.send([{ type: \"ping\", data: \"probe\" }]);\n            transport.once(\"packet\", msg => {\n                if (failed)\n                    return;\n                if (\"pong\" === msg.type && \"probe\" === msg.data) {\n                    this.upgrading = true;\n                    this.emitReserved(\"upgrading\", transport);\n                    if (!transport)\n                        return;\n                    Socket.priorWebsocketSuccess = \"websocket\" === transport.name;\n                    this.transport.pause(() => {\n                        if (failed)\n                            return;\n                        if (\"closed\" === this.readyState)\n                            return;\n                        cleanup();\n                        this.setTransport(transport);\n                        transport.send([{ type: \"upgrade\" }]);\n                        this.emitReserved(\"upgrade\", transport);\n                        transport = null;\n                        this.upgrading = false;\n                        this.flush();\n                    });\n                }\n                else {\n                    const err = new Error(\"probe error\");\n                    // @ts-ignore\n                    err.transport = transport.name;\n                    this.emitReserved(\"upgradeError\", err);\n                }\n            });\n        };\n        function freezeTransport() {\n            if (failed)\n                return;\n            // Any callback called by transport should be ignored since now\n            failed = true;\n            cleanup();\n            transport.close();\n            transport = null;\n        }\n        // Handle any error that happens while probing\n        const onerror = err => {\n            const error = new Error(\"probe error: \" + err);\n            // @ts-ignore\n            error.transport = transport.name;\n            freezeTransport();\n            this.emitReserved(\"upgradeError\", error);\n        };\n        function onTransportClose() {\n            onerror(\"transport closed\");\n        }\n        // When the socket is closed while we're probing\n        function onclose() {\n            onerror(\"socket closed\");\n        }\n        // When the socket is upgraded while we're probing\n        function onupgrade(to) {\n            if (transport && to.name !== transport.name) {\n                freezeTransport();\n            }\n        }\n        // Remove all listeners on the transport and on self\n        const cleanup = () => {\n            transport.removeListener(\"open\", onTransportOpen);\n            transport.removeListener(\"error\", onerror);\n            transport.removeListener(\"close\", onTransportClose);\n            this.off(\"close\", onclose);\n            this.off(\"upgrading\", onupgrade);\n        };\n        transport.once(\"open\", onTransportOpen);\n        transport.once(\"error\", onerror);\n        transport.once(\"close\", onTransportClose);\n        this.once(\"close\", onclose);\n        this.once(\"upgrading\", onupgrade);\n        transport.open();\n    }\n    /**\n     * Called when connection is deemed open.\n     *\n     * @api private\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        Socket.priorWebsocketSuccess = \"websocket\" === this.transport.name;\n        this.emitReserved(\"open\");\n        this.flush();\n        // we check for `readyState` in case an `open`\n        // listener already closed the socket\n        if (\"open\" === this.readyState &&\n            this.opts.upgrade &&\n            this.transport.pause) {\n            let i = 0;\n            const l = this.upgrades.length;\n            for (; i < l; i++) {\n                this.probe(this.upgrades[i]);\n            }\n        }\n    }\n    /**\n     * Handles a packet.\n     *\n     * @api private\n     */\n    onPacket(packet) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            this.emitReserved(\"packet\", packet);\n            // Socket is live - any packet counts\n            this.emitReserved(\"heartbeat\");\n            switch (packet.type) {\n                case \"open\":\n                    this.onHandshake(JSON.parse(packet.data));\n                    break;\n                case \"ping\":\n                    this.resetPingTimeout();\n                    this.sendPacket(\"pong\");\n                    this.emitReserved(\"ping\");\n                    this.emitReserved(\"pong\");\n                    break;\n                case \"error\":\n                    const err = new Error(\"server error\");\n                    // @ts-ignore\n                    err.code = packet.data;\n                    this.onError(err);\n                    break;\n                case \"message\":\n                    this.emitReserved(\"data\", packet.data);\n                    this.emitReserved(\"message\", packet.data);\n                    break;\n            }\n        }\n        else {\n        }\n    }\n    /**\n     * Called upon handshake completion.\n     *\n     * @param {Object} data - handshake obj\n     * @api private\n     */\n    onHandshake(data) {\n        this.emitReserved(\"handshake\", data);\n        this.id = data.sid;\n        this.transport.query.sid = data.sid;\n        this.upgrades = this.filterUpgrades(data.upgrades);\n        this.pingInterval = data.pingInterval;\n        this.pingTimeout = data.pingTimeout;\n        this.onOpen();\n        // In case open handler closes socket\n        if (\"closed\" === this.readyState)\n            return;\n        this.resetPingTimeout();\n    }\n    /**\n     * Sets and resets ping timeout timer based on server pings.\n     *\n     * @api private\n     */\n    resetPingTimeout() {\n        this.clearTimeoutFn(this.pingTimeoutTimer);\n        this.pingTimeoutTimer = this.setTimeoutFn(() => {\n            this.onClose(\"ping timeout\");\n        }, this.pingInterval + this.pingTimeout);\n        if (this.opts.autoUnref) {\n            this.pingTimeoutTimer.unref();\n        }\n    }\n    /**\n     * Called on `drain` event\n     *\n     * @api private\n     */\n    onDrain() {\n        this.writeBuffer.splice(0, this.prevBufferLen);\n        // setting prevBufferLen = 0 is very important\n        // for example, when upgrading, upgrade packet is sent over,\n        // and a nonzero prevBufferLen could cause problems on `drain`\n        this.prevBufferLen = 0;\n        if (0 === this.writeBuffer.length) {\n            this.emitReserved(\"drain\");\n        }\n        else {\n            this.flush();\n        }\n    }\n    /**\n     * Flush write buffers.\n     *\n     * @api private\n     */\n    flush() {\n        if (\"closed\" !== this.readyState &&\n            this.transport.writable &&\n            !this.upgrading &&\n            this.writeBuffer.length) {\n            this.transport.send(this.writeBuffer);\n            // keep track of current length of writeBuffer\n            // splice writeBuffer and callbackBuffer on `drain`\n            this.prevBufferLen = this.writeBuffer.length;\n            this.emitReserved(\"flush\");\n        }\n    }\n    /**\n     * Sends a message.\n     *\n     * @param {String} message.\n     * @param {Function} callback function.\n     * @param {Object} options.\n     * @return {Socket} for chaining.\n     * @api public\n     */\n    write(msg, options, fn) {\n        this.sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    send(msg, options, fn) {\n        this.sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param {String} packet type.\n     * @param {String} data.\n     * @param {Object} options.\n     * @param {Function} callback function.\n     * @api private\n     */\n    sendPacket(type, data, options, fn) {\n        if (\"function\" === typeof data) {\n            fn = data;\n            data = undefined;\n        }\n        if (\"function\" === typeof options) {\n            fn = options;\n            options = null;\n        }\n        if (\"closing\" === this.readyState || \"closed\" === this.readyState) {\n            return;\n        }\n        options = options || {};\n        options.compress = false !== options.compress;\n        const packet = {\n            type: type,\n            data: data,\n            options: options\n        };\n        this.emitReserved(\"packetCreate\", packet);\n        this.writeBuffer.push(packet);\n        if (fn)\n            this.once(\"flush\", fn);\n        this.flush();\n    }\n    /**\n     * Closes the connection.\n     *\n     * @api public\n     */\n    close() {\n        const close = () => {\n            this.onClose(\"forced close\");\n            this.transport.close();\n        };\n        const cleanupAndClose = () => {\n            this.off(\"upgrade\", cleanupAndClose);\n            this.off(\"upgradeError\", cleanupAndClose);\n            close();\n        };\n        const waitForUpgrade = () => {\n            // wait for upgrade to finish since we can't send packets while pausing a transport\n            this.once(\"upgrade\", cleanupAndClose);\n            this.once(\"upgradeError\", cleanupAndClose);\n        };\n        if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n            this.readyState = \"closing\";\n            if (this.writeBuffer.length) {\n                this.once(\"drain\", () => {\n                    if (this.upgrading) {\n                        waitForUpgrade();\n                    }\n                    else {\n                        close();\n                    }\n                });\n            }\n            else if (this.upgrading) {\n                waitForUpgrade();\n            }\n            else {\n                close();\n            }\n        }\n        return this;\n    }\n    /**\n     * Called upon transport error\n     *\n     * @api private\n     */\n    onError(err) {\n        Socket.priorWebsocketSuccess = false;\n        this.emitReserved(\"error\", err);\n        this.onClose(\"transport error\", err);\n    }\n    /**\n     * Called upon transport close.\n     *\n     * @api private\n     */\n    onClose(reason, desc) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            // clear timers\n            this.clearTimeoutFn(this.pingTimeoutTimer);\n            // stop event from firing again for transport\n            this.transport.removeAllListeners(\"close\");\n            // ensure transport won't stay open\n            this.transport.close();\n            // ignore further transport communication\n            this.transport.removeAllListeners();\n            if (typeof removeEventListener === \"function\") {\n                removeEventListener(\"offline\", this.offlineEventListener, false);\n            }\n            // set ready state\n            this.readyState = \"closed\";\n            // clear session id\n            this.id = null;\n            // emit close event\n            this.emitReserved(\"close\", reason, desc);\n            // clean buffers after, so users can still\n            // grab the buffers on `close` event\n            this.writeBuffer = [];\n            this.prevBufferLen = 0;\n        }\n    }\n    /**\n     * Filters upgrades, returning only those matching client transports.\n     *\n     * @param {Array} server upgrades\n     * @api private\n     *\n     */\n    filterUpgrades(upgrades) {\n        const filteredUpgrades = [];\n        let i = 0;\n        const j = upgrades.length;\n        for (; i < j; i++) {\n            if (~this.transports.indexOf(upgrades[i]))\n                filteredUpgrades.push(upgrades[i]);\n        }\n        return filteredUpgrades;\n    }\n}\nSocket.protocol = protocol;\nfunction clone(obj) {\n    const o = {};\n    for (let i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            o[i] = obj[i];\n        }\n    }\n    return o;\n}\n","import { Socket } from \"./socket.js\";\nexport { Socket };\nexport const protocol = Socket.protocol;\nexport { Transport } from \"./transport.js\";\nexport { transports } from \"./transports/index.js\";\nexport { installTimerFunctions } from \"./util.js\";\n","const withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj.buffer instanceof ArrayBuffer;\n};\nconst toString = Object.prototype.toString;\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeFile = typeof File === \"function\" ||\n    (typeof File !== \"undefined\" &&\n        toString.call(File) === \"[object FileConstructor]\");\n/**\n * Returns true if obj is a Buffer, an ArrayBuffer, a Blob or a File.\n *\n * @private\n */\nexport function isBinary(obj) {\n    return ((withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj))) ||\n        (withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File));\n}\nexport function hasBinary(obj, toJSON) {\n    if (!obj || typeof obj !== \"object\") {\n        return false;\n    }\n    if (Array.isArray(obj)) {\n        for (let i = 0, l = obj.length; i < l; i++) {\n            if (hasBinary(obj[i])) {\n                return true;\n            }\n        }\n        return false;\n    }\n    if (isBinary(obj)) {\n        return true;\n    }\n    if (obj.toJSON &&\n        typeof obj.toJSON === \"function\" &&\n        arguments.length === 1) {\n        return hasBinary(obj.toJSON(), true);\n    }\n    for (const key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n            return true;\n        }\n    }\n    return false;\n}\n","import { isBinary } from \"./is-binary.js\";\n/**\n * Replaces every Buffer | ArrayBuffer | Blob | File in packet with a numbered placeholder.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @public\n */\nexport function deconstructPacket(packet) {\n    const buffers = [];\n    const packetData = packet.data;\n    const pack = packet;\n    pack.data = _deconstructPacket(packetData, buffers);\n    pack.attachments = buffers.length; // number of binary 'attachments'\n    return { packet: pack, buffers: buffers };\n}\nfunction _deconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (isBinary(data)) {\n        const placeholder = { _placeholder: true, num: buffers.length };\n        buffers.push(data);\n        return placeholder;\n    }\n    else if (Array.isArray(data)) {\n        const newData = new Array(data.length);\n        for (let i = 0; i < data.length; i++) {\n            newData[i] = _deconstructPacket(data[i], buffers);\n        }\n        return newData;\n    }\n    else if (typeof data === \"object\" && !(data instanceof Date)) {\n        const newData = {};\n        for (const key in data) {\n            if (data.hasOwnProperty(key)) {\n                newData[key] = _deconstructPacket(data[key], buffers);\n            }\n        }\n        return newData;\n    }\n    return data;\n}\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @public\n */\nexport function reconstructPacket(packet, buffers) {\n    packet.data = _reconstructPacket(packet.data, buffers);\n    packet.attachments = undefined; // no longer useful\n    return packet;\n}\nfunction _reconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (data && data._placeholder) {\n        return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n    }\n    else if (Array.isArray(data)) {\n        for (let i = 0; i < data.length; i++) {\n            data[i] = _reconstructPacket(data[i], buffers);\n        }\n    }\n    else if (typeof data === \"object\") {\n        for (const key in data) {\n            if (data.hasOwnProperty(key)) {\n                data[key] = _reconstructPacket(data[key], buffers);\n            }\n        }\n    }\n    return data;\n}\n","import { Emitter } from \"@socket.io/component-emitter\";\nimport { deconstructPacket, reconstructPacket } from \"./binary.js\";\nimport { isBinary, hasBinary } from \"./is-binary.js\";\n/**\n * Protocol version.\n *\n * @public\n */\nexport const protocol = 5;\nexport var PacketType;\n(function (PacketType) {\n    PacketType[PacketType[\"CONNECT\"] = 0] = \"CONNECT\";\n    PacketType[PacketType[\"DISCONNECT\"] = 1] = \"DISCONNECT\";\n    PacketType[PacketType[\"EVENT\"] = 2] = \"EVENT\";\n    PacketType[PacketType[\"ACK\"] = 3] = \"ACK\";\n    PacketType[PacketType[\"CONNECT_ERROR\"] = 4] = \"CONNECT_ERROR\";\n    PacketType[PacketType[\"BINARY_EVENT\"] = 5] = \"BINARY_EVENT\";\n    PacketType[PacketType[\"BINARY_ACK\"] = 6] = \"BINARY_ACK\";\n})(PacketType || (PacketType = {}));\n/**\n * A socket.io Encoder instance\n */\nexport class Encoder {\n    /**\n     * Encode a packet as a single string if non-binary, or as a\n     * buffer sequence, depending on packet type.\n     *\n     * @param {Object} obj - packet object\n     */\n    encode(obj) {\n        if (obj.type === PacketType.EVENT || obj.type === PacketType.ACK) {\n            if (hasBinary(obj)) {\n                obj.type =\n                    obj.type === PacketType.EVENT\n                        ? PacketType.BINARY_EVENT\n                        : PacketType.BINARY_ACK;\n                return this.encodeAsBinary(obj);\n            }\n        }\n        return [this.encodeAsString(obj)];\n    }\n    /**\n     * Encode packet as string.\n     */\n    encodeAsString(obj) {\n        // first is type\n        let str = \"\" + obj.type;\n        // attachments if we have them\n        if (obj.type === PacketType.BINARY_EVENT ||\n            obj.type === PacketType.BINARY_ACK) {\n            str += obj.attachments + \"-\";\n        }\n        // if we have a namespace other than `/`\n        // we append it followed by a comma `,`\n        if (obj.nsp && \"/\" !== obj.nsp) {\n            str += obj.nsp + \",\";\n        }\n        // immediately followed by the id\n        if (null != obj.id) {\n            str += obj.id;\n        }\n        // json data\n        if (null != obj.data) {\n            str += JSON.stringify(obj.data);\n        }\n        return str;\n    }\n    /**\n     * Encode packet as 'buffer sequence' by removing blobs, and\n     * deconstructing packet into object with placeholders and\n     * a list of buffers.\n     */\n    encodeAsBinary(obj) {\n        const deconstruction = deconstructPacket(obj);\n        const pack = this.encodeAsString(deconstruction.packet);\n        const buffers = deconstruction.buffers;\n        buffers.unshift(pack); // add packet info to beginning of data list\n        return buffers; // write all the buffers\n    }\n}\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n */\nexport class Decoder extends Emitter {\n    constructor() {\n        super();\n    }\n    /**\n     * Decodes an encoded packet string into packet JSON.\n     *\n     * @param {String} obj - encoded packet\n     */\n    add(obj) {\n        let packet;\n        if (typeof obj === \"string\") {\n            packet = this.decodeString(obj);\n            if (packet.type === PacketType.BINARY_EVENT ||\n                packet.type === PacketType.BINARY_ACK) {\n                // binary packet's json\n                this.reconstructor = new BinaryReconstructor(packet);\n                // no attachments, labeled binary but no binary data to follow\n                if (packet.attachments === 0) {\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n            else {\n                // non-binary full packet\n                super.emitReserved(\"decoded\", packet);\n            }\n        }\n        else if (isBinary(obj) || obj.base64) {\n            // raw binary data\n            if (!this.reconstructor) {\n                throw new Error(\"got binary data when not reconstructing a packet\");\n            }\n            else {\n                packet = this.reconstructor.takeBinaryData(obj);\n                if (packet) {\n                    // received final buffer\n                    this.reconstructor = null;\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n        }\n        else {\n            throw new Error(\"Unknown type: \" + obj);\n        }\n    }\n    /**\n     * Decode a packet String (JSON data)\n     *\n     * @param {String} str\n     * @return {Object} packet\n     */\n    decodeString(str) {\n        let i = 0;\n        // look up type\n        const p = {\n            type: Number(str.charAt(0)),\n        };\n        if (PacketType[p.type] === undefined) {\n            throw new Error(\"unknown packet type \" + p.type);\n        }\n        // look up attachments if type binary\n        if (p.type === PacketType.BINARY_EVENT ||\n            p.type === PacketType.BINARY_ACK) {\n            const start = i + 1;\n            while (str.charAt(++i) !== \"-\" && i != str.length) { }\n            const buf = str.substring(start, i);\n            if (buf != Number(buf) || str.charAt(i) !== \"-\") {\n                throw new Error(\"Illegal attachments\");\n            }\n            p.attachments = Number(buf);\n        }\n        // look up namespace (if any)\n        if (\"/\" === str.charAt(i + 1)) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (\",\" === c)\n                    break;\n                if (i === str.length)\n                    break;\n            }\n            p.nsp = str.substring(start, i);\n        }\n        else {\n            p.nsp = \"/\";\n        }\n        // look up id\n        const next = str.charAt(i + 1);\n        if (\"\" !== next && Number(next) == next) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (null == c || Number(c) != c) {\n                    --i;\n                    break;\n                }\n                if (i === str.length)\n                    break;\n            }\n            p.id = Number(str.substring(start, i + 1));\n        }\n        // look up json data\n        if (str.charAt(++i)) {\n            const payload = tryParse(str.substr(i));\n            if (Decoder.isPayloadValid(p.type, payload)) {\n                p.data = payload;\n            }\n            else {\n                throw new Error(\"invalid payload\");\n            }\n        }\n        return p;\n    }\n    static isPayloadValid(type, payload) {\n        switch (type) {\n            case PacketType.CONNECT:\n                return typeof payload === \"object\";\n            case PacketType.DISCONNECT:\n                return payload === undefined;\n            case PacketType.CONNECT_ERROR:\n                return typeof payload === \"string\" || typeof payload === \"object\";\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                return Array.isArray(payload) && payload.length > 0;\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                return Array.isArray(payload);\n        }\n    }\n    /**\n     * Deallocates a parser's resources\n     */\n    destroy() {\n        if (this.reconstructor) {\n            this.reconstructor.finishedReconstruction();\n        }\n    }\n}\nfunction tryParse(str) {\n    try {\n        return JSON.parse(str);\n    }\n    catch (e) {\n        return false;\n    }\n}\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n */\nclass BinaryReconstructor {\n    constructor(packet) {\n        this.packet = packet;\n        this.buffers = [];\n        this.reconPack = packet;\n    }\n    /**\n     * Method to be called when binary data received from connection\n     * after a BINARY_EVENT packet.\n     *\n     * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n     * @return {null | Object} returns null if more binary data is expected or\n     *   a reconstructed packet object if all buffers have been received.\n     */\n    takeBinaryData(binData) {\n        this.buffers.push(binData);\n        if (this.buffers.length === this.reconPack.attachments) {\n            // done with buffer list\n            const packet = reconstructPacket(this.reconPack, this.buffers);\n            this.finishedReconstruction();\n            return packet;\n        }\n        return null;\n    }\n    /**\n     * Cleans up binary packet reconstruction variables.\n     */\n    finishedReconstruction() {\n        this.reconPack = null;\n        this.buffers = [];\n    }\n}\n","export function on(obj, ev, fn) {\n    obj.on(ev, fn);\n    return function subDestroy() {\n        obj.off(ev, fn);\n    };\n}\n","import { PacketType } from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\n/**\n * Internal events.\n * These events can't be emitted by the user.\n */\nconst RESERVED_EVENTS = Object.freeze({\n    connect: 1,\n    connect_error: 1,\n    disconnect: 1,\n    disconnecting: 1,\n    // EventEmitter reserved events: https://nodejs.org/api/events.html#events_event_newlistener\n    newListener: 1,\n    removeListener: 1,\n});\nexport class Socket extends Emitter {\n    /**\n     * `Socket` constructor.\n     *\n     * @public\n     */\n    constructor(io, nsp, opts) {\n        super();\n        this.connected = false;\n        this.disconnected = true;\n        this.receiveBuffer = [];\n        this.sendBuffer = [];\n        this.ids = 0;\n        this.acks = {};\n        this.flags = {};\n        this.io = io;\n        this.nsp = nsp;\n        if (opts && opts.auth) {\n            this.auth = opts.auth;\n        }\n        if (this.io._autoConnect)\n            this.open();\n    }\n    /**\n     * Subscribe to open, close and packet events\n     *\n     * @private\n     */\n    subEvents() {\n        if (this.subs)\n            return;\n        const io = this.io;\n        this.subs = [\n            on(io, \"open\", this.onopen.bind(this)),\n            on(io, \"packet\", this.onpacket.bind(this)),\n            on(io, \"error\", this.onerror.bind(this)),\n            on(io, \"close\", this.onclose.bind(this)),\n        ];\n    }\n    /**\n     * Whether the Socket will try to reconnect when its Manager connects or reconnects\n     */\n    get active() {\n        return !!this.subs;\n    }\n    /**\n     * \"Opens\" the socket.\n     *\n     * @public\n     */\n    connect() {\n        if (this.connected)\n            return this;\n        this.subEvents();\n        if (!this.io[\"_reconnecting\"])\n            this.io.open(); // ensure open\n        if (\"open\" === this.io._readyState)\n            this.onopen();\n        return this;\n    }\n    /**\n     * Alias for connect()\n     */\n    open() {\n        return this.connect();\n    }\n    /**\n     * Sends a `message` event.\n     *\n     * @return self\n     * @public\n     */\n    send(...args) {\n        args.unshift(\"message\");\n        this.emit.apply(this, args);\n        return this;\n    }\n    /**\n     * Override `emit`.\n     * If the event is in `events`, it's emitted normally.\n     *\n     * @return self\n     * @public\n     */\n    emit(ev, ...args) {\n        if (RESERVED_EVENTS.hasOwnProperty(ev)) {\n            throw new Error('\"' + ev + '\" is a reserved event name');\n        }\n        args.unshift(ev);\n        const packet = {\n            type: PacketType.EVENT,\n            data: args,\n        };\n        packet.options = {};\n        packet.options.compress = this.flags.compress !== false;\n        // event ack callback\n        if (\"function\" === typeof args[args.length - 1]) {\n            const id = this.ids++;\n            const ack = args.pop();\n            this._registerAckCallback(id, ack);\n            packet.id = id;\n        }\n        const isTransportWritable = this.io.engine &&\n            this.io.engine.transport &&\n            this.io.engine.transport.writable;\n        const discardPacket = this.flags.volatile && (!isTransportWritable || !this.connected);\n        if (discardPacket) {\n        }\n        else if (this.connected) {\n            this.packet(packet);\n        }\n        else {\n            this.sendBuffer.push(packet);\n        }\n        this.flags = {};\n        return this;\n    }\n    /**\n     * @private\n     */\n    _registerAckCallback(id, ack) {\n        const timeout = this.flags.timeout;\n        if (timeout === undefined) {\n            this.acks[id] = ack;\n            return;\n        }\n        // @ts-ignore\n        const timer = this.io.setTimeoutFn(() => {\n            delete this.acks[id];\n            for (let i = 0; i < this.sendBuffer.length; i++) {\n                if (this.sendBuffer[i].id === id) {\n                    this.sendBuffer.splice(i, 1);\n                }\n            }\n            ack.call(this, new Error(\"operation has timed out\"));\n        }, timeout);\n        this.acks[id] = (...args) => {\n            // @ts-ignore\n            this.io.clearTimeoutFn(timer);\n            ack.apply(this, [null, ...args]);\n        };\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param packet\n     * @private\n     */\n    packet(packet) {\n        packet.nsp = this.nsp;\n        this.io._packet(packet);\n    }\n    /**\n     * Called upon engine `open`.\n     *\n     * @private\n     */\n    onopen() {\n        if (typeof this.auth == \"function\") {\n            this.auth((data) => {\n                this.packet({ type: PacketType.CONNECT, data });\n            });\n        }\n        else {\n            this.packet({ type: PacketType.CONNECT, data: this.auth });\n        }\n    }\n    /**\n     * Called upon engine or manager `error`.\n     *\n     * @param err\n     * @private\n     */\n    onerror(err) {\n        if (!this.connected) {\n            this.emitReserved(\"connect_error\", err);\n        }\n    }\n    /**\n     * Called upon engine `close`.\n     *\n     * @param reason\n     * @private\n     */\n    onclose(reason) {\n        this.connected = false;\n        this.disconnected = true;\n        delete this.id;\n        this.emitReserved(\"disconnect\", reason);\n    }\n    /**\n     * Called with socket packet.\n     *\n     * @param packet\n     * @private\n     */\n    onpacket(packet) {\n        const sameNamespace = packet.nsp === this.nsp;\n        if (!sameNamespace)\n            return;\n        switch (packet.type) {\n            case PacketType.CONNECT:\n                if (packet.data && packet.data.sid) {\n                    const id = packet.data.sid;\n                    this.onconnect(id);\n                }\n                else {\n                    this.emitReserved(\"connect_error\", new Error(\"It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)\"));\n                }\n                break;\n            case PacketType.EVENT:\n                this.onevent(packet);\n                break;\n            case PacketType.BINARY_EVENT:\n                this.onevent(packet);\n                break;\n            case PacketType.ACK:\n                this.onack(packet);\n                break;\n            case PacketType.BINARY_ACK:\n                this.onack(packet);\n                break;\n            case PacketType.DISCONNECT:\n                this.ondisconnect();\n                break;\n            case PacketType.CONNECT_ERROR:\n                this.destroy();\n                const err = new Error(packet.data.message);\n                // @ts-ignore\n                err.data = packet.data.data;\n                this.emitReserved(\"connect_error\", err);\n                break;\n        }\n    }\n    /**\n     * Called upon a server event.\n     *\n     * @param packet\n     * @private\n     */\n    onevent(packet) {\n        const args = packet.data || [];\n        if (null != packet.id) {\n            args.push(this.ack(packet.id));\n        }\n        if (this.connected) {\n            this.emitEvent(args);\n        }\n        else {\n            this.receiveBuffer.push(Object.freeze(args));\n        }\n    }\n    emitEvent(args) {\n        if (this._anyListeners && this._anyListeners.length) {\n            const listeners = this._anyListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, args);\n            }\n        }\n        super.emit.apply(this, args);\n    }\n    /**\n     * Produces an ack callback to emit with an event.\n     *\n     * @private\n     */\n    ack(id) {\n        const self = this;\n        let sent = false;\n        return function (...args) {\n            // prevent double callbacks\n            if (sent)\n                return;\n            sent = true;\n            self.packet({\n                type: PacketType.ACK,\n                id: id,\n                data: args,\n            });\n        };\n    }\n    /**\n     * Called upon a server acknowlegement.\n     *\n     * @param packet\n     * @private\n     */\n    onack(packet) {\n        const ack = this.acks[packet.id];\n        if (\"function\" === typeof ack) {\n            ack.apply(this, packet.data);\n            delete this.acks[packet.id];\n        }\n        else {\n        }\n    }\n    /**\n     * Called upon server connect.\n     *\n     * @private\n     */\n    onconnect(id) {\n        this.id = id;\n        this.connected = true;\n        this.disconnected = false;\n        this.emitBuffered();\n        this.emitReserved(\"connect\");\n    }\n    /**\n     * Emit buffered events (received and emitted).\n     *\n     * @private\n     */\n    emitBuffered() {\n        this.receiveBuffer.forEach((args) => this.emitEvent(args));\n        this.receiveBuffer = [];\n        this.sendBuffer.forEach((packet) => this.packet(packet));\n        this.sendBuffer = [];\n    }\n    /**\n     * Called upon server disconnect.\n     *\n     * @private\n     */\n    ondisconnect() {\n        this.destroy();\n        this.onclose(\"io server disconnect\");\n    }\n    /**\n     * Called upon forced client/server side disconnections,\n     * this method ensures the manager stops tracking us and\n     * that reconnections don't get triggered for this.\n     *\n     * @private\n     */\n    destroy() {\n        if (this.subs) {\n            // clean subscriptions to avoid reconnections\n            this.subs.forEach((subDestroy) => subDestroy());\n            this.subs = undefined;\n        }\n        this.io[\"_destroy\"](this);\n    }\n    /**\n     * Disconnects the socket manually.\n     *\n     * @return self\n     * @public\n     */\n    disconnect() {\n        if (this.connected) {\n            this.packet({ type: PacketType.DISCONNECT });\n        }\n        // remove socket from pool\n        this.destroy();\n        if (this.connected) {\n            // fire events\n            this.onclose(\"io client disconnect\");\n        }\n        return this;\n    }\n    /**\n     * Alias for disconnect()\n     *\n     * @return self\n     * @public\n     */\n    close() {\n        return this.disconnect();\n    }\n    /**\n     * Sets the compress flag.\n     *\n     * @param compress - if `true`, compresses the sending data\n     * @return self\n     * @public\n     */\n    compress(compress) {\n        this.flags.compress = compress;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the event message will be dropped when this socket is not\n     * ready to send messages.\n     *\n     * @returns self\n     * @public\n     */\n    get volatile() {\n        this.flags.volatile = true;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the callback will be called with an error when the\n     * given number of milliseconds have elapsed without an acknowledgement from the server:\n     *\n     * ```\n     * socket.timeout(5000).emit(\"my-event\", (err) => {\n     *   if (err) {\n     *     // the server did not acknowledge the event in the given delay\n     *   }\n     * });\n     * ```\n     *\n     * @returns self\n     * @public\n     */\n    timeout(timeout) {\n        this.flags.timeout = timeout;\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * @param listener\n     * @public\n     */\n    onAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * @param listener\n     * @public\n     */\n    prependAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @param listener\n     * @public\n     */\n    offAny(listener) {\n        if (!this._anyListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     *\n     * @public\n     */\n    listenersAny() {\n        return this._anyListeners || [];\n    }\n}\n","import { Socket as Engine, installTimerFunctions, } from \"engine.io-client\";\nimport { Socket } from \"./socket.js\";\nimport * as parser from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport Backoff from \"backo2\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\nexport class Manager extends Emitter {\n    constructor(uri, opts) {\n        var _a;\n        super();\n        this.nsps = {};\n        this.subs = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = undefined;\n        }\n        opts = opts || {};\n        opts.path = opts.path || \"/socket.io\";\n        this.opts = opts;\n        installTimerFunctions(this, opts);\n        this.reconnection(opts.reconnection !== false);\n        this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n        this.reconnectionDelay(opts.reconnectionDelay || 1000);\n        this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n        this.randomizationFactor((_a = opts.randomizationFactor) !== null && _a !== void 0 ? _a : 0.5);\n        this.backoff = new Backoff({\n            min: this.reconnectionDelay(),\n            max: this.reconnectionDelayMax(),\n            jitter: this.randomizationFactor(),\n        });\n        this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n        this._readyState = \"closed\";\n        this.uri = uri;\n        const _parser = opts.parser || parser;\n        this.encoder = new _parser.Encoder();\n        this.decoder = new _parser.Decoder();\n        this._autoConnect = opts.autoConnect !== false;\n        if (this._autoConnect)\n            this.open();\n    }\n    reconnection(v) {\n        if (!arguments.length)\n            return this._reconnection;\n        this._reconnection = !!v;\n        return this;\n    }\n    reconnectionAttempts(v) {\n        if (v === undefined)\n            return this._reconnectionAttempts;\n        this._reconnectionAttempts = v;\n        return this;\n    }\n    reconnectionDelay(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelay;\n        this._reconnectionDelay = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMin(v);\n        return this;\n    }\n    randomizationFactor(v) {\n        var _a;\n        if (v === undefined)\n            return this._randomizationFactor;\n        this._randomizationFactor = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setJitter(v);\n        return this;\n    }\n    reconnectionDelayMax(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelayMax;\n        this._reconnectionDelayMax = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMax(v);\n        return this;\n    }\n    timeout(v) {\n        if (!arguments.length)\n            return this._timeout;\n        this._timeout = v;\n        return this;\n    }\n    /**\n     * Starts trying to reconnect if reconnection is enabled and we have not\n     * started reconnecting yet\n     *\n     * @private\n     */\n    maybeReconnectOnOpen() {\n        // Only try to reconnect if it's the first time we're connecting\n        if (!this._reconnecting &&\n            this._reconnection &&\n            this.backoff.attempts === 0) {\n            // keeps reconnection from firing twice for the same reconnection loop\n            this.reconnect();\n        }\n    }\n    /**\n     * Sets the current transport `socket`.\n     *\n     * @param {Function} fn - optional, callback\n     * @return self\n     * @public\n     */\n    open(fn) {\n        if (~this._readyState.indexOf(\"open\"))\n            return this;\n        this.engine = new Engine(this.uri, this.opts);\n        const socket = this.engine;\n        const self = this;\n        this._readyState = \"opening\";\n        this.skipReconnect = false;\n        // emit `open`\n        const openSubDestroy = on(socket, \"open\", function () {\n            self.onopen();\n            fn && fn();\n        });\n        // emit `error`\n        const errorSub = on(socket, \"error\", (err) => {\n            self.cleanup();\n            self._readyState = \"closed\";\n            this.emitReserved(\"error\", err);\n            if (fn) {\n                fn(err);\n            }\n            else {\n                // Only do this if there is no fn to handle the error\n                self.maybeReconnectOnOpen();\n            }\n        });\n        if (false !== this._timeout) {\n            const timeout = this._timeout;\n            if (timeout === 0) {\n                openSubDestroy(); // prevents a race condition with the 'open' event\n            }\n            // set timer\n            const timer = this.setTimeoutFn(() => {\n                openSubDestroy();\n                socket.close();\n                // @ts-ignore\n                socket.emit(\"error\", new Error(\"timeout\"));\n            }, timeout);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(function subDestroy() {\n                clearTimeout(timer);\n            });\n        }\n        this.subs.push(openSubDestroy);\n        this.subs.push(errorSub);\n        return this;\n    }\n    /**\n     * Alias for open()\n     *\n     * @return self\n     * @public\n     */\n    connect(fn) {\n        return this.open(fn);\n    }\n    /**\n     * Called upon transport open.\n     *\n     * @private\n     */\n    onopen() {\n        // clear old subs\n        this.cleanup();\n        // mark as open\n        this._readyState = \"open\";\n        this.emitReserved(\"open\");\n        // add new subs\n        const socket = this.engine;\n        this.subs.push(on(socket, \"ping\", this.onping.bind(this)), on(socket, \"data\", this.ondata.bind(this)), on(socket, \"error\", this.onerror.bind(this)), on(socket, \"close\", this.onclose.bind(this)), on(this.decoder, \"decoded\", this.ondecoded.bind(this)));\n    }\n    /**\n     * Called upon a ping.\n     *\n     * @private\n     */\n    onping() {\n        this.emitReserved(\"ping\");\n    }\n    /**\n     * Called with data.\n     *\n     * @private\n     */\n    ondata(data) {\n        this.decoder.add(data);\n    }\n    /**\n     * Called when parser fully decodes a packet.\n     *\n     * @private\n     */\n    ondecoded(packet) {\n        this.emitReserved(\"packet\", packet);\n    }\n    /**\n     * Called upon socket error.\n     *\n     * @private\n     */\n    onerror(err) {\n        this.emitReserved(\"error\", err);\n    }\n    /**\n     * Creates a new socket for the given `nsp`.\n     *\n     * @return {Socket}\n     * @public\n     */\n    socket(nsp, opts) {\n        let socket = this.nsps[nsp];\n        if (!socket) {\n            socket = new Socket(this, nsp, opts);\n            this.nsps[nsp] = socket;\n        }\n        return socket;\n    }\n    /**\n     * Called upon a socket close.\n     *\n     * @param socket\n     * @private\n     */\n    _destroy(socket) {\n        const nsps = Object.keys(this.nsps);\n        for (const nsp of nsps) {\n            const socket = this.nsps[nsp];\n            if (socket.active) {\n                return;\n            }\n        }\n        this._close();\n    }\n    /**\n     * Writes a packet.\n     *\n     * @param packet\n     * @private\n     */\n    _packet(packet) {\n        const encodedPackets = this.encoder.encode(packet);\n        for (let i = 0; i < encodedPackets.length; i++) {\n            this.engine.write(encodedPackets[i], packet.options);\n        }\n    }\n    /**\n     * Clean up transport subscriptions and packet buffer.\n     *\n     * @private\n     */\n    cleanup() {\n        this.subs.forEach((subDestroy) => subDestroy());\n        this.subs.length = 0;\n        this.decoder.destroy();\n    }\n    /**\n     * Close the current socket.\n     *\n     * @private\n     */\n    _close() {\n        this.skipReconnect = true;\n        this._reconnecting = false;\n        this.onclose(\"forced close\");\n        if (this.engine)\n            this.engine.close();\n    }\n    /**\n     * Alias for close()\n     *\n     * @private\n     */\n    disconnect() {\n        return this._close();\n    }\n    /**\n     * Called upon engine close.\n     *\n     * @private\n     */\n    onclose(reason) {\n        this.cleanup();\n        this.backoff.reset();\n        this._readyState = \"closed\";\n        this.emitReserved(\"close\", reason);\n        if (this._reconnection && !this.skipReconnect) {\n            this.reconnect();\n        }\n    }\n    /**\n     * Attempt a reconnection.\n     *\n     * @private\n     */\n    reconnect() {\n        if (this._reconnecting || this.skipReconnect)\n            return this;\n        const self = this;\n        if (this.backoff.attempts >= this._reconnectionAttempts) {\n            this.backoff.reset();\n            this.emitReserved(\"reconnect_failed\");\n            this._reconnecting = false;\n        }\n        else {\n            const delay = this.backoff.duration();\n            this._reconnecting = true;\n            const timer = this.setTimeoutFn(() => {\n                if (self.skipReconnect)\n                    return;\n                this.emitReserved(\"reconnect_attempt\", self.backoff.attempts);\n                // check again for the case socket closed in above events\n                if (self.skipReconnect)\n                    return;\n                self.open((err) => {\n                    if (err) {\n                        self._reconnecting = false;\n                        self.reconnect();\n                        this.emitReserved(\"reconnect_error\", err);\n                    }\n                    else {\n                        self.onreconnect();\n                    }\n                });\n            }, delay);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(function subDestroy() {\n                clearTimeout(timer);\n            });\n        }\n    }\n    /**\n     * Called upon successful reconnect.\n     *\n     * @private\n     */\n    onreconnect() {\n        const attempt = this.backoff.attempts;\n        this._reconnecting = false;\n        this.backoff.reset();\n        this.emitReserved(\"reconnect\", attempt);\n    }\n}\n","import { url } from \"./url.js\";\nimport { Manager } from \"./manager.js\";\nimport { Socket } from \"./socket.js\";\n/**\n * Managers cache.\n */\nconst cache = {};\nfunction lookup(uri, opts) {\n    if (typeof uri === \"object\") {\n        opts = uri;\n        uri = undefined;\n    }\n    opts = opts || {};\n    const parsed = url(uri, opts.path || \"/socket.io\");\n    const source = parsed.source;\n    const id = parsed.id;\n    const path = parsed.path;\n    const sameNamespace = cache[id] && path in cache[id][\"nsps\"];\n    const newConnection = opts.forceNew ||\n        opts[\"force new connection\"] ||\n        false === opts.multiplex ||\n        sameNamespace;\n    let io;\n    if (newConnection) {\n        io = new Manager(source, opts);\n    }\n    else {\n        if (!cache[id]) {\n            cache[id] = new Manager(source, opts);\n        }\n        io = cache[id];\n    }\n    if (parsed.query && !opts.query) {\n        opts.query = parsed.queryKey;\n    }\n    return io.socket(parsed.path, opts);\n}\n// so that \"lookup\" can be used both as a function (e.g. `io(...)`) and as a\n// namespace (e.g. `io.connect(...)`), for backward compatibility\nObject.assign(lookup, {\n    Manager,\n    Socket,\n    io: lookup,\n    connect: lookup,\n});\n/**\n * Protocol version.\n *\n * @public\n */\nexport { protocol } from \"socket.io-parser\";\n/**\n * Expose constructors for standalone build.\n *\n * @public\n */\nexport { Manager, Socket, lookup as io, lookup as connect, lookup as default, };\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-row',[_c('v-col',{staticClass:\"px-0\"},[_c('v-card',{attrs:{\"outlined\":\"\"}},[_c('v-row',[_c('v-col',{staticClass:\"py-0 mt-1\"},[_c('codemirror',{ref:\"myCm\",class:_vm.fontSize,attrs:{\"value\":_vm.value,\"options\":_vm.cmOptions},on:{\"ready\":_vm.onCmReady,\"input\":_vm.onCodeChange}})],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-row>\r\n    <v-col class=\"px-0\">\r\n      <v-card outlined>\r\n        <v-row>\r\n          <v-col class=\"py-0 mt-1\" >\r\n            <codemirror\r\n              ref=\"myCm\"\r\n              :value=\"value\"\r\n              @ready=\"onCmReady\"\r\n              @input=\"onCodeChange\"\r\n              :options=\"cmOptions\"\r\n              :class=\"fontSize\"\r\n            ></codemirror>\r\n          </v-col>\r\n        </v-row>\r\n      </v-card>\r\n    </v-col>\r\n  </v-row>\r\n</template>\r\n\r\n<script>\r\nimport { codemirror, CodeMirror } from \"vue-codemirror\";\r\nimport \"codemirror/lib/codemirror\";\r\n\r\nimport \"codemirror/addon/comment/comment.js\";\r\nimport 'codemirror/addon/hint/show-hint';\r\nimport 'codemirror/addon/search/searchcursor';\r\nimport 'codemirror/addon/search/search';\r\nimport 'codemirror/addon/display/placeholder';\r\nimport 'codemirror/addon/hint/show-hint.css';\r\nimport 'codemirror/addon/edit/closebrackets';\r\n\r\nimport 'codemirror/lib/codemirror.css'\r\n\r\n// import theme style\r\nimport '../assets/css/codemirror.css'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      autoCloseBrackets: true,\r\n      tabSize: 4,\r\n      theme: \"default\",\r\n      language: \"default\",\r\n      keyMap: \"default\",\r\n      fontSize: \"normal\",\r\n    };\r\n  },\r\n  props: {\r\n    value: {\r\n      type: String,\r\n      required: false\r\n    },\r\n  },\r\n  components: {\r\n    codemirror\r\n  },\r\n  computed: {\r\n    codemirror() {\r\n      return this.$refs.myCm.codemirror;\r\n    },\r\n    cmOptions() {\r\n      return {\r\n        tabSize: this.tabSize,\r\n        indentUnit: this.tabSize,\r\n        indentWithTabs: true,\r\n\t\t\t\tsmartIndent: true,\r\n        autoCloseBrackets: this.autoCloseBrackets,\r\n        lineNumbers: true,\r\n        line: true,\r\n        styleActiveLine: true,\r\n        matchBrackets: true,\r\n        lineWrapping: true,\r\n        theme: this.theme,\r\n        foldGutter: true,\r\n        keyMap: this.keyMap,\r\n        extraKeys: {\r\n          'Ctrl-/': 'toggleComment',\r\n          'Cmd-/' : 'toggleComment',\r\n          // 'Enter': this.onNewLine,\r\n        }\r\n      };\r\n    },\r\n  },\r\n  methods: {\r\n    onCmReady(cm) {\r\n      console.log(\"Codemirror is ready !\");\r\n      cm.on('cursorActivity', (cm) => {\r\n        let data = cm.getCursor();\r\n        this.$emit('newCursor', {\r\n          line: data.line,\r\n          ch: data.ch\r\n        });\r\n      });\r\n    },\r\n    onCodeChange(newValue) {\r\n      this.$emit('input', newValue);\r\n    },\r\n    modifyCursor: function(data) {\r\n      console.log(data);\r\n      this.codemirror.setCursor(data);\r\n    },\r\n    onNewLine(cm) {\r\n      var doc = cm.getDoc();\r\n      var cursor = doc.getCursor(); // gets the line number in the cursor position\r\n      var line = doc.getLine(cursor.line); // get the line contents\r\n      var pos = { // create a new object to avoid mutation of the original selection\r\n        line: cursor.line,\r\n        ch: line.length // set the character position to the end of the line\r\n      }\r\n      doc.replaceRange('\\n', pos); // adds a new line\r\n      return CodeMirror.pass;\r\n    }\r\n  },\r\n};\r\n\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=js&\"","import VSheet from './VSheet'\n\nexport { VSheet }\nexport default VSheet\n","import { FunctionalComponentOptions, VNode, VNodeData } from 'vue'\nimport mergeData from '../../util/mergeData'\n\nfunction mergeTransitions (\n  dest: Function | Function[] = [],\n  ...transitions: (Function | Function[])[]\n) {\n  /* eslint-disable-next-line no-array-constructor */\n  return Array<Function>().concat(dest, ...transitions)\n}\n\nexport function createSimpleTransition (\n  name: string,\n  origin = 'top center 0',\n  mode?: string\n): FunctionalComponentOptions {\n  return {\n    name,\n\n    functional: true,\n\n    props: {\n      group: {\n        type: Boolean,\n        default: false,\n      },\n      hideOnLeave: {\n        type: Boolean,\n        default: false,\n      },\n      leaveAbsolute: {\n        type: Boolean,\n        default: false,\n      },\n      mode: {\n        type: String,\n        default: mode,\n      },\n      origin: {\n        type: String,\n        default: origin,\n      },\n    },\n\n    render (h, context): VNode {\n      const tag = `transition${context.props.group ? '-group' : ''}`\n      const data: VNodeData = {\n        props: {\n          name,\n          mode: context.props.mode,\n        },\n        on: {\n          beforeEnter (el: HTMLElement) {\n            el.style.transformOrigin = context.props.origin\n            el.style.webkitTransformOrigin = context.props.origin\n          },\n        },\n      }\n\n      if (context.props.leaveAbsolute) {\n        data.on!.leave = mergeTransitions(data.on!.leave, (el: HTMLElement) => {\n          const { offsetTop, offsetLeft, offsetWidth, offsetHeight } = el\n          el._transitionInitialStyles = {\n            position: el.style.position,\n            top: el.style.top,\n            left: el.style.left,\n            width: el.style.width,\n            height: el.style.height,\n          }\n          el.style.position = 'absolute'\n          el.style.top = offsetTop + 'px'\n          el.style.left = offsetLeft + 'px'\n          el.style.width = offsetWidth + 'px'\n          el.style.height = offsetHeight + 'px'\n        })\n        data.on!.afterLeave = mergeTransitions(data.on!.afterLeave, (el?: HTMLElement) => {\n          if (el && el._transitionInitialStyles) {\n            const { position, top, left, width, height } = el._transitionInitialStyles\n            delete el._transitionInitialStyles\n            el.style.position = position || ''\n            el.style.top = top || ''\n            el.style.left = left || ''\n            el.style.width = width || ''\n            el.style.height = height || ''\n          }\n        })\n      }\n      if (context.props.hideOnLeave) {\n        data.on!.leave = mergeTransitions(data.on!.leave, (el: HTMLElement) => {\n          el.style.setProperty('display', 'none', 'important')\n        })\n      }\n\n      return h(tag, mergeData(context.data, data), context.children)\n    },\n  }\n}\n\nexport function createJavascriptTransition (\n  name: string,\n  functions: Record<string, any>,\n  mode = 'in-out'\n): FunctionalComponentOptions {\n  return {\n    name,\n\n    functional: true,\n\n    props: {\n      mode: {\n        type: String,\n        default: mode,\n      },\n    },\n\n    render (h, context): VNode {\n      return h(\n        'transition',\n        mergeData(context.data, {\n          props: { name },\n          on: functions,\n        }),\n        context.children\n      )\n    },\n  }\n}\n","import { upperFirst } from '../../util/helpers'\n\ninterface HTMLExpandElement extends HTMLElement {\n  _parent?: (Node & ParentNode & HTMLElement) | null\n  _initialStyle?: {\n    transition: string\n    overflow: string\n    height?: string | null\n    width?: string | null\n  }\n}\n\nexport default function (expandedParentClass = '', x = false) {\n  const sizeProperty = x ? 'width' : 'height' as 'width' | 'height'\n  const offsetProperty = `offset${upperFirst(sizeProperty)}` as 'offsetHeight' | 'offsetWidth'\n\n  return {\n    beforeEnter (el: HTMLExpandElement) {\n      el._parent = el.parentNode as (Node & ParentNode & HTMLElement) | null\n      el._initialStyle = {\n        transition: el.style.transition,\n        overflow: el.style.overflow,\n        [sizeProperty]: el.style[sizeProperty],\n      }\n    },\n\n    enter (el: HTMLExpandElement) {\n      const initialStyle = el._initialStyle!\n\n      el.style.setProperty('transition', 'none', 'important')\n      // Hide overflow to account for collapsed margins in the calculated height\n      el.style.overflow = 'hidden'\n      const offset = `${el[offsetProperty]}px`\n\n      el.style[sizeProperty] = '0'\n\n      void el.offsetHeight // force reflow\n\n      el.style.transition = initialStyle.transition\n\n      if (expandedParentClass && el._parent) {\n        el._parent.classList.add(expandedParentClass)\n      }\n\n      requestAnimationFrame(() => {\n        el.style[sizeProperty] = offset\n      })\n    },\n\n    afterEnter: resetStyles,\n    enterCancelled: resetStyles,\n\n    leave (el: HTMLExpandElement) {\n      el._initialStyle = {\n        transition: '',\n        overflow: el.style.overflow,\n        [sizeProperty]: el.style[sizeProperty],\n      }\n\n      el.style.overflow = 'hidden'\n      el.style[sizeProperty] = `${el[offsetProperty]}px`\n      void el.offsetHeight // force reflow\n\n      requestAnimationFrame(() => (el.style[sizeProperty] = '0'))\n    },\n\n    afterLeave,\n    leaveCancelled: afterLeave,\n  }\n\n  function afterLeave (el: HTMLExpandElement) {\n    if (expandedParentClass && el._parent) {\n      el._parent.classList.remove(expandedParentClass)\n    }\n    resetStyles(el)\n  }\n\n  function resetStyles (el: HTMLExpandElement) {\n    const size = el._initialStyle![sizeProperty]\n    el.style.overflow = el._initialStyle!.overflow\n    if (size != null) el.style[sizeProperty] = size\n    delete el._initialStyle\n  }\n}\n","import {\n  createSimpleTransition,\n  createJavascriptTransition,\n} from './createTransition'\n\nimport ExpandTransitionGenerator from './expand-transition'\n\n// Component specific transitions\nexport const VCarouselTransition = createSimpleTransition('carousel-transition')\nexport const VCarouselReverseTransition = createSimpleTransition('carousel-reverse-transition')\nexport const VTabTransition = createSimpleTransition('tab-transition')\nexport const VTabReverseTransition = createSimpleTransition('tab-reverse-transition')\nexport const VMenuTransition = createSimpleTransition('menu-transition')\nexport const VFabTransition = createSimpleTransition('fab-transition', 'center center', 'out-in')\n\n// Generic transitions\nexport const VDialogTransition = createSimpleTransition('dialog-transition')\nexport const VDialogBottomTransition = createSimpleTransition('dialog-bottom-transition')\nexport const VDialogTopTransition = createSimpleTransition('dialog-top-transition')\nexport const VFadeTransition = createSimpleTransition('fade-transition')\nexport const VScaleTransition = createSimpleTransition('scale-transition')\nexport const VScrollXTransition = createSimpleTransition('scroll-x-transition')\nexport const VScrollXReverseTransition = createSimpleTransition('scroll-x-reverse-transition')\nexport const VScrollYTransition = createSimpleTransition('scroll-y-transition')\nexport const VScrollYReverseTransition = createSimpleTransition('scroll-y-reverse-transition')\nexport const VSlideXTransition = createSimpleTransition('slide-x-transition')\nexport const VSlideXReverseTransition = createSimpleTransition('slide-x-reverse-transition')\nexport const VSlideYTransition = createSimpleTransition('slide-y-transition')\nexport const VSlideYReverseTransition = createSimpleTransition('slide-y-reverse-transition')\n\n// Javascript transitions\nexport const VExpandTransition = createJavascriptTransition('expand-transition', ExpandTransitionGenerator())\nexport const VExpandXTransition = createJavascriptTransition('expand-x-transition', ExpandTransitionGenerator('', true))\n\nexport default {\n  $_vuetify_subcomponents: {\n    VCarouselTransition,\n    VCarouselReverseTransition,\n    VDialogTransition,\n    VDialogBottomTransition,\n    VDialogTopTransition,\n    VFabTransition,\n    VFadeTransition,\n    VMenuTransition,\n    VScaleTransition,\n    VScrollXTransition,\n    VScrollXReverseTransition,\n    VScrollYTransition,\n    VScrollYReverseTransition,\n    VSlideXTransition,\n    VSlideXReverseTransition,\n    VSlideYTransition,\n    VSlideYReverseTransition,\n    VTabReverseTransition,\n    VTabTransition,\n    VExpandTransition,\n    VExpandXTransition,\n  },\n}\n","import Vue, { VueConstructor } from 'vue'\n\nexport type Proxyable<T extends string = 'value'> = VueConstructor<Vue & {\n  internalLazyValue: unknown\n  internalValue: unknown\n} & Record<T, any>>\n\nexport function factory<T extends string = 'value'> (prop?: T, event?: string): Proxyable<T>\nexport function factory (\n  prop = 'value',\n  event = 'change'\n) {\n  return Vue.extend({\n    name: 'proxyable',\n\n    model: {\n      prop,\n      event,\n    },\n\n    props: {\n      [prop]: {\n        required: false,\n      },\n    },\n\n    data () {\n      return {\n        internalLazyValue: this[prop] as unknown,\n      }\n    },\n\n    computed: {\n      internalValue: {\n        get (): unknown {\n          return this.internalLazyValue\n        },\n        set (val: any) {\n          if (val === this.internalLazyValue) return\n\n          this.internalLazyValue = val\n\n          this.$emit(event, val)\n        },\n      },\n    },\n\n    watch: {\n      [prop] (val) {\n        this.internalLazyValue = val\n      },\n    },\n  })\n}\n\n/* eslint-disable-next-line @typescript-eslint/no-redeclare */\nconst Proxyable = factory()\n\nexport default Proxyable\n","import './VProgressLinear.sass'\n\n// Components\nimport {\n  VFadeTransition,\n  VSlideXTransition,\n} from '../transitions'\n\n// Directives\nimport intersect from '../../directives/intersect'\n\n// Mixins\nimport Colorable from '../../mixins/colorable'\nimport { factory as PositionableFactory } from '../../mixins/positionable'\nimport Proxyable from '../../mixins/proxyable'\nimport Themeable from '../../mixins/themeable'\n\n// Utilities\nimport { convertToUnit, getSlot } from '../../util/helpers'\nimport mixins from '../../util/mixins'\n\n// Types\nimport { FunctionalComponentOptions } from 'vue/types'\nimport { VNode } from 'vue'\n\nconst baseMixins = mixins(\n  Colorable,\n  PositionableFactory(['absolute', 'fixed', 'top', 'bottom']),\n  Proxyable,\n  Themeable\n)\n\n/* @vue/component */\nexport default baseMixins.extend({\n  name: 'v-progress-linear',\n\n  directives: { intersect },\n\n  props: {\n    active: {\n      type: Boolean,\n      default: true,\n    },\n    backgroundColor: {\n      type: String,\n      default: null,\n    },\n    backgroundOpacity: {\n      type: [Number, String],\n      default: null,\n    },\n    bufferValue: {\n      type: [Number, String],\n      default: 100,\n    },\n    color: {\n      type: String,\n      default: 'primary',\n    },\n    height: {\n      type: [Number, String],\n      default: 4,\n    },\n    indeterminate: Boolean,\n    query: Boolean,\n    reverse: Boolean,\n    rounded: Boolean,\n    stream: Boolean,\n    striped: Boolean,\n    value: {\n      type: [Number, String],\n      default: 0,\n    },\n  },\n\n  data () {\n    return {\n      internalLazyValue: this.value || 0,\n      isVisible: true,\n    }\n  },\n\n  computed: {\n    __cachedBackground (): VNode {\n      return this.$createElement('div', this.setBackgroundColor(this.backgroundColor || this.color, {\n        staticClass: 'v-progress-linear__background',\n        style: this.backgroundStyle,\n      }))\n    },\n    __cachedBar (): VNode {\n      return this.$createElement(this.computedTransition, [this.__cachedBarType])\n    },\n    __cachedBarType (): VNode {\n      return this.indeterminate ? this.__cachedIndeterminate : this.__cachedDeterminate\n    },\n    __cachedBuffer (): VNode {\n      return this.$createElement('div', {\n        staticClass: 'v-progress-linear__buffer',\n        style: this.styles,\n      })\n    },\n    __cachedDeterminate (): VNode {\n      return this.$createElement('div', this.setBackgroundColor(this.color, {\n        staticClass: `v-progress-linear__determinate`,\n        style: {\n          width: convertToUnit(this.normalizedValue, '%'),\n        },\n      }))\n    },\n    __cachedIndeterminate (): VNode {\n      return this.$createElement('div', {\n        staticClass: 'v-progress-linear__indeterminate',\n        class: {\n          'v-progress-linear__indeterminate--active': this.active,\n        },\n      }, [\n        this.genProgressBar('long'),\n        this.genProgressBar('short'),\n      ])\n    },\n    __cachedStream (): VNode | null {\n      if (!this.stream) return null\n\n      return this.$createElement('div', this.setTextColor(this.color, {\n        staticClass: 'v-progress-linear__stream',\n        style: {\n          width: convertToUnit(100 - this.normalizedBuffer, '%'),\n        },\n      }))\n    },\n    backgroundStyle (): object {\n      const backgroundOpacity = this.backgroundOpacity == null\n        ? (this.backgroundColor ? 1 : 0.3)\n        : parseFloat(this.backgroundOpacity)\n\n      return {\n        opacity: backgroundOpacity,\n        [this.isReversed ? 'right' : 'left']: convertToUnit(this.normalizedValue, '%'),\n        width: convertToUnit(Math.max(0, this.normalizedBuffer - this.normalizedValue), '%'),\n      }\n    },\n    classes (): object {\n      return {\n        'v-progress-linear--absolute': this.absolute,\n        'v-progress-linear--fixed': this.fixed,\n        'v-progress-linear--query': this.query,\n        'v-progress-linear--reactive': this.reactive,\n        'v-progress-linear--reverse': this.isReversed,\n        'v-progress-linear--rounded': this.rounded,\n        'v-progress-linear--striped': this.striped,\n        'v-progress-linear--visible': this.isVisible,\n        ...this.themeClasses,\n      }\n    },\n    computedTransition (): FunctionalComponentOptions {\n      return this.indeterminate ? VFadeTransition : VSlideXTransition\n    },\n    isReversed (): boolean {\n      return this.$vuetify.rtl !== this.reverse\n    },\n    normalizedBuffer (): number {\n      return this.normalize(this.bufferValue)\n    },\n    normalizedValue (): number {\n      return this.normalize(this.internalLazyValue)\n    },\n    reactive (): boolean {\n      return Boolean(this.$listeners.change)\n    },\n    styles (): object {\n      const styles: Record<string, any> = {}\n\n      if (!this.active) {\n        styles.height = 0\n      }\n\n      if (!this.indeterminate && parseFloat(this.normalizedBuffer) !== 100) {\n        styles.width = convertToUnit(this.normalizedBuffer, '%')\n      }\n\n      return styles\n    },\n  },\n\n  methods: {\n    genContent () {\n      const slot = getSlot(this, 'default', { value: this.internalLazyValue })\n\n      if (!slot) return null\n\n      return this.$createElement('div', {\n        staticClass: 'v-progress-linear__content',\n      }, slot)\n    },\n    genListeners () {\n      const listeners = this.$listeners\n\n      if (this.reactive) {\n        listeners.click = this.onClick\n      }\n\n      return listeners\n    },\n    genProgressBar (name: 'long' | 'short') {\n      return this.$createElement('div', this.setBackgroundColor(this.color, {\n        staticClass: 'v-progress-linear__indeterminate',\n        class: {\n          [name]: true,\n        },\n      }))\n    },\n    onClick (e: MouseEvent) {\n      if (!this.reactive) return\n\n      const { width } = this.$el.getBoundingClientRect()\n\n      this.internalValue = e.offsetX / width * 100\n    },\n    onObserve (entries: IntersectionObserverEntry[], observer: IntersectionObserver, isIntersecting: boolean) {\n      this.isVisible = isIntersecting\n    },\n    normalize (value: string | number) {\n      if (value < 0) return 0\n      if (value > 100) return 100\n      return parseFloat(value)\n    },\n  },\n\n  render (h): VNode {\n    const data = {\n      staticClass: 'v-progress-linear',\n      attrs: {\n        role: 'progressbar',\n        'aria-valuemin': 0,\n        'aria-valuemax': this.normalizedBuffer,\n        'aria-valuenow': this.indeterminate ? undefined : this.normalizedValue,\n      },\n      class: this.classes,\n      directives: [{\n        name: 'intersect',\n        value: this.onObserve,\n      }],\n      style: {\n        bottom: this.bottom ? 0 : undefined,\n        height: this.active ? convertToUnit(this.height) : 0,\n        top: this.top ? 0 : undefined,\n      },\n      on: this.genListeners(),\n    }\n\n    return h('div', data, [\n      this.__cachedStream,\n      this.__cachedBackground,\n      this.__cachedBuffer,\n      this.__cachedBar,\n      this.genContent(),\n    ])\n  },\n})\n","import VProgressLinear from './VProgressLinear'\n\nexport { VProgressLinear }\nexport default VProgressLinear\n","import Vue, { VNode } from 'vue'\nimport VProgressLinear from '../../components/VProgressLinear'\n\ninterface colorable extends Vue {\n  color?: string\n}\n\n/**\n * Loadable\n *\n * @mixin\n *\n * Used to add linear progress bar to components\n * Can use a default bar with a specific color\n * or designate a custom progress linear bar\n */\n/* @vue/component */\nexport default Vue.extend<colorable>().extend({\n  name: 'loadable',\n\n  props: {\n    loading: {\n      type: [Boolean, String],\n      default: false,\n    },\n    loaderHeight: {\n      type: [Number, String],\n      default: 2,\n    },\n  },\n\n  methods: {\n    genProgress (): VNode | VNode[] | null {\n      if (this.loading === false) return null\n\n      return this.$slots.progress || this.$createElement(VProgressLinear, {\n        props: {\n          absolute: true,\n          color: (this.loading === true || this.loading === '')\n            ? (this.color || 'primary')\n            : this.loading,\n          height: this.loaderHeight,\n          indeterminate: true,\n        },\n      })\n    },\n  },\n})\n","// Styles\nimport './VRipple.sass'\n\n// Utilities\nimport { consoleWarn } from '../../util/console'\nimport { keyCodes } from '../../util/helpers'\n\n// Types\nimport { VNode, VNodeDirective } from 'vue'\n\ntype VuetifyRippleEvent = (MouseEvent | TouchEvent | KeyboardEvent) & { rippleStop?: boolean }\n\nconst DELAY_RIPPLE = 80\n\nfunction transform (el: HTMLElement, value: string) {\n  el.style.transform = value\n  el.style.webkitTransform = value\n}\n\nexport interface RippleOptions {\n  class?: string\n  center?: boolean\n  circle?: boolean\n}\n\nfunction isTouchEvent (e: VuetifyRippleEvent): e is TouchEvent {\n  return e.constructor.name === 'TouchEvent'\n}\n\nfunction isKeyboardEvent (e: VuetifyRippleEvent): e is KeyboardEvent {\n  return e.constructor.name === 'KeyboardEvent'\n}\n\nconst calculate = (\n  e: VuetifyRippleEvent,\n  el: HTMLElement,\n  value: RippleOptions = {}\n) => {\n  let localX = 0\n  let localY = 0\n\n  if (!isKeyboardEvent(e)) {\n    const offset = el.getBoundingClientRect()\n    const target = isTouchEvent(e) ? e.touches[e.touches.length - 1] : e\n\n    localX = target.clientX - offset.left\n    localY = target.clientY - offset.top\n  }\n\n  let radius = 0\n  let scale = 0.3\n  if (el._ripple && el._ripple.circle) {\n    scale = 0.15\n    radius = el.clientWidth / 2\n    radius = value.center ? radius : radius + Math.sqrt((localX - radius) ** 2 + (localY - radius) ** 2) / 4\n  } else {\n    radius = Math.sqrt(el.clientWidth ** 2 + el.clientHeight ** 2) / 2\n  }\n\n  const centerX = `${(el.clientWidth - (radius * 2)) / 2}px`\n  const centerY = `${(el.clientHeight - (radius * 2)) / 2}px`\n\n  const x = value.center ? centerX : `${localX - radius}px`\n  const y = value.center ? centerY : `${localY - radius}px`\n\n  return { radius, scale, x, y, centerX, centerY }\n}\n\nconst ripples = {\n  /* eslint-disable max-statements */\n  show (\n    e: VuetifyRippleEvent,\n    el: HTMLElement,\n    value: RippleOptions = {}\n  ) {\n    if (!el._ripple || !el._ripple.enabled) {\n      return\n    }\n\n    const container = document.createElement('span')\n    const animation = document.createElement('span')\n\n    container.appendChild(animation)\n    container.className = 'v-ripple__container'\n\n    if (value.class) {\n      container.className += ` ${value.class}`\n    }\n\n    const { radius, scale, x, y, centerX, centerY } = calculate(e, el, value)\n\n    const size = `${radius * 2}px`\n    animation.className = 'v-ripple__animation'\n    animation.style.width = size\n    animation.style.height = size\n\n    el.appendChild(container)\n\n    const computed = window.getComputedStyle(el)\n    if (computed && computed.position === 'static') {\n      el.style.position = 'relative'\n      el.dataset.previousPosition = 'static'\n    }\n\n    animation.classList.add('v-ripple__animation--enter')\n    animation.classList.add('v-ripple__animation--visible')\n    transform(animation, `translate(${x}, ${y}) scale3d(${scale},${scale},${scale})`)\n    animation.dataset.activated = String(performance.now())\n\n    setTimeout(() => {\n      animation.classList.remove('v-ripple__animation--enter')\n      animation.classList.add('v-ripple__animation--in')\n      transform(animation, `translate(${centerX}, ${centerY}) scale3d(1,1,1)`)\n    }, 0)\n  },\n\n  hide (el: HTMLElement | null) {\n    if (!el || !el._ripple || !el._ripple.enabled) return\n\n    const ripples = el.getElementsByClassName('v-ripple__animation')\n\n    if (ripples.length === 0) return\n    const animation = ripples[ripples.length - 1]\n\n    if (animation.dataset.isHiding) return\n    else animation.dataset.isHiding = 'true'\n\n    const diff = performance.now() - Number(animation.dataset.activated)\n    const delay = Math.max(250 - diff, 0)\n\n    setTimeout(() => {\n      animation.classList.remove('v-ripple__animation--in')\n      animation.classList.add('v-ripple__animation--out')\n\n      setTimeout(() => {\n        const ripples = el.getElementsByClassName('v-ripple__animation')\n        if (ripples.length === 1 && el.dataset.previousPosition) {\n          el.style.position = el.dataset.previousPosition\n          delete el.dataset.previousPosition\n        }\n\n        animation.parentNode && el.removeChild(animation.parentNode)\n      }, 300)\n    }, delay)\n  },\n}\n\nfunction isRippleEnabled (value: any): value is true {\n  return typeof value === 'undefined' || !!value\n}\n\nfunction rippleShow (e: VuetifyRippleEvent) {\n  const value: RippleOptions = {}\n  const element = e.currentTarget as HTMLElement\n\n  if (!element || !element._ripple || element._ripple.touched || e.rippleStop) return\n\n  // Don't allow the event to trigger ripples on any other elements\n  e.rippleStop = true\n\n  if (isTouchEvent(e)) {\n    element._ripple.touched = true\n    element._ripple.isTouch = true\n  } else {\n    // It's possible for touch events to fire\n    // as mouse events on Android/iOS, this\n    // will skip the event call if it has\n    // already been registered as touch\n    if (element._ripple.isTouch) return\n  }\n  value.center = element._ripple.centered || isKeyboardEvent(e)\n  if (element._ripple.class) {\n    value.class = element._ripple.class\n  }\n\n  if (isTouchEvent(e)) {\n    // already queued that shows or hides the ripple\n    if (element._ripple.showTimerCommit) return\n\n    element._ripple.showTimerCommit = () => {\n      ripples.show(e, element, value)\n    }\n    element._ripple.showTimer = window.setTimeout(() => {\n      if (element && element._ripple && element._ripple.showTimerCommit) {\n        element._ripple.showTimerCommit()\n        element._ripple.showTimerCommit = null\n      }\n    }, DELAY_RIPPLE)\n  } else {\n    ripples.show(e, element, value)\n  }\n}\n\nfunction rippleHide (e: Event) {\n  const element = e.currentTarget as HTMLElement | null\n  if (!element || !element._ripple) return\n\n  window.clearTimeout(element._ripple.showTimer)\n\n  // The touch interaction occurs before the show timer is triggered.\n  // We still want to show ripple effect.\n  if (e.type === 'touchend' && element._ripple.showTimerCommit) {\n    element._ripple.showTimerCommit()\n    element._ripple.showTimerCommit = null\n\n    // re-queue ripple hiding\n    element._ripple.showTimer = setTimeout(() => {\n      rippleHide(e)\n    })\n    return\n  }\n\n  window.setTimeout(() => {\n    if (element._ripple) {\n      element._ripple.touched = false\n    }\n  })\n  ripples.hide(element)\n}\n\nfunction rippleCancelShow (e: MouseEvent | TouchEvent) {\n  const element = e.currentTarget as HTMLElement | undefined\n\n  if (!element || !element._ripple) return\n\n  if (element._ripple.showTimerCommit) {\n    element._ripple.showTimerCommit = null\n  }\n\n  window.clearTimeout(element._ripple.showTimer)\n}\n\nlet keyboardRipple = false\n\nfunction keyboardRippleShow (e: KeyboardEvent) {\n  if (!keyboardRipple && (e.keyCode === keyCodes.enter || e.keyCode === keyCodes.space)) {\n    keyboardRipple = true\n    rippleShow(e)\n  }\n}\n\nfunction keyboardRippleHide (e: KeyboardEvent) {\n  keyboardRipple = false\n  rippleHide(e)\n}\n\nfunction focusRippleHide (e: FocusEvent) {\n  if (keyboardRipple === true) {\n    keyboardRipple = false\n    rippleHide(e)\n  }\n}\n\nfunction updateRipple (el: HTMLElement, binding: VNodeDirective, wasEnabled: boolean) {\n  const enabled = isRippleEnabled(binding.value)\n  if (!enabled) {\n    ripples.hide(el)\n  }\n  el._ripple = el._ripple || {}\n  el._ripple.enabled = enabled\n  const value = binding.value || {}\n  if (value.center) {\n    el._ripple.centered = true\n  }\n  if (value.class) {\n    el._ripple.class = binding.value.class\n  }\n  if (value.circle) {\n    el._ripple.circle = value.circle\n  }\n  if (enabled && !wasEnabled) {\n    el.addEventListener('touchstart', rippleShow, { passive: true })\n    el.addEventListener('touchend', rippleHide, { passive: true })\n    el.addEventListener('touchmove', rippleCancelShow, { passive: true })\n    el.addEventListener('touchcancel', rippleHide)\n\n    el.addEventListener('mousedown', rippleShow)\n    el.addEventListener('mouseup', rippleHide)\n    el.addEventListener('mouseleave', rippleHide)\n\n    el.addEventListener('keydown', keyboardRippleShow)\n    el.addEventListener('keyup', keyboardRippleHide)\n\n    el.addEventListener('blur', focusRippleHide)\n\n    // Anchor tags can be dragged, causes other hides to fail - #1537\n    el.addEventListener('dragstart', rippleHide, { passive: true })\n  } else if (!enabled && wasEnabled) {\n    removeListeners(el)\n  }\n}\n\nfunction removeListeners (el: HTMLElement) {\n  el.removeEventListener('mousedown', rippleShow)\n  el.removeEventListener('touchstart', rippleShow)\n  el.removeEventListener('touchend', rippleHide)\n  el.removeEventListener('touchmove', rippleCancelShow)\n  el.removeEventListener('touchcancel', rippleHide)\n  el.removeEventListener('mouseup', rippleHide)\n  el.removeEventListener('mouseleave', rippleHide)\n  el.removeEventListener('keydown', keyboardRippleShow)\n  el.removeEventListener('keyup', keyboardRippleHide)\n  el.removeEventListener('dragstart', rippleHide)\n  el.removeEventListener('blur', focusRippleHide)\n}\n\nfunction directive (el: HTMLElement, binding: VNodeDirective, node: VNode) {\n  updateRipple(el, binding, false)\n\n  if (process.env.NODE_ENV === 'development') {\n    // warn if an inline element is used, waiting for el to be in the DOM first\n    node.context && node.context.$nextTick(() => {\n      const computed = window.getComputedStyle(el)\n      if (computed && computed.display === 'inline') {\n        const context = (node as any).fnOptions ? [(node as any).fnOptions, node.context] : [node.componentInstance]\n        consoleWarn('v-ripple can only be used on block-level elements', ...context)\n      }\n    })\n  }\n}\n\nfunction unbind (el: HTMLElement) {\n  delete el._ripple\n  removeListeners(el)\n}\n\nfunction update (el: HTMLElement, binding: VNodeDirective) {\n  if (binding.value === binding.oldValue) {\n    return\n  }\n\n  const wasEnabled = isRippleEnabled(binding.oldValue)\n  updateRipple(el, binding, wasEnabled)\n}\n\nexport const Ripple = {\n  bind: directive,\n  unbind,\n  update,\n}\n\nexport default Ripple\n","import Vue, { VNodeData, PropType } from 'vue'\n\n// Directives\nimport Ripple, { RippleOptions } from '../../directives/ripple'\n\n// Utilities\nimport { getObjectValueByPath } from '../../util/helpers'\n\nexport default Vue.extend({\n  name: 'routable',\n\n  directives: {\n    Ripple,\n  },\n\n  props: {\n    activeClass: String,\n    append: Boolean,\n    disabled: Boolean,\n    exact: {\n      type: Boolean as PropType<boolean | undefined>,\n      default: undefined,\n    },\n    exactPath: Boolean,\n    exactActiveClass: String,\n    link: Boolean,\n    href: [String, Object],\n    to: [String, Object],\n    nuxt: Boolean,\n    replace: Boolean,\n    ripple: {\n      type: [Boolean, Object],\n      default: null,\n    },\n    tag: String,\n    target: String,\n  },\n\n  data: () => ({\n    isActive: false,\n    proxyClass: '',\n  }),\n\n  computed: {\n    classes (): object {\n      const classes: Record<string, boolean> = {}\n\n      if (this.to) return classes\n\n      if (this.activeClass) classes[this.activeClass] = this.isActive\n      if (this.proxyClass) classes[this.proxyClass] = this.isActive\n\n      return classes\n    },\n    computedRipple (): RippleOptions | boolean {\n      return this.ripple ?? (!this.disabled && this.isClickable)\n    },\n    isClickable (): boolean {\n      if (this.disabled) return false\n\n      return Boolean(\n        this.isLink ||\n        this.$listeners.click ||\n        this.$listeners['!click'] ||\n        this.$attrs.tabindex\n      )\n    },\n    isLink (): boolean {\n      return this.to || this.href || this.link\n    },\n    styles: () => ({}),\n  },\n\n  watch: {\n    $route: 'onRouteChange',\n  },\n\n  mounted () {\n    this.onRouteChange()\n  },\n\n  methods: {\n    generateRouteLink () {\n      let exact = this.exact\n      let tag\n\n      const data: VNodeData = {\n        attrs: {\n          tabindex: 'tabindex' in this.$attrs ? this.$attrs.tabindex : undefined,\n        },\n        class: this.classes,\n        style: this.styles,\n        props: {},\n        directives: [{\n          name: 'ripple',\n          value: this.computedRipple,\n        }],\n        [this.to ? 'nativeOn' : 'on']: {\n          ...this.$listeners,\n          ...('click' in this ? { click: (this as any).click } : undefined), // #14447\n        },\n        ref: 'link',\n      }\n\n      if (typeof this.exact === 'undefined') {\n        exact = this.to === '/' ||\n          (this.to === Object(this.to) && this.to.path === '/')\n      }\n\n      if (this.to) {\n        // Add a special activeClass hook\n        // for component level styles\n        let activeClass = this.activeClass\n        let exactActiveClass = this.exactActiveClass || activeClass\n\n        if (this.proxyClass) {\n          activeClass = `${activeClass} ${this.proxyClass}`.trim()\n          exactActiveClass = `${exactActiveClass} ${this.proxyClass}`.trim()\n        }\n\n        tag = this.nuxt ? 'nuxt-link' : 'router-link'\n        Object.assign(data.props, {\n          to: this.to,\n          exact,\n          exactPath: this.exactPath,\n          activeClass,\n          exactActiveClass,\n          append: this.append,\n          replace: this.replace,\n        })\n      } else {\n        tag = (this.href && 'a') || this.tag || 'div'\n\n        if (tag === 'a' && this.href) data.attrs!.href = this.href\n      }\n\n      if (this.target) data.attrs!.target = this.target\n\n      return { tag, data }\n    },\n    onRouteChange () {\n      if (!this.to || !this.$refs.link || !this.$route) return\n      const activeClass = `${this.activeClass || ''} ${this.proxyClass || ''}`.trim()\n      const exactActiveClass = `${this.exactActiveClass || ''} ${this.proxyClass || ''}`.trim() || activeClass\n\n      const path = '_vnode.data.class.' + (this.exact ? exactActiveClass : activeClass)\n\n      this.$nextTick(() => {\n        /* istanbul ignore else */\n        if (!getObjectValueByPath(this.$refs.link, path) === this.isActive) {\n          this.toggle()\n        }\n      })\n    },\n    toggle () {\n      this.isActive = !this.isActive\n    },\n  },\n})\n","// Styles\nimport './VCard.sass'\n\n// Extensions\nimport VSheet from '../VSheet'\n\n// Mixins\nimport Loadable from '../../mixins/loadable'\nimport Routable from '../../mixins/routable'\n\n// Helpers\nimport mixins from '../../util/mixins'\n\n// Types\nimport { VNode } from 'vue'\n\n/* @vue/component */\nexport default mixins(\n  Loadable,\n  Routable,\n  VSheet\n).extend({\n  name: 'v-card',\n\n  props: {\n    flat: Boolean,\n    hover: Boolean,\n    img: String,\n    link: Boolean,\n    loaderHeight: {\n      type: [Number, String],\n      default: 4,\n    },\n    raised: Boolean,\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-card': true,\n        ...Routable.options.computed.classes.call(this),\n        'v-card--flat': this.flat,\n        'v-card--hover': this.hover,\n        'v-card--link': this.isClickable,\n        'v-card--loading': this.loading,\n        'v-card--disabled': this.disabled,\n        'v-card--raised': this.raised,\n        ...VSheet.options.computed.classes.call(this),\n      }\n    },\n    styles (): object {\n      const style: Dictionary<string> = {\n        ...VSheet.options.computed.styles.call(this),\n      }\n\n      if (this.img) {\n        style.background = `url(\"${this.img}\") center center / cover no-repeat`\n      }\n\n      return style\n    },\n  },\n\n  methods: {\n    genProgress () {\n      const render = Loadable.options.methods.genProgress.call(this)\n\n      if (!render) return null\n\n      return this.$createElement('div', {\n        staticClass: 'v-card__progress',\n        key: 'progress',\n      }, [render])\n    },\n  },\n\n  render (h): VNode {\n    const { tag, data } = this.generateRouteLink()\n\n    data.style = this.styles\n\n    if (this.isClickable) {\n      data.attrs = data.attrs || {}\n      data.attrs.tabindex = 0\n    }\n\n    return h(tag, this.setBackgroundColor(this.color, data), [\n      this.genProgress(),\n      this.$slots.default,\n    ])\n  },\n})\n","import './VGrid.sass'\n\nimport Vue, { VNode, PropOptions } from 'vue'\nimport mergeData from '../../util/mergeData'\nimport { upperFirst } from '../../util/helpers'\n\n// no xs\nconst breakpoints = ['sm', 'md', 'lg', 'xl']\n\nconst breakpointProps = (() => {\n  return breakpoints.reduce((props, val) => {\n    props[val] = {\n      type: [Boolean, String, Number],\n      default: false,\n    }\n    return props\n  }, {} as Dictionary<PropOptions>)\n})()\n\nconst offsetProps = (() => {\n  return breakpoints.reduce((props, val) => {\n    props['offset' + upperFirst(val)] = {\n      type: [String, Number],\n      default: null,\n    }\n    return props\n  }, {} as Dictionary<PropOptions>)\n})()\n\nconst orderProps = (() => {\n  return breakpoints.reduce((props, val) => {\n    props['order' + upperFirst(val)] = {\n      type: [String, Number],\n      default: null,\n    }\n    return props\n  }, {} as Dictionary<PropOptions>)\n})()\n\nconst propMap = {\n  col: Object.keys(breakpointProps),\n  offset: Object.keys(offsetProps),\n  order: Object.keys(orderProps),\n}\n\nfunction breakpointClass (type: keyof typeof propMap, prop: string, val: boolean | string | number) {\n  let className = type\n  if (val == null || val === false) {\n    return undefined\n  }\n  if (prop) {\n    const breakpoint = prop.replace(type, '')\n    className += `-${breakpoint}`\n  }\n  // Handling the boolean style prop when accepting [Boolean, String, Number]\n  // means Vue will not convert <v-col sm></v-col> to sm: true for us.\n  // Since the default is false, an empty string indicates the prop's presence.\n  if (type === 'col' && (val === '' || val === true)) {\n    // .col-md\n    return className.toLowerCase()\n  }\n  // .order-md-6\n  className += `-${val}`\n  return className.toLowerCase()\n}\n\nconst cache = new Map<string, any[]>()\n\nexport default Vue.extend({\n  name: 'v-col',\n  functional: true,\n  props: {\n    cols: {\n      type: [Boolean, String, Number],\n      default: false,\n    },\n    ...breakpointProps,\n    offset: {\n      type: [String, Number],\n      default: null,\n    },\n    ...offsetProps,\n    order: {\n      type: [String, Number],\n      default: null,\n    },\n    ...orderProps,\n    alignSelf: {\n      type: String,\n      default: null,\n      validator: (str: any) => ['auto', 'start', 'end', 'center', 'baseline', 'stretch'].includes(str),\n    },\n    tag: {\n      type: String,\n      default: 'div',\n    },\n  },\n  render (h, { props, data, children, parent }): VNode {\n    // Super-fast memoization based on props, 5x faster than JSON.stringify\n    let cacheKey = ''\n    for (const prop in props) {\n      cacheKey += String((props as any)[prop])\n    }\n    let classList = cache.get(cacheKey)\n\n    if (!classList) {\n      classList = []\n      // Loop through `col`, `offset`, `order` breakpoint props\n      let type: keyof typeof propMap\n      for (type in propMap) {\n        propMap[type].forEach(prop => {\n          const value: string | number | boolean = (props as any)[prop]\n          const className = breakpointClass(type, prop, value)\n          if (className) classList!.push(className)\n        })\n      }\n\n      const hasColClasses = classList.some(className => className.startsWith('col-'))\n\n      classList.push({\n        // Default to .col if no other col-{bp}-* classes generated nor `cols` specified.\n        col: !hasColClasses || !props.cols,\n        [`col-${props.cols}`]: props.cols,\n        [`offset-${props.offset}`]: props.offset,\n        [`order-${props.order}`]: props.order,\n        [`align-self-${props.alignSelf}`]: props.alignSelf,\n      })\n\n      cache.set(cacheKey, classList)\n    }\n\n    return h(props.tag, mergeData(data, { class: classList }), children)\n  },\n})\n","import './VGrid.sass'\n\nimport Vue, { PropOptions } from 'vue'\nimport mergeData from '../../util/mergeData'\nimport { upperFirst } from '../../util/helpers'\n\n// no xs\nconst breakpoints = ['sm', 'md', 'lg', 'xl']\n\nconst ALIGNMENT = ['start', 'end', 'center']\n\nfunction makeProps (prefix: string, def: () => PropOptions) {\n  return breakpoints.reduce((props, val) => {\n    props[prefix + upperFirst(val)] = def()\n    return props\n  }, {} as Dictionary<PropOptions>)\n}\n\nconst alignValidator = (str: any) => [...ALIGNMENT, 'baseline', 'stretch'].includes(str)\nconst alignProps = makeProps('align', () => ({\n  type: String,\n  default: null,\n  validator: alignValidator,\n}))\n\nconst justifyValidator = (str: any) => [...ALIGNMENT, 'space-between', 'space-around'].includes(str)\nconst justifyProps = makeProps('justify', () => ({\n  type: String,\n  default: null,\n  validator: justifyValidator,\n}))\n\nconst alignContentValidator = (str: any) => [...ALIGNMENT, 'space-between', 'space-around', 'stretch'].includes(str)\nconst alignContentProps = makeProps('alignContent', () => ({\n  type: String,\n  default: null,\n  validator: alignContentValidator,\n}))\n\nconst propMap = {\n  align: Object.keys(alignProps),\n  justify: Object.keys(justifyProps),\n  alignContent: Object.keys(alignContentProps),\n}\n\nconst classMap = {\n  align: 'align',\n  justify: 'justify',\n  alignContent: 'align-content',\n}\n\nfunction breakpointClass (type: keyof typeof propMap, prop: string, val: string) {\n  let className = classMap[type]\n  if (val == null) {\n    return undefined\n  }\n  if (prop) {\n    // alignSm -> Sm\n    const breakpoint = prop.replace(type, '')\n    className += `-${breakpoint}`\n  }\n  // .align-items-sm-center\n  className += `-${val}`\n  return className.toLowerCase()\n}\n\nconst cache = new Map<string, any[]>()\n\nexport default Vue.extend({\n  name: 'v-row',\n  functional: true,\n  props: {\n    tag: {\n      type: String,\n      default: 'div',\n    },\n    dense: Boolean,\n    noGutters: Boolean,\n    align: {\n      type: String,\n      default: null,\n      validator: alignValidator,\n    },\n    ...alignProps,\n    justify: {\n      type: String,\n      default: null,\n      validator: justifyValidator,\n    },\n    ...justifyProps,\n    alignContent: {\n      type: String,\n      default: null,\n      validator: alignContentValidator,\n    },\n    ...alignContentProps,\n  },\n  render (h, { props, data, children }) {\n    // Super-fast memoization based on props, 5x faster than JSON.stringify\n    let cacheKey = ''\n    for (const prop in props) {\n      cacheKey += String((props as any)[prop])\n    }\n    let classList = cache.get(cacheKey)\n\n    if (!classList) {\n      classList = []\n      // Loop through `align`, `justify`, `alignContent` breakpoint props\n      let type: keyof typeof propMap\n      for (type in propMap) {\n        propMap[type].forEach(prop => {\n          const value: string = (props as any)[prop]\n          const className = breakpointClass(type, prop, value)\n          if (className) classList!.push(className)\n        })\n      }\n\n      classList.push({\n        'no-gutters': props.noGutters,\n        'row--dense': props.dense,\n        [`align-${props.align}`]: props.align,\n        [`justify-${props.justify}`]: props.justify,\n        [`align-content-${props.alignContent}`]: props.alignContent,\n      })\n\n      cache.set(cacheKey, classList)\n    }\n\n    return h(\n      props.tag,\n      mergeData(data, {\n        staticClass: 'row',\n        class: classList,\n      }),\n      children\n    )\n  },\n})\n","import { render, staticRenderFns } from \"./Editor.vue?vue&type=template&id=7e39da99&\"\nimport script from \"./Editor.vue?vue&type=script&lang=js&\"\nexport * from \"./Editor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VCard,VCol,VRow})\n","<template>\r\n  <v-container class=\"fill-height\" fluid>\r\n    <v-row>\r\n      <v-col :cols=\"12\">\r\n        <v-container v-if=\"!logged\">\r\n          <v-row align=\"center\" justify=\"center\">\r\n            <v-col cols=\"12\" sm=\"8\" md=\"4\">\r\n              <v-form>\r\n                <v-text-field\r\n                  v-model=\"name\"\r\n                  :counter=\"10\"\r\n                  label=\"Name\"\r\n                  required\r\n                ></v-text-field>\r\n                <v-text-field\r\n                  v-model=\"room\"\r\n                  :counter=\"10\"\r\n                  label=\"Room\"\r\n                  required\r\n                ></v-text-field>\r\n                <v-btn color=\"green\" class=\"mr-4\" @click=\"createUser\">\r\n                  Go\r\n                </v-btn>\r\n              </v-form>\r\n            </v-col>\r\n          </v-row>\r\n        </v-container>\r\n        <v-container v-else>\r\n          <v-row class=\"px-2\">\r\n            <v-col>\r\n              <p>Current users: {{ users.length }} users</p>\r\n              <v-card-text v-for=\"user in users\" :key=\"user.id\">\r\n                <div>Name</div>\r\n                <p class=\"text-h4 text--primary\">\r\n                  {{ user.name }}\r\n                  <span v-if=\"user.id == socket.id\" class=\"text-center\">\r\n                    (You)\r\n                    <v-btn align=\"right\" @click=\"exitRoom\"> Exit </v-btn>\r\n                  </span>\r\n                </p>\r\n              </v-card-text>\r\n            </v-col>\r\n          </v-row>\r\n          <v-row class=\"px-2\">\r\n            <v-col>\r\n              <Editor\r\n                ref=\"editor\"\r\n                v-model=\"code\"\r\n                @input=\"socketUpdateText\"\r\n                @newCursor=\"socketUpdateCursor\"\r\n              />\r\n            </v-col>\r\n          </v-row>\r\n        </v-container>\r\n        <v-snackbar v-model=\"snackbar\" :timeout=\"timeout\">\r\n          {{ notiContent }}\r\n        </v-snackbar>\r\n      </v-col>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nconst TextController = require(\"../util/controller\");\r\nimport io from \"socket.io-client\";\r\nimport Editor from \"../components/Editor\";\r\nconst ENDPOINT = \"https://diffsyncalter-server.herokuapp.com/\";\r\n// const ENDPOINT = \"http://localhost:3017\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      logged: false,\r\n      value: {\r\n        type: String,\r\n        required: false,\r\n      },\r\n      connected: false,\r\n      socket: {},\r\n      intel: 1,\r\n      name: \"\",\r\n      room: \"\",\r\n      snackbar: false,\r\n      timeout: 3000,\r\n      notiContent: \"\",\r\n      users: [],\r\n      code: \"\",\r\n      clp: \"\",\r\n      tc: undefined,\r\n      resetPass: 0,\r\n      resetTextPass: 0,\r\n    };\r\n  },\r\n  components: {\r\n    Editor,\r\n  },\r\n  mounted() {},\r\n  methods: {\r\n    createUser() {\r\n      if (this.name === \"\" || this.room === \"\") {\r\n        return;\r\n      }\r\n      this.initializeSocket();\r\n      this.logged = true;\r\n      console.log(this.name, this.room);\r\n      let name = this.name;\r\n      let room = this.room;\r\n      this.socket.emit(\"join\", {\r\n        name,\r\n        room,\r\n      });\r\n    },\r\n    exitRoom() {\r\n      this.logged = false;\r\n      this.code = \"\";\r\n      this.socket.close();\r\n    },\r\n    initializeSocket() {\r\n      this.tc = new TextController();\r\n      this.socket = io(ENDPOINT, {\r\n        transports: [\"websocket\", \"polling\", \"flashsocket\"],\r\n      });\r\n      this.socket.on(\"notification\", (data) => {\r\n        this.notiContent = data.text;\r\n        this.snackbar = true;\r\n      });\r\n      this.socket.on(\"roomData\", (data) => {\r\n        this.users = data.users;\r\n      });\r\n      this.socket.on(\"text\", ({ patch, shadow }) => {\r\n        let changes = this.tc.applyPatch(patch);\r\n        this.shadow = shadow;\r\n        if (changes) {\r\n          // console.log(\"supposed to be at \", this.tc.setCursor());\r\n          this.code = this.tc.code;\r\n          this.$refs.editor.modifyCursor(this.tc.setCursor());\r\n          this.resetPass++;\r\n          this.resetTextPass++;\r\n        }\r\n      });\r\n    },\r\n    socketUpdateCursor(data) {\r\n      if (data.line == 0 && data.ch == 0 && this.resetPass) {\r\n        this.resetPass--;\r\n        this.$refs.editor.modifyCursor(this.tc.setCursor());\r\n      } else {\r\n        this.tc.updateCursor(data.line, data.ch);\r\n      }\r\n    },\r\n    socketUpdateText(data) {\r\n      let patch = this.tc.makePatch(data);\r\n      this.tc.localPatch(patch);\r\n      this.socket.emit(\"sendText\", patch);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style></style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodePair.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodePair.vue?vue&type=script&lang=js&\"","// Styles\nimport './VProgressCircular.sass'\n\n// Directives\nimport intersect from '../../directives/intersect'\n\n// Mixins\nimport Colorable from '../../mixins/colorable'\n\n// Utils\nimport { convertToUnit } from '../../util/helpers'\n\n// Types\nimport { VNode, VNodeChildren } from 'vue'\n\n/* @vue/component */\nexport default Colorable.extend({\n  name: 'v-progress-circular',\n\n  directives: { intersect },\n\n  props: {\n    button: Boolean,\n    indeterminate: Boolean,\n    rotate: {\n      type: [Number, String],\n      default: 0,\n    },\n    size: {\n      type: [Number, String],\n      default: 32,\n    },\n    width: {\n      type: [Number, String],\n      default: 4,\n    },\n    value: {\n      type: [Number, String],\n      default: 0,\n    },\n  },\n\n  data: () => ({\n    radius: 20,\n    isVisible: true,\n  }),\n\n  computed: {\n    calculatedSize (): number {\n      return Number(this.size) + (this.button ? 8 : 0)\n    },\n\n    circumference (): number {\n      return 2 * Math.PI * this.radius\n    },\n\n    classes (): object {\n      return {\n        'v-progress-circular--visible': this.isVisible,\n        'v-progress-circular--indeterminate': this.indeterminate,\n        'v-progress-circular--button': this.button,\n      }\n    },\n\n    normalizedValue (): number {\n      if (this.value < 0) {\n        return 0\n      }\n\n      if (this.value > 100) {\n        return 100\n      }\n\n      return parseFloat(this.value)\n    },\n\n    strokeDashArray (): number {\n      return Math.round(this.circumference * 1000) / 1000\n    },\n\n    strokeDashOffset (): string {\n      return ((100 - this.normalizedValue) / 100) * this.circumference + 'px'\n    },\n\n    strokeWidth (): number {\n      return Number(this.width) / +this.size * this.viewBoxSize * 2\n    },\n\n    styles (): object {\n      return {\n        height: convertToUnit(this.calculatedSize),\n        width: convertToUnit(this.calculatedSize),\n      }\n    },\n\n    svgStyles (): object {\n      return {\n        transform: `rotate(${Number(this.rotate)}deg)`,\n      }\n    },\n\n    viewBoxSize (): number {\n      return this.radius / (1 - Number(this.width) / +this.size)\n    },\n  },\n\n  methods: {\n    genCircle (name: string, offset: string | number): VNode {\n      return this.$createElement('circle', {\n        class: `v-progress-circular__${name}`,\n        attrs: {\n          fill: 'transparent',\n          cx: 2 * this.viewBoxSize,\n          cy: 2 * this.viewBoxSize,\n          r: this.radius,\n          'stroke-width': this.strokeWidth,\n          'stroke-dasharray': this.strokeDashArray,\n          'stroke-dashoffset': offset,\n        },\n      })\n    },\n    genSvg (): VNode {\n      const children = [\n        this.indeterminate || this.genCircle('underlay', 0),\n        this.genCircle('overlay', this.strokeDashOffset),\n      ] as VNodeChildren\n\n      return this.$createElement('svg', {\n        style: this.svgStyles,\n        attrs: {\n          xmlns: 'http://www.w3.org/2000/svg',\n          viewBox: `${this.viewBoxSize} ${this.viewBoxSize} ${2 * this.viewBoxSize} ${2 * this.viewBoxSize}`,\n        },\n      }, children)\n    },\n    genInfo (): VNode {\n      return this.$createElement('div', {\n        staticClass: 'v-progress-circular__info',\n      }, this.$slots.default)\n    },\n    onObserve (entries: IntersectionObserverEntry[], observer: IntersectionObserver, isIntersecting: boolean) {\n      this.isVisible = isIntersecting\n    },\n  },\n\n  render (h): VNode {\n    return h('div', this.setTextColor(this.color, {\n      staticClass: 'v-progress-circular',\n      attrs: {\n        role: 'progressbar',\n        'aria-valuemin': 0,\n        'aria-valuemax': 100,\n        'aria-valuenow': this.indeterminate ? undefined : this.normalizedValue,\n      },\n      class: this.classes,\n      directives: [{\n        name: 'intersect',\n        value: this.onObserve,\n      }],\n      style: this.styles,\n      on: this.$listeners,\n    }), [\n      this.genSvg(),\n      this.genInfo(),\n    ])\n  },\n})\n","import VProgressCircular from './VProgressCircular'\n\nexport { VProgressCircular }\nexport default VProgressCircular\n","import Vue from 'vue'\nimport { VueConstructor } from 'vue/types/vue'\nimport { consoleWarn } from '../../util/console'\n\nfunction generateWarning (child: string, parent: string) {\n  return () => consoleWarn(`The ${child} component must be used inside a ${parent}`)\n}\n\nexport type Registrable<T extends string, C extends VueConstructor | null = null> = VueConstructor<Vue & {\n  [K in T]: C extends VueConstructor ? InstanceType<C> : {\n    register (...props: any[]): void\n    unregister (self: any): void\n  }\n}>\n\nexport function inject<\n  T extends string, C extends VueConstructor | null = null\n> (namespace: T, child?: string, parent?: string): Registrable<T, C> {\n  const defaultImpl = child && parent ? {\n    register: generateWarning(child, parent),\n    unregister: generateWarning(child, parent),\n  } : null\n\n  return Vue.extend({\n    name: 'registrable-inject',\n\n    inject: {\n      [namespace]: {\n        default: defaultImpl,\n      },\n    },\n  })\n}\n\nexport function provide (namespace: string, self = false) {\n  return Vue.extend({\n    name: 'registrable-provide',\n\n    provide (): object {\n      return {\n        [namespace]: self ? this : {\n          register: (this as any).register,\n          unregister: (this as any).unregister,\n        },\n      }\n    },\n  })\n}\n","// Mixins\nimport { Registrable, inject as RegistrableInject } from '../registrable'\n\n// Utilities\nimport { ExtractVue } from '../../util/mixins'\nimport { VueConstructor } from 'vue'\nimport { PropValidator } from 'vue/types/options'\n\nexport type Groupable<T extends string, C extends VueConstructor | null = null> = VueConstructor<ExtractVue<Registrable<T, C>> & {\n  activeClass: string\n  isActive: boolean\n  disabled: boolean\n  groupClasses: object\n  toggle (): void\n}>\n\nexport function factory<T extends string, C extends VueConstructor | null = null> (\n  namespace: T,\n  child?: string,\n  parent?: string\n): Groupable<T, C> {\n  return RegistrableInject<T, C>(namespace, child, parent).extend({\n    name: 'groupable',\n\n    props: {\n      activeClass: {\n        type: String,\n        default (): string | undefined {\n          if (!this[namespace]) return undefined\n\n          return this[namespace].activeClass\n        },\n      } as any as PropValidator<string>,\n      disabled: Boolean,\n    },\n\n    data () {\n      return {\n        isActive: false,\n      }\n    },\n\n    computed: {\n      groupClasses (): object {\n        if (!this.activeClass) return {}\n\n        return {\n          [this.activeClass]: this.isActive,\n        }\n      },\n    },\n\n    created () {\n      this[namespace] && (this[namespace] as any).register(this)\n    },\n\n    beforeDestroy () {\n      this[namespace] && (this[namespace] as any).unregister(this)\n    },\n\n    methods: {\n      toggle () {\n        this.$emit('change')\n      },\n    },\n  })\n}\n\n/* eslint-disable-next-line @typescript-eslint/no-redeclare */\nconst Groupable = factory('itemGroup')\n\nexport default Groupable\n","import Vue from 'vue'\n\nexport default Vue.extend({\n  name: 'sizeable',\n\n  props: {\n    large: Boolean,\n    small: Boolean,\n    xLarge: Boolean,\n    xSmall: Boolean,\n  },\n\n  computed: {\n    medium (): boolean {\n      return Boolean(\n        !this.xSmall &&\n        !this.small &&\n        !this.large &&\n        !this.xLarge\n      )\n    },\n    sizeableClasses (): object {\n      return {\n        'v-size--x-small': this.xSmall,\n        'v-size--small': this.small,\n        'v-size--default': this.medium,\n        'v-size--large': this.large,\n        'v-size--x-large': this.xLarge,\n      }\n    },\n  },\n})\n","// Styles\nimport './VBtn.sass'\n\n// Extensions\nimport VSheet from '../VSheet'\n\n// Components\nimport VProgressCircular from '../VProgressCircular'\n\n// Mixins\nimport { factory as GroupableFactory } from '../../mixins/groupable'\nimport { factory as ToggleableFactory } from '../../mixins/toggleable'\nimport Elevatable from '../../mixins/elevatable'\nimport Positionable from '../../mixins/positionable'\nimport Routable from '../../mixins/routable'\nimport Sizeable from '../../mixins/sizeable'\n\n// Utilities\nimport mixins, { ExtractVue } from '../../util/mixins'\nimport { breaking } from '../../util/console'\n\n// Types\nimport { VNode } from 'vue'\nimport { PropValidator, PropType } from 'vue/types/options'\nimport { RippleOptions } from '../../directives/ripple'\n\nconst baseMixins = mixins(\n  VSheet,\n  Routable,\n  Positionable,\n  Sizeable,\n  GroupableFactory('btnToggle'),\n  ToggleableFactory('inputValue')\n  /* @vue/component */\n)\ninterface options extends ExtractVue<typeof baseMixins> {\n  $el: HTMLElement\n}\n\nexport default baseMixins.extend<options>().extend({\n  name: 'v-btn',\n\n  props: {\n    activeClass: {\n      type: String,\n      default (): string | undefined {\n        if (!this.btnToggle) return ''\n\n        return this.btnToggle.activeClass\n      },\n    } as any as PropValidator<string>,\n    block: Boolean,\n    depressed: Boolean,\n    fab: Boolean,\n    icon: Boolean,\n    loading: Boolean,\n    outlined: Boolean,\n    plain: Boolean,\n    retainFocusOnClick: Boolean,\n    rounded: Boolean,\n    tag: {\n      type: String,\n      default: 'button',\n    },\n    text: Boolean,\n    tile: Boolean,\n    type: {\n      type: String,\n      default: 'button',\n    },\n    value: null as any as PropType<any>,\n  },\n\n  data: () => ({\n    proxyClass: 'v-btn--active',\n  }),\n\n  computed: {\n    classes (): any {\n      return {\n        'v-btn': true,\n        ...Routable.options.computed.classes.call(this),\n        'v-btn--absolute': this.absolute,\n        'v-btn--block': this.block,\n        'v-btn--bottom': this.bottom,\n        'v-btn--disabled': this.disabled,\n        'v-btn--is-elevated': this.isElevated,\n        'v-btn--fab': this.fab,\n        'v-btn--fixed': this.fixed,\n        'v-btn--has-bg': this.hasBg,\n        'v-btn--icon': this.icon,\n        'v-btn--left': this.left,\n        'v-btn--loading': this.loading,\n        'v-btn--outlined': this.outlined,\n        'v-btn--plain': this.plain,\n        'v-btn--right': this.right,\n        'v-btn--round': this.isRound,\n        'v-btn--rounded': this.rounded,\n        'v-btn--router': this.to,\n        'v-btn--text': this.text,\n        'v-btn--tile': this.tile,\n        'v-btn--top': this.top,\n        ...this.themeClasses,\n        ...this.groupClasses,\n        ...this.elevationClasses,\n        ...this.sizeableClasses,\n      }\n    },\n    computedElevation (): string | number | undefined {\n      if (this.disabled) return undefined\n\n      return Elevatable.options.computed.computedElevation.call(this)\n    },\n    computedRipple (): RippleOptions | boolean {\n      const defaultRipple = this.icon || this.fab ? { circle: true } : true\n      if (this.disabled) return false\n      else return this.ripple ?? defaultRipple\n    },\n    hasBg (): boolean {\n      return !this.text && !this.plain && !this.outlined && !this.icon\n    },\n    isElevated (): boolean {\n      return Boolean(\n        !this.icon &&\n        !this.text &&\n        !this.outlined &&\n        !this.depressed &&\n        !this.disabled &&\n        !this.plain &&\n        (this.elevation == null || Number(this.elevation) > 0)\n      )\n    },\n    isRound (): boolean {\n      return Boolean(\n        this.icon ||\n        this.fab\n      )\n    },\n    styles (): object {\n      return {\n        ...this.measurableStyles,\n      }\n    },\n  },\n\n  created () {\n    const breakingProps = [\n      ['flat', 'text'],\n      ['outline', 'outlined'],\n      ['round', 'rounded'],\n    ]\n\n    /* istanbul ignore next */\n    breakingProps.forEach(([original, replacement]) => {\n      if (this.$attrs.hasOwnProperty(original)) breaking(original, replacement, this)\n    })\n  },\n\n  methods: {\n    click (e: MouseEvent): void {\n      // TODO: Remove this in v3\n      !this.retainFocusOnClick && !this.fab && e.detail && this.$el.blur()\n      this.$emit('click', e)\n\n      this.btnToggle && this.toggle()\n    },\n    genContent (): VNode {\n      return this.$createElement('span', {\n        staticClass: 'v-btn__content',\n      }, this.$slots.default)\n    },\n    genLoader (): VNode {\n      return this.$createElement('span', {\n        class: 'v-btn__loader',\n      }, this.$slots.loader || [this.$createElement(VProgressCircular, {\n        props: {\n          indeterminate: true,\n          size: 23,\n          width: 2,\n        },\n      })])\n    },\n  },\n\n  render (h): VNode {\n    const children = [\n      this.genContent(),\n      this.loading && this.genLoader(),\n    ]\n    const { tag, data } = this.generateRouteLink()\n    const setColor = this.hasBg\n      ? this.setBackgroundColor\n      : this.setTextColor\n\n    if (tag === 'button') {\n      data.attrs!.type = this.type\n      data.attrs!.disabled = this.disabled\n    }\n    data.attrs!.value = ['string', 'number'].includes(typeof this.value)\n      ? this.value\n      : JSON.stringify(this.value)\n\n    return h(tag, this.disabled ? data : setColor(this.color, data), children)\n  },\n})\n","import VCard from './VCard'\nimport { createSimpleFunctional } from '../../util/helpers'\n\nconst VCardActions = createSimpleFunctional('v-card__actions')\nconst VCardSubtitle = createSimpleFunctional('v-card__subtitle')\nconst VCardText = createSimpleFunctional('v-card__text')\nconst VCardTitle = createSimpleFunctional('v-card__title')\n\nexport {\n  VCard,\n  VCardActions,\n  VCardSubtitle,\n  VCardText,\n  VCardTitle,\n}\n\nexport default {\n  $_vuetify_subcomponents: {\n    VCard,\n    VCardActions,\n    VCardSubtitle,\n    VCardText,\n    VCardTitle,\n  },\n}\n","// Types\nimport Vue, { VNode } from 'vue'\n\nexport default function VGrid (name: string) {\n  /* @vue/component */\n  return Vue.extend({\n    name: `v-${name}`,\n\n    functional: true,\n\n    props: {\n      id: String,\n      tag: {\n        type: String,\n        default: 'div',\n      },\n    },\n\n    render (h, { props, data, children }): VNode {\n      data.staticClass = (`${name} ${data.staticClass || ''}`).trim()\n\n      const { attrs } = data\n      if (attrs) {\n        // reset attrs to extract utility clases like pa-3\n        data.attrs = {}\n        const classes = Object.keys(attrs).filter(key => {\n          // TODO: Remove once resolved\n          // https://github.com/vuejs/vue/issues/7841\n          if (key === 'slot') return false\n\n          const value = attrs[key]\n\n          // add back data attributes like data-test=\"foo\" but do not\n          // add them as classes\n          if (key.startsWith('data-')) {\n            data.attrs![key] = value\n            return false\n          }\n\n          return value || typeof value === 'string'\n        })\n\n        if (classes.length) data.staticClass += ` ${classes.join(' ')}`\n      }\n\n      if (props.id) {\n        data.domProps = data.domProps || {}\n        data.domProps.id = props.id\n      }\n\n      return h(props.tag, data, children)\n    },\n  })\n}\n","import './_grid.sass'\nimport './VGrid.sass'\n\nimport Grid from './grid'\n\nimport mergeData from '../../util/mergeData'\n\n/* @vue/component */\nexport default Grid('container').extend({\n  name: 'v-container',\n  functional: true,\n  props: {\n    id: String,\n    tag: {\n      type: String,\n      default: 'div',\n    },\n    fluid: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  render (h, { props, data, children }) {\n    let classes\n    const { attrs } = data\n    if (attrs) {\n      // reset attrs to extract utility clases like pa-3\n      data.attrs = {}\n      classes = Object.keys(attrs).filter(key => {\n        // TODO: Remove once resolved\n        // https://github.com/vuejs/vue/issues/7841\n        if (key === 'slot') return false\n\n        const value = attrs[key]\n\n        // add back data attributes like data-test=\"foo\" but do not\n        // add them as classes\n        if (key.startsWith('data-')) {\n          data.attrs![key] = value\n          return false\n        }\n\n        return value || typeof value === 'string'\n      })\n    }\n\n    if (props.id) {\n      data.domProps = data.domProps || {}\n      data.domProps.id = props.id\n    }\n\n    return h(\n      props.tag,\n      mergeData(data, {\n        staticClass: 'container',\n        class: Array<any>({\n          'container--fluid': props.fluid,\n        }).concat(classes || []),\n      }),\n      children\n    )\n  },\n})\n","// Components\nimport VInput from '../VInput/VInput'\n\n// Mixins\nimport mixins from '../../util/mixins'\nimport BindsAttrs from '../../mixins/binds-attrs'\nimport { provide as RegistrableProvide } from '../../mixins/registrable'\n\n// Helpers\nimport { VNode } from 'vue'\n\ntype ErrorBag = Record<number, boolean>\ntype VInputInstance = InstanceType<typeof VInput>\ntype Watchers = {\n  _uid: number\n  valid: () => void\n  shouldValidate: () => void\n}\n\n/* @vue/component */\nexport default mixins(\n  BindsAttrs,\n  RegistrableProvide('form')\n  /* @vue/component */\n).extend({\n  name: 'v-form',\n\n  provide (): object {\n    return { form: this }\n  },\n\n  inheritAttrs: false,\n\n  props: {\n    disabled: Boolean,\n    lazyValidation: Boolean,\n    readonly: Boolean,\n    value: Boolean,\n  },\n\n  data: () => ({\n    inputs: [] as VInputInstance[],\n    watchers: [] as Watchers[],\n    errorBag: {} as ErrorBag,\n  }),\n\n  watch: {\n    errorBag: {\n      handler (val) {\n        const errors = Object.values(val).includes(true)\n\n        this.$emit('input', !errors)\n      },\n      deep: true,\n      immediate: true,\n    },\n  },\n\n  methods: {\n    watchInput (input: any): Watchers {\n      const watcher = (input: any): (() => void) => {\n        return input.$watch('hasError', (val: boolean) => {\n          this.$set(this.errorBag, input._uid, val)\n        }, { immediate: true })\n      }\n\n      const watchers: Watchers = {\n        _uid: input._uid,\n        valid: () => {},\n        shouldValidate: () => {},\n      }\n\n      if (this.lazyValidation) {\n        // Only start watching inputs if we need to\n        watchers.shouldValidate = input.$watch('shouldValidate', (val: boolean) => {\n          if (!val) return\n\n          // Only watch if we're not already doing it\n          if (this.errorBag.hasOwnProperty(input._uid)) return\n\n          watchers.valid = watcher(input)\n        })\n      } else {\n        watchers.valid = watcher(input)\n      }\n\n      return watchers\n    },\n    /** @public */\n    validate (): boolean {\n      return this.inputs.filter(input => !input.validate(true)).length === 0\n    },\n    /** @public */\n    reset (): void {\n      this.inputs.forEach(input => input.reset())\n      this.resetErrorBag()\n    },\n    resetErrorBag () {\n      if (this.lazyValidation) {\n        // Account for timeout in validatable\n        setTimeout(() => {\n          this.errorBag = {}\n        }, 0)\n      }\n    },\n    /** @public */\n    resetValidation () {\n      this.inputs.forEach(input => input.resetValidation())\n      this.resetErrorBag()\n    },\n    register (input: VInputInstance) {\n      this.inputs.push(input)\n      this.watchers.push(this.watchInput(input))\n    },\n    unregister (input: VInputInstance) {\n      const found = this.inputs.find(i => i._uid === input._uid)\n\n      if (!found) return\n\n      const unwatch = this.watchers.find(i => i._uid === found._uid)\n      if (unwatch) {\n        unwatch.valid()\n        unwatch.shouldValidate()\n      }\n\n      this.watchers = this.watchers.filter(i => i._uid !== found._uid)\n      this.inputs = this.inputs.filter(i => i._uid !== found._uid)\n      this.$delete(this.errorBag, found._uid)\n    },\n  },\n\n  render (h): VNode {\n    return h('form', {\n      staticClass: 'v-form',\n      attrs: {\n        novalidate: true,\n        ...this.attrs$,\n      },\n      on: {\n        submit: (e: Event) => this.$emit('submit', e),\n      },\n    }, this.$slots.default)\n  },\n})\n","// Styles\nimport './VSnackbar.sass'\n\n// Components\nimport VSheet from '../VSheet/VSheet'\n\n// Mixins\nimport Colorable from '../../mixins/colorable'\nimport Themeable from '../../mixins/themeable'\nimport Toggleable from '../../mixins/toggleable'\nimport { factory as PositionableFactory } from '../../mixins/positionable'\n\n// Utilities\nimport mixins from '../../util/mixins'\nimport { convertToUnit, getSlot } from '../../util/helpers'\nimport { deprecate, removed } from '../../util/console'\n\n// Types\nimport { PropType, VNode } from 'vue'\n\nexport default mixins(\n  VSheet,\n  Colorable,\n  Toggleable,\n  PositionableFactory([\n    'absolute',\n    'bottom',\n    'left',\n    'right',\n    'top',\n  ])\n/* @vue/component */\n).extend({\n  name: 'v-snackbar',\n\n  props: {\n    app: Boolean,\n    centered: Boolean,\n    contentClass: {\n      type: String,\n      default: '',\n    },\n    multiLine: Boolean,\n    text: Boolean,\n    timeout: {\n      type: [Number, String],\n      default: 5000,\n    },\n    transition: {\n      type: [Boolean, String] as PropType<false | string>,\n      default: 'v-snack-transition',\n      validator: v => typeof v === 'string' || v === false,\n    },\n    vertical: Boolean,\n  },\n\n  data: () => ({\n    activeTimeout: -1,\n  }),\n\n  computed: {\n    classes (): object {\n      return {\n        'v-snack--absolute': this.absolute,\n        'v-snack--active': this.isActive,\n        'v-snack--bottom': this.bottom || !this.top,\n        'v-snack--centered': this.centered,\n        'v-snack--has-background': this.hasBackground,\n        'v-snack--left': this.left,\n        'v-snack--multi-line': this.multiLine && !this.vertical,\n        'v-snack--right': this.right,\n        'v-snack--text': this.text,\n        'v-snack--top': this.top,\n        'v-snack--vertical': this.vertical,\n      }\n    },\n    // Text and outlined styles both\n    // use transparent backgrounds\n    hasBackground (): boolean {\n      return (\n        !this.text &&\n        !this.outlined\n      )\n    },\n    // Snackbar is dark by default\n    // override themeable logic.\n    isDark (): boolean {\n      return this.hasBackground\n        ? !this.light\n        : Themeable.options.computed.isDark.call(this)\n    },\n    styles (): object {\n      if (this.absolute || !this.app) return {}\n\n      const {\n        bar,\n        bottom,\n        footer,\n        insetFooter,\n        left,\n        right,\n        top,\n      } = this.$vuetify.application\n\n      return {\n        paddingBottom: convertToUnit(bottom + footer + insetFooter),\n        paddingLeft: convertToUnit(left),\n        paddingRight: convertToUnit(right),\n        paddingTop: convertToUnit(bar + top),\n      }\n    },\n  },\n\n  watch: {\n    isActive: 'setTimeout',\n    timeout: 'setTimeout',\n  },\n\n  mounted () {\n    if (this.isActive) this.setTimeout()\n  },\n\n  created () {\n    /* istanbul ignore next */\n    if (this.$attrs.hasOwnProperty('auto-height')) {\n      removed('auto-height', this)\n    }\n\n    /* istanbul ignore next */\n    // eslint-disable-next-line eqeqeq\n    if (this.timeout == 0) {\n      deprecate('timeout=\"0\"', '-1', this)\n    }\n  },\n\n  methods: {\n    genActions () {\n      return this.$createElement('div', {\n        staticClass: 'v-snack__action ',\n      }, [\n        getSlot(this, 'action', {\n          attrs: { class: 'v-snack__btn' },\n        }),\n      ])\n    },\n    genContent () {\n      return this.$createElement('div', {\n        staticClass: 'v-snack__content',\n        class: {\n          [this.contentClass]: true,\n        },\n        attrs: {\n          role: 'status',\n          'aria-live': 'polite',\n        },\n      }, [getSlot(this)])\n    },\n    genWrapper () {\n      const setColor = this.hasBackground\n        ? this.setBackgroundColor\n        : this.setTextColor\n\n      const data = setColor(this.color, {\n        staticClass: 'v-snack__wrapper',\n        class: VSheet.options.computed.classes.call(this),\n        style: VSheet.options.computed.styles.call(this),\n        directives: [{\n          name: 'show',\n          value: this.isActive,\n        }],\n        on: {\n          pointerenter: () => window.clearTimeout(this.activeTimeout),\n          pointerleave: this.setTimeout,\n        },\n      })\n\n      return this.$createElement('div', data, [\n        this.genContent(),\n        this.genActions(),\n      ])\n    },\n    genTransition () {\n      return this.$createElement('transition', {\n        props: { name: this.transition },\n      }, [this.genWrapper()])\n    },\n    setTimeout () {\n      window.clearTimeout(this.activeTimeout)\n\n      const timeout = Number(this.timeout)\n\n      if (\n        !this.isActive ||\n        // TODO: remove 0 in v3\n        [0, -1].includes(timeout)\n      ) {\n        return\n      }\n\n      this.activeTimeout = window.setTimeout(() => {\n        this.isActive = false\n      }, timeout)\n    },\n  },\n\n  render (h): VNode {\n    return h('div', {\n      staticClass: 'v-snack',\n      class: this.classes,\n      style: this.styles,\n    }, [\n      this.transition !== false\n        ? this.genTransition()\n        : this.genWrapper(),\n    ])\n  },\n})\n","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import './VIcon.sass'\n\n// Mixins\nimport BindsAttrs from '../../mixins/binds-attrs'\nimport Colorable from '../../mixins/colorable'\nimport Sizeable from '../../mixins/sizeable'\nimport Themeable from '../../mixins/themeable'\n\n// Util\nimport { convertToUnit, keys, remapInternalIcon } from '../../util/helpers'\n\n// Types\nimport Vue, { CreateElement, VNode, VNodeChildren, VNodeData } from 'vue'\nimport mixins from '../../util/mixins'\nimport { VuetifyIcon, VuetifyIconComponent } from 'vuetify/types/services/icons'\n\nenum SIZE_MAP {\n  xSmall = '12px',\n  small = '16px',\n  default = '24px',\n  medium = '28px',\n  large = '36px',\n  xLarge = '40px'\n}\n\nfunction isFontAwesome5 (iconType: string): boolean {\n  return ['fas', 'far', 'fal', 'fab', 'fad', 'fak'].some(val => iconType.includes(val))\n}\n\nfunction isSvgPath (icon: string): boolean {\n  return (/^[mzlhvcsqta]\\s*[-+.0-9][^mlhvzcsqta]+/i.test(icon) && /[\\dz]$/i.test(icon) && icon.length > 4)\n}\n\nconst VIcon = mixins(\n  BindsAttrs,\n  Colorable,\n  Sizeable,\n  Themeable\n  /* @vue/component */\n).extend({\n  name: 'v-icon',\n\n  props: {\n    dense: Boolean,\n    disabled: Boolean,\n    left: Boolean,\n    right: Boolean,\n    size: [Number, String],\n    tag: {\n      type: String,\n      required: false,\n      default: 'i',\n    },\n  },\n\n  computed: {\n    medium () {\n      return false\n    },\n    hasClickListener (): boolean {\n      return Boolean(\n        this.listeners$.click || this.listeners$['!click']\n      )\n    },\n  },\n\n  methods: {\n    getIcon (): VuetifyIcon {\n      let iconName = ''\n      if (this.$slots.default) iconName = this.$slots.default[0].text!.trim()\n\n      return remapInternalIcon(this, iconName)\n    },\n    getSize (): string | undefined {\n      const sizes = {\n        xSmall: this.xSmall,\n        small: this.small,\n        medium: this.medium,\n        large: this.large,\n        xLarge: this.xLarge,\n      }\n\n      const explicitSize = keys(sizes).find(key => sizes[key])\n\n      return (\n        (explicitSize && SIZE_MAP[explicitSize]) || convertToUnit(this.size)\n      )\n    },\n    // Component data for both font icon and SVG wrapper span\n    getDefaultData (): VNodeData {\n      return {\n        staticClass: 'v-icon notranslate',\n        class: {\n          'v-icon--disabled': this.disabled,\n          'v-icon--left': this.left,\n          'v-icon--link': this.hasClickListener,\n          'v-icon--right': this.right,\n          'v-icon--dense': this.dense,\n        },\n        attrs: {\n          'aria-hidden': !this.hasClickListener,\n          disabled: this.hasClickListener && this.disabled,\n          type: this.hasClickListener ? 'button' : undefined,\n          ...this.attrs$,\n        },\n        on: this.listeners$,\n      }\n    },\n    getSvgWrapperData () {\n      const fontSize = this.getSize()\n      const wrapperData = {\n        ...this.getDefaultData(),\n        style: fontSize ? {\n          fontSize,\n          height: fontSize,\n          width: fontSize,\n        } : undefined,\n      }\n      this.applyColors(wrapperData)\n\n      return wrapperData\n    },\n    applyColors (data: VNodeData): void {\n      data.class = { ...data.class, ...this.themeClasses }\n      this.setTextColor(this.color, data)\n    },\n    renderFontIcon (icon: string, h: CreateElement): VNode {\n      const newChildren: VNodeChildren = []\n      const data = this.getDefaultData()\n\n      let iconType = 'material-icons'\n      // Material Icon delimiter is _\n      // https://material.io/icons/\n      const delimiterIndex = icon.indexOf('-')\n      const isMaterialIcon = delimiterIndex <= -1\n\n      if (isMaterialIcon) {\n        // Material icon uses ligatures.\n        newChildren.push(icon)\n      } else {\n        iconType = icon.slice(0, delimiterIndex)\n        if (isFontAwesome5(iconType)) iconType = ''\n      }\n\n      data.class[iconType] = true\n      data.class[icon] = !isMaterialIcon\n\n      const fontSize = this.getSize()\n      if (fontSize) data.style = { fontSize }\n\n      this.applyColors(data)\n\n      return h(this.hasClickListener ? 'button' : this.tag, data, newChildren)\n    },\n    renderSvgIcon (icon: string, h: CreateElement): VNode {\n      const svgData: VNodeData = {\n        class: 'v-icon__svg',\n        attrs: {\n          xmlns: 'http://www.w3.org/2000/svg',\n          viewBox: '0 0 24 24',\n          role: 'img',\n          'aria-hidden': true,\n        },\n      }\n\n      const size = this.getSize()\n      if (size) {\n        svgData.style = {\n          fontSize: size,\n          height: size,\n          width: size,\n        }\n      }\n\n      return h(this.hasClickListener ? 'button' : 'span', this.getSvgWrapperData(), [\n        h('svg', svgData, [\n          h('path', {\n            attrs: {\n              d: icon,\n            },\n          }),\n        ]),\n      ])\n    },\n    renderSvgIconComponent (\n      icon: VuetifyIconComponent,\n      h: CreateElement\n    ): VNode {\n      const data: VNodeData = {\n        class: {\n          'v-icon__component': true,\n        },\n      }\n\n      const size = this.getSize()\n      if (size) {\n        data.style = {\n          fontSize: size,\n          height: size,\n          width: size,\n        }\n      }\n\n      this.applyColors(data)\n\n      const component = icon.component\n      data.props = icon.props\n      data.nativeOn = data.on\n\n      return h(this.hasClickListener ? 'button' : 'span', this.getSvgWrapperData(), [\n        h(component, data),\n      ])\n    },\n  },\n\n  render (h: CreateElement): VNode {\n    const icon = this.getIcon()\n\n    if (typeof icon === 'string') {\n      if (isSvgPath(icon)) {\n        return this.renderSvgIcon(icon, h)\n      }\n      return this.renderFontIcon(icon, h)\n    }\n\n    return this.renderSvgIconComponent(icon, h)\n  },\n})\n\nexport default Vue.extend({\n  name: 'v-icon',\n\n  $_wrapperFor: VIcon,\n\n  functional: true,\n\n  render (h, { data, children }): VNode {\n    let iconName = ''\n\n    // Support usage of v-text and v-html\n    if (data.domProps) {\n      iconName = data.domProps.textContent ||\n        data.domProps.innerHTML ||\n        iconName\n\n      // Remove nodes so it doesn't\n      // overwrite our changes\n      delete data.domProps.textContent\n      delete data.domProps.innerHTML\n    }\n\n    return h(VIcon, data, iconName ? [iconName] : children)\n  },\n})\n","import VIcon from './VIcon'\n\nexport { VIcon }\nexport default VIcon\n","// Styles\nimport './VLabel.sass'\n\n// Mixins\nimport Colorable from '../../mixins/colorable'\nimport Themeable, { functionalThemeClasses } from '../../mixins/themeable'\n\n// Types\nimport { VNode } from 'vue'\nimport mixins from '../../util/mixins'\n\n// Helpers\nimport { convertToUnit } from '../../util/helpers'\n\n/* @vue/component */\nexport default mixins(Themeable).extend({\n  name: 'v-label',\n\n  functional: true,\n\n  props: {\n    absolute: Boolean,\n    color: {\n      type: String,\n      default: 'primary',\n    },\n    disabled: Boolean,\n    focused: Boolean,\n    for: String,\n    left: {\n      type: [Number, String],\n      default: 0,\n    },\n    right: {\n      type: [Number, String],\n      default: 'auto',\n    },\n    value: Boolean,\n  },\n\n  render (h, ctx): VNode {\n    const { children, listeners, props } = ctx\n    const data = {\n      staticClass: 'v-label',\n      class: {\n        'v-label--active': props.value,\n        'v-label--is-disabled': props.disabled,\n        ...functionalThemeClasses(ctx),\n      },\n      attrs: {\n        for: props.for,\n        'aria-hidden': !props.for,\n      },\n      on: listeners,\n      style: {\n        left: convertToUnit(props.left),\n        right: convertToUnit(props.right),\n        position: props.absolute ? 'absolute' : 'relative',\n      },\n      ref: 'label',\n    }\n\n    return h('label', Colorable.options.methods.setTextColor(props.focused && props.color, data), children)\n  },\n})\n","import VLabel from './VLabel'\n\nexport { VLabel }\nexport default VLabel\n","// Styles\nimport './VMessages.sass'\n\n// Mixins\nimport Colorable from '../../mixins/colorable'\nimport Themeable from '../../mixins/themeable'\n\n// Types\nimport { VNode } from 'vue'\nimport { PropValidator } from 'vue/types/options'\nimport mixins from '../../util/mixins'\n\n// Utilities\nimport { getSlot } from '../../util/helpers'\n\n/* @vue/component */\nexport default mixins(Colorable, Themeable).extend({\n  name: 'v-messages',\n\n  props: {\n    value: {\n      type: Array,\n      default: () => ([]),\n    } as PropValidator<string[]>,\n  },\n\n  methods: {\n    genChildren () {\n      return this.$createElement('transition-group', {\n        staticClass: 'v-messages__wrapper',\n        attrs: {\n          name: 'message-transition',\n          tag: 'div',\n        },\n      }, this.value.map(this.genMessage))\n    },\n    genMessage (message: string, key: number) {\n      return this.$createElement('div', {\n        staticClass: 'v-messages__message',\n        key,\n      }, getSlot(this, 'default', { message, key }) || [message])\n    },\n  },\n\n  render (h): VNode {\n    return h('div', this.setTextColor(this.color, {\n      staticClass: 'v-messages',\n      class: this.themeClasses,\n    }), [this.genChildren()])\n  },\n})\n","import VMessages from './VMessages'\n\nexport { VMessages }\nexport default VMessages\n","// Mixins\nimport Colorable from '../colorable'\nimport Themeable from '../themeable'\nimport { inject as RegistrableInject } from '../registrable'\n\n// Utilities\nimport { deepEqual } from '../../util/helpers'\nimport { consoleError } from '../../util/console'\nimport mixins from '../../util/mixins'\n\n// Types\nimport { PropValidator } from 'vue/types/options'\nimport { InputMessage, InputValidationRules } from 'vuetify/types'\n\nconst baseMixins = mixins(\n  Colorable,\n  RegistrableInject<'form', any>('form'),\n  Themeable,\n)\n\n/* @vue/component */\nexport default baseMixins.extend({\n  name: 'validatable',\n\n  props: {\n    disabled: Boolean,\n    error: Boolean,\n    errorCount: {\n      type: [Number, String],\n      default: 1,\n    },\n    errorMessages: {\n      type: [String, Array],\n      default: () => [],\n    } as PropValidator<InputMessage | null>,\n    messages: {\n      type: [String, Array],\n      default: () => [],\n    } as PropValidator<InputMessage | null>,\n    readonly: Boolean,\n    rules: {\n      type: Array,\n      default: () => [],\n    } as PropValidator<InputValidationRules>,\n    success: Boolean,\n    successMessages: {\n      type: [String, Array],\n      default: () => [],\n    } as PropValidator<InputMessage | null>,\n    validateOnBlur: Boolean,\n    value: { required: false },\n  },\n\n  data () {\n    return {\n      errorBucket: [] as string[],\n      hasColor: false,\n      hasFocused: false,\n      hasInput: false,\n      isFocused: false,\n      isResetting: false,\n      lazyValue: this.value,\n      valid: false,\n    }\n  },\n\n  computed: {\n    computedColor (): string | undefined {\n      if (this.isDisabled) return undefined\n      if (this.color) return this.color\n      // It's assumed that if the input is on a\n      // dark background, the user will want to\n      // have a white color. If the entire app\n      // is setup to be dark, then they will\n      // like want to use their primary color\n      if (this.isDark && !this.appIsDark) return 'white'\n      else return 'primary'\n    },\n    hasError (): boolean {\n      return (\n        this.internalErrorMessages.length > 0 ||\n        this.errorBucket.length > 0 ||\n        this.error\n      )\n    },\n    // TODO: Add logic that allows the user to enable based\n    // upon a good validation\n    hasSuccess (): boolean {\n      return (\n        this.internalSuccessMessages.length > 0 ||\n        this.success\n      )\n    },\n    externalError (): boolean {\n      return this.internalErrorMessages.length > 0 || this.error\n    },\n    hasMessages (): boolean {\n      return this.validationTarget.length > 0\n    },\n    hasState (): boolean {\n      if (this.isDisabled) return false\n\n      return (\n        this.hasSuccess ||\n        (this.shouldValidate && this.hasError)\n      )\n    },\n    internalErrorMessages (): InputValidationRules {\n      return this.genInternalMessages(this.errorMessages)\n    },\n    internalMessages (): InputValidationRules {\n      return this.genInternalMessages(this.messages)\n    },\n    internalSuccessMessages (): InputValidationRules {\n      return this.genInternalMessages(this.successMessages)\n    },\n    internalValue: {\n      get (): unknown {\n        return this.lazyValue\n      },\n      set (val: any) {\n        this.lazyValue = val\n\n        this.$emit('input', val)\n      },\n    },\n    isDisabled (): boolean {\n      return this.disabled || (\n        !!this.form &&\n        this.form.disabled\n      )\n    },\n    isInteractive (): boolean {\n      return !this.isDisabled && !this.isReadonly\n    },\n    isReadonly (): boolean {\n      return this.readonly || (\n        !!this.form &&\n        this.form.readonly\n      )\n    },\n    shouldValidate (): boolean {\n      if (this.externalError) return true\n      if (this.isResetting) return false\n\n      return this.validateOnBlur\n        ? this.hasFocused && !this.isFocused\n        : (this.hasInput || this.hasFocused)\n    },\n    validations (): InputValidationRules {\n      return this.validationTarget.slice(0, Number(this.errorCount))\n    },\n    validationState (): string | undefined {\n      if (this.isDisabled) return undefined\n      if (this.hasError && this.shouldValidate) return 'error'\n      if (this.hasSuccess) return 'success'\n      if (this.hasColor) return this.computedColor\n      return undefined\n    },\n    validationTarget (): InputValidationRules {\n      if (this.internalErrorMessages.length > 0) {\n        return this.internalErrorMessages\n      } else if (this.successMessages && this.successMessages.length > 0) {\n        return this.internalSuccessMessages\n      } else if (this.messages && this.messages.length > 0) {\n        return this.internalMessages\n      } else if (this.shouldValidate) {\n        return this.errorBucket\n      } else return []\n    },\n  },\n\n  watch: {\n    rules: {\n      handler (newVal, oldVal) {\n        if (deepEqual(newVal, oldVal)) return\n        this.validate()\n      },\n      deep: true,\n    },\n    internalValue () {\n      // If it's the first time we're setting input,\n      // mark it with hasInput\n      this.hasInput = true\n      this.validateOnBlur || this.$nextTick(this.validate)\n    },\n    isFocused (val) {\n      // Should not check validation\n      // if disabled\n      if (\n        !val &&\n        !this.isDisabled\n      ) {\n        this.hasFocused = true\n        this.validateOnBlur && this.$nextTick(this.validate)\n      }\n    },\n    isResetting () {\n      setTimeout(() => {\n        this.hasInput = false\n        this.hasFocused = false\n        this.isResetting = false\n        this.validate()\n      }, 0)\n    },\n    hasError (val) {\n      if (this.shouldValidate) {\n        this.$emit('update:error', val)\n      }\n    },\n    value (val) {\n      this.lazyValue = val\n    },\n  },\n\n  beforeMount () {\n    this.validate()\n  },\n\n  created () {\n    this.form && this.form.register(this)\n  },\n\n  beforeDestroy () {\n    this.form && this.form.unregister(this)\n  },\n\n  methods: {\n    genInternalMessages (messages: InputMessage | null): InputValidationRules {\n      if (!messages) return []\n      else if (Array.isArray(messages)) return messages\n      else return [messages]\n    },\n    /** @public */\n    reset () {\n      this.isResetting = true\n      this.internalValue = Array.isArray(this.internalValue)\n        ? []\n        : null\n    },\n    /** @public */\n    resetValidation () {\n      this.isResetting = true\n    },\n    /** @public */\n    validate (force = false, value?: any): boolean {\n      const errorBucket = []\n      value = value || this.internalValue\n\n      if (force) this.hasInput = this.hasFocused = true\n\n      for (let index = 0; index < this.rules.length; index++) {\n        const rule = this.rules[index]\n        const valid = typeof rule === 'function' ? rule(value) : rule\n\n        if (valid === false || typeof valid === 'string') {\n          errorBucket.push(valid || '')\n        } else if (typeof valid !== 'boolean') {\n          consoleError(`Rules should return a string or boolean, received '${typeof valid}' instead`, this)\n        }\n      }\n\n      this.errorBucket = errorBucket\n      this.valid = errorBucket.length === 0\n\n      return this.valid\n    },\n  },\n})\n","// Styles\nimport './VInput.sass'\n\n// Components\nimport VIcon from '../VIcon'\nimport VLabel from '../VLabel'\nimport VMessages from '../VMessages'\n\n// Mixins\nimport BindsAttrs from '../../mixins/binds-attrs'\nimport Validatable from '../../mixins/validatable'\n\n// Utilities\nimport {\n  convertToUnit,\n  getSlot,\n  kebabCase,\n} from '../../util/helpers'\nimport mergeData from '../../util/mergeData'\n\n// Types\nimport { VNode, VNodeData, PropType } from 'vue'\nimport mixins from '../../util/mixins'\nimport { InputValidationRule } from 'vuetify/types'\n\nconst baseMixins = mixins(\n  BindsAttrs,\n  Validatable,\n)\n\ninterface options extends InstanceType<typeof baseMixins> {\n  /* eslint-disable-next-line camelcase */\n  $_modelEvent: string\n}\n\n/* @vue/component */\nexport default baseMixins.extend<options>().extend({\n  name: 'v-input',\n\n  inheritAttrs: false,\n\n  props: {\n    appendIcon: String,\n    backgroundColor: {\n      type: String,\n      default: '',\n    },\n    dense: Boolean,\n    height: [Number, String],\n    hideDetails: [Boolean, String] as PropType<boolean | 'auto'>,\n    hideSpinButtons: Boolean,\n    hint: String,\n    id: String,\n    label: String,\n    loading: Boolean,\n    persistentHint: Boolean,\n    prependIcon: String,\n    value: null as any as PropType<any>,\n  },\n\n  data () {\n    return {\n      lazyValue: this.value,\n      hasMouseDown: false,\n    }\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-input--has-state': this.hasState,\n        'v-input--hide-details': !this.showDetails,\n        'v-input--is-label-active': this.isLabelActive,\n        'v-input--is-dirty': this.isDirty,\n        'v-input--is-disabled': this.isDisabled,\n        'v-input--is-focused': this.isFocused,\n        // <v-switch loading>.loading === '' so we can't just cast to boolean\n        'v-input--is-loading': this.loading !== false && this.loading != null,\n        'v-input--is-readonly': this.isReadonly,\n        'v-input--dense': this.dense,\n        'v-input--hide-spin-buttons': this.hideSpinButtons,\n        ...this.themeClasses,\n      }\n    },\n    computedId (): string {\n      return this.id || `input-${this._uid}`\n    },\n    hasDetails (): boolean {\n      return this.messagesToDisplay.length > 0\n    },\n    hasHint (): boolean {\n      return !this.hasMessages &&\n        !!this.hint &&\n        (this.persistentHint || this.isFocused)\n    },\n    hasLabel (): boolean {\n      return !!(this.$slots.label || this.label)\n    },\n    // Proxy for `lazyValue`\n    // This allows an input\n    // to function without\n    // a provided model\n    internalValue: {\n      get (): any {\n        return this.lazyValue\n      },\n      set (val: any) {\n        this.lazyValue = val\n        this.$emit(this.$_modelEvent, val)\n      },\n    },\n    isDirty (): boolean {\n      return !!this.lazyValue\n    },\n    isLabelActive (): boolean {\n      return this.isDirty\n    },\n    messagesToDisplay (): string[] {\n      if (this.hasHint) return [this.hint]\n\n      if (!this.hasMessages) return []\n\n      return this.validations.map((validation: string | InputValidationRule) => {\n        if (typeof validation === 'string') return validation\n\n        const validationResult = validation(this.internalValue)\n\n        return typeof validationResult === 'string' ? validationResult : ''\n      }).filter(message => message !== '')\n    },\n    showDetails (): boolean {\n      return this.hideDetails === false || (this.hideDetails === 'auto' && this.hasDetails)\n    },\n  },\n\n  watch: {\n    value (val) {\n      this.lazyValue = val\n    },\n  },\n\n  beforeCreate () {\n    // v-radio-group needs to emit a different event\n    // https://github.com/vuetifyjs/vuetify/issues/4752\n    this.$_modelEvent = (this.$options.model && this.$options.model.event) || 'input'\n  },\n\n  methods: {\n    genContent () {\n      return [\n        this.genPrependSlot(),\n        this.genControl(),\n        this.genAppendSlot(),\n      ]\n    },\n    genControl () {\n      return this.$createElement('div', {\n        staticClass: 'v-input__control',\n        attrs: { title: this.attrs$.title },\n      }, [\n        this.genInputSlot(),\n        this.genMessages(),\n      ])\n    },\n    genDefaultSlot () {\n      return [\n        this.genLabel(),\n        this.$slots.default,\n      ]\n    },\n    genIcon (\n      type: string,\n      cb?: (e: Event) => void,\n      extraData: VNodeData = {}\n    ) {\n      const icon = (this as any)[`${type}Icon`]\n      const eventName = `click:${kebabCase(type)}`\n      const hasListener = !!(this.listeners$[eventName] || cb)\n\n      const data = mergeData({\n        attrs: {\n          'aria-label': hasListener ? kebabCase(type).split('-')[0] + ' icon' : undefined,\n          color: this.validationState,\n          dark: this.dark,\n          disabled: this.isDisabled,\n          light: this.light,\n        },\n        on: !hasListener\n          ? undefined\n          : {\n            click: (e: Event) => {\n              e.preventDefault()\n              e.stopPropagation()\n\n              this.$emit(eventName, e)\n              cb && cb(e)\n            },\n            // Container has g event that will\n            // trigger menu open if enclosed\n            mouseup: (e: Event) => {\n              e.preventDefault()\n              e.stopPropagation()\n            },\n          },\n      }, extraData)\n\n      return this.$createElement('div', {\n        staticClass: `v-input__icon`,\n        class: type ? `v-input__icon--${kebabCase(type)}` : undefined,\n      }, [\n        this.$createElement(\n          VIcon,\n          data,\n          icon\n        ),\n      ])\n    },\n    genInputSlot () {\n      return this.$createElement('div', this.setBackgroundColor(this.backgroundColor, {\n        staticClass: 'v-input__slot',\n        style: { height: convertToUnit(this.height) },\n        on: {\n          click: this.onClick,\n          mousedown: this.onMouseDown,\n          mouseup: this.onMouseUp,\n        },\n        ref: 'input-slot',\n      }), [this.genDefaultSlot()])\n    },\n    genLabel () {\n      if (!this.hasLabel) return null\n\n      return this.$createElement(VLabel, {\n        props: {\n          color: this.validationState,\n          dark: this.dark,\n          disabled: this.isDisabled,\n          focused: this.hasState,\n          for: this.computedId,\n          light: this.light,\n        },\n      }, this.$slots.label || this.label)\n    },\n    genMessages () {\n      if (!this.showDetails) return null\n\n      return this.$createElement(VMessages, {\n        props: {\n          color: this.hasHint ? '' : this.validationState,\n          dark: this.dark,\n          light: this.light,\n          value: this.messagesToDisplay,\n        },\n        attrs: {\n          role: this.hasMessages ? 'alert' : null,\n        },\n        scopedSlots: {\n          default: props => getSlot(this, 'message', props),\n        },\n      })\n    },\n    genSlot (\n      type: string,\n      location: string,\n      slot: (VNode | VNode[])[]\n    ) {\n      if (!slot.length) return null\n\n      const ref = `${type}-${location}`\n\n      return this.$createElement('div', {\n        staticClass: `v-input__${ref}`,\n        ref,\n      }, slot)\n    },\n    genPrependSlot () {\n      const slot = []\n\n      if (this.$slots.prepend) {\n        slot.push(this.$slots.prepend)\n      } else if (this.prependIcon) {\n        slot.push(this.genIcon('prepend'))\n      }\n\n      return this.genSlot('prepend', 'outer', slot)\n    },\n    genAppendSlot () {\n      const slot = []\n\n      // Append icon for text field was really\n      // an appended inner icon, v-text-field\n      // will overwrite this method in order to obtain\n      // backwards compat\n      if (this.$slots.append) {\n        slot.push(this.$slots.append)\n      } else if (this.appendIcon) {\n        slot.push(this.genIcon('append'))\n      }\n\n      return this.genSlot('append', 'outer', slot)\n    },\n    onClick (e: Event) {\n      this.$emit('click', e)\n    },\n    onMouseDown (e: Event) {\n      this.hasMouseDown = true\n      this.$emit('mousedown', e)\n    },\n    onMouseUp (e: Event) {\n      this.hasMouseDown = false\n      this.$emit('mouseup', e)\n    },\n  },\n\n  render (h): VNode {\n    return h('div', this.setTextColor(this.validationState, {\n      staticClass: 'v-input',\n      class: this.classes,\n    }), this.genContent())\n  },\n})\n","import VInput from './VInput'\n\nexport { VInput }\nexport default VInput\n","// Styles\nimport './VCounter.sass'\n\n// Mixins\nimport Themeable, { functionalThemeClasses } from '../../mixins/themeable'\n\n// Types\nimport { VNode } from 'vue'\nimport mixins from '../../util/mixins'\n\n/* @vue/component */\nexport default mixins(Themeable).extend({\n  name: 'v-counter',\n\n  functional: true,\n\n  props: {\n    value: {\n      type: [Number, String],\n      default: '',\n    },\n    max: [Number, String],\n  },\n\n  render (h, ctx): VNode {\n    const { props } = ctx\n    const max = parseInt(props.max, 10)\n    const value = parseInt(props.value, 10)\n    const content = max ? `${value} / ${max}` : String(props.value)\n    const isGreater = max && (value > max)\n\n    return h('div', {\n      staticClass: 'v-counter',\n      class: {\n        'error--text': isGreater,\n        ...functionalThemeClasses(ctx),\n      },\n    }, content)\n  },\n})\n","import VCounter from './VCounter'\n\nexport { VCounter }\nexport default VCounter\n","// Directives\nimport Intersect from '../../directives/intersect'\n\n// Utilities\nimport { consoleWarn } from '../../util/console'\n\n// Types\nimport Vue from 'vue'\n\nexport default function intersectable (options: { onVisible: string[] }) {\n  return Vue.extend({\n    name: 'intersectable',\n\n    data: () => ({\n      isIntersecting: false,\n    }),\n\n    mounted () {\n      Intersect.inserted(this.$el as HTMLElement, {\n        name: 'intersect',\n        value: this.onObserve,\n      }, this.$vnode)\n    },\n\n    destroyed () {\n      Intersect.unbind(this.$el as HTMLElement, {\n        name: 'intersect',\n        value: this.onObserve,\n      }, this.$vnode)\n    },\n\n    methods: {\n      onObserve (entries: IntersectionObserverEntry[], observer: IntersectionObserver, isIntersecting: boolean) {\n        this.isIntersecting = isIntersecting\n\n        if (!isIntersecting) return\n\n        for (let i = 0, length = options.onVisible.length; i < length; i++) {\n          const callback = (this as any)[options.onVisible[i]]\n\n          if (typeof callback === 'function') {\n            callback()\n            continue\n          }\n\n          consoleWarn(options.onVisible[i] + ' method is not available on the instance but referenced in intersectable mixin options')\n        }\n      },\n    },\n  })\n}\n","import { VNodeDirective } from 'vue/types/vnode'\nimport { VNode } from 'vue'\n\ninterface ResizeVNodeDirective extends VNodeDirective {\n  value?: () => void\n  options?: boolean | AddEventListenerOptions\n}\n\nfunction inserted (el: HTMLElement, binding: ResizeVNodeDirective, vnode: VNode) {\n  const callback = binding.value!\n  const options = binding.options || { passive: true }\n\n  window.addEventListener('resize', callback, options)\n\n  el._onResize = Object(el._onResize)\n  el._onResize![vnode.context!._uid] = {\n    callback,\n    options,\n  }\n\n  if (!binding.modifiers || !binding.modifiers.quiet) {\n    callback()\n  }\n}\n\nfunction unbind (el: HTMLElement, binding: ResizeVNodeDirective, vnode: VNode) {\n  if (!el._onResize?.[vnode.context!._uid]) return\n\n  const { callback, options } = el._onResize[vnode.context!._uid]!\n\n  window.removeEventListener('resize', callback, options)\n\n  delete el._onResize[vnode.context!._uid]\n}\n\nexport const Resize = {\n  inserted,\n  unbind,\n}\n\nexport default Resize\n","/**\n * Returns:\n *  - 'null' if the node is not attached to the DOM\n *  - the root node (HTMLDocument | ShadowRoot) otherwise\n */\nexport function attachedRoot (node: Node): null | HTMLDocument | ShadowRoot {\n  /* istanbul ignore next */\n  if (typeof node.getRootNode !== 'function') {\n    // Shadow DOM not supported (IE11), lets find the root of this node\n    while (node.parentNode) node = node.parentNode\n\n    // The root parent is the document if the node is attached to the DOM\n    if (node !== document) return null\n\n    return document\n  }\n\n  const root = node.getRootNode()\n\n  // The composed root node is the document if the node is attached to the DOM\n  if (root !== document && root.getRootNode({ composed: true }) !== document) return null\n\n  return root as HTMLDocument | ShadowRoot\n}\n","// Styles\nimport './VTextField.sass'\n\n// Extensions\nimport VInput from '../VInput'\n\n// Components\nimport VCounter from '../VCounter'\nimport VLabel from '../VLabel'\n\n// Mixins\nimport Intersectable from '../../mixins/intersectable'\nimport Loadable from '../../mixins/loadable'\nimport Validatable from '../../mixins/validatable'\n\n// Directives\nimport resize from '../../directives/resize'\nimport ripple from '../../directives/ripple'\n\n// Utilities\nimport { attachedRoot } from '../../util/dom'\nimport { convertToUnit, keyCodes } from '../../util/helpers'\nimport { breaking, consoleWarn } from '../../util/console'\n\n// Types\nimport mixins from '../../util/mixins'\nimport { VNode, PropType } from 'vue/types'\n\nconst baseMixins = mixins(\n  VInput,\n  Intersectable({\n    onVisible: [\n      'onResize',\n      'tryAutofocus',\n    ],\n  }),\n  Loadable,\n)\ninterface options extends InstanceType<typeof baseMixins> {\n  $refs: {\n    label: HTMLElement\n    input: HTMLInputElement\n    'prepend-inner': HTMLElement\n    prefix: HTMLElement\n    suffix: HTMLElement\n  }\n}\n\nconst dirtyTypes = ['color', 'file', 'time', 'date', 'datetime-local', 'week', 'month']\n\n/* @vue/component */\nexport default baseMixins.extend<options>().extend({\n  name: 'v-text-field',\n\n  directives: {\n    resize,\n    ripple,\n  },\n\n  inheritAttrs: false,\n\n  props: {\n    appendOuterIcon: String,\n    autofocus: Boolean,\n    clearable: Boolean,\n    clearIcon: {\n      type: String,\n      default: '$clear',\n    },\n    counter: [Boolean, Number, String],\n    counterValue: Function as PropType<(value: any) => number>,\n    filled: Boolean,\n    flat: Boolean,\n    fullWidth: Boolean,\n    label: String,\n    outlined: Boolean,\n    placeholder: String,\n    prefix: String,\n    prependInnerIcon: String,\n    persistentPlaceholder: Boolean,\n    reverse: Boolean,\n    rounded: Boolean,\n    shaped: Boolean,\n    singleLine: Boolean,\n    solo: Boolean,\n    soloInverted: Boolean,\n    suffix: String,\n    type: {\n      type: String,\n      default: 'text',\n    },\n  },\n\n  data: () => ({\n    badInput: false,\n    labelWidth: 0,\n    prefixWidth: 0,\n    prependWidth: 0,\n    initialValue: null,\n    isBooted: false,\n    isClearing: false,\n  }),\n\n  computed: {\n    classes (): object {\n      return {\n        ...VInput.options.computed.classes.call(this),\n        'v-text-field': true,\n        'v-text-field--full-width': this.fullWidth,\n        'v-text-field--prefix': this.prefix,\n        'v-text-field--single-line': this.isSingle,\n        'v-text-field--solo': this.isSolo,\n        'v-text-field--solo-inverted': this.soloInverted,\n        'v-text-field--solo-flat': this.flat,\n        'v-text-field--filled': this.filled,\n        'v-text-field--is-booted': this.isBooted,\n        'v-text-field--enclosed': this.isEnclosed,\n        'v-text-field--reverse': this.reverse,\n        'v-text-field--outlined': this.outlined,\n        'v-text-field--placeholder': this.placeholder,\n        'v-text-field--rounded': this.rounded,\n        'v-text-field--shaped': this.shaped,\n      }\n    },\n    computedColor (): string | undefined {\n      const computedColor = Validatable.options.computed.computedColor.call(this)\n\n      if (!this.soloInverted || !this.isFocused) return computedColor\n\n      return this.color || 'primary'\n    },\n    computedCounterValue (): number {\n      if (typeof this.counterValue === 'function') {\n        return this.counterValue(this.internalValue)\n      }\n      return [...(this.internalValue || '').toString()].length\n    },\n    hasCounter (): boolean {\n      return this.counter !== false && this.counter != null\n    },\n    hasDetails (): boolean {\n      return VInput.options.computed.hasDetails.call(this) || this.hasCounter\n    },\n    internalValue: {\n      get (): any {\n        return this.lazyValue\n      },\n      set (val: any) {\n        this.lazyValue = val\n        this.$emit('input', this.lazyValue)\n      },\n    },\n    isDirty (): boolean {\n      return this.lazyValue?.toString().length > 0 || this.badInput\n    },\n    isEnclosed (): boolean {\n      return (\n        this.filled ||\n        this.isSolo ||\n        this.outlined\n      )\n    },\n    isLabelActive (): boolean {\n      return this.isDirty || dirtyTypes.includes(this.type)\n    },\n    isSingle (): boolean {\n      return (\n        this.isSolo ||\n        this.singleLine ||\n        this.fullWidth ||\n        // https://material.io/components/text-fields/#filled-text-field\n        (this.filled && !this.hasLabel)\n      )\n    },\n    isSolo (): boolean {\n      return this.solo || this.soloInverted\n    },\n    labelPosition (): Record<'left' | 'right', string | number | undefined> {\n      let offset = (this.prefix && !this.labelValue) ? this.prefixWidth : 0\n\n      if (this.labelValue && this.prependWidth) offset -= this.prependWidth\n\n      return (this.$vuetify.rtl === this.reverse) ? {\n        left: offset,\n        right: 'auto',\n      } : {\n        left: 'auto',\n        right: offset,\n      }\n    },\n    showLabel (): boolean {\n      return this.hasLabel && !(this.isSingle && this.labelValue)\n    },\n    labelValue (): boolean {\n      return this.isFocused || this.isLabelActive || this.persistentPlaceholder\n    },\n  },\n\n  watch: {\n    // labelValue: 'setLabelWidth', // moved to mounted, see #11533\n    outlined: 'setLabelWidth',\n    label () {\n      this.$nextTick(this.setLabelWidth)\n    },\n    prefix () {\n      this.$nextTick(this.setPrefixWidth)\n    },\n    isFocused: 'updateValue',\n    value (val) {\n      this.lazyValue = val\n    },\n  },\n\n  created () {\n    /* istanbul ignore next */\n    if (this.$attrs.hasOwnProperty('box')) {\n      breaking('box', 'filled', this)\n    }\n\n    /* istanbul ignore next */\n    if (this.$attrs.hasOwnProperty('browser-autocomplete')) {\n      breaking('browser-autocomplete', 'autocomplete', this)\n    }\n\n    /* istanbul ignore if */\n    if (this.shaped && !(this.filled || this.outlined || this.isSolo)) {\n      consoleWarn('shaped should be used with either filled or outlined', this)\n    }\n  },\n\n  mounted () {\n    // #11533\n    this.$watch(() => this.labelValue, this.setLabelWidth)\n    this.autofocus && this.tryAutofocus()\n    requestAnimationFrame(() => {\n      this.isBooted = true\n      requestAnimationFrame(() => {\n        if (!this.isIntersecting) {\n          this.onResize()\n        }\n      })\n    })\n  },\n\n  methods: {\n    /** @public */\n    focus () {\n      this.onFocus()\n    },\n    /** @public */\n    blur (e?: Event) {\n      // https://github.com/vuetifyjs/vuetify/issues/5913\n      // Safari tab order gets broken if called synchronous\n      window.requestAnimationFrame(() => {\n        this.$refs.input && this.$refs.input.blur()\n      })\n    },\n    clearableCallback () {\n      this.$refs.input && this.$refs.input.focus()\n      this.$nextTick(() => this.internalValue = null)\n    },\n    genAppendSlot () {\n      const slot = []\n\n      if (this.$slots['append-outer']) {\n        slot.push(this.$slots['append-outer'] as VNode[])\n      } else if (this.appendOuterIcon) {\n        slot.push(this.genIcon('appendOuter'))\n      }\n\n      return this.genSlot('append', 'outer', slot)\n    },\n    genPrependInnerSlot () {\n      const slot = []\n\n      if (this.$slots['prepend-inner']) {\n        slot.push(this.$slots['prepend-inner'] as VNode[])\n      } else if (this.prependInnerIcon) {\n        slot.push(this.genIcon('prependInner'))\n      }\n\n      return this.genSlot('prepend', 'inner', slot)\n    },\n    genIconSlot () {\n      const slot = []\n\n      if (this.$slots.append) {\n        slot.push(this.$slots.append as VNode[])\n      } else if (this.appendIcon) {\n        slot.push(this.genIcon('append'))\n      }\n\n      return this.genSlot('append', 'inner', slot)\n    },\n    genInputSlot () {\n      const input = VInput.options.methods.genInputSlot.call(this)\n\n      const prepend = this.genPrependInnerSlot()\n\n      if (prepend) {\n        input.children = input.children || []\n        input.children.unshift(prepend)\n      }\n\n      return input\n    },\n    genClearIcon () {\n      if (!this.clearable) return null\n\n      // if the text field has no content then don't display the clear icon.\n      // We add an empty div because other controls depend on a ref to append inner\n      if (!this.isDirty) {\n        return this.genSlot('append', 'inner', [\n          this.$createElement('div'),\n        ])\n      }\n\n      return this.genSlot('append', 'inner', [\n        this.genIcon('clear', this.clearableCallback),\n      ])\n    },\n    genCounter () {\n      if (!this.hasCounter) return null\n\n      const max = this.counter === true ? this.attrs$.maxlength : this.counter\n\n      const props = {\n        dark: this.dark,\n        light: this.light,\n        max,\n        value: this.computedCounterValue,\n      }\n\n      return this.$scopedSlots.counter?.({ props }) ?? this.$createElement(VCounter, { props })\n    },\n    genControl () {\n      return VInput.options.methods.genControl.call(this)\n    },\n    genDefaultSlot () {\n      return [\n        this.genFieldset(),\n        this.genTextFieldSlot(),\n        this.genClearIcon(),\n        this.genIconSlot(),\n        this.genProgress(),\n      ]\n    },\n    genFieldset () {\n      if (!this.outlined) return null\n\n      return this.$createElement('fieldset', {\n        attrs: {\n          'aria-hidden': true,\n        },\n      }, [this.genLegend()])\n    },\n    genLabel () {\n      if (!this.showLabel) return null\n\n      const data = {\n        props: {\n          absolute: true,\n          color: this.validationState,\n          dark: this.dark,\n          disabled: this.isDisabled,\n          focused: !this.isSingle && (this.isFocused || !!this.validationState),\n          for: this.computedId,\n          left: this.labelPosition.left,\n          light: this.light,\n          right: this.labelPosition.right,\n          value: this.labelValue,\n        },\n      }\n\n      return this.$createElement(VLabel, data, this.$slots.label || this.label)\n    },\n    genLegend () {\n      const width = !this.singleLine && (this.labelValue || this.isDirty) ? this.labelWidth : 0\n      const span = this.$createElement('span', {\n        domProps: { innerHTML: '&#8203;' },\n        staticClass: 'notranslate',\n      })\n\n      return this.$createElement('legend', {\n        style: {\n          width: !this.isSingle ? convertToUnit(width) : undefined,\n        },\n      }, [span])\n    },\n    genInput () {\n      const listeners = Object.assign({}, this.listeners$)\n      delete listeners.change // Change should not be bound externally\n      const { title, ...inputAttrs } = this.attrs$\n\n      return this.$createElement('input', {\n        style: {},\n        domProps: {\n          value: (this.type === 'number' && Object.is(this.lazyValue, -0)) ? '-0' : this.lazyValue,\n        },\n        attrs: {\n          ...inputAttrs,\n          autofocus: this.autofocus,\n          disabled: this.isDisabled,\n          id: this.computedId,\n          placeholder: this.persistentPlaceholder || this.isFocused || !this.hasLabel ? this.placeholder : undefined,\n          readonly: this.isReadonly,\n          type: this.type,\n        },\n        on: Object.assign(listeners, {\n          blur: this.onBlur,\n          input: this.onInput,\n          focus: this.onFocus,\n          keydown: this.onKeyDown,\n        }),\n        ref: 'input',\n        directives: [{\n          name: 'resize',\n          modifiers: { quiet: true },\n          value: this.onResize,\n        }],\n      })\n    },\n    genMessages () {\n      if (!this.showDetails) return null\n\n      const messagesNode = VInput.options.methods.genMessages.call(this)\n      const counterNode = this.genCounter()\n\n      return this.$createElement('div', {\n        staticClass: 'v-text-field__details',\n      }, [\n        messagesNode,\n        counterNode,\n      ])\n    },\n    genTextFieldSlot () {\n      return this.$createElement('div', {\n        staticClass: 'v-text-field__slot',\n      }, [\n        this.genLabel(),\n        this.prefix ? this.genAffix('prefix') : null,\n        this.genInput(),\n        this.suffix ? this.genAffix('suffix') : null,\n      ])\n    },\n    genAffix (type: 'prefix' | 'suffix') {\n      return this.$createElement('div', {\n        class: `v-text-field__${type}`,\n        ref: type,\n      }, this[type])\n    },\n    onBlur (e?: Event) {\n      this.isFocused = false\n      e && this.$nextTick(() => this.$emit('blur', e))\n    },\n    onClick () {\n      if (this.isFocused || this.isDisabled || !this.$refs.input) return\n\n      this.$refs.input.focus()\n    },\n    onFocus (e?: Event) {\n      if (!this.$refs.input) return\n\n      const root = attachedRoot(this.$el)\n      if (!root) return\n\n      if (root.activeElement !== this.$refs.input) {\n        return this.$refs.input.focus()\n      }\n\n      if (!this.isFocused) {\n        this.isFocused = true\n        e && this.$emit('focus', e)\n      }\n    },\n    onInput (e: Event) {\n      const target = e.target as HTMLInputElement\n      this.internalValue = target.value\n      this.badInput = target.validity && target.validity.badInput\n    },\n    onKeyDown (e: KeyboardEvent) {\n      if (\n        e.keyCode === keyCodes.enter &&\n        this.lazyValue !== this.initialValue\n      ) {\n        this.initialValue = this.lazyValue\n        this.$emit('change', this.initialValue)\n      }\n\n      this.$emit('keydown', e)\n    },\n    onMouseDown (e: Event) {\n      // Prevent input from being blurred\n      if (e.target !== this.$refs.input) {\n        e.preventDefault()\n        e.stopPropagation()\n      }\n\n      VInput.options.methods.onMouseDown.call(this, e)\n    },\n    onMouseUp (e: Event) {\n      if (this.hasMouseDown) this.focus()\n\n      VInput.options.methods.onMouseUp.call(this, e)\n    },\n    setLabelWidth () {\n      if (!this.outlined) return\n\n      this.labelWidth = this.$refs.label\n        ? Math.min(this.$refs.label.scrollWidth * 0.75 + 6, (this.$el as HTMLElement).offsetWidth - 24)\n        : 0\n    },\n    setPrefixWidth () {\n      if (!this.$refs.prefix) return\n\n      this.prefixWidth = this.$refs.prefix.offsetWidth\n    },\n    setPrependWidth () {\n      if (!this.outlined || !this.$refs['prepend-inner']) return\n\n      this.prependWidth = this.$refs['prepend-inner'].offsetWidth\n    },\n    tryAutofocus () {\n      if (\n        !this.autofocus ||\n        typeof document === 'undefined' ||\n        !this.$refs.input) return false\n\n      const root = attachedRoot(this.$el)\n      if (!root || root.activeElement === this.$refs.input) return false\n\n      this.$refs.input.focus()\n\n      return true\n    },\n    updateValue (val: boolean) {\n      // Sets validationState from validatable\n      this.hasColor = val\n\n      if (val) {\n        this.initialValue = this.lazyValue\n      } else if (this.initialValue !== this.lazyValue) {\n        this.$emit('change', this.lazyValue)\n      }\n    },\n    onResize () {\n      this.setLabelWidth()\n      this.setPrefixWidth()\n      this.setPrependWidth()\n    },\n  },\n})\n","import { render, staticRenderFns } from \"./CodePair.vue?vue&type=template&id=755a8ae9&\"\nimport script from \"./CodePair.vue?vue&type=script&lang=js&\"\nexport * from \"./CodePair.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCardText,VCol,VContainer,VForm,VRow,VSnackbar,VTextField})\n","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t(require(\"codemirror\")):\"function\"==typeof define&&define.amd?define([\"codemirror\"],t):\"object\"==typeof exports?exports.VueCodemirror=t(require(\"codemirror\")):e.VueCodemirror=t(e.codemirror)}(this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"/\",t(t.s=3)}([function(t,n){t.exports=e},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=window.CodeMirror||o.default;\"function\"!=typeof Object.assign&&Object.defineProperty(Object,\"assign\",{value:function(e,t){if(null==e)throw new TypeError(\"Cannot convert undefined or null to object\");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n},writable:!0,configurable:!0}),t.default={name:\"codemirror\",data:function(){return{content:\"\",codemirror:null,cminstance:null}},props:{code:String,value:String,marker:Function,unseenLines:Array,name:{type:String,default:\"codemirror\"},placeholder:{type:String,default:\"\"},merge:{type:Boolean,default:!1},options:{type:Object,default:function(){return{}}},events:{type:Array,default:function(){return[]}},globalOptions:{type:Object,default:function(){return{}}},globalEvents:{type:Array,default:function(){return[]}}},watch:{options:{deep:!0,handler:function(e){for(var t in e)this.cminstance.setOption(t,e[t])}},merge:function(){this.$nextTick(this.switchMerge)},code:function(e){this.handerCodeChange(e)},value:function(e){this.handerCodeChange(e)}},methods:{initialize:function(){var e=this,t=Object.assign({},this.globalOptions,this.options);this.merge?(this.codemirror=i.MergeView(this.$refs.mergeview,t),this.cminstance=this.codemirror.edit):(this.codemirror=i.fromTextArea(this.$refs.textarea,t),this.cminstance=this.codemirror,this.cminstance.setValue(this.code||this.value||this.content)),this.cminstance.on(\"change\",function(t){e.content=t.getValue(),e.$emit&&e.$emit(\"input\",e.content)});var n={};[\"scroll\",\"changes\",\"beforeChange\",\"cursorActivity\",\"keyHandled\",\"inputRead\",\"electricInput\",\"beforeSelectionChange\",\"viewportChange\",\"swapDoc\",\"gutterClick\",\"gutterContextMenu\",\"focus\",\"blur\",\"refresh\",\"optionChange\",\"scrollCursorIntoView\",\"update\"].concat(this.events).concat(this.globalEvents).filter(function(e){return!n[e]&&(n[e]=!0)}).forEach(function(t){e.cminstance.on(t,function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];e.$emit.apply(e,[t].concat(r));var i=t.replace(/([A-Z])/g,\"-$1\").toLowerCase();i!==t&&e.$emit.apply(e,[i].concat(r))})});this.$emit(\"ready\",this.codemirror),this.unseenLineMarkers(),this.refresh()},refresh:function(){var e=this;this.$nextTick(function(){e.cminstance.refresh()})},destroy:function(){var e=this.cminstance.doc.cm.getWrapperElement();e&&e.remove&&e.remove()},handerCodeChange:function(e){if(e!==this.cminstance.getValue()){var t=this.cminstance.getScrollInfo();this.cminstance.setValue(e),this.content=e,this.cminstance.scrollTo(t.left,t.top)}this.unseenLineMarkers()},unseenLineMarkers:function(){var e=this;void 0!==this.unseenLines&&void 0!==this.marker&&this.unseenLines.forEach(function(t){var n=e.cminstance.lineInfo(t);e.cminstance.setGutterMarker(t,\"breakpoints\",n.gutterMarkers?null:e.marker())})},switchMerge:function(){var e=this.cminstance.doc.history,t=this.cminstance.doc.cleanGeneration;this.options.value=this.cminstance.getValue(),this.destroy(),this.initialize(),this.cminstance.doc.history=e,this.cminstance.doc.cleanGeneration=t}},mounted:function(){this.initialize()},beforeDestroy:function(){this.destroy()}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(1),o=n.n(r);for(var i in r)[\"default\",\"default\"].indexOf(i)<0&&function(e){n.d(t,e,function(){return r[e]})}(i);var s=n(5),c=n(4),a=c(o.a,s.a,!1,null,null,null);t.default=a.exports},function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.install=t.codemirror=t.CodeMirror=void 0;var o=n(0),i=r(o),s=n(2),c=r(s),a=window.CodeMirror||i.default,u=function(e,t){t&&(t.options&&(c.default.props.globalOptions.default=function(){return t.options}),t.events&&(c.default.props.globalEvents.default=function(){return t.events})),e.component(c.default.name,c.default)},l={CodeMirror:a,codemirror:c.default,install:u};t.default=l,t.CodeMirror=a,t.codemirror=c.default,t.install=u},function(e,t){e.exports=function(e,t,n,r,o,i){var s,c=e=e||{},a=typeof e.default;\"object\"!==a&&\"function\"!==a||(s=e,c=e.default);var u=\"function\"==typeof c?c.options:c;t&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0),n&&(u.functional=!0),o&&(u._scopeId=o);var l;if(i?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},u._ssrRegister=l):r&&(l=r),l){var f=u.functional,d=f?u.render:u.beforeCreate;f?(u._injectStyles=l,u.render=function(e,t){return l.call(t),d(e,t)}):u.beforeCreate=d?[].concat(d,l):[l]}return{esModule:s,exports:c,options:u}}},function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"vue-codemirror\",class:{merge:e.merge}},[e.merge?n(\"div\",{ref:\"mergeview\"}):n(\"textarea\",{ref:\"textarea\",attrs:{name:e.name,placeholder:e.placeholder}})])},o=[],i={render:r,staticRenderFns:o};t.a=i}])});","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.link` method\n// https://tc39.es/ecma262/#sec-string.prototype.link\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('link') }, {\n  link: function link(url) {\n    return createHTML(this, 'a', 'href', url);\n  }\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// declare global: DOMRect\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var HINT_ELEMENT_CLASS        = \"CodeMirror-hint\";\n  var ACTIVE_HINT_ELEMENT_CLASS = \"CodeMirror-hint-active\";\n\n  // This is the old interface, kept around for now to stay\n  // backwards-compatible.\n  CodeMirror.showHint = function(cm, getHints, options) {\n    if (!getHints) return cm.showHint(options);\n    if (options && options.async) getHints.async = true;\n    var newOpts = {hint: getHints};\n    if (options) for (var prop in options) newOpts[prop] = options[prop];\n    return cm.showHint(newOpts);\n  };\n\n  CodeMirror.defineExtension(\"showHint\", function(options) {\n    options = parseOptions(this, this.getCursor(\"start\"), options);\n    var selections = this.listSelections()\n    if (selections.length > 1) return;\n    // By default, don't allow completion when something is selected.\n    // A hint function can have a `supportsSelection` property to\n    // indicate that it can handle selections.\n    if (this.somethingSelected()) {\n      if (!options.hint.supportsSelection) return;\n      // Don't try with cross-line selections\n      for (var i = 0; i < selections.length; i++)\n        if (selections[i].head.line != selections[i].anchor.line) return;\n    }\n\n    if (this.state.completionActive) this.state.completionActive.close();\n    var completion = this.state.completionActive = new Completion(this, options);\n    if (!completion.options.hint) return;\n\n    CodeMirror.signal(this, \"startCompletion\", this);\n    completion.update(true);\n  });\n\n  CodeMirror.defineExtension(\"closeHint\", function() {\n    if (this.state.completionActive) this.state.completionActive.close()\n  })\n\n  function Completion(cm, options) {\n    this.cm = cm;\n    this.options = options;\n    this.widget = null;\n    this.debounce = 0;\n    this.tick = 0;\n    this.startPos = this.cm.getCursor(\"start\");\n    this.startLen = this.cm.getLine(this.startPos.line).length - this.cm.getSelection().length;\n\n    if (this.options.updateOnCursorActivity) {\n      var self = this;\n      cm.on(\"cursorActivity\", this.activityFunc = function() { self.cursorActivity(); });\n    }\n  }\n\n  var requestAnimationFrame = window.requestAnimationFrame || function(fn) {\n    return setTimeout(fn, 1000/60);\n  };\n  var cancelAnimationFrame = window.cancelAnimationFrame || clearTimeout;\n\n  Completion.prototype = {\n    close: function() {\n      if (!this.active()) return;\n      this.cm.state.completionActive = null;\n      this.tick = null;\n      if (this.options.updateOnCursorActivity) {\n        this.cm.off(\"cursorActivity\", this.activityFunc);\n      }\n\n      if (this.widget && this.data) CodeMirror.signal(this.data, \"close\");\n      if (this.widget) this.widget.close();\n      CodeMirror.signal(this.cm, \"endCompletion\", this.cm);\n    },\n\n    active: function() {\n      return this.cm.state.completionActive == this;\n    },\n\n    pick: function(data, i) {\n      var completion = data.list[i], self = this;\n      this.cm.operation(function() {\n        if (completion.hint)\n          completion.hint(self.cm, data, completion);\n        else\n          self.cm.replaceRange(getText(completion), completion.from || data.from,\n                               completion.to || data.to, \"complete\");\n        CodeMirror.signal(data, \"pick\", completion);\n        self.cm.scrollIntoView();\n      });\n      if (this.options.closeOnPick) {\n        this.close();\n      }\n    },\n\n    cursorActivity: function() {\n      if (this.debounce) {\n        cancelAnimationFrame(this.debounce);\n        this.debounce = 0;\n      }\n\n      var identStart = this.startPos;\n      if(this.data) {\n        identStart = this.data.from;\n      }\n\n      var pos = this.cm.getCursor(), line = this.cm.getLine(pos.line);\n      if (pos.line != this.startPos.line || line.length - pos.ch != this.startLen - this.startPos.ch ||\n          pos.ch < identStart.ch || this.cm.somethingSelected() ||\n          (!pos.ch || this.options.closeCharacters.test(line.charAt(pos.ch - 1)))) {\n        this.close();\n      } else {\n        var self = this;\n        this.debounce = requestAnimationFrame(function() {self.update();});\n        if (this.widget) this.widget.disable();\n      }\n    },\n\n    update: function(first) {\n      if (this.tick == null) return\n      var self = this, myTick = ++this.tick\n      fetchHints(this.options.hint, this.cm, this.options, function(data) {\n        if (self.tick == myTick) self.finishUpdate(data, first)\n      })\n    },\n\n    finishUpdate: function(data, first) {\n      if (this.data) CodeMirror.signal(this.data, \"update\");\n\n      var picked = (this.widget && this.widget.picked) || (first && this.options.completeSingle);\n      if (this.widget) this.widget.close();\n\n      this.data = data;\n\n      if (data && data.list.length) {\n        if (picked && data.list.length == 1) {\n          this.pick(data, 0);\n        } else {\n          this.widget = new Widget(this, data);\n          CodeMirror.signal(data, \"shown\");\n        }\n      }\n    }\n  };\n\n  function parseOptions(cm, pos, options) {\n    var editor = cm.options.hintOptions;\n    var out = {};\n    for (var prop in defaultOptions) out[prop] = defaultOptions[prop];\n    if (editor) for (var prop in editor)\n      if (editor[prop] !== undefined) out[prop] = editor[prop];\n    if (options) for (var prop in options)\n      if (options[prop] !== undefined) out[prop] = options[prop];\n    if (out.hint.resolve) out.hint = out.hint.resolve(cm, pos)\n    return out;\n  }\n\n  function getText(completion) {\n    if (typeof completion == \"string\") return completion;\n    else return completion.text;\n  }\n\n  function buildKeyMap(completion, handle) {\n    var baseMap = {\n      Up: function() {handle.moveFocus(-1);},\n      Down: function() {handle.moveFocus(1);},\n      PageUp: function() {handle.moveFocus(-handle.menuSize() + 1, true);},\n      PageDown: function() {handle.moveFocus(handle.menuSize() - 1, true);},\n      Home: function() {handle.setFocus(0);},\n      End: function() {handle.setFocus(handle.length - 1);},\n      Enter: handle.pick,\n      Tab: handle.pick,\n      Esc: handle.close\n    };\n\n    var mac = /Mac/.test(navigator.platform);\n\n    if (mac) {\n      baseMap[\"Ctrl-P\"] = function() {handle.moveFocus(-1);};\n      baseMap[\"Ctrl-N\"] = function() {handle.moveFocus(1);};\n    }\n\n    var custom = completion.options.customKeys;\n    var ourMap = custom ? {} : baseMap;\n    function addBinding(key, val) {\n      var bound;\n      if (typeof val != \"string\")\n        bound = function(cm) { return val(cm, handle); };\n      // This mechanism is deprecated\n      else if (baseMap.hasOwnProperty(val))\n        bound = baseMap[val];\n      else\n        bound = val;\n      ourMap[key] = bound;\n    }\n    if (custom)\n      for (var key in custom) if (custom.hasOwnProperty(key))\n        addBinding(key, custom[key]);\n    var extra = completion.options.extraKeys;\n    if (extra)\n      for (var key in extra) if (extra.hasOwnProperty(key))\n        addBinding(key, extra[key]);\n    return ourMap;\n  }\n\n  function getHintElement(hintsElement, el) {\n    while (el && el != hintsElement) {\n      if (el.nodeName.toUpperCase() === \"LI\" && el.parentNode == hintsElement) return el;\n      el = el.parentNode;\n    }\n  }\n\n  function Widget(completion, data) {\n    this.id = \"cm-complete-\" + Math.floor(Math.random(1e6))\n    this.completion = completion;\n    this.data = data;\n    this.picked = false;\n    var widget = this, cm = completion.cm;\n    var ownerDocument = cm.getInputField().ownerDocument;\n    var parentWindow = ownerDocument.defaultView || ownerDocument.parentWindow;\n\n    var hints = this.hints = ownerDocument.createElement(\"ul\");\n    hints.setAttribute(\"role\", \"listbox\")\n    hints.setAttribute(\"aria-expanded\", \"true\")\n    hints.id = this.id\n    var theme = completion.cm.options.theme;\n    hints.className = \"CodeMirror-hints \" + theme;\n    this.selectedHint = data.selectedHint || 0;\n\n    var completions = data.list;\n    for (var i = 0; i < completions.length; ++i) {\n      var elt = hints.appendChild(ownerDocument.createElement(\"li\")), cur = completions[i];\n      var className = HINT_ELEMENT_CLASS + (i != this.selectedHint ? \"\" : \" \" + ACTIVE_HINT_ELEMENT_CLASS);\n      if (cur.className != null) className = cur.className + \" \" + className;\n      elt.className = className;\n      if (i == this.selectedHint) elt.setAttribute(\"aria-selected\", \"true\")\n      elt.id = this.id + \"-\" + i\n      elt.setAttribute(\"role\", \"option\")\n      if (cur.render) cur.render(elt, data, cur);\n      else elt.appendChild(ownerDocument.createTextNode(cur.displayText || getText(cur)));\n      elt.hintId = i;\n    }\n\n    var container = completion.options.container || ownerDocument.body;\n    var pos = cm.cursorCoords(completion.options.alignWithWord ? data.from : null);\n    var left = pos.left, top = pos.bottom, below = true;\n    var offsetLeft = 0, offsetTop = 0;\n    if (container !== ownerDocument.body) {\n      // We offset the cursor position because left and top are relative to the offsetParent's top left corner.\n      var isContainerPositioned = ['absolute', 'relative', 'fixed'].indexOf(parentWindow.getComputedStyle(container).position) !== -1;\n      var offsetParent = isContainerPositioned ? container : container.offsetParent;\n      var offsetParentPosition = offsetParent.getBoundingClientRect();\n      var bodyPosition = ownerDocument.body.getBoundingClientRect();\n      offsetLeft = (offsetParentPosition.left - bodyPosition.left - offsetParent.scrollLeft);\n      offsetTop = (offsetParentPosition.top - bodyPosition.top - offsetParent.scrollTop);\n    }\n    hints.style.left = (left - offsetLeft) + \"px\";\n    hints.style.top = (top - offsetTop) + \"px\";\n\n    // If we're at the edge of the screen, then we want the menu to appear on the left of the cursor.\n    var winW = parentWindow.innerWidth || Math.max(ownerDocument.body.offsetWidth, ownerDocument.documentElement.offsetWidth);\n    var winH = parentWindow.innerHeight || Math.max(ownerDocument.body.offsetHeight, ownerDocument.documentElement.offsetHeight);\n    container.appendChild(hints);\n    cm.getInputField().setAttribute(\"aria-autocomplete\", \"list\")\n    cm.getInputField().setAttribute(\"aria-owns\", this.id)\n    cm.getInputField().setAttribute(\"aria-activedescendant\", this.id + \"-\" + this.selectedHint)\n\n    var box = completion.options.moveOnOverlap ? hints.getBoundingClientRect() : new DOMRect();\n    var scrolls = completion.options.paddingForScrollbar ? hints.scrollHeight > hints.clientHeight + 1 : false;\n\n    // Compute in the timeout to avoid reflow on init\n    var startScroll;\n    setTimeout(function() { startScroll = cm.getScrollInfo(); });\n\n    var overlapY = box.bottom - winH;\n    if (overlapY > 0) {\n      var height = box.bottom - box.top, curTop = pos.top - (pos.bottom - box.top);\n      if (curTop - height > 0) { // Fits above cursor\n        hints.style.top = (top = pos.top - height - offsetTop) + \"px\";\n        below = false;\n      } else if (height > winH) {\n        hints.style.height = (winH - 5) + \"px\";\n        hints.style.top = (top = pos.bottom - box.top - offsetTop) + \"px\";\n        var cursor = cm.getCursor();\n        if (data.from.ch != cursor.ch) {\n          pos = cm.cursorCoords(cursor);\n          hints.style.left = (left = pos.left - offsetLeft) + \"px\";\n          box = hints.getBoundingClientRect();\n        }\n      }\n    }\n    var overlapX = box.right - winW;\n    if (scrolls) overlapX += cm.display.nativeBarWidth;\n    if (overlapX > 0) {\n      if (box.right - box.left > winW) {\n        hints.style.width = (winW - 5) + \"px\";\n        overlapX -= (box.right - box.left) - winW;\n      }\n      hints.style.left = (left = pos.left - overlapX - offsetLeft) + \"px\";\n    }\n    if (scrolls) for (var node = hints.firstChild; node; node = node.nextSibling)\n      node.style.paddingRight = cm.display.nativeBarWidth + \"px\"\n\n    cm.addKeyMap(this.keyMap = buildKeyMap(completion, {\n      moveFocus: function(n, avoidWrap) { widget.changeActive(widget.selectedHint + n, avoidWrap); },\n      setFocus: function(n) { widget.changeActive(n); },\n      menuSize: function() { return widget.screenAmount(); },\n      length: completions.length,\n      close: function() { completion.close(); },\n      pick: function() { widget.pick(); },\n      data: data\n    }));\n\n    if (completion.options.closeOnUnfocus) {\n      var closingOnBlur;\n      cm.on(\"blur\", this.onBlur = function() { closingOnBlur = setTimeout(function() { completion.close(); }, 100); });\n      cm.on(\"focus\", this.onFocus = function() { clearTimeout(closingOnBlur); });\n    }\n\n    cm.on(\"scroll\", this.onScroll = function() {\n      var curScroll = cm.getScrollInfo(), editor = cm.getWrapperElement().getBoundingClientRect();\n      if (!startScroll) startScroll = cm.getScrollInfo();\n      var newTop = top + startScroll.top - curScroll.top;\n      var point = newTop - (parentWindow.pageYOffset || (ownerDocument.documentElement || ownerDocument.body).scrollTop);\n      if (!below) point += hints.offsetHeight;\n      if (point <= editor.top || point >= editor.bottom) return completion.close();\n      hints.style.top = newTop + \"px\";\n      hints.style.left = (left + startScroll.left - curScroll.left) + \"px\";\n    });\n\n    CodeMirror.on(hints, \"dblclick\", function(e) {\n      var t = getHintElement(hints, e.target || e.srcElement);\n      if (t && t.hintId != null) {widget.changeActive(t.hintId); widget.pick();}\n    });\n\n    CodeMirror.on(hints, \"click\", function(e) {\n      var t = getHintElement(hints, e.target || e.srcElement);\n      if (t && t.hintId != null) {\n        widget.changeActive(t.hintId);\n        if (completion.options.completeOnSingleClick) widget.pick();\n      }\n    });\n\n    CodeMirror.on(hints, \"mousedown\", function() {\n      setTimeout(function(){cm.focus();}, 20);\n    });\n\n    // The first hint doesn't need to be scrolled to on init\n    var selectedHintRange = this.getSelectedHintRange();\n    if (selectedHintRange.from !== 0 || selectedHintRange.to !== 0) {\n      this.scrollToActive();\n    }\n\n    CodeMirror.signal(data, \"select\", completions[this.selectedHint], hints.childNodes[this.selectedHint]);\n    return true;\n  }\n\n  Widget.prototype = {\n    close: function() {\n      if (this.completion.widget != this) return;\n      this.completion.widget = null;\n      if (this.hints.parentNode) this.hints.parentNode.removeChild(this.hints);\n      this.completion.cm.removeKeyMap(this.keyMap);\n      var input = this.completion.cm.getInputField()\n      input.removeAttribute(\"aria-activedescendant\")\n      input.removeAttribute(\"aria-owns\")\n\n      var cm = this.completion.cm;\n      if (this.completion.options.closeOnUnfocus) {\n        cm.off(\"blur\", this.onBlur);\n        cm.off(\"focus\", this.onFocus);\n      }\n      cm.off(\"scroll\", this.onScroll);\n    },\n\n    disable: function() {\n      this.completion.cm.removeKeyMap(this.keyMap);\n      var widget = this;\n      this.keyMap = {Enter: function() { widget.picked = true; }};\n      this.completion.cm.addKeyMap(this.keyMap);\n    },\n\n    pick: function() {\n      this.completion.pick(this.data, this.selectedHint);\n    },\n\n    changeActive: function(i, avoidWrap) {\n      if (i >= this.data.list.length)\n        i = avoidWrap ? this.data.list.length - 1 : 0;\n      else if (i < 0)\n        i = avoidWrap ? 0  : this.data.list.length - 1;\n      if (this.selectedHint == i) return;\n      var node = this.hints.childNodes[this.selectedHint];\n      if (node) {\n        node.className = node.className.replace(\" \" + ACTIVE_HINT_ELEMENT_CLASS, \"\");\n        node.removeAttribute(\"aria-selected\")\n      }\n      node = this.hints.childNodes[this.selectedHint = i];\n      node.className += \" \" + ACTIVE_HINT_ELEMENT_CLASS;\n      node.setAttribute(\"aria-selected\", \"true\")\n      this.completion.cm.getInputField().setAttribute(\"aria-activedescendant\", node.id)\n      this.scrollToActive()\n      CodeMirror.signal(this.data, \"select\", this.data.list[this.selectedHint], node);\n    },\n\n    scrollToActive: function() {\n      var selectedHintRange = this.getSelectedHintRange();\n      var node1 = this.hints.childNodes[selectedHintRange.from];\n      var node2 = this.hints.childNodes[selectedHintRange.to];\n      var firstNode = this.hints.firstChild;\n      if (node1.offsetTop < this.hints.scrollTop)\n        this.hints.scrollTop = node1.offsetTop - firstNode.offsetTop;\n      else if (node2.offsetTop + node2.offsetHeight > this.hints.scrollTop + this.hints.clientHeight)\n        this.hints.scrollTop = node2.offsetTop + node2.offsetHeight - this.hints.clientHeight + firstNode.offsetTop;\n    },\n\n    screenAmount: function() {\n      return Math.floor(this.hints.clientHeight / this.hints.firstChild.offsetHeight) || 1;\n    },\n\n    getSelectedHintRange: function() {\n      var margin = this.completion.options.scrollMargin || 0;\n      return {\n        from: Math.max(0, this.selectedHint - margin),\n        to: Math.min(this.data.list.length - 1, this.selectedHint + margin),\n      };\n    }\n  };\n\n  function applicableHelpers(cm, helpers) {\n    if (!cm.somethingSelected()) return helpers\n    var result = []\n    for (var i = 0; i < helpers.length; i++)\n      if (helpers[i].supportsSelection) result.push(helpers[i])\n    return result\n  }\n\n  function fetchHints(hint, cm, options, callback) {\n    if (hint.async) {\n      hint(cm, callback, options)\n    } else {\n      var result = hint(cm, options)\n      if (result && result.then) result.then(callback)\n      else callback(result)\n    }\n  }\n\n  function resolveAutoHints(cm, pos) {\n    var helpers = cm.getHelpers(pos, \"hint\"), words\n    if (helpers.length) {\n      var resolved = function(cm, callback, options) {\n        var app = applicableHelpers(cm, helpers);\n        function run(i) {\n          if (i == app.length) return callback(null)\n          fetchHints(app[i], cm, options, function(result) {\n            if (result && result.list.length > 0) callback(result)\n            else run(i + 1)\n          })\n        }\n        run(0)\n      }\n      resolved.async = true\n      resolved.supportsSelection = true\n      return resolved\n    } else if (words = cm.getHelper(cm.getCursor(), \"hintWords\")) {\n      return function(cm) { return CodeMirror.hint.fromList(cm, {words: words}) }\n    } else if (CodeMirror.hint.anyword) {\n      return function(cm, options) { return CodeMirror.hint.anyword(cm, options) }\n    } else {\n      return function() {}\n    }\n  }\n\n  CodeMirror.registerHelper(\"hint\", \"auto\", {\n    resolve: resolveAutoHints\n  });\n\n  CodeMirror.registerHelper(\"hint\", \"fromList\", function(cm, options) {\n    var cur = cm.getCursor(), token = cm.getTokenAt(cur)\n    var term, from = CodeMirror.Pos(cur.line, token.start), to = cur\n    if (token.start < cur.ch && /\\w/.test(token.string.charAt(cur.ch - token.start - 1))) {\n      term = token.string.substr(0, cur.ch - token.start)\n    } else {\n      term = \"\"\n      from = cur\n    }\n    var found = [];\n    for (var i = 0; i < options.words.length; i++) {\n      var word = options.words[i];\n      if (word.slice(0, term.length) == term)\n        found.push(word);\n    }\n\n    if (found.length) return {list: found, from: from, to: to};\n  });\n\n  CodeMirror.commands.autocomplete = CodeMirror.showHint;\n\n  var defaultOptions = {\n    hint: CodeMirror.hint.auto,\n    completeSingle: true,\n    alignWithWord: true,\n    closeCharacters: /[\\s()\\[\\]{};:>,]/,\n    closeOnPick: true,\n    closeOnUnfocus: true,\n    updateOnCursorActivity: true,\n    completeOnSingleClick: true,\n    container: null,\n    customKeys: null,\n    extraKeys: null,\n    paddingForScrollbar: true,\n    moveOnOverlap: true,\n  };\n\n  CodeMirror.defineOption(\"hintOptions\", null);\n});\n","import globalThis from \"./globalThis.js\";\nexport function pick(obj, ...attr) {\n    return attr.reduce((acc, k) => {\n        if (obj.hasOwnProperty(k)) {\n            acc[k] = obj[k];\n        }\n        return acc;\n    }, {});\n}\n// Keep a reference to the real timeout functions so they can be used when overridden\nconst NATIVE_SET_TIMEOUT = setTimeout;\nconst NATIVE_CLEAR_TIMEOUT = clearTimeout;\nexport function installTimerFunctions(obj, opts) {\n    if (opts.useNativeTimers) {\n        obj.setTimeoutFn = NATIVE_SET_TIMEOUT.bind(globalThis);\n        obj.clearTimeoutFn = NATIVE_CLEAR_TIMEOUT.bind(globalThis);\n    }\n    else {\n        obj.setTimeoutFn = setTimeout.bind(globalThis);\n        obj.clearTimeoutFn = clearTimeout.bind(globalThis);\n    }\n}\n","\n/**\n * Expose `Emitter`.\n */\n\nexports.Emitter = Emitter;\n\n/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nfunction Emitter(obj) {\n  if (obj) return mixin(obj);\n}\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  function on() {\n    this.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks['$' + event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks['$' + event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n\n  // Remove event specific arrays for event types that no\n  // one is subscribed for to avoid memory leak.\n  if (callbacks.length === 0) {\n    delete this._callbacks['$' + event];\n  }\n\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n\n  var args = new Array(arguments.length - 1)\n    , callbacks = this._callbacks['$' + event];\n\n  for (var i = 1; i < arguments.length; i++) {\n    args[i - 1] = arguments[i];\n  }\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n// alias used for reserved events (protected method)\nEmitter.prototype.emitReserved = Emitter.prototype.emit;\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks['$' + event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"))\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod)\n  else // Plain browser env\n    mod(CodeMirror)\n})(function(CodeMirror) {\n  \"use strict\"\n  var Pos = CodeMirror.Pos\n\n  function regexpFlags(regexp) {\n    var flags = regexp.flags\n    return flags != null ? flags : (regexp.ignoreCase ? \"i\" : \"\")\n      + (regexp.global ? \"g\" : \"\")\n      + (regexp.multiline ? \"m\" : \"\")\n  }\n\n  function ensureFlags(regexp, flags) {\n    var current = regexpFlags(regexp), target = current\n    for (var i = 0; i < flags.length; i++) if (target.indexOf(flags.charAt(i)) == -1)\n      target += flags.charAt(i)\n    return current == target ? regexp : new RegExp(regexp.source, target)\n  }\n\n  function maybeMultiline(regexp) {\n    return /\\\\s|\\\\n|\\n|\\\\W|\\\\D|\\[\\^/.test(regexp.source)\n  }\n\n  function searchRegexpForward(doc, regexp, start) {\n    regexp = ensureFlags(regexp, \"g\")\n    for (var line = start.line, ch = start.ch, last = doc.lastLine(); line <= last; line++, ch = 0) {\n      regexp.lastIndex = ch\n      var string = doc.getLine(line), match = regexp.exec(string)\n      if (match)\n        return {from: Pos(line, match.index),\n                to: Pos(line, match.index + match[0].length),\n                match: match}\n    }\n  }\n\n  function searchRegexpForwardMultiline(doc, regexp, start) {\n    if (!maybeMultiline(regexp)) return searchRegexpForward(doc, regexp, start)\n\n    regexp = ensureFlags(regexp, \"gm\")\n    var string, chunk = 1\n    for (var line = start.line, last = doc.lastLine(); line <= last;) {\n      // This grows the search buffer in exponentially-sized chunks\n      // between matches, so that nearby matches are fast and don't\n      // require concatenating the whole document (in case we're\n      // searching for something that has tons of matches), but at the\n      // same time, the amount of retries is limited.\n      for (var i = 0; i < chunk; i++) {\n        if (line > last) break\n        var curLine = doc.getLine(line++)\n        string = string == null ? curLine : string + \"\\n\" + curLine\n      }\n      chunk = chunk * 2\n      regexp.lastIndex = start.ch\n      var match = regexp.exec(string)\n      if (match) {\n        var before = string.slice(0, match.index).split(\"\\n\"), inside = match[0].split(\"\\n\")\n        var startLine = start.line + before.length - 1, startCh = before[before.length - 1].length\n        return {from: Pos(startLine, startCh),\n                to: Pos(startLine + inside.length - 1,\n                        inside.length == 1 ? startCh + inside[0].length : inside[inside.length - 1].length),\n                match: match}\n      }\n    }\n  }\n\n  function lastMatchIn(string, regexp, endMargin) {\n    var match, from = 0\n    while (from <= string.length) {\n      regexp.lastIndex = from\n      var newMatch = regexp.exec(string)\n      if (!newMatch) break\n      var end = newMatch.index + newMatch[0].length\n      if (end > string.length - endMargin) break\n      if (!match || end > match.index + match[0].length)\n        match = newMatch\n      from = newMatch.index + 1\n    }\n    return match\n  }\n\n  function searchRegexpBackward(doc, regexp, start) {\n    regexp = ensureFlags(regexp, \"g\")\n    for (var line = start.line, ch = start.ch, first = doc.firstLine(); line >= first; line--, ch = -1) {\n      var string = doc.getLine(line)\n      var match = lastMatchIn(string, regexp, ch < 0 ? 0 : string.length - ch)\n      if (match)\n        return {from: Pos(line, match.index),\n                to: Pos(line, match.index + match[0].length),\n                match: match}\n    }\n  }\n\n  function searchRegexpBackwardMultiline(doc, regexp, start) {\n    if (!maybeMultiline(regexp)) return searchRegexpBackward(doc, regexp, start)\n    regexp = ensureFlags(regexp, \"gm\")\n    var string, chunkSize = 1, endMargin = doc.getLine(start.line).length - start.ch\n    for (var line = start.line, first = doc.firstLine(); line >= first;) {\n      for (var i = 0; i < chunkSize && line >= first; i++) {\n        var curLine = doc.getLine(line--)\n        string = string == null ? curLine : curLine + \"\\n\" + string\n      }\n      chunkSize *= 2\n\n      var match = lastMatchIn(string, regexp, endMargin)\n      if (match) {\n        var before = string.slice(0, match.index).split(\"\\n\"), inside = match[0].split(\"\\n\")\n        var startLine = line + before.length, startCh = before[before.length - 1].length\n        return {from: Pos(startLine, startCh),\n                to: Pos(startLine + inside.length - 1,\n                        inside.length == 1 ? startCh + inside[0].length : inside[inside.length - 1].length),\n                match: match}\n      }\n    }\n  }\n\n  var doFold, noFold\n  if (String.prototype.normalize) {\n    doFold = function(str) { return str.normalize(\"NFD\").toLowerCase() }\n    noFold = function(str) { return str.normalize(\"NFD\") }\n  } else {\n    doFold = function(str) { return str.toLowerCase() }\n    noFold = function(str) { return str }\n  }\n\n  // Maps a position in a case-folded line back to a position in the original line\n  // (compensating for codepoints increasing in number during folding)\n  function adjustPos(orig, folded, pos, foldFunc) {\n    if (orig.length == folded.length) return pos\n    for (var min = 0, max = pos + Math.max(0, orig.length - folded.length);;) {\n      if (min == max) return min\n      var mid = (min + max) >> 1\n      var len = foldFunc(orig.slice(0, mid)).length\n      if (len == pos) return mid\n      else if (len > pos) max = mid\n      else min = mid + 1\n    }\n  }\n\n  function searchStringForward(doc, query, start, caseFold) {\n    // Empty string would match anything and never progress, so we\n    // define it to match nothing instead.\n    if (!query.length) return null\n    var fold = caseFold ? doFold : noFold\n    var lines = fold(query).split(/\\r|\\n\\r?/)\n\n    search: for (var line = start.line, ch = start.ch, last = doc.lastLine() + 1 - lines.length; line <= last; line++, ch = 0) {\n      var orig = doc.getLine(line).slice(ch), string = fold(orig)\n      if (lines.length == 1) {\n        var found = string.indexOf(lines[0])\n        if (found == -1) continue search\n        var start = adjustPos(orig, string, found, fold) + ch\n        return {from: Pos(line, adjustPos(orig, string, found, fold) + ch),\n                to: Pos(line, adjustPos(orig, string, found + lines[0].length, fold) + ch)}\n      } else {\n        var cutFrom = string.length - lines[0].length\n        if (string.slice(cutFrom) != lines[0]) continue search\n        for (var i = 1; i < lines.length - 1; i++)\n          if (fold(doc.getLine(line + i)) != lines[i]) continue search\n        var end = doc.getLine(line + lines.length - 1), endString = fold(end), lastLine = lines[lines.length - 1]\n        if (endString.slice(0, lastLine.length) != lastLine) continue search\n        return {from: Pos(line, adjustPos(orig, string, cutFrom, fold) + ch),\n                to: Pos(line + lines.length - 1, adjustPos(end, endString, lastLine.length, fold))}\n      }\n    }\n  }\n\n  function searchStringBackward(doc, query, start, caseFold) {\n    if (!query.length) return null\n    var fold = caseFold ? doFold : noFold\n    var lines = fold(query).split(/\\r|\\n\\r?/)\n\n    search: for (var line = start.line, ch = start.ch, first = doc.firstLine() - 1 + lines.length; line >= first; line--, ch = -1) {\n      var orig = doc.getLine(line)\n      if (ch > -1) orig = orig.slice(0, ch)\n      var string = fold(orig)\n      if (lines.length == 1) {\n        var found = string.lastIndexOf(lines[0])\n        if (found == -1) continue search\n        return {from: Pos(line, adjustPos(orig, string, found, fold)),\n                to: Pos(line, adjustPos(orig, string, found + lines[0].length, fold))}\n      } else {\n        var lastLine = lines[lines.length - 1]\n        if (string.slice(0, lastLine.length) != lastLine) continue search\n        for (var i = 1, start = line - lines.length + 1; i < lines.length - 1; i++)\n          if (fold(doc.getLine(start + i)) != lines[i]) continue search\n        var top = doc.getLine(line + 1 - lines.length), topString = fold(top)\n        if (topString.slice(topString.length - lines[0].length) != lines[0]) continue search\n        return {from: Pos(line + 1 - lines.length, adjustPos(top, topString, top.length - lines[0].length, fold)),\n                to: Pos(line, adjustPos(orig, string, lastLine.length, fold))}\n      }\n    }\n  }\n\n  function SearchCursor(doc, query, pos, options) {\n    this.atOccurrence = false\n    this.afterEmptyMatch = false\n    this.doc = doc\n    pos = pos ? doc.clipPos(pos) : Pos(0, 0)\n    this.pos = {from: pos, to: pos}\n\n    var caseFold\n    if (typeof options == \"object\") {\n      caseFold = options.caseFold\n    } else { // Backwards compat for when caseFold was the 4th argument\n      caseFold = options\n      options = null\n    }\n\n    if (typeof query == \"string\") {\n      if (caseFold == null) caseFold = false\n      this.matches = function(reverse, pos) {\n        return (reverse ? searchStringBackward : searchStringForward)(doc, query, pos, caseFold)\n      }\n    } else {\n      query = ensureFlags(query, \"gm\")\n      if (!options || options.multiline !== false)\n        this.matches = function(reverse, pos) {\n          return (reverse ? searchRegexpBackwardMultiline : searchRegexpForwardMultiline)(doc, query, pos)\n        }\n      else\n        this.matches = function(reverse, pos) {\n          return (reverse ? searchRegexpBackward : searchRegexpForward)(doc, query, pos)\n        }\n    }\n  }\n\n  SearchCursor.prototype = {\n    findNext: function() {return this.find(false)},\n    findPrevious: function() {return this.find(true)},\n\n    find: function(reverse) {\n      var head = this.doc.clipPos(reverse ? this.pos.from : this.pos.to);\n      if (this.afterEmptyMatch && this.atOccurrence) {\n        // do not return the same 0 width match twice\n        head = Pos(head.line, head.ch)\n        if (reverse) {\n          head.ch--;\n          if (head.ch < 0) {\n            head.line--;\n            head.ch = (this.doc.getLine(head.line) || \"\").length;\n          }\n        } else {\n          head.ch++;\n          if (head.ch > (this.doc.getLine(head.line) || \"\").length) {\n            head.ch = 0;\n            head.line++;\n          }\n        }\n        if (CodeMirror.cmpPos(head, this.doc.clipPos(head)) != 0) {\n           return this.atOccurrence = false\n        }\n      }\n      var result = this.matches(reverse, head)\n      this.afterEmptyMatch = result && CodeMirror.cmpPos(result.from, result.to) == 0\n\n      if (result) {\n        this.pos = result\n        this.atOccurrence = true\n        return this.pos.match || true\n      } else {\n        var end = Pos(reverse ? this.doc.firstLine() : this.doc.lastLine() + 1, 0)\n        this.pos = {from: end, to: end}\n        return this.atOccurrence = false\n      }\n    },\n\n    from: function() {if (this.atOccurrence) return this.pos.from},\n    to: function() {if (this.atOccurrence) return this.pos.to},\n\n    replace: function(newText, origin) {\n      if (!this.atOccurrence) return\n      var lines = CodeMirror.splitLines(newText)\n      this.doc.replaceRange(lines, this.pos.from, this.pos.to, origin)\n      this.pos.to = Pos(this.pos.from.line + lines.length - 1,\n                        lines[lines.length - 1].length + (lines.length == 1 ? this.pos.from.ch : 0))\n    }\n  }\n\n  CodeMirror.defineExtension(\"getSearchCursor\", function(query, pos, caseFold) {\n    return new SearchCursor(this.doc, query, pos, caseFold)\n  })\n  CodeMirror.defineDocExtension(\"getSearchCursor\", function(query, pos, caseFold) {\n    return new SearchCursor(this, query, pos, caseFold)\n  })\n\n  CodeMirror.defineExtension(\"selectMatches\", function(query, caseFold) {\n    var ranges = []\n    var cur = this.getSearchCursor(query, this.getCursor(\"from\"), caseFold)\n    while (cur.findNext()) {\n      if (CodeMirror.cmpPos(cur.to(), this.getCursor(\"to\")) > 0) break\n      ranges.push({anchor: cur.from(), head: cur.to()})\n    }\n    if (ranges.length)\n      this.setSelections(ranges, 0)\n  })\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.small` method\n// https://tc39.es/ecma262/#sec-string.prototype.small\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('small') }, {\n  small: function small() {\n    return createHTML(this, 'small', '', '');\n  }\n});\n","\n/**\n * Module exports.\n *\n * Logic borrowed from Modernizr:\n *\n *   - https://github.com/Modernizr/Modernizr/blob/master/feature-detects/cors.js\n */\n\ntry {\n  module.exports = typeof XMLHttpRequest !== 'undefined' &&\n    'withCredentials' in new XMLHttpRequest();\n} catch (err) {\n  // if XMLHttp support is disabled in IE then it will throw\n  // when trying to create\n  module.exports = false;\n}\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  CodeMirror.defineOption(\"placeholder\", \"\", function(cm, val, old) {\n    var prev = old && old != CodeMirror.Init;\n    if (val && !prev) {\n      cm.on(\"blur\", onBlur);\n      cm.on(\"change\", onChange);\n      cm.on(\"swapDoc\", onChange);\n      CodeMirror.on(cm.getInputField(), \"compositionupdate\", cm.state.placeholderCompose = function() { onComposition(cm) })\n      onChange(cm);\n    } else if (!val && prev) {\n      cm.off(\"blur\", onBlur);\n      cm.off(\"change\", onChange);\n      cm.off(\"swapDoc\", onChange);\n      CodeMirror.off(cm.getInputField(), \"compositionupdate\", cm.state.placeholderCompose)\n      clearPlaceholder(cm);\n      var wrapper = cm.getWrapperElement();\n      wrapper.className = wrapper.className.replace(\" CodeMirror-empty\", \"\");\n    }\n\n    if (val && !cm.hasFocus()) onBlur(cm);\n  });\n\n  function clearPlaceholder(cm) {\n    if (cm.state.placeholder) {\n      cm.state.placeholder.parentNode.removeChild(cm.state.placeholder);\n      cm.state.placeholder = null;\n    }\n  }\n  function setPlaceholder(cm) {\n    clearPlaceholder(cm);\n    var elt = cm.state.placeholder = document.createElement(\"pre\");\n    elt.style.cssText = \"height: 0; overflow: visible\";\n    elt.style.direction = cm.getOption(\"direction\");\n    elt.className = \"CodeMirror-placeholder CodeMirror-line-like\";\n    var placeHolder = cm.getOption(\"placeholder\")\n    if (typeof placeHolder == \"string\") placeHolder = document.createTextNode(placeHolder)\n    elt.appendChild(placeHolder)\n    cm.display.lineSpace.insertBefore(elt, cm.display.lineSpace.firstChild);\n  }\n\n  function onComposition(cm) {\n    setTimeout(function() {\n      var empty = false\n      if (cm.lineCount() == 1) {\n        var input = cm.getInputField()\n        empty = input.nodeName == \"TEXTAREA\" ? !cm.getLine(0).length\n          : !/[^\\u200b]/.test(input.querySelector(\".CodeMirror-line\").textContent)\n      }\n      if (empty) setPlaceholder(cm)\n      else clearPlaceholder(cm)\n    }, 20)\n  }\n\n  function onBlur(cm) {\n    if (isEmpty(cm)) setPlaceholder(cm);\n  }\n  function onChange(cm) {\n    var wrapper = cm.getWrapperElement(), empty = isEmpty(cm);\n    wrapper.className = wrapper.className.replace(\" CodeMirror-empty\", \"\") + (empty ? \" CodeMirror-empty\" : \"\");\n\n    if (empty) setPlaceholder(cm);\n    else clearPlaceholder(cm);\n  }\n\n  function isEmpty(cm) {\n    return (cm.lineCount() === 1) && (cm.getLine(0) === \"\");\n  }\n});\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","var $ = require('../internals/export');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar apply = require('../internals/function-apply');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\n\nvar Array = global.Array;\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar exec = uncurryThis(/./.exec);\nvar charAt = uncurryThis(''.charAt);\nvar charCodeAt = uncurryThis(''.charCodeAt);\nvar replace = uncurryThis(''.replace);\nvar numberToString = uncurryThis(1.0.toString);\n\nvar tester = /[\\uD800-\\uDFFF]/g;\nvar low = /^[\\uD800-\\uDBFF]$/;\nvar hi = /^[\\uDC00-\\uDFFF]$/;\n\nvar fix = function (match, offset, string) {\n  var prev = charAt(string, offset - 1);\n  var next = charAt(string, offset + 1);\n  if ((exec(low, match) && !exec(hi, next)) || (exec(hi, match) && !exec(low, prev))) {\n    return '\\\\u' + numberToString(charCodeAt(match, 0), 16);\n  } return match;\n};\n\nvar FORCED = fails(function () {\n  return $stringify('\\uDF06\\uD834') !== '\"\\\\udf06\\\\ud834\"'\n    || $stringify('\\uDEAD') !== '\"\\\\udead\"';\n});\n\nif ($stringify) {\n  // `JSON.stringify` method\n  // https://tc39.es/ecma262/#sec-json.stringify\n  // https://github.com/tc39/proposal-well-formed-stringify\n  $({ target: 'JSON', stat: true, forced: FORCED }, {\n    // eslint-disable-next-line no-unused-vars -- required for `.length`\n    stringify: function stringify(it, replacer, space) {\n      for (var i = 0, l = arguments.length, args = Array(l); i < l; i++) args[i] = arguments[i];\n      var result = apply($stringify, null, args);\n      return typeof result == 'string' ? replace(result, tester, fix) : result;\n    }\n  });\n}\n"],"sourceRoot":""}