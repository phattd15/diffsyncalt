{"version":3,"sources":["webpack:///./node_modules/yeast/index.js","webpack:///./node_modules/backo2/index.js","webpack:///./node_modules/codemirror/addon/search/search.js","webpack:///./node_modules/codemirror/addon/edit/closebrackets.js","webpack:///./src/util/textController.js","webpack:///./node_modules/core-js/internals/same-value.js","webpack:///./node_modules/engine.io-client/build/esm/transports/websocket.js","webpack:///./node_modules/base64-js/index.js","webpack:///./node_modules/engine.io-client/build/esm/globalThis.browser.js","webpack:///./node_modules/codemirror/addon/dialog/dialog.js","webpack:///./node_modules/core-js/modules/es.object.is.js","webpack:///./node_modules/engine.io-parser/build/esm/commons.js","webpack:///./node_modules/engine.io-parser/build/esm/encodePacket.browser.js","webpack:///./node_modules/base64-arraybuffer/dist/base64-arraybuffer.es5.js","webpack:///./node_modules/engine.io-parser/build/esm/decodePacket.browser.js","webpack:///./node_modules/engine.io-parser/build/esm/index.js","webpack:///./node_modules/engine.io-client/build/esm/transport.js","webpack:///./node_modules/core-js/modules/es.map.js","webpack:///./node_modules/parseqs/index.js","webpack:///./node_modules/parseuri/index.js","webpack:///./node_modules/codemirror/lib/codemirror.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/diff-match-patch/index.js","webpack:///./node_modules/core-js/internals/collection-strong.js","webpack:///./node_modules/core-js/internals/collection.js","webpack:///./node_modules/codemirror/addon/comment/comment.js","webpack:///./node_modules/engine.io-client/build/esm/transports/websocket-constructor.browser.js","webpack:///./src/views/CodePair.vue?3b96","webpack:///./node_modules/socket.io-client/build/esm/url.js","webpack:///./node_modules/engine.io-client/build/esm/transports/xmlhttprequest.browser.js","webpack:///./node_modules/engine.io-client/build/esm/transports/polling.js","webpack:///./node_modules/engine.io-client/build/esm/transports/polling-xhr.js","webpack:///./node_modules/engine.io-client/build/esm/transports/index.js","webpack:///./node_modules/engine.io-client/build/esm/socket.js","webpack:///./node_modules/engine.io-client/build/esm/index.js","webpack:///./node_modules/socket.io-parser/build/esm/is-binary.js","webpack:///./node_modules/socket.io-parser/build/esm/binary.js","webpack:///./node_modules/socket.io-parser/build/esm/index.js","webpack:///./node_modules/socket.io-client/build/esm/on.js","webpack:///./node_modules/socket.io-client/build/esm/socket.js","webpack:///./node_modules/socket.io-client/build/esm/manager.js","webpack:///./node_modules/socket.io-client/build/esm/index.js","webpack:///./src/components/Editor.vue?1c0d","webpack:///src/components/Editor.vue","webpack:///./src/components/Editor.vue?5a9d","webpack:///../../../src/components/VGrid/VCol.ts","webpack:///../../../src/components/VGrid/VRow.ts","webpack:///./src/components/Editor.vue","webpack:///src/views/CodePair.vue","webpack:///./src/views/CodePair.vue?7716","webpack:///../../../src/components/VGrid/grid.ts","webpack:///../../../src/components/VGrid/VContainer.ts","webpack:///../../../src/components/VForm/VForm.ts","webpack:///../../../src/components/VSnackbar/VSnackbar.ts","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///../../../src/components/VIcon/VIcon.ts","webpack:///../../../src/components/VIcon/index.ts","webpack:///../../../src/components/VLabel/VLabel.ts","webpack:///../../../src/components/VLabel/index.ts","webpack:///../../../src/components/VMessages/VMessages.ts","webpack:///../../../src/components/VMessages/index.ts","webpack:///../../../src/mixins/validatable/index.ts","webpack:///../../../src/components/VInput/VInput.ts","webpack:///../../../src/components/VInput/index.ts","webpack:///../../../src/components/VCounter/VCounter.ts","webpack:///../../../src/components/VCounter/index.ts","webpack:///../../../src/mixins/intersectable/index.ts","webpack:///../../../src/directives/resize/index.ts","webpack:///../../src/util/dom.ts","webpack:///../../../src/components/VTextField/VTextField.ts","webpack:///./src/views/CodePair.vue","webpack:///./node_modules/vue-codemirror/dist/vue-codemirror.js","webpack:///./node_modules/ieee754/index.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/codemirror/addon/hint/show-hint.js","webpack:///./node_modules/xhr2/lib/browser.js","webpack:///./node_modules/engine.io-client/build/esm/util.js","webpack:///./node_modules/@socket.io/component-emitter/index.js","webpack:///./node_modules/buffer/index.js","webpack:///./node_modules/codemirror/addon/search/searchcursor.js","webpack:///./node_modules/has-cors/index.js","webpack:///./node_modules/codemirror/addon/display/placeholder.js","webpack:///./node_modules/isarray/index.js"],"names":["prev","alphabet","split","length","map","seed","i","encode","num","encoded","Math","floor","decode","str","decoded","charAt","yeast","now","Date","module","exports","Backoff","opts","this","ms","min","max","factor","jitter","attempts","prototype","duration","pow","rand","random","deviation","reset","setMin","setMax","setJitter","mod","CodeMirror","searchOverlay","query","caseInsensitive","RegExp","replace","global","source","ignoreCase","token","stream","lastIndex","pos","match","exec","string","index","skipToEnd","SearchState","posFrom","posTo","lastQuery","overlay","getSearchState","cm","state","search","queryCaseInsensitive","toLowerCase","getSearchCursor","caseFold","multiline","persistentDialog","text","deflt","onEnter","onKeyDown","openDialog","value","selectValueOnOpen","closeOnEnter","onClose","clearSearch","bottom","options","dialog","shortText","f","prompt","confirmDialog","fs","openConfirm","confirm","parseString","ch","parseQuery","isRE","indexOf","e","test","startSearch","queryText","removeOverlay","addOverlay","showMatchesOnScrollbar","annotate","clear","doSearch","rev","persistent","immediate","findNext","q","getSelection","hiding","searchNext","event","e_stop","getCursor","style","opacity","shiftKey","_","to","line","document","querySelector","display","wrapper","getBoundingClientRect","cursorCoords","top","getQueryDialog","keyName","extra","getOption","cmd","keyMap","execCommand","operation","callback","cursor","find","Pos","lastLine","firstLine","setSelection","from","scrollIntoView","el","tag","attrs","element","createElement","createDocumentFragment","key","arguments","child","appendChild","createTextNode","className","phrase","type","getReplaceQueryDialog","getReplacementQueryDialog","getDoReplaceConfirm","replaceAll","getRange","all","dialogText","fragment","advance","start","doReplace","defineOption","commands","findPersistent","findPersistentNext","findPersistentPrev","findPrev","defaults","pairs","closeBefore","triples","explode","conf","name","val","old","Init","removeKeyMap","closeBrackets","ensureBound","addKeyMap","Backspace","handleBackspace","Enter","handleEnter","chars","handler","handleChar","getConfig","override","mode","getModeAt","Pass","ranges","listSelections","empty","around","charsAround","head","cur","replaceRange","linesep","lineSeparator","replaceSelection","moveSel","indentLine","dir","newRanges","primary","range","push","anchor","setSelections","contractSelection","sel","inverted","cmpPos","identical","opening","curType","next","getTokenTypeAt","isWordChar","stringStartsAfter","left","right","sels","getSelections","replaceSelections","slice","triggerElectric","getTokenAt","DiffPatchMatch","require","dmp","TextController","code","shadow","cursorPos","localVersion","remoteVersion","editStack","oldCode","newCode","patch_make","patch","makePatch","version","applyPatchToShadow","data","nextRemoteVersion","patches","applyPatchToLocal","latestVersion","shift","addLocalChange","result","patch_apply","patchApplied","iter","delta","start1","start2","console","log","length1","length2","j","diffs","lineCount","lastEndlineFound","Object","is","x","y","isReactNative","navigator","product","WS","super","supportsBinary","forceBase64","check","uri","protocols","extraHeaders","headers","ws","err","emit","binaryType","socket","addEventListeners","onopen","autoUnref","_socket","unref","onOpen","onclose","bind","onmessage","ev","onData","onerror","onError","packets","writable","packet","lastPacket","compress","perMessageDeflate","len","Buffer","byteLength","threshold","send","setTimeoutFn","close","schema","secure","port","Number","timestampRequests","timestampParam","b64","encodedQuery","ipv6","hostname","path","toByteArray","fromByteArray","lookup","revLookup","Arr","Uint8Array","Array","charCodeAt","getLens","Error","validLen","placeHoldersLen","lens","_byteLength","tmp","arr","curByte","tripletToBase64","encodeChunk","uint8","end","output","join","extraBytes","parts","maxChunkLength","len2","self","window","Function","dialogDiv","template","wrap","getWrapperElement","innerHTML","addClass","closeNotification","newVal","currentNotificationClose","defineExtension","closed","me","inp","rmClass","parentNode","removeChild","focus","button","getElementsByTagName","select","onInput","on","onKeyUp","keyCode","blur","closeOnBlur","evt","relatedTarget","callbacks","buttons","blurring","b","e_preventDefault","setTimeout","doneTimer","clearTimeout","$","target","stat","PACKET_TYPES","create","PACKET_TYPES_REVERSE","keys","forEach","ERROR_PACKET","withNativeBlob","Blob","toString","call","withNativeArrayBuffer","ArrayBuffer","isView","obj","buffer","encodePacket","encodeBlobAsBase64","fileReader","FileReader","onload","content","readAsDataURL","base64","encoded1","encoded2","encoded3","encoded4","bufferLength","p","arraybuffer","bytes","decodePacket","encodedPacket","mapBinary","decodeBase64Packet","substring","packetType","SEPARATOR","String","fromCharCode","encodePayload","encodedPackets","count","decodePayload","encodedPayload","decodedPacket","protocol","Transport","readyState","msg","desc","description","doOpen","doClose","write","onPacket","collection","collectionStrong","init","undefined","hasOwnProperty","encodeURIComponent","qs","qry","l","pair","decodeURIComponent","re","pathNames","regx","names","substr","splice","queryKey","$0","$1","$2","src","m","host","authority","ipv6uri","factory","userAgent","platform","gecko","ie_upto10","ie_11up","edge","ie","ie_version","documentMode","webkit","qtwebkit","chrome","presto","safari","vendor","mac_geMountainLion","phantom","ios","maxTouchPoints","android","mobile","mac","chromeOS","windows","presto_version","flipCtrlCmd","captureRightClick","classTest","cls","node","current","after","removeChildren","childNodes","firstChild","removeChildrenAndAdd","parent","elt","cssText","eltP","setAttribute","contains","nodeType","activeElt","activeElement","body","shadowRoot","joinClasses","a","as","createRange","endNode","r","setEnd","setStart","createTextRange","moveToElementText","collapse","moveEnd","moveStart","selectInput","args","apply","copyObj","overwrite","prop","countColumn","tabSize","startIndex","startValue","n","nextTab","selectionStart","selectionEnd","_e","Delayed","id","time","onTimeout","array","set","scrollerGap","sel_dontScroll","scroll","sel_mouse","origin","sel_move","findColumn","goal","col","skipped","spaceStrs","spaceStr","lst","out","insertSorted","score","priority","nothing","createObj","base","props","inst","nonASCIISingleCaseWordChar","isWordCharBasic","toUpperCase","helper","isEmpty","extendingChars","isExtendingChar","skipExtendingChars","findFirst","pred","midF","mid","ceil","iterateBidiSections","order","found","part","level","bidiOther","getBidiPartAt","sticky","bidiOrdering","lowTypes","arabicTypes","charType","bidiRE","isNeutral","isStrong","countsAsLeft","countsAsNum","BidiSpan","direction","outerType","types","i$1","i$2","type$1","i$3","prev$1","type$2","i$4","type$3","i$5","cur$1","type$4","i$6","end$1","before","replace$1","j$1","i$7","at","isRTL","j$2","nstart","unshift","reverse","getOrder","noHandlers","emitter","addEventListener","attachEvent","_handlers","concat","getHandlers","off","removeEventListener","detachEvent","signal","handlers","signalDOMEvent","preventDefault","defaultPrevented","e_defaultPrevented","codemirrorIgnore","signalCursorActivity","cursorActivity","curOp","cursorActivityHandlers","hasHandler","eventMixin","ctor","returnValue","e_stopPropagation","stopPropagation","cancelBubble","e_target","srcElement","e_button","which","ctrlKey","zwspSupported","badBidiRects","dragAndDrop","div","zeroWidthElement","measure","offsetHeight","offsetWidth","hasBadBidiRects","txt","r0","r1","splitLinesAuto","nl","rt","hasSelection","te","ownerDocument","selection","parentElement","compareEndPoints","hasCopyEvent","oncopy","badZoomedRects","hasBadZoomedRects","normal","fromRange","abs","modes","mimeModes","defineMode","dependencies","defineMIME","mime","spec","resolveMode","getMode","mfactory","modeObj","modeExtensions","exts","helperType","modeProps","prop$1","extendMode","properties","copyState","nstate","innerMode","info","startState","a1","a2","StringStream","lineOracle","lastColumnPos","lastColumnValue","lineStart","getLine","doc","first","size","chunk","lines","children","sz","chunkSize","getBetween","getLines","updateLineHeight","height","diff","lineNo","no","lineAtHeight","h","outer","lh","isLine","lineNumberFor","lineNumberFormatter","firstLineNumber","cmp","equalCursorPos","copyPos","maxPos","minPos","clipLine","clipPos","last","clipToLen","linelen","clipPosArray","eol","sol","peek","eat","ok","eatWhile","eatSpace","skipTo","backUp","column","indentation","pattern","consume","cased","hideFirstChars","inner","lookAhead","oracle","baseToken","SavedContext","Context","maxLookAhead","baseTokens","baseTokenPos","highlightLine","context","forceToEnd","st","modeGen","lineClasses","runMode","loop","o","overlays","i_end","opaque","styles","classes","bgClass","textClass","getLineStyles","updateFrontier","getContextBefore","resetState","maxHighlightLength","stateAfter","save","styleClasses","highlightFrontier","modeFrontier","precise","findStartLine","saved","fromSaved","processLine","viewFrom","viewTo","nextLine","startAt","callBlankLine","readToken","blankLine","copy","Token","takeToken","asArray","tokens","extractLineClasses","lineClass","flattenSpans","curStart","curStyle","addModeClass","mName","minindent","minline","lim","indented","retreatFrontier","sawReadOnlySpans","sawCollapsedSpans","seeReadOnlySpans","seeCollapsedSpans","MarkedSpan","marker","getMarkedSpanFor","spans","span","removeMarkedSpan","addMarkedSpan","op","inThisOp","WeakSet","markedSpans","has","add","attachLine","markedSpansBefore","startCh","isInsert","nw","startsBefore","inclusiveLeft","insertLeft","endsAfter","inclusiveRight","markedSpansAfter","endCh","stretchSpansOverChange","change","full","oldFirst","oldLast","sameLine","offset","span$1","found$1","clearEmptySpans","newMarkers","gapMarkers","gap","clearWhenEmpty","removeReadOnlyRanges","markers","mark","readOnly","mk","newParts","dfrom","dto","detachMarkedSpans","detachLine","attachMarkedSpans","extraLeft","extraRight","compareCollapsedMarkers","lenDiff","aPos","bPos","fromCmp","toCmp","collapsedSpanAtSide","sps","sp","collapsed","collapsedSpanAtStart","collapsedSpanAtEnd","collapsedSpanAround","conflictingCollapsedRange","visualLine","merged","visualLineEnd","visualLineContinued","visualLineNo","lineN","vis","visualLineEndNo","lineIsHidden","widgetNode","lineIsHiddenInner","heightAtLine","lineObj","lineLength","findMaxLine","d","maxLine","maxLineLength","maxLineChanged","Line","estimateHeight","updateLine","estHeight","cleanUpLine","styleToClassCache","styleToClassCacheWithMode","interpretTokenStyle","cache","buildLineContent","lineView","builder","pre","trailingSpace","splitSpaces","rest","addToken","buildToken","buildTokenBadBidi","allowFrontierUpdate","externalMeasured","insertLineContent","maps","caches","lastChild","defaultSpecialCharPlaceholder","title","startStyle","endStyle","css","attributes","displayText","special","specialChars","mustWrap","txt$1","tabWidth","specialCharPlaceholder","fullStyle","attr","trailingBefore","spaceBefore","buildCollapsedSpan","ignoreWidget","widget","input","needsContentAttribute","setUneditable","allText","spanStyle","spanEndStyle","spanStartStyle","nextChange","Infinity","foundBookmarks","endStyles","upto","tokenText","LineView","hidden","buildViewArray","nextPos","view","operationGroup","pushOperation","ops","ownsGroup","delayedCallbacks","fireCallbacksForOps","group","cursorActivityCalled","finishOperation","endCb","orphanDelayedCallbacks","signalLater","list","fireOrphanDelayed","delayed","updateLineForChanges","dims","changes","updateLineText","updateLineGutter","updateLineClasses","updateLineWidgets","ensureLineWrapped","replaceChild","zIndex","updateLineBackground","background","insertBefore","getLineContent","ext","built","wrapClass","gutter","gutterBackground","gutterClass","fixedGutter","fixedPos","gutterTotalWidth","gutterMarkers","lineNumbers","wrap$1","gutterWrap","lineNumber","gutterLeft","k","gutterSpecs","gutterWidth","alignable","isWidget","nextSibling","insertLineWidgets","buildLineElement","insertLineWidgetsFor","allowAbove","widgets","handleMouseEvents","positionLineWidget","above","noHScroll","width","wrapperWidth","coverGutter","paddingLeft","position","marginLeft","widgetHeight","parentStyle","gutters","clientWidth","eventInWidget","getAttribute","sizer","mover","paddingTop","lineSpace","offsetTop","paddingVert","paddingH","cachedPaddingH","getComputedStyle","currentStyle","parseInt","paddingRight","isNaN","scrollGap","nativeBarWidth","displayWidth","scroller","barWidth","displayHeight","clientHeight","barHeight","ensureLineHeights","rect","wrapping","lineWrapping","curWidth","heights","rects","getClientRects","mapFromLineView","updateExternalMeasurement","lineMeasure","measureChar","bias","measureCharPrepared","prepareMeasureForLine","findViewForLine","findViewIndex","getDimensions","forceUpdate","hasHeights","prepared","varHeight","measureCharInner","bogus","rtop","rbottom","measureText","nullRect","nodeAndOffsetInLineMap","mStart","mEnd","coverStart","coverEnd","getUsefulRect","place","maybeUpdateRectForZooming","rSpan","charWidth","rbot","bot","singleCursorHeightPerLine","screen","logicalXDPI","deviceXDPI","scaleX","scaleY","logicalYDPI","deviceYDPI","clearLineMeasurementCacheFor","clearLineMeasurementCache","externalMeasure","clearCaches","cachedCharWidth","cachedTextHeight","lineNumChars","pageScrollX","pageXOffset","documentElement","scrollLeft","pageScrollY","marginTop","pageYOffset","scrollTop","widgetTopHeight","intoCoordSystem","includeWidgets","yOff","viewOffset","lOff","xOff","fromCoordSystem","coords","localBox","lineSpaceBox","charCoords","preparedMeasure","get","getBidi","partPos","invert","other","estimateCoords","PosWithInfo","outside","xRel","coordsChar","coordsCharInner","rangeEnd","wrappedLineExtent","begin","wrappedLineExtentChar","targetTop","boxIsAfter","box","ltr","coordsBidiPartWrapped","coordsBidiPart","baseX","chAround","boxAround","atLeft","atStart","_lineNo","ref","closestDist","endX","dist","textHeight","clientLeft","offsetLeft","compensateForHScroll","th","perLine","widgetsHeight","estimateLineHeights","est","posFromMouse","liberal","forRect","space","clientX","clientY","e$1","colDiff","round","regChange","lendiff","updateLineNumbers","viewChanged","resetView","cut","viewCuttingPoint","cut$1","cutTop","cutBot","regLineChange","oldN","newN","adjustView","countDirtyView","dirty","updateSelection","showSelection","prepareSelection","curFragment","cursors","selFragment","customCursor","$customCursor","primIndex","drawSelectionCursor","showCursorWhenSelecting","drawSelectionRange","cursorHeight","charPos","defaultCharWidth","otherCursor","cmpCoords","padding","leftSide","rightSide","sizerWidth","docLTR","drawForLine","fromArg","toArg","lineLen","wrapX","side","extent","fromPos","toPos","openStart","openEnd","openLeft","openRight","topLeft","topRight","botLeft","botRight","sFrom","sTo","fromLine","toLine","singleVLine","leftEnd","rightStart","restartBlink","focused","clearInterval","blinker","cursorDiv","visibility","cursorBlinkRate","setInterval","hasFocus","onBlur","ensureFocus","onFocus","delayBlurEvent","delayingBlurEvent","draggingText","selForContextMenu","receivedFocus","updateHeightsInViewport","prevBottom","lineDiv","viewTop","oldHeight","mustScroll","updateWidgetHeight","chWidth","w","visibleLines","viewport","ensure","ensureFrom","ensureTo","maybeScrollWindow","doScroll","innerHeight","scrollNode","scrollPosIntoView","margin","limit","changed","endCoords","scrollPos","calculateScrollPos","startTop","startLeft","updateScrollTop","setScrollLeft","snapMargin","screentop","docBottom","atTop","atBottom","newTop","gutterSpace","screenleft","screenw","tooWide","addToScrollTop","resolveScrollToPos","ensureCursorVisible","scrollToPos","cursorScrollMargin","scrollToCoords","scrollToRange","scrollToCoordsRange","sPos","updateDisplaySimple","setScrollTop","startWorker","forceScroll","scrollHeight","scrollbars","isScroller","scrollWidth","alignHorizontally","measureForScrollbars","gutterW","docH","viewHeight","viewWidth","barLeft","docHeight","NativeScrollbars","vert","horiz","tabIndex","checkedZeroWidth","minHeight","minWidth","update","needsH","needsV","sWidth","totalHeight","totalWidth","zeroWidthHack","disableHoriz","enableZeroWidthBar","disableVert","pointerEvents","bar","delay","maybeDisable","elementFromPoint","NullScrollbars","updateScrollbars","startWidth","startHeight","updateScrollbarsInner","sizes","paddingBottom","heightForcer","borderBottom","scrollbarFiller","coverGutterNextToScrollbar","gutterFiller","scrollbarModel","initScrollbars","scrollbarStyle","axis","nextOpId","startOperation","updateInput","typing","changeObjs","selectionChanged","updateMaxLine","markArrays","endOperation","endOperations","endOperation_R1","endOperation_W1","endOperation_R2","endOperation_W2","endOperation_finish","maybeClipScrollbars","mustUpdate","DisplayUpdate","updatedDisplay","updateDisplayIfNeeded","barMeasure","adjustWidthTo","maxScrollLeft","preparedSelection","takeFocus","setDocumentHeight","postUpdateDisplay","wheelStartX","wheelStartY","maybeHiddenMarkers","unhidden","maybeUnhiddenMarkers","finish","runInOp","methodOp","docMethodOp","highlight","highlightWorker","workTime","changedLines","oldStyles","highlighted","oldCls","newCls","ischange","workDelay","force","visible","editorIsHidden","wrapperHeight","oldDisplayWidth","events","scrollbarsClipped","marginBottom","borderRightWidth","selectionSnapshot","active","anchorNode","extend","anchorOffset","focusNode","focusOffset","restoreSelection","snapshot","nodeName","removeAllRanges","addRange","renderedView","maybeUpdateLineNumberWidth","viewportMargin","different","lastWrapHeight","lastWrapWidth","toUpdate","selSnapshot","patchDisplay","selectionDiv","reportedViewFrom","reportedViewTo","updateNumbersFrom","container","rm","currentWheelTarget","updateNumber","updateGutterSpace","alignWidgets","comp","align","innerW","lineGutter","lineNumInnerWidth","lineNumWidth","getGutters","sawLineNumbers","renderGutters","specs","gElt","updateGutters","Display","draggable","wheelDX","wheelDY","activeTouch","wheelSamples","wheelPixelsPerUnit","wheelEventDelta","dx","wheelDeltaX","dy","wheelDeltaY","detail","HORIZONTAL_AXIS","VERTICAL_AXIS","wheelDelta","wheelEventPixels","onScrollWheel","pixelsPerUnit","deltaMode","deltaX","deltaY","canScrollX","canScrollY","pixels","movedX","movedY","sample","Selection","equals","here","there","deepCopy","Range","somethingSelected","normalizeSelection","mayTouch","selectionsMayTouch","prim","sort","inv","simpleSelection","changeEnd","adjustForChange","computeSelAfterChange","offsetPos","computeReplacedSel","hint","oldPrev","newPrev","loadMode","modeOption","resetModeState","isWholeLineUpdate","wholeLineUpdateBefore","updateDoc","spansFor","linesFor","lastText","lastSpans","nlines","insert","remove","added","added$1","added$2","linkedDocs","sharedHistOnly","propagate","skip","sharedHist","linked","rel","shared","attachDoc","setDirectionClass","directionChanged","History","done","undone","undoDepth","lastModTime","lastSelTime","lastOp","lastSelOp","lastOrigin","lastSelOrigin","generation","maxGeneration","historyChangeFromChange","histChange","attachLocalSpans","clearSelectionEvents","pop","lastChangeEvent","hist","addChangeToHistory","selAfter","opId","history","historyEventDelay","pushSelectionToHistory","selectionEventCanBeMerged","addSelectionToHistory","clearRedo","dest","existing","removeClearedSpans","explicitlyCleared","getOldSpans","mergeOldSpans","stretched","oldCur","stretchCur","copyHistoryArray","newGroup","instantiateSel","newChanges","extendRange","posBefore","extendSelection","extendSelections","heads","newSel","replaceOneSelection","setSimpleSelection","filterSelectionChange","setSelectionReplaceHistory","setSelectionNoUndo","NaN","setSelectionInner","skipAtomicInSelection","reCheckSelection","mayClear","newAnchor","skipAtomic","newHead","skipAtomicInner","oldPos","preventCursorLeft","selectLeft","preventCursorRight","selectRight","atomic","near","movePos","far","cantEdit","selectAll","filterChange","canceled","cancel","makeChange","ignoreReadOnly","suppressEdits","makeChangeInner","makeChangeSingleDoc","rebased","rebaseHist","makeChangeFromHistory","allowSelectionOnly","suppress","antiChanges","filter","returned","v","shiftDoc","distance","removed","makeChangeSingleDocInEditor","recomputeMaxLength","checkWidthStart","changesHandler","changeHandler","assign","splitLines","rebaseHistSelSingle","rebaseHistArray","sub","copied","changeLine","handle","changeType","LeafChunk","BranchChunk","removeInner","insertInner","iterN","remaining","leaf","maybeSpill","spilled","sibling","myIndex","used","LineWidget","opt","adjustScrollWhenAboveVisible","addLineWidget","insertAt","aboveVisible","this$1","oldH","nextMarkerId","TextMarker","markText","markTextShared","replacedWith","addToHistory","curLine","clearOnEnter","clearHistory","withOp","visual","dHeight","SharedTextMarker","cloneNode","isParent","findSharedMarkers","findMarks","copySharedMarkers","mFrom","mTo","subMark","detachSharedMarkers","subMarker","nextDocId","Doc","lineSep","cleanGeneration","constructor","getValue","setValue","getLineHandle","getLineNumber","getLineHandleVisualStart","setCursor","extendSelectionsBy","addSelection","dup","undo","redo","undoSelection","redoSelection","setExtending","getExtending","historySize","markClean","changeGeneration","forceSplit","isClean","gen","getHistory","setHistory","histData","setGutterMarker","gutterID","clearGutter","lineInfo","addLineClass","where","removeLineClass","removeLineWidget","setBookmark","realOpts","findMarksAt","getAllMarks","posFromIndex","sepSize","indexFromPos","copyHistory","linkedDoc","unlinkDoc","link","splitIds","iterLinkedDocs","getEditor","setDirection","eachLine","lastDrop","onDrop","clearDragCursor","files","dataTransfer","isReadOnly","File","read","markAsReadAndPasteIfAllFilesAreRead","t","readTextFromFile","file","allowDropFileTypes","reader","readAsText","text$1","getData","selected","onDragStart","setData","effectAllowed","setDragImage","img","_top","onDragOver","frag","dragCursor","forEachCodeMirror","getElementsByClassName","byClass","editors","globalsRegistered","ensureGlobalHandlers","registerGlobalHandlers","resizeTimer","onResize","setSize","keyNames","3","8","9","13","16","17","18","19","20","27","32","33","34","35","36","37","38","39","40","44","45","46","59","61","91","92","93","106","107","109","110","111","145","173","186","187","188","189","190","191","192","219","220","221","222","224","63232","63233","63234","63235","63272","63273","63275","63276","63277","63302","normalizeKeyName","alt","ctrl","normalizeKeyMap","keymap","keyname","lookupKey","getKeyMap","fallthrough","isModifierKey","addModifierNames","noShift","altKey","metaKey","altGraphKey","deleteNearSelection","compute","kill","toKill","replaced","moveCharLogically","moveLogically","endOfLine","visually","moveInStorageOrder","prep","moveVisually","bidi","mv","getWrappedLineExtent","searchInVisualLine","getRes","res","nextCh","basic","pcDefault","emacsy","macDefault","singleSelection","killLine","deleteLine","delLineLeft","delWrappedLineLeft","leftPos","delWrappedLineRight","rightPos","goDocStart","goDocEnd","goLineStart","goLineStartSmart","lineStartSmart","goLineEnd","lineEnd","goLineRight","goLineLeft","goLineLeftSmart","goLineUp","moveV","goLineDown","goPageUp","goPageDown","goCharLeft","moveH","goCharRight","goColumnLeft","goColumnRight","goWordLeft","goGroupRight","goGroupLeft","goWordRight","delCharBefore","deleteH","delCharAfter","delWordBefore","delWordAfter","delGroupBefore","delGroupAfter","indentAuto","indentSelection","indentMore","indentLess","insertTab","insertSoftTab","spaces","defaultTab","transposeChars","newlineAndIndent","openLine","toggleOverwrite","firstNonWS","inWS","doHandleBinding","bound","dropShift","ensurePolled","prevShift","lookupKeyForEditor","keyMaps","extraKeys","stopSeq","dispatchKey","seq","keySeq","dispatchKeyInner","handleKeyBinding","motion","handleCharBinding","lastStoppedKey","getField","handled","showCrossHair","up","onKeyPress","charCode","lastClick","lastDoubleClick","DOUBLECLICK_DELAY","PastClick","clickRepeat","compare","onMouseDown","supportsTouch","clickInGutter","repeat","selectingText","handleMappedButton","leftButtonDown","onContextMenu","configureMouse","option","unit","addNew","moveOnDrag","contained","behavior","dragDrop","leftButtonStartDrag","leftButtonSelect","moved","dragEnd","mouseMove","dragStart","preventScroll","e2","rangeForUnit","findWordAt","ourRange","ourIndex","startSel","lastPos","extendTo","startCol","posCol","oldRange","ranges$1","bidiSimplify","editorSize","counter","curCount","move","anchorLine","boundary","headIndex","usePart","gutterEvent","prevent","mX","mY","touches","lineBox","g","contextMenuInGutter","themeChanged","theme","optionHandlers","defineOptions","notOnInit","newBreaks","refresh","getInputField","spellcheck","autocorrect","autocapitalize","detach","attach","wrappingChanged","integer","readOnlyChanged","screenReaderLabelChanged","dragDropChanged","resetPosition","wasOn","funcs","dragFunctions","toggle","enter","over","leave","drop","inputStyles","inputStyle","pasteIncoming","cutIncoming","autofocus","registerEventHandlers","finishInit","initHooks","textRendering","word","touchFinished","prevTouch","finishTouch","isMouseLikeTouchEvent","touch","radiusX","radiusY","farAway","pageX","pageY","how","aggressive","indent","curSpace","curSpaceString","indentUnit","indentString","indentWithTabs","pos$1","defineInitHook","lastCopied","setLastCopied","newLastCopied","applyTextInput","inserted","deleted","recent","paste","textLines","multiPaste","pasteLinesPerSelection","lineWise","changeEvent","handlePaste","pasted","clipboardData","disableInput","electricChars","smartIndent","electricInput","copyableRanges","lineRange","disableBrowserMagic","field","hiddenTextarea","border","addEditorMethods","helpers","setOption","getDoc","modeSpec","getLineTokens","getHelper","getHelpers","help","_global","getStateAfter","defaultTextHeight","getViewport","addWidget","vspace","hspace","triggerOnKeyDown","triggerOnKeyPress","triggerOnKeyUp","triggerOnMouseDown","findPosH","amount","hitSide","rtlMoveVisually","findPosV","goalColumn","goals","headPos","startChar","scrollTo","getScrollInfo","interpret","swapDoc","phraseText","phrases","getScrollerElement","getGutterElement","registerHelper","registerGlobalHelper","predicate","origDir","lineDir","findNextLine","moveOnce","boundToLine","astral","sawType","pageSize","moveAmount","ContentEditableInput","lastAnchorNode","lastAnchorOffset","lastFocusNode","lastFocusOffset","polling","composing","gracePeriod","readDOMTimeout","posToDOM","isInGutter","scan","badPos","bad","domTextBetween","closing","extraLinebreak","recognizeMarker","addText","walk","cmText","markerID","isBlock","textContent","nodeValue","domToPos","lineNode","locateNodeInLineView","textNode","topNode","curNode","previousSibling","dist$1","belongsToInput","onCopyCut","lineWiseCopyCut","clearData","kludge","hadFocus","showPrimarySelection","contentEditable","updateFromDOM","readFromDOMSoon","forceCompositionEnd","label","removeAttribute","showMultipleSelections","curAnchor","curFocus","rng","rangeCount","getRangeAt","startGracePeriod","rememberSelection","selectionInEditor","commonAncestorContainer","poll","pollSelection","pollInterval","pollContent","fromIndex","fromNode","toNode","toIndex","newText","oldText","cutFront","cutEnd","oldTop","maxCutFront","newBot","oldBot","maxCutEnd","chFrom","chTo","TextareaInput","prevInput","pollingFast","fromTextArea","textarea","tabindex","placeholder","realSubmit","form","leaveSubmitMethodAlone","submit","wrappedSubmit","getTextArea","toTextArea","addLegacyProps","createField","prepareCopyCut","fastPoll","dispatchEvent","Event","_display","moveInputWithCursor","wrapOff","lineOff","teTop","teLeft","drawn","contextMenuPending","slowPoll","missed","same","resetSelectionOnContextMenu","oldScrollY","oldCSS","oldWrapperCSS","wrapperBox","offsetParent","scrollY","rehide","detectingSelectAll","prepareSelectAllHack","mouseup","extval","disabled","dontDelegate","method","func","defineDocExtension","_defineProperties","descriptor","enumerable","configurable","defineProperty","_createClass","Constructor","protoProps","staticProps","__esModule","diff_match_patch","Diff_Timeout","Diff_EditCost","Match_Threshold","Match_Distance","Patch_DeleteThreshold","Patch_Margin","Match_MaxBits","DIFF_DELETE","DIFF_INSERT","DIFF_EQUAL","Diff","diff_main","text1","text2","opt_checklines","opt_deadline","MAX_VALUE","getTime","deadline","checklines","commonlength","diff_commonPrefix","commonprefix","diff_commonSuffix","commonsuffix","diff_compute_","diff_cleanupMerge","longtext","shorttext","hm","diff_halfMatch_","text1_a","text1_b","text2_a","text2_b","mid_common","diffs_a","diffs_b","diff_lineMode_","diff_bisect_","diff_linesToChars_","chars1","chars2","linearray","lineArray","diff_charsToLines_","diff_cleanupSemantic","pointer","count_delete","count_insert","text_delete","text_insert","subDiff","text1_length","text2_length","max_d","v_offset","v_length","v1","v2","front","k1start","k1end","k2start","k2end","k1","k1_offset","x1","y1","k2_offset","x2","diff_bisectSplit_","k2","y2","text1a","text2a","text1b","text2b","diffsb","lineHash","diff_linesToCharsMunge_","lineArrayLength","maxLines","pointermin","pointermax","pointermid","pointerstart","pointerend","diff_commonOverlap_","text_length","best","diff_halfMatchI_","best_longtext_a","best_longtext_b","best_shorttext_a","best_shorttext_b","best_common","prefixLength","suffixLength","hm1","hm2","equalities","equalitiesLength","lastEquality","length_insertions1","length_deletions1","length_insertions2","length_deletions2","diff_cleanupSemanticLossless","deletion","insertion","overlap_length1","overlap_length2","diff_cleanupSemanticScore_","one","two","char1","char2","nonAlphaNumeric1","nonAlphaNumericRegex_","nonAlphaNumeric2","whitespace1","whitespaceRegex_","whitespace2","lineBreak1","linebreakRegex_","lineBreak2","blankLine1","blanklineEndRegex_","blankLine2","blanklineStartRegex_","equality1","edit","equality2","commonOffset","commonString","bestEquality1","bestEdit","bestEquality2","bestScore","diff_cleanupEfficiency","pre_ins","pre_del","post_ins","post_del","diff_xIndex","loc","last_chars1","last_chars2","diff_prettyHtml","html","pattern_amp","pattern_lt","pattern_gt","pattern_para","diff_text1","diff_text2","diff_levenshtein","levenshtein","insertions","deletions","diff_toDelta","encodeURI","diff_fromDelta","diffsLength","param","decodeURI","ex","match_main","match_bitap_","s","match_alphabet_","match_bitapScore_","accuracy","proximity","score_threshold","best_loc","lastIndexOf","bin_min","bin_mid","matchmask","last_rd","bin_max","rd","charMatch","patch_addContext_","prefix","suffix","opt_b","opt_c","patch_obj","patchDiffLength","char_count1","char_count2","prepatch_text","postpatch_text","diff_type","diff_text","patch_deepCopy","patchesCopy","patchCopy","nullPadding","patch_addPadding","patch_splitMax","results","start_loc","expected_loc","end_loc","index2","index1","paddingLength","extraLength","patch_size","bigpatch","precontext","postcontext","patch_toText","patch_fromText","textline","textPointer","patchHeader","sign","coords1","coords2","redefineAll","anInstance","iterate","defineIterator","setSpecies","DESCRIPTORS","fastKey","InternalStateModule","setInternalState","internalStateGetterFor","getterFor","getConstructor","CONSTRUCTOR_NAME","IS_MAP","ADDER","that","iterable","Prototype","AS_ENTRIES","getInternalState","define","previous","entry","getEntry","callbackfn","boundFunction","setStrong","ITERATOR_NAME","getInternalCollectionState","getInternalIteratorState","iterated","kind","uncurryThis","isForced","redefine","InternalMetadataModule","isCallable","isObject","fails","checkCorrectnessOfIteration","setToStringTag","inheritIfRequired","common","IS_WEAK","NativeConstructor","NativePrototype","exported","fixMethod","KEY","uncurriedNativeMethod","REPLACE","entries","enable","instance","HASNT_CHAINING","THROWS_ON_PRIMITIVES","ACCEPT_ITERABLES","BUGGY_ZERO","$instance","dummy","forced","noOptions","nonWS","probablyInsideString","useInnerComments","toggleComment","minLine","uncomment","lineComment","commentString","pad","blankLines","commentBlankLines","baseString","whitespace","blockCommentStart","fullLines","blockComment","startString","endString","blockCommentEnd","lastLineHasText","lead","blockCommentLead","atCursor","didSomething","lineString","endPos","startLine","open","endLine","insideStart","insideEnd","lastStart","firstEnd","almostLastStart","foundEnd","nextTick","isPromiseAvailable","Promise","resolve","cb","then","WebSocket","MozWebSocket","usingBrowserWebSocket","defaultBinaryType","_vm","_h","$createElement","_c","_self","staticClass","logged","users","_v","_s","_l","user","exitRoom","model","$$v","numberValue","expression","setLoss","socketUpdateText","socketUpdateCursor","room","createUser","timeout","snackbar","notiContent","staticRenderFns","url","location","href","xdomain","XMLHttpRequest","onPause","pause","total","once","doPoll","doWrite","sid","hasXHR2","xhr","responseType","isSSL","xd","xs","fn","req","request","pollXhr","async","xscheme","setDisableHeaderCheck","setRequestHeader","withCredentials","requestTimeout","onreadystatechange","status","onLoad","requestsCount","requests","cleanup","onSuccess","fromError","abort","responseText","unloadHandler","terminationEvent","transports","websocket","writeBuffer","prevBufferLen","agent","upgrade","rememberUpgrade","rejectUnauthorized","transportOptions","closeOnBeforeunload","upgrades","pingInterval","pingTimeout","pingTimeoutTimer","transport","removeAllListeners","offlineEventListener","clone","EIO","priorWebsocketSuccess","emitReserved","createTransport","setTransport","onDrain","failed","onTransportOpen","upgrading","flush","freezeTransport","error","onTransportClose","onupgrade","removeListener","probe","onHandshake","JSON","parse","resetPingTimeout","sendPacket","filterUpgrades","clearTimeoutFn","cleanupAndClose","waitForUpgrade","reason","filteredUpgrades","withNativeFile","isBinary","hasBinary","toJSON","isArray","deconstructPacket","buffers","packetData","pack","_deconstructPacket","attachments","_placeholder","newData","reconstructPacket","_reconstructPacket","PacketType","EVENT","ACK","encodeAsString","BINARY_EVENT","BINARY_ACK","encodeAsBinary","nsp","stringify","deconstruction","decodeString","reconstructor","takeBinaryData","buf","c","payload","tryParse","isPayloadValid","CONNECT","DISCONNECT","CONNECT_ERROR","finishedReconstruction","reconPack","binData","RESERVED_EVENTS","freeze","connect","connect_error","disconnect","disconnecting","newListener","io","connected","disconnected","receiveBuffer","sendBuffer","ids","acks","flags","auth","_autoConnect","subs","onpacket","subEvents","_readyState","ack","_registerAckCallback","isTransportWritable","engine","discardPacket","volatile","timer","_packet","sameNamespace","onconnect","onevent","onack","ondisconnect","destroy","message","emitEvent","_anyListeners","listeners","listener","sent","emitBuffered","subDestroy","_a","nsps","reconnection","reconnectionAttempts","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","_parser","parser","encoder","Encoder","decoder","Decoder","autoConnect","_reconnection","_reconnectionAttempts","_reconnectionDelay","_randomizationFactor","_reconnectionDelayMax","_timeout","_reconnecting","reconnect","skipReconnect","openSubDestroy","errorSub","maybeReconnectOnOpen","onping","ondata","ondecoded","_close","onreconnect","attempt","parsed","newConnection","forceNew","multiplex","Manager","Socket","class","fontSize","cmOptions","onCmReady","onCodeChange","autoCloseBrackets","language","required","components","codemirror","computed","$refs","myCm","styleActiveLine","matchBrackets","foldGutter","methods","$emit","newValue","modifyCursor","onNewLine","breakpoints","breakpointProps","Boolean","default","offsetProps","orderProps","propMap","breakpointClass","breakpoint","functional","cols","alignSelf","validator","includes","render","cacheKey","classList","hasColClasses","mergeData","ALIGNMENT","makeProps","def","alignValidator","alignProps","justifyValidator","justifyProps","alignContentValidator","alignContentProps","justify","alignContent","classMap","dense","noGutters","component","VCard","VCol","VRow","intel","clp","tc","resetPass","resetTextPass","lossChance","Editor","mounted","initializeSocket","enabledTransports","editor","updateCursor","pushPackage","created","ENDPOINT","fluid","mixins","provide","inheritAttrs","lazyValidation","readonly","inputs","watchers","errorBag","watch","errors","deep","watchInput","watcher","_uid","valid","shouldValidate","validate","resetErrorBag","resetValidation","register","unregister","unwatch","novalidate","attrs$","$slots","app","centered","contentClass","multiLine","transition","vertical","activeTimeout","hasBackground","isDark","absolute","$vuetify","isActive","$attrs","genActions","genContent","role","genWrapper","setColor","VSheet","directives","pointerenter","pointerleave","genTransition","_arrayWithoutHoles","arrayLikeToArray","_iterableToArray","Symbol","iterator","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","isFontAwesome5","some","iconType","isSvgPath","icon","SIZE_MAP","medium","hasClickListener","listeners$","click","getIcon","iconName","getSize","xSmall","small","large","xLarge","explicitSize","getDefaultData","getSvgWrapperData","wrapperData","applyColors","themeClasses","renderFontIcon","newChildren","delimiterIndex","isMaterialIcon","renderSvgIcon","svgData","xmlns","viewBox","renderSvgIconComponent","$_wrapperFor","color","for","ctx","genChildren","genMessage","setTextColor","baseMixins","errorCount","errorMessages","messages","rules","success","successMessages","validateOnBlur","errorBucket","hasColor","hasFocused","hasInput","isFocused","isResetting","lazyValue","computedColor","hasError","internalErrorMessages","hasSuccess","internalSuccessMessages","externalError","hasMessages","validationTarget","hasState","genInternalMessages","internalMessages","internalValue","isDisabled","isInteractive","isReadonly","validations","validationState","$nextTick","beforeMount","beforeDestroy","rule","appendIcon","backgroundColor","hideDetails","hideSpinButtons","loading","persistentHint","prependIcon","hasMouseDown","computedId","hasDetails","messagesToDisplay","hasHint","hasLabel","isDirty","isLabelActive","validation","validationResult","showDetails","beforeCreate","$options","genControl","genDefaultSlot","genIcon","extraData","eventName","hasListener","dark","light","genInputSlot","setBackgroundColor","mousedown","onMouseUp","genLabel","genMessages","scopedSlots","genSlot","slot","genPrependSlot","genAppendSlot","onClick","isGreater","isIntersecting","onObserve","destroyed","binding","passive","vnode","unbind","Resize","root","composed","onVisible","dirtyTypes","resize","ripple","appendOuterIcon","clearable","clearIcon","counterValue","filled","flat","fullWidth","outlined","prependInnerIcon","persistentPlaceholder","rounded","shaped","singleLine","solo","soloInverted","badInput","labelWidth","prefixWidth","prependWidth","initialValue","isBooted","isClearing","computedCounterValue","hasCounter","isEnclosed","isSingle","isSolo","labelPosition","labelValue","rtl","showLabel","requestAnimationFrame","clearableCallback","genPrependInnerSlot","genIconSlot","prepend","genClearIcon","genCounter","genFieldset","genLegend","domProps","genInput","inputAttrs","keydown","modifiers","quiet","messagesNode","counterNode","genTextFieldSlot","genAffix","attachedRoot","setLabelWidth","$el","setPrefixWidth","setPrependWidth","tryAutofocus","updateValue","VBtn","VCardText","VContainer","VForm","VSnackbar","VTextField","cminstance","unseenLines","merge","globalOptions","globalEvents","switchMerge","handerCodeChange","initialize","MergeView","mergeview","unseenLineMarkers","install","u","_compiled","_scopeId","$vnode","ssrContext","__VUE_SSR_CONTEXT__","_registeredComponents","_ssrRegister","_injectStyles","esModule","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","LN2","_classCallCheck","HINT_ELEMENT_CLASS","ACTIVE_HINT_ELEMENT_CLASS","Completion","debounce","tick","startPos","startLen","updateOnCursorActivity","activityFunc","showHint","getHints","newOpts","parseOptions","selections","supportsSelection","completionActive","completion","cancelAnimationFrame","hintOptions","defaultOptions","getText","buildKeyMap","baseMap","Up","moveFocus","Down","PageUp","menuSize","PageDown","Home","setFocus","End","pick","Tab","Esc","custom","customKeys","ourMap","addBinding","getHintElement","hintsElement","Widget","picked","parentWindow","defaultView","hints","selectedHint","completions","hintId","alignWithWord","below","isContainerPositioned","offsetParentPosition","bodyPosition","winW","innerWidth","winH","startScroll","moveOnOverlap","DOMRect","scrolls","paddingForScrollbar","overlapY","curTop","closingOnBlur","overlapX","avoidWrap","changeActive","screenAmount","closeOnUnfocus","onScroll","curScroll","point","completeOnSingleClick","selectedHintRange","getSelectedHintRange","scrollToActive","applicableHelpers","fetchHints","resolveAutoHints","words","resolved","run","fromList","anyword","closeOnPick","identStart","closeCharacters","disable","myTick","finishUpdate","completeSingle","node1","node2","firstNode","scrollMargin","term","autocomplete","auto","reduce","acc","NATIVE_SET_TIMEOUT","NATIVE_CLEAR_TIMEOUT","installTimerFunctions","useNativeTimers","Emitter","mixin","_callbacks","hasListeners","ieee754","typedArraySupport","__proto__","foo","subarray","kMaxLength","TYPED_ARRAY_SUPPORT","createBuffer","RangeError","arg","encodingOrOffset","allocUnsafe","fromArrayBuffer","fromString","fromObject","assertSize","alloc","fill","encoding","checked","isEncoding","actual","fromArrayLike","byteOffset","isBuffer","isnan","SlowBuffer","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","arrayIndexOf","indexSize","arrLength","valLength","readUInt16BE","foundIndex","hexWrite","strLen","utf8Write","blitBuffer","asciiWrite","asciiToBytes","latin1Write","base64Write","ucs2Write","utf16leToBytes","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","decodeCodePointsArray","INSPECT_MAX_BYTES","poolSize","_augment","species","allocUnsafeSlow","_isBuffer","swap16","swap32","swap64","inspect","thisStart","thisEnd","thisCopy","targetCopy","isFinite","_arr","MAX_ARGUMENTS_LENGTH","codePoints","ret","toHex","checkOffset","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","maxBytes","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","INVALID_BASE64_RE","base64clean","stringtrim","trim","units","leadSurrogate","byteArray","hi","lo","dst","doFold","noFold","regexpFlags","regexp","ensureFlags","maybeMultiline","searchRegexpForward","searchRegexpForwardMultiline","inside","lastMatchIn","endMargin","newMatch","searchRegexpBackward","searchRegexpBackwardMultiline","adjustPos","orig","folded","foldFunc","searchStringForward","fold","cutFrom","searchStringBackward","topString","SearchCursor","atOccurrence","afterEmptyMatch","matches","normalize","findPrevious","clearPlaceholder","setPlaceholder","placeHolder","onComposition","onChange","placeholderCompose"],"mappings":"4GAEA,IAKIA,EALAC,EAAW,mEAAmEC,MAAM,IACpFC,EAAS,GACTC,EAAM,GACNC,EAAO,EACPC,EAAI,EAUR,SAASC,EAAOC,GACd,IAAIC,EAAU,GAEd,GACEA,EAAUR,EAASO,EAAML,GAAUM,EACnCD,EAAME,KAAKC,MAAMH,EAAML,SAChBK,EAAM,GAEf,OAAOC,EAUT,SAASG,EAAOC,GACd,IAAIC,EAAU,EAEd,IAAKR,EAAI,EAAGA,EAAIO,EAAIV,OAAQG,IAC1BQ,EAAUA,EAAUX,EAASC,EAAIS,EAAIE,OAAOT,IAG9C,OAAOQ,EAST,SAASE,IACP,IAAIC,EAAMV,GAAQ,IAAIW,MAEtB,OAAID,IAAQjB,GAAaK,EAAO,EAAGL,EAAOiB,GACnCA,EAAK,IAAKV,EAAOF,KAM1B,KAAOC,EAAIH,EAAQG,IAAKF,EAAIH,EAASK,IAAMA,EAK3CU,EAAMT,OAASA,EACfS,EAAMJ,OAASA,EACfO,EAAOC,QAAUJ,G,qBChDjB,SAASK,EAAQC,GACfA,EAAOA,GAAQ,GACfC,KAAKC,GAAKF,EAAKG,KAAO,IACtBF,KAAKG,IAAMJ,EAAKI,KAAO,IACvBH,KAAKI,OAASL,EAAKK,QAAU,EAC7BJ,KAAKK,OAASN,EAAKM,OAAS,GAAKN,EAAKM,QAAU,EAAIN,EAAKM,OAAS,EAClEL,KAAKM,SAAW,EApBlBV,EAAOC,QAAUC,EA8BjBA,EAAQS,UAAUC,SAAW,WAC3B,IAAIP,EAAKD,KAAKC,GAAKd,KAAKsB,IAAIT,KAAKI,OAAQJ,KAAKM,YAC9C,GAAIN,KAAKK,OAAQ,CACf,IAAIK,EAAQvB,KAAKwB,SACbC,EAAYzB,KAAKC,MAAMsB,EAAOV,KAAKK,OAASJ,GAChDA,EAAoC,IAAN,EAAxBd,KAAKC,MAAa,GAAPsB,IAAwBT,EAAKW,EAAYX,EAAKW,EAEjE,OAAgC,EAAzBzB,KAAKe,IAAID,EAAID,KAAKG,MAS3BL,EAAQS,UAAUM,MAAQ,WACxBb,KAAKM,SAAW,GASlBR,EAAQS,UAAUO,OAAS,SAASZ,GAClCF,KAAKC,GAAKC,GASZJ,EAAQS,UAAUQ,OAAS,SAASZ,GAClCH,KAAKG,IAAMA,GASbL,EAAQS,UAAUS,UAAY,SAASX,GACrCL,KAAKK,OAASA,I,wBCvEhB,SAAUY,GAENA,EAAI,EAAQ,QAAyB,EAAQ,QAAmB,EAAQ,UAF5E,EAOG,SAASC,GACV,aAKA,SAASC,EAAcC,EAAOC,GAM5B,MALoB,iBAATD,EACTA,EAAQ,IAAIE,OAAOF,EAAMG,QAAQ,sCAAuC,QAASF,EAAkB,KAAO,KAClGD,EAAMI,SACdJ,EAAQ,IAAIE,OAAOF,EAAMK,OAAQL,EAAMM,WAAa,KAAO,MAEtD,CAACC,MAAO,SAASC,GACtBR,EAAMS,UAAYD,EAAOE,IACzB,IAAIC,EAAQX,EAAMY,KAAKJ,EAAOK,QAC9B,GAAIF,GAASA,EAAMG,OAASN,EAAOE,IAEjC,OADAF,EAAOE,KAAOC,EAAM,GAAGnD,QAAU,EAC1B,YACEmD,EACTH,EAAOE,IAAMC,EAAMG,MAEnBN,EAAOO,cAKb,SAASC,IACPpC,KAAKqC,QAAUrC,KAAKsC,MAAQtC,KAAKuC,UAAYvC,KAAKoB,MAAQ,KAC1DpB,KAAKwC,QAAU,KAGjB,SAASC,EAAeC,GACtB,OAAOA,EAAGC,MAAMC,SAAWF,EAAGC,MAAMC,OAAS,IAAIR,GAGnD,SAASS,EAAqBzB,GAC5B,MAAuB,iBAATA,GAAqBA,GAASA,EAAM0B,cAGpD,SAASC,EAAgBL,EAAItB,EAAOU,GAElC,OAAOY,EAAGK,gBAAgB3B,EAAOU,EAAK,CAACkB,SAAUH,EAAqBzB,GAAQ6B,WAAW,IAG3F,SAASC,EAAiBR,EAAIS,EAAMC,EAAOC,EAASC,GAClDZ,EAAGa,WAAWJ,EAAME,EAAS,CAC3BG,MAAOJ,EACPK,mBAAmB,EACnBC,cAAc,EACdC,QAAS,WAAaC,EAAYlB,IAClCY,UAAWA,EACXO,OAAQnB,EAAGoB,QAAQlB,OAAOiB,SAI9B,SAASE,EAAOrB,EAAIS,EAAMa,EAAWZ,EAAOa,GACtCvB,EAAGa,WAAYb,EAAGa,WAAWJ,EAAMc,EAAG,CAACT,MAAOJ,EAAOK,mBAAmB,EAAMI,OAAQnB,EAAGoB,QAAQlB,OAAOiB,SACvGI,EAAEC,OAAOF,EAAWZ,IAG3B,SAASe,EAAczB,EAAIS,EAAMa,EAAWI,GACtC1B,EAAG2B,YAAa3B,EAAG2B,YAAYlB,EAAMiB,GAChCE,QAAQN,IAAYI,EAAG,KAGlC,SAASG,EAAYtC,GACnB,OAAOA,EAAOV,QAAQ,gBAAgB,SAASQ,EAAOyC,GACpD,MAAU,KAANA,EAAkB,KACZ,KAANA,EAAkB,KACZ,KAANA,EAAkB,KACZ,MAANA,EAAmB,KAChBzC,KAIX,SAAS0C,EAAWrD,GAClB,IAAIsD,EAAOtD,EAAMW,MAAM,sBACvB,GAAI2C,EACF,IAAMtD,EAAQ,IAAIE,OAAOoD,EAAK,IAA6B,GAAzBA,EAAK,GAAGC,QAAQ,KAAa,GAAK,KACpE,MAAMC,SAENxD,EAAQmD,EAAYnD,GAItB,OAFoB,iBAATA,EAA6B,IAATA,EAAcA,EAAMyD,KAAK,OACtDzD,EAAQ,MACHA,EAGT,SAAS0D,EAAYpC,EAAIC,EAAOvB,GAC9BuB,EAAMoC,UAAY3D,EAClBuB,EAAMvB,MAAQqD,EAAWrD,GACzBsB,EAAGsC,cAAcrC,EAAMH,QAASK,EAAqBF,EAAMvB,QAC3DuB,EAAMH,QAAUrB,EAAcwB,EAAMvB,MAAOyB,EAAqBF,EAAMvB,QACtEsB,EAAGuC,WAAWtC,EAAMH,SAChBE,EAAGwC,yBACDvC,EAAMwC,WAAYxC,EAAMwC,SAASC,QAASzC,EAAMwC,SAAW,MAC/DxC,EAAMwC,SAAWzC,EAAGwC,uBAAuBvC,EAAMvB,MAAOyB,EAAqBF,EAAMvB,SAIvF,SAASiE,EAAS3C,EAAI4C,EAAKC,EAAYC,GACrC,IAAI7C,EAAQF,EAAeC,GAC3B,GAAIC,EAAMvB,MAAO,OAAOqE,EAAS/C,EAAI4C,GACrC,IAAII,EAAIhD,EAAGiD,gBAAkBhD,EAAMJ,UAEnC,GADImD,aAAapE,QAAsB,MAAZoE,EAAEjE,SAAgBiE,EAAI,MAC7CH,GAAc7C,EAAGa,WAAY,CAC/B,IAAIqC,EAAS,KACTC,EAAa,SAASzE,EAAO0E,GAC/B5E,EAAW6E,OAAOD,GACb1E,IACDA,GAASuB,EAAMoC,YACjBD,EAAYpC,EAAIC,EAAOvB,GACvBuB,EAAMN,QAAUM,EAAML,MAAQI,EAAGsD,aAE/BJ,IAAQA,EAAOK,MAAMC,QAAU,GACnCT,EAAS/C,EAAIoD,EAAMK,UAAU,SAASC,EAAGC,GACvC,IAAItC,EACAsC,EAAGC,KAAO,GAAKC,SAASC,gBACvBzC,EAASrB,EAAG+D,QAAQC,QAAQF,cAAc,wBAC3CzC,EAAO4C,wBAAwB9C,OAAS,EAAInB,EAAGkE,aAAaP,EAAI,UAAUQ,OAC3EjB,EAAS7B,GAAQkC,MAAMC,QAAU,SAGxChD,EAAiBR,EAAIoE,EAAepE,GAAKgD,EAAGG,GAAY,SAASC,EAAO1E,GACtE,IAAI2F,EAAU7F,EAAW6F,QAAQjB,GAC7BkB,EAAQtE,EAAGuE,UAAU,aAAcC,EAAOF,GAASA,EAAMD,IAAa7F,EAAWiG,OAAOzE,EAAGuE,UAAU,WAAWF,GACzG,YAAPG,GAA4B,YAAPA,GAChB,sBAAPA,GAAsC,sBAAPA,GAC/BhG,EAAW6E,OAAOD,GAClBhB,EAAYpC,EAAID,EAAeC,GAAKtB,GACpCsB,EAAG0E,YAAYF,IACC,QAAPA,GAAwB,kBAAPA,IAC1BhG,EAAW6E,OAAOD,GAClBD,EAAWzE,EAAO0E,OAGlBN,GAAaE,IACfZ,EAAYpC,EAAIC,EAAO+C,GACvBD,EAAS/C,EAAI4C,SAGfvB,EAAOrB,EAAIoE,EAAepE,GAAK,cAAegD,GAAG,SAAStE,GACpDA,IAAUuB,EAAMvB,OAAOsB,EAAG2E,WAAU,WACtCvC,EAAYpC,EAAIC,EAAOvB,GACvBuB,EAAMN,QAAUM,EAAML,MAAQI,EAAGsD,YACjCP,EAAS/C,EAAI4C,SAMrB,SAASG,EAAS/C,EAAI4C,EAAKgC,GAAW5E,EAAG2E,WAAU,WACjD,IAAI1E,EAAQF,EAAeC,GACvB6E,EAASxE,EAAgBL,EAAIC,EAAMvB,MAAOkE,EAAM3C,EAAMN,QAAUM,EAAML,QACrEiF,EAAOC,KAAKlC,KACfiC,EAASxE,EAAgBL,EAAIC,EAAMvB,MAAOkE,EAAMpE,EAAWuG,IAAI/E,EAAGgF,YAAcxG,EAAWuG,IAAI/E,EAAGiF,YAAa,IAC1GJ,EAAOC,KAAKlC,OAEnB5C,EAAGkF,aAAaL,EAAOM,OAAQN,EAAOlB,MACtC3D,EAAGoF,eAAe,CAACD,KAAMN,EAAOM,OAAQxB,GAAIkB,EAAOlB,MAAO,IAC1D1D,EAAMN,QAAUkF,EAAOM,OAAQlF,EAAML,MAAQiF,EAAOlB,KAChDiB,GAAUA,EAASC,EAAOM,OAAQN,EAAOlB,UAG/C,SAASzC,EAAYlB,GAAKA,EAAG2E,WAAU,WACrC,IAAI1E,EAAQF,EAAeC,GAC3BC,EAAMJ,UAAYI,EAAMvB,MACnBuB,EAAMvB,QACXuB,EAAMvB,MAAQuB,EAAMoC,UAAY,KAChCrC,EAAGsC,cAAcrC,EAAMH,SACnBG,EAAMwC,WAAYxC,EAAMwC,SAASC,QAASzC,EAAMwC,SAAW,UAGjE,SAAS4C,EAAGC,EAAKC,GACf,IAAIC,EAAUF,EAAMzB,SAAS4B,cAAcH,GAAOzB,SAAS6B,yBAC3D,IAAK,IAAIC,KAAOJ,EACdC,EAAQG,GAAOJ,EAAMI,GAEvB,IAAK,IAAItJ,EAAI,EAAGA,EAAIuJ,UAAU1J,OAAQG,IAAK,CACzC,IAAIwJ,EAAQD,UAAUvJ,GACtBmJ,EAAQM,YAA4B,iBAATD,EAAoBhC,SAASkC,eAAeF,GAASA,GAElF,OAAOL,EAGT,SAASpB,EAAepE,GACtB,OAAOqF,EAAG,GAAI,KACJA,EAAG,OAAQ,CAACW,UAAW,2BAA4BhG,EAAGiG,OAAO,YAAa,IAC1EZ,EAAG,QAAS,CAACa,KAAM,OAAQ,MAAS,cAAeF,UAAW,4BAA6B,IAC3FX,EAAG,OAAQ,CAAC9B,MAAO,cAAeyC,UAAW,0BAC1ChG,EAAGiG,OAAO,yCAEzB,SAASE,EAAsBnG,GAC7B,OAAOqF,EAAG,GAAI,KAAM,IACVA,EAAG,QAAS,CAACa,KAAM,OAAQ,MAAS,cAAeF,UAAW,4BAA6B,IAC3FX,EAAG,OAAQ,CAAC9B,MAAO,cAAeyC,UAAW,0BAC1ChG,EAAGiG,OAAO,yCAEzB,SAASG,EAA0BpG,GACjC,OAAOqF,EAAG,GAAI,KACJA,EAAG,OAAQ,CAACW,UAAW,2BAA4BhG,EAAGiG,OAAO,UAAW,IACxEZ,EAAG,QAAS,CAACa,KAAM,OAAQ,MAAS,cAAeF,UAAW,6BAE1E,SAASK,EAAoBrG,GAC3B,OAAOqF,EAAG,GAAI,KACJA,EAAG,OAAQ,CAACW,UAAW,2BAA4BhG,EAAGiG,OAAO,aAAc,IAC3EZ,EAAG,SAAU,GAAIrF,EAAGiG,OAAO,QAAS,IACpCZ,EAAG,SAAU,GAAIrF,EAAGiG,OAAO,OAAQ,IACnCZ,EAAG,SAAU,GAAIrF,EAAGiG,OAAO,QAAS,IACpCZ,EAAG,SAAU,GAAIrF,EAAGiG,OAAO,UAGvC,SAASK,EAAWtG,EAAItB,EAAO+B,GAC7BT,EAAG2E,WAAU,WACX,IAAK,IAAIE,EAASxE,EAAgBL,EAAItB,GAAQmG,EAAO9B,YACnD,GAAoB,iBAATrE,EAAmB,CAC5B,IAAIW,EAAQW,EAAGuG,SAAS1B,EAAOM,OAAQN,EAAOlB,MAAMtE,MAAMX,GAC1DmG,EAAOhG,QAAQ4B,EAAK5B,QAAQ,WAAW,SAAS6E,EAAGrH,GAAI,OAAOgD,EAAMhD,YAC/DwI,EAAOhG,QAAQ4B,MAK5B,SAAS5B,EAAQmB,EAAIwG,GACnB,IAAIxG,EAAGuE,UAAU,YAAjB,CACA,IAAI7F,EAAQsB,EAAGiD,gBAAkBlD,EAAeC,GAAIH,UAChD4G,EAAaD,EAAMxG,EAAGiG,OAAO,gBAAkBjG,EAAGiG,OAAO,YACzDS,EAAWrB,EAAG,GAAI,KACJA,EAAG,OAAQ,CAACW,UAAW,2BAA4BS,GACnDN,EAAsBnG,IACxCqB,EAAOrB,EAAI0G,EAAUD,EAAY/H,GAAO,SAASA,GAC1CA,IACLA,EAAQqD,EAAWrD,GACnB2C,EAAOrB,EAAIoG,EAA0BpG,GAAKA,EAAGiG,OAAO,iBAAkB,IAAI,SAASxF,GAEjF,GADAA,EAAOoB,EAAYpB,GACf+F,EACFF,EAAWtG,EAAItB,EAAO+B,OACjB,CACLS,EAAYlB,GACZ,IAAI6E,EAASxE,EAAgBL,EAAItB,EAAOsB,EAAGsD,UAAU,SACjDqD,EAAU,WACZ,IAA2BtH,EAAvBuH,EAAQ/B,EAAOM,SACb9F,EAAQwF,EAAO9B,cACnB8B,EAASxE,EAAgBL,EAAItB,KACvBW,EAAQwF,EAAO9B,aAChB6D,GAAS/B,EAAOM,OAAOvB,MAAQgD,EAAMhD,MAAQiB,EAAOM,OAAOrD,IAAM8E,EAAM9E,MAE9E9B,EAAGkF,aAAaL,EAAOM,OAAQN,EAAOlB,MACtC3D,EAAGoF,eAAe,CAACD,KAAMN,EAAOM,OAAQxB,GAAIkB,EAAOlB,OACnDlC,EAAczB,EAAIqG,EAAoBrG,GAAKA,EAAGiG,OAAO,YACvC,CAAC,WAAYY,EAAUxH,IAAUsH,EAChC,WAAYL,EAAWtG,EAAItB,EAAO+B,QAE/CoG,EAAY,SAASxH,GACvBwF,EAAOhG,QAAwB,iBAATH,EAAoB+B,EAC3BA,EAAK5B,QAAQ,WAAW,SAAS6E,EAAGrH,GAAI,OAAOgD,EAAMhD,OACpEsK,KAEFA,aA9PRnI,EAAWsI,aAAa,SAAU,CAAC3F,QAAQ,IAoQ3C3C,EAAWuI,SAASjC,KAAO,SAAS9E,GAAKkB,EAAYlB,GAAK2C,EAAS3C,IACnExB,EAAWuI,SAASC,eAAiB,SAAShH,GAAKkB,EAAYlB,GAAK2C,EAAS3C,GAAI,GAAO,IACxFxB,EAAWuI,SAASE,mBAAqB,SAASjH,GAAK2C,EAAS3C,GAAI,GAAO,GAAM,IACjFxB,EAAWuI,SAASG,mBAAqB,SAASlH,GAAK2C,EAAS3C,GAAI,GAAM,GAAM,IAChFxB,EAAWuI,SAAShE,SAAWJ,EAC/BnE,EAAWuI,SAASI,SAAW,SAASnH,GAAK2C,EAAS3C,GAAI,IAC1DxB,EAAWuI,SAAS7F,YAAcA,EAClC1C,EAAWuI,SAASlI,QAAUA,EAC9BL,EAAWuI,SAAST,WAAa,SAAStG,GAAKnB,EAAQmB,GAAI,Q,wBC/R7D,SAAUzB,GAENA,EAAI,EAAQ,UAFhB,EAOG,SAASC,GACV,IAAI4I,EAAW,CACbC,MAAO,eACPC,YAAa,YACbC,QAAS,GACTC,QAAS,QAGPzC,EAAMvG,EAAWuG,IAcrB,SAASR,EAAUkD,EAAMC,GACvB,MAAY,SAARA,GAAkC,iBAARD,EAAyBA,EACpC,iBAARA,GAAkC,MAAdA,EAAKC,GAAsBD,EAAKC,GACxDN,EAASM,GAflBlJ,EAAWsI,aAAa,qBAAqB,GAAO,SAAS9G,EAAI2H,EAAKC,GAChEA,GAAOA,GAAOpJ,EAAWqJ,OAC3B7H,EAAG8H,aAAarD,GAChBzE,EAAGC,MAAM8H,cAAgB,MAEvBJ,IACFK,EAAYzD,EAAUoD,EAAK,UAC3B3H,EAAGC,MAAM8H,cAAgBJ,EACzB3H,EAAGiI,UAAUxD,OAUjB,IAAIA,EAAS,CAACyD,UAAWC,EAAiBC,MAAOC,GACjD,SAASL,EAAYM,GACnB,IAAK,IAAIjM,EAAI,EAAGA,EAAIiM,EAAMpM,OAAQG,IAAK,CACrC,IAAIyF,EAAKwG,EAAMxL,OAAOT,GAAIsJ,EAAM,IAAM7D,EAAK,IACtC2C,EAAOkB,KAAMlB,EAAOkB,GAAO4C,EAAQzG,KAK5C,SAASyG,EAAQzG,GACf,OAAO,SAAS9B,GAAM,OAAOwI,EAAWxI,EAAI8B,IAG9C,SAAS2G,EAAUzI,GACjB,IAAIU,EAAQV,EAAGC,MAAM8H,cACrB,IAAKrH,GAASA,EAAMgI,SAAU,OAAOhI,EACrC,IAAIiI,EAAO3I,EAAG4I,UAAU5I,EAAGsD,aAC3B,OAAOqF,EAAKZ,eAAiBrH,EAG/B,SAASyH,EAAgBnI,GACvB,IAAIyH,EAAOgB,EAAUzI,GACrB,IAAKyH,GAAQzH,EAAGuE,UAAU,gBAAiB,OAAO/F,EAAWqK,KAI7D,IAFA,IAAIxB,EAAQ9C,EAAUkD,EAAM,SACxBqB,EAAS9I,EAAG+I,iBACP1M,EAAI,EAAGA,EAAIyM,EAAO5M,OAAQG,IAAK,CACtC,IAAKyM,EAAOzM,GAAG2M,QAAS,OAAOxK,EAAWqK,KAC1C,IAAII,EAASC,EAAYlJ,EAAI8I,EAAOzM,GAAG8M,MACvC,IAAKF,GAAU5B,EAAMpF,QAAQgH,GAAU,GAAK,EAAG,OAAOzK,EAAWqK,KAEnE,IAASxM,EAAIyM,EAAO5M,OAAS,EAAGG,GAAK,EAAGA,IAAK,CAC3C,IAAI+M,EAAMN,EAAOzM,GAAG8M,KACpBnJ,EAAGqJ,aAAa,GAAItE,EAAIqE,EAAIxF,KAAMwF,EAAItH,GAAK,GAAIiD,EAAIqE,EAAIxF,KAAMwF,EAAItH,GAAK,GAAI,YAI9E,SAASuG,EAAYrI,GACnB,IAAIyH,EAAOgB,EAAUzI,GACjBwH,EAAUC,GAAQlD,EAAUkD,EAAM,WACtC,IAAKD,GAAWxH,EAAGuE,UAAU,gBAAiB,OAAO/F,EAAWqK,KAGhE,IADA,IAAIC,EAAS9I,EAAG+I,iBACP1M,EAAI,EAAGA,EAAIyM,EAAO5M,OAAQG,IAAK,CACtC,IAAKyM,EAAOzM,GAAG2M,QAAS,OAAOxK,EAAWqK,KAC1C,IAAII,EAASC,EAAYlJ,EAAI8I,EAAOzM,GAAG8M,MACvC,IAAKF,GAAUzB,EAAQvF,QAAQgH,GAAU,GAAK,EAAG,OAAOzK,EAAWqK,KAErE7I,EAAG2E,WAAU,WACX,IAAI2E,EAAUtJ,EAAGuJ,iBAAmB,KACpCvJ,EAAGwJ,iBAAiBF,EAAUA,EAAS,MACvCG,EAAQzJ,GAAK,GACb8I,EAAS9I,EAAG+I,iBACZ,IAAK,IAAI1M,EAAI,EAAGA,EAAIyM,EAAO5M,OAAQG,IAAK,CACtC,IAAIuH,EAAOkF,EAAOzM,GAAG8M,KAAKvF,KAC1B5D,EAAG0J,WAAW9F,EAAM,MAAM,GAC1B5D,EAAG0J,WAAW9F,EAAO,EAAG,MAAM,OAKpC,SAAS6F,EAAQzJ,EAAI2J,GAEnB,IADA,IAAIC,EAAY,GAAId,EAAS9I,EAAG+I,iBAAkBc,EAAU,EACnDxN,EAAI,EAAGA,EAAIyM,EAAO5M,OAAQG,IAAK,CACtC,IAAIyN,EAAQhB,EAAOzM,GACfyN,EAAMX,MAAQnJ,EAAGsD,cAAauG,EAAUxN,GAC5C,IAAI+C,EAAM0K,EAAMX,KAAKrH,IAAM6H,EAAM,EAAI,CAAC/F,KAAMkG,EAAMX,KAAKvF,KAAM9B,GAAIgI,EAAMX,KAAKrH,GAAK6H,GAAO,CAAC/F,KAAMkG,EAAMX,KAAKvF,KAAO,GACjHgG,EAAUG,KAAK,CAACC,OAAQ5K,EAAK+J,KAAM/J,IAErCY,EAAGiK,cAAcL,EAAWC,GAG9B,SAASK,EAAkBC,GACzB,IAAIC,EAAW5L,EAAW6L,OAAOF,EAAIH,OAAQG,EAAIhB,MAAQ,EACzD,MAAO,CAACa,OAAQ,IAAIjF,EAAIoF,EAAIH,OAAOpG,KAAMuG,EAAIH,OAAOlI,IAAMsI,GAAY,EAAI,IAClEjB,KAAM,IAAIpE,EAAIoF,EAAIhB,KAAKvF,KAAMuG,EAAIhB,KAAKrH,IAAMsI,EAAW,GAAK,KAGtE,SAAS5B,EAAWxI,EAAI8B,GACtB,IAAI2F,EAAOgB,EAAUzI,GACrB,IAAKyH,GAAQzH,EAAGuE,UAAU,gBAAiB,OAAO/F,EAAWqK,KAE7D,IAAIxB,EAAQ9C,EAAUkD,EAAM,SACxBrI,EAAMiI,EAAMpF,QAAQH,GACxB,IAAY,GAAR1C,EAAW,OAAOZ,EAAWqK,KAWjC,IATA,IAQI3C,EARAoB,EAAc/C,EAAUkD,EAAK,eAE7BF,EAAUhD,EAAUkD,EAAM,WAE1B6C,EAAYjD,EAAMvK,OAAOsC,EAAM,IAAM0C,EACrCgH,EAAS9I,EAAG+I,iBACZwB,EAAUnL,EAAM,GAAK,EAGhB/C,EAAI,EAAGA,EAAIyM,EAAO5M,OAAQG,IAAK,CACtC,IAAyCmO,EAArCV,EAAQhB,EAAOzM,GAAI+M,EAAMU,EAAMX,KAC/BsB,EAAOzK,EAAGuG,SAAS6C,EAAKrE,EAAIqE,EAAIxF,KAAMwF,EAAItH,GAAK,IACnD,GAAIyI,IAAYT,EAAMd,QACpBwB,EAAU,gBACL,IAAKF,GAAcC,GAAYE,GAAQ3I,EAOvC,GAAIwI,GAAalB,EAAItH,GAAK,GAAKyF,EAAQtF,QAAQH,IAAO,GAClD9B,EAAGuG,SAASxB,EAAIqE,EAAIxF,KAAMwF,EAAItH,GAAK,GAAIsH,IAAQtH,EAAKA,EAAI,CACjE,GAAIsH,EAAItH,GAAK,GAAK,WAAWK,KAAKnC,EAAG0K,eAAe3F,EAAIqE,EAAIxF,KAAMwF,EAAItH,GAAK,KAAM,OAAOtD,EAAWqK,KACnG2B,EAAU,eACL,GAAIF,EAAW,CACpB,IAAIvO,EAAiB,GAAVqN,EAAItH,GAAU,IAAM9B,EAAGuG,SAASxB,EAAIqE,EAAIxF,KAAMwF,EAAItH,GAAK,GAAIsH,GACtE,GAAK5K,EAAWmM,WAAWF,IAAS1O,GAAQ+F,GAAOtD,EAAWmM,WAAW5O,GACpE,OAAOyC,EAAWqK,KADyD2B,EAAU,WAErF,KAAID,KAA4B,IAAhBE,EAAKvO,QAAgB,KAAKiG,KAAKsI,IAASnD,EAAYrF,QAAQwI,IAAS,GAG1F,OAAOjM,EAAWqK,KAFlB2B,EAAU,YAdRA,EADEF,GAAaM,EAAkB5K,EAAIoJ,GAC3B,OACH7B,EAAQtF,QAAQH,IAAO,GAAK9B,EAAGuG,SAAS6C,EAAKrE,EAAIqE,EAAIxF,KAAMwF,EAAItH,GAAK,KAAOA,EAAKA,EAAKA,EAClF,YAEA,OAcd,GAAKoE,GACA,GAAIA,GAAQsE,EAAS,OAAOhM,EAAWqK,UADjC3C,EAAOsE,EAIpB,IAAIK,EAAOzL,EAAM,EAAIiI,EAAMvK,OAAOsC,EAAM,GAAK0C,EACzCgJ,EAAQ1L,EAAM,EAAI0C,EAAKuF,EAAMvK,OAAOsC,EAAM,GAC9CY,EAAG2E,WAAU,WACX,GAAY,QAARuB,EACFuD,EAAQzJ,EAAI,QACP,GAAY,aAARkG,EACTuD,EAAQzJ,EAAI,QACP,GAAY,YAARkG,EAAoB,CAE7B,IADA,IAAI6E,EAAO/K,EAAGgL,gBACL3O,EAAI,EAAGA,EAAI0O,EAAK7O,OAAQG,IAC/B0O,EAAK1O,GAAKwO,EAAOE,EAAK1O,GAAKyO,EAC7B9K,EAAGiL,kBAAkBF,EAAM,UAC3BA,EAAO/K,EAAG+I,iBAAiBmC,QAC3B,IAAS7O,EAAI,EAAGA,EAAI0O,EAAK7O,OAAQG,IAC/B0O,EAAK1O,GAAK6N,EAAkBa,EAAK1O,IACnC2D,EAAGiK,cAAcc,OACA,QAAR7E,GACTlG,EAAGwJ,iBAAiBqB,EAAOC,EAAO,MAClC9K,EAAGmL,gBAAgBN,EAAOC,GAC1BrB,EAAQzJ,GAAK,IACI,WAARkG,IACTlG,EAAGwJ,iBAAiBqB,EAAOA,EAAOA,EAAOA,EAAM,UAC/CpB,EAAQzJ,EAAI,OAKlB,SAASkJ,EAAYlJ,EAAIZ,GACvB,IAAIxC,EAAMoD,EAAGuG,SAASxB,EAAI3F,EAAIwE,KAAMxE,EAAI0C,GAAK,GACvBiD,EAAI3F,EAAIwE,KAAMxE,EAAI0C,GAAK,IAC7C,OAAqB,GAAdlF,EAAIV,OAAcU,EAAM,KAGjC,SAASgO,EAAkB5K,EAAIZ,GAC7B,IAAIH,EAAQe,EAAGoL,WAAWrG,EAAI3F,EAAIwE,KAAMxE,EAAI0C,GAAK,IACjD,MAAO,WAAWK,KAAKlD,EAAMiH,OAASjH,EAAM2H,OAASxH,EAAI0C,KAC5C,GAAV1C,EAAI0C,KAAY,WAAWK,KAAKnC,EAAG0K,eAAetL,KAzJvD4I,EAAYZ,EAASC,MAAQ,S,mEC7CzBgE,EAAiBC,EAAQ,QACzBC,EAAM,IAAIF,EAEVG,E,wBACJ,aAAuB,IAAXC,EAAW,uDAAJ,GAAI,UACrBnO,KAAKmO,KAAOA,EACZnO,KAAKoO,OAASD,EACdnO,KAAKqO,UAAY,EACjBrO,KAAKsO,aAAe,EACpBtO,KAAKuO,cAAgB,EACrBvO,KAAKwO,UAAY,G,mCAEnB,SAAUC,EAASC,GACjB,OAAOT,EAAIU,WAAWF,EAASC,K,4BAEjC,WACE,IAAIE,EAAQ5O,KAAK6O,UAAU7O,KAAKoO,OAAQpO,KAAKmO,MACzCS,EAAMhQ,SACRoB,KAAKwO,UAAU/B,KAAK,CAClBmC,QACAE,QAAS9O,KAAKsO,eAEhBtO,KAAK+O,mBAAmBH,GACxB5O,KAAKsO,kB,4BAGT,SAAeU,GAEb,IADA,IAAIC,EAAoBjP,KAAKuO,cACpBxP,EAAI,EAAGA,EAAIiQ,EAAKE,QAAQtQ,OAAQG,IACnCiQ,EAAKE,QAAQnQ,GAAG+P,QAAU9O,KAAKuO,gBAGnCvO,KAAKmP,kBAAkBH,EAAKE,QAAQnQ,GAAG6P,OACvC5O,KAAK+O,mBAAmBC,EAAKE,QAAQnQ,GAAG6P,OACxCK,EAAoB9P,KAAKgB,IAAI8O,EAAmBD,EAAKE,QAAQnQ,GAAG+P,QAAU,IAE5E9O,KAAKuO,cAAgBU,EACrB,MAAOjP,KAAKwO,UAAU5P,QAAUoB,KAAKwO,UAAU,GAAGM,QAAUE,EAAKI,cAC/DpP,KAAKwO,UAAUa,QAEjBrP,KAAKsP,mB,+BAEP,SAAkBJ,GAChB,IAAIK,EAAStB,EAAIuB,YAAYN,EAASlP,KAAKmO,MAC3CnO,KAAKmO,KAAOoB,EAAO,GAGnB,IADA,IAAIE,EAAe,EACV1Q,EAAI,EAAGA,EAAIwQ,EAAO,GAAG3Q,OAAQG,IAChCwQ,EAAO,GAAGxQ,IACZ0Q,IAKJ,IAFA,IAAIC,EAAO,EACPC,EAAQ,EACH5Q,EAAI,EAAGA,EAAImQ,EAAQtQ,OAAQG,IAClC,GAAIwQ,EAAO,GAAGxQ,GAIZ,GAHImQ,EAAQnQ,GAAG6Q,SAAWV,EAAQnQ,GAAG8Q,QACnCC,QAAQC,IAAI,kBAAmBhR,GAE7BmQ,EAAQnQ,GAAG6Q,OAASV,EAAQnQ,GAAGiR,SAAWhQ,KAAKqO,UACjDsB,GAAST,EAAQnQ,GAAGkR,QAAUf,EAAQnQ,GAAGiR,YACtC,IAAId,EAAQnQ,GAAG6Q,QAAU5P,KAAKqO,UAAW,MAE5CqB,EAAOR,EAAQnQ,GAAG6Q,OAClB,IAAK,IAAIM,EAAI,EAAGA,EAAIhB,EAAQnQ,GAAGoR,MAAMvR,OAAQsR,IACb,GAA1BhB,EAAQnQ,GAAGoR,MAAMD,GAAG,GACtBR,GAAQR,EAAQnQ,GAAGoR,MAAMD,GAAG,GAAGtR,OACI,GAA1BsQ,EAAQnQ,GAAGoR,MAAMD,GAAG,GACzBR,GAAQ1P,KAAKqO,YACfsB,GAAST,EAAQnQ,GAAGoR,MAAMD,GAAG,GAAGtR,SAGlC8Q,GAAQR,EAAQnQ,GAAGoR,MAAMD,GAAG,GAAGtR,OAC3B8Q,GAAQ1P,KAAKqO,YACfsB,GAAST,EAAQnQ,GAAGoR,MAAMD,GAAG,GAAGtR,SAU5C,OAHAoB,KAAKqO,WAAasB,EACd3P,KAAKqO,UAAYrO,KAAKmO,KAAKvP,SAC7BoB,KAAKqO,UAAYrO,KAAKmO,KAAKvP,QACtB6Q,I,gCAET,SAAmBP,GACjB,IAAIK,EAAStB,EAAIuB,YAAYN,EAASlP,KAAKoO,QAC3CpO,KAAKoO,OAASmB,EAAO,K,yBAEvB,WAEE,OADAvP,KAAKsP,iBACE,CACLJ,QAASlP,KAAKwO,UACdY,cAAepP,KAAKuO,iB,0BAGxB,SAAajI,EAAM9B,GACjB,IAAIkL,EAAO,EACPU,EAAY,EAChB,MAAOA,EAAY9J,EACM,MAAnBtG,KAAKmO,KAAKuB,IACZU,IAEFV,IAEFA,GAAQlL,EACRxE,KAAKqO,UAAYqB,I,uBAEnB,WAGE,IAFA,IAAIW,GAAoB,EACpBD,EAAY,EACPrR,EAAIiB,KAAKqO,UAAY,EAAGtP,GAAK,EAAGA,IAClB,OAAjBiB,KAAKmO,KAAKpP,KACZqR,KACyB,GAArBC,IACFA,EAAmBtR,IAIzB,MAAO,CACLuH,KAAM8J,EACN5L,GAAIxE,KAAKqO,UAAY,EAAIgC,O,KAK/BzQ,EAAOC,QAAUqO,G,qBC5HjBtO,EAAOC,QAAUyQ,OAAOC,IAAM,SAAYC,EAAGC,GAE3C,OAAOD,IAAMC,EAAU,IAAND,GAAW,EAAIA,IAAM,EAAIC,EAAID,GAAKA,GAAKC,GAAKA,I,8DCL/D,4IAOA,MAAMC,EAAqC,qBAAdC,WACI,kBAAtBA,UAAUC,SACmB,gBAApCD,UAAUC,QAAQ9N,cACf,MAAM+N,UAAW,OAOpB,YAAY9Q,GACR+Q,MAAM/Q,GACNC,KAAK+Q,gBAAkBhR,EAAKiR,YAOhC,WACI,MAAO,YAOX,SACI,IAAKhR,KAAKiR,QAEN,OAEJ,MAAMC,EAAMlR,KAAKkR,MACXC,EAAYnR,KAAKD,KAAKoR,UAEtBpR,EAAO2Q,EACP,GACA,eAAK1Q,KAAKD,KAAM,QAAS,oBAAqB,MAAO,MAAO,aAAc,OAAQ,KAAM,UAAW,qBAAsB,eAAgB,kBAAmB,SAAU,aAAc,SAAU,uBAChMC,KAAKD,KAAKqR,eACVrR,EAAKsR,QAAUrR,KAAKD,KAAKqR,cAE7B,IACIpR,KAAKsR,GACD,SAA0BZ,EACpBS,EACI,IAAI,OAAUD,EAAKC,GACnB,IAAI,OAAUD,GAClB,IAAI,OAAUA,EAAKC,EAAWpR,GAE5C,MAAOwR,GACH,OAAOvR,KAAKwR,KAAK,QAASD,GAE9BvR,KAAKsR,GAAGG,WAAazR,KAAK0R,OAAOD,YAAc,OAC/CzR,KAAK2R,oBAOT,oBACI3R,KAAKsR,GAAGM,OAAS,KACT5R,KAAKD,KAAK8R,WACV7R,KAAKsR,GAAGQ,QAAQC,QAEpB/R,KAAKgS,UAEThS,KAAKsR,GAAGW,QAAUjS,KAAK2D,QAAQuO,KAAKlS,MACpCA,KAAKsR,GAAGa,UAAYC,GAAMpS,KAAKqS,OAAOD,EAAGpD,MACzChP,KAAKsR,GAAGgB,QAAU1N,GAAK5E,KAAKuS,QAAQ,kBAAmB3N,GAQ3D,MAAM4N,GACFxS,KAAKyS,UAAW,EAGhB,IAAK,IAAI1T,EAAI,EAAGA,EAAIyT,EAAQ5T,OAAQG,IAAK,CACrC,MAAM2T,EAASF,EAAQzT,GACjB4T,EAAa5T,IAAMyT,EAAQ5T,OAAS,EAC1C,eAAa8T,EAAQ1S,KAAK+Q,eAAgB/B,IAEtC,MAAMjP,EAAO,GACb,IAAK,SACG2S,EAAO5O,UACP/D,EAAK6S,SAAWF,EAAO5O,QAAQ8O,UAE/B5S,KAAKD,KAAK8S,mBAAmB,CAC7B,MAAMC,EAAM,kBAAoB9D,EAAO+D,EAAOC,WAAWhE,GAAQA,EAAKpQ,OAClEkU,EAAM9S,KAAKD,KAAK8S,kBAAkBI,YAClClT,EAAK6S,UAAW,GAO5B,IACQ,OAEA5S,KAAKsR,GAAG4B,KAAKlE,GAGbhP,KAAKsR,GAAG4B,KAAKlE,EAAMjP,GAG3B,MAAO6E,IAEH+N,GAGA,eAAS,KACL3S,KAAKyS,UAAW,EAChBzS,KAAKwR,KAAK,UACXxR,KAAKmT,iBAUxB,UAC2B,qBAAZnT,KAAKsR,KACZtR,KAAKsR,GAAG8B,QACRpT,KAAKsR,GAAK,MAQlB,MACI,IAAIlQ,EAAQpB,KAAKoB,OAAS,GAC1B,MAAMiS,EAASrT,KAAKD,KAAKuT,OAAS,MAAQ,KAC1C,IAAIC,EAAO,GAEPvT,KAAKD,KAAKwT,OACR,QAAUF,GAAqC,MAA3BG,OAAOxT,KAAKD,KAAKwT,OAClC,OAASF,GAAqC,KAA3BG,OAAOxT,KAAKD,KAAKwT,SACzCA,EAAO,IAAMvT,KAAKD,KAAKwT,MAGvBvT,KAAKD,KAAK0T,oBACVrS,EAAMpB,KAAKD,KAAK2T,gBAAkB,OAGjC1T,KAAK+Q,iBACN3P,EAAMuS,IAAM,GAEhB,MAAMC,EAAe,IAAQ5U,OAAOoC,GAC9ByS,GAA4C,IAArC7T,KAAKD,KAAK+T,SAASnP,QAAQ,KACxC,OAAQ0O,EACJ,OACCQ,EAAO,IAAM7T,KAAKD,KAAK+T,SAAW,IAAM9T,KAAKD,KAAK+T,UACnDP,EACAvT,KAAKD,KAAKgU,MACTH,EAAahV,OAAS,IAAMgV,EAAe,IAQpD,QACI,QAAU,UACJ,iBAAkB,QAAa5T,KAAKoK,OAASyG,EAAGtQ,UAAU6J,U,iECnLxEvK,EAAQmT,WAAaA,EACrBnT,EAAQmU,YAAcA,EACtBnU,EAAQoU,cAAgBA,EAOxB,IALA,IAAIC,EAAS,GACTC,EAAY,GACZC,EAA4B,qBAAfC,WAA6BA,WAAaC,MAEvDnG,EAAO,mEACFpP,EAAI,EAAG+T,EAAM3E,EAAKvP,OAAQG,EAAI+T,IAAO/T,EAC5CmV,EAAOnV,GAAKoP,EAAKpP,GACjBoV,EAAUhG,EAAKoG,WAAWxV,IAAMA,EAQlC,SAASyV,EAASb,GAChB,IAAIb,EAAMa,EAAI/U,OAEd,GAAIkU,EAAM,EAAI,EACZ,MAAM,IAAI2B,MAAM,kDAKlB,IAAIC,EAAWf,EAAIhP,QAAQ,MACT,IAAd+P,IAAiBA,EAAW5B,GAEhC,IAAI6B,EAAkBD,IAAa5B,EAC/B,EACA,EAAK4B,EAAW,EAEpB,MAAO,CAACA,EAAUC,GAIpB,SAAS3B,EAAYW,GACnB,IAAIiB,EAAOJ,EAAQb,GACfe,EAAWE,EAAK,GAChBD,EAAkBC,EAAK,GAC3B,OAAuC,GAA9BF,EAAWC,GAAuB,EAAKA,EAGlD,SAASE,EAAalB,EAAKe,EAAUC,GACnC,OAAuC,GAA9BD,EAAWC,GAAuB,EAAKA,EAGlD,SAASX,EAAaL,GACpB,IAAImB,EAcA/V,EAbA6V,EAAOJ,EAAQb,GACfe,EAAWE,EAAK,GAChBD,EAAkBC,EAAK,GAEvBG,EAAM,IAAIX,EAAIS,EAAYlB,EAAKe,EAAUC,IAEzCK,EAAU,EAGVlC,EAAM6B,EAAkB,EACxBD,EAAW,EACXA,EAGJ,IAAK3V,EAAI,EAAGA,EAAI+T,EAAK/T,GAAK,EACxB+V,EACGX,EAAUR,EAAIY,WAAWxV,KAAO,GAChCoV,EAAUR,EAAIY,WAAWxV,EAAI,KAAO,GACpCoV,EAAUR,EAAIY,WAAWxV,EAAI,KAAO,EACrCoV,EAAUR,EAAIY,WAAWxV,EAAI,IAC/BgW,EAAIC,KAAcF,GAAO,GAAM,IAC/BC,EAAIC,KAAcF,GAAO,EAAK,IAC9BC,EAAIC,KAAmB,IAANF,EAmBnB,OAhBwB,IAApBH,IACFG,EACGX,EAAUR,EAAIY,WAAWxV,KAAO,EAChCoV,EAAUR,EAAIY,WAAWxV,EAAI,KAAO,EACvCgW,EAAIC,KAAmB,IAANF,GAGK,IAApBH,IACFG,EACGX,EAAUR,EAAIY,WAAWxV,KAAO,GAChCoV,EAAUR,EAAIY,WAAWxV,EAAI,KAAO,EACpCoV,EAAUR,EAAIY,WAAWxV,EAAI,KAAO,EACvCgW,EAAIC,KAAcF,GAAO,EAAK,IAC9BC,EAAIC,KAAmB,IAANF,GAGZC,EAGT,SAASE,EAAiBhW,GACxB,OAAOiV,EAAOjV,GAAO,GAAK,IACxBiV,EAAOjV,GAAO,GAAK,IACnBiV,EAAOjV,GAAO,EAAI,IAClBiV,EAAa,GAANjV,GAGX,SAASiW,EAAaC,EAAO7L,EAAO8L,GAGlC,IAFA,IAAIN,EACAO,EAAS,GACJtW,EAAIuK,EAAOvK,EAAIqW,EAAKrW,GAAK,EAChC+V,GACIK,EAAMpW,IAAM,GAAM,WAClBoW,EAAMpW,EAAI,IAAM,EAAK,QACP,IAAfoW,EAAMpW,EAAI,IACbsW,EAAO5I,KAAKwI,EAAgBH,IAE9B,OAAOO,EAAOC,KAAK,IAGrB,SAASrB,EAAekB,GAQtB,IAPA,IAAIL,EACAhC,EAAMqC,EAAMvW,OACZ2W,EAAazC,EAAM,EACnB0C,EAAQ,GACRC,EAAiB,MAGZ1W,EAAI,EAAG2W,EAAO5C,EAAMyC,EAAYxW,EAAI2W,EAAM3W,GAAK0W,EACtDD,EAAM/I,KAAKyI,EAAYC,EAAOpW,EAAIA,EAAI0W,EAAkBC,EAAOA,EAAQ3W,EAAI0W,IAqB7E,OAjBmB,IAAfF,GACFT,EAAMK,EAAMrC,EAAM,GAClB0C,EAAM/I,KACJyH,EAAOY,GAAO,GACdZ,EAAQY,GAAO,EAAK,IACpB,OAEsB,IAAfS,IACTT,GAAOK,EAAMrC,EAAM,IAAM,GAAKqC,EAAMrC,EAAM,GAC1C0C,EAAM/I,KACJyH,EAAOY,GAAO,IACdZ,EAAQY,GAAO,EAAK,IACpBZ,EAAQY,GAAO,EAAK,IACpB,MAIGU,EAAMF,KAAK,IAlIpBnB,EAAU,IAAII,WAAW,IAAM,GAC/BJ,EAAU,IAAII,WAAW,IAAM,I,oCCnBhB,YACS,qBAAToB,KACAA,KAEgB,qBAAXC,OACLA,OAGAC,SAAS,cAATA,GARA,I,iDCKf,SAAU5U,GAENA,EAAI,EAAQ,UAFhB,EAOG,SAASC,GACV,SAAS4U,EAAUpT,EAAIqT,EAAUlS,GAC/B,IACIE,EADAiS,EAAOtT,EAAGuT,oBAcd,OAZAlS,EAASiS,EAAKxN,YAAYjC,SAAS4B,cAAc,QAE/CpE,EAAO2E,UADL7E,EACiB,6CAEA,0CAEE,iBAAZkS,EACThS,EAAOmS,UAAYH,EAEnBhS,EAAOyE,YAAYuN,GAErB7U,EAAWiV,SAASH,EAAM,iBACnBjS,EAGT,SAASqS,EAAkB1T,EAAI2T,GACzB3T,EAAGC,MAAM2T,0BACX5T,EAAGC,MAAM2T,2BACX5T,EAAGC,MAAM2T,yBAA2BD,EAGtCnV,EAAWqV,gBAAgB,cAAc,SAASR,EAAUzO,EAAUxD,GAC/DA,IAASA,EAAU,IAExBsS,EAAkBpW,KAAM,MAExB,IAAI+D,EAAS+R,EAAU9V,KAAM+V,EAAUjS,EAAQD,QAC3C2S,GAAS,EAAOC,EAAKzW,KACzB,SAASoT,EAAMiD,GACb,GAAqB,iBAAVA,EACTK,EAAIlT,MAAQ6S,MACP,CACL,GAAIG,EAAQ,OACZA,GAAS,EACTtV,EAAWyV,QAAQ5S,EAAO6S,WAAY,iBACtC7S,EAAO6S,WAAWC,YAAY9S,GAC9B0S,EAAGK,QAEChT,EAAQH,SAASG,EAAQH,QAAQI,IAIzC,IAAmDgT,EAA/CL,EAAM3S,EAAOiT,qBAAqB,SAAS,GAuC/C,OAtCIN,GACFA,EAAII,QAEAhT,EAAQN,QACVkT,EAAIlT,MAAQM,EAAQN,OACc,IAA9BM,EAAQL,mBACViT,EAAIO,UAIJnT,EAAQoT,SACVhW,EAAWiW,GAAGT,EAAK,SAAS,SAAS9R,GAAKd,EAAQoT,QAAQtS,EAAG8R,EAAIlT,MAAO4P,MACtEtP,EAAQsT,SACVlW,EAAWiW,GAAGT,EAAK,SAAS,SAAS9R,GAAId,EAAQsT,QAAQxS,EAAG8R,EAAIlT,MAAO4P,MAEzElS,EAAWiW,GAAGT,EAAK,WAAW,SAAS9R,GACjCd,GAAWA,EAAQR,WAAaQ,EAAQR,UAAUsB,EAAG8R,EAAIlT,MAAO4P,MACnD,IAAbxO,EAAEyS,UAA2C,IAAzBvT,EAAQJ,cAAuC,IAAbkB,EAAEyS,WAC1DX,EAAIY,OACJpW,EAAW6E,OAAOnB,GAClBwO,KAEe,IAAbxO,EAAEyS,SAAe/P,EAASoP,EAAIlT,MAAOoB,QAGf,IAAxBd,EAAQyT,aAAuBrW,EAAWiW,GAAGpT,EAAQ,YAAY,SAAUyT,GACnD,OAAtBA,EAAIC,eAAwBrE,SAEzB2D,EAAShT,EAAOiT,qBAAqB,UAAU,MACxD9V,EAAWiW,GAAGJ,EAAQ,SAAS,WAC7B3D,IACAqD,EAAGK,YAGuB,IAAxBhT,EAAQyT,aAAuBrW,EAAWiW,GAAGJ,EAAQ,OAAQ3D,GAEjE2D,EAAOD,SAEF1D,KAGTlS,EAAWqV,gBAAgB,eAAe,SAASR,EAAU2B,EAAW5T,GACtEsS,EAAkBpW,KAAM,MACxB,IAAI+D,EAAS+R,EAAU9V,KAAM+V,EAAUjS,GAAWA,EAAQD,QACtD8T,EAAU5T,EAAOiT,qBAAqB,UACtCR,GAAS,EAAOC,EAAKzW,KAAM4X,EAAW,EAC1C,SAASxE,IACHoD,IACJA,GAAS,EACTtV,EAAWyV,QAAQ5S,EAAO6S,WAAY,iBACtC7S,EAAO6S,WAAWC,YAAY9S,GAC9B0S,EAAGK,SAELa,EAAQ,GAAGb,QACX,IAAK,IAAI/X,EAAI,EAAGA,EAAI4Y,EAAQ/Y,SAAUG,EAAG,CACvC,IAAI8Y,EAAIF,EAAQ5Y,IAChB,SAAUuI,GACRpG,EAAWiW,GAAGU,EAAG,SAAS,SAASjT,GACjC1D,EAAW4W,iBAAiBlT,GAC5BwO,IACI9L,GAAUA,EAASmP,OAJ3B,CAMGiB,EAAU3Y,IACbmC,EAAWiW,GAAGU,EAAG,QAAQ,aACrBD,EACFG,YAAW,WAAiBH,GAAY,GAAGxE,MAAY,QAEzDlS,EAAWiW,GAAGU,EAAG,SAAS,aAAeD,SAY7C1W,EAAWqV,gBAAgB,oBAAoB,SAASR,EAAUjS,GAChEsS,EAAkBpW,KAAMoT,GACxB,IACoB4E,EADhBjU,EAAS+R,EAAU9V,KAAM+V,EAAUjS,GAAWA,EAAQD,QACtD2S,GAAS,EACThW,EAAWsD,GAAuC,qBAArBA,EAAQtD,SAA2BsD,EAAQtD,SAAW,IAEvF,SAAS4S,IACHoD,IACJA,GAAS,EACTyB,aAAaD,GACb9W,EAAWyV,QAAQ5S,EAAO6S,WAAY,iBACtC7S,EAAO6S,WAAWC,YAAY9S,IAWhC,OARA7C,EAAWiW,GAAGpT,EAAQ,SAAS,SAASa,GACtC1D,EAAW4W,iBAAiBlT,GAC5BwO,OAGE5S,IACFwX,EAAYD,WAAW3E,EAAO5S,IAEzB4S,S,uBChKX,IAAI8E,EAAI,EAAQ,QACZ3H,EAAK,EAAQ,QAIjB2H,EAAE,CAAEC,OAAQ,SAAUC,MAAM,GAAQ,CAClC7H,GAAIA,K,8MCNN,MAAM8H,EAAe/H,OAAOgI,OAAO,MACnCD,EAAa,QAAU,IACvBA,EAAa,SAAW,IACxBA,EAAa,QAAU,IACvBA,EAAa,QAAU,IACvBA,EAAa,WAAa,IAC1BA,EAAa,WAAa,IAC1BA,EAAa,QAAU,IACvB,MAAME,EAAuBjI,OAAOgI,OAAO,MAC3ChI,OAAOkI,KAAKH,GAAcI,QAAQpQ,IAC9BkQ,EAAqBF,EAAahQ,IAAQA,IAE9C,MAAMqQ,EAAe,CAAE9P,KAAM,QAASoG,KAAM,gBCXtC2J,EAAiC,oBAATC,MACT,qBAATA,MACqC,6BAAzCtI,OAAO/P,UAAUsY,SAASC,KAAKF,MACjCG,EAA+C,oBAAhBC,YAE/BC,EAASC,GAC0B,oBAAvBF,YAAYC,OACpBD,YAAYC,OAAOC,GACnBA,GAAOA,EAAIC,kBAAkBH,YAEjCI,EAAe,EAAGxQ,OAAMoG,QAAQ+B,EAAgBzJ,IAC9CqR,GAAkB3J,aAAgB4J,KAC9B7H,EACOzJ,EAAS0H,GAGTqK,EAAmBrK,EAAM1H,GAG/ByR,IACJ/J,aAAgBgK,aAAeC,EAAOjK,IACnC+B,EACOzJ,EAAS0H,GAGTqK,EAAmB,IAAIT,KAAK,CAAC5J,IAAQ1H,GAI7CA,EAAS+Q,EAAazP,IAASoG,GAAQ,KAE5CqK,EAAqB,CAACrK,EAAM1H,KAC9B,MAAMgS,EAAa,IAAIC,WAKvB,OAJAD,EAAWE,OAAS,WAChB,MAAMC,EAAUH,EAAW/J,OAAO5Q,MAAM,KAAK,GAC7C2I,EAAS,IAAMmS,IAEZH,EAAWI,cAAc1K,IC9BpC,IDgCe,QCnCXhE,EAAQ,mEAERkJ,EAA+B,qBAAfG,WAA6B,GAAK,IAAIA,WAAW,KAC5D,EAAI,EAAG,EAAIrJ,EAAMpM,OAAQ,IAC9BsV,EAAOlJ,EAAMuJ,WAAW,IAAM,EAElC,IAgBIlV,EAAS,SAAUsa,GACnB,IAA8D5a,EAAU6a,EAAUC,EAAUC,EAAUC,EAAlGC,EAA+B,IAAhBL,EAAO/a,OAAekU,EAAM6G,EAAO/a,OAAWqb,EAAI,EACnC,MAA9BN,EAAOA,EAAO/a,OAAS,KACvBob,IACkC,MAA9BL,EAAOA,EAAO/a,OAAS,IACvBob,KAGR,IAAIE,EAAc,IAAIlB,YAAYgB,GAAeG,EAAQ,IAAI9F,WAAW6F,GACxE,IAAKnb,EAAI,EAAGA,EAAI+T,EAAK/T,GAAK,EACtB6a,EAAW1F,EAAOyF,EAAOpF,WAAWxV,IACpC8a,EAAW3F,EAAOyF,EAAOpF,WAAWxV,EAAI,IACxC+a,EAAW5F,EAAOyF,EAAOpF,WAAWxV,EAAI,IACxCgb,EAAW7F,EAAOyF,EAAOpF,WAAWxV,EAAI,IACxCob,EAAMF,KAAQL,GAAY,EAAMC,GAAY,EAC5CM,EAAMF,MAAoB,GAAXJ,IAAkB,EAAMC,GAAY,EACnDK,EAAMF,MAAoB,EAAXH,IAAiB,EAAiB,GAAXC,EAE1C,OAAOG,GC3CX,MAAM,EAA+C,oBAAhBlB,YAC/BoB,EAAe,CAACC,EAAe5I,KACjC,GAA6B,kBAAlB4I,EACP,MAAO,CACHzR,KAAM,UACNoG,KAAMsL,EAAUD,EAAe5I,IAGvC,MAAM7I,EAAOyR,EAAc7a,OAAO,GAClC,GAAa,MAAToJ,EACA,MAAO,CACHA,KAAM,UACNoG,KAAMuL,EAAmBF,EAAcG,UAAU,GAAI/I,IAG7D,MAAMgJ,EAAalC,EAAqB3P,GACxC,OAAK6R,EAGEJ,EAAczb,OAAS,EACxB,CACEgK,KAAM2P,EAAqB3P,GAC3BoG,KAAMqL,EAAcG,UAAU,IAEhC,CACE5R,KAAM2P,EAAqB3P,IARxB8P,GAWT6B,EAAqB,CAACvL,EAAMyC,KAC9B,GAAI,EAAuB,CACvB,MAAMlS,EAAUF,EAAO2P,GACvB,OAAOsL,EAAU/a,EAASkS,GAG1B,MAAO,CAAEkI,QAAQ,EAAM3K,SAGzBsL,EAAY,CAACtL,EAAMyC,KACrB,OAAQA,GACJ,IAAK,OACD,OAAOzC,aAAgBgK,YAAc,IAAIJ,KAAK,CAAC5J,IAASA,EAC5D,IAAK,cACL,QACI,OAAOA,IAGJ,QC9Cf,MAAM0L,EAAYC,OAAOC,aAAa,IAChCC,EAAgB,CAACrI,EAASlL,KAE5B,MAAM1I,EAAS4T,EAAQ5T,OACjBkc,EAAiB,IAAIxG,MAAM1V,GACjC,IAAImc,EAAQ,EACZvI,EAAQiG,QAAQ,CAAC/F,EAAQ3T,KAErB,EAAa2T,GAAQ,EAAO2H,IACxBS,EAAe/b,GAAKsb,IACdU,IAAUnc,GACZ0I,EAASwT,EAAexF,KAAKoF,SAKvCM,EAAgB,CAACC,EAAgBxJ,KACnC,MAAMqJ,EAAiBG,EAAetc,MAAM+b,GACtClI,EAAU,GAChB,IAAK,IAAIzT,EAAI,EAAGA,EAAI+b,EAAelc,OAAQG,IAAK,CAC5C,MAAMmc,EAAgB,EAAaJ,EAAe/b,GAAI0S,GAEtD,GADAe,EAAQ/F,KAAKyO,GACc,UAAvBA,EAActS,KACd,MAGR,OAAO4J,GAEE2I,EAAW,G,oCC9BxB,0EAGO,MAAMC,UAAkB,aAO3B,YAAYrb,GACR+Q,QACA9Q,KAAKyS,UAAW,EAChB,eAAsBzS,KAAMD,GAC5BC,KAAKD,KAAOA,EACZC,KAAKoB,MAAQrB,EAAKqB,MAClBpB,KAAKqb,WAAa,GAClBrb,KAAK0R,OAAS3R,EAAK2R,OASvB,QAAQ4J,EAAKC,GACT,MAAMhK,EAAM,IAAIkD,MAAM6G,GAMtB,OAJA/J,EAAI3I,KAAO,iBAEX2I,EAAIiK,YAAcD,EAClBzK,MAAMU,KAAK,QAASD,GACbvR,KAOX,OAKI,MAJI,WAAaA,KAAKqb,YAAc,KAAOrb,KAAKqb,aAC5Crb,KAAKqb,WAAa,UAClBrb,KAAKyb,UAEFzb,KAOX,QAKI,MAJI,YAAcA,KAAKqb,YAAc,SAAWrb,KAAKqb,aACjDrb,KAAK0b,UACL1b,KAAK2D,WAEF3D,KAQX,KAAKwS,GACG,SAAWxS,KAAKqb,YAChBrb,KAAK2b,MAAMnJ,GAWnB,SACIxS,KAAKqb,WAAa,OAClBrb,KAAKyS,UAAW,EAChB3B,MAAMU,KAAK,QAQf,OAAOxC,GACH,MAAM0D,EAAS,eAAa1D,EAAMhP,KAAK0R,OAAOD,YAC9CzR,KAAK4b,SAASlJ,GAOlB,SAASA,GACL5B,MAAMU,KAAK,SAAUkB,GAOzB,UACI1S,KAAKqb,WAAa,SAClBvK,MAAMU,KAAK,Y,oFC3GnB,IAAIqK,EAAa,EAAQ,QACrBC,EAAmB,EAAQ,QAI/BD,EAAW,OAAO,SAAUE,GAC1B,OAAO,WAAiB,OAAOA,EAAK/b,KAAMsI,UAAU1J,OAAS0J,UAAU,QAAK0T,MAC3EF,I,qBCAHjc,EAAQb,OAAS,SAAUka,GACzB,IAAI5Z,EAAM,GAEV,IAAK,IAAIP,KAAKma,EACRA,EAAI+C,eAAeld,KACjBO,EAAIV,SAAQU,GAAO,KACvBA,GAAO4c,mBAAmBnd,GAAK,IAAMmd,mBAAmBhD,EAAIna,KAIhE,OAAOO,GAUTO,EAAQR,OAAS,SAAS8c,GAGxB,IAFA,IAAIC,EAAM,GACNrS,EAAQoS,EAAGxd,MAAM,KACZI,EAAI,EAAGsd,EAAItS,EAAMnL,OAAQG,EAAIsd,EAAGtd,IAAK,CAC5C,IAAIud,EAAOvS,EAAMhL,GAAGJ,MAAM,KAC1Byd,EAAIG,mBAAmBD,EAAK,KAAOC,mBAAmBD,EAAK,IAE7D,OAAOF,I,4CC5BT,IAAII,EAAK,0OAELhH,EAAQ,CACR,SAAU,WAAY,YAAa,WAAY,OAAQ,WAAY,OAAQ,OAAQ,WAAY,OAAQ,YAAa,OAAQ,QAAS,UAiCzI,SAASiH,EAAUvD,EAAKnF,GACpB,IAAI2I,EAAO,WACPC,EAAQ5I,EAAKxS,QAAQmb,EAAM,KAAK/d,MAAM,KAS1C,MAPyB,KAArBoV,EAAK6I,OAAO,EAAG,IAA6B,IAAhB7I,EAAKnV,QACjC+d,EAAME,OAAO,EAAG,GAEmB,KAAnC9I,EAAK6I,OAAO7I,EAAKnV,OAAS,EAAG,IAC7B+d,EAAME,OAAOF,EAAM/d,OAAS,EAAG,GAG5B+d,EAGX,SAASG,EAAS5L,EAAK9P,GACnB,IAAI4N,EAAO,GAQX,OANA5N,EAAMG,QAAQ,6BAA6B,SAAUwb,EAAIC,EAAIC,GACrDD,IACAhO,EAAKgO,GAAMC,MAIZjO,EArDXpP,EAAOC,QAAU,SAAkBP,GAC/B,IAAI4d,EAAM5d,EACNuY,EAAIvY,EAAIqF,QAAQ,KAChBC,EAAItF,EAAIqF,QAAQ,MAEV,GAANkT,IAAiB,GAANjT,IACXtF,EAAMA,EAAIkb,UAAU,EAAG3C,GAAKvY,EAAIkb,UAAU3C,EAAGjT,GAAGrD,QAAQ,KAAM,KAAOjC,EAAIkb,UAAU5V,EAAGtF,EAAIV,SAG9F,IAAIue,EAAIX,EAAGxa,KAAK1C,GAAO,IACnB4R,EAAM,GACNnS,EAAI,GAER,MAAOA,IACHmS,EAAIsE,EAAMzW,IAAMoe,EAAEpe,IAAM,GAa5B,OAVU,GAAN8Y,IAAiB,GAANjT,IACXsM,EAAIzP,OAASyb,EACbhM,EAAIkM,KAAOlM,EAAIkM,KAAK5C,UAAU,EAAGtJ,EAAIkM,KAAKxe,OAAS,GAAG2C,QAAQ,KAAM,KACpE2P,EAAImM,UAAYnM,EAAImM,UAAU9b,QAAQ,IAAK,IAAIA,QAAQ,IAAK,IAAIA,QAAQ,KAAM,KAC9E2P,EAAIoM,SAAU,GAGlBpM,EAAIuL,UAAYA,EAAUvL,EAAKA,EAAI,SACnCA,EAAI4L,SAAWA,EAAS5L,EAAKA,EAAI,UAE1BA,I,wBC/BV,SAAU1P,EAAQ+b,GAC8C3d,EAAOC,QAAU0d,KADlF,CAIEvd,GAAM,WAAe,aAIrB,IAAIwd,EAAY7M,UAAU6M,UACtBC,EAAW9M,UAAU8M,SAErBC,EAAQ,aAAa7Y,KAAK2Y,GAC1BG,EAAY,UAAU9Y,KAAK2Y,GAC3BI,EAAU,wCAAwC5b,KAAKwb,GACvDK,EAAO,cAAc7b,KAAKwb,GAC1BM,EAAKH,GAAaC,GAAWC,EAC7BE,EAAaD,IAAOH,EAAYpX,SAASyX,cAAgB,IAAMH,GAAQD,GAAS,IAChFK,GAAUJ,GAAQ,WAAWhZ,KAAK2Y,GAClCU,EAAWD,GAAU,eAAepZ,KAAK2Y,GACzCW,GAAUN,GAAQ,WAAWhZ,KAAK2Y,GAClCY,EAAS,UAAUvZ,KAAK2Y,GACxBa,EAAS,iBAAiBxZ,KAAK8L,UAAU2N,QACzCC,EAAqB,+BAA+B1Z,KAAK2Y,GACzDgB,EAAU,YAAY3Z,KAAK2Y,GAE3BiB,EAAMJ,IAAW,cAAcxZ,KAAK2Y,IAAc7M,UAAU+N,eAAiB,GAC7EC,EAAU,UAAU9Z,KAAK2Y,GAEzBoB,EAASH,GAAOE,GAAW,mDAAmD9Z,KAAK2Y,GACnFqB,EAAMJ,GAAO,MAAM5Z,KAAK4Y,GACxBqB,EAAW,WAAWja,KAAK2Y,GAC3BuB,EAAU,OAAOla,KAAK4Y,GAEtBuB,EAAiBZ,GAAUZ,EAAUzb,MAAM,uBAC3Cid,IAAkBA,EAAiBxL,OAAOwL,EAAe,KACzDA,GAAkBA,GAAkB,KAAMZ,GAAS,EAAOH,GAAS,GAEvE,IAAIgB,EAAcJ,IAAQX,GAAYE,IAA6B,MAAlBY,GAA0BA,EAAiB,QACxFE,EAAoBxB,GAAUI,GAAMC,GAAc,EAEtD,SAASoB,EAAUC,GAAO,OAAO,IAAI9d,OAAO,UAAY8d,EAAM,iBAE9D,IAkCI5S,EAlCAmK,EAAU,SAAS0I,EAAMD,GAC3B,IAAIE,EAAUD,EAAK3W,UACf3G,EAAQod,EAAUC,GAAKpd,KAAKsd,GAChC,GAAIvd,EAAO,CACT,IAAIwd,EAAQD,EAAQ1R,MAAM7L,EAAMG,MAAQH,EAAM,GAAGnD,QACjDygB,EAAK3W,UAAY4W,EAAQ1R,MAAM,EAAG7L,EAAMG,QAAUqd,EAAQxd,EAAM,GAAKwd,EAAQ,MAIjF,SAASC,EAAe5a,GACtB,IAAK,IAAImW,EAAQnW,EAAE6a,WAAW7gB,OAAQmc,EAAQ,IAAKA,EAC/CnW,EAAEiS,YAAYjS,EAAE8a,YACpB,OAAO9a,EAGT,SAAS+a,EAAqBC,EAAQhb,GACpC,OAAO4a,EAAeI,GAAQpX,YAAY5D,GAG5C,SAASib,EAAI7X,EAAKyR,EAAS/Q,EAAWzC,GACpC,IAAIrB,EAAI2B,SAAS4B,cAAcH,GAG/B,GAFIU,IAAa9D,EAAE8D,UAAYA,GAC3BzC,IAASrB,EAAEqB,MAAM6Z,QAAU7Z,GACT,iBAAXwT,EAAuB7U,EAAE4D,YAAYjC,SAASkC,eAAegR,SACnE,GAAIA,EAAW,IAAK,IAAI1a,EAAI,EAAGA,EAAI0a,EAAQ7a,SAAUG,EAAK6F,EAAE4D,YAAYiR,EAAQ1a,IACrF,OAAO6F,EAGT,SAASmb,EAAK/X,EAAKyR,EAAS/Q,EAAWzC,GACrC,IAAIrB,EAAIib,EAAI7X,EAAKyR,EAAS/Q,EAAWzC,GAErC,OADArB,EAAEob,aAAa,OAAQ,gBAChBpb,EAoBT,SAASqb,EAASL,EAAQrX,GAGxB,GAFsB,GAAlBA,EAAM2X,WACN3X,EAAQA,EAAMqO,YACdgJ,EAAOK,SACP,OAAOL,EAAOK,SAAS1X,GAC3B,GAEE,GADsB,IAAlBA,EAAM2X,WAAkB3X,EAAQA,EAAM6U,MACtC7U,GAASqX,EAAU,OAAO,QACvBrX,EAAQA,EAAMqO,YAGzB,SAASuJ,IAIP,IAAIC,EACJ,IACEA,EAAgB7Z,SAAS6Z,cACzB,MAAMxb,GACNwb,EAAgB7Z,SAAS8Z,MAAQ,KAEnC,MAAOD,GAAiBA,EAAcE,YAAcF,EAAcE,WAAWF,cACzEA,EAAgBA,EAAcE,WAAWF,cAC7C,OAAOA,EAGT,SAASjK,EAASkJ,EAAMD,GACtB,IAAIE,EAAUD,EAAK3W,UACdyW,EAAUC,GAAKva,KAAKya,KAAYD,EAAK3W,YAAc4W,EAAU,IAAM,IAAMF,GAEhF,SAASmB,EAAYC,EAAG3I,GAEtB,IADA,IAAI4I,EAAKD,EAAE7hB,MAAM,KACRI,EAAI,EAAGA,EAAI0hB,EAAG7hB,OAAQG,IACvB0hB,EAAG1hB,KAAOogB,EAAUsB,EAAG1hB,IAAI8F,KAAKgT,KAAMA,GAAK,IAAM4I,EAAG1hB,IAC5D,OAAO8Y,EAlDmBrL,EAAxBjG,SAASma,YAAuB,SAASrB,EAAM/V,EAAO8L,EAAKuL,GAC7D,IAAIC,EAAIra,SAASma,cAGjB,OAFAE,EAAEC,OAAOF,GAAWtB,EAAMjK,GAC1BwL,EAAEE,SAASzB,EAAM/V,GACVsX,GAEM,SAASvB,EAAM/V,EAAO8L,GACnC,IAAIwL,EAAIra,SAAS8Z,KAAKU,kBACtB,IAAMH,EAAEI,kBAAkB3B,EAAKzI,YAC/B,MAAMhS,GAAK,OAAOgc,EAIlB,OAHAA,EAAEK,UAAS,GACXL,EAAEM,QAAQ,YAAa9L,GACvBwL,EAAEO,UAAU,YAAa7X,GAClBsX,GAwCT,IAAIQ,EAAc,SAAS/B,GAAQA,EAAKpI,UAMxC,SAAS/E,EAAKjO,GACZ,IAAIod,EAAO/M,MAAM/T,UAAUqN,MAAMkL,KAAKxQ,UAAW,GACjD,OAAO,WAAW,OAAOrE,EAAEqd,MAAM,KAAMD,IAGzC,SAASE,EAAQrI,EAAKf,EAAQqJ,GAE5B,IAAK,IAAIC,KADJtJ,IAAUA,EAAS,IACPe,GACTA,EAAI+C,eAAewF,KAAwB,IAAdD,GAAwBrJ,EAAO8D,eAAewF,KAC7EtJ,EAAOsJ,GAAQvI,EAAIuI,IACzB,OAAOtJ,EAKT,SAASuJ,EAAYzf,EAAQmT,EAAKuM,EAASC,EAAYC,GAC1C,MAAPzM,IACFA,EAAMnT,EAAOW,OAAO,gBACR,GAARwS,IAAaA,EAAMnT,EAAOrD,SAEhC,IAAK,IAAIG,EAAI6iB,GAAc,EAAGE,EAAID,GAAc,IAAK,CACnD,IAAIE,EAAU9f,EAAO0C,QAAQ,KAAM5F,GACnC,GAAIgjB,EAAU,GAAKA,GAAW3M,EAC1B,OAAO0M,GAAK1M,EAAMrW,GACtB+iB,GAAKC,EAAUhjB,EACf+iB,GAAKH,EAAWG,EAAIH,EACpB5iB,EAAIgjB,EAAU,GA/BdtD,EACA2C,EAAc,SAAS/B,GAAQA,EAAK2C,eAAiB,EAAG3C,EAAK4C,aAAe5C,EAAK7b,MAAM5E,QAClFkf,IACLsD,EAAc,SAAS/B,GAAQ,IAAMA,EAAKpI,SAAY,MAAMiL,OAgChE,IAAIC,EAAU,WACZniB,KAAKoiB,GAAK,KACVpiB,KAAKiE,EAAI,KACTjE,KAAKqiB,KAAO,EACZriB,KAAKiL,QAAUiH,EAAKlS,KAAKsiB,UAAWtiB,OAoBtC,SAAS2E,EAAQ4d,EAAO1C,GACtB,IAAK,IAAI9gB,EAAI,EAAGA,EAAIwjB,EAAM3jB,SAAUG,EAChC,GAAIwjB,EAAMxjB,IAAM8gB,EAAO,OAAO9gB,EAClC,OAAQ,EArBVojB,EAAQ5hB,UAAU+hB,UAAY,SAAU3M,GACtCA,EAAKyM,GAAK,EACNzM,EAAK0M,OAAS,IAAI1iB,KACpBgW,EAAK1R,IAEL8T,WAAWpC,EAAK1K,QAAS0K,EAAK0M,MAAQ,IAAI1iB,OAG9CwiB,EAAQ5hB,UAAUiiB,IAAM,SAAUviB,EAAIgE,GACpCjE,KAAKiE,EAAIA,EACT,IAAIoe,GAAQ,IAAI1iB,KAAOM,IAClBD,KAAKoiB,IAAMC,EAAOriB,KAAKqiB,QAC1BpK,aAAajY,KAAKoiB,IAClBpiB,KAAKoiB,GAAKrK,WAAW/X,KAAKiL,QAAShL,GACnCD,KAAKqiB,KAAOA,IAWhB,IAAII,EAAc,GAIdlX,EAAO,CAACsN,SAAU,WAAW,MAAO,oBAGpC6J,EAAiB,CAACC,QAAQ,GAAQC,EAAY,CAACC,OAAQ,UAAWC,EAAW,CAACD,OAAQ,SAI1F,SAASE,EAAW9gB,EAAQ+gB,EAAMrB,GAChC,IAAK,IAAI7f,EAAM,EAAGmhB,EAAM,IAAK,CAC3B,IAAIlB,EAAU9f,EAAO0C,QAAQ,KAAM7C,IACnB,GAAZigB,IAAiBA,EAAU9f,EAAOrD,QACtC,IAAIskB,EAAUnB,EAAUjgB,EACxB,GAAIigB,GAAW9f,EAAOrD,QAAUqkB,EAAMC,GAAWF,EAC7C,OAAOlhB,EAAM3C,KAAKe,IAAIgjB,EAASF,EAAOC,GAI1C,GAHAA,GAAOlB,EAAUjgB,EACjBmhB,GAAOtB,EAAWsB,EAAMtB,EACxB7f,EAAMigB,EAAU,EACZkB,GAAOD,EAAQ,OAAOlhB,GAI9B,IAAIqhB,EAAY,CAAC,IACjB,SAASC,EAAStB,GAChB,MAAOqB,EAAUvkB,QAAUkjB,EACvBqB,EAAU1W,KAAK4W,EAAIF,GAAa,KACpC,OAAOA,EAAUrB,GAGnB,SAASuB,EAAItO,GAAO,OAAOA,EAAIA,EAAInW,OAAO,GAE1C,SAASC,EAAI0jB,EAAOte,GAElB,IADA,IAAIqf,EAAM,GACDvkB,EAAI,EAAGA,EAAIwjB,EAAM3jB,OAAQG,IAAOukB,EAAIvkB,GAAKkF,EAAEse,EAAMxjB,GAAIA,GAC9D,OAAOukB,EAGT,SAASC,EAAahB,EAAO/e,EAAOggB,GAClC,IAAI1hB,EAAM,EAAG2hB,EAAWD,EAAMhgB,GAC9B,MAAO1B,EAAMygB,EAAM3jB,QAAU4kB,EAAMjB,EAAMzgB,KAAS2hB,EAAY3hB,IAC9DygB,EAAM1F,OAAO/a,EAAK,EAAG0B,GAGvB,SAASkgB,KAET,SAASC,EAAUC,EAAMC,GACvB,IAAIC,EAQJ,OAPIxT,OAAOgI,OACTwL,EAAOxT,OAAOgI,OAAOsL,IAErBF,EAAQnjB,UAAYqjB,EACpBE,EAAO,IAAIJ,GAETG,GAAStC,EAAQsC,EAAOC,GACrBA,EAGT,IAAIC,GAA6B,4GACjC,SAASC,GAAgBxf,GACvB,MAAO,KAAKK,KAAKL,IAAOA,EAAK,MAC1BA,EAAGyf,eAAiBzf,EAAG1B,eAAiBihB,GAA2Blf,KAAKL,IAE7E,SAAS6I,GAAW7I,EAAI0f,GACtB,OAAKA,KACDA,EAAOziB,OAAOkD,QAAQ,QAAU,GAAKqf,GAAgBxf,KAClD0f,EAAOrf,KAAKL,GAFGwf,GAAgBxf,GAKxC,SAAS2f,GAAQjL,GACf,IAAK,IAAI4I,KAAK5I,EAAO,GAAIA,EAAI+C,eAAe6F,IAAM5I,EAAI4I,GAAM,OAAO,EACnE,OAAO,EAQT,IAAIsC,GAAiB,64DACrB,SAASC,GAAgB7f,GAAM,OAAOA,EAAG+P,WAAW,IAAM,KAAO6P,GAAevf,KAAKL,GAGrF,SAAS8f,GAAmBhlB,EAAKwC,EAAKuK,GACpC,OAAQA,EAAM,EAAIvK,EAAM,EAAIA,EAAMxC,EAAIV,SAAWylB,GAAgB/kB,EAAIE,OAAOsC,IAASA,GAAOuK,EAC5F,OAAOvK,EAMT,SAASyiB,GAAUC,EAAM3c,EAAMxB,GAI7B,IADA,IAAIgG,EAAMxE,EAAOxB,GAAM,EAAI,IAClB,CACP,GAAIwB,GAAQxB,EAAM,OAAOwB,EACzB,IAAI4c,GAAQ5c,EAAOxB,GAAM,EAAGqe,EAAMrY,EAAM,EAAIlN,KAAKwlB,KAAKF,GAAQtlB,KAAKC,MAAMqlB,GACzE,GAAIC,GAAO7c,EAAQ,OAAO2c,EAAKE,GAAO7c,EAAOxB,EACzCme,EAAKE,GAAQre,EAAKqe,EACf7c,EAAO6c,EAAMrY,GAMxB,SAASuY,GAAoBC,EAAOhd,EAAMxB,EAAIpC,GAC5C,IAAK4gB,EAAS,OAAO5gB,EAAE4D,EAAMxB,EAAI,MAAO,GAExC,IADA,IAAIye,GAAQ,EACH/lB,EAAI,EAAGA,EAAI8lB,EAAMjmB,SAAUG,EAAG,CACrC,IAAIgmB,EAAOF,EAAM9lB,IACbgmB,EAAKld,KAAOxB,GAAM0e,EAAK1e,GAAKwB,GAAQA,GAAQxB,GAAM0e,EAAK1e,IAAMwB,KAC/D5D,EAAE9E,KAAKgB,IAAI4kB,EAAKld,KAAMA,GAAO1I,KAAKe,IAAI6kB,EAAK1e,GAAIA,GAAmB,GAAd0e,EAAKC,MAAa,MAAQ,MAAOjmB,GACrF+lB,GAAQ,GAGPA,GAAS7gB,EAAE4D,EAAMxB,EAAI,OAG5B,IAAI4e,GAAY,KAChB,SAASC,GAAcL,EAAOrgB,EAAI2gB,GAChC,IAAIL,EACJG,GAAY,KACZ,IAAK,IAAIlmB,EAAI,EAAGA,EAAI8lB,EAAMjmB,SAAUG,EAAG,CACrC,IAAI+M,EAAM+Y,EAAM9lB,GAChB,GAAI+M,EAAIjE,KAAOrD,GAAMsH,EAAIzF,GAAK7B,EAAM,OAAOzF,EACvC+M,EAAIzF,IAAM7B,IACRsH,EAAIjE,MAAQiE,EAAIzF,IAAgB,UAAV8e,EAAsBL,EAAQ/lB,EACjDkmB,GAAYlmB,GAEjB+M,EAAIjE,MAAQrD,IACVsH,EAAIjE,MAAQiE,EAAIzF,IAAgB,UAAV8e,EAAsBL,EAAQ/lB,EACjDkmB,GAAYlmB,GAGvB,OAAgB,MAAT+lB,EAAgBA,EAAQG,GA0BjC,IAAIG,GAAe,WAEjB,IAAIC,EAAW,2PAEXC,EAAc,6PAClB,SAASC,EAASpX,GAChB,OAAIA,GAAQ,IAAekX,EAAS7lB,OAAO2O,GAClC,MAASA,GAAQA,GAAQ,KAAgB,IACzC,MAASA,GAAQA,GAAQ,KAAgBmX,EAAY9lB,OAAO2O,EAAO,MACnE,MAASA,GAAQA,GAAQ,KAAgB,IACzC,MAAUA,GAAQA,GAAQ,KAAiB,IACnC,MAARA,EAAyB,IACpB,IAGhB,IAAIqX,EAAS,4CACTC,EAAY,SAAUC,EAAW,QAASC,EAAe,SAAUC,EAAc,OAErF,SAASC,EAASb,EAAOnd,EAAMxB,GAC7BrG,KAAKglB,MAAQA,EACbhlB,KAAK6H,KAAOA,EAAM7H,KAAKqG,GAAKA,EAG9B,OAAO,SAAS/G,EAAKwmB,GACnB,IAAIC,EAAyB,OAAbD,EAAqB,IAAM,IAE3C,GAAkB,GAAdxmB,EAAIV,QAA4B,OAAbknB,IAAuBN,EAAO3gB,KAAKvF,GAAQ,OAAO,EAEzE,IADA,IAAIwT,EAAMxT,EAAIV,OAAQonB,EAAQ,GACrBjnB,EAAI,EAAGA,EAAI+T,IAAO/T,EACvBinB,EAAMvZ,KAAK8Y,EAASjmB,EAAIiV,WAAWxV,KAMvC,IAAK,IAAIknB,EAAM,EAAGxnB,EAAOsnB,EAAWE,EAAMnT,IAAOmT,EAAK,CACpD,IAAIrd,EAAOod,EAAMC,GACL,KAARrd,EAAeod,EAAMC,GAAOxnB,EACzBA,EAAOmK,EAQhB,IAAK,IAAIsd,EAAM,EAAGpa,EAAMia,EAAWG,EAAMpT,IAAOoT,EAAK,CACnD,IAAIC,EAASH,EAAME,GACL,KAAVC,GAAwB,KAAPra,EAAcka,EAAME,GAAO,IACvCR,EAAS7gB,KAAKshB,KAAWra,EAAMqa,EAAsB,KAAVA,IAAiBH,EAAME,GAAO,MAMpF,IAAK,IAAIE,EAAM,EAAGC,EAASL,EAAM,GAAII,EAAMtT,EAAM,IAAKsT,EAAK,CACzD,IAAIE,EAASN,EAAMI,GACL,KAAVE,GAA2B,KAAVD,GAAiC,KAAhBL,EAAMI,EAAI,GAAaJ,EAAMI,GAAO,IACvD,KAAVE,GAAiBD,GAAUL,EAAMI,EAAI,IAC1B,KAAVC,GAA2B,KAAVA,IAAkBL,EAAMI,GAAOC,GAC1DA,EAASC,EAOX,IAAK,IAAIC,EAAM,EAAGA,EAAMzT,IAAOyT,EAAK,CAClC,IAAIC,EAASR,EAAMO,GACnB,GAAc,KAAVC,EAAiBR,EAAMO,GAAO,SAC7B,GAAc,KAAVC,EAAe,CACtB,IAAIpR,OAAM,EACV,IAAKA,EAAMmR,EAAM,EAAGnR,EAAMtC,GAAqB,KAAdkT,EAAM5Q,KAAeA,GAEtD,IADA,IAAI7T,EAAWglB,GAAuB,KAAhBP,EAAMO,EAAI,IAAenR,EAAMtC,GAAqB,KAAdkT,EAAM5Q,GAAe,IAAM,IAC9ElF,EAAIqW,EAAKrW,EAAIkF,IAAOlF,EAAK8V,EAAM9V,GAAK3O,EAC7CglB,EAAMnR,EAAM,GAOhB,IAAK,IAAIqR,EAAM,EAAGC,EAAQX,EAAWU,EAAM3T,IAAO2T,EAAK,CACrD,IAAIE,EAASX,EAAMS,GACN,KAATC,GAA0B,KAAVC,EAAiBX,EAAMS,GAAO,IACzCf,EAAS7gB,KAAK8hB,KAAWD,EAAQC,GAS5C,IAAK,IAAIC,EAAM,EAAGA,EAAM9T,IAAO8T,EAC7B,GAAInB,EAAU5gB,KAAKmhB,EAAMY,IAAO,CAC9B,IAAIC,OAAQ,EACZ,IAAKA,EAAQD,EAAM,EAAGC,EAAQ/T,GAAO2S,EAAU5gB,KAAKmhB,EAAMa,MAAWA,GAIrE,IAHA,IAAIC,EAA6C,MAAnCF,EAAMZ,EAAMY,EAAI,GAAKb,GAC/BxG,EAAoD,MAA3CsH,EAAQ/T,EAAMkT,EAAMa,GAASd,GACtCgB,EAAYD,GAAUvH,EAASuH,EAAS,IAAM,IAAOf,EAChDiB,EAAMJ,EAAKI,EAAMH,IAASG,EAAOhB,EAAMgB,GAAOD,EACvDH,EAAMC,EAAQ,EAUlB,IADA,IAAgB1J,EAAZ0H,EAAQ,GACHoC,EAAM,EAAGA,EAAMnU,GACtB,GAAI6S,EAAa9gB,KAAKmhB,EAAMiB,IAAO,CACjC,IAAI3d,EAAQ2d,EACZ,MAAOA,EAAKA,EAAMnU,GAAO6S,EAAa9gB,KAAKmhB,EAAMiB,MAASA,GAC1DpC,EAAMpY,KAAK,IAAIoZ,EAAS,EAAGvc,EAAO2d,QAC7B,CACL,IAAInlB,EAAMmlB,EAAKC,EAAKrC,EAAMjmB,OAAQuoB,EAAqB,OAAbrB,EAAqB,EAAI,EACnE,MAAOmB,EAAKA,EAAMnU,GAAqB,KAAdkT,EAAMiB,KAAeA,GAC9C,IAAK,IAAIG,EAAMtlB,EAAKslB,EAAMH,GACxB,GAAIrB,EAAY/gB,KAAKmhB,EAAMoB,IAAO,CAC5BtlB,EAAMslB,IAAOvC,EAAMhI,OAAOqK,EAAI,EAAG,IAAIrB,EAAS,EAAG/jB,EAAKslB,IAAOF,GAAMC,GACvE,IAAIE,EAASD,EACb,MAAOA,EAAKA,EAAMH,GAAOrB,EAAY/gB,KAAKmhB,EAAMoB,MAASA,GACzDvC,EAAMhI,OAAOqK,EAAI,EAAG,IAAIrB,EAAS,EAAGwB,EAAQD,IAC5CF,GAAMC,EACNrlB,EAAMslB,QACGA,EAETtlB,EAAMmlB,GAAOpC,EAAMhI,OAAOqK,EAAI,EAAG,IAAIrB,EAAS,EAAG/jB,EAAKmlB,IAc9D,MAXiB,OAAbnB,IACoB,GAAlBjB,EAAM,GAAGG,QAAe7H,EAAI7d,EAAIyC,MAAM,WACxC8iB,EAAM,GAAGhd,KAAOsV,EAAE,GAAGve,OACrBimB,EAAMyC,QAAQ,IAAIzB,EAAS,EAAG,EAAG1I,EAAE,GAAGve,UAEhB,GAApBykB,EAAIwB,GAAOG,QAAe7H,EAAI7d,EAAIyC,MAAM,WAC1CshB,EAAIwB,GAAOxe,IAAM8W,EAAE,GAAGve,OACtBimB,EAAMpY,KAAK,IAAIoZ,EAAS,EAAG/S,EAAMqK,EAAE,GAAGve,OAAQkU,MAI9B,OAAbgT,EAAqBjB,EAAM0C,UAAY1C,GAhJ/B,GAuJnB,SAAS2C,GAASlhB,EAAMwf,GACtB,IAAIjB,EAAQve,EAAKue,MAEjB,OADa,MAATA,IAAiBA,EAAQve,EAAKue,MAAQO,GAAa9e,EAAKnD,KAAM2iB,IAC3DjB,EAQT,IAAI4C,GAAa,GAEbtQ,GAAK,SAASuQ,EAAS9e,EAAM3E,GAC/B,GAAIyjB,EAAQC,iBACVD,EAAQC,iBAAiB/e,EAAM3E,GAAG,QAC7B,GAAIyjB,EAAQE,YACjBF,EAAQE,YAAY,KAAOhf,EAAM3E,OAC5B,CACL,IAAIpF,EAAM6oB,EAAQG,YAAcH,EAAQG,UAAY,IACpDhpB,EAAI+J,IAAS/J,EAAI+J,IAAS6e,IAAYK,OAAO7jB,KAIjD,SAAS8jB,GAAYL,EAAS9e,GAC5B,OAAO8e,EAAQG,WAAaH,EAAQG,UAAUjf,IAAS6e,GAGzD,SAASO,GAAIN,EAAS9e,EAAM3E,GAC1B,GAAIyjB,EAAQO,oBACVP,EAAQO,oBAAoBrf,EAAM3E,GAAG,QAChC,GAAIyjB,EAAQQ,YACjBR,EAAQQ,YAAY,KAAOtf,EAAM3E,OAC5B,CACL,IAAIpF,EAAM6oB,EAAQG,UAAW9S,EAAMlW,GAAOA,EAAI+J,GAC9C,GAAImM,EAAK,CACP,IAAI7S,EAAQyC,EAAQoQ,EAAK9Q,GACrB/B,GAAS,IACTrD,EAAI+J,GAAQmM,EAAInH,MAAM,EAAG1L,GAAO4lB,OAAO/S,EAAInH,MAAM1L,EAAQ,OAKnE,SAASimB,GAAOT,EAAS9e,GACvB,IAAIwf,EAAWL,GAAYL,EAAS9e,GACpC,GAAKwf,EAASxpB,OAEd,IADA,IAAIyiB,EAAO/M,MAAM/T,UAAUqN,MAAMkL,KAAKxQ,UAAW,GACxCvJ,EAAI,EAAGA,EAAIqpB,EAASxpB,SAAUG,EAAKqpB,EAASrpB,GAAGuiB,MAAM,KAAMD,GAMtE,SAASgH,GAAe3lB,EAAIkC,EAAGwG,GAI7B,MAHgB,iBAALxG,IACPA,EAAI,CAACgE,KAAMhE,EAAG0jB,eAAgB,WAAatoB,KAAKuoB,kBAAmB,KACvEJ,GAAOzlB,EAAI0I,GAAYxG,EAAEgE,KAAMlG,EAAIkC,GAC5B4jB,GAAmB5jB,IAAMA,EAAE6jB,iBAGpC,SAASC,GAAqBhmB,GAC5B,IAAIqS,EAAMrS,EAAGmlB,WAAanlB,EAAGmlB,UAAUc,eACvC,GAAK5T,EAEL,IADA,IAAIyN,EAAM9f,EAAGkmB,MAAMC,yBAA2BnmB,EAAGkmB,MAAMC,uBAAyB,IACvE9pB,EAAI,EAAGA,EAAIgW,EAAInW,SAAUG,GAAkC,GAAzB4F,EAAQ6d,EAAKzN,EAAIhW,KACxDyjB,EAAI/V,KAAKsI,EAAIhW,IAGnB,SAAS+pB,GAAWpB,EAAS9e,GAC3B,OAAOmf,GAAYL,EAAS9e,GAAMhK,OAAS,EAK7C,SAASmqB,GAAWC,GAClBA,EAAKzoB,UAAU4W,GAAK,SAASvO,EAAM3E,GAAIkT,GAAGnX,KAAM4I,EAAM3E,IACtD+kB,EAAKzoB,UAAUynB,IAAM,SAASpf,EAAM3E,GAAI+jB,GAAIhoB,KAAM4I,EAAM3E,IAM1D,SAAS6T,GAAiBlT,GACpBA,EAAE0jB,eAAkB1jB,EAAE0jB,iBACnB1jB,EAAEqkB,aAAc,EAEzB,SAASC,GAAkBtkB,GACrBA,EAAEukB,gBAAmBvkB,EAAEukB,kBACpBvkB,EAAEwkB,cAAe,EAE1B,SAASZ,GAAmB5jB,GAC1B,OAA6B,MAAtBA,EAAE2jB,iBAA2B3jB,EAAE2jB,iBAAoC,GAAjB3jB,EAAEqkB,YAE7D,SAASljB,GAAOnB,GAAIkT,GAAiBlT,GAAIskB,GAAkBtkB,GAE3D,SAASykB,GAASzkB,GAAI,OAAOA,EAAEuT,QAAUvT,EAAE0kB,WAC3C,SAASC,GAAS3kB,GAChB,IAAIiT,EAAIjT,EAAE4kB,MAOV,OANS,MAAL3R,IACa,EAAXjT,EAAEmS,OAAcc,EAAI,EACJ,EAAXjT,EAAEmS,OAAcc,EAAI,EACT,EAAXjT,EAAEmS,SAAcc,EAAI,IAE3BgH,GAAOja,EAAE6kB,SAAgB,GAAL5R,IAAUA,EAAI,GAC/BA,EAIT,IAQI6R,GAeAC,GAvBAC,GAAc,WAGhB,GAAI9L,GAAMC,EAAa,EAAK,OAAO,EACnC,IAAI8L,EAAMhK,EAAI,OACd,MAAO,cAAegK,GAAO,aAAcA,EAL3B,GASlB,SAASC,GAAiBC,GACxB,GAAqB,MAAjBL,GAAuB,CACzB,IAAI7kB,EAAOgb,EAAI,OAAQ,KACvBF,EAAqBoK,EAASlK,EAAI,OAAQ,CAAChb,EAAM0B,SAASkC,eAAe,QAClC,GAAnCshB,EAAQrK,WAAWsK,eACnBN,GAAgB7kB,EAAKolB,aAAe,GAAKplB,EAAKmlB,aAAe,KAAOlM,GAAMC,EAAa,IAE7F,IAAIsB,EAAOqK,GAAgB7J,EAAI,OAAQ,KACrCA,EAAI,OAAQ,IAAU,KAAM,yDAE9B,OADAR,EAAKW,aAAa,UAAW,IACtBX,EAKT,SAAS6K,GAAgBH,GACvB,GAAoB,MAAhBJ,GAAwB,OAAOA,GACnC,IAAIQ,EAAMxK,EAAqBoK,EAASxjB,SAASkC,eAAe,QAC5D2hB,EAAK5d,EAAM2d,EAAK,EAAG,GAAGxjB,wBACtB0jB,EAAK7d,EAAM2d,EAAK,EAAG,GAAGxjB,wBAE1B,OADA6Y,EAAeuK,MACVK,GAAMA,EAAG7c,MAAQ6c,EAAG5c,SAClBmc,GAAgBU,EAAG7c,MAAQ4c,EAAG5c,MAAQ,GAK/C,IAAI8c,GAA+C,GAA9B,QAAQ3rB,MAAM,MAAMC,OAAc,SAAUqD,GAC/D,IAAIH,EAAM,EAAGyN,EAAS,GAAI8M,EAAIpa,EAAOrD,OACrC,MAAOkD,GAAOua,EAAG,CACf,IAAIkO,EAAKtoB,EAAO0C,QAAQ,KAAM7C,IACnB,GAAPyoB,IAAYA,EAAKtoB,EAAOrD,QAC5B,IAAI0H,EAAOrE,EAAO2L,MAAM9L,EAA8B,MAAzBG,EAAOzC,OAAO+qB,EAAK,GAAaA,EAAK,EAAIA,GAClEC,EAAKlkB,EAAK3B,QAAQ,OACX,GAAP6lB,GACFjb,EAAO9C,KAAKnG,EAAKsH,MAAM,EAAG4c,IAC1B1oB,GAAO0oB,EAAK,IAEZjb,EAAO9C,KAAKnG,GACZxE,EAAMyoB,EAAK,GAGf,OAAOhb,GACL,SAAUtN,GAAU,OAAOA,EAAOtD,MAAM,aAExC8rB,GAAe7U,OAAOjQ,aAAe,SAAU+kB,GACjD,IAAM,OAAOA,EAAG1I,gBAAkB0I,EAAGzI,aACrC,MAAMrd,GAAK,OAAO,IAChB,SAAU8lB,GACZ,IAAIle,EACJ,IAAKA,EAAQke,EAAGC,cAAcC,UAAUlK,cACxC,MAAM9b,IACN,SAAK4H,GAASA,EAAMqe,iBAAmBH,IACe,GAA/Cle,EAAMse,iBAAiB,aAActe,IAG1Cue,GAAe,WACjB,IAAInmB,EAAIib,EAAI,OACZ,MAAI,WAAYjb,IAChBA,EAAEob,aAAa,SAAU,WACC,mBAAZpb,EAAEomB,QAJC,GAOfC,GAAiB,KACrB,SAASC,GAAkBnB,GACzB,GAAsB,MAAlBkB,GAA0B,OAAOA,GACrC,IAAI5L,EAAOM,EAAqBoK,EAASlK,EAAI,OAAQ,MACjDsL,EAAS9L,EAAK1Y,wBACdykB,EAAY5e,EAAM6S,EAAM,EAAG,GAAG1Y,wBAClC,OAAOskB,GAAiB9rB,KAAKksB,IAAIF,EAAO5d,KAAO6d,EAAU7d,MAAQ,EAInE,IAAI+d,GAAQ,GAAIC,GAAY,GAK5B,SAASC,GAAWphB,EAAMiB,GACpB/C,UAAU1J,OAAS,IACnByM,EAAKogB,aAAenX,MAAM/T,UAAUqN,MAAMkL,KAAKxQ,UAAW,IAC9DgjB,GAAMlhB,GAAQiB,EAGhB,SAASqgB,GAAWC,EAAMC,GACxBL,GAAUI,GAAQC,EAKpB,SAASC,GAAYD,GACnB,GAAmB,iBAARA,GAAoBL,GAAUtP,eAAe2P,GACtDA,EAAOL,GAAUK,QACZ,GAAIA,GAA4B,iBAAbA,EAAKxhB,MAAoBmhB,GAAUtP,eAAe2P,EAAKxhB,MAAO,CACtF,IAAI0a,EAAQyG,GAAUK,EAAKxhB,MACP,iBAAT0a,IAAqBA,EAAQ,CAAC1a,KAAM0a,IAC/C8G,EAAOjI,EAAUmB,EAAO8G,GACxBA,EAAKxhB,KAAO0a,EAAM1a,SACb,IAAmB,iBAARwhB,GAAoB,0BAA0B/mB,KAAK+mB,GACnE,OAAOC,GAAY,mBACd,GAAmB,iBAARD,GAAoB,2BAA2B/mB,KAAK+mB,GACpE,OAAOC,GAAY,oBAErB,MAAmB,iBAARD,EAA2B,CAACxhB,KAAMwhB,GAC/BA,GAAQ,CAACxhB,KAAM,QAK/B,SAAS0hB,GAAQhoB,EAAS8nB,GACxBA,EAAOC,GAAYD,GACnB,IAAIG,EAAWT,GAAMM,EAAKxhB,MAC1B,IAAK2hB,EAAY,OAAOD,GAAQhoB,EAAS,cACzC,IAAIkoB,EAAUD,EAASjoB,EAAS8nB,GAChC,GAAIK,GAAehQ,eAAe2P,EAAKxhB,MAAO,CAC5C,IAAI8hB,EAAOD,GAAeL,EAAKxhB,MAC/B,IAAK,IAAIqX,KAAQyK,EACVA,EAAKjQ,eAAewF,KACrBuK,EAAQ/P,eAAewF,KAASuK,EAAQ,IAAMvK,GAAQuK,EAAQvK,IAClEuK,EAAQvK,GAAQyK,EAAKzK,IAKzB,GAFAuK,EAAQ5hB,KAAOwhB,EAAKxhB,KAChBwhB,EAAKO,aAAcH,EAAQG,WAAaP,EAAKO,YAC7CP,EAAKQ,UAAa,IAAK,IAAIC,KAAUT,EAAKQ,UAC1CJ,EAAQK,GAAUT,EAAKQ,UAAUC,GAErC,OAAOL,EAKT,IAAIC,GAAiB,GACrB,SAASK,GAAWjhB,EAAMkhB,GACxB,IAAIL,EAAOD,GAAehQ,eAAe5Q,GAAQ4gB,GAAe5gB,GAAS4gB,GAAe5gB,GAAQ,GAChGkW,EAAQgL,EAAYL,GAGtB,SAASM,GAAUnhB,EAAM1I,GACvB,IAAc,IAAVA,EAAkB,OAAOA,EAC7B,GAAI0I,EAAKmhB,UAAa,OAAOnhB,EAAKmhB,UAAU7pB,GAC5C,IAAI8pB,EAAS,GACb,IAAK,IAAI3K,KAAKnf,EAAO,CACnB,IAAI0H,EAAM1H,EAAMmf,GACZzX,aAAeiK,QAASjK,EAAMA,EAAIyd,OAAO,KAC7C2E,EAAO3K,GAAKzX,EAEd,OAAOoiB,EAKT,SAASC,GAAUrhB,EAAM1I,GACvB,IAAIgqB,EACJ,MAAOthB,EAAKqhB,UAAW,CAErB,GADAC,EAAOthB,EAAKqhB,UAAU/pB,IACjBgqB,GAAQA,EAAKthB,MAAQA,EAAQ,MAClC1I,EAAQgqB,EAAKhqB,MACb0I,EAAOshB,EAAKthB,KAEd,OAAOshB,GAAQ,CAACthB,KAAMA,EAAM1I,MAAOA,GAGrC,SAASiqB,GAAWvhB,EAAMwhB,EAAIC,GAC5B,OAAOzhB,EAAKuhB,YAAavhB,EAAKuhB,WAAWC,EAAIC,GAQ/C,IAAIC,GAAe,SAAS9qB,EAAQ0f,EAASqL,GAC3ChtB,KAAK8B,IAAM9B,KAAKsJ,MAAQ,EACxBtJ,KAAKiC,OAASA,EACdjC,KAAK2hB,QAAUA,GAAW,EAC1B3hB,KAAKitB,cAAgBjtB,KAAKktB,gBAAkB,EAC5CltB,KAAKmtB,UAAY,EACjBntB,KAAKgtB,WAAaA,GA2EpB,SAASI,GAAQC,EAAKvL,GAEpB,GADAA,GAAKuL,EAAIC,MACLxL,EAAI,GAAKA,GAAKuL,EAAIE,KAAQ,MAAM,IAAI9Y,MAAM,qBAAuBqN,EAAIuL,EAAIC,OAAS,qBACtF,IAAIE,EAAQH,EACZ,OAAQG,EAAMC,MACZ,IAAK,IAAI1uB,EAAI,KAAMA,EAAG,CACpB,IAAIwJ,EAAQilB,EAAME,SAAS3uB,GAAI4uB,EAAKplB,EAAMqlB,YAC1C,GAAI9L,EAAI6L,EAAI,CAAEH,EAAQjlB,EAAO,MAC7BuZ,GAAK6L,EAGT,OAAOH,EAAMC,MAAM3L,GAKrB,SAAS+L,GAAWR,EAAK/jB,EAAO8L,GAC9B,IAAIkO,EAAM,GAAIxB,EAAIxY,EAAMhD,KAQxB,OAPA+mB,EAAI3d,KAAKpG,EAAMhD,KAAM8O,EAAI9O,KAAO,GAAG,SAAUA,GAC3C,IAAInD,EAAOmD,EAAKnD,KACZ2e,GAAK1M,EAAI9O,OAAQnD,EAAOA,EAAKyK,MAAM,EAAGwH,EAAI5Q,KAC1Csd,GAAKxY,EAAMhD,OAAQnD,EAAOA,EAAKyK,MAAMtE,EAAM9E,KAC/C8e,EAAI7W,KAAKtJ,KACP2e,KAEGwB,EAGT,SAASwK,GAAST,EAAKxlB,EAAMxB,GAC3B,IAAIid,EAAM,GAEV,OADA+J,EAAI3d,KAAK7H,EAAMxB,GAAI,SAAUC,GAAQgd,EAAI7W,KAAKnG,EAAKnD,SAC5CmgB,EAKT,SAASyK,GAAiBznB,EAAM0nB,GAC9B,IAAIC,EAAOD,EAAS1nB,EAAK0nB,OACzB,GAAIC,EAAQ,IAAK,IAAInM,EAAIxb,EAAMwb,EAAGA,EAAIA,EAAElC,OAAUkC,EAAEkM,QAAUC,EAKhE,SAASC,GAAO5nB,GACd,GAAmB,MAAfA,EAAKsZ,OAAkB,OAAO,KAElC,IADA,IAAI9T,EAAMxF,EAAKsZ,OAAQuO,EAAKxpB,EAAQmH,EAAI2hB,MAAOnnB,GACtCknB,EAAQ1hB,EAAI8T,OAAQ4N,EAAO1hB,EAAM0hB,EAAOA,EAAQA,EAAM5N,OAC7D,IAAK,IAAI7gB,EAAI,KAAMA,EAAG,CACpB,GAAIyuB,EAAME,SAAS3uB,IAAM+M,EAAO,MAChCqiB,GAAMX,EAAME,SAAS3uB,GAAG6uB,YAG5B,OAAOO,EAAKriB,EAAIwhB,MAKlB,SAASc,GAAaZ,EAAOa,GAC3B,IAAIvM,EAAI0L,EAAMF,MACdgB,EAAO,EAAG,CACR,IAAK,IAAIrI,EAAM,EAAGA,EAAMuH,EAAME,SAAS9uB,SAAUqnB,EAAK,CACpD,IAAI1d,EAAQilB,EAAME,SAASzH,GAAMzhB,EAAK+D,EAAMylB,OAC5C,GAAIK,EAAI7pB,EAAI,CAAEgpB,EAAQjlB,EAAO,SAAS+lB,EACtCD,GAAK7pB,EACLsd,GAAKvZ,EAAMqlB,YAEb,OAAO9L,SACC0L,EAAMC,OAEhB,IADA,IAAI1uB,EAAI,EACDA,EAAIyuB,EAAMC,MAAM7uB,SAAUG,EAAG,CAClC,IAAIuH,EAAOknB,EAAMC,MAAM1uB,GAAIwvB,EAAKjoB,EAAK0nB,OACrC,GAAIK,EAAIE,EAAM,MACdF,GAAKE,EAEP,OAAOzM,EAAI/iB,EAGb,SAASyvB,GAAOnB,EAAKhR,GAAI,OAAOA,GAAKgR,EAAIC,OAASjR,EAAIgR,EAAIC,MAAQD,EAAIE,KAEtE,SAASkB,GAAc3qB,EAAS/E,GAC9B,OAAO4b,OAAO7W,EAAQ4qB,oBAAoB3vB,EAAI+E,EAAQ6qB,kBAIxD,SAASlnB,GAAInB,EAAM9B,EAAI2gB,GAGrB,QAFgB,IAAXA,IAAoBA,EAAS,QAE5BnlB,gBAAgByH,IAAQ,OAAO,IAAIA,GAAInB,EAAM9B,EAAI2gB,GACvDnlB,KAAKsG,KAAOA,EACZtG,KAAKwE,GAAKA,EACVxE,KAAKmlB,OAASA,EAKhB,SAASyJ,GAAIpO,EAAG3I,GAAK,OAAO2I,EAAEla,KAAOuR,EAAEvR,MAAQka,EAAEhc,GAAKqT,EAAErT,GAExD,SAASqqB,GAAerO,EAAG3I,GAAK,OAAO2I,EAAE2E,QAAUtN,EAAEsN,QAAuB,GAAbyJ,GAAIpO,EAAG3I,GAEtE,SAASiX,GAAQte,GAAI,OAAO/I,GAAI+I,EAAElK,KAAMkK,EAAEhM,IAC1C,SAASuqB,GAAOvO,EAAG3I,GAAK,OAAO+W,GAAIpO,EAAG3I,GAAK,EAAIA,EAAI2I,EACnD,SAASwO,GAAOxO,EAAG3I,GAAK,OAAO+W,GAAIpO,EAAG3I,GAAK,EAAI2I,EAAI3I,EAInD,SAASoX,GAAS5B,EAAKvL,GAAI,OAAO3iB,KAAKgB,IAAIktB,EAAIC,MAAOnuB,KAAKe,IAAI4hB,EAAGuL,EAAIC,MAAQD,EAAIE,KAAO,IACzF,SAAS2B,GAAQ7B,EAAKvrB,GACpB,GAAIA,EAAIwE,KAAO+mB,EAAIC,MAAS,OAAO7lB,GAAI4lB,EAAIC,MAAO,GAClD,IAAI6B,EAAO9B,EAAIC,MAAQD,EAAIE,KAAO,EAClC,OAAIzrB,EAAIwE,KAAO6oB,EAAe1nB,GAAI0nB,EAAM/B,GAAQC,EAAK8B,GAAMhsB,KAAKvE,QACzDwwB,GAAUttB,EAAKsrB,GAAQC,EAAKvrB,EAAIwE,MAAMnD,KAAKvE,QAEpD,SAASwwB,GAAUttB,EAAKutB,GACtB,IAAI7qB,EAAK1C,EAAI0C,GACb,OAAU,MAANA,GAAcA,EAAK6qB,EAAkB5nB,GAAI3F,EAAIwE,KAAM+oB,GAC9C7qB,EAAK,EAAYiD,GAAI3F,EAAIwE,KAAM,GAC1BxE,EAEhB,SAASwtB,GAAajC,EAAK9K,GAEzB,IADA,IAAIe,EAAM,GACDvkB,EAAI,EAAGA,EAAIwjB,EAAM3jB,OAAQG,IAAOukB,EAAIvkB,GAAKmwB,GAAQ7B,EAAK9K,EAAMxjB,IACrE,OAAOukB,EAjMTyJ,GAAaxsB,UAAUgvB,IAAM,WAAa,OAAOvvB,KAAK8B,KAAO9B,KAAKiC,OAAOrD,QACzEmuB,GAAaxsB,UAAUivB,IAAM,WAAa,OAAOxvB,KAAK8B,KAAO9B,KAAKmtB,WAClEJ,GAAaxsB,UAAUkvB,KAAO,WAAa,OAAOzvB,KAAKiC,OAAOzC,OAAOQ,KAAK8B,WAAQka,GAClF+Q,GAAaxsB,UAAU4M,KAAO,WAC5B,GAAInN,KAAK8B,IAAM9B,KAAKiC,OAAOrD,OACvB,OAAOoB,KAAKiC,OAAOzC,OAAOQ,KAAK8B,QAErCirB,GAAaxsB,UAAUmvB,IAAM,SAAU3tB,GACrC,IACI4tB,EADAnrB,EAAKxE,KAAKiC,OAAOzC,OAAOQ,KAAK8B,KAIjC,GAFgC6tB,EAAZ,iBAAT5tB,EAA0ByC,GAAMzC,EAC/ByC,IAAOzC,EAAM8C,KAAO9C,EAAM8C,KAAKL,GAAMzC,EAAMyC,IACnDmrB,EAAiB,QAAV3vB,KAAK8B,IAAY0C,GAE9BuoB,GAAaxsB,UAAUqvB,SAAW,SAAU7tB,GAC1C,IAAIuH,EAAQtJ,KAAK8B,IACjB,MAAO9B,KAAK0vB,IAAI3tB,IAChB,OAAO/B,KAAK8B,IAAMwH,GAEpByjB,GAAaxsB,UAAUsvB,SAAW,WAChC,IAAIvmB,EAAQtJ,KAAK8B,IACjB,MAAO,aAAa+C,KAAK7E,KAAKiC,OAAOzC,OAAOQ,KAAK8B,QAAW9B,KAAK8B,IACjE,OAAO9B,KAAK8B,IAAMwH,GAEpByjB,GAAaxsB,UAAU4B,UAAY,WAAanC,KAAK8B,IAAM9B,KAAKiC,OAAOrD,QACvEmuB,GAAaxsB,UAAUuvB,OAAS,SAAUtrB,GACxC,IAAIsgB,EAAQ9kB,KAAKiC,OAAO0C,QAAQH,EAAIxE,KAAK8B,KACzC,GAAIgjB,GAAS,EAAsB,OAAlB9kB,KAAK8B,IAAMgjB,GAAc,GAE5CiI,GAAaxsB,UAAUwvB,OAAS,SAAUjO,GAAI9hB,KAAK8B,KAAOggB,GAC1DiL,GAAaxsB,UAAUyvB,OAAS,WAK9B,OAJIhwB,KAAKitB,cAAgBjtB,KAAKsJ,QAC5BtJ,KAAKktB,gBAAkBxL,EAAY1hB,KAAKiC,OAAQjC,KAAKsJ,MAAOtJ,KAAK2hB,QAAS3hB,KAAKitB,cAAejtB,KAAKktB,iBACnGltB,KAAKitB,cAAgBjtB,KAAKsJ,OAErBtJ,KAAKktB,iBAAmBltB,KAAKmtB,UAAYzL,EAAY1hB,KAAKiC,OAAQjC,KAAKmtB,UAAWntB,KAAK2hB,SAAW,IAE3GoL,GAAaxsB,UAAU0vB,YAAc,WACnC,OAAOvO,EAAY1hB,KAAKiC,OAAQ,KAAMjC,KAAK2hB,UACxC3hB,KAAKmtB,UAAYzL,EAAY1hB,KAAKiC,OAAQjC,KAAKmtB,UAAWntB,KAAK2hB,SAAW,IAE/EoL,GAAaxsB,UAAUwB,MAAQ,SAAUmuB,EAASC,EAAS9uB,GACzD,GAAsB,iBAAX6uB,EAOJ,CACL,IAAInuB,EAAQ/B,KAAKiC,OAAO2L,MAAM5N,KAAK8B,KAAKC,MAAMmuB,GAC9C,OAAInuB,GAASA,EAAMG,MAAQ,EAAY,MACnCH,IAAqB,IAAZouB,IAAqBnwB,KAAK8B,KAAOC,EAAM,GAAGnD,QAChDmD,GAVP,IAAIquB,EAAQ,SAAU9wB,GAAO,OAAO+B,EAAkB/B,EAAIwD,cAAgBxD,GACtEsd,EAAS5c,KAAKiC,OAAO2a,OAAO5c,KAAK8B,IAAKouB,EAAQtxB,QAClD,GAAIwxB,EAAMxT,IAAWwT,EAAMF,GAEzB,OADgB,IAAZC,IAAqBnwB,KAAK8B,KAAOouB,EAAQtxB,SACtC,GASbmuB,GAAaxsB,UAAU+e,QAAU,WAAY,OAAOtf,KAAKiC,OAAO2L,MAAM5N,KAAKsJ,MAAOtJ,KAAK8B,MACvFirB,GAAaxsB,UAAU8vB,eAAiB,SAAUvO,EAAGwO,GACnDtwB,KAAKmtB,WAAarL,EAClB,IAAM,OAAOwO,IACb,QAAUtwB,KAAKmtB,WAAarL,IAE9BiL,GAAaxsB,UAAUgwB,UAAY,SAAUzO,GAC3C,IAAI0O,EAASxwB,KAAKgtB,WAClB,OAAOwD,GAAUA,EAAOD,UAAUzO,IAEpCiL,GAAaxsB,UAAUkwB,UAAY,WACjC,IAAID,EAASxwB,KAAKgtB,WAClB,OAAOwD,GAAUA,EAAOC,UAAUzwB,KAAK8B,MAgIzC,IAAI4uB,GAAe,SAAS/tB,EAAO4tB,GACjCvwB,KAAK2C,MAAQA,EACb3C,KAAKuwB,UAAYA,GAGfI,GAAU,SAAStD,EAAK1qB,EAAO2D,EAAMiqB,GACvCvwB,KAAK2C,MAAQA,EACb3C,KAAKqtB,IAAMA,EACXrtB,KAAKsG,KAAOA,EACZtG,KAAK4wB,aAAeL,GAAa,EACjCvwB,KAAK6wB,WAAa,KAClB7wB,KAAK8wB,aAAe,GAwCtB,SAASC,GAAcruB,EAAI4D,EAAM0qB,EAASC,GAGxC,IAAIC,EAAK,CAACxuB,EAAGC,MAAMwuB,SAAUC,EAAc,GAE3CC,GAAQ3uB,EAAI4D,EAAKnD,KAAMT,EAAG2qB,IAAIhiB,KAAM2lB,GAAS,SAAU5b,EAAKnP,GAAS,OAAOirB,EAAGzkB,KAAK2I,EAAKnP,KACjFmrB,EAAaH,GAkCrB,IAjCA,IAAItuB,EAAQquB,EAAQruB,MAGhB2uB,EAAO,SAAWC,GACpBP,EAAQH,WAAaK,EACrB,IAAI1uB,EAAUE,EAAGC,MAAM6uB,SAASD,GAAIxyB,EAAI,EAAGmoB,EAAK,EAChD8J,EAAQruB,OAAQ,EAChB0uB,GAAQ3uB,EAAI4D,EAAKnD,KAAMX,EAAQ6I,KAAM2lB,GAAS,SAAU5b,EAAKnP,GAC3D,IAAIqD,EAAQvK,EAEZ,MAAOmoB,EAAK9R,EAAK,CACf,IAAIqc,EAAQP,EAAGnyB,GACX0yB,EAAQrc,GACR8b,EAAGrU,OAAO9d,EAAG,EAAGqW,EAAK8b,EAAGnyB,EAAE,GAAI0yB,GAClC1yB,GAAK,EACLmoB,EAAK/nB,KAAKe,IAAIkV,EAAKqc,GAErB,GAAKxrB,EACL,GAAIzD,EAAQkvB,OACVR,EAAGrU,OAAOvT,EAAOvK,EAAIuK,EAAO8L,EAAK,WAAanP,GAC9ClH,EAAIuK,EAAQ,OAEZ,KAAOA,EAAQvK,EAAGuK,GAAS,EAAG,CAC5B,IAAIwC,EAAMolB,EAAG5nB,EAAM,GACnB4nB,EAAG5nB,EAAM,IAAMwC,EAAMA,EAAM,IAAM,IAAM,WAAa7F,KAGvDmrB,GACHJ,EAAQruB,MAAQA,EAChBquB,EAAQH,WAAa,KACrBG,EAAQF,aAAe,GAGhBS,EAAI,EAAGA,EAAI7uB,EAAGC,MAAM6uB,SAAS5yB,SAAU2yB,EAAGD,EAAMC,GAEzD,MAAO,CAACI,OAAQT,EAAIU,QAASR,EAAYS,SAAWT,EAAYU,UAAYV,EAAc,MAG5F,SAASW,GAAcrvB,EAAI4D,EAAM0rB,GAC/B,IAAK1rB,EAAKqrB,QAAUrrB,EAAKqrB,OAAO,IAAMjvB,EAAGC,MAAMwuB,QAAS,CACtD,IAAIH,EAAUiB,GAAiBvvB,EAAIwrB,GAAO5nB,IACtC4rB,EAAa5rB,EAAKnD,KAAKvE,OAAS8D,EAAGoB,QAAQquB,oBAAsB3F,GAAU9pB,EAAG2qB,IAAIhiB,KAAM2lB,EAAQruB,OAChG4M,EAASwhB,GAAcruB,EAAI4D,EAAM0qB,GACjCkB,IAAclB,EAAQruB,MAAQuvB,GAClC5rB,EAAK8rB,WAAapB,EAAQqB,MAAMH,GAChC5rB,EAAKqrB,OAASpiB,EAAOoiB,OACjBpiB,EAAOqiB,QAAWtrB,EAAKgsB,aAAe/iB,EAAOqiB,QACxCtrB,EAAKgsB,eAAgBhsB,EAAKgsB,aAAe,MAC9CN,IAAmBtvB,EAAG2qB,IAAIkF,oBAC1B7vB,EAAG2qB,IAAImF,aAAerzB,KAAKgB,IAAIuC,EAAG2qB,IAAImF,eAAgB9vB,EAAG2qB,IAAIkF,oBAEnE,OAAOjsB,EAAKqrB,OAGd,SAASM,GAAiBvvB,EAAIof,EAAG2Q,GAC/B,IAAIpF,EAAM3qB,EAAG2qB,IAAK5mB,EAAU/D,EAAG+D,QAC/B,IAAK4mB,EAAIhiB,KAAKuhB,WAAc,OAAO,IAAI+D,GAAQtD,GAAK,EAAMvL,GAC1D,IAAIxY,EAAQopB,GAAchwB,EAAIof,EAAG2Q,GAC7BE,EAAQrpB,EAAQ+jB,EAAIC,OAASF,GAAQC,EAAK/jB,EAAQ,GAAG8oB,WACrDpB,EAAU2B,EAAQhC,GAAQiC,UAAUvF,EAAKsF,EAAOrpB,GAAS,IAAIqnB,GAAQtD,EAAKT,GAAWS,EAAIhiB,MAAO/B,GASpG,OAPA+jB,EAAI3d,KAAKpG,EAAOwY,GAAG,SAAUxb,GAC3BusB,GAAYnwB,EAAI4D,EAAKnD,KAAM6tB,GAC3B,IAAIlvB,EAAMkvB,EAAQ1qB,KAClBA,EAAK8rB,WAAatwB,GAAOggB,EAAI,GAAKhgB,EAAM,GAAK,GAAKA,GAAO2E,EAAQqsB,UAAYhxB,EAAM2E,EAAQssB,OAAS/B,EAAQqB,OAAS,KACrHrB,EAAQgC,cAENP,IAAWpF,EAAImF,aAAexB,EAAQ1qB,MACnC0qB,EAMT,SAAS6B,GAAYnwB,EAAIS,EAAM6tB,EAASiC,GACtC,IAAI5nB,EAAO3I,EAAG2qB,IAAIhiB,KACdzJ,EAAS,IAAImrB,GAAa5pB,EAAMT,EAAGoB,QAAQ6d,QAASqP,GACxDpvB,EAAO0H,MAAQ1H,EAAOE,IAAMmxB,GAAW,EAC3B,IAAR9vB,GAAc+vB,GAAc7nB,EAAM2lB,EAAQruB,OAC9C,OAAQf,EAAO2tB,MACb4D,GAAU9nB,EAAMzJ,EAAQovB,EAAQruB,OAChCf,EAAO0H,MAAQ1H,EAAOE,IAI1B,SAASoxB,GAAc7nB,EAAM1I,GAC3B,GAAI0I,EAAK+nB,UAAa,OAAO/nB,EAAK+nB,UAAUzwB,GAC5C,GAAK0I,EAAKqhB,UAAV,CACA,IAAI4D,EAAQ5D,GAAUrhB,EAAM1I,GAC5B,OAAI2tB,EAAMjlB,KAAK+nB,UAAoB9C,EAAMjlB,KAAK+nB,UAAU9C,EAAM3tB,YAA9D,GAGF,SAASwwB,GAAU9nB,EAAMzJ,EAAQe,EAAO2tB,GACtC,IAAK,IAAIvxB,EAAI,EAAGA,EAAI,GAAIA,IAAK,CACvBuxB,IAASA,EAAM,GAAK5D,GAAUrhB,EAAM1I,GAAO0I,MAC/C,IAAIpF,EAAQoF,EAAK1J,MAAMC,EAAQe,GAC/B,GAAIf,EAAOE,IAAMF,EAAO0H,MAAS,OAAOrD,EAE1C,MAAM,IAAIwO,MAAM,QAAUpJ,EAAKjB,KAAO,8BA9IxCumB,GAAQpwB,UAAUgwB,UAAY,SAAUzO,GACtC,IAAIxb,EAAOtG,KAAKqtB,IAAID,QAAQptB,KAAKsG,KAAOwb,GAExC,OADY,MAARxb,GAAgBwb,EAAI9hB,KAAK4wB,eAAgB5wB,KAAK4wB,aAAe9O,GAC1Dxb,GAGTqqB,GAAQpwB,UAAUkwB,UAAY,SAAU3O,GACtC,IAAK9hB,KAAK6wB,WAAc,OAAO,KAC/B,MAAO7wB,KAAK6wB,WAAW7wB,KAAK8wB,eAAiBhP,EACzC9hB,KAAK8wB,cAAgB,EACzB,IAAIloB,EAAO5I,KAAK6wB,WAAW7wB,KAAK8wB,aAAe,GAC/C,MAAO,CAACloB,KAAMA,GAAQA,EAAKrH,QAAQ,kBAAmB,IAC9CgsB,KAAMvtB,KAAK6wB,WAAW7wB,KAAK8wB,cAAgBhP,IAGrD6O,GAAQpwB,UAAUyyB,SAAW,WAC3BhzB,KAAKsG,OACDtG,KAAK4wB,aAAe,GAAK5wB,KAAK4wB,gBAGpCD,GAAQiC,UAAY,SAAUvF,EAAKsF,EAAOrsB,GACxC,OAAIqsB,aAAiBjC,GACV,IAAIC,GAAQtD,EAAKb,GAAUa,EAAIhiB,KAAMsnB,EAAMhwB,OAAQ2D,EAAMqsB,EAAMpC,WAE/D,IAAII,GAAQtD,EAAKb,GAAUa,EAAIhiB,KAAMsnB,GAAQrsB,IAG1DqqB,GAAQpwB,UAAU8xB,KAAO,SAAUgB,GACjC,IAAI1wB,GAAiB,IAAT0wB,EAAiB7G,GAAUxsB,KAAKqtB,IAAIhiB,KAAMrL,KAAK2C,OAAS3C,KAAK2C,MACzE,OAAO3C,KAAK4wB,aAAe,EAAI,IAAIF,GAAa/tB,EAAO3C,KAAK4wB,cAAgBjuB,GAoH9E,IAAI2wB,GAAQ,SAAS1xB,EAAQgH,EAAMjG,GACjC3C,KAAKsJ,MAAQ1H,EAAO0H,MAAOtJ,KAAKoV,IAAMxT,EAAOE,IAC7C9B,KAAKiC,OAASL,EAAO0d,UACrBtf,KAAK4I,KAAOA,GAAQ,KACpB5I,KAAK2C,MAAQA,GAIf,SAAS4wB,GAAU7wB,EAAIZ,EAAK2wB,EAASe,GACnC,IAAmCvtB,EAA/BonB,EAAM3qB,EAAG2qB,IAAKhiB,EAAOgiB,EAAIhiB,KAC7BvJ,EAAMotB,GAAQ7B,EAAKvrB,GACnB,IACuE2xB,EADnEntB,EAAO8mB,GAAQC,EAAKvrB,EAAIwE,MAAO0qB,EAAUiB,GAAiBvvB,EAAIZ,EAAIwE,KAAMmsB,GACxE7wB,EAAS,IAAImrB,GAAazmB,EAAKnD,KAAMT,EAAGoB,QAAQ6d,QAASqP,GACzDwC,IAAWC,EAAS,IACxB,OAAQD,GAAW5xB,EAAOE,IAAMA,EAAI0C,MAAQ5C,EAAO2tB,MACjD3tB,EAAO0H,MAAQ1H,EAAOE,IACtBmE,EAAQktB,GAAU9nB,EAAMzJ,EAAQovB,EAAQruB,OACpC6wB,GAAWC,EAAOhnB,KAAK,IAAI6mB,GAAM1xB,EAAQqE,EAAOumB,GAAUa,EAAIhiB,KAAM2lB,EAAQruB,SAElF,OAAO6wB,EAAUC,EAAS,IAAIH,GAAM1xB,EAAQqE,EAAO+qB,EAAQruB,OAG7D,SAAS+wB,GAAmB9qB,EAAMyM,GAChC,GAAIzM,EAAQ,OAAS,CACnB,IAAI+qB,EAAY/qB,EAAK7G,MAAM,qCAC3B,IAAK4xB,EAAa,MAClB/qB,EAAOA,EAAKgF,MAAM,EAAG+lB,EAAUzxB,OAAS0G,EAAKgF,MAAM+lB,EAAUzxB,MAAQyxB,EAAU,GAAG/0B,QAClF,IAAI6iB,EAAOkS,EAAU,GAAK,UAAY,YAClB,MAAhBte,EAAOoM,GACPpM,EAAOoM,GAAQkS,EAAU,GACnB,IAAKryB,OAAO,YAAcqyB,EAAU,GAAK,aAAc9uB,KAAKwQ,EAAOoM,MACzEpM,EAAOoM,IAAS,IAAMkS,EAAU,IAEtC,OAAO/qB,EAIT,SAASyoB,GAAQ3uB,EAAIS,EAAMkI,EAAM2lB,EAAS/sB,EAAGmtB,EAAaH,GACxD,IAAI2C,EAAevoB,EAAKuoB,aACJ,MAAhBA,IAAwBA,EAAelxB,EAAGoB,QAAQ8vB,cACtD,IACkE3tB,EAD9D4tB,EAAW,EAAGC,EAAW,KACzBlyB,EAAS,IAAImrB,GAAa5pB,EAAMT,EAAGoB,QAAQ6d,QAASqP,GACpDV,EAAQ5tB,EAAGoB,QAAQiwB,cAAgB,CAAC,MAC5B,IAAR5wB,GAAcuwB,GAAmBR,GAAc7nB,EAAM2lB,EAAQruB,OAAQyuB,GACzE,OAAQxvB,EAAO2tB,MAAO,CASpB,GARI3tB,EAAOE,IAAMY,EAAGoB,QAAQquB,oBAC1ByB,GAAe,EACX3C,GAAc4B,GAAYnwB,EAAIS,EAAM6tB,EAASpvB,EAAOE,KACxDF,EAAOE,IAAMqB,EAAKvE,OAClBqH,EAAQ,MAERA,EAAQytB,GAAmBP,GAAU9nB,EAAMzJ,EAAQovB,EAAQruB,MAAO2tB,GAAQc,GAExEd,EAAO,CACT,IAAI0D,EAAQ1D,EAAM,GAAGlmB,KACjB4pB,IAAS/tB,EAAQ,MAAQA,EAAQ+tB,EAAQ,IAAM/tB,EAAQ+tB,IAE7D,IAAKJ,GAAgBE,GAAY7tB,EAAO,CACtC,MAAO4tB,EAAWjyB,EAAO0H,MACvBuqB,EAAW10B,KAAKe,IAAI0B,EAAO0H,MAAOuqB,EAAW,KAC7C5vB,EAAE4vB,EAAUC,GAEdA,EAAW7tB,EAEbrE,EAAO0H,MAAQ1H,EAAOE,IAExB,MAAO+xB,EAAWjyB,EAAOE,IAAK,CAI5B,IAAIA,EAAM3C,KAAKe,IAAI0B,EAAOE,IAAK+xB,EAAW,KAC1C5vB,EAAEnC,EAAKgyB,GACPD,EAAW/xB,GASf,SAAS4wB,GAAchwB,EAAIof,EAAG2Q,GAG5B,IAFA,IAAIwB,EAAWC,EAAS7G,EAAM3qB,EAAG2qB,IAC7B8G,EAAM1B,GAAW,EAAI3Q,GAAKpf,EAAG2qB,IAAIhiB,KAAKqhB,UAAY,IAAO,KACpD9pB,EAASkf,EAAGlf,EAASuxB,IAAOvxB,EAAQ,CAC3C,GAAIA,GAAUyqB,EAAIC,MAAS,OAAOD,EAAIC,MACtC,IAAIhnB,EAAO8mB,GAAQC,EAAKzqB,EAAS,GAAI2c,EAAQjZ,EAAK8rB,WAClD,GAAI7S,KAAWkT,GAAW7vB,GAAU2c,aAAiBmR,GAAenR,EAAMgR,UAAY,IAAMlD,EAAImF,cAC5F,OAAO5vB,EACX,IAAIwxB,EAAW1S,EAAYpb,EAAKnD,KAAM,KAAMT,EAAGoB,QAAQ6d,UACxC,MAAXuS,GAAmBD,EAAYG,KACjCF,EAAUtxB,EAAS,EACnBqxB,EAAYG,GAGhB,OAAOF,EAGT,SAASG,GAAgBhH,EAAKvL,GAE5B,GADAuL,EAAImF,aAAerzB,KAAKe,IAAImtB,EAAImF,aAAc1Q,KAC1CuL,EAAIkF,kBAAoBzQ,EAAI,IAAhC,CAEA,IADA,IAAIxY,EAAQ+jB,EAAIC,MACPhnB,EAAOwb,EAAI,EAAGxb,EAAOgD,EAAOhD,IAAQ,CAC3C,IAAIqsB,EAAQvF,GAAQC,EAAK/mB,GAAM8rB,WAI/B,GAAIO,MAAYA,aAAiBjC,KAAiBpqB,EAAOqsB,EAAMpC,UAAYzO,GAAI,CAC7ExY,EAAQhD,EAAO,EACf,OAGJ+mB,EAAIkF,kBAAoBpzB,KAAKe,IAAImtB,EAAIkF,kBAAmBjpB,IAI1D,IAAIgrB,IAAmB,EAAOC,IAAoB,EAElD,SAASC,KACPF,IAAmB,EAGrB,SAASG,KACPF,IAAoB,EAKtB,SAASG,GAAWC,EAAQ9sB,EAAMxB,GAChCrG,KAAK20B,OAASA,EACd30B,KAAK6H,KAAOA,EAAM7H,KAAKqG,GAAKA,EAI9B,SAASuuB,GAAiBC,EAAOF,GAC/B,GAAIE,EAAS,IAAK,IAAI91B,EAAI,EAAGA,EAAI81B,EAAMj2B,SAAUG,EAAG,CAClD,IAAI+1B,EAAOD,EAAM91B,GACjB,GAAI+1B,EAAKH,QAAUA,EAAU,OAAOG,GAMxC,SAASC,GAAiBF,EAAOC,GAE/B,IADA,IAAIlU,EACK7hB,EAAI,EAAGA,EAAI81B,EAAMj2B,SAAUG,EAC5B81B,EAAM91B,IAAM+1B,IAASlU,IAAMA,EAAI,KAAKnU,KAAKooB,EAAM91B,IACvD,OAAO6hB,EAIT,SAASoU,GAAc1uB,EAAMwuB,EAAMG,GACjC,IAAIC,EAAWD,GAAMrf,OAAOuf,UAAYF,EAAGG,cAAgBH,EAAGG,YAAc,IAAID,UAC5ED,GAAYA,EAASG,IAAI/uB,EAAK8uB,aAChC9uB,EAAK8uB,YAAY3oB,KAAKqoB,IAEtBxuB,EAAK8uB,YAAc9uB,EAAK8uB,YAAc9uB,EAAK8uB,YAAYtN,OAAO,CAACgN,IAAS,CAACA,GACrEI,GAAYA,EAASI,IAAIhvB,EAAK8uB,cAEpCN,EAAKH,OAAOY,WAAWjvB,GAOzB,SAASkvB,GAAkBlrB,EAAKmrB,EAASC,GACvC,IAAIC,EACJ,GAAIrrB,EAAO,IAAK,IAAIvL,EAAI,EAAGA,EAAIuL,EAAI1L,SAAUG,EAAG,CAC9C,IAAI+1B,EAAOxqB,EAAIvL,GAAI41B,EAASG,EAAKH,OAC7BiB,EAA4B,MAAbd,EAAKjtB,OAAiB8sB,EAAOkB,cAAgBf,EAAKjtB,MAAQ4tB,EAAUX,EAAKjtB,KAAO4tB,GACnG,GAAIG,GAAgBd,EAAKjtB,MAAQ4tB,GAA0B,YAAfd,EAAO/rB,QAAwB8sB,IAAaZ,EAAKH,OAAOmB,YAAa,CAC/G,IAAIC,EAAuB,MAAXjB,EAAKzuB,KAAesuB,EAAOqB,eAAiBlB,EAAKzuB,IAAMovB,EAAUX,EAAKzuB,GAAKovB,IACzFE,IAAOA,EAAK,KAAKlpB,KAAK,IAAIioB,GAAWC,EAAQG,EAAKjtB,KAAMkuB,EAAY,KAAOjB,EAAKzuB,MAGtF,OAAOsvB,EAET,SAASM,GAAiB3rB,EAAK4rB,EAAOR,GACpC,IAAIC,EACJ,GAAIrrB,EAAO,IAAK,IAAIvL,EAAI,EAAGA,EAAIuL,EAAI1L,SAAUG,EAAG,CAC9C,IAAI+1B,EAAOxqB,EAAIvL,GAAI41B,EAASG,EAAKH,OAC7BoB,EAAuB,MAAXjB,EAAKzuB,KAAesuB,EAAOqB,eAAiBlB,EAAKzuB,IAAM6vB,EAAQpB,EAAKzuB,GAAK6vB,GACzF,GAAIH,GAAajB,EAAKjtB,MAAQquB,GAAwB,YAAfvB,EAAO/rB,QAAwB8sB,GAAYZ,EAAKH,OAAOmB,YAAa,CACzG,IAAIF,EAA4B,MAAbd,EAAKjtB,OAAiB8sB,EAAOkB,cAAgBf,EAAKjtB,MAAQquB,EAAQpB,EAAKjtB,KAAOquB,IAC/FP,IAAOA,EAAK,KAAKlpB,KAAK,IAAIioB,GAAWC,EAAQiB,EAAe,KAAOd,EAAKjtB,KAAOquB,EAChC,MAAXpB,EAAKzuB,GAAa,KAAOyuB,EAAKzuB,GAAK6vB,KAG7E,OAAOP,EAST,SAASQ,GAAuB9I,EAAK+I,GACnC,GAAIA,EAAOC,KAAQ,OAAO,KAC1B,IAAIC,EAAW9H,GAAOnB,EAAK+I,EAAOvuB,KAAKvB,OAAS8mB,GAAQC,EAAK+I,EAAOvuB,KAAKvB,MAAM8uB,YAC3EmB,EAAU/H,GAAOnB,EAAK+I,EAAO/vB,GAAGC,OAAS8mB,GAAQC,EAAK+I,EAAO/vB,GAAGC,MAAM8uB,YAC1E,IAAKkB,IAAaC,EAAW,OAAO,KAEpC,IAAId,EAAUW,EAAOvuB,KAAKrD,GAAI0xB,EAAQE,EAAO/vB,GAAG7B,GAAIkxB,EAA0C,GAA/B9G,GAAIwH,EAAOvuB,KAAMuuB,EAAO/vB,IAEnFinB,EAAQkI,GAAkBc,EAAUb,EAASC,GAC7CvG,EAAO8G,GAAiBM,EAASL,EAAOR,GAGxCc,EAAiC,GAAtBJ,EAAOjzB,KAAKvE,OAAa63B,EAASpT,EAAI+S,EAAOjzB,MAAMvE,QAAU43B,EAAWf,EAAU,GACjG,GAAInI,EAEF,IAAK,IAAIvuB,EAAI,EAAGA,EAAIuuB,EAAM1uB,SAAUG,EAAG,CACrC,IAAI+1B,EAAOxH,EAAMvuB,GACjB,GAAe,MAAX+1B,EAAKzuB,GAAY,CACnB,IAAIye,EAAQ8P,GAAiBzF,EAAM2F,EAAKH,QACnC7P,EACI0R,IAAY1B,EAAKzuB,GAAiB,MAAZye,EAAMze,GAAa,KAAOye,EAAMze,GAAKowB,GADtD3B,EAAKzuB,GAAKovB,GAK9B,GAAItG,EAEF,IAAK,IAAIlJ,EAAM,EAAGA,EAAMkJ,EAAKvwB,SAAUqnB,EAAK,CAC1C,IAAIyQ,EAASvH,EAAKlJ,GAElB,GADiB,MAAbyQ,EAAOrwB,KAAcqwB,EAAOrwB,IAAMowB,GACnB,MAAfC,EAAO7uB,KAAc,CACvB,IAAI8uB,EAAU/B,GAAiBtH,EAAOoJ,EAAO/B,QACxCgC,IACHD,EAAO7uB,KAAO4uB,EACVD,IAAalJ,IAAUA,EAAQ,KAAK7gB,KAAKiqB,SAG/CA,EAAO7uB,MAAQ4uB,EACXD,IAAalJ,IAAUA,EAAQ,KAAK7gB,KAAKiqB,GAK/CpJ,IAASA,EAAQsJ,GAAgBtJ,IACjC6B,GAAQA,GAAQ7B,IAAS6B,EAAOyH,GAAgBzH,IAEpD,IAAI0H,EAAa,CAACvJ,GAClB,IAAKkJ,EAAU,CAEb,IAAkCM,EAA9BC,EAAMX,EAAOjzB,KAAKvE,OAAS,EAC/B,GAAIm4B,EAAM,GAAKzJ,EACX,IAAK,IAAIpH,EAAM,EAAGA,EAAMoH,EAAM1uB,SAAUsnB,EACjB,MAAjBoH,EAAMpH,GAAK7f,KACZywB,IAAeA,EAAa,KAAKrqB,KAAK,IAAIioB,GAAWpH,EAAMpH,GAAKyO,OAAQ,KAAM,OACvF,IAAK,IAAIvO,EAAM,EAAGA,EAAM2Q,IAAO3Q,EAC3ByQ,EAAWpqB,KAAKqqB,GACpBD,EAAWpqB,KAAK0iB,GAElB,OAAO0H,EAKT,SAASD,GAAgB/B,GACvB,IAAK,IAAI91B,EAAI,EAAGA,EAAI81B,EAAMj2B,SAAUG,EAAG,CACrC,IAAI+1B,EAAOD,EAAM91B,GACA,MAAb+1B,EAAKjtB,MAAgBitB,EAAKjtB,MAAQitB,EAAKzuB,KAAqC,IAA/ByuB,EAAKH,OAAOqC,gBACzDnC,EAAMhY,OAAO9d,IAAK,GAExB,OAAK81B,EAAMj2B,OACJi2B,EADqB,KAK9B,SAASoC,GAAqB5J,EAAKxlB,EAAMxB,GACvC,IAAI6wB,EAAU,KAQd,GAPA7J,EAAI3d,KAAK7H,EAAKvB,KAAMD,EAAGC,KAAO,GAAG,SAAUA,GACzC,GAAIA,EAAK8uB,YAAe,IAAK,IAAIr2B,EAAI,EAAGA,EAAIuH,EAAK8uB,YAAYx2B,SAAUG,EAAG,CACxE,IAAIo4B,EAAO7wB,EAAK8uB,YAAYr2B,GAAG41B,QAC3BwC,EAAKC,UAAcF,IAAsC,GAA3BvyB,EAAQuyB,EAASC,KAC9CD,IAAYA,EAAU,KAAKzqB,KAAK0qB,QAGpCD,EAAW,OAAO,KAEvB,IADA,IAAI1hB,EAAQ,CAAC,CAAC3N,KAAMA,EAAMxB,GAAIA,IACrBtH,EAAI,EAAGA,EAAIm4B,EAAQt4B,SAAUG,EAEpC,IADA,IAAIs4B,EAAKH,EAAQn4B,GAAIoe,EAAIka,EAAG7vB,KAAK,GACxB0I,EAAI,EAAGA,EAAIsF,EAAM5W,SAAUsR,EAAG,CACrC,IAAI+J,EAAIzE,EAAMtF,GACd,KAAI0e,GAAI3U,EAAE5T,GAAI8W,EAAEtV,MAAQ,GAAK+mB,GAAI3U,EAAEpS,KAAMsV,EAAE9W,IAAM,GAAjD,CACA,IAAIixB,EAAW,CAACpnB,EAAG,GAAIqnB,EAAQ3I,GAAI3U,EAAEpS,KAAMsV,EAAEtV,MAAO2vB,EAAM5I,GAAI3U,EAAE5T,GAAI8W,EAAE9W,KAClEkxB,EAAQ,IAAMF,EAAGxB,gBAAkB0B,IACnCD,EAAS7qB,KAAK,CAAC5E,KAAMoS,EAAEpS,KAAMxB,GAAI8W,EAAEtV,QACnC2vB,EAAM,IAAMH,EAAGrB,iBAAmBwB,IAClCF,EAAS7qB,KAAK,CAAC5E,KAAMsV,EAAE9W,GAAIA,GAAI4T,EAAE5T,KACrCmP,EAAMqH,OAAOyE,MAAM9L,EAAO8hB,GAC1BpnB,GAAKonB,EAAS14B,OAAS,GAG3B,OAAO4W,EAIT,SAASiiB,GAAkBnxB,GACzB,IAAIuuB,EAAQvuB,EAAK8uB,YACjB,GAAKP,EAAL,CACA,IAAK,IAAI91B,EAAI,EAAGA,EAAI81B,EAAMj2B,SAAUG,EAChC81B,EAAM91B,GAAG41B,OAAO+C,WAAWpxB,GAC/BA,EAAK8uB,YAAc,MAErB,SAASuC,GAAkBrxB,EAAMuuB,GAC/B,GAAKA,EAAL,CACA,IAAK,IAAI91B,EAAI,EAAGA,EAAI81B,EAAMj2B,SAAUG,EAChC81B,EAAM91B,GAAG41B,OAAOY,WAAWjvB,GAC/BA,EAAK8uB,YAAcP,GAKrB,SAAS+C,GAAUjD,GAAU,OAAOA,EAAOkB,eAAiB,EAAI,EAChE,SAASgC,GAAWlD,GAAU,OAAOA,EAAOqB,eAAiB,EAAI,EAKjE,SAAS8B,GAAwBtX,EAAG3I,GAClC,IAAIkgB,EAAUvX,EAAEiN,MAAM7uB,OAASiZ,EAAE4V,MAAM7uB,OACvC,GAAe,GAAXm5B,EAAgB,OAAOA,EAC3B,IAAIC,EAAOxX,EAAEhZ,OAAQywB,EAAOpgB,EAAErQ,OAC1B0wB,EAAUtJ,GAAIoJ,EAAKnwB,KAAMowB,EAAKpwB,OAAS+vB,GAAUpX,GAAKoX,GAAU/f,GACpE,GAAIqgB,EAAW,OAAQA,EACvB,IAAIC,EAAQvJ,GAAIoJ,EAAK3xB,GAAI4xB,EAAK5xB,KAAOwxB,GAAWrX,GAAKqX,GAAWhgB,GAChE,OAAIsgB,GACGtgB,EAAEuK,GAAK5B,EAAE4B,GAKlB,SAASgW,GAAoB9xB,EAAMgD,GACjC,IAAiDwb,EAA7CuT,EAAM9D,IAAqBjuB,EAAK8uB,YACpC,GAAIiD,EAAO,IAAK,IAAIC,OAAK,EAAUv5B,EAAI,EAAGA,EAAIs5B,EAAIz5B,SAAUG,EAC1Du5B,EAAKD,EAAIt5B,GACLu5B,EAAG3D,OAAO4D,WAA0C,OAA5BjvB,EAAQgvB,EAAGzwB,KAAOywB,EAAGjyB,OAC3Cye,GAASgT,GAAwBhT,EAAOwT,EAAG3D,QAAU,KACvD7P,EAAQwT,EAAG3D,QAEjB,OAAO7P,EAET,SAAS0T,GAAqBlyB,GAAQ,OAAO8xB,GAAoB9xB,GAAM,GACvE,SAASmyB,GAAmBnyB,GAAQ,OAAO8xB,GAAoB9xB,GAAM,GAErE,SAASoyB,GAAoBpyB,EAAM9B,GACjC,IAAiDsgB,EAA7CuT,EAAM9D,IAAqBjuB,EAAK8uB,YACpC,GAAIiD,EAAO,IAAK,IAAIt5B,EAAI,EAAGA,EAAIs5B,EAAIz5B,SAAUG,EAAG,CAC9C,IAAIu5B,EAAKD,EAAIt5B,GACTu5B,EAAG3D,OAAO4D,YAAyB,MAAXD,EAAGzwB,MAAgBywB,EAAGzwB,KAAOrD,KAAiB,MAAT8zB,EAAGjyB,IAAciyB,EAAGjyB,GAAK7B,MACpFsgB,GAASgT,GAAwBhT,EAAOwT,EAAG3D,QAAU,KAAM7P,EAAQwT,EAAG3D,QAE9E,OAAO7P,EAMT,SAAS6T,GAA0BtL,EAAKa,EAAQrmB,EAAMxB,EAAIsuB,GACxD,IAAIruB,EAAO8mB,GAAQC,EAAKa,GACpBmK,EAAM9D,IAAqBjuB,EAAK8uB,YACpC,GAAIiD,EAAO,IAAK,IAAIt5B,EAAI,EAAGA,EAAIs5B,EAAIz5B,SAAUG,EAAG,CAC9C,IAAIu5B,EAAKD,EAAIt5B,GACb,GAAKu5B,EAAG3D,OAAO4D,UAAf,CACA,IAAIzT,EAAQwT,EAAG3D,OAAOntB,KAAK,GACvB0wB,EAAUtJ,GAAI9J,EAAMjd,KAAMA,IAAS+vB,GAAUU,EAAG3D,QAAUiD,GAAUjD,GACpEwD,EAAQvJ,GAAI9J,EAAMze,GAAIA,IAAOwxB,GAAWS,EAAG3D,QAAUkD,GAAWlD,GACpE,KAAIuD,GAAW,GAAKC,GAAS,GAAKD,GAAW,GAAKC,GAAS,KACvDD,GAAW,IAAMI,EAAG3D,OAAOqB,gBAAkBrB,EAAOkB,cAAgBjH,GAAI9J,EAAMze,GAAIwB,IAAS,EAAI+mB,GAAI9J,EAAMze,GAAIwB,GAAQ,IACrHqwB,GAAW,IAAMI,EAAG3D,OAAOqB,gBAAkBrB,EAAOkB,cAAgBjH,GAAI9J,EAAMjd,KAAMxB,IAAO,EAAIuoB,GAAI9J,EAAMjd,KAAMxB,GAAM,IACrH,OAAO,IAQf,SAASuyB,GAAWtyB,GAClB,IAAIuyB,EACJ,MAAOA,EAASL,GAAqBlyB,GACjCA,EAAOuyB,EAAOrxB,MAAM,GAAG,GAAMlB,KACjC,OAAOA,EAGT,SAASwyB,GAAcxyB,GACrB,IAAIuyB,EACJ,MAAOA,EAASJ,GAAmBnyB,GAC/BA,EAAOuyB,EAAOrxB,KAAK,GAAG,GAAMlB,KAChC,OAAOA,EAKT,SAASyyB,GAAoBzyB,GAC3B,IAAIuyB,EAAQpL,EACZ,MAAOoL,EAASJ,GAAmBnyB,GACjCA,EAAOuyB,EAAOrxB,KAAK,GAAG,GAAMlB,MAC1BmnB,IAAUA,EAAQ,KAAKhhB,KAAKnG,GAEhC,OAAOmnB,EAKT,SAASuL,GAAa3L,EAAK4L,GACzB,IAAI3yB,EAAO8mB,GAAQC,EAAK4L,GAAQC,EAAMN,GAAWtyB,GACjD,OAAIA,GAAQ4yB,EAAcD,EACnB/K,GAAOgL,GAKhB,SAASC,GAAgB9L,EAAK4L,GAC5B,GAAIA,EAAQ5L,EAAI3lB,WAAc,OAAOuxB,EACrC,IAAgCJ,EAA5BvyB,EAAO8mB,GAAQC,EAAK4L,GACxB,IAAKG,GAAa/L,EAAK/mB,GAAS,OAAO2yB,EACvC,MAAOJ,EAASJ,GAAmBnyB,GAC/BA,EAAOuyB,EAAOrxB,KAAK,GAAG,GAAMlB,KAChC,OAAO4nB,GAAO5nB,GAAQ,EAMxB,SAAS8yB,GAAa/L,EAAK/mB,GACzB,IAAI+xB,EAAM9D,IAAqBjuB,EAAK8uB,YACpC,GAAIiD,EAAO,IAAK,IAAIC,OAAK,EAAUv5B,EAAI,EAAGA,EAAIs5B,EAAIz5B,SAAUG,EAE1D,GADAu5B,EAAKD,EAAIt5B,GACJu5B,EAAG3D,OAAO4D,UAAf,CACA,GAAe,MAAXD,EAAGzwB,KAAgB,OAAO,EAC9B,IAAIywB,EAAG3D,OAAO0E,YACC,GAAXf,EAAGzwB,MAAaywB,EAAG3D,OAAOkB,eAAiByD,GAAkBjM,EAAK/mB,EAAMgyB,GACxE,OAAO,GAGf,SAASgB,GAAkBjM,EAAK/mB,EAAMwuB,GACpC,GAAe,MAAXA,EAAKzuB,GAAY,CACnB,IAAI+O,EAAM0f,EAAKH,OAAOntB,KAAK,GAAG,GAC9B,OAAO8xB,GAAkBjM,EAAKjY,EAAI9O,KAAMsuB,GAAiBxf,EAAI9O,KAAK8uB,YAAaN,EAAKH,SAEtF,GAAIG,EAAKH,OAAOqB,gBAAkBlB,EAAKzuB,IAAMC,EAAKnD,KAAKvE,OACnD,OAAO,EACX,IAAK,IAAI05B,OAAK,EAAUv5B,EAAI,EAAGA,EAAIuH,EAAK8uB,YAAYx2B,SAAUG,EAE5D,GADAu5B,EAAKhyB,EAAK8uB,YAAYr2B,GAClBu5B,EAAG3D,OAAO4D,YAAcD,EAAG3D,OAAO0E,YAAcf,EAAGzwB,MAAQitB,EAAKzuB,KACtD,MAATiyB,EAAGjyB,IAAciyB,EAAGjyB,IAAMyuB,EAAKjtB,QAC/BywB,EAAG3D,OAAOkB,eAAiBf,EAAKH,OAAOqB,iBACxCsD,GAAkBjM,EAAK/mB,EAAMgyB,GAAO,OAAO,EAKnD,SAASiB,GAAaC,GACpBA,EAAUZ,GAAWY,GAGrB,IADA,IAAInL,EAAI,EAAGb,EAAQgM,EAAQ5Z,OAClB7gB,EAAI,EAAGA,EAAIyuB,EAAMC,MAAM7uB,SAAUG,EAAG,CAC3C,IAAIuH,EAAOknB,EAAMC,MAAM1uB,GACvB,GAAIuH,GAAQkzB,EAAW,MAChBnL,GAAK/nB,EAAK0nB,OAEnB,IAAK,IAAI/T,EAAIuT,EAAM5N,OAAQ3F,EAAGuT,EAAQvT,EAAGA,EAAIuT,EAAM5N,OACjD,IAAK,IAAIqG,EAAM,EAAGA,EAAMhM,EAAEyT,SAAS9uB,SAAUqnB,EAAK,CAChD,IAAIna,EAAMmO,EAAEyT,SAASzH,GACrB,GAAIna,GAAO0hB,EAAS,MACba,GAAKviB,EAAIkiB,OAGpB,OAAOK,EAMT,SAASoL,GAAWnzB,GAClB,GAAmB,GAAfA,EAAK0nB,OAAe,OAAO,EAC/B,IAA4B6K,EAAxB/lB,EAAMxM,EAAKnD,KAAKvE,OAAgBkN,EAAMxF,EAC1C,MAAOuyB,EAASL,GAAqB1sB,GAAM,CACzC,IAAIgZ,EAAQ+T,EAAOrxB,KAAK,GAAG,GAC3BsE,EAAMgZ,EAAMjd,KAAKvB,KACjBwM,GAAOgS,EAAMjd,KAAKrD,GAAKsgB,EAAMze,GAAG7B,GAElCsH,EAAMxF,EACN,MAAOuyB,EAASJ,GAAmB3sB,GAAM,CACvC,IAAI6qB,EAAUkC,EAAOrxB,KAAK,GAAG,GAC7BsL,GAAOhH,EAAI3I,KAAKvE,OAAS+3B,EAAQ9uB,KAAKrD,GACtCsH,EAAM6qB,EAAQtwB,GAAGC,KACjBwM,GAAOhH,EAAI3I,KAAKvE,OAAS+3B,EAAQtwB,GAAG7B,GAEtC,OAAOsO,EAIT,SAAS4mB,GAAYh3B,GACnB,IAAIi3B,EAAIj3B,EAAG+D,QAAS4mB,EAAM3qB,EAAG2qB,IAC7BsM,EAAEC,QAAUxM,GAAQC,EAAKA,EAAIC,OAC7BqM,EAAEE,cAAgBJ,GAAWE,EAAEC,SAC/BD,EAAEG,gBAAiB,EACnBzM,EAAI3d,MAAK,SAAUpJ,GACjB,IAAIwM,EAAM2mB,GAAWnzB,GACjBwM,EAAM6mB,EAAEE,gBACVF,EAAEE,cAAgB/mB,EAClB6mB,EAAEC,QAAUtzB,MASlB,IAAIyzB,GAAO,SAAS52B,EAAMiyB,EAAa4E,GACrCh6B,KAAKmD,KAAOA,EACZw0B,GAAkB33B,KAAMo1B,GACxBp1B,KAAKguB,OAASgM,EAAiBA,EAAeh6B,MAAQ,GASxD,SAASi6B,GAAW3zB,EAAMnD,EAAMiyB,EAAa4E,GAC3C1zB,EAAKnD,KAAOA,EACRmD,EAAK8rB,aAAc9rB,EAAK8rB,WAAa,MACrC9rB,EAAKqrB,SAAUrrB,EAAKqrB,OAAS,MACf,MAAdrrB,EAAKue,QAAiBve,EAAKue,MAAQ,MACvC4S,GAAkBnxB,GAClBqxB,GAAkBrxB,EAAM8uB,GACxB,IAAI8E,EAAYF,EAAiBA,EAAe1zB,GAAQ,EACpD4zB,GAAa5zB,EAAK0nB,QAAUD,GAAiBznB,EAAM4zB,GAIzD,SAASC,GAAY7zB,GACnBA,EAAKsZ,OAAS,KACd6X,GAAkBnxB,GApBpByzB,GAAKx5B,UAAU2tB,OAAS,WAAc,OAAOA,GAAOluB,OACpD+oB,GAAWgR,IAyBX,IAAIK,GAAoB,GAAIC,GAA4B,GACxD,SAASC,GAAoBr0B,EAAOnC,GAClC,IAAKmC,GAAS,QAAQpB,KAAKoB,GAAU,OAAO,KAC5C,IAAIs0B,EAAQz2B,EAAQiwB,aAAesG,GAA4BD,GAC/D,OAAOG,EAAMt0B,KACVs0B,EAAMt0B,GAASA,EAAM1E,QAAQ,OAAQ,UAQ1C,SAASi5B,GAAiB93B,EAAI+3B,GAI5B,IAAIhhB,EAAUsG,EAAK,OAAQ,KAAM,KAAM9B,EAAS,sBAAwB,MACpEyc,EAAU,CAACC,IAAK5a,EAAK,MAAO,CAACtG,GAAU,mBAAoBA,QAASA,EACzDwJ,IAAK,EAAGnhB,IAAK,EAAGY,GAAIA,EACpBk4B,eAAe,EACfC,YAAan4B,EAAGuE,UAAU,iBACzCwzB,EAAS1Q,QAAU,GAGnB,IAAK,IAAIhrB,EAAI,EAAGA,IAAM07B,EAASK,KAAOL,EAASK,KAAKl8B,OAAS,GAAIG,IAAK,CACpE,IAAIuH,EAAOvH,EAAI07B,EAASK,KAAK/7B,EAAI,GAAK07B,EAASn0B,KAAMue,OAAQ,EAC7D6V,EAAQ54B,IAAM,EACd44B,EAAQK,SAAWC,GAGf9Q,GAAgBxnB,EAAG+D,QAAQsjB,WAAalF,EAAQ2C,GAASlhB,EAAM5D,EAAG2qB,IAAIvH,cACtE4U,EAAQK,SAAWE,GAAkBP,EAAQK,SAAUlW,IAC3D6V,EAAQ77B,IAAM,GACd,IAAIq8B,EAAsBT,GAAY/3B,EAAG+D,QAAQ00B,kBAAoBjN,GAAO5nB,GAC5E80B,GAAkB90B,EAAMo0B,EAAS3I,GAAcrvB,EAAI4D,EAAM40B,IACrD50B,EAAKgsB,eACHhsB,EAAKgsB,aAAaT,UAClB6I,EAAQ7I,QAAUtR,EAAYja,EAAKgsB,aAAaT,QAAS6I,EAAQ7I,SAAW,KAC5EvrB,EAAKgsB,aAAaR,YAClB4I,EAAQ5I,UAAYvR,EAAYja,EAAKgsB,aAAaR,UAAW4I,EAAQ5I,WAAa,MAI9D,GAAtB4I,EAAQ77B,IAAID,QACZ87B,EAAQ77B,IAAI4N,KAAK,EAAG,EAAGiuB,EAAQjhB,QAAQjR,YAAYshB,GAAiBpnB,EAAG+D,QAAQsjB,WAG1E,GAALhrB,GACF07B,EAAS1Q,QAAQlrB,IAAM67B,EAAQ77B,IAC/B47B,EAAS1Q,QAAQwQ,MAAQ,MAE9BE,EAAS1Q,QAAQsR,OAASZ,EAAS1Q,QAAQsR,KAAO,KAAK5uB,KAAKiuB,EAAQ77B,MAC7D47B,EAAS1Q,QAAQuR,SAAWb,EAAS1Q,QAAQuR,OAAS,KAAK7uB,KAAK,KAKtE,GAAIwR,EAAQ,CACV,IAAIkR,EAAOuL,EAAQjhB,QAAQ8hB,WACvB,aAAa12B,KAAKsqB,EAAKzmB,YAAeymB,EAAK3oB,eAAiB2oB,EAAK3oB,cAAc,cAC/Ek0B,EAAQjhB,QAAQ/Q,UAAY,oBAOlC,OAJAyf,GAAOzlB,EAAI,aAAcA,EAAI+3B,EAASn0B,KAAMo0B,EAAQC,KAChDD,EAAQC,IAAIjyB,YACZgyB,EAAQ5I,UAAYvR,EAAYma,EAAQC,IAAIjyB,UAAWgyB,EAAQ5I,WAAa,KAEzE4I,EAGT,SAASc,GAA8Bh3B,GACrC,IAAI7C,EAAQke,EAAI,OAAQ,IAAU,kBAGlC,OAFAle,EAAM85B,MAAQ,MAAQj3B,EAAG+P,WAAW,GAAGsE,SAAS,IAChDlX,EAAMqe,aAAa,aAAcre,EAAM85B,OAChC95B,EAKT,SAASq5B,GAAWN,EAASv3B,EAAM8C,EAAOy1B,EAAYC,EAAUC,EAAKC,GACnE,GAAK14B,EAAL,CACA,IAEIsW,EAFAqiB,EAAcpB,EAAQG,YAAcA,GAAY13B,EAAMu3B,EAAQE,eAAiBz3B,EAC/E44B,EAAUrB,EAAQh4B,GAAGC,MAAMq5B,aAAcC,GAAW,EAExD,GAAKF,EAAQl3B,KAAK1B,GAMX,CACLsW,EAAUlT,SAAS6B,yBACnB,IAAItG,EAAM,EACV,MAAO,EAAM,CACXi6B,EAAQl6B,UAAYC,EACpB,IAAIqb,EAAI4e,EAAQ/5B,KAAKmB,GACjB+f,EAAU/F,EAAIA,EAAEjb,MAAQJ,EAAMqB,EAAKvE,OAASkD,EAChD,GAAIohB,EAAS,CACX,IAAIiH,EAAM5jB,SAASkC,eAAeqzB,EAAYluB,MAAM9L,EAAKA,EAAMohB,IAC3DpF,GAAMC,EAAa,EAAKtE,EAAQjR,YAAYqX,EAAI,OAAQ,CAACsK,KACtD1Q,EAAQjR,YAAY2hB,GAC3BuQ,EAAQ77B,IAAI4N,KAAKiuB,EAAQ54B,IAAK44B,EAAQ54B,IAAMohB,EAASiH,GACrDuQ,EAAQzX,KAAOC,EACfwX,EAAQ54B,KAAOohB,EAEjB,IAAK/F,EAAK,MACVrb,GAAOohB,EAAU,EACjB,IAAIgZ,OAAQ,EACZ,GAAY,MAAR/e,EAAE,GAAY,CAChB,IAAIwE,EAAU+Y,EAAQh4B,GAAGoB,QAAQ6d,QAASwa,EAAWxa,EAAU+Y,EAAQzX,IAAMtB,EAC7Eua,EAAQziB,EAAQjR,YAAYqX,EAAI,OAAQuD,EAAS+Y,GAAW,WAC5DD,EAAMlc,aAAa,OAAQ,gBAC3Bkc,EAAMlc,aAAa,UAAW,MAC9B0a,EAAQzX,KAAOkZ,MACE,MAARhf,EAAE,IAAsB,MAARA,EAAE,IAC3B+e,EAAQziB,EAAQjR,YAAYqX,EAAI,OAAgB,MAAR1C,EAAE,GAAa,IAAW,IAAU,mBAC5E+e,EAAMlc,aAAa,UAAW7C,EAAE,IAChCud,EAAQzX,KAAO,IAEfiZ,EAAQxB,EAAQh4B,GAAGoB,QAAQs4B,uBAAuBjf,EAAE,IACpD+e,EAAMlc,aAAa,UAAW7C,EAAE,IAC5BW,GAAMC,EAAa,EAAKtE,EAAQjR,YAAYqX,EAAI,OAAQ,CAACqc,KACtDziB,EAAQjR,YAAY0zB,GAC3BxB,EAAQzX,KAAO,GAEjByX,EAAQ77B,IAAI4N,KAAKiuB,EAAQ54B,IAAK44B,EAAQ54B,IAAM,EAAGo6B,GAC/CxB,EAAQ54B,YAzCV44B,EAAQzX,KAAO9f,EAAKvE,OACpB6a,EAAUlT,SAASkC,eAAeqzB,GAClCpB,EAAQ77B,IAAI4N,KAAKiuB,EAAQ54B,IAAK44B,EAAQ54B,IAAMqB,EAAKvE,OAAQ6a,GACrDqE,GAAMC,EAAa,IAAKke,GAAW,GACvCvB,EAAQ54B,KAAOqB,EAAKvE,OAyCtB,GADA87B,EAAQE,cAA2D,IAA3CkB,EAAYvnB,WAAWpR,EAAKvE,OAAS,GACzDqH,GAASy1B,GAAcC,GAAYM,GAAYL,GAAOC,EAAY,CACpE,IAAIQ,EAAYp2B,GAAS,GACrBy1B,IAAcW,GAAaX,GAC3BC,IAAYU,GAAaV,GAC7B,IAAIh6B,EAAQke,EAAI,OAAQ,CAACpG,GAAU4iB,EAAWT,GAC9C,GAAIC,EACF,IAAK,IAAIS,KAAQT,EAAkBA,EAAW5f,eAAeqgB,IAAiB,SAARA,GAA2B,SAARA,GACrF36B,EAAMqe,aAAasc,EAAMT,EAAWS,IAE1C,OAAO5B,EAAQjhB,QAAQjR,YAAY7G,GAErC+4B,EAAQjhB,QAAQjR,YAAYiR,IAK9B,SAASohB,GAAY13B,EAAMo5B,GACzB,GAAIp5B,EAAKvE,OAAS,IAAM,KAAKiG,KAAK1B,GAAS,OAAOA,EAElD,IADA,IAAIq5B,EAAcD,EAAgBhtB,EAAS,GAClCxQ,EAAI,EAAGA,EAAIoE,EAAKvE,OAAQG,IAAK,CACpC,IAAIyF,EAAKrB,EAAK3D,OAAOT,GACX,KAANyF,IAAag4B,GAAgBz9B,GAAKoE,EAAKvE,OAAS,GAA+B,IAA1BuE,EAAKoR,WAAWxV,EAAI,KACzEyF,EAAK,KACT+K,GAAU/K,EACVg4B,EAAoB,KAANh4B,EAEhB,OAAO+K,EAKT,SAAS0rB,GAAkB3K,EAAOzL,GAChC,OAAO,SAAU6V,EAASv3B,EAAM8C,EAAOy1B,EAAYC,EAAUC,EAAKC,GAChE51B,EAAQA,EAAQA,EAAQ,mBAAqB,kBAE7C,IADA,IAAIqD,EAAQoxB,EAAQ54B,IAAKsT,EAAM9L,EAAQnG,EAAKvE,SACnC,CAGP,IADA,IAAImmB,OAAO,EACFhmB,EAAI,EAAGA,EAAI8lB,EAAMjmB,OAAQG,IAEhC,GADAgmB,EAAOF,EAAM9lB,GACTgmB,EAAK1e,GAAKiD,GAASyb,EAAKld,MAAQyB,EAAS,MAE/C,GAAIyb,EAAK1e,IAAM+O,EAAO,OAAOkb,EAAMoK,EAASv3B,EAAM8C,EAAOy1B,EAAYC,EAAUC,EAAKC,GACpFvL,EAAMoK,EAASv3B,EAAKyK,MAAM,EAAGmX,EAAK1e,GAAKiD,GAAQrD,EAAOy1B,EAAY,KAAME,EAAKC,GAC7EH,EAAa,KACbv4B,EAAOA,EAAKyK,MAAMmX,EAAK1e,GAAKiD,GAC5BA,EAAQyb,EAAK1e,KAKnB,SAASo2B,GAAmB/B,EAASnN,EAAMoH,EAAQ+H,GACjD,IAAIC,GAAUD,GAAgB/H,EAAO0E,WACjCsD,GAAUjC,EAAQ77B,IAAI4N,KAAKiuB,EAAQ54B,IAAK44B,EAAQ54B,IAAMyrB,EAAMoP,IAC3DD,GAAgBhC,EAAQh4B,GAAG+D,QAAQm2B,MAAMC,wBACvCF,IACDA,EAASjC,EAAQjhB,QAAQjR,YAAYjC,SAAS4B,cAAc,UAChEw0B,EAAO3c,aAAa,YAAa2U,EAAOvS,KAEtCua,IACFjC,EAAQh4B,GAAG+D,QAAQm2B,MAAME,cAAcH,GACvCjC,EAAQjhB,QAAQjR,YAAYm0B,IAE9BjC,EAAQ54B,KAAOyrB,EACfmN,EAAQE,eAAgB,EAK1B,SAASQ,GAAkB90B,EAAMo0B,EAAS/I,GACxC,IAAIkD,EAAQvuB,EAAK8uB,YAAa2H,EAAUz2B,EAAKnD,KAAM+jB,EAAK,EACxD,GAAK2N,EAQL,IAFA,IAAqD5uB,EAAO21B,EACxCoB,EAAWC,EAAcC,EAAgB3E,EAAWsD,EADpE/oB,EAAMiqB,EAAQn+B,OAAQkD,EAAM,EAAG/C,EAAI,EAAGoE,EAAO,GAC7Cg6B,EAAa,IACR,CACP,GAAIA,GAAcr7B,EAAK,CACrBk7B,EAAYC,EAAeC,EAAiBtB,EAAM,GAClDC,EAAa,KACbtD,EAAY,KAAM4E,EAAaC,IAE/B,IADA,IAAIC,EAAiB,GAAIC,OAAY,EAC5BptB,EAAI,EAAGA,EAAI2kB,EAAMj2B,SAAUsR,EAAG,CACrC,IAAIooB,EAAKzD,EAAM3kB,GAAIiN,EAAImb,EAAG3D,OAC1B,GAAc,YAAVxX,EAAEvU,MAAsB0vB,EAAGzwB,MAAQ/F,GAAOqb,EAAEkc,WAC9CgE,EAAe5wB,KAAK0Q,QACf,GAAImb,EAAGzwB,MAAQ/F,IAAiB,MAATw2B,EAAGjyB,IAAciyB,EAAGjyB,GAAKvE,GAAOqb,EAAEob,WAAaD,EAAGjyB,IAAMvE,GAAOw2B,EAAGzwB,MAAQ/F,GAAM,CAY5G,GAXa,MAATw2B,EAAGjyB,IAAciyB,EAAGjyB,IAAMvE,GAAOq7B,EAAa7E,EAAGjyB,KACnD82B,EAAa7E,EAAGjyB,GAChB42B,EAAe,IAEb9f,EAAEzU,YAAas0B,GAAa,IAAM7f,EAAEzU,WACpCyU,EAAEye,MAAOA,GAAOA,EAAMA,EAAM,IAAM,IAAMze,EAAEye,KAC1Cze,EAAEue,YAAcpD,EAAGzwB,MAAQ/F,IAAOo7B,GAAkB,IAAM/f,EAAEue,YAC5Dve,EAAEwe,UAAYrD,EAAGjyB,IAAM82B,IAAeG,IAAcA,EAAY,KAAK7wB,KAAK0Q,EAAEwe,SAAUrD,EAAGjyB,IAGzF8W,EAAEse,SAAUI,IAAeA,EAAa,KAAKJ,MAAQte,EAAEse,OACvDte,EAAE0e,WACJ,IAAK,IAAIS,KAAQnf,EAAE0e,YACdA,IAAeA,EAAa,KAAKS,GAAQnf,EAAE0e,WAAWS,GAEzDnf,EAAEob,aAAeA,GAAaT,GAAwBS,EAAU5D,OAAQxX,GAAK,KAC7Eob,EAAYD,QACPA,EAAGzwB,KAAO/F,GAAOq7B,EAAa7E,EAAGzwB,OAC1Cs1B,EAAa7E,EAAGzwB,MAGpB,GAAIy1B,EAAa,IAAK,IAAItW,EAAM,EAAGA,EAAMsW,EAAU1+B,OAAQooB,GAAO,EAC1DsW,EAAUtW,EAAM,IAAMmW,IAAcF,GAAgB,IAAMK,EAAUtW,IAE5E,IAAKuR,GAAaA,EAAU1wB,MAAQ/F,EAAO,IAAK,IAAIslB,EAAM,EAAGA,EAAMiW,EAAez+B,SAAUwoB,EACxFqV,GAAmB/B,EAAS,EAAG2C,EAAejW,IAClD,GAAImR,IAAcA,EAAU1wB,MAAQ,IAAM/F,EAAK,CAG7C,GAFA26B,GAAmB/B,GAA0B,MAAhBnC,EAAUlyB,GAAayM,EAAM,EAAIylB,EAAUlyB,IAAMvE,EAC3Dy2B,EAAU5D,OAA0B,MAAlB4D,EAAU1wB,MAC3B,MAAhB0wB,EAAUlyB,GAAc,OACxBkyB,EAAUlyB,IAAMvE,IAAOy2B,GAAY,IAG3C,GAAIz2B,GAAOgR,EAAO,MAElB,IAAIyqB,EAAOp+B,KAAKe,IAAI4S,EAAKqqB,GACzB,MAAO,EAAM,CACX,GAAIh6B,EAAM,CACR,IAAIiS,EAAMtT,EAAMqB,EAAKvE,OACrB,IAAK25B,EAAW,CACd,IAAIiF,EAAYpoB,EAAMmoB,EAAOp6B,EAAKyK,MAAM,EAAG2vB,EAAOz7B,GAAOqB,EACzDu3B,EAAQK,SAASL,EAAS8C,EAAWv3B,EAAQA,EAAQ+2B,EAAYA,EAChDE,EAAgBp7B,EAAM07B,EAAU5+B,QAAUu+B,EAAaF,EAAe,GAAIrB,EAAKC,GAElG,GAAIzmB,GAAOmoB,EAAM,CAACp6B,EAAOA,EAAKyK,MAAM2vB,EAAOz7B,GAAMA,EAAMy7B,EAAM,MAC7Dz7B,EAAMsT,EACN8nB,EAAiB,GAEnB/5B,EAAO45B,EAAQnvB,MAAMsZ,EAAIA,EAAKyK,EAAO5yB,MACrCkH,EAAQq0B,GAAoB3I,EAAO5yB,KAAM27B,EAAQh4B,GAAGoB,eAnEtD,IAAK,IAAImiB,EAAM,EAAGA,EAAM0L,EAAO/yB,OAAQqnB,GAAK,EACxCyU,EAAQK,SAASL,EAASqC,EAAQnvB,MAAMsZ,EAAIA,EAAKyK,EAAO1L,IAAOqU,GAAoB3I,EAAO1L,EAAI,GAAIyU,EAAQh4B,GAAGoB,UA2ErH,SAAS25B,GAASpQ,EAAK/mB,EAAM2yB,GAE3Bj5B,KAAKsG,KAAOA,EAEZtG,KAAK86B,KAAO/B,GAAoBzyB,GAEhCtG,KAAKutB,KAAOvtB,KAAK86B,KAAO5M,GAAO7K,EAAIrjB,KAAK86B,OAAS7B,EAAQ,EAAI,EAC7Dj5B,KAAKqf,KAAOrf,KAAKmD,KAAO,KACxBnD,KAAK09B,OAAStE,GAAa/L,EAAK/mB,GAIlC,SAASq3B,GAAej7B,EAAImF,EAAMxB,GAEhC,IADA,IAAgBu3B,EAAZrb,EAAQ,GACHzgB,EAAM+F,EAAM/F,EAAMuE,EAAIvE,EAAM87B,EAAS,CAC5C,IAAIC,EAAO,IAAIJ,GAAS/6B,EAAG2qB,IAAKD,GAAQ1qB,EAAG2qB,IAAKvrB,GAAMA,GACtD87B,EAAU97B,EAAM+7B,EAAKtQ,KACrBhL,EAAM9V,KAAKoxB,GAEb,OAAOtb,EAGT,IAAIub,GAAiB,KAErB,SAASC,GAAc9I,GACjB6I,GACFA,GAAeE,IAAIvxB,KAAKwoB,GAExBA,EAAGgJ,UAAYH,GAAiB,CAC9BE,IAAK,CAAC/I,GACNiJ,iBAAkB,IAKxB,SAASC,GAAoBC,GAG3B,IAAI1mB,EAAY0mB,EAAMF,iBAAkBn/B,EAAI,EAC5C,EAAG,CACD,KAAOA,EAAI2Y,EAAU9Y,OAAQG,IACzB2Y,EAAU3Y,GAAG+Z,KAAK,MACtB,IAAK,IAAI5I,EAAI,EAAGA,EAAIkuB,EAAMJ,IAAIp/B,OAAQsR,IAAK,CACzC,IAAI+kB,EAAKmJ,EAAMJ,IAAI9tB,GACnB,GAAI+kB,EAAGpM,uBACH,MAAOoM,EAAGoJ,qBAAuBpJ,EAAGpM,uBAAuBjqB,OACzDq2B,EAAGpM,uBAAuBoM,EAAGoJ,wBAAwBvlB,KAAK,KAAMmc,EAAGvyB,WAEpE3D,EAAI2Y,EAAU9Y,QAGzB,SAAS0/B,GAAgBrJ,EAAIsJ,GAC3B,IAAIH,EAAQnJ,EAAGgJ,UACf,GAAKG,EAEL,IAAMD,GAAoBC,GAC1B,QACEN,GAAiB,KACjBS,EAAMH,IAIV,IAAII,GAAyB,KAS7B,SAASC,GAAY/W,EAAS9e,GAC5B,IAAImM,EAAMgT,GAAYL,EAAS9e,GAC/B,GAAKmM,EAAInW,OAAT,CACA,IAAqD8/B,EAAjDrd,EAAO/M,MAAM/T,UAAUqN,MAAMkL,KAAKxQ,UAAW,GAC7Cw1B,GACFY,EAAOZ,GAAeI,iBACbM,GACTE,EAAOF,IAEPE,EAAOF,GAAyB,GAChCzmB,WAAW4mB,GAAmB,IAMhC,IAJA,IAAIrN,EAAO,SAAWvyB,GACpB2/B,EAAKjyB,MAAK,WAAc,OAAOsI,EAAIhW,GAAGuiB,MAAM,KAAMD,OAG3CtiB,EAAI,EAAGA,EAAIgW,EAAInW,SAAUG,EAChCuyB,EAAMvyB,IAGV,SAAS4/B,KACP,IAAIC,EAAUJ,GACdA,GAAyB,KACzB,IAAK,IAAIz/B,EAAI,EAAGA,EAAI6/B,EAAQhgC,SAAUG,EAAK6/B,EAAQ7/B,KAMrD,SAAS8/B,GAAqBn8B,EAAI+3B,EAAUxB,EAAO6F,GACjD,IAAK,IAAI5uB,EAAI,EAAGA,EAAIuqB,EAASsE,QAAQngC,OAAQsR,IAAK,CAChD,IAAItH,EAAO6xB,EAASsE,QAAQ7uB,GAChB,QAARtH,EAAkBo2B,GAAet8B,EAAI+3B,GACxB,UAAR7xB,EAAoBq2B,GAAiBv8B,EAAI+3B,EAAUxB,EAAO6F,GAClD,SAARl2B,EAAmBs2B,GAAkBx8B,EAAI+3B,GACjC,UAAR7xB,GAAoBu2B,GAAkBz8B,EAAI+3B,EAAUqE,GAE/DrE,EAASsE,QAAU,KAKrB,SAASK,GAAkB3E,GAQzB,OAPIA,EAASpb,MAAQob,EAASt3B,OAC5Bs3B,EAASpb,KAAOQ,EAAI,MAAO,KAAM,KAAM,sBACnC4a,EAASt3B,KAAKyT,YACd6jB,EAASt3B,KAAKyT,WAAWyoB,aAAa5E,EAASpb,KAAMob,EAASt3B,MAClEs3B,EAASpb,KAAK7W,YAAYiyB,EAASt3B,MAC/B2a,GAAMC,EAAa,IAAK0c,EAASpb,KAAKpZ,MAAMq5B,OAAS,IAEpD7E,EAASpb,KAGlB,SAASkgB,GAAqB78B,EAAI+3B,GAChC,IAAIrb,EAAMqb,EAAS5I,QAAU4I,EAAS5I,QAAU,KAAO4I,EAASn0B,KAAKurB,SAAW,IAAM4I,EAASn0B,KAAKurB,QAEpG,GADIzS,IAAOA,GAAO,8BACdqb,EAAS+E,WACPpgB,EAAOqb,EAAS+E,WAAW92B,UAAY0W,GACpCqb,EAAS+E,WAAW5oB,WAAWC,YAAY4jB,EAAS+E,YAAa/E,EAAS+E,WAAa,WACzF,GAAIpgB,EAAK,CACd,IAAIpJ,EAAOopB,GAAkB3E,GAC7BA,EAAS+E,WAAaxpB,EAAKypB,aAAa5f,EAAI,MAAO,KAAMT,GAAMpJ,EAAK0J,YACpEhd,EAAG+D,QAAQm2B,MAAME,cAAcrC,EAAS+E,aAM5C,SAASE,GAAeh9B,EAAI+3B,GAC1B,IAAIkF,EAAMj9B,EAAG+D,QAAQ00B,iBACrB,OAAIwE,GAAOA,EAAIr5B,MAAQm0B,EAASn0B,MAC9B5D,EAAG+D,QAAQ00B,iBAAmB,KAC9BV,EAAS1Q,QAAU4V,EAAI5V,QAChB4V,EAAIC,OAENpF,GAAiB93B,EAAI+3B,GAM9B,SAASuE,GAAet8B,EAAI+3B,GAC1B,IAAIrb,EAAMqb,EAASt3B,KAAKuF,UACpBk3B,EAAQF,GAAeh9B,EAAI+3B,GAC3BA,EAASt3B,MAAQs3B,EAASpb,OAAQob,EAASpb,KAAOugB,EAAMjF,KAC5DF,EAASt3B,KAAKyT,WAAWyoB,aAAaO,EAAMjF,IAAKF,EAASt3B,MAC1Ds3B,EAASt3B,KAAOy8B,EAAMjF,IAClBiF,EAAM/N,SAAW4I,EAAS5I,SAAW+N,EAAM9N,WAAa2I,EAAS3I,WACnE2I,EAAS5I,QAAU+N,EAAM/N,QACzB4I,EAAS3I,UAAY8N,EAAM9N,UAC3BoN,GAAkBx8B,EAAI+3B,IACbrb,IACTqb,EAASt3B,KAAKuF,UAAY0W,GAI9B,SAAS8f,GAAkBx8B,EAAI+3B,GAC7B8E,GAAqB78B,EAAI+3B,GACrBA,EAASn0B,KAAKu5B,UACdT,GAAkB3E,GAAU/xB,UAAY+xB,EAASn0B,KAAKu5B,UACjDpF,EAASpb,MAAQob,EAASt3B,OAC/Bs3B,EAASpb,KAAK3W,UAAY,IAC9B,IAAIopB,EAAY2I,EAAS3I,UAAY2I,EAAS3I,UAAY,KAAO2I,EAASn0B,KAAKwrB,WAAa,IAAM2I,EAASn0B,KAAKwrB,UAChH2I,EAASt3B,KAAKuF,UAAYopB,GAAa,GAGzC,SAASmN,GAAiBv8B,EAAI+3B,EAAUxB,EAAO6F,GAS7C,GARIrE,EAASqF,SACXrF,EAASpb,KAAKxI,YAAY4jB,EAASqF,QACnCrF,EAASqF,OAAS,MAEhBrF,EAASsF,mBACXtF,EAASpb,KAAKxI,YAAY4jB,EAASsF,kBACnCtF,EAASsF,iBAAmB,MAE1BtF,EAASn0B,KAAK05B,YAAa,CAC7B,IAAIhqB,EAAOopB,GAAkB3E,GAC7BA,EAASsF,iBAAmBlgB,EAAI,MAAO,KAAM,gCAAkC4a,EAASn0B,KAAK05B,YAC5D,UAAYt9B,EAAGoB,QAAQm8B,YAAcnB,EAAKoB,UAAYpB,EAAKqB,kBAAoB,cAAiBrB,EAAqB,iBAAI,MAC1Jp8B,EAAG+D,QAAQm2B,MAAME,cAAcrC,EAASsF,kBACxC/pB,EAAKypB,aAAahF,EAASsF,iBAAkBtF,EAASt3B,MAExD,IAAI+zB,EAAUuD,EAASn0B,KAAK85B,cAC5B,GAAI19B,EAAGoB,QAAQu8B,aAAenJ,EAAS,CACrC,IAAIoJ,EAASlB,GAAkB3E,GAC3B8F,EAAa9F,EAASqF,OAASjgB,EAAI,MAAO,KAAM,4BAA8B,UAAYnd,EAAGoB,QAAQm8B,YAAcnB,EAAKoB,UAAYpB,EAAKqB,kBAAoB,MAWjK,GAVAI,EAAWvgB,aAAa,cAAe,QACvCtd,EAAG+D,QAAQm2B,MAAME,cAAcyD,GAC/BD,EAAOb,aAAac,EAAY9F,EAASt3B,MACrCs3B,EAASn0B,KAAK05B,cACdO,EAAW73B,WAAa,IAAM+xB,EAASn0B,KAAK05B,cAC5Ct9B,EAAGoB,QAAQu8B,aAAiBnJ,GAAYA,EAAQ,4BAChDuD,EAAS+F,WAAaD,EAAW/3B,YACjCqX,EAAI,MAAO4O,GAAc/rB,EAAGoB,QAASm1B,GACjC,8CACC,SAAY6F,EAAK2B,WAAW,0BAA6B,cAAiB/9B,EAAG+D,QAAyB,kBAAI,QAC/GywB,EAAW,IAAK,IAAIwJ,EAAI,EAAGA,EAAIh+B,EAAG+D,QAAQk6B,YAAY/hC,SAAU8hC,EAAG,CACrE,IAAIte,EAAK1f,EAAG+D,QAAQk6B,YAAYD,GAAGh4B,UAAWoc,EAAQoS,EAAQjb,eAAemG,IAAO8U,EAAQ9U,GACxF0C,GACAyb,EAAW/3B,YAAYqX,EAAI,MAAO,CAACiF,GAAQ,wBACjB,SAAYga,EAAK2B,WAAWre,GAAO,cAAiB0c,EAAK8B,YAAYxe,GAAO,SAKhH,SAAS+c,GAAkBz8B,EAAI+3B,EAAUqE,GACnCrE,EAASoG,YAAapG,EAASoG,UAAY,MAE/C,IADA,IAAIC,EAAW3hB,EAAU,yBAChBE,EAAOob,EAASpb,KAAKK,WAAYvS,OAAO,EAAUkS,EAAMA,EAAOlS,EACtEA,EAAOkS,EAAK0hB,YACRD,EAASj8B,KAAKwa,EAAK3W,YAAc+xB,EAASpb,KAAKxI,YAAYwI,GAEjE2hB,GAAkBt+B,EAAI+3B,EAAUqE,GAIlC,SAASmC,GAAiBv+B,EAAI+3B,EAAUxB,EAAO6F,GAC7C,IAAIc,EAAQF,GAAeh9B,EAAI+3B,GAQ/B,OAPAA,EAASt3B,KAAOs3B,EAASpb,KAAOugB,EAAMjF,IAClCiF,EAAM/N,UAAW4I,EAAS5I,QAAU+N,EAAM/N,SAC1C+N,EAAM9N,YAAa2I,EAAS3I,UAAY8N,EAAM9N,WAElDoN,GAAkBx8B,EAAI+3B,GACtBwE,GAAiBv8B,EAAI+3B,EAAUxB,EAAO6F,GACtCkC,GAAkBt+B,EAAI+3B,EAAUqE,GACzBrE,EAASpb,KAKlB,SAAS2hB,GAAkBt+B,EAAI+3B,EAAUqE,GAEvC,GADAoC,GAAqBx+B,EAAI+3B,EAASn0B,KAAMm0B,EAAUqE,GAAM,GACpDrE,EAASK,KAAQ,IAAK,IAAI/7B,EAAI,EAAGA,EAAI07B,EAASK,KAAKl8B,OAAQG,IAC3DmiC,GAAqBx+B,EAAI+3B,EAASK,KAAK/7B,GAAI07B,EAAUqE,GAAM,GAGjE,SAASoC,GAAqBx+B,EAAI4D,EAAMm0B,EAAUqE,EAAMqC,GACtD,GAAK76B,EAAK86B,QAEV,IADA,IAAIprB,EAAOopB,GAAkB3E,GACpB17B,EAAI,EAAGuS,EAAKhL,EAAK86B,QAASriC,EAAIuS,EAAG1S,SAAUG,EAAG,CACrD,IAAI49B,EAASrrB,EAAGvS,GAAIsgB,EAAOQ,EAAI,MAAO,CAAC8c,EAAOtd,MAAO,yBAA2Bsd,EAAOj0B,UAAY,IAAMi0B,EAAOj0B,UAAY,KACvHi0B,EAAO0E,mBAAqBhiB,EAAKW,aAAa,mBAAoB,QACvEshB,GAAmB3E,EAAQtd,EAAMob,EAAUqE,GAC3Cp8B,EAAG+D,QAAQm2B,MAAME,cAAczd,GAC3B8hB,GAAcxE,EAAO4E,MACrBvrB,EAAKypB,aAAapgB,EAAMob,EAASqF,QAAUrF,EAASt3B,MAEpD6S,EAAKxN,YAAY6W,GACrBof,GAAY9B,EAAQ,WAIxB,SAAS2E,GAAmB3E,EAAQtd,EAAMob,EAAUqE,GAClD,GAAInC,EAAO6E,UAAW,EACvB/G,EAASoG,YAAcpG,EAASoG,UAAY,KAAKp0B,KAAK4S,GACnD,IAAIoiB,EAAQ3C,EAAK4C,aACjBriB,EAAKpZ,MAAMsH,KAAOuxB,EAAKoB,SAAW,KAC7BvD,EAAOgF,cACVF,GAAS3C,EAAKqB,iBACd9gB,EAAKpZ,MAAM27B,YAAc9C,EAAKqB,iBAAmB,MAEnD9gB,EAAKpZ,MAAMw7B,MAAQA,EAAQ,KAEzB9E,EAAOgF,cACTtiB,EAAKpZ,MAAMq5B,OAAS,EACpBjgB,EAAKpZ,MAAM47B,SAAW,WACjBlF,EAAO6E,YAAaniB,EAAKpZ,MAAM67B,YAAchD,EAAKqB,iBAAmB,OAI9E,SAAS4B,GAAapF,GACpB,GAAqB,MAAjBA,EAAO3O,OAAkB,OAAO2O,EAAO3O,OAC3C,IAAItrB,EAAKi6B,EAAOtP,IAAI3qB,GACpB,IAAKA,EAAM,OAAO,EAClB,IAAKud,EAAS1Z,SAAS8Z,KAAMsc,EAAOtd,MAAO,CACzC,IAAI2iB,EAAc,sBACdrF,EAAOgF,cACPK,GAAe,iBAAmBt/B,EAAG+D,QAAQw7B,QAAQhY,YAAc,OACnE0S,EAAO6E,YACPQ,GAAe,UAAYt/B,EAAG+D,QAAQC,QAAQw7B,YAAc,OAChEviB,EAAqBjd,EAAG+D,QAAQsjB,QAASlK,EAAI,MAAO,CAAC8c,EAAOtd,MAAO,KAAM2iB,IAE3E,OAAOrF,EAAO3O,OAAS2O,EAAOtd,KAAKzI,WAAWoT,aAIhD,SAASmY,GAAc17B,EAAS7B,GAC9B,IAAK,IAAIkd,EAAIuH,GAASzkB,GAAIkd,GAAKrb,EAAQC,QAASob,EAAIA,EAAElL,WACpD,IAAKkL,GAAoB,GAAdA,EAAE5B,UAAuD,QAAtC4B,EAAEsgB,aAAa,qBACxCtgB,EAAElL,YAAcnQ,EAAQ47B,OAASvgB,GAAKrb,EAAQ67B,MAC/C,OAAO,EAMf,SAASC,GAAW97B,GAAU,OAAOA,EAAQ+7B,UAAUC,UACvD,SAASC,GAAYj8B,GAAU,OAAOA,EAAQ67B,MAAMtY,aAAevjB,EAAQ+7B,UAAUxY,aACrF,SAAS2Y,GAASl8B,GAChB,GAAIA,EAAQm8B,eAAkB,OAAOn8B,EAAQm8B,eAC7C,IAAIh+B,EAAI+a,EAAqBlZ,EAAQsjB,QAASlK,EAAI,MAAO,IAAK,yBAC1D5Z,EAAQ2P,OAAOitB,iBAAmBjtB,OAAOitB,iBAAiBj+B,GAAKA,EAAEk+B,aACjE9zB,EAAO,CAACzB,KAAMw1B,SAAS98B,EAAM27B,aAAcp0B,MAAOu1B,SAAS98B,EAAM+8B,eAErE,OADKC,MAAMj0B,EAAKzB,OAAU01B,MAAMj0B,EAAKxB,SAAU/G,EAAQm8B,eAAiB5zB,GACjEA,EAGT,SAASk0B,GAAUxgC,GAAM,OAAO+f,EAAc/f,EAAG+D,QAAQ08B,eACzD,SAASC,GAAa1gC,GACpB,OAAOA,EAAG+D,QAAQ48B,SAASnB,YAAcgB,GAAUxgC,GAAMA,EAAG+D,QAAQ68B,SAEtE,SAASC,GAAc7gC,GACrB,OAAOA,EAAG+D,QAAQ48B,SAASG,aAAeN,GAAUxgC,GAAMA,EAAG+D,QAAQg9B,UAOvE,SAASC,GAAkBhhC,EAAI+3B,EAAUkJ,GACvC,IAAIC,EAAWlhC,EAAGoB,QAAQ+/B,aACtBC,EAAWF,GAAYR,GAAa1gC,GACxC,IAAK+3B,EAAS1Q,QAAQga,SAAWH,GAAYnJ,EAAS1Q,QAAQ0X,OAASqC,EAAU,CAC/E,IAAIC,EAAUtJ,EAAS1Q,QAAQga,QAAU,GACzC,GAAIH,EAAU,CACZnJ,EAAS1Q,QAAQ0X,MAAQqC,EAEzB,IADA,IAAIE,EAAQvJ,EAASt3B,KAAKuc,WAAWukB,iBAC5BllC,EAAI,EAAGA,EAAIilC,EAAMplC,OAAS,EAAGG,IAAK,CACzC,IAAI+M,EAAMk4B,EAAMjlC,GAAIoO,EAAO62B,EAAMjlC,EAAI,GACjCI,KAAKksB,IAAIvf,EAAIjI,OAASsJ,EAAKtJ,QAAU,GACrCkgC,EAAQt3B,MAAMX,EAAIjI,OAASsJ,EAAKtG,KAAO,EAAI88B,EAAK98B,MAGxDk9B,EAAQt3B,KAAKk3B,EAAK9/B,OAAS8/B,EAAK98B,MAOpC,SAASq9B,GAAgBzJ,EAAUn0B,EAAM2yB,GACvC,GAAIwB,EAASn0B,MAAQA,EACjB,MAAO,CAACzH,IAAK47B,EAAS1Q,QAAQlrB,IAAK07B,MAAOE,EAAS1Q,QAAQwQ,OAC/D,GAAIE,EAASK,KAAM,CACjB,IAAK,IAAI/7B,EAAI,EAAGA,EAAI07B,EAASK,KAAKl8B,OAAQG,IACtC,GAAI07B,EAASK,KAAK/7B,IAAMuH,EACtB,MAAO,CAACzH,IAAK47B,EAAS1Q,QAAQsR,KAAKt8B,GAAIw7B,MAAOE,EAAS1Q,QAAQuR,OAAOv8B,IAC5E,IAAK,IAAIknB,EAAM,EAAGA,EAAMwU,EAASK,KAAKl8B,OAAQqnB,IAC1C,GAAIiI,GAAOuM,EAASK,KAAK7U,IAAQgT,EAC/B,MAAO,CAACp6B,IAAK47B,EAAS1Q,QAAQsR,KAAKpV,GAAMsU,MAAOE,EAAS1Q,QAAQuR,OAAOrV,GAAMa,QAAQ,IAMhG,SAASqd,GAA0BzhC,EAAI4D,GACrCA,EAAOsyB,GAAWtyB,GAClB,IAAI2yB,EAAQ/K,GAAO5nB,GACfu3B,EAAOn7B,EAAG+D,QAAQ00B,iBAAmB,IAAIsC,GAAS/6B,EAAG2qB,IAAK/mB,EAAM2yB,GACpE4E,EAAK5E,MAAQA,EACb,IAAI2G,EAAQ/B,EAAK+B,MAAQpF,GAAiB93B,EAAIm7B,GAG9C,OAFAA,EAAK16B,KAAOy8B,EAAMjF,IAClBhb,EAAqBjd,EAAG+D,QAAQ29B,YAAaxE,EAAMjF,KAC5CkD,EAKT,SAASwG,GAAY3hC,EAAI4D,EAAM9B,EAAI8/B,GACjC,OAAOC,GAAoB7hC,EAAI8hC,GAAsB9hC,EAAI4D,GAAO9B,EAAI8/B,GAItE,SAASG,GAAgB/hC,EAAIu2B,GAC3B,GAAIA,GAASv2B,EAAG+D,QAAQqsB,UAAYmG,EAAQv2B,EAAG+D,QAAQssB,OACnD,OAAOrwB,EAAG+D,QAAQo3B,KAAK6G,GAAchiC,EAAIu2B,IAC7C,IAAI0G,EAAMj9B,EAAG+D,QAAQ00B,iBACrB,OAAIwE,GAAO1G,GAAS0G,EAAI1G,OAASA,EAAQ0G,EAAI1G,MAAQ0G,EAAIpS,KAC9CoS,OADX,EASF,SAAS6E,GAAsB9hC,EAAI4D,GACjC,IAAI2yB,EAAQ/K,GAAO5nB,GACfu3B,EAAO4G,GAAgB/hC,EAAIu2B,GAC3B4E,IAASA,EAAK16B,KAChB06B,EAAO,KACEA,GAAQA,EAAKkB,UACtBF,GAAqBn8B,EAAIm7B,EAAM5E,EAAO0L,GAAcjiC,IACpDA,EAAGkmB,MAAMgc,aAAc,GAEpB/G,IACDA,EAAOsG,GAA0BzhC,EAAI4D,IAEzC,IAAIqmB,EAAOuX,GAAgBrG,EAAMv3B,EAAM2yB,GACvC,MAAO,CACL3yB,KAAMA,EAAMu3B,KAAMA,EAAM8F,KAAM,KAC9B9kC,IAAK8tB,EAAK9tB,IAAK07B,MAAO5N,EAAK4N,MAAOzT,OAAQ6F,EAAK7F,OAC/C+d,YAAY,GAMhB,SAASN,GAAoB7hC,EAAIoiC,EAAUtgC,EAAI8/B,EAAMS,GAC/CD,EAAShe,SAAUtiB,GAAM,GAC7B,IAA6BsgB,EAAzBzc,EAAM7D,GAAM8/B,GAAQ,IAaxB,OAZIQ,EAASvK,MAAMte,eAAe5T,GAChCyc,EAAQggB,EAASvK,MAAMlyB,IAElBy8B,EAASnB,OACVmB,EAASnB,KAAOmB,EAASjH,KAAK16B,KAAKwD,yBAClCm+B,EAASD,aACZnB,GAAkBhhC,EAAIoiC,EAASjH,KAAMiH,EAASnB,MAC9CmB,EAASD,YAAa,GAExB/f,EAAQkgB,GAAiBtiC,EAAIoiC,EAAUtgC,EAAI8/B,GACtCxf,EAAMmgB,QAASH,EAASvK,MAAMlyB,GAAOyc,IAErC,CAACvX,KAAMuX,EAAMvX,KAAMC,MAAOsX,EAAMtX,MAC/B3G,IAAKk+B,EAAYjgB,EAAMogB,KAAOpgB,EAAMje,IACpChD,OAAQkhC,EAAYjgB,EAAMqgB,QAAUrgB,EAAMjhB,QAGpD,IAsbIuhC,GAtbAC,GAAW,CAAC93B,KAAM,EAAGC,MAAO,EAAG3G,IAAK,EAAGhD,OAAQ,GAEnD,SAASyhC,GAAuBzmC,EAAK2F,EAAI8/B,GAIvC,IAHA,IAAIjlB,EAAM/V,EAAO8L,EAAK6L,EAAUskB,EAAQC,EAG/BzmC,EAAI,EAAGA,EAAIF,EAAID,OAAQG,GAAK,EAcnC,GAbAwmC,EAAS1mC,EAAIE,GACbymC,EAAO3mC,EAAIE,EAAI,GACXyF,EAAK+gC,GACPj8B,EAAQ,EAAG8L,EAAM,EACjB6L,EAAW,QACFzc,EAAKghC,GACdl8B,EAAQ9E,EAAK+gC,EACbnwB,EAAM9L,EAAQ,IACLvK,GAAKF,EAAID,OAAS,GAAK4F,GAAMghC,GAAQ3mC,EAAIE,EAAI,GAAKyF,KAC3D4Q,EAAMowB,EAAOD,EACbj8B,EAAQ8L,EAAM,EACV5Q,GAAMghC,IAAQvkB,EAAW,UAElB,MAAT3X,EAAe,CAIjB,GAHA+V,EAAOxgB,EAAIE,EAAI,GACXwmC,GAAUC,GAAQlB,IAASjlB,EAAKyW,WAAa,OAAS,WACtD7U,EAAWqjB,GACH,QAARA,GAA2B,GAATh7B,EAClB,MAAOvK,GAAKF,EAAIE,EAAI,IAAMF,EAAIE,EAAI,IAAMF,EAAIE,EAAI,GAAG+2B,WACnDzW,EAAOxgB,EAAe,GAAVE,GAAK,IACjBkiB,EAAW,OAEf,GAAY,SAARqjB,GAAmBh7B,GAASk8B,EAAOD,EACnC,MAAOxmC,EAAIF,EAAID,OAAS,GAAKC,EAAIE,EAAI,IAAMF,EAAIE,EAAI,KAAOF,EAAIE,EAAI,GAAG+2B,WACrEzW,EAAOxgB,GAAKE,GAAK,GAAK,GACtBkiB,EAAW,QAEf,MAGJ,MAAO,CAAC5B,KAAMA,EAAM/V,MAAOA,EAAO8L,IAAKA,EAAK6L,SAAUA,EAAUwkB,WAAYF,EAAQG,SAAUF,GAGhG,SAASG,GAAc3B,EAAOM,GAC5B,IAAIX,EAAO0B,GACX,GAAY,QAARf,GAAkB,IAAK,IAAIvlC,EAAI,EAAGA,EAAIilC,EAAMplC,OAAQG,IACtD,IAAK4kC,EAAOK,EAAMjlC,IAAIwO,MAAQo2B,EAAKn2B,MAAS,WACnC,IAAK,IAAIyY,EAAM+d,EAAMplC,OAAS,EAAGqnB,GAAO,EAAGA,IACpD,IAAK0d,EAAOK,EAAM/d,IAAM1Y,MAAQo2B,EAAKn2B,MAAS,MAEhD,OAAOm2B,EAGT,SAASqB,GAAiBtiC,EAAIoiC,EAAUtgC,EAAI8/B,GAC1C,IAGIX,EAHAiC,EAAQN,GAAuBR,EAASjmC,IAAK2F,EAAI8/B,GACjDjlB,EAAOumB,EAAMvmB,KAAM/V,EAAQs8B,EAAMt8B,MAAO8L,EAAMwwB,EAAMxwB,IAAK6L,EAAW2kB,EAAM3kB,SAG9E,GAAqB,GAAjB5B,EAAKa,SAAe,CACtB,IAAK,IAAI+F,EAAM,EAAGA,EAAM,EAAGA,IAAO,CAChC,MAAO3c,GAAS+a,GAAgBygB,EAASx+B,KAAKnD,KAAK3D,OAAOomC,EAAMH,WAAan8B,MAAaA,EAC1F,MAAOs8B,EAAMH,WAAarwB,EAAMwwB,EAAMF,UAAYrhB,GAAgBygB,EAASx+B,KAAKnD,KAAK3D,OAAOomC,EAAMH,WAAarwB,MAAWA,EAK1H,GAHIuuB,EADA7lB,GAAMC,EAAa,GAAc,GAATzU,GAAc8L,GAAOwwB,EAAMF,SAAWE,EAAMH,WAC7DpmB,EAAKzI,WAAWjQ,wBAEhBg/B,GAAcn5B,EAAM6S,EAAM/V,EAAO8L,GAAK6uB,iBAAkBK,GAC/DX,EAAKp2B,MAAQo2B,EAAKn2B,OAAkB,GAATlE,EAAc,MAC7C8L,EAAM9L,EACNA,GAAgB,EAChB2X,EAAW,QAETnD,GAAMC,EAAa,KAAM4lB,EAAOkC,GAA0BnjC,EAAG+D,QAAQsjB,QAAS4Z,QAC7E,CAEL,IAAIK,EADA16B,EAAQ,IAAK2X,EAAWqjB,EAAO,SAG/BX,EADAjhC,EAAGoB,QAAQ+/B,eAAiBG,EAAQ3kB,EAAK4kB,kBAAkBrlC,OAAS,EAC7DolC,EAAc,SAARM,EAAkBN,EAAMplC,OAAS,EAAI,GAE3CygB,EAAK1Y,wBAElB,GAAImX,GAAMC,EAAa,IAAMzU,KAAWq6B,IAASA,EAAKp2B,OAASo2B,EAAKn2B,OAAQ,CAC1E,IAAIs4B,EAAQzmB,EAAKzI,WAAWqtB,iBAAiB,GAEzCN,EADAmC,EACO,CAACv4B,KAAMu4B,EAAMv4B,KAAMC,MAAOs4B,EAAMv4B,KAAOw4B,GAAUrjC,EAAG+D,SAAUI,IAAKi/B,EAAMj/B,IAAKhD,OAAQiiC,EAAMjiC,QAE5FwhC,GAOb,IAJA,IAAIH,EAAOvB,EAAK98B,IAAMi+B,EAASnB,KAAK98B,IAAKm/B,EAAOrC,EAAK9/B,OAASihC,EAASnB,KAAK98B,IACxE6d,GAAOwgB,EAAOc,GAAQ,EACtBjC,EAAUe,EAASjH,KAAK9T,QAAQga,QAChChlC,EAAI,EACDA,EAAIglC,EAAQnlC,OAAS,EAAGG,IAC3B,GAAI2lB,EAAMqf,EAAQhlC,GAAM,MAC5B,IAAI8H,EAAM9H,EAAIglC,EAAQhlC,EAAI,GAAK,EAAGknC,EAAMlC,EAAQhlC,GAC5CwQ,EAAS,CAAChC,MAAmB,SAAZ0T,EAAsB0iB,EAAKn2B,MAAQm2B,EAAKp2B,MAAQu3B,EAASnB,KAAKp2B,KACrEC,OAAoB,QAAZyT,EAAqB0iB,EAAKp2B,KAAOo2B,EAAKn2B,OAASs3B,EAASnB,KAAKp2B,KACrE1G,IAAKA,EAAKhD,OAAQoiC,GAIhC,OAHKtC,EAAKp2B,MAASo2B,EAAKn2B,QAAS+B,EAAO01B,OAAQ,GAC3CviC,EAAGoB,QAAQoiC,4BAA6B32B,EAAO21B,KAAOA,EAAM31B,EAAO41B,QAAUa,GAE3Ez2B,EAKT,SAASs2B,GAA0B9b,EAAS4Z,GAC1C,IAAK/tB,OAAOuwB,QAAgC,MAAtBA,OAAOC,aACzBD,OAAOC,aAAeD,OAAOE,aAAenb,GAAkBnB,GAC9D,OAAO4Z,EACX,IAAI2C,EAASH,OAAOC,YAAcD,OAAOE,WACrCE,EAASJ,OAAOK,YAAcL,OAAOM,WACzC,MAAO,CAACl5B,KAAMo2B,EAAKp2B,KAAO+4B,EAAQ94B,MAAOm2B,EAAKn2B,MAAQ84B,EAC9Cz/B,IAAK88B,EAAK98B,IAAM0/B,EAAQ1iC,OAAQ8/B,EAAK9/B,OAAS0iC,GAGxD,SAASG,GAA6BjM,GACpC,GAAIA,EAAS1Q,UACX0Q,EAAS1Q,QAAQwQ,MAAQ,GACzBE,EAAS1Q,QAAQga,QAAU,KACvBtJ,EAASK,MAAQ,IAAK,IAAI/7B,EAAI,EAAGA,EAAI07B,EAASK,KAAKl8B,OAAQG,IAC3D07B,EAAS1Q,QAAQuR,OAAOv8B,GAAK,GAIrC,SAAS4nC,GAA0BjkC,GACjCA,EAAG+D,QAAQmgC,gBAAkB,KAC7BpnB,EAAe9c,EAAG+D,QAAQ29B,aAC1B,IAAK,IAAIrlC,EAAI,EAAGA,EAAI2D,EAAG+D,QAAQo3B,KAAKj/B,OAAQG,IACxC2nC,GAA6BhkC,EAAG+D,QAAQo3B,KAAK9+B,IAGnD,SAAS8nC,GAAYnkC,GACnBikC,GAA0BjkC,GAC1BA,EAAG+D,QAAQqgC,gBAAkBpkC,EAAG+D,QAAQsgC,iBAAmBrkC,EAAG+D,QAAQm8B,eAAiB,KAClFlgC,EAAGoB,QAAQ+/B,eAAgBnhC,EAAG+D,QAAQqzB,gBAAiB,GAC5Dp3B,EAAG+D,QAAQugC,aAAe,KAG5B,SAASC,KAIP,OAAI9oB,GAAUQ,IAAoBpY,SAAS8Z,KAAK1Z,wBAAwB4G,KAAOw1B,SAASF,iBAAiBt8B,SAAS8Z,MAAMyhB,aACjHlsB,OAAOsxB,cAAgB3gC,SAAS4gC,iBAAmB5gC,SAAS8Z,MAAM+mB,WAE3E,SAASC,KACP,OAAIlpB,GAAUQ,IAAoBpY,SAAS8Z,KAAK1Z,wBAAwBE,IAAMk8B,SAASF,iBAAiBt8B,SAAS8Z,MAAMinB,YAChH1xB,OAAO2xB,cAAgBhhC,SAAS4gC,iBAAmB5gC,SAAS8Z,MAAMmnB,UAG3E,SAASC,GAAgBjO,GACvB,IAAIxL,EAAS,EACb,GAAIwL,EAAQ4H,QAAW,IAAK,IAAIriC,EAAI,EAAGA,EAAIy6B,EAAQ4H,QAAQxiC,SAAUG,EAASy6B,EAAQ4H,QAAQriC,GAAGwiC,QAC7FvT,GAAU+T,GAAavI,EAAQ4H,QAAQriC,KAC3C,OAAOivB,EAOT,SAAS0Z,GAAgBhlC,EAAI82B,EAASmK,EAAM3S,EAAS2W,GACnD,IAAKA,EAAgB,CACnB,IAAI3Z,EAASyZ,GAAgBjO,GAC7BmK,EAAK98B,KAAOmnB,EAAQ2V,EAAK9/B,QAAUmqB,EAErC,GAAe,QAAXgD,EAAqB,OAAO2S,EAC3B3S,IAAWA,EAAU,SAC1B,IAAI4W,EAAOrO,GAAaC,GAGxB,GAFe,SAAXxI,EAAsB4W,GAAQrF,GAAW7/B,EAAG+D,SACzCmhC,GAAQllC,EAAG+D,QAAQohC,WACX,QAAX7W,GAAgC,UAAXA,EAAqB,CAC5C,IAAI8W,EAAOplC,EAAG+D,QAAQ+7B,UAAU77B,wBAChCihC,GAAQE,EAAKjhC,KAAkB,UAAXmqB,EAAsB,EAAIqW,MAC9C,IAAIU,EAAOD,EAAKv6B,MAAmB,UAAXyjB,EAAsB,EAAIiW,MAClDtD,EAAKp2B,MAAQw6B,EAAMpE,EAAKn2B,OAASu6B,EAGnC,OADApE,EAAK98B,KAAO+gC,EAAMjE,EAAK9/B,QAAU+jC,EAC1BjE,EAKT,SAASqE,GAAgBtlC,EAAIulC,EAAQjX,GACnC,GAAe,OAAXA,EAAoB,OAAOiX,EAC/B,IAAI16B,EAAO06B,EAAO16B,KAAM1G,EAAMohC,EAAOphC,IAErC,GAAe,QAAXmqB,EACFzjB,GAAQ05B,KACRpgC,GAAOwgC,UACF,GAAe,SAAXrW,IAAuBA,EAAS,CACzC,IAAIkX,EAAWxlC,EAAG+D,QAAQ47B,MAAM17B,wBAChC4G,GAAQ26B,EAAS36B,KACjB1G,GAAOqhC,EAASrhC,IAGlB,IAAIshC,EAAezlC,EAAG+D,QAAQ+7B,UAAU77B,wBACxC,MAAO,CAAC4G,KAAMA,EAAO46B,EAAa56B,KAAM1G,IAAKA,EAAMshC,EAAathC,KAGlE,SAASuhC,GAAW1lC,EAAIZ,EAAKkvB,EAASwI,EAAS8K,GAE7C,OADK9K,IAAWA,EAAUpM,GAAQ1qB,EAAG2qB,IAAKvrB,EAAIwE,OACvCohC,GAAgBhlC,EAAI82B,EAAS6K,GAAY3hC,EAAI82B,EAAS13B,EAAI0C,GAAI8/B,GAAOtT,GAmB9E,SAASpqB,GAAalE,EAAIZ,EAAKkvB,EAASwI,EAAS6O,EAAiBtD,GAGhE,SAASuD,EAAI9jC,EAAIgJ,GACf,IAAI2P,EAAIonB,GAAoB7hC,EAAI2lC,EAAiB7jC,EAAIgJ,EAAQ,QAAU,OAAQu3B,GAE/E,OADIv3B,EAAS2P,EAAE5P,KAAO4P,EAAE3P,MAAgB2P,EAAE3P,MAAQ2P,EAAE5P,KAC7Cm6B,GAAgBhlC,EAAI82B,EAASrc,EAAG6T,GALzCwI,EAAUA,GAAWpM,GAAQ1qB,EAAG2qB,IAAKvrB,EAAIwE,MACpC+hC,IAAmBA,EAAkB7D,GAAsB9hC,EAAI82B,IAMpE,IAAI3U,EAAQ2C,GAASgS,EAAS92B,EAAG2qB,IAAIvH,WAAYthB,EAAK1C,EAAI0C,GAAI2gB,EAASrjB,EAAIqjB,OAQ3E,GAPI3gB,GAAMg1B,EAAQr2B,KAAKvE,QACrB4F,EAAKg1B,EAAQr2B,KAAKvE,OAClBumB,EAAS,UACA3gB,GAAM,IACfA,EAAK,EACL2gB,EAAS,UAENN,EAAS,OAAOyjB,EAAc,UAAVnjB,EAAqB3gB,EAAK,EAAIA,EAAc,UAAV2gB,GAE3D,SAASojB,EAAQ/jC,EAAIgkC,EAASC,GAC5B,IAAI1jB,EAAOF,EAAM2jB,GAAUh7B,EAAsB,GAAduX,EAAKC,MACxC,OAAOsjB,EAAIG,EAASjkC,EAAK,EAAIA,EAAIgJ,GAASi7B,GAE5C,IAAID,EAAUtjB,GAAcL,EAAOrgB,EAAI2gB,GACnCujB,EAAQzjB,GACR5a,EAAMk+B,EAAQ/jC,EAAIgkC,EAAmB,UAAVrjB,GAE/B,OADa,MAATujB,IAAiBr+B,EAAIq+B,MAAQH,EAAQ/jC,EAAIkkC,EAAiB,UAAVvjB,IAC7C9a,EAKT,SAASs+B,GAAejmC,EAAIZ,GAC1B,IAAIyL,EAAO,EACXzL,EAAMotB,GAAQxsB,EAAG2qB,IAAKvrB,GACjBY,EAAGoB,QAAQ+/B,eAAgBt2B,EAAOw4B,GAAUrjC,EAAG+D,SAAW3E,EAAI0C,IACnE,IAAIg1B,EAAUpM,GAAQ1qB,EAAG2qB,IAAKvrB,EAAIwE,MAC9BO,EAAM0yB,GAAaC,GAAW+I,GAAW7/B,EAAG+D,SAChD,MAAO,CAAC8G,KAAMA,EAAMC,MAAOD,EAAM1G,IAAKA,EAAKhD,OAAQgD,EAAM2yB,EAAQxL,QASnE,SAAS4a,GAAYtiC,EAAM9B,EAAI2gB,EAAQ0jB,EAASC,GAC9C,IAAIhnC,EAAM2F,GAAInB,EAAM9B,EAAI2gB,GAGxB,OAFArjB,EAAIgnC,KAAOA,EACPD,IAAW/mC,EAAI+mC,QAAUA,GACtB/mC,EAKT,SAASinC,GAAWrmC,EAAI8N,EAAGC,GACzB,IAAI4c,EAAM3qB,EAAG2qB,IAEb,GADA5c,GAAK/N,EAAG+D,QAAQohC,WACZp3B,EAAI,EAAK,OAAOm4B,GAAYvb,EAAIC,MAAO,EAAG,MAAO,GAAI,GACzD,IAAI2L,EAAQ7K,GAAaf,EAAK5c,GAAI0e,EAAO9B,EAAIC,MAAQD,EAAIE,KAAO,EAChE,GAAI0L,EAAQ9J,EACR,OAAOyZ,GAAYvb,EAAIC,MAAQD,EAAIE,KAAO,EAAGH,GAAQC,EAAK8B,GAAMhsB,KAAKvE,OAAQ,KAAM,EAAG,GACtF4R,EAAI,IAAKA,EAAI,GAGjB,IADA,IAAIgpB,EAAUpM,GAAQC,EAAK4L,KAClB,CACP,IAAInU,EAAQkkB,GAAgBtmC,EAAI82B,EAASP,EAAOzoB,EAAGC,GAC/C8nB,EAAYG,GAAoBc,EAAS1U,EAAMtgB,IAAMsgB,EAAMgkB,KAAO,GAAKhkB,EAAM+jB,QAAU,EAAI,EAAI,IACnG,IAAKtQ,EAAa,OAAOzT,EACzB,IAAImkB,EAAW1Q,EAAU/wB,KAAK,GAC9B,GAAIyhC,EAAS3iC,MAAQ2yB,EAAS,OAAOgQ,EACrCzP,EAAUpM,GAAQC,EAAK4L,EAAQgQ,EAAS3iC,OAI5C,SAAS4iC,GAAkBxmC,EAAI82B,EAAS6O,EAAiB53B,GACvDA,GAAKg3B,GAAgBjO,GACrB,IAAIpkB,EAAMokB,EAAQr2B,KAAKvE,OACnBuqC,EAAQ5kB,IAAU,SAAU/f,GAAM,OAAO+/B,GAAoB7hC,EAAI2lC,EAAiB7jC,EAAK,GAAGX,QAAU4M,IAAM2E,EAAK,GAEnH,OADAA,EAAMmP,IAAU,SAAU/f,GAAM,OAAO+/B,GAAoB7hC,EAAI2lC,EAAiB7jC,GAAIqC,IAAM4J,IAAM04B,EAAO/zB,GAChG,CAAC+zB,MAAOA,EAAO/zB,IAAKA,GAG7B,SAASg0B,GAAsB1mC,EAAI82B,EAAS6O,EAAiBlwB,GACtDkwB,IAAmBA,EAAkB7D,GAAsB9hC,EAAI82B,IACpE,IAAI6P,EAAY3B,GAAgBhlC,EAAI82B,EAAS+K,GAAoB7hC,EAAI2lC,EAAiBlwB,GAAS,QAAQtR,IACvG,OAAOqiC,GAAkBxmC,EAAI82B,EAAS6O,EAAiBgB,GAKzD,SAASC,GAAWC,EAAK/4B,EAAGC,EAAGlD,GAC7B,QAAOg8B,EAAI1lC,QAAU4M,KAAY84B,EAAI1iC,IAAM4J,IAAYlD,EAAOg8B,EAAIh8B,KAAOg8B,EAAI/7B,OAASgD,GAGxF,SAASw4B,GAAgBtmC,EAAI82B,EAAStL,EAAQ1d,EAAGC,GAE/CA,GAAK8oB,GAAaC,GAClB,IAAI6O,EAAkB7D,GAAsB9hC,EAAI82B,GAG5CuI,EAAe0F,GAAgBjO,GAC/B2P,EAAQ,EAAG/zB,EAAMokB,EAAQr2B,KAAKvE,OAAQ4qC,GAAM,EAE5C3kB,EAAQ2C,GAASgS,EAAS92B,EAAG2qB,IAAIvH,WAGrC,GAAIjB,EAAO,CACT,IAAIE,GAAQriB,EAAGoB,QAAQ+/B,aAAe4F,GAAwBC,IAChDhnC,EAAI82B,EAAStL,EAAQma,EAAiBxjB,EAAOrU,EAAGC,GAC9D+4B,EAAoB,GAAdzkB,EAAKC,MAKXmkB,EAAQK,EAAMzkB,EAAKld,KAAOkd,EAAK1e,GAAK,EACpC+O,EAAMo0B,EAAMzkB,EAAK1e,GAAK0e,EAAKld,KAAO,EAMpC,IAYI8hC,EAAOxkB,EAZPykB,EAAW,KAAMC,EAAY,KAC7BrlC,EAAK+f,IAAU,SAAU/f,GAC3B,IAAI+kC,EAAMhF,GAAoB7hC,EAAI2lC,EAAiB7jC,GAEnD,OADA+kC,EAAI1iC,KAAOk7B,EAAcwH,EAAI1lC,QAAUk+B,IAClCuH,GAAWC,EAAK/4B,EAAGC,GAAG,KACvB84B,EAAI1iC,KAAO4J,GAAK84B,EAAIh8B,MAAQiD,IAC9Bo5B,EAAWplC,EACXqlC,EAAYN,IAEP,KACNJ,EAAO/zB,GAESyzB,GAAU,EAE7B,GAAIgB,EAAW,CAEb,IAAIC,EAASt5B,EAAIq5B,EAAUt8B,KAAOs8B,EAAUr8B,MAAQgD,EAAGu5B,EAAUD,GAAUN,EAC3EhlC,EAAKolC,GAAYG,EAAU,EAAI,GAC/B5kB,EAAS4kB,EAAU,QAAU,SAC7BJ,EAAQG,EAASD,EAAUt8B,KAAOs8B,EAAUr8B,UACvC,CAEAg8B,GAAQhlC,GAAM4Q,GAAO5Q,GAAM2kC,GAAU3kC,IAI1C2gB,EAAe,GAAN3gB,EAAU,QAAUA,GAAMg1B,EAAQr2B,KAAKvE,OAAS,SACtD2lC,GAAoB7hC,EAAI2lC,EAAiB7jC,GAAMglC,EAAM,EAAI,IAAI3lC,OAASk+B,GAAgBtxB,GAAM+4B,EAC7F,QAAU,SAGZ,IAAIvB,EAASrhC,GAAalE,EAAI+E,GAAIymB,EAAQ1pB,EAAI2gB,GAAS,OAAQqU,EAAS6O,GACxEsB,EAAQ1B,EAAO16B,KACfs7B,EAAUp4B,EAAIw3B,EAAOphC,KAAO,EAAI4J,GAAKw3B,EAAOpkC,OAAS,EAAI,EAI3D,OADAW,EAAK8f,GAAmBkV,EAAQr2B,KAAMqB,EAAI,GACnCokC,GAAY1a,EAAQ1pB,EAAI2gB,EAAQ0jB,EAASr4B,EAAIm5B,GAGtD,SAASD,GAAehnC,EAAI82B,EAAStL,EAAQma,EAAiBxjB,EAAOrU,EAAGC,GAKtE,IAAIvO,EAAQqiB,IAAU,SAAUxlB,GAC9B,IAAIgmB,EAAOF,EAAM9lB,GAAIyqC,EAAoB,GAAdzkB,EAAKC,MAChC,OAAOskB,GAAW1iC,GAAalE,EAAI+E,GAAIymB,EAAQsb,EAAMzkB,EAAK1e,GAAK0e,EAAKld,KAAM2hC,EAAM,SAAW,SAC5D,OAAQhQ,EAAS6O,GAAkB73B,EAAGC,GAAG,KACvE,EAAGoU,EAAMjmB,OAAS,GACjBmmB,EAAOF,EAAM3iB,GAIjB,GAAIA,EAAQ,EAAG,CACb,IAAIsnC,EAAoB,GAAdzkB,EAAKC,MACX1b,EAAQ1C,GAAalE,EAAI+E,GAAIymB,EAAQsb,EAAMzkB,EAAKld,KAAOkd,EAAK1e,GAAImjC,EAAM,QAAU,UAC3D,OAAQhQ,EAAS6O,GACtCiB,GAAWhgC,EAAOkH,EAAGC,GAAG,IAASnH,EAAMzC,IAAM4J,IAC7CsU,EAAOF,EAAM3iB,EAAQ,IAE3B,OAAO6iB,EAGT,SAAS0kB,GAAsB/mC,EAAI82B,EAASwQ,EAAS3B,EAAiBxjB,EAAOrU,EAAGC,GAQ9E,IAAIw5B,EAAMf,GAAkBxmC,EAAI82B,EAAS6O,EAAiB53B,GACtD04B,EAAQc,EAAId,MACZ/zB,EAAM60B,EAAI70B,IACV,KAAKvQ,KAAK20B,EAAQr2B,KAAK3D,OAAO4V,EAAM,KAAOA,IAE/C,IADA,IAAI2P,EAAO,KAAMmlB,EAAc,KACtBnrC,EAAI,EAAGA,EAAI8lB,EAAMjmB,OAAQG,IAAK,CACrC,IAAIkb,EAAI4K,EAAM9lB,GACd,KAAIkb,EAAEpS,MAAQuN,GAAO6E,EAAE5T,IAAM8iC,GAA7B,CACA,IAAIK,EAAiB,GAAXvvB,EAAE+K,MACRmlB,EAAO5F,GAAoB7hC,EAAI2lC,EAAiBmB,EAAMrqC,KAAKe,IAAIkV,EAAK6E,EAAE5T,IAAM,EAAIlH,KAAKgB,IAAIgpC,EAAOlvB,EAAEpS,OAAO2F,MAGzG48B,EAAOD,EAAO35B,EAAIA,EAAI25B,EAAO,IAAMA,EAAO35B,IACzCuU,GAAQmlB,EAAcE,KACzBrlB,EAAO9K,EACPiwB,EAAcE,IAOlB,OAJKrlB,IAAQA,EAAOF,EAAMA,EAAMjmB,OAAS,IAErCmmB,EAAKld,KAAOshC,IAASpkB,EAAO,CAACld,KAAMshC,EAAO9iC,GAAI0e,EAAK1e,GAAI2e,MAAOD,EAAKC,QACnED,EAAK1e,GAAK+O,IAAO2P,EAAO,CAACld,KAAMkd,EAAKld,KAAMxB,GAAI+O,EAAK4P,MAAOD,EAAKC,QAC5DD,EAKT,SAASslB,GAAW5jC,GAClB,GAAgC,MAA5BA,EAAQsgC,iBAA4B,OAAOtgC,EAAQsgC,iBACvD,GAAmB,MAAf3B,GAAqB,CACvBA,GAAcvlB,EAAI,MAAO,KAAM,wBAG/B,IAAK,IAAI9gB,EAAI,EAAGA,EAAI,KAAMA,EACxBqmC,GAAY58B,YAAYjC,SAASkC,eAAe,MAChD28B,GAAY58B,YAAYqX,EAAI,OAE9BulB,GAAY58B,YAAYjC,SAASkC,eAAe,MAElDkX,EAAqBlZ,EAAQsjB,QAASqb,IACtC,IAAIpX,EAASoX,GAAYpb,aAAe,GAGxC,OAFIgE,EAAS,IAAKvnB,EAAQsgC,iBAAmB/Y,GAC7CxO,EAAe/Y,EAAQsjB,SAChBiE,GAAU,EAInB,SAAS+X,GAAUt/B,GACjB,GAA+B,MAA3BA,EAAQqgC,gBAA2B,OAAOrgC,EAAQqgC,gBACtD,IAAIp6B,EAASmT,EAAI,OAAQ,cACrB8a,EAAM9a,EAAI,MAAO,CAACnT,GAAS,wBAC/BiT,EAAqBlZ,EAAQsjB,QAAS4Q,GACtC,IAAIgJ,EAAOj3B,EAAO/F,wBAAyB86B,GAASkC,EAAKn2B,MAAQm2B,EAAKp2B,MAAQ,GAE9E,OADIk0B,EAAQ,IAAKh7B,EAAQqgC,gBAAkBrF,GACpCA,GAAS,GAKlB,SAASkD,GAAcjiC,GAGrB,IAFA,IAAIi3B,EAAIj3B,EAAG+D,QAAS8G,EAAO,GAAIk0B,EAAQ,GACnChB,EAAa9G,EAAEsI,QAAQqI,WAClBxoB,EAAI6X,EAAEsI,QAAQviB,WAAY3gB,EAAI,EAAG+iB,EAAGA,EAAIA,EAAEif,cAAehiC,EAAG,CACnE,IAAIqjB,EAAK1f,EAAG+D,QAAQk6B,YAAY5hC,GAAG2J,UACnC6E,EAAK6U,GAAMN,EAAEyoB,WAAazoB,EAAEwoB,WAAa7J,EACzCgB,EAAMrf,GAAMN,EAAEogB,YAEhB,MAAO,CAAChC,SAAUsK,GAAqB7Q,GAC/BwG,iBAAkBxG,EAAEsI,QAAQhY,YAC5BwW,WAAYlzB,EACZqzB,YAAaa,EACbC,aAAc/H,EAAEjzB,QAAQw7B,aAMlC,SAASsI,GAAqB/jC,GAC5B,OAAOA,EAAQ48B,SAAS18B,wBAAwB4G,KAAO9G,EAAQ47B,MAAM17B,wBAAwB4G,KAM/F,SAASysB,GAAet3B,GACtB,IAAI+nC,EAAKJ,GAAW3nC,EAAG+D,SAAUm9B,EAAWlhC,EAAGoB,QAAQ+/B,aACnD6G,EAAU9G,GAAYzkC,KAAKgB,IAAI,EAAGuC,EAAG+D,QAAQ48B,SAASnB,YAAc6D,GAAUrjC,EAAG+D,SAAW,GAChG,OAAO,SAAUH,GACf,GAAI8yB,GAAa12B,EAAG2qB,IAAK/mB,GAAS,OAAO,EAEzC,IAAIqkC,EAAgB,EACpB,GAAIrkC,EAAK86B,QAAW,IAAK,IAAIriC,EAAI,EAAGA,EAAIuH,EAAK86B,QAAQxiC,OAAQG,IACvDuH,EAAK86B,QAAQriC,GAAGivB,SAAU2c,GAAiBrkC,EAAK86B,QAAQriC,GAAGivB,QAGjE,OAAI4V,EACO+G,GAAiBxrC,KAAKwlB,KAAKre,EAAKnD,KAAKvE,OAAS8rC,IAAY,GAAKD,EAE/DE,EAAgBF,GAI/B,SAASG,GAAoBloC,GAC3B,IAAI2qB,EAAM3qB,EAAG2qB,IAAKwd,EAAM7Q,GAAet3B,GACvC2qB,EAAI3d,MAAK,SAAUpJ,GACjB,IAAI4zB,EAAY2Q,EAAIvkC,GAChB4zB,GAAa5zB,EAAK0nB,QAAUD,GAAiBznB,EAAM4zB,MAS3D,SAAS4Q,GAAapoC,EAAIkC,EAAGmmC,EAASC,GACpC,IAAIvkC,EAAU/D,EAAG+D,QACjB,IAAKskC,GAAyD,QAA9C1hB,GAASzkB,GAAGw9B,aAAa,kBAA+B,OAAO,KAE/E,IAAI5xB,EAAGC,EAAGw6B,EAAQxkC,EAAQ+7B,UAAU77B,wBAEpC,IAAM6J,EAAI5L,EAAEsmC,QAAUD,EAAM19B,KAAMkD,EAAI7L,EAAEumC,QAAUF,EAAMpkC,IACxD,MAAOukC,GAAO,OAAO,KACrB,IAAmC9kC,EAA/B2hC,EAASc,GAAWrmC,EAAI8N,EAAGC,GAC/B,GAAIu6B,GAAW/C,EAAOa,KAAO,IAAMxiC,EAAO8mB,GAAQ1qB,EAAG2qB,IAAK4a,EAAO3hC,MAAMnD,MAAMvE,QAAUqpC,EAAOzjC,GAAI,CAChG,IAAI6mC,EAAU3pB,EAAYpb,EAAMA,EAAK1H,OAAQ8D,EAAGoB,QAAQ6d,SAAWrb,EAAK1H,OACxEqpC,EAASxgC,GAAIwgC,EAAO3hC,KAAMnH,KAAKgB,IAAI,EAAGhB,KAAKmsC,OAAO96B,EAAImyB,GAASjgC,EAAG+D,SAAS8G,MAAQw4B,GAAUrjC,EAAG+D,UAAY4kC,IAE9G,OAAOpD,EAKT,SAASvD,GAAchiC,EAAIof,GACzB,GAAIA,GAAKpf,EAAG+D,QAAQssB,OAAU,OAAO,KAErC,GADAjR,GAAKpf,EAAG+D,QAAQqsB,SACZhR,EAAI,EAAK,OAAO,KAEpB,IADA,IAAI+b,EAAOn7B,EAAG+D,QAAQo3B,KACb9+B,EAAI,EAAGA,EAAI8+B,EAAKj/B,OAAQG,IAE/B,GADA+iB,GAAK+b,EAAK9+B,GAAGwuB,KACTzL,EAAI,EAAK,OAAO/iB,EAUxB,SAASwsC,GAAU7oC,EAAImF,EAAMxB,EAAImlC,GACnB,MAAR3jC,IAAgBA,EAAOnF,EAAG2qB,IAAIC,OACxB,MAANjnB,IAAcA,EAAK3D,EAAG2qB,IAAIC,MAAQ5qB,EAAG2qB,IAAIE,MACxCie,IAAWA,EAAU,GAE1B,IAAI/kC,EAAU/D,EAAG+D,QAOjB,GANI+kC,GAAWnlC,EAAKI,EAAQssB,SACM,MAA7BtsB,EAAQglC,mBAA6BhlC,EAAQglC,kBAAoB5jC,KAClEpB,EAAQglC,kBAAoB5jC,GAEhCnF,EAAGkmB,MAAM8iB,aAAc,EAEnB7jC,GAAQpB,EAAQssB,OACdwB,IAAqByE,GAAat2B,EAAG2qB,IAAKxlB,GAAQpB,EAAQssB,QAC1D4Y,GAAUjpC,QACT,GAAI2D,GAAMI,EAAQqsB,SACnByB,IAAqB4E,GAAgBz2B,EAAG2qB,IAAKhnB,EAAKmlC,GAAW/kC,EAAQqsB,SACvE6Y,GAAUjpC,IAEV+D,EAAQqsB,UAAY0Y,EACpB/kC,EAAQssB,QAAUyY,QAEf,GAAI3jC,GAAQpB,EAAQqsB,UAAYzsB,GAAMI,EAAQssB,OACnD4Y,GAAUjpC,QACL,GAAImF,GAAQpB,EAAQqsB,SAAU,CACnC,IAAI8Y,EAAMC,GAAiBnpC,EAAI2D,EAAIA,EAAKmlC,EAAS,GAC7CI,GACFnlC,EAAQo3B,KAAOp3B,EAAQo3B,KAAKjwB,MAAMg+B,EAAI1pC,OACtCuE,EAAQqsB,SAAW8Y,EAAI3S,MACvBxyB,EAAQssB,QAAUyY,GAElBG,GAAUjpC,QAEP,GAAI2D,GAAMI,EAAQssB,OAAQ,CAC/B,IAAI+Y,EAAQD,GAAiBnpC,EAAImF,EAAMA,GAAO,GAC1CikC,GACFrlC,EAAQo3B,KAAOp3B,EAAQo3B,KAAKjwB,MAAM,EAAGk+B,EAAM5pC,OAC3CuE,EAAQssB,OAAS+Y,EAAM7S,OAEvB0S,GAAUjpC,OAEP,CACL,IAAIqpC,EAASF,GAAiBnpC,EAAImF,EAAMA,GAAO,GAC3CmkC,EAASH,GAAiBnpC,EAAI2D,EAAIA,EAAKmlC,EAAS,GAChDO,GAAUC,GACZvlC,EAAQo3B,KAAOp3B,EAAQo3B,KAAKjwB,MAAM,EAAGm+B,EAAO7pC,OACzC4lB,OAAO6V,GAAej7B,EAAIqpC,EAAO9S,MAAO+S,EAAO/S,QAC/CnR,OAAOrhB,EAAQo3B,KAAKjwB,MAAMo+B,EAAO9pC,QACpCuE,EAAQssB,QAAUyY,GAElBG,GAAUjpC,GAId,IAAIi9B,EAAMl5B,EAAQ00B,iBACdwE,IACEt5B,EAAKs5B,EAAI1G,MACT0G,EAAI1G,OAASuS,EACR3jC,EAAO83B,EAAI1G,MAAQ0G,EAAIpS,OAC5B9mB,EAAQ00B,iBAAmB,OAMnC,SAAS8Q,GAAcvpC,EAAI4D,EAAMsC,GAC/BlG,EAAGkmB,MAAM8iB,aAAc,EACvB,IAAIjlC,EAAU/D,EAAG+D,QAASk5B,EAAMj9B,EAAG+D,QAAQ00B,iBAI3C,GAHIwE,GAAOr5B,GAAQq5B,EAAI1G,OAAS3yB,EAAOq5B,EAAI1G,MAAQ0G,EAAIpS,OACnD9mB,EAAQ00B,iBAAmB,QAE3B70B,EAAOG,EAAQqsB,UAAYxsB,GAAQG,EAAQssB,QAA/C,CACA,IAAI0H,EAAWh0B,EAAQo3B,KAAK6G,GAAchiC,EAAI4D,IAC9C,GAAqB,MAAjBm0B,EAASpb,KAAb,CACA,IAAItK,EAAM0lB,EAASsE,UAAYtE,EAASsE,QAAU,KACvB,GAAvBp6B,EAAQoQ,EAAKnM,IAAemM,EAAItI,KAAK7D,KAI3C,SAAS+iC,GAAUjpC,GACjBA,EAAG+D,QAAQqsB,SAAWpwB,EAAG+D,QAAQssB,OAASrwB,EAAG2qB,IAAIC,MACjD5qB,EAAG+D,QAAQo3B,KAAO,GAClBn7B,EAAG+D,QAAQohC,WAAa,EAG1B,SAASgE,GAAiBnpC,EAAIwpC,EAAMC,EAAM9/B,GACxC,IAAqC4hB,EAAjC/rB,EAAQwiC,GAAchiC,EAAIwpC,GAAarO,EAAOn7B,EAAG+D,QAAQo3B,KAC7D,IAAKtJ,IAAqB4X,GAAQzpC,EAAG2qB,IAAIC,MAAQ5qB,EAAG2qB,IAAIE,KACpD,MAAO,CAACrrB,MAAOA,EAAO+2B,MAAOkT,GAEjC,IADA,IAAIrqB,EAAIpf,EAAG+D,QAAQqsB,SACV/zB,EAAI,EAAGA,EAAImD,EAAOnD,IACvB+iB,GAAK+b,EAAK9+B,GAAGwuB,KACjB,GAAIzL,GAAKoqB,EAAM,CACb,GAAI7/B,EAAM,EAAG,CACX,GAAInK,GAAS27B,EAAKj/B,OAAS,EAAK,OAAO,KACvCqvB,EAAQnM,EAAI+b,EAAK37B,GAAOqrB,KAAQ2e,EAChChqC,SAEA+rB,EAAOnM,EAAIoqB,EAEbA,GAAQje,EAAMke,GAAQle,EAExB,MAAO+K,GAAat2B,EAAG2qB,IAAK8e,IAASA,EAAM,CACzC,GAAIjqC,IAAUmK,EAAM,EAAI,EAAIwxB,EAAKj/B,OAAS,GAAM,OAAO,KACvDutC,GAAQ9/B,EAAMwxB,EAAK37B,GAASmK,EAAM,EAAI,EAAI,IAAIkhB,KAC9CrrB,GAASmK,EAEX,MAAO,CAACnK,MAAOA,EAAO+2B,MAAOkT,GAK/B,SAASC,GAAW1pC,EAAImF,EAAMxB,GAC5B,IAAII,EAAU/D,EAAG+D,QAASo3B,EAAOp3B,EAAQo3B,KACtB,GAAfA,EAAKj/B,QAAeiJ,GAAQpB,EAAQssB,QAAU1sB,GAAMI,EAAQqsB,UAC9DrsB,EAAQo3B,KAAOF,GAAej7B,EAAImF,EAAMxB,GACxCI,EAAQqsB,SAAWjrB,IAEfpB,EAAQqsB,SAAWjrB,EACnBpB,EAAQo3B,KAAOF,GAAej7B,EAAImF,EAAMpB,EAAQqsB,UAAUhL,OAAOrhB,EAAQo3B,MACpEp3B,EAAQqsB,SAAWjrB,IACxBpB,EAAQo3B,KAAOp3B,EAAQo3B,KAAKjwB,MAAM82B,GAAchiC,EAAImF,KACxDpB,EAAQqsB,SAAWjrB,EACfpB,EAAQssB,OAAS1sB,EACjBI,EAAQo3B,KAAOp3B,EAAQo3B,KAAK/V,OAAO6V,GAAej7B,EAAI+D,EAAQssB,OAAQ1sB,IACjEI,EAAQssB,OAAS1sB,IACtBI,EAAQo3B,KAAOp3B,EAAQo3B,KAAKjwB,MAAM,EAAG82B,GAAchiC,EAAI2D,MAE7DI,EAAQssB,OAAS1sB,EAKnB,SAASgmC,GAAe3pC,GAEtB,IADA,IAAIm7B,EAAOn7B,EAAG+D,QAAQo3B,KAAMyO,EAAQ,EAC3BvtC,EAAI,EAAGA,EAAI8+B,EAAKj/B,OAAQG,IAAK,CACpC,IAAI07B,EAAWoD,EAAK9+B,GACf07B,EAASiD,QAAYjD,EAASpb,OAAQob,EAASsE,WAAcuN,EAEpE,OAAOA,EAGT,SAASC,GAAgB7pC,GACvBA,EAAG+D,QAAQm2B,MAAM4P,cAAc9pC,EAAG+D,QAAQm2B,MAAM6P,oBAGlD,SAASA,GAAiB/pC,EAAI6J,QACX,IAAZA,IAAqBA,GAAU,GAEpC,IAAI8gB,EAAM3qB,EAAG2qB,IAAK9d,EAAS,GACvBm9B,EAAcn9B,EAAOo9B,QAAUpmC,SAAS6B,yBACxCwkC,EAAcr9B,EAAOqb,UAAYrkB,SAAS6B,yBAE1CykC,EAAenqC,EAAGoB,QAAQgpC,cAC1BD,IAAgBtgC,GAAU,GAC9B,IAAK,IAAIxN,EAAI,EAAGA,EAAIsuB,EAAIxgB,IAAIrB,OAAO5M,OAAQG,IACzC,GAAKwN,GAAWxN,GAAKsuB,EAAIxgB,IAAIkgC,UAA7B,CACA,IAAIvgC,EAAQ6gB,EAAIxgB,IAAIrB,OAAOzM,GAC3B,KAAIyN,EAAM3E,OAAOvB,MAAQ5D,EAAG+D,QAAQssB,QAAUvmB,EAAMnG,KAAKC,KAAO5D,EAAG+D,QAAQqsB,UAA3E,CACA,IAAIyF,EAAY/rB,EAAMd,QACtB,GAAImhC,EAAc,CAChB,IAAIhhC,EAAOghC,EAAanqC,EAAI8J,GACxBX,GAAQmhC,GAAoBtqC,EAAImJ,EAAM6gC,QACjCnU,GAAa71B,EAAGoB,QAAQmpC,0BACjCD,GAAoBtqC,EAAI8J,EAAMX,KAAM6gC,GAEjCnU,GACD2U,GAAmBxqC,EAAI8J,EAAOogC,IAEpC,OAAOr9B,EAIT,SAASy9B,GAAoBtqC,EAAImJ,EAAMwJ,GACrC,IAAIvT,EAAM8E,GAAalE,EAAImJ,EAAM,MAAO,KAAM,MAAOnJ,EAAGoB,QAAQoiC,2BAE5D3+B,EAAS8N,EAAO7M,YAAYqX,EAAI,MAAO,IAAU,sBAKrD,GAJAtY,EAAOtB,MAAMsH,KAAOzL,EAAIyL,KAAO,KAC/BhG,EAAOtB,MAAMY,IAAM/E,EAAI+E,IAAM,KAC7BU,EAAOtB,MAAM+nB,OAAS7uB,KAAKgB,IAAI,EAAG2B,EAAI+B,OAAS/B,EAAI+E,KAAOnE,EAAGoB,QAAQqpC,aAAe,KAEhF,oBAAoBtoC,KAAKnC,EAAGuT,oBAAoBvN,WAAY,CAC9D,IAAI0kC,EAAUhF,GAAW1lC,EAAImJ,EAAM,MAAO,KAAM,MAC5C41B,EAAQ2L,EAAQ5/B,MAAQ4/B,EAAQ7/B,KACpChG,EAAOtB,MAAMw7B,OAASA,EAAQ,EAAIA,EAAQ/+B,EAAG2qC,oBAAsB,KAGrE,GAAIvrC,EAAI4mC,MAAO,CAEb,IAAI4E,EAAcj4B,EAAO7M,YAAYqX,EAAI,MAAO,IAAU,iDAC1DytB,EAAYrnC,MAAMQ,QAAU,GAC5B6mC,EAAYrnC,MAAMsH,KAAOzL,EAAI4mC,MAAMn7B,KAAO,KAC1C+/B,EAAYrnC,MAAMY,IAAM/E,EAAI4mC,MAAM7hC,IAAM,KACxCymC,EAAYrnC,MAAM+nB,OAA8C,KAApClsB,EAAI4mC,MAAM7kC,OAAS/B,EAAI4mC,MAAM7hC,KAAa,MAI1E,SAAS0mC,GAAU/sB,EAAG3I,GAAK,OAAO2I,EAAE3Z,IAAMgR,EAAEhR,KAAO2Z,EAAEjT,KAAOsK,EAAEtK,KAG9D,SAAS2/B,GAAmBxqC,EAAI8J,EAAO6I,GACrC,IAAI5O,EAAU/D,EAAG+D,QAAS4mB,EAAM3qB,EAAG2qB,IAC/BjkB,EAAW7C,SAAS6B,yBACpBolC,EAAU7K,GAASjgC,EAAG+D,SAAUgnC,EAAWD,EAAQjgC,KACnDmgC,EAAYvuC,KAAKgB,IAAIsG,EAAQknC,WAAYvK,GAAa1gC,GAAM+D,EAAQ47B,MAAMkI,YAAciD,EAAQhgC,MAChGogC,EAA0B,OAAjBvgB,EAAIvH,UAEjB,SAASwP,EAAI/nB,EAAM1G,EAAK46B,EAAO59B,GACzBgD,EAAM,IAAKA,EAAM,GACrBA,EAAM1H,KAAKmsC,MAAMzkC,GACjBhD,EAAS1E,KAAKmsC,MAAMznC,GACpBuF,EAASZ,YAAYqX,EAAI,MAAO,KAAM,sBAAwB,6BAA+BtS,EAAO,0CAA4C1G,EAAM,eAA0B,MAAT46B,EAAgBiM,EAAYngC,EAAOk0B,GAAS,8CAAgD59B,EAASgD,GAAO,OAGrR,SAASgnC,EAAYvnC,EAAMwnC,EAASC,GAClC,IAEIzkC,EAAO8L,EAFPokB,EAAUpM,GAAQC,EAAK/mB,GACvB0nC,EAAUxU,EAAQr2B,KAAKvE,OAE3B,SAASqpC,EAAOzjC,EAAI8/B,GAClB,OAAO8D,GAAW1lC,EAAI+E,GAAInB,EAAM9B,GAAK,MAAOg1B,EAAS8K,GAGvD,SAAS2J,EAAMnsC,EAAKuK,EAAK6hC,GACvB,IAAIC,EAAS/E,GAAsB1mC,EAAI82B,EAAS,KAAM13B,GAClD2f,EAAe,OAAPpV,IAA0B,SAAR6hC,GAAmB,OAAS,QACtD1pC,EAAa,SAAR0pC,EAAkBC,EAAOhF,MAAQgF,EAAO/4B,KAAO,KAAKvQ,KAAK20B,EAAQr2B,KAAK3D,OAAO2uC,EAAO/4B,IAAM,IAAM,EAAI,GAC7G,OAAO6yB,EAAOzjC,EAAIid,GAAMA,GAG1B,IAAIoD,EAAQ2C,GAASgS,EAASnM,EAAIvH,WAqClC,OApCAlB,GAAoBC,EAAOipB,GAAW,EAAY,MAATC,EAAgBC,EAAUD,GAAO,SAAUlmC,EAAMxB,EAAIgG,EAAKtN,GACjG,IAAIyqC,EAAa,OAAPn9B,EACN+hC,EAAUnG,EAAOpgC,EAAM2hC,EAAM,OAAS,SACtC6E,EAAQpG,EAAO5hC,EAAK,EAAGmjC,EAAM,QAAU,QAEvC8E,EAAuB,MAAXR,GAA2B,GAARjmC,EAAW0mC,EAAmB,MAATR,GAAiB1nC,GAAM2nC,EAC3E1gB,EAAa,GAALvuB,EAAQowB,GAAQtK,GAAS9lB,GAAK8lB,EAAMjmB,OAAS,EACzD,GAAIyvC,EAAMxnC,IAAMunC,EAAQvnC,KAAO,EAAG,CAChC,IAAI2nC,GAAYZ,EAASU,EAAYC,IAAYjhB,EAC7CmhB,GAAab,EAASW,EAAUD,IAAcnf,EAC9C5hB,EAAOihC,EAAWf,GAAYjE,EAAM4E,EAAUC,GAAO9gC,KACrDC,EAAQihC,EAAYf,GAAalE,EAAM6E,EAAQD,GAAS5gC,MAC5D8nB,EAAI/nB,EAAM6gC,EAAQvnC,IAAK2G,EAAQD,EAAM6gC,EAAQvqC,YACxC,CACL,IAAI6qC,EAASC,EAAUC,EAASC,EAC5BrF,GACFkF,EAAUd,GAAUU,GAAahhB,EAAQmgB,EAAWW,EAAQ7gC,KAC5DohC,EAAWf,EAASF,EAAYO,EAAMpmC,EAAMwE,EAAK,UACjDuiC,EAAUhB,EAASH,EAAWQ,EAAM5nC,EAAIgG,EAAK,SAC7CwiC,EAAWjB,GAAUW,GAAWpf,EAAOue,EAAYW,EAAM7gC,QAEzDkhC,EAAWd,EAAoBK,EAAMpmC,EAAMwE,EAAK,UAA5BohC,EACpBkB,GAAYf,GAAUU,GAAahhB,EAAQogB,EAAYU,EAAQ5gC,MAC/DohC,GAAWhB,GAAUW,GAAWpf,EAAOse,EAAWY,EAAM9gC,KACxDshC,EAAYjB,EAAqBK,EAAM5nC,EAAIgG,EAAK,SAA3BqhC,GAEvBpY,EAAIoZ,EAASN,EAAQvnC,IAAK8nC,EAAWD,EAASN,EAAQvqC,QAClDuqC,EAAQvqC,OAASwqC,EAAMxnC,KAAOyuB,EAAImY,EAAUW,EAAQvqC,OAAQ,KAAMwqC,EAAMxnC,KAC5EyuB,EAAIsZ,EAASP,EAAMxnC,IAAKgoC,EAAWD,EAASP,EAAMxqC,UAG/CyF,GAASikC,GAAUa,EAAS9kC,GAAS,KAAKA,EAAQ8kC,GACnDb,GAAUc,EAAO/kC,GAAS,IAAKA,EAAQ+kC,KACtCj5B,GAAOm4B,GAAUa,EAASh5B,GAAO,KAAKA,EAAMg5B,GAC7Cb,GAAUc,EAAOj5B,GAAO,IAAKA,EAAMi5B,MAElC,CAAC/kC,MAAOA,EAAO8L,IAAKA,GAG7B,IAAI05B,EAAQtiC,EAAM3E,OAAQknC,EAAMviC,EAAMnG,KACtC,GAAIyoC,EAAMxoC,MAAQyoC,EAAIzoC,KACpBunC,EAAYiB,EAAMxoC,KAAMwoC,EAAMtqC,GAAIuqC,EAAIvqC,QACjC,CACL,IAAIwqC,EAAW5hB,GAAQC,EAAKyhB,EAAMxoC,MAAO2oC,EAAS7hB,GAAQC,EAAK0hB,EAAIzoC,MAC/D4oC,EAActW,GAAWoW,IAAapW,GAAWqW,GACjDE,EAAUtB,EAAYiB,EAAMxoC,KAAMwoC,EAAMtqC,GAAI0qC,EAAcF,EAAS7rC,KAAKvE,OAAS,EAAI,MAAMwW,IAC3Fg6B,EAAavB,EAAYkB,EAAIzoC,KAAM4oC,EAAc,EAAI,KAAMH,EAAIvqC,IAAI8E,MACnE4lC,IACEC,EAAQtoC,IAAMuoC,EAAWvoC,IAAM,GACjCyuB,EAAI6Z,EAAQ3hC,MAAO2hC,EAAQtoC,IAAK,KAAMsoC,EAAQtrC,QAC9CyxB,EAAImY,EAAU2B,EAAWvoC,IAAKuoC,EAAW7hC,KAAM6hC,EAAWvrC,SAE1DyxB,EAAI6Z,EAAQ3hC,MAAO2hC,EAAQtoC,IAAKuoC,EAAW7hC,KAAO4hC,EAAQ3hC,MAAO2hC,EAAQtrC,SAGzEsrC,EAAQtrC,OAASurC,EAAWvoC,KAC5ByuB,EAAImY,EAAU0B,EAAQtrC,OAAQ,KAAMurC,EAAWvoC,KAGrDwO,EAAO7M,YAAYY,GAIrB,SAASimC,GAAa3sC,GACpB,GAAKA,EAAGC,MAAM2sC,QAAd,CACA,IAAI7oC,EAAU/D,EAAG+D,QACjB8oC,cAAc9oC,EAAQ+oC,SACtB,IAAIr4B,GAAK,EACT1Q,EAAQgpC,UAAUxpC,MAAMypC,WAAa,GACjChtC,EAAGoB,QAAQ6rC,gBAAkB,EAC7BlpC,EAAQ+oC,QAAUI,aAAY,WACzBltC,EAAGmtC,YAAcC,GAAOptC,GAC7B+D,EAAQgpC,UAAUxpC,MAAMypC,YAAcv4B,GAAMA,GAAM,GAAK,WACtDzU,EAAGoB,QAAQ6rC,iBACPjtC,EAAGoB,QAAQ6rC,gBAAkB,IAClClpC,EAAQgpC,UAAUxpC,MAAMypC,WAAa,WAG3C,SAASK,GAAYrtC,GACdA,EAAGmtC,aACNntC,EAAG+D,QAAQm2B,MAAM9lB,QACZpU,EAAGC,MAAM2sC,SAAWU,GAAQttC,IAIrC,SAASutC,GAAevtC,GACtBA,EAAGC,MAAMutC,mBAAoB,EAC7Bn4B,YAAW,WAAkBrV,EAAGC,MAAMutC,oBACpCxtC,EAAGC,MAAMutC,mBAAoB,EACzBxtC,EAAGC,MAAM2sC,SAAWQ,GAAOptC,MAC5B,KAGP,SAASstC,GAAQttC,EAAIkC,GACflC,EAAGC,MAAMutC,oBAAsBxtC,EAAGC,MAAMwtC,eAAgBztC,EAAGC,MAAMutC,mBAAoB,GAE9D,YAAvBxtC,EAAGoB,QAAQszB,WACV10B,EAAGC,MAAM2sC,UACZnnB,GAAOzlB,EAAI,QAASA,EAAIkC,GACxBlC,EAAGC,MAAM2sC,SAAU,EACnBn5B,EAASzT,EAAG+D,QAAQC,QAAS,sBAIxBhE,EAAGkmB,OAASlmB,EAAG+D,QAAQ2pC,mBAAqB1tC,EAAG2qB,IAAIxgB,MACtDnK,EAAG+D,QAAQm2B,MAAM/7B,QACbod,GAAUlG,YAAW,WAAc,OAAOrV,EAAG+D,QAAQm2B,MAAM/7B,OAAM,KAAU,KAEjF6B,EAAG+D,QAAQm2B,MAAMyT,iBAEnBhB,GAAa3sC,IAEf,SAASotC,GAAOptC,EAAIkC,GACdlC,EAAGC,MAAMutC,oBAETxtC,EAAGC,MAAM2sC,UACXnnB,GAAOzlB,EAAI,OAAQA,EAAIkC,GACvBlC,EAAGC,MAAM2sC,SAAU,EACnB34B,EAAQjU,EAAG+D,QAAQC,QAAS,uBAE9B6oC,cAAc7sC,EAAG+D,QAAQ+oC,SACzBz3B,YAAW,WAAmBrV,EAAGC,MAAM2sC,UAAW5sC,EAAG+D,QAAQ4I,OAAQ,KAAY,MAKnF,SAASihC,GAAwB5tC,GAM/B,IALA,IAAI+D,EAAU/D,EAAG+D,QACb8pC,EAAa9pC,EAAQ+pC,QAAQ/N,UAC7BgO,EAAUtxC,KAAKgB,IAAI,EAAGsG,EAAQ48B,SAAS18B,wBAAwBE,KAC/D6pC,EAAYjqC,EAAQ+pC,QAAQ7pC,wBAAwBE,IACpD8pC,EAAa,EACR5xC,EAAI,EAAGA,EAAI0H,EAAQo3B,KAAKj/B,OAAQG,IAAK,CAC5C,IAAI+M,EAAMrF,EAAQo3B,KAAK9+B,GAAI6kC,EAAWlhC,EAAGoB,QAAQ+/B,aAC7C7V,OAAS,EAAUyT,EAAQ,EAC/B,IAAI31B,EAAI4xB,OAAR,CAEA,GADAgT,GAAa5kC,EAAIxF,KAAK0nB,OAClBlQ,GAAMC,EAAa,EAAG,CACxB,IAAIkoB,EAAMn6B,EAAIuT,KAAKojB,UAAY32B,EAAIuT,KAAK2K,aACxCgE,EAASiY,EAAMsK,EACfA,EAAatK,MACR,CACL,IAAIsD,EAAMz9B,EAAIuT,KAAK1Y,wBACnBqnB,EAASub,EAAI1lC,OAAS0lC,EAAI1iC,KAGrB+8B,GAAY93B,EAAI3I,KAAKuc,aACtB+hB,EAAQ31B,EAAI3I,KAAKuc,WAAW/Y,wBAAwB6G,MAAQ+7B,EAAIh8B,KAAO,GAE7E,IAAI0gB,EAAOniB,EAAIxF,KAAK0nB,OAASA,EAC7B,IAAIC,EAAO,MAAQA,GAAQ,QACrByiB,EAAYD,IAAWE,GAAc1iB,GACzCF,GAAiBjiB,EAAIxF,KAAM0nB,GAC3B4iB,GAAmB9kC,EAAIxF,MACnBwF,EAAIgvB,MAAQ,IAAK,IAAI5qB,EAAI,EAAGA,EAAIpE,EAAIgvB,KAAKl8B,OAAQsR,IACjD0gC,GAAmB9kC,EAAIgvB,KAAK5qB,IAElC,GAAIuxB,EAAQ/+B,EAAG+D,QAAQknC,WAAY,CACjC,IAAIkD,EAAU1xC,KAAKwlB,KAAK8c,EAAQsE,GAAUrjC,EAAG+D,UACzCoqC,EAAUnuC,EAAG+D,QAAQozB,gBACvBn3B,EAAG+D,QAAQozB,cAAgBgX,EAC3BnuC,EAAG+D,QAAQmzB,QAAU9tB,EAAIxF,KACzB5D,EAAG+D,QAAQqzB,gBAAiB,KAI9B36B,KAAKksB,IAAIslB,GAAc,IAAKlqC,EAAQ48B,SAASmE,WAAamJ,GAKhE,SAASC,GAAmBtqC,GAC1B,GAAIA,EAAK86B,QAAW,IAAK,IAAIriC,EAAI,EAAGA,EAAIuH,EAAK86B,QAAQxiC,SAAUG,EAAG,CAChE,IAAI+xC,EAAIxqC,EAAK86B,QAAQriC,GAAI6gB,EAASkxB,EAAEzxB,KAAKzI,WACrCgJ,IAAUkxB,EAAE9iB,OAASpO,EAAOoK,eAOpC,SAAS+mB,GAAatqC,EAAS4mB,EAAK2jB,GAClC,IAAInqC,EAAMmqC,GAA4B,MAAhBA,EAASnqC,IAAc1H,KAAKgB,IAAI,EAAG6wC,EAASnqC,KAAOJ,EAAQ48B,SAASmE,UAC1F3gC,EAAM1H,KAAKC,MAAMyH,EAAM07B,GAAW97B,IAClC,IAAI5C,EAASmtC,GAA+B,MAAnBA,EAASntC,OAAiBmtC,EAASntC,OAASgD,EAAMJ,EAAQC,QAAQ88B,aAEvF37B,EAAOumB,GAAaf,EAAKxmB,GAAMR,EAAK+nB,GAAaf,EAAKxpB,GAG1D,GAAImtC,GAAYA,EAASC,OAAQ,CAC/B,IAAIC,EAAaF,EAASC,OAAOppC,KAAKvB,KAAM6qC,EAAWH,EAASC,OAAO5qC,GAAGC,KACtE4qC,EAAarpC,GACfA,EAAOqpC,EACP7qC,EAAK+nB,GAAaf,EAAKkM,GAAanM,GAAQC,EAAK6jB,IAAezqC,EAAQC,QAAQ88B,eACvErkC,KAAKe,IAAIixC,EAAU9jB,EAAI3lB,aAAerB,IAC/CwB,EAAOumB,GAAaf,EAAKkM,GAAanM,GAAQC,EAAK8jB,IAAa1qC,EAAQC,QAAQ88B,cAChFn9B,EAAK8qC,GAGT,MAAO,CAACtpC,KAAMA,EAAMxB,GAAIlH,KAAKgB,IAAIkG,EAAIwB,EAAO,IAO9C,SAASupC,GAAkB1uC,EAAIihC,GAC7B,IAAItb,GAAe3lB,EAAI,wBAAvB,CAEA,IAAI+D,EAAU/D,EAAG+D,QAAS8iC,EAAM9iC,EAAQ47B,MAAM17B,wBAAyB0qC,EAAW,KAGlF,GAFI1N,EAAK98B,IAAM0iC,EAAI1iC,IAAM,EAAKwqC,GAAW,EAChC1N,EAAK9/B,OAAS0lC,EAAI1iC,KAAO+O,OAAO07B,aAAe/qC,SAAS4gC,gBAAgB3D,gBAAiB6N,GAAW,GAC7F,MAAZA,IAAqB7yB,EAAS,CAChC,IAAI+yB,EAAa1xB,EAAI,MAAO,IAAU,KAAO,uDAAyD8jB,EAAK98B,IAAMJ,EAAQohC,WAAatF,GAAW7/B,EAAG+D,UAAY,0CAA4Ck9B,EAAK9/B,OAAS8/B,EAAK98B,IAAMq8B,GAAUxgC,GAAM+D,EAAQg9B,WAAa,uCAA0CE,EAAS,KAAI,cAAiBxkC,KAAKgB,IAAI,EAAGwjC,EAAKn2B,MAAQm2B,EAAKp2B,MAAS,OACzX7K,EAAG+D,QAAQ+7B,UAAUh6B,YAAY+oC,GACjCA,EAAWzpC,eAAeupC,GAC1B3uC,EAAG+D,QAAQ+7B,UAAU3rB,YAAY06B,KAOrC,SAASC,GAAkB9uC,EAAIZ,EAAKsT,EAAKq8B,GAEvC,IAAI9N,EADU,MAAV8N,IAAkBA,EAAS,GAE1B/uC,EAAGoB,QAAQ+/B,cAAgB/hC,GAAOsT,IAIrCA,EAAoB,UAAdtT,EAAIqjB,OAAqB1d,GAAI3F,EAAIwE,KAAMxE,EAAI0C,GAAK,EAAG,UAAY1C,EACrEA,EAAMA,EAAI0C,GAAKiD,GAAI3F,EAAIwE,KAAoB,UAAdxE,EAAIqjB,OAAqBrjB,EAAI0C,GAAK,EAAI1C,EAAI0C,GAAI,SAAW1C,GAExF,IAAK,IAAI4vC,EAAQ,EAAGA,EAAQ,EAAGA,IAAS,CACtC,IAAIC,GAAU,EACV1J,EAASrhC,GAAalE,EAAIZ,GAC1B8vC,EAAax8B,GAAOA,GAAOtT,EAAe8E,GAAalE,EAAI0S,GAA1B6yB,EACrCtE,EAAO,CAACp2B,KAAMpO,KAAKe,IAAI+nC,EAAO16B,KAAMqkC,EAAUrkC,MACtC1G,IAAK1H,KAAKe,IAAI+nC,EAAOphC,IAAK+qC,EAAU/qC,KAAO4qC,EAC3CjkC,MAAOrO,KAAKgB,IAAI8nC,EAAO16B,KAAMqkC,EAAUrkC,MACvC1J,OAAQ1E,KAAKgB,IAAI8nC,EAAOpkC,OAAQ+tC,EAAU/tC,QAAU4tC,GAC5D,IAAII,EAAYC,GAAmBpvC,EAAIihC,GACnCoO,EAAWrvC,EAAG2qB,IAAIma,UAAWwK,EAAYtvC,EAAG2qB,IAAI+Z,WASpD,GAR2B,MAAvByK,EAAUrK,YACZyK,GAAgBvvC,EAAImvC,EAAUrK,WAC1BroC,KAAKksB,IAAI3oB,EAAG2qB,IAAIma,UAAYuK,GAAY,IAAKJ,GAAU,IAEjC,MAAxBE,EAAUzK,aACZ8K,GAAcxvC,EAAImvC,EAAUzK,YACxBjoC,KAAKksB,IAAI3oB,EAAG2qB,IAAI+Z,WAAa4K,GAAa,IAAKL,GAAU,KAE1DA,EAAW,MAElB,OAAOhO,EAIT,SAAS77B,GAAepF,EAAIihC,GAC1B,IAAIkO,EAAYC,GAAmBpvC,EAAIihC,GACZ,MAAvBkO,EAAUrK,WAAqByK,GAAgBvvC,EAAImvC,EAAUrK,WACrC,MAAxBqK,EAAUzK,YAAsB8K,GAAcxvC,EAAImvC,EAAUzK,YAOlE,SAAS0K,GAAmBpvC,EAAIihC,GAC9B,IAAIl9B,EAAU/D,EAAG+D,QAAS0rC,EAAa9H,GAAW3nC,EAAG+D,SACjDk9B,EAAK98B,IAAM,IAAK88B,EAAK98B,IAAM,GAC/B,IAAIurC,EAAY1vC,EAAGkmB,OAA+B,MAAtBlmB,EAAGkmB,MAAM4e,UAAoB9kC,EAAGkmB,MAAM4e,UAAY/gC,EAAQ48B,SAASmE,UAC3FrB,EAAS5C,GAAc7gC,GAAK6M,EAAS,GACrCo0B,EAAK9/B,OAAS8/B,EAAK98B,IAAMs/B,IAAUxC,EAAK9/B,OAAS8/B,EAAK98B,IAAMs/B,GAChE,IAAIkM,EAAY3vC,EAAG2qB,IAAIW,OAAS0U,GAAYj8B,GACxC6rC,EAAQ3O,EAAK98B,IAAMsrC,EAAYI,EAAW5O,EAAK9/B,OAASwuC,EAAYF,EACxE,GAAIxO,EAAK98B,IAAMurC,EACb7iC,EAAOi4B,UAAY8K,EAAQ,EAAI3O,EAAK98B,SAC/B,GAAI88B,EAAK9/B,OAASuuC,EAAYjM,EAAQ,CAC3C,IAAIqM,EAASrzC,KAAKe,IAAIyjC,EAAK98B,KAAM0rC,EAAWF,EAAY1O,EAAK9/B,QAAUsiC,GACnEqM,GAAUJ,IAAa7iC,EAAOi4B,UAAYgL,GAGhD,IAAIC,EAAc/vC,EAAGoB,QAAQm8B,YAAc,EAAIx5B,EAAQw7B,QAAQhY,YAC3DyoB,EAAahwC,EAAGkmB,OAAgC,MAAvBlmB,EAAGkmB,MAAMwe,WAAqB1kC,EAAGkmB,MAAMwe,WAAa3gC,EAAQ48B,SAAS+D,WAAaqL,EAC3GE,EAAUvP,GAAa1gC,GAAM+D,EAAQw7B,QAAQhY,YAC7C2oB,EAAUjP,EAAKn2B,MAAQm2B,EAAKp2B,KAAOolC,EAQvC,OAPIC,IAAWjP,EAAKn2B,MAAQm2B,EAAKp2B,KAAOolC,GACpChP,EAAKp2B,KAAO,GACZgC,EAAO63B,WAAa,EACfzD,EAAKp2B,KAAOmlC,EACjBnjC,EAAO63B,WAAajoC,KAAKgB,IAAI,EAAGwjC,EAAKp2B,KAAOklC,GAAeG,EAAU,EAAI,KACpEjP,EAAKn2B,MAAQmlC,EAAUD,EAAa,IACzCnjC,EAAO63B,WAAazD,EAAKn2B,OAASolC,EAAU,EAAI,IAAMD,GACnDpjC,EAKT,SAASsjC,GAAenwC,EAAImE,GACf,MAAPA,IACJisC,GAAmBpwC,GACnBA,EAAGkmB,MAAM4e,WAAmC,MAAtB9kC,EAAGkmB,MAAM4e,UAAoB9kC,EAAG2qB,IAAIma,UAAY9kC,EAAGkmB,MAAM4e,WAAa3gC,GAK9F,SAASksC,GAAoBrwC,GAC3BowC,GAAmBpwC,GACnB,IAAIoJ,EAAMpJ,EAAGsD,YACbtD,EAAGkmB,MAAMoqB,YAAc,CAACnrC,KAAMiE,EAAKzF,GAAIyF,EAAK2lC,OAAQ/uC,EAAGoB,QAAQmvC,oBAGjE,SAASC,GAAexwC,EAAI8N,EAAGC,GACpB,MAALD,GAAkB,MAALC,GAAaqiC,GAAmBpwC,GACxC,MAAL8N,IAAa9N,EAAGkmB,MAAMwe,WAAa52B,GAC9B,MAALC,IAAa/N,EAAGkmB,MAAM4e,UAAY/2B,GAGxC,SAAS0iC,GAAczwC,EAAI8J,GACzBsmC,GAAmBpwC,GACnBA,EAAGkmB,MAAMoqB,YAAcxmC,EAOzB,SAASsmC,GAAmBpwC,GAC1B,IAAI8J,EAAQ9J,EAAGkmB,MAAMoqB,YACrB,GAAIxmC,EAAO,CACT9J,EAAGkmB,MAAMoqB,YAAc,KACvB,IAAInrC,EAAO8gC,GAAejmC,EAAI8J,EAAM3E,MAAOxB,EAAKsiC,GAAejmC,EAAI8J,EAAMnG,IACzE+sC,GAAoB1wC,EAAImF,EAAMxB,EAAImG,EAAMilC,SAI5C,SAAS2B,GAAoB1wC,EAAImF,EAAMxB,EAAIorC,GACzC,IAAI4B,EAAOvB,GAAmBpvC,EAAI,CAChC6K,KAAMpO,KAAKe,IAAI2H,EAAK0F,KAAMlH,EAAGkH,MAC7B1G,IAAK1H,KAAKe,IAAI2H,EAAKhB,IAAKR,EAAGQ,KAAO4qC,EAClCjkC,MAAOrO,KAAKgB,IAAI0H,EAAK2F,MAAOnH,EAAGmH,OAC/B3J,OAAQ1E,KAAKgB,IAAI0H,EAAKhE,OAAQwC,EAAGxC,QAAU4tC,IAE7CyB,GAAexwC,EAAI2wC,EAAKjM,WAAYiM,EAAK7L,WAK3C,SAASyK,GAAgBvvC,EAAI2H,GACvBlL,KAAKksB,IAAI3oB,EAAG2qB,IAAIma,UAAYn9B,GAAO,IAClCqT,GAAS41B,GAAoB5wC,EAAI,CAACmE,IAAKwD,IAC5CkpC,GAAa7wC,EAAI2H,GAAK,GAClBqT,GAAS41B,GAAoB5wC,GACjC8wC,GAAY9wC,EAAI,MAGlB,SAAS6wC,GAAa7wC,EAAI2H,EAAKopC,GAC7BppC,EAAMlL,KAAKgB,IAAI,EAAGhB,KAAKe,IAAIwC,EAAG+D,QAAQ48B,SAASqQ,aAAehxC,EAAG+D,QAAQ48B,SAASG,aAAcn5B,KAC5F3H,EAAG+D,QAAQ48B,SAASmE,WAAan9B,GAAQopC,KAC7C/wC,EAAG2qB,IAAIma,UAAYn9B,EACnB3H,EAAG+D,QAAQktC,WAAWJ,aAAalpC,GAC/B3H,EAAG+D,QAAQ48B,SAASmE,WAAan9B,IAAO3H,EAAG+D,QAAQ48B,SAASmE,UAAYn9B,IAK9E,SAAS6nC,GAAcxvC,EAAI2H,EAAKupC,EAAYH,GAC1CppC,EAAMlL,KAAKgB,IAAI,EAAGhB,KAAKe,IAAImK,EAAK3H,EAAG+D,QAAQ48B,SAASwQ,YAAcnxC,EAAG+D,QAAQ48B,SAASnB,eACjF0R,EAAavpC,GAAO3H,EAAG2qB,IAAI+Z,WAAajoC,KAAKksB,IAAI3oB,EAAG2qB,IAAI+Z,WAAa/8B,GAAO,KAAOopC,IACxF/wC,EAAG2qB,IAAI+Z,WAAa/8B,EACpBypC,GAAkBpxC,GACdA,EAAG+D,QAAQ48B,SAAS+D,YAAc/8B,IAAO3H,EAAG+D,QAAQ48B,SAAS+D,WAAa/8B,GAC9E3H,EAAG+D,QAAQktC,WAAWzB,cAAc7nC,IAOtC,SAAS0pC,GAAqBrxC,GAC5B,IAAIi3B,EAAIj3B,EAAG+D,QAASutC,EAAUra,EAAEsI,QAAQhY,YACpCgqB,EAAO90C,KAAKmsC,MAAM5oC,EAAG2qB,IAAIW,OAAS0U,GAAYhgC,EAAG+D,UACrD,MAAO,CACL+8B,aAAc7J,EAAE0J,SAASG,aACzB0Q,WAAYva,EAAEjzB,QAAQ88B,aACtBqQ,YAAala,EAAE0J,SAASwQ,YAAa3R,YAAavI,EAAE0J,SAASnB,YAC7DiS,UAAWxa,EAAEjzB,QAAQw7B,YACrBkS,QAAS1xC,EAAGoB,QAAQm8B,YAAc+T,EAAU,EAC5CK,UAAWJ,EACXP,aAAcO,EAAO/Q,GAAUxgC,GAAMi3B,EAAE8J,UACvCN,eAAgBxJ,EAAEwJ,eAClBvC,YAAaoT,GAIjB,IAAIM,GAAmB,SAAS1O,EAAOjjB,EAAQjgB,GAC7C1C,KAAK0C,GAAKA,EACV,IAAI6xC,EAAOv0C,KAAKu0C,KAAO10B,EAAI,MAAO,CAACA,EAAI,MAAO,KAAM,KAAM,mBAAoB,yBAC1E20B,EAAQx0C,KAAKw0C,MAAQ30B,EAAI,MAAO,CAACA,EAAI,MAAO,KAAM,KAAM,kCAAmC,yBAC/F00B,EAAKE,SAAWD,EAAMC,UAAY,EAClC7O,EAAM2O,GAAO3O,EAAM4O,GAEnBr9B,GAAGo9B,EAAM,UAAU,WACbA,EAAK/Q,cAAgB7gB,EAAO4xB,EAAK/M,UAAW,eAElDrwB,GAAGq9B,EAAO,UAAU,WACdA,EAAMtS,aAAevf,EAAO6xB,EAAMpN,WAAY,iBAGpDpnC,KAAK00C,kBAAmB,EAEpB52B,GAAMC,EAAa,IAAK/d,KAAKw0C,MAAMvuC,MAAM0uC,UAAY30C,KAAKu0C,KAAKtuC,MAAM2uC,SAAW,SAGtFN,GAAiB/zC,UAAUs0C,OAAS,SAAU9qB,GAC5C,IAAI+qB,EAAS/qB,EAAQ8pB,YAAc9pB,EAAQmY,YAAc,EACrD6S,EAAShrB,EAAQ2pB,aAAe3pB,EAAQyZ,aAAe,EACvDwR,EAASjrB,EAAQoZ,eAErB,GAAI4R,EAAQ,CACV/0C,KAAKu0C,KAAKtuC,MAAMQ,QAAU,QAC1BzG,KAAKu0C,KAAKtuC,MAAMpC,OAASixC,EAASE,EAAS,KAAO,IAClD,IAAIC,EAAclrB,EAAQmqB,YAAcY,EAASE,EAAS,GAE1Dh1C,KAAKu0C,KAAK70B,WAAWzZ,MAAM+nB,OACzB7uB,KAAKgB,IAAI,EAAG4pB,EAAQ2pB,aAAe3pB,EAAQyZ,aAAeyR,GAAe,UAE3Ej1C,KAAKu0C,KAAK/M,UAAY,EACtBxnC,KAAKu0C,KAAKtuC,MAAMQ,QAAU,GAC1BzG,KAAKu0C,KAAK70B,WAAWzZ,MAAM+nB,OAAS,IAGtC,GAAI8mB,EAAQ,CACV90C,KAAKw0C,MAAMvuC,MAAMQ,QAAU,QAC3BzG,KAAKw0C,MAAMvuC,MAAMuH,MAAQunC,EAASC,EAAS,KAAO,IAClDh1C,KAAKw0C,MAAMvuC,MAAMsH,KAAOwc,EAAQqqB,QAAU,KAC1C,IAAIc,EAAanrB,EAAQoqB,UAAYpqB,EAAQqqB,SAAWW,EAASC,EAAS,GAC1Eh1C,KAAKw0C,MAAM90B,WAAWzZ,MAAMw7B,MAC1BtiC,KAAKgB,IAAI,EAAG4pB,EAAQ8pB,YAAc9pB,EAAQmY,YAAcgT,GAAc,UAExEl1C,KAAKw0C,MAAMvuC,MAAMQ,QAAU,GAC3BzG,KAAKw0C,MAAM90B,WAAWzZ,MAAMw7B,MAAQ,IAQtC,OALKzhC,KAAK00C,kBAAoB3qB,EAAQyZ,aAAe,IACrC,GAAVwR,GAAeh1C,KAAKm1C,gBACxBn1C,KAAK00C,kBAAmB,GAGnB,CAAClnC,MAAOunC,EAASC,EAAS,EAAGnxC,OAAQixC,EAASE,EAAS,IAGhEV,GAAiB/zC,UAAU2xC,cAAgB,SAAUpwC,GAC/C9B,KAAKw0C,MAAMpN,YAActlC,IAAO9B,KAAKw0C,MAAMpN,WAAatlC,GACxD9B,KAAKo1C,cAAgBp1C,KAAKq1C,mBAAmBr1C,KAAKw0C,MAAOx0C,KAAKo1C,aAAc,UAGlFd,GAAiB/zC,UAAUgzC,aAAe,SAAUzxC,GAC9C9B,KAAKu0C,KAAK/M,WAAa1lC,IAAO9B,KAAKu0C,KAAK/M,UAAY1lC,GACpD9B,KAAKs1C,aAAet1C,KAAKq1C,mBAAmBr1C,KAAKu0C,KAAMv0C,KAAKs1C,YAAa,SAG/EhB,GAAiB/zC,UAAU40C,cAAgB,WACzC,IAAIrE,EAAIjyB,IAAQN,EAAqB,OAAS,OAC9Cve,KAAKw0C,MAAMvuC,MAAM+nB,OAAShuB,KAAKu0C,KAAKtuC,MAAMw7B,MAAQqP,EAClD9wC,KAAKw0C,MAAMvuC,MAAMsvC,cAAgBv1C,KAAKu0C,KAAKtuC,MAAMsvC,cAAgB,OACjEv1C,KAAKo1C,aAAe,IAAIjzB,EACxBniB,KAAKs1C,YAAc,IAAInzB,GAGzBmyB,GAAiB/zC,UAAU80C,mBAAqB,SAAUG,EAAKC,EAAO7sC,GAEpE,SAAS8sC,IAOP,IAAInM,EAAMiM,EAAI7uC,wBACVkZ,EAAc,QAARjX,EAAiBrC,SAASovC,iBAAiBpM,EAAI/7B,MAAQ,GAAI+7B,EAAI1iC,IAAM0iC,EAAI1lC,QAAU,GACvF0C,SAASovC,kBAAkBpM,EAAI/7B,MAAQ+7B,EAAIh8B,MAAQ,EAAGg8B,EAAI1lC,OAAS,GACrEgc,GAAO21B,EAAOA,EAAIvvC,MAAMsvC,cAAgB,OACrCE,EAAMjzB,IAAI,IAAMkzB,GAZzBF,EAAIvvC,MAAMsvC,cAAgB,OAc1BE,EAAMjzB,IAAI,IAAMkzB,IAGlBpB,GAAiB/zC,UAAU6E,MAAQ,WACjC,IAAIwa,EAAS5f,KAAKw0C,MAAM59B,WACxBgJ,EAAO/I,YAAY7W,KAAKw0C,OACxB50B,EAAO/I,YAAY7W,KAAKu0C,OAG1B,IAAIqB,GAAiB,aAOrB,SAASC,GAAiBnzC,EAAIqnB,GACvBA,IAAWA,EAAUgqB,GAAqBrxC,IAC/C,IAAIozC,EAAapzC,EAAG+D,QAAQ68B,SAAUyS,EAAcrzC,EAAG+D,QAAQg9B,UAC/DuS,GAAsBtzC,EAAIqnB,GAC1B,IAAK,IAAIhrB,EAAI,EAAGA,EAAI,GAAK+2C,GAAcpzC,EAAG+D,QAAQ68B,UAAYyS,GAAerzC,EAAG+D,QAAQg9B,UAAW1kC,IAC7F+2C,GAAcpzC,EAAG+D,QAAQ68B,UAAY5gC,EAAGoB,QAAQ+/B,cAChDyM,GAAwB5tC,GAC5BszC,GAAsBtzC,EAAIqxC,GAAqBrxC,IAC/CozC,EAAapzC,EAAG+D,QAAQ68B,SAAUyS,EAAcrzC,EAAG+D,QAAQg9B,UAM/D,SAASuS,GAAsBtzC,EAAIqnB,GACjC,IAAI4P,EAAIj3B,EAAG+D,QACPwvC,EAAQtc,EAAEga,WAAWkB,OAAO9qB,GAEhC4P,EAAE0I,MAAMp8B,MAAM+8B,cAAgBrJ,EAAE2J,SAAW2S,EAAMzoC,OAAS,KAC1DmsB,EAAE0I,MAAMp8B,MAAMiwC,eAAiBvc,EAAE8J,UAAYwS,EAAMpyC,QAAU,KAC7D81B,EAAEwc,aAAalwC,MAAMmwC,aAAeH,EAAMpyC,OAAS,uBAE/CoyC,EAAMzoC,OAASyoC,EAAMpyC,QACvB81B,EAAE0c,gBAAgBpwC,MAAMQ,QAAU,QAClCkzB,EAAE0c,gBAAgBpwC,MAAM+nB,OAASioB,EAAMpyC,OAAS,KAChD81B,EAAE0c,gBAAgBpwC,MAAMw7B,MAAQwU,EAAMzoC,MAAQ,MACvCmsB,EAAE0c,gBAAgBpwC,MAAMQ,QAAU,GACvCwvC,EAAMpyC,QAAUnB,EAAGoB,QAAQwyC,4BAA8B5zC,EAAGoB,QAAQm8B,aACtEtG,EAAE4c,aAAatwC,MAAMQ,QAAU,QAC/BkzB,EAAE4c,aAAatwC,MAAM+nB,OAASioB,EAAMpyC,OAAS,KAC7C81B,EAAE4c,aAAatwC,MAAMw7B,MAAQ1X,EAAQ6W,YAAc,MAC5CjH,EAAE4c,aAAatwC,MAAMQ,QAAU,GApC1CmvC,GAAer1C,UAAUs0C,OAAS,WAAc,MAAO,CAAChxC,OAAQ,EAAG2J,MAAO,IAC1EooC,GAAer1C,UAAU2xC,cAAgB,aACzC0D,GAAer1C,UAAUgzC,aAAe,aACxCqC,GAAer1C,UAAU6E,MAAQ,aAoCjC,IAAIoxC,GAAiB,CAAC,OAAUlC,GAAkB,KAAQsB,IAE1D,SAASa,GAAe/zC,GAClBA,EAAG+D,QAAQktC,aACbjxC,EAAG+D,QAAQktC,WAAWvuC,QAClB1C,EAAG+D,QAAQktC,WAAWx9B,UACtBQ,EAAQjU,EAAG+D,QAAQC,QAAShE,EAAG+D,QAAQktC,WAAWx9B,WAGxDzT,EAAG+D,QAAQktC,WAAa,IAAI6C,GAAe9zC,EAAGoB,QAAQ4yC,iBAAgB,SAAUr3B,GAC9E3c,EAAG+D,QAAQC,QAAQ+4B,aAAapgB,EAAM3c,EAAG+D,QAAQ4vC,iBAEjDl/B,GAAGkI,EAAM,aAAa,WAChB3c,EAAGC,MAAM2sC,SAAWv3B,YAAW,WAAc,OAAOrV,EAAG+D,QAAQm2B,MAAM9lB,UAAY,MAEvFuI,EAAKW,aAAa,iBAAkB,WACnC,SAAUle,EAAK60C,GACJ,cAARA,EAAwBzE,GAAcxvC,EAAIZ,GACvCmwC,GAAgBvvC,EAAIZ,KAC1BY,GACCA,EAAG+D,QAAQktC,WAAWx9B,UACtBA,EAASzT,EAAG+D,QAAQC,QAAShE,EAAG+D,QAAQktC,WAAWx9B,UASzD,IAAIygC,GAAW,EAEf,SAASC,GAAen0C,GACtBA,EAAGkmB,MAAQ,CACTlmB,GAAIA,EACJgpC,aAAa,EACbqK,YAAarzC,EAAG2qB,IAAIW,OACpB4W,aAAa,EACbkS,YAAa,EACbC,QAAQ,EACRC,WAAY,KACZnuB,uBAAwB,KACxBwV,qBAAsB,EACtB4Y,kBAAkB,EAClBC,eAAe,EACf9P,WAAY,KAAMI,UAAW,KAC7BwL,YAAa,KACbl8B,OAAO,EACPsL,KAAMw0B,GACNO,WAAY,MAEdpZ,GAAcr7B,EAAGkmB,OAInB,SAASwuB,GAAa10C,GACpB,IAAIuyB,EAAKvyB,EAAGkmB,MACRqM,GAAMqJ,GAAgBrJ,GAAI,SAAUmJ,GACtC,IAAK,IAAIr/B,EAAI,EAAGA,EAAIq/B,EAAMJ,IAAIp/B,OAAQG,IAClCq/B,EAAMJ,IAAIj/B,GAAG2D,GAAGkmB,MAAQ,KAC5ByuB,GAAcjZ,MAMlB,SAASiZ,GAAcjZ,GAErB,IADA,IAAIJ,EAAMI,EAAMJ,IACPj/B,EAAI,EAAGA,EAAIi/B,EAAIp/B,OAAQG,IAC5Bu4C,GAAgBtZ,EAAIj/B,IACxB,IAAK,IAAIknB,EAAM,EAAGA,EAAM+X,EAAIp/B,OAAQqnB,IAChCsxB,GAAgBvZ,EAAI/X,IACxB,IAAK,IAAIC,EAAM,EAAGA,EAAM8X,EAAIp/B,OAAQsnB,IAChCsxB,GAAgBxZ,EAAI9X,IACxB,IAAK,IAAIE,EAAM,EAAGA,EAAM4X,EAAIp/B,OAAQwnB,IAChCqxB,GAAgBzZ,EAAI5X,IACxB,IAAK,IAAIG,EAAM,EAAGA,EAAMyX,EAAIp/B,OAAQ2nB,IAChCmxB,GAAoB1Z,EAAIzX,IAG9B,SAAS+wB,GAAgBriB,GACvB,IAAIvyB,EAAKuyB,EAAGvyB,GAAI+D,EAAU/D,EAAG+D,QAC7BkxC,GAAoBj1C,GAChBuyB,EAAGiiB,eAAiBxd,GAAYh3B,GAEpCuyB,EAAG2iB,WAAa3iB,EAAGyW,aAAezW,EAAG2P,aAA+B,MAAhB3P,EAAGuS,WACrDvS,EAAG+d,cAAgB/d,EAAG+d,YAAYnrC,KAAKvB,KAAOG,EAAQqsB,UACnCmC,EAAG+d,YAAY3sC,GAAGC,MAAQG,EAAQssB,SACrDtsB,EAAQqzB,gBAAkBp3B,EAAGoB,QAAQ+/B,aACvC5O,EAAG4f,OAAS5f,EAAG2iB,YACb,IAAIC,GAAcn1C,EAAIuyB,EAAG2iB,YAAc,CAAC/wC,IAAKouB,EAAGuS,UAAWyJ,OAAQhc,EAAG+d,aAAc/d,EAAG2P,aAG3F,SAAS2S,GAAgBtiB,GACvBA,EAAG6iB,eAAiB7iB,EAAG2iB,YAAcG,GAAsB9iB,EAAGvyB,GAAIuyB,EAAG4f,QAGvE,SAAS2C,GAAgBviB,GACvB,IAAIvyB,EAAKuyB,EAAGvyB,GAAI+D,EAAU/D,EAAG+D,QACzBwuB,EAAG6iB,gBAAkBxH,GAAwB5tC,GAEjDuyB,EAAG+iB,WAAajE,GAAqBrxC,GAKjC+D,EAAQqzB,iBAAmBp3B,EAAGoB,QAAQ+/B,eACxC5O,EAAGgjB,cAAgB5T,GAAY3hC,EAAI+D,EAAQmzB,QAASnzB,EAAQmzB,QAAQz2B,KAAKvE,QAAQ2O,KAAO,EACxF7K,EAAG+D,QAAQknC,WAAa1Y,EAAGgjB,cAC3BhjB,EAAG+iB,WAAWnE,YACZ10C,KAAKgB,IAAIsG,EAAQ48B,SAASnB,YAAaz7B,EAAQ47B,MAAMkI,WAAatV,EAAGgjB,cAAgB/U,GAAUxgC,GAAMA,EAAG+D,QAAQ68B,UAClHrO,EAAGijB,cAAgB/4C,KAAKgB,IAAI,EAAGsG,EAAQ47B,MAAMkI,WAAatV,EAAGgjB,cAAgB7U,GAAa1gC,MAGxFuyB,EAAG6iB,gBAAkB7iB,EAAGgiB,oBACxBhiB,EAAGkjB,kBAAoB1xC,EAAQm2B,MAAM6P,oBAG3C,SAASgL,GAAgBxiB,GACvB,IAAIvyB,EAAKuyB,EAAGvyB,GAEY,MAApBuyB,EAAGgjB,gBACLv1C,EAAG+D,QAAQ47B,MAAMp8B,MAAM2uC,SAAW3f,EAAGgjB,cAAgB,KACjDhjB,EAAGijB,cAAgBx1C,EAAG2qB,IAAI+Z,YAC1B8K,GAAcxvC,EAAIvD,KAAKe,IAAIwC,EAAG+D,QAAQ48B,SAAS+D,WAAYnS,EAAGijB,gBAAgB,GAClFx1C,EAAG+D,QAAQqzB,gBAAiB,GAG9B,IAAIse,EAAYnjB,EAAGne,OAASme,EAAGne,OAASqJ,IACpC8U,EAAGkjB,mBACHz1C,EAAG+D,QAAQm2B,MAAM4P,cAAcvX,EAAGkjB,kBAAmBC,IACrDnjB,EAAG6iB,gBAAkB7iB,EAAG8gB,aAAerzC,EAAG2qB,IAAIW,SAC9C6nB,GAAiBnzC,EAAIuyB,EAAG+iB,YACxB/iB,EAAG6iB,gBACHO,GAAkB31C,EAAIuyB,EAAG+iB,YAEzB/iB,EAAGgiB,kBAAoB5H,GAAa3sC,GAEpCA,EAAGC,MAAM2sC,SAAWra,EAAG6hB,aACvBp0C,EAAG+D,QAAQm2B,MAAM/7B,MAAMo0B,EAAG8hB,QAC1BqB,GAAarI,GAAY9a,EAAGvyB,IAGlC,SAASg1C,GAAoBziB,GAC3B,IAAIvyB,EAAKuyB,EAAGvyB,GAAI+D,EAAU/D,EAAG+D,QAAS4mB,EAAM3qB,EAAG2qB,IAa/C,GAXI4H,EAAG6iB,gBAAkBQ,GAAkB51C,EAAIuyB,EAAG4f,QAGvB,MAAvBpuC,EAAQ8xC,aAAwC,MAAhBtjB,EAAGuS,WAAsC,MAAjBvS,EAAGmS,aAAsBnS,EAAG+d,cACpFvsC,EAAQ8xC,YAAc9xC,EAAQ+xC,YAAc,MAG5B,MAAhBvjB,EAAGuS,WAAqB+L,GAAa7wC,EAAIuyB,EAAGuS,UAAWvS,EAAGwe,aAEzC,MAAjBxe,EAAGmS,YAAsB8K,GAAcxvC,EAAIuyB,EAAGmS,YAAY,GAAM,GAEhEnS,EAAG+d,YAAa,CAClB,IAAIrP,EAAO6N,GAAkB9uC,EAAIwsB,GAAQ7B,EAAK4H,EAAG+d,YAAYnrC,MAChCqnB,GAAQ7B,EAAK4H,EAAG+d,YAAY3sC,IAAK4uB,EAAG+d,YAAYvB,QAC7EL,GAAkB1uC,EAAIihC,GAKxB,IAAIjG,EAASzI,EAAGwjB,mBAAoBC,EAAWzjB,EAAG0jB,qBAClD,GAAIjb,EAAU,IAAK,IAAI3+B,EAAI,EAAGA,EAAI2+B,EAAO9+B,SAAUG,EAC1C2+B,EAAO3+B,GAAG0uB,MAAM7uB,QAAUupB,GAAOuV,EAAO3+B,GAAI,QACrD,GAAI25C,EAAY,IAAK,IAAIzyB,EAAM,EAAGA,EAAMyyB,EAAS95C,SAAUqnB,EACnDyyB,EAASzyB,GAAKwH,MAAM7uB,QAAUupB,GAAOuwB,EAASzyB,GAAM,UAExDxf,EAAQC,QAAQsjB,eAChBqD,EAAIma,UAAY9kC,EAAG+D,QAAQ48B,SAASmE,WAGpCvS,EAAG+hB,YACH7uB,GAAOzlB,EAAI,UAAWA,EAAIuyB,EAAG+hB,YAC7B/hB,EAAG4f,QACH5f,EAAG4f,OAAO+D,SAIhB,SAASC,GAAQn2C,EAAIuB,GACnB,GAAIvB,EAAGkmB,MAAS,OAAO3kB,IACvB4yC,GAAen0C,GACf,IAAM,OAAOuB,IACb,QAAUmzC,GAAa10C,IAGzB,SAAS2E,GAAU3E,EAAIuB,GACrB,OAAO,WACL,GAAIvB,EAAGkmB,MAAS,OAAO3kB,EAAEqd,MAAM5e,EAAI4F,WACnCuuC,GAAen0C,GACf,IAAM,OAAOuB,EAAEqd,MAAM5e,EAAI4F,WACzB,QAAU8uC,GAAa10C,KAK3B,SAASo2C,GAAS70C,GAChB,OAAO,WACL,GAAIjE,KAAK4oB,MAAS,OAAO3kB,EAAEqd,MAAMthB,KAAMsI,WACvCuuC,GAAe72C,MACf,IAAM,OAAOiE,EAAEqd,MAAMthB,KAAMsI,WAC3B,QAAU8uC,GAAap3C,QAG3B,SAAS+4C,GAAY90C,GACnB,OAAO,WACL,IAAIvB,EAAK1C,KAAK0C,GACd,IAAKA,GAAMA,EAAGkmB,MAAS,OAAO3kB,EAAEqd,MAAMthB,KAAMsI,WAC5CuuC,GAAen0C,GACf,IAAM,OAAOuB,EAAEqd,MAAMthB,KAAMsI,WAC3B,QAAU8uC,GAAa10C,KAM3B,SAAS8wC,GAAY9wC,EAAI2f,GACnB3f,EAAG2qB,IAAIkF,kBAAoB7vB,EAAG+D,QAAQssB,QACtCrwB,EAAGC,MAAMq2C,UAAUx2B,IAAIH,EAAMnQ,EAAK+mC,GAAiBv2C,IAGzD,SAASu2C,GAAgBv2C,GACvB,IAAI2qB,EAAM3qB,EAAG2qB,IACb,KAAIA,EAAIkF,mBAAqB7vB,EAAG+D,QAAQssB,QAAxC,CACA,IAAI3d,GAAO,IAAIzV,KAAO+C,EAAGoB,QAAQo1C,SAC7BloB,EAAUiB,GAAiBvvB,EAAI2qB,EAAIkF,mBACnC4mB,EAAe,GAEnB9rB,EAAI3d,KAAKshB,EAAQ1qB,KAAMnH,KAAKe,IAAImtB,EAAIC,MAAQD,EAAIE,KAAM7qB,EAAG+D,QAAQssB,OAAS,MAAM,SAAUzsB,GACxF,GAAI0qB,EAAQ1qB,MAAQ5D,EAAG+D,QAAQqsB,SAAU,CACvC,IAAIsmB,EAAY9yC,EAAKqrB,OACjBO,EAAa5rB,EAAKnD,KAAKvE,OAAS8D,EAAGoB,QAAQquB,mBAAqB3F,GAAUa,EAAIhiB,KAAM2lB,EAAQruB,OAAS,KACrG02C,EAActoB,GAAcruB,EAAI4D,EAAM0qB,GAAS,GAC/CkB,IAAclB,EAAQruB,MAAQuvB,GAClC5rB,EAAKqrB,OAAS0nB,EAAY1nB,OAC1B,IAAI2nB,EAAShzC,EAAKgsB,aAAcinB,EAASF,EAAYznB,QACjD2nB,EAAUjzC,EAAKgsB,aAAeinB,EACzBD,IAAUhzC,EAAKgsB,aAAe,MAGvC,IAFA,IAAIknB,GAAYJ,GAAaA,EAAUx6C,QAAU0H,EAAKqrB,OAAO/yB,QAC3D06C,GAAUC,KAAYD,IAAWC,GAAUD,EAAOznB,SAAW0nB,EAAO1nB,SAAWynB,EAAOxnB,WAAaynB,EAAOznB,WACnG/yB,EAAI,GAAIy6C,GAAYz6C,EAAIq6C,EAAUx6C,SAAUG,EAAKy6C,EAAWJ,EAAUr6C,IAAMuH,EAAKqrB,OAAO5yB,GAC7Fy6C,GAAYL,EAAa1sC,KAAKukB,EAAQ1qB,MAC1CA,EAAK8rB,WAAapB,EAAQqB,OAC1BrB,EAAQgC,gBAEJ1sB,EAAKnD,KAAKvE,QAAU8D,EAAGoB,QAAQquB,oBAC/BU,GAAYnwB,EAAI4D,EAAKnD,KAAM6tB,GAC/B1qB,EAAK8rB,WAAapB,EAAQ1qB,KAAO,GAAK,EAAI0qB,EAAQqB,OAAS,KAC3DrB,EAAQgC,WAEV,IAAK,IAAIrzB,KAAOyV,EAEd,OADAo+B,GAAY9wC,EAAIA,EAAGoB,QAAQ21C,YACpB,KAGXpsB,EAAIkF,kBAAoBvB,EAAQ1qB,KAChC+mB,EAAImF,aAAerzB,KAAKgB,IAAIktB,EAAImF,aAAcxB,EAAQ1qB,MAClD6yC,EAAav6C,QAAUi6C,GAAQn2C,GAAI,WACrC,IAAK,IAAI3D,EAAI,EAAGA,EAAIo6C,EAAav6C,OAAQG,IACrCktC,GAAcvpC,EAAIy2C,EAAap6C,GAAI,YAM3C,IAAI84C,GAAgB,SAASn1C,EAAIsuC,EAAU0I,GACzC,IAAIjzC,EAAU/D,EAAG+D,QAEjBzG,KAAKgxC,SAAWA,EAEhBhxC,KAAK25C,QAAU5I,GAAatqC,EAAS/D,EAAG2qB,IAAK2jB,GAC7ChxC,KAAK45C,gBAAkBnzC,EAAQC,QAAQujB,YACvCjqB,KAAK65C,cAAgBpzC,EAAQC,QAAQ88B,aACrCxjC,KAAK0hC,aAAej7B,EAAQC,QAAQw7B,YACpCliC,KAAK85C,gBAAkB1W,GAAa1gC,GACpC1C,KAAK05C,MAAQA,EACb15C,KAAK8+B,KAAO6F,GAAcjiC,GAC1B1C,KAAK+5C,OAAS,IAYhB,SAASpC,GAAoBj1C,GAC3B,IAAI+D,EAAU/D,EAAG+D,SACZA,EAAQuzC,mBAAqBvzC,EAAQ48B,SAASpZ,cACjDxjB,EAAQ08B,eAAiB18B,EAAQ48B,SAASpZ,YAAcxjB,EAAQ48B,SAASnB,YACzEz7B,EAAQ0vC,aAAalwC,MAAM+nB,OAASkV,GAAUxgC,GAAM,KACpD+D,EAAQ47B,MAAMp8B,MAAMg0C,cAAgBxzC,EAAQ08B,eAAiB,KAC7D18B,EAAQ47B,MAAMp8B,MAAMi0C,iBAAmBhX,GAAUxgC,GAAM,KACvD+D,EAAQuzC,mBAAoB,GAIhC,SAASG,GAAkBz3C,GACzB,GAAIA,EAAGmtC,WAAc,OAAO,KAC5B,IAAIuK,EAASj6B,IACb,IAAKi6B,IAAWn6B,EAASvd,EAAG+D,QAAQ+pC,QAAS4J,GAAW,OAAO,KAC/D,IAAI7qC,EAAS,CAAC4Q,UAAWi6B,GACzB,GAAIxkC,OAAOjQ,aAAc,CACvB,IAAIkH,EAAM+I,OAAOjQ,eACbkH,EAAIwtC,YAAcxtC,EAAIytC,QAAUr6B,EAASvd,EAAG+D,QAAQ+pC,QAAS3jC,EAAIwtC,cACnE9qC,EAAO8qC,WAAaxtC,EAAIwtC,WACxB9qC,EAAOgrC,aAAe1tC,EAAI0tC,aAC1BhrC,EAAOirC,UAAY3tC,EAAI2tC,UACvBjrC,EAAOkrC,YAAc5tC,EAAI4tC,aAG7B,OAAOlrC,EAGT,SAASmrC,GAAiBC,GACxB,GAAKA,GAAaA,EAASx6B,WAAaw6B,EAASx6B,WAAaA,MAC9Dw6B,EAASx6B,UAAUrJ,SACd,qBAAqBjS,KAAK81C,EAASx6B,UAAUy6B,WAC9CD,EAASN,YAAcp6B,EAAS1Z,SAAS8Z,KAAMs6B,EAASN,aAAep6B,EAAS1Z,SAAS8Z,KAAMs6B,EAASH,YAAY,CACtH,IAAI3tC,EAAM+I,OAAOjQ,eAAgB6G,EAAQjG,SAASma,cAClDlU,EAAMqU,OAAO85B,EAASN,WAAYM,EAASJ,cAC3C/tC,EAAMyU,UAAS,GACfpU,EAAIguC,kBACJhuC,EAAIiuC,SAAStuC,GACbK,EAAIytC,OAAOK,EAASH,UAAWG,EAASF,cAO5C,SAAS1C,GAAsBr1C,EAAImyC,GACjC,IAAIpuC,EAAU/D,EAAG+D,QAAS4mB,EAAM3qB,EAAG2qB,IAEnC,GAAIwnB,EAAO+E,eAET,OADAjO,GAAUjpC,IACH,EAIT,IAAKmyC,EAAO6E,OACR7E,EAAO8E,QAAQ9xC,MAAQpB,EAAQqsB,UAAY+hB,EAAO8E,QAAQtzC,IAAMI,EAAQssB,SAC1C,MAA7BtsB,EAAQglC,mBAA6BhlC,EAAQglC,mBAAqBhlC,EAAQssB,SAC3EtsB,EAAQs0C,cAAgBt0C,EAAQo3B,MAA8B,GAAtBwO,GAAe3pC,GACvD,OAAO,EAEPs4C,GAA2Bt4C,KAC7BipC,GAAUjpC,GACVmyC,EAAO/V,KAAO6F,GAAcjiC,IAI9B,IAAI0S,EAAMiY,EAAIC,MAAQD,EAAIE,KACtB1lB,EAAO1I,KAAKgB,IAAI00C,EAAO8E,QAAQ9xC,KAAOnF,EAAGoB,QAAQm3C,eAAgB5tB,EAAIC,OACrEjnB,EAAKlH,KAAKe,IAAIkV,EAAKy/B,EAAO8E,QAAQtzC,GAAK3D,EAAGoB,QAAQm3C,gBAClDx0C,EAAQqsB,SAAWjrB,GAAQA,EAAOpB,EAAQqsB,SAAW,KAAMjrB,EAAO1I,KAAKgB,IAAIktB,EAAIC,MAAO7mB,EAAQqsB,WAC9FrsB,EAAQssB,OAAS1sB,GAAMI,EAAQssB,OAAS1sB,EAAK,KAAMA,EAAKlH,KAAKe,IAAIkV,EAAK3O,EAAQssB,SAC9EwB,KACF1sB,EAAOmxB,GAAat2B,EAAG2qB,IAAKxlB,GAC5BxB,EAAK8yB,GAAgBz2B,EAAG2qB,IAAKhnB,IAG/B,IAAI60C,EAAYrzC,GAAQpB,EAAQqsB,UAAYzsB,GAAMI,EAAQssB,QACxDtsB,EAAQ00C,gBAAkBtG,EAAOgF,eAAiBpzC,EAAQ20C,eAAiBvG,EAAOnT,aACpF0K,GAAW1pC,EAAImF,EAAMxB,GAErBI,EAAQohC,WAAatO,GAAanM,GAAQ1qB,EAAG2qB,IAAK5mB,EAAQqsB,WAE1DpwB,EAAG+D,QAAQ67B,MAAMr8B,MAAMY,IAAMJ,EAAQohC,WAAa,KAElD,IAAIwT,EAAWhP,GAAe3pC,GAC9B,IAAKw4C,GAAyB,GAAZG,IAAkBxG,EAAO6E,OAASjzC,EAAQs0C,cAAgBt0C,EAAQo3B,OAClD,MAA7Bp3B,EAAQglC,mBAA6BhlC,EAAQglC,mBAAqBhlC,EAAQssB,QAC3E,OAAO,EAIX,IAAIuoB,EAAcnB,GAAkBz3C,GAuBpC,OAtBI24C,EAAW,IAAK50C,EAAQ+pC,QAAQvqC,MAAMQ,QAAU,QACpD80C,GAAa74C,EAAI+D,EAAQglC,kBAAmBoJ,EAAO/V,MAC/Cuc,EAAW,IAAK50C,EAAQ+pC,QAAQvqC,MAAMQ,QAAU,IACpDA,EAAQs0C,aAAet0C,EAAQo3B,KAG/B6c,GAAiBY,GAIjB97B,EAAe/Y,EAAQgpC,WACvBjwB,EAAe/Y,EAAQ+0C,cACvB/0C,EAAQw7B,QAAQh8B,MAAM+nB,OAASvnB,EAAQ47B,MAAMp8B,MAAM0uC,UAAY,EAE3DuG,IACFz0C,EAAQ00C,eAAiBtG,EAAOgF,cAChCpzC,EAAQ20C,cAAgBvG,EAAOnT,aAC/B8R,GAAY9wC,EAAI,MAGlB+D,EAAQglC,kBAAoB,MAErB,EAGT,SAAS6M,GAAkB51C,EAAImyC,GAG7B,IAFA,IAAI7D,EAAW6D,EAAO7D,SAEb1jB,GAAQ,GAAOA,GAAQ,EAAO,CACrC,GAAKA,GAAU5qB,EAAGoB,QAAQ+/B,cAAgBgR,EAAOiF,iBAAmB1W,GAAa1gC,GAStE4qB,IACTunB,EAAO8E,QAAU5I,GAAaruC,EAAG+D,QAAS/D,EAAG2qB,IAAK2jB,SAHlD,GALIA,GAA4B,MAAhBA,EAASnqC,MACrBmqC,EAAW,CAACnqC,IAAK1H,KAAKe,IAAIwC,EAAG2qB,IAAIW,OAAS0U,GAAYhgC,EAAG+D,SAAW88B,GAAc7gC,GAAKsuC,EAASnqC,OAGpGguC,EAAO8E,QAAU5I,GAAaruC,EAAG+D,QAAS/D,EAAG2qB,IAAK2jB,GAC9C6D,EAAO8E,QAAQ9xC,MAAQnF,EAAG+D,QAAQqsB,UAAY+hB,EAAO8E,QAAQtzC,IAAM3D,EAAG+D,QAAQssB,OAC9E,MAIN,IAAKglB,GAAsBr1C,EAAImyC,GAAW,MAC1CvE,GAAwB5tC,GACxB,IAAIs1C,EAAajE,GAAqBrxC,GACtC6pC,GAAgB7pC,GAChBmzC,GAAiBnzC,EAAIs1C,GACrBK,GAAkB31C,EAAIs1C,GACtBnD,EAAO6E,OAAQ,EAGjB7E,EAAO1sB,OAAOzlB,EAAI,SAAUA,GACxBA,EAAG+D,QAAQqsB,UAAYpwB,EAAG+D,QAAQg1C,kBAAoB/4C,EAAG+D,QAAQssB,QAAUrwB,EAAG+D,QAAQi1C,iBACxF7G,EAAO1sB,OAAOzlB,EAAI,iBAAkBA,EAAIA,EAAG+D,QAAQqsB,SAAUpwB,EAAG+D,QAAQssB,QACxErwB,EAAG+D,QAAQg1C,iBAAmB/4C,EAAG+D,QAAQqsB,SAAUpwB,EAAG+D,QAAQi1C,eAAiBh5C,EAAG+D,QAAQssB,QAI9F,SAASugB,GAAoB5wC,EAAIsuC,GAC/B,IAAI6D,EAAS,IAAIgD,GAAcn1C,EAAIsuC,GACnC,GAAI+G,GAAsBr1C,EAAImyC,GAAS,CACrCvE,GAAwB5tC,GACxB41C,GAAkB51C,EAAImyC,GACtB,IAAImD,EAAajE,GAAqBrxC,GACtC6pC,GAAgB7pC,GAChBmzC,GAAiBnzC,EAAIs1C,GACrBK,GAAkB31C,EAAIs1C,GACtBnD,EAAO+D,UAQX,SAAS2C,GAAa74C,EAAIi5C,EAAmB7c,GAC3C,IAAIr4B,EAAU/D,EAAG+D,QAAS45B,EAAc39B,EAAGoB,QAAQu8B,YAC/Cub,EAAYn1C,EAAQ+pC,QAAS1kC,EAAM8vC,EAAUl8B,WAEjD,SAASm8B,EAAGx8B,GACV,IAAIlS,EAAOkS,EAAK0hB,YAMhB,OAJI9iB,GAAUY,GAAOnc,EAAG+D,QAAQq1C,oBAAsBz8B,EAClDA,EAAKpZ,MAAMQ,QAAU,OAErB4Y,EAAKzI,WAAWC,YAAYwI,GACzBlS,EAMT,IAHA,IAAI0wB,EAAOp3B,EAAQo3B,KAAM5E,EAAQxyB,EAAQqsB,SAGhC/zB,EAAI,EAAGA,EAAI8+B,EAAKj/B,OAAQG,IAAK,CACpC,IAAI07B,EAAWoD,EAAK9+B,GACpB,GAAI07B,EAASiD,aAAe,GAAKjD,EAASpb,MAAQob,EAASpb,KAAKzI,YAAcglC,EAGvE,CACL,MAAO9vC,GAAO2uB,EAASpb,KAAQvT,EAAM+vC,EAAG/vC,GACxC,IAAIiwC,EAAe1b,GAAoC,MAArBsb,GAChCA,GAAqB1iB,GAASwB,EAAS+F,WACrC/F,EAASsE,UACPp6B,EAAQ81B,EAASsE,QAAS,WAAa,IAAKgd,GAAe,GAC/Dld,GAAqBn8B,EAAI+3B,EAAUxB,EAAO6F,IAExCid,IACFv8B,EAAeib,EAAS+F,YACxB/F,EAAS+F,WAAWh4B,YAAYjC,SAASkC,eAAegmB,GAAc/rB,EAAGoB,QAASm1B,MAEpFntB,EAAM2uB,EAASpb,KAAK0hB,gBAfmE,CACvF,IAAI1hB,EAAO4hB,GAAiBv+B,EAAI+3B,EAAUxB,EAAO6F,GACjD8c,EAAUnc,aAAapgB,EAAMvT,GAe/BmtB,GAASwB,EAASlN,KAEpB,MAAOzhB,EAAOA,EAAM+vC,EAAG/vC,GAGzB,SAASkwC,GAAkBv1C,GACzB,IAAIg7B,EAAQh7B,EAAQw7B,QAAQhY,YAC5BxjB,EAAQ47B,MAAMp8B,MAAM67B,WAAaL,EAAQ,KAEzChD,GAAYh4B,EAAS,gBAAiBA,GAGxC,SAAS4xC,GAAkB31C,EAAIqnB,GAC7BrnB,EAAG+D,QAAQ47B,MAAMp8B,MAAM0uC,UAAY5qB,EAAQsqB,UAAY,KACvD3xC,EAAG+D,QAAQ0vC,aAAalwC,MAAMY,IAAMkjB,EAAQsqB,UAAY,KACxD3xC,EAAG+D,QAAQw7B,QAAQh8B,MAAM+nB,OAAUjE,EAAQsqB,UAAY3xC,EAAG+D,QAAQg9B,UAAYP,GAAUxgC,GAAO,KAKjG,SAASoxC,GAAkBpxC,GACzB,IAAI+D,EAAU/D,EAAG+D,QAASo3B,EAAOp3B,EAAQo3B,KACzC,GAAKp3B,EAAQw1C,cAAkBx1C,EAAQw7B,QAAQviB,YAAehd,EAAGoB,QAAQm8B,YAAzE,CAGA,IAFA,IAAIic,EAAO1R,GAAqB/jC,GAAWA,EAAQ48B,SAAS+D,WAAa1kC,EAAG2qB,IAAI+Z,WAC5E4M,EAAUvtC,EAAQw7B,QAAQhY,YAAa1c,EAAO2uC,EAAO,KAChDn9C,EAAI,EAAGA,EAAI8+B,EAAKj/B,OAAQG,IAAO,IAAK8+B,EAAK9+B,GAAG2+B,OAAQ,CACvDh7B,EAAGoB,QAAQm8B,cACTpC,EAAK9+B,GAAG+gC,SACRjC,EAAK9+B,GAAG+gC,OAAO75B,MAAMsH,KAAOA,GAC5BswB,EAAK9+B,GAAGghC,mBACRlC,EAAK9+B,GAAGghC,iBAAiB95B,MAAMsH,KAAOA,IAE5C,IAAI4uC,EAAQte,EAAK9+B,GAAG8hC,UACpB,GAAIsb,EAAS,IAAK,IAAIjsC,EAAI,EAAGA,EAAIisC,EAAMv9C,OAAQsR,IAC3CisC,EAAMjsC,GAAGjK,MAAMsH,KAAOA,EAExB7K,EAAGoB,QAAQm8B,cACXx5B,EAAQw7B,QAAQh8B,MAAMsH,KAAQ2uC,EAAOlI,EAAW,OAMtD,SAASgH,GAA2Bt4C,GAClC,IAAKA,EAAGoB,QAAQu8B,YAAe,OAAO,EACtC,IAAIhT,EAAM3qB,EAAG2qB,IAAK8B,EAAOV,GAAc/rB,EAAGoB,QAASupB,EAAIC,MAAQD,EAAIE,KAAO,GAAI9mB,EAAU/D,EAAG+D,QAC3F,GAAI0oB,EAAKvwB,QAAU6H,EAAQugC,aAAc,CACvC,IAAIniC,EAAO4B,EAAQsjB,QAAQvhB,YAAYqX,EAAI,MAAO,CAACA,EAAI,MAAOsP,IACnB,gDACvCitB,EAASv3C,EAAK6a,WAAWuK,YAAaujB,EAAU3oC,EAAKolB,YAAcmyB,EAOvE,OANA31C,EAAQ41C,WAAWp2C,MAAMw7B,MAAQ,GACjCh7B,EAAQ61C,kBAAoBn9C,KAAKgB,IAAIi8C,EAAQ31C,EAAQ41C,WAAWpyB,YAAcujB,GAAW,EACzF/mC,EAAQ81C,aAAe91C,EAAQ61C,kBAAoB9O,EACnD/mC,EAAQugC,aAAevgC,EAAQ61C,kBAAoBntB,EAAKvwB,QAAU,EAClE6H,EAAQ41C,WAAWp2C,MAAMw7B,MAAQh7B,EAAQ81C,aAAe,KACxDP,GAAkBt5C,EAAG+D,UACd,EAET,OAAO,EAGT,SAAS+1C,GAAWva,EAAS5B,GAE3B,IADA,IAAI9wB,EAAS,GAAIktC,GAAiB,EACzB19C,EAAI,EAAGA,EAAIkjC,EAAQrjC,OAAQG,IAAK,CACvC,IAAIqL,EAAO63B,EAAQljC,GAAIkH,EAAQ,KAE/B,GADmB,iBAARmE,IAAoBnE,EAAQmE,EAAKnE,MAAOmE,EAAOA,EAAK1B,WACnD,0BAAR0B,EAAkC,CACpC,IAAKi2B,EAAe,SACboc,GAAiB,EAE1BltC,EAAO9C,KAAK,CAAC/D,UAAW0B,EAAMnE,MAAOA,IAGvC,OADIo6B,IAAgBoc,GAAkBltC,EAAO9C,KAAK,CAAC/D,UAAW,yBAA0BzC,MAAO,OACxFsJ,EAKT,SAASmtC,GAAcj2C,GACrB,IAAIw7B,EAAUx7B,EAAQw7B,QAAS0a,EAAQl2C,EAAQk6B,YAC/CnhB,EAAeyiB,GACfx7B,EAAQ41C,WAAa,KACrB,IAAK,IAAIt9C,EAAI,EAAGA,EAAI49C,EAAM/9C,SAAUG,EAAG,CACrC,IAAIkrC,EAAM0S,EAAM59C,GACZ2J,EAAYuhC,EAAIvhC,UAChBzC,EAAQgkC,EAAIhkC,MACZ22C,EAAO3a,EAAQz5B,YAAYqX,EAAI,MAAO,KAAM,qBAAuBnX,IACnEzC,IAAS22C,EAAK32C,MAAM6Z,QAAU7Z,GACjB,0BAAbyC,IACFjC,EAAQ41C,WAAaO,EACrBA,EAAK32C,MAAMw7B,OAASh7B,EAAQ81C,cAAgB,GAAK,MAGrDta,EAAQh8B,MAAMQ,QAAUk2C,EAAM/9C,OAAS,GAAK,OAC5Co9C,GAAkBv1C,GAGpB,SAASo2C,GAAcn6C,GACrBg6C,GAAch6C,EAAG+D,SACjB8kC,GAAU7oC,GACVoxC,GAAkBpxC,GAOpB,SAASo6C,GAAQlX,EAAOvY,EAAKuP,EAAO94B,GAClC,IAAI61B,EAAI35B,KACRA,KAAK48B,MAAQA,EAGbjD,EAAE0c,gBAAkBx2B,EAAI,MAAO,KAAM,+BACrC8Z,EAAE0c,gBAAgBr2B,aAAa,iBAAkB,QAGjD2Z,EAAE4c,aAAe12B,EAAI,MAAO,KAAM,4BAClC8Z,EAAE4c,aAAav2B,aAAa,iBAAkB,QAE9C2Z,EAAE6W,QAAUzwB,EAAK,MAAO,KAAM,mBAE9B4Z,EAAE6hB,aAAe37B,EAAI,MAAO,KAAM,KAAM,kCACxC8Z,EAAE8V,UAAY5vB,EAAI,MAAO,KAAM,sBAE/B8Z,EAAE5P,QAAUlK,EAAI,MAAO,KAAM,sBAE7B8Z,EAAEyK,YAAcvkB,EAAI,MAAO,KAAM,sBAEjC8Z,EAAE6I,UAAYziB,EAAK,MAAO,CAAC4Z,EAAE5P,QAAS4P,EAAEyK,YAAazK,EAAE6hB,aAAc7hB,EAAE8V,UAAW9V,EAAE6W,SAClE,KAAM,qCACxB,IAAI/iB,EAAQ1N,EAAK,MAAO,CAAC4Z,EAAE6I,WAAY,oBAEvC7I,EAAE2I,MAAQziB,EAAI,MAAO,CAAC4N,GAAQ,KAAM,sBAEpCkM,EAAE0I,MAAQxiB,EAAI,MAAO,CAAC8Z,EAAE2I,OAAQ,oBAChC3I,EAAEgU,WAAa,KAIfhU,EAAEwc,aAAet2B,EAAI,MAAO,KAAM,KAAM,+BAAiC4C,EAAc,mBAEvFkX,EAAEsI,QAAUpiB,EAAI,MAAO,KAAM,sBAC7B8Z,EAAE0iB,WAAa,KAEf1iB,EAAE0J,SAAWxjB,EAAI,MAAO,CAAC8Z,EAAE0I,MAAO1I,EAAEwc,aAAcxc,EAAEsI,SAAU,qBAC9DtI,EAAE0J,SAASrjB,aAAa,WAAY,MAEpC2Z,EAAEjzB,QAAUmZ,EAAI,MAAO,CAAC8Z,EAAE0c,gBAAiB1c,EAAE4c,aAAc5c,EAAE0J,UAAW,cAIxE1J,EAAEjzB,QAAQsZ,aAAa,YAAa,MAGhClC,GAAMC,EAAa,IAAK4b,EAAEsI,QAAQh8B,MAAMq5B,QAAU,EAAG3F,EAAE0J,SAASp9B,MAAM+8B,aAAe,GACpF/kB,GAAYP,GAASkB,IAAW+a,EAAE0J,SAAS0Z,WAAY,GAExDnX,IACEA,EAAMp9B,YAAeo9B,EAAMp9B,YAAYmxB,EAAEjzB,SACtCk/B,EAAMjM,EAAEjzB,UAIjBizB,EAAE7G,SAAW6G,EAAE5G,OAAS1F,EAAIC,MAC5BqM,EAAE8hB,iBAAmB9hB,EAAE+hB,eAAiBruB,EAAIC,MAE5CqM,EAAEkE,KAAO,GACTlE,EAAEohB,aAAe,KAGjBphB,EAAEwB,iBAAmB,KAErBxB,EAAEkO,WAAa,EACflO,EAAEwhB,eAAiBxhB,EAAEyhB,cAAgB,EACrCzhB,EAAE8R,kBAAoB,KAEtB9R,EAAEwJ,eAAiBxJ,EAAE8J,UAAY9J,EAAE2J,SAAW,EAC9C3J,EAAEqgB,mBAAoB,EAItBrgB,EAAE4iB,aAAe5iB,EAAE2iB,kBAAoB3iB,EAAEqN,aAAe,KAIxDrN,EAAEsiB,cAAe,EAEjBtiB,EAAEmN,gBAAkBnN,EAAEoN,iBAAmBpN,EAAEiJ,eAAiB,KAI5DjJ,EAAEC,QAAU,KACZD,EAAEE,cAAgB,EAClBF,EAAEG,gBAAiB,EAGnBH,EAAEqjB,QAAUrjB,EAAEsjB,QAAUtjB,EAAE4e,YAAc5e,EAAE6e,YAAc,KAGxD7e,EAAEtqB,OAAQ,EAIVsqB,EAAEyW,kBAAoB,KAEtBzW,EAAEujB,YAAc,KAEhBvjB,EAAEgH,YAAc6b,GAAW14C,EAAQm+B,QAASn+B,EAAQu8B,aACpDqc,GAAc/iB,GAEdiD,EAAM7gB,KAAK4d,GArabke,GAAct3C,UAAU4nB,OAAS,SAAUT,EAAS9e,GAC9CkgB,GAAWpB,EAAS9e,IACpB5I,KAAK+5C,OAAOttC,KAAKnE,YAEvBuvC,GAAct3C,UAAUq4C,OAAS,WAC/B,IAAK,IAAI75C,EAAI,EAAGA,EAAIiB,KAAK+5C,OAAOn7C,OAAQG,IACpCopB,GAAO7G,MAAM,KAAMthB,KAAK+5C,OAAOh7C,KA6arC,IAAIo+C,GAAe,EAAGC,GAAqB,KAU3C,SAASC,GAAgBz4C,GACvB,IAAI04C,EAAK14C,EAAE24C,YAAaC,EAAK54C,EAAE64C,YAI/B,OAHU,MAANH,GAAc14C,EAAE84C,QAAU94C,EAAE+xC,MAAQ/xC,EAAE+4C,kBAAmBL,EAAK14C,EAAE84C,QAC1D,MAANF,GAAc54C,EAAE84C,QAAU94C,EAAE+xC,MAAQ/xC,EAAEg5C,cAAiBJ,EAAK54C,EAAE84C,OACnD,MAANF,IAAcA,EAAK54C,EAAEi5C,YACvB,CAACrtC,EAAG8sC,EAAI7sC,EAAG+sC,GAEpB,SAASM,GAAiBl5C,GACxB,IAAI+K,EAAQ0tC,GAAgBz4C,GAG5B,OAFA+K,EAAMa,GAAK4sC,GACXztC,EAAMc,GAAK2sC,GACJztC,EAGT,SAASouC,GAAcr7C,EAAIkC,GACzB,IAAI+K,EAAQ0tC,GAAgBz4C,GAAI04C,EAAK3tC,EAAMa,EAAGgtC,EAAK7tC,EAAMc,EACrDutC,EAAgBZ,GACA,IAAhBx4C,EAAEq5C,YACJX,EAAK14C,EAAEs5C,OACPV,EAAK54C,EAAEu5C,OACPH,EAAgB,GAGlB,IAAIv3C,EAAU/D,EAAG+D,QAASkc,EAASlc,EAAQ48B,SAEvC+a,EAAaz7B,EAAOkxB,YAAclxB,EAAOuf,YACzCmc,EAAa17B,EAAO+wB,aAAe/wB,EAAO6gB,aAC9C,GAAM8Z,GAAMc,GAAcZ,GAAMa,EAAhC,CAMA,GAAIb,GAAM3+B,GAAOZ,EACfqQ,EAAO,IAAK,IAAIxiB,EAAMlH,EAAEuT,OAAQ0lB,EAAOp3B,EAAQo3B,KAAM/xB,GAAO6W,EAAQ7W,EAAMA,EAAI8K,WAC5E,IAAK,IAAI7X,EAAI,EAAGA,EAAI8+B,EAAKj/B,OAAQG,IAC/B,GAAI8+B,EAAK9+B,GAAGsgB,MAAQvT,EAAK,CACvBpJ,EAAG+D,QAAQq1C,mBAAqBhwC,EAChC,MAAMwiB,EAYd,GAAIgvB,IAAO5/B,IAAUU,GAA2B,MAAjB4/B,EAW7B,OAVIR,GAAMa,GACNpM,GAAgBvvC,EAAIvD,KAAKgB,IAAI,EAAGwiB,EAAO6kB,UAAYgW,EAAKQ,IAC5D9L,GAAcxvC,EAAIvD,KAAKgB,IAAI,EAAGwiB,EAAOykB,WAAakW,EAAKU,MAKlDR,GAAOA,GAAMa,IACdvmC,GAAiBlT,QACrB6B,EAAQ8xC,YAAc,MAMxB,GAAIiF,GAAuB,MAAjBQ,EAAuB,CAC/B,IAAIM,EAASd,EAAKQ,EACdn3C,EAAMnE,EAAG2qB,IAAIma,UAAWvB,EAAMp/B,EAAMJ,EAAQC,QAAQ88B,aACpD8a,EAAS,EAAKz3C,EAAM1H,KAAKgB,IAAI,EAAG0G,EAAMy3C,EAAS,IAC5CrY,EAAM9mC,KAAKe,IAAIwC,EAAG2qB,IAAIW,OAAQiY,EAAMqY,EAAS,IACpDhL,GAAoB5wC,EAAI,CAACmE,IAAKA,EAAKhD,OAAQoiC,IAGzCkX,GAAe,IAAsB,IAAhBv4C,EAAEq5C,YACE,MAAvBx3C,EAAQ8xC,aACV9xC,EAAQ8xC,YAAc51B,EAAOykB,WAAY3gC,EAAQ+xC,YAAc71B,EAAO6kB,UACtE/gC,EAAQu2C,QAAUM,EAAI72C,EAAQw2C,QAAUO,EACxCzlC,YAAW,WACT,GAA2B,MAAvBtR,EAAQ8xC,YAAZ,CACA,IAAIgG,EAAS57B,EAAOykB,WAAa3gC,EAAQ8xC,YACrCiG,EAAS77B,EAAO6kB,UAAY/gC,EAAQ+xC,YACpCiG,EAAUD,GAAU/3C,EAAQw2C,SAAWuB,EAAS/3C,EAAQw2C,SACzDsB,GAAU93C,EAAQu2C,SAAWuB,EAAS93C,EAAQu2C,QACjDv2C,EAAQ8xC,YAAc9xC,EAAQ+xC,YAAc,KACvCiG,IACLrB,IAAsBA,GAAqBD,GAAesB,IAAWtB,GAAe,KAClFA,OACD,OAEH12C,EAAQu2C,SAAWM,EAAI72C,EAAQw2C,SAAWO,KA/F5C1/B,EAAMs/B,IAAsB,IACvB1/B,EAAS0/B,GAAqB,GAC9Bj/B,EAAUi/B,IAAsB,GAChC/+B,IAAU++B,IAAsB,EAAE,GAsG3C,IAAIsB,GAAY,SAASlzC,EAAQuhC,GAC/B/sC,KAAKwL,OAASA,EACdxL,KAAK+sC,UAAYA,GAGnB2R,GAAUn+C,UAAUgM,QAAU,WAAc,OAAOvM,KAAKwL,OAAOxL,KAAK+sC,YAEpE2R,GAAUn+C,UAAUo+C,OAAS,SAAUjW,GACrC,GAAIA,GAAS1oC,KAAQ,OAAO,EAC5B,GAAI0oC,EAAMqE,WAAa/sC,KAAK+sC,WAAarE,EAAMl9B,OAAO5M,QAAUoB,KAAKwL,OAAO5M,OAAU,OAAO,EAC7F,IAAK,IAAIG,EAAI,EAAGA,EAAIiB,KAAKwL,OAAO5M,OAAQG,IAAK,CAC3C,IAAI6/C,EAAO5+C,KAAKwL,OAAOzM,GAAI8/C,EAAQnW,EAAMl9B,OAAOzM,GAChD,IAAK8vB,GAAe+vB,EAAKlyC,OAAQmyC,EAAMnyC,UAAYmiB,GAAe+vB,EAAK/yC,KAAMgzC,EAAMhzC,MAAS,OAAO,EAErG,OAAO,GAGT6yC,GAAUn+C,UAAUu+C,SAAW,WAE7B,IADA,IAAIx7B,EAAM,GACDvkB,EAAI,EAAGA,EAAIiB,KAAKwL,OAAO5M,OAAQG,IACpCukB,EAAIvkB,GAAK,IAAIggD,GAAMjwB,GAAQ9uB,KAAKwL,OAAOzM,GAAG2N,QAASoiB,GAAQ9uB,KAAKwL,OAAOzM,GAAG8M,OAC9E,OAAO,IAAI6yC,GAAUp7B,EAAKtjB,KAAK+sC,YAGjC2R,GAAUn+C,UAAUy+C,kBAAoB,WACtC,IAAK,IAAIjgD,EAAI,EAAGA,EAAIiB,KAAKwL,OAAO5M,OAAQG,IACpC,IAAKiB,KAAKwL,OAAOzM,GAAG2M,QAAW,OAAO,EAC1C,OAAO,GAGTgzC,GAAUn+C,UAAU0f,SAAW,SAAUne,EAAKsT,GACvCA,IAAOA,EAAMtT,GAClB,IAAK,IAAI/C,EAAI,EAAGA,EAAIiB,KAAKwL,OAAO5M,OAAQG,IAAK,CAC3C,IAAIyN,EAAQxM,KAAKwL,OAAOzM,GACxB,GAAI6vB,GAAIxZ,EAAK5I,EAAM3E,SAAW,GAAK+mB,GAAI9sB,EAAK0K,EAAMnG,OAAS,EACvD,OAAOtH,EAEb,OAAQ,GAGV,IAAIggD,GAAQ,SAASryC,EAAQb,GAC3B7L,KAAK0M,OAASA,EAAQ1M,KAAK6L,KAAOA,GAUpC,SAASozC,GAAmBv8C,EAAI8I,EAAQuhC,GACtC,IAAImS,EAAWx8C,GAAMA,EAAGoB,QAAQq7C,mBAC5BC,EAAO5zC,EAAOuhC,GAClBvhC,EAAO6zC,MAAK,SAAU7+B,EAAG3I,GAAK,OAAO+W,GAAIpO,EAAE3Y,OAAQgQ,EAAEhQ,WACrDklC,EAAYpoC,EAAQ6G,EAAQ4zC,GAC5B,IAAK,IAAIrgD,EAAI,EAAGA,EAAIyM,EAAO5M,OAAQG,IAAK,CACtC,IAAI+M,EAAMN,EAAOzM,GAAIN,EAAO+M,EAAOzM,EAAI,GACnCkvB,EAAOW,GAAInwB,EAAK4H,KAAMyF,EAAIjE,QAC9B,GAAIq3C,IAAapzC,EAAIJ,QAAUuiB,EAAO,EAAIA,GAAQ,EAAG,CACnD,IAAIpmB,EAAOmnB,GAAOvwB,EAAKoJ,OAAQiE,EAAIjE,QAASxB,EAAK0oB,GAAOtwB,EAAK4H,KAAMyF,EAAIzF,MACnEi5C,EAAM7gD,EAAKiN,QAAUI,EAAIjE,QAAUiE,EAAID,KAAOpN,EAAKoJ,QAAUpJ,EAAKoN,KAClE9M,GAAKguC,KAAeA,EACxBvhC,EAAOqR,SAAS9d,EAAG,EAAG,IAAIggD,GAAMO,EAAMj5C,EAAKwB,EAAMy3C,EAAMz3C,EAAOxB,KAGlE,OAAO,IAAIq4C,GAAUlzC,EAAQuhC,GAG/B,SAASwS,GAAgB7yC,EAAQb,GAC/B,OAAO,IAAI6yC,GAAU,CAAC,IAAIK,GAAMryC,EAAQb,GAAQa,IAAU,GAK5D,SAAS8yC,GAAUppB,GACjB,OAAKA,EAAOjzB,KACLsE,GAAI2uB,EAAOvuB,KAAKvB,KAAO8vB,EAAOjzB,KAAKvE,OAAS,EACxCykB,EAAI+S,EAAOjzB,MAAMvE,QAAgC,GAAtBw3B,EAAOjzB,KAAKvE,OAAcw3B,EAAOvuB,KAAKrD,GAAK,IAFtD4xB,EAAO/vB,GAOpC,SAASo5C,GAAgB39C,EAAKs0B,GAC5B,GAAIxH,GAAI9sB,EAAKs0B,EAAOvuB,MAAQ,EAAK,OAAO/F,EACxC,GAAI8sB,GAAI9sB,EAAKs0B,EAAO/vB,KAAO,EAAK,OAAOm5C,GAAUppB,GAEjD,IAAI9vB,EAAOxE,EAAIwE,KAAO8vB,EAAOjzB,KAAKvE,QAAUw3B,EAAO/vB,GAAGC,KAAO8vB,EAAOvuB,KAAKvB,MAAQ,EAAG9B,EAAK1C,EAAI0C,GAE7F,OADI1C,EAAIwE,MAAQ8vB,EAAO/vB,GAAGC,OAAQ9B,GAAMg7C,GAAUppB,GAAQ5xB,GAAK4xB,EAAO/vB,GAAG7B,IAClEiD,GAAInB,EAAM9B,GAGnB,SAASk7C,GAAsBryB,EAAK+I,GAElC,IADA,IAAI9S,EAAM,GACDvkB,EAAI,EAAGA,EAAIsuB,EAAIxgB,IAAIrB,OAAO5M,OAAQG,IAAK,CAC9C,IAAIyN,EAAQ6gB,EAAIxgB,IAAIrB,OAAOzM,GAC3BukB,EAAI7W,KAAK,IAAIsyC,GAAMU,GAAgBjzC,EAAME,OAAQ0pB,GAC9BqpB,GAAgBjzC,EAAMX,KAAMuqB,KAEjD,OAAO6oB,GAAmB5xB,EAAI3qB,GAAI4gB,EAAK+J,EAAIxgB,IAAIkgC,WAGjD,SAAS4S,GAAU79C,EAAKwI,EAAKqrB,GAC3B,OAAI7zB,EAAIwE,MAAQgE,EAAIhE,KACTmB,GAAIkuB,EAAGrvB,KAAMxE,EAAI0C,GAAK8F,EAAI9F,GAAKmxB,EAAGnxB,IAElCiD,GAAIkuB,EAAGrvB,MAAQxE,EAAIwE,KAAOgE,EAAIhE,MAAOxE,EAAI0C,IAKtD,SAASo7C,GAAmBvyB,EAAK0R,EAAS8gB,GAGxC,IAFA,IAAIv8B,EAAM,GACNw8B,EAAUr4C,GAAI4lB,EAAIC,MAAO,GAAIyyB,EAAUD,EAClC/gD,EAAI,EAAGA,EAAIggC,EAAQngC,OAAQG,IAAK,CACvC,IAAIq3B,EAAS2I,EAAQhgC,GACjB8I,EAAO83C,GAAUvpB,EAAOvuB,KAAMi4C,EAASC,GACvC15C,EAAKs5C,GAAUH,GAAUppB,GAAS0pB,EAASC,GAG/C,GAFAD,EAAU1pB,EAAO/vB,GACjB05C,EAAU15C,EACE,UAARw5C,EAAkB,CACpB,IAAIrzC,EAAQ6gB,EAAIxgB,IAAIrB,OAAOzM,GAAIugD,EAAM1wB,GAAIpiB,EAAMX,KAAMW,EAAME,QAAU,EACrE4W,EAAIvkB,GAAK,IAAIggD,GAAMO,EAAMj5C,EAAKwB,EAAMy3C,EAAMz3C,EAAOxB,QAEjDid,EAAIvkB,GAAK,IAAIggD,GAAMl3C,EAAMA,GAG7B,OAAO,IAAI62C,GAAUp7B,EAAK+J,EAAIxgB,IAAIkgC,WAKpC,SAASiT,GAASt9C,GAChBA,EAAG2qB,IAAIhiB,KAAOygB,GAAQppB,EAAGoB,QAASpB,EAAG2qB,IAAI4yB,YACzCC,GAAex9C,GAGjB,SAASw9C,GAAex9C,GACtBA,EAAG2qB,IAAI3d,MAAK,SAAUpJ,GAChBA,EAAK8rB,aAAc9rB,EAAK8rB,WAAa,MACrC9rB,EAAKqrB,SAAUrrB,EAAKqrB,OAAS,SAEnCjvB,EAAG2qB,IAAImF,aAAe9vB,EAAG2qB,IAAIkF,kBAAoB7vB,EAAG2qB,IAAIC,MACxDkmB,GAAY9wC,EAAI,KAChBA,EAAGC,MAAMwuB,UACLzuB,EAAGkmB,OAAS2iB,GAAU7oC,GAQ5B,SAASy9C,GAAkB9yB,EAAK+I,GAC9B,OAAyB,GAAlBA,EAAOvuB,KAAKrD,IAA2B,GAAhB4xB,EAAO/vB,GAAG7B,IAA+B,IAApB6e,EAAI+S,EAAOjzB,SAC1DkqB,EAAI3qB,IAAM2qB,EAAI3qB,GAAGoB,QAAQs8C,uBAI/B,SAASC,GAAUhzB,EAAK+I,EAAQhB,EAAa4E,GAC3C,SAASsmB,EAASx+B,GAAI,OAAOsT,EAAcA,EAAYtT,GAAK,KAC5D,SAAS+yB,EAAOvuC,EAAMnD,EAAM0xB,GAC1BoF,GAAW3zB,EAAMnD,EAAM0xB,EAAOmF,GAC9ByE,GAAYn4B,EAAM,SAAUA,EAAM8vB,GAEpC,SAASmqB,EAASj3C,EAAO8L,GAEvB,IADA,IAAI7F,EAAS,GACJxQ,EAAIuK,EAAOvK,EAAIqW,IAAOrW,EAC3BwQ,EAAO9C,KAAK,IAAIstB,GAAK52B,EAAKpE,GAAIuhD,EAASvhD,GAAIi7B,IAC/C,OAAOzqB,EAGT,IAAI1H,EAAOuuB,EAAOvuB,KAAMxB,EAAK+vB,EAAO/vB,GAAIlD,EAAOizB,EAAOjzB,KAClDwE,EAAYylB,GAAQC,EAAKxlB,EAAKvB,MAAOoB,EAAW0lB,GAAQC,EAAKhnB,EAAGC,MAChEk6C,EAAWn9B,EAAIlgB,GAAOs9C,EAAYH,EAASn9C,EAAKvE,OAAS,GAAI8hD,EAASr6C,EAAGC,KAAOuB,EAAKvB,KAGzF,GAAI8vB,EAAOC,KACThJ,EAAIszB,OAAO,EAAGJ,EAAS,EAAGp9C,EAAKvE,SAC/ByuB,EAAIuzB,OAAOz9C,EAAKvE,OAAQyuB,EAAIE,KAAOpqB,EAAKvE,aACnC,GAAIuhD,GAAkB9yB,EAAK+I,GAAS,CAGzC,IAAIyqB,EAAQN,EAAS,EAAGp9C,EAAKvE,OAAS,GACtCi2C,EAAOntC,EAAUA,EAASvE,KAAMs9C,GAC5BC,GAAUrzB,EAAIuzB,OAAO/4C,EAAKvB,KAAMo6C,GAChCG,EAAMjiD,QAAUyuB,EAAIszB,OAAO94C,EAAKvB,KAAMu6C,QACrC,GAAIl5C,GAAaD,EACtB,GAAmB,GAAfvE,EAAKvE,OACPi2C,EAAOltC,EAAWA,EAAUxE,KAAKyK,MAAM,EAAG/F,EAAKrD,IAAMg8C,EAAW74C,EAAUxE,KAAKyK,MAAMvH,EAAG7B,IAAKi8C,OACxF,CACL,IAAIK,EAAUP,EAAS,EAAGp9C,EAAKvE,OAAS,GACxCkiD,EAAQr0C,KAAK,IAAIstB,GAAKymB,EAAW74C,EAAUxE,KAAKyK,MAAMvH,EAAG7B,IAAKi8C,EAAWzmB,IACzE6a,EAAOltC,EAAWA,EAAUxE,KAAKyK,MAAM,EAAG/F,EAAKrD,IAAMrB,EAAK,GAAIm9C,EAAS,IACvEjzB,EAAIszB,OAAO94C,EAAKvB,KAAO,EAAGw6C,QAEvB,GAAmB,GAAf39C,EAAKvE,OACdi2C,EAAOltC,EAAWA,EAAUxE,KAAKyK,MAAM,EAAG/F,EAAKrD,IAAMrB,EAAK,GAAKuE,EAASvE,KAAKyK,MAAMvH,EAAG7B,IAAK87C,EAAS,IACpGjzB,EAAIuzB,OAAO/4C,EAAKvB,KAAO,EAAGo6C,OACrB,CACL7L,EAAOltC,EAAWA,EAAUxE,KAAKyK,MAAM,EAAG/F,EAAKrD,IAAMrB,EAAK,GAAIm9C,EAAS,IACvEzL,EAAOntC,EAAU84C,EAAW94C,EAASvE,KAAKyK,MAAMvH,EAAG7B,IAAKi8C,GACxD,IAAIM,EAAUR,EAAS,EAAGp9C,EAAKvE,OAAS,GACpC8hD,EAAS,GAAKrzB,EAAIuzB,OAAO/4C,EAAKvB,KAAO,EAAGo6C,EAAS,GACrDrzB,EAAIszB,OAAO94C,EAAKvB,KAAO,EAAGy6C,GAG5BtiB,GAAYpR,EAAK,SAAUA,EAAK+I,GAIlC,SAAS4qB,GAAW3zB,EAAKppB,EAAGg9C,GAC1B,SAASC,EAAU7zB,EAAK8zB,EAAMC,GAC5B,GAAI/zB,EAAIg0B,OAAU,IAAK,IAAItiD,EAAI,EAAGA,EAAIsuB,EAAIg0B,OAAOziD,SAAUG,EAAG,CAC5D,IAAIuiD,EAAMj0B,EAAIg0B,OAAOtiD,GACrB,GAAIuiD,EAAIj0B,KAAO8zB,EAAf,CACA,IAAII,EAASH,GAAcE,EAAIF,WAC3BH,IAAmBM,IACvBt9C,EAAEq9C,EAAIj0B,IAAKk0B,GACXL,EAAUI,EAAIj0B,IAAKA,EAAKk0B,MAG5BL,EAAU7zB,EAAK,MAAM,GAIvB,SAASm0B,GAAU9+C,EAAI2qB,GACrB,GAAIA,EAAI3qB,GAAM,MAAM,IAAI+R,MAAM,oCAC9B/R,EAAG2qB,IAAMA,EACTA,EAAI3qB,GAAKA,EACTkoC,GAAoBloC,GACpBs9C,GAASt9C,GACT++C,GAAkB/+C,GAClBA,EAAGoB,QAAQgiB,UAAYuH,EAAIvH,UACtBpjB,EAAGoB,QAAQ+/B,cAAgBnK,GAAYh3B,GAC5CA,EAAGoB,QAAQuH,KAAOgiB,EAAI4yB,WACtB1U,GAAU7oC,GAGZ,SAAS++C,GAAkB/+C,IACN,OAApBA,EAAG2qB,IAAIvH,UAAqB3P,EAAWQ,GAASjU,EAAG+D,QAAQ+pC,QAAS,kBAGrE,SAASkR,GAAiBh/C,GACxBm2C,GAAQn2C,GAAI,WACV++C,GAAkB/+C,GAClB6oC,GAAU7oC,MAId,SAASi/C,GAAQljD,GAIfuB,KAAK4hD,KAAO,GAAI5hD,KAAK6hD,OAAS,GAC9B7hD,KAAK8hD,UAAYrjD,EAAOA,EAAKqjD,UAAY1kB,IAGzCp9B,KAAK+hD,YAAc/hD,KAAKgiD,YAAc,EACtChiD,KAAKiiD,OAASjiD,KAAKkiD,UAAY,KAC/BliD,KAAKmiD,WAAaniD,KAAKoiD,cAAgB,KAEvCpiD,KAAKqiD,WAAariD,KAAKsiD,cAAgB7jD,EAAOA,EAAK6jD,cAAgB,EAKrE,SAASC,GAAwBl1B,EAAK+I,GACpC,IAAIosB,EAAa,CAAC36C,KAAMinB,GAAQsH,EAAOvuB,MAAOxB,GAAIm5C,GAAUppB,GAASjzB,KAAM0qB,GAAWR,EAAK+I,EAAOvuB,KAAMuuB,EAAO/vB,KAG/G,OAFAo8C,GAAiBp1B,EAAKm1B,EAAYpsB,EAAOvuB,KAAKvB,KAAM8vB,EAAO/vB,GAAGC,KAAO,GACrE06C,GAAW3zB,GAAK,SAAUA,GAAO,OAAOo1B,GAAiBp1B,EAAKm1B,EAAYpsB,EAAOvuB,KAAKvB,KAAM8vB,EAAO/vB,GAAGC,KAAO,MAAO,GAC7Gk8C,EAKT,SAASE,GAAqBngC,GAC5B,MAAOA,EAAM3jB,OAAQ,CACnB,IAAIuwB,EAAO9L,EAAId,GACf,IAAI4M,EAAK3jB,OACF,MADY+W,EAAMogC,OAO7B,SAASC,GAAgBC,EAAMnJ,GAC7B,OAAIA,GACFgJ,GAAqBG,EAAKjB,MACnBv+B,EAAIw/B,EAAKjB,OACPiB,EAAKjB,KAAKhjD,SAAWykB,EAAIw/B,EAAKjB,MAAMp2C,OACtC6X,EAAIw/B,EAAKjB,MACPiB,EAAKjB,KAAKhjD,OAAS,IAAMikD,EAAKjB,KAAKiB,EAAKjB,KAAKhjD,OAAS,GAAG4M,QAClEq3C,EAAKjB,KAAKe,MACHt/B,EAAIw/B,EAAKjB,YAFX,EAST,SAASkB,GAAmBz1B,EAAK+I,EAAQ2sB,EAAUC,GACjD,IAAIH,EAAOx1B,EAAI41B,QACfJ,EAAKhB,OAAOjjD,OAAS,EACrB,IAAsBkN,EAClBqjB,EADA9M,GAAQ,IAAI1iB,KAGhB,IAAKkjD,EAAKZ,QAAUe,GACfH,EAAKV,YAAc/rB,EAAOvT,QAAUuT,EAAOvT,SACd,KAA3BuT,EAAOvT,OAAOrjB,OAAO,IAAaqjD,EAAKd,YAAc1/B,GAAQgL,EAAI3qB,GAAK2qB,EAAI3qB,GAAGoB,QAAQo/C,kBAAoB,MAC/E,KAA3B9sB,EAAOvT,OAAOrjB,OAAO,OACtBsM,EAAM82C,GAAgBC,EAAMA,EAAKZ,QAAUe,IAE9C7zB,EAAO9L,EAAIvX,EAAIizB,SACoB,GAA/BnQ,GAAIwH,EAAOvuB,KAAMuuB,EAAO/vB,KAAyC,GAA7BuoB,GAAIwH,EAAOvuB,KAAMsnB,EAAK9oB,IAG5D8oB,EAAK9oB,GAAKm5C,GAAUppB,GAGpBtqB,EAAIizB,QAAQtyB,KAAK81C,GAAwBl1B,EAAK+I,QAE3C,CAEL,IAAItP,EAASzD,EAAIw/B,EAAKjB,MACjB96B,GAAWA,EAAOtb,QACnB23C,GAAuB91B,EAAIxgB,IAAKg2C,EAAKjB,MACzC91C,EAAM,CAACizB,QAAS,CAACwjB,GAAwBl1B,EAAK+I,IACvCisB,WAAYQ,EAAKR,YACxBQ,EAAKjB,KAAKn1C,KAAKX,GACf,MAAO+2C,EAAKjB,KAAKhjD,OAASikD,EAAKf,UAC7Be,EAAKjB,KAAKvyC,QACLwzC,EAAKjB,KAAK,GAAGp2C,QAAUq3C,EAAKjB,KAAKvyC,QAG1CwzC,EAAKjB,KAAKn1C,KAAKs2C,GACfF,EAAKR,aAAeQ,EAAKP,cACzBO,EAAKd,YAAcc,EAAKb,YAAc3/B,EACtCwgC,EAAKZ,OAASY,EAAKX,UAAYc,EAC/BH,EAAKV,WAAaU,EAAKT,cAAgBhsB,EAAOvT,OAEzCsM,GAAQhH,GAAOkF,EAAK,gBAG3B,SAAS+1B,GAA0B/1B,EAAKxK,EAAQpkB,EAAMoO,GACpD,IAAIrI,EAAKqe,EAAOrjB,OAAO,GACvB,MAAa,KAANgF,GACC,KAANA,GACA/F,EAAK+M,OAAO5M,QAAUiO,EAAIrB,OAAO5M,QACjCH,EAAKugD,qBAAuBnyC,EAAImyC,qBAChC,IAAIr/C,KAAO0tB,EAAI41B,QAAQjB,cAAgB30B,EAAI3qB,GAAK2qB,EAAI3qB,GAAGoB,QAAQo/C,kBAAoB,KAOvF,SAASG,GAAsBh2B,EAAKxgB,EAAKm2C,EAAMl/C,GAC7C,IAAI++C,EAAOx1B,EAAI41B,QAASpgC,EAAS/e,GAAWA,EAAQ+e,OAMhDmgC,GAAQH,EAAKX,WACZr/B,GAAUggC,EAAKT,eAAiBv/B,IAC/BggC,EAAKd,aAAec,EAAKb,aAAea,EAAKV,YAAct/B,GAC3DugC,GAA0B/1B,EAAKxK,EAAQQ,EAAIw/B,EAAKjB,MAAO/0C,IACzDg2C,EAAKjB,KAAKiB,EAAKjB,KAAKhjD,OAAS,GAAKiO,EAElCs2C,GAAuBt2C,EAAKg2C,EAAKjB,MAErCiB,EAAKb,aAAe,IAAIriD,KACxBkjD,EAAKT,cAAgBv/B,EACrBggC,EAAKX,UAAYc,EACbl/C,IAAiC,IAAtBA,EAAQw/C,WACnBZ,GAAqBG,EAAKhB,QAGhC,SAASsB,GAAuBt2C,EAAK02C,GACnC,IAAI18C,EAAMwc,EAAIkgC,GACR18C,GAAOA,EAAI2E,QAAU3E,EAAI83C,OAAO9xC,IAClC02C,EAAK92C,KAAKI,GAIhB,SAAS41C,GAAiBp1B,EAAK+I,EAAQvuB,EAAMxB,GAC3C,IAAIm9C,EAAWptB,EAAO,SAAW/I,EAAIjL,IAAKN,EAAI,EAC9CuL,EAAI3d,KAAKvQ,KAAKgB,IAAIktB,EAAIC,MAAOzlB,GAAO1I,KAAKe,IAAImtB,EAAIC,MAAQD,EAAIE,KAAMlnB,IAAK,SAAUC,GAC5EA,EAAK8uB,eACJouB,IAAaA,EAAWptB,EAAO,SAAW/I,EAAIjL,IAAM,KAAKN,GAAKxb,EAAK8uB,eACtEtT,KAMN,SAAS2hC,GAAmB5uB,GAC1B,IAAKA,EAAS,OAAO,KAErB,IADA,IAAIvR,EACKvkB,EAAI,EAAGA,EAAI81B,EAAMj2B,SAAUG,EAC9B81B,EAAM91B,GAAG41B,OAAO+uB,kBAA0BpgC,IAAOA,EAAMuR,EAAMjnB,MAAM,EAAG7O,IACjEukB,GAAOA,EAAI7W,KAAKooB,EAAM91B,IAEjC,OAAQukB,EAAcA,EAAI1kB,OAAS0kB,EAAM,KAA3BuR,EAIhB,SAAS8uB,GAAYt2B,EAAK+I,GACxB,IAAItR,EAAQsR,EAAO,SAAW/I,EAAIjL,IAClC,IAAK0C,EAAS,OAAO,KAErB,IADA,IAAI6Q,EAAK,GACA52B,EAAI,EAAGA,EAAIq3B,EAAOjzB,KAAKvE,SAAUG,EACtC42B,EAAGlpB,KAAKg3C,GAAmB3+B,EAAM/lB,KACrC,OAAO42B,EAOT,SAASiuB,GAAcv2B,EAAK+I,GAC1B,IAAI9rB,EAAMq5C,GAAYt2B,EAAK+I,GACvBytB,EAAY1tB,GAAuB9I,EAAK+I,GAC5C,IAAK9rB,EAAO,OAAOu5C,EACnB,IAAKA,EAAa,OAAOv5C,EAEzB,IAAK,IAAIvL,EAAI,EAAGA,EAAIuL,EAAI1L,SAAUG,EAAG,CACnC,IAAI+kD,EAASx5C,EAAIvL,GAAIglD,EAAaF,EAAU9kD,GAC5C,GAAI+kD,GAAUC,EACZlvB,EAAO,IAAK,IAAI3kB,EAAI,EAAGA,EAAI6zC,EAAWnlD,SAAUsR,EAAG,CAEjD,IADA,IAAI4kB,EAAOivB,EAAW7zC,GACbwwB,EAAI,EAAGA,EAAIojB,EAAOllD,SAAU8hC,EACjC,GAAIojB,EAAOpjB,GAAG/L,QAAUG,EAAKH,OAAU,SAASE,EACpDivB,EAAOr3C,KAAKqoB,QAELivB,IACTz5C,EAAIvL,GAAKglD,GAGb,OAAOz5C,EAKT,SAAS05C,GAAiBjK,EAAQkK,EAAUC,GAE1C,IADA,IAAI7wB,EAAO,GACFt0B,EAAI,EAAGA,EAAIg7C,EAAOn7C,SAAUG,EAAG,CACtC,IAAI+G,EAAQi0C,EAAOh7C,GACnB,GAAI+G,EAAM0F,OACR6nB,EAAK5mB,KAAKy3C,EAAiBxF,GAAUn+C,UAAUu+C,SAAShmC,KAAKhT,GAASA,OADxE,CAIA,IAAIi5B,EAAUj5B,EAAMi5B,QAASolB,EAAa,GAC1C9wB,EAAK5mB,KAAK,CAACsyB,QAASolB,IACpB,IAAK,IAAIj0C,EAAI,EAAGA,EAAI6uB,EAAQngC,SAAUsR,EAAG,CACvC,IAAIkmB,EAAS2I,EAAQ7uB,GAAIiN,OAAI,EAE7B,GADAgnC,EAAW13C,KAAK,CAAC5E,KAAMuuB,EAAOvuB,KAAMxB,GAAI+vB,EAAO/vB,GAAIlD,KAAMizB,EAAOjzB,OAC5D8gD,EAAY,IAAK,IAAIxiC,KAAQ2U,GAAcjZ,EAAIsE,EAAK1f,MAAM,mBACxD4C,EAAQs/C,EAAUzwC,OAAO2J,EAAE,MAAQ,IACrCkG,EAAI8gC,GAAY1iC,GAAQ2U,EAAO3U,UACxB2U,EAAO3U,MAKtB,OAAO4R,EAWT,SAAS+wB,GAAY53C,EAAOX,EAAM68B,EAAO4R,GACvC,GAAIA,EAAQ,CACV,IAAI5tC,EAASF,EAAME,OACnB,GAAIg8B,EAAO,CACT,IAAI2b,EAAYz1B,GAAI/iB,EAAMa,GAAU,EAChC23C,GAAcz1B,GAAI8Z,EAAOh8B,GAAU,GACrCA,EAASb,EACTA,EAAO68B,GACE2b,GAAcz1B,GAAI/iB,EAAM68B,GAAS,IAC1C78B,EAAO68B,GAGX,OAAO,IAAIqW,GAAMryC,EAAQb,GAEzB,OAAO,IAAIkzC,GAAMrW,GAAS78B,EAAMA,GAKpC,SAASy4C,GAAgBj3B,EAAKxhB,EAAM68B,EAAO5kC,EAASw2C,GACpC,MAAVA,IAAkBA,EAASjtB,EAAI3qB,KAAO2qB,EAAI3qB,GAAG+D,QAAQ4I,OAASge,EAAIitB,SACtE1yC,GAAaylB,EAAK,IAAIqxB,GAAU,CAAC0F,GAAY/2B,EAAIxgB,IAAIN,UAAWV,EAAM68B,EAAO4R,IAAU,GAAIx2C,GAK7F,SAASygD,GAAiBl3B,EAAKm3B,EAAO1gD,GAGpC,IAFA,IAAIwf,EAAM,GACNg3B,EAASjtB,EAAI3qB,KAAO2qB,EAAI3qB,GAAG+D,QAAQ4I,OAASge,EAAIitB,QAC3Cv7C,EAAI,EAAGA,EAAIsuB,EAAIxgB,IAAIrB,OAAO5M,OAAQG,IACvCukB,EAAIvkB,GAAKqlD,GAAY/2B,EAAIxgB,IAAIrB,OAAOzM,GAAIylD,EAAMzlD,GAAI,KAAMu7C,GAC5D,IAAImK,EAASxF,GAAmB5xB,EAAI3qB,GAAI4gB,EAAK+J,EAAIxgB,IAAIkgC,WACrDnlC,GAAaylB,EAAKo3B,EAAQ3gD,GAI5B,SAAS4gD,GAAoBr3B,EAAKtuB,EAAGyN,EAAO1I,GAC1C,IAAI0H,EAAS6hB,EAAIxgB,IAAIrB,OAAOoC,MAAM,GAClCpC,EAAOzM,GAAKyN,EACZ5E,GAAaylB,EAAK4xB,GAAmB5xB,EAAI3qB,GAAI8I,EAAQ6hB,EAAIxgB,IAAIkgC,WAAYjpC,GAI3E,SAAS6gD,GAAmBt3B,EAAK3gB,EAAQb,EAAM/H,GAC7C8D,GAAaylB,EAAKkyB,GAAgB7yC,EAAQb,GAAO/H,GAKnD,SAAS8gD,GAAsBv3B,EAAKxgB,EAAK/I,GACvC,IAAIoV,EAAM,CACR1N,OAAQqB,EAAIrB,OACZqpC,OAAQ,SAASrpC,GACfxL,KAAKwL,OAAS,GACd,IAAK,IAAIzM,EAAI,EAAGA,EAAIyM,EAAO5M,OAAQG,IAC/BiB,KAAKwL,OAAOzM,GAAK,IAAIggD,GAAM7vB,GAAQ7B,EAAK7hB,EAAOzM,GAAG2N,QACzBwiB,GAAQ7B,EAAK7hB,EAAOzM,GAAG8M,QAEtDgX,OAAQ/e,GAAWA,EAAQ+e,QAI7B,OAFAsF,GAAOkF,EAAK,wBAAyBA,EAAKnU,GACtCmU,EAAI3qB,IAAMylB,GAAOkF,EAAI3qB,GAAI,wBAAyB2qB,EAAI3qB,GAAIwW,GAC1DA,EAAI1N,QAAUqB,EAAIrB,OAAiByzC,GAAmB5xB,EAAI3qB,GAAIwW,EAAI1N,OAAQ0N,EAAI1N,OAAO5M,OAAS,GACpFiO,EAGhB,SAASg4C,GAA2Bx3B,EAAKxgB,EAAK/I,GAC5C,IAAI89C,EAAOv0B,EAAI41B,QAAQrB,KAAMzyB,EAAO9L,EAAIu+B,GACpCzyB,GAAQA,EAAK3jB,QACfo2C,EAAKA,EAAKhjD,OAAS,GAAKiO,EACxBi4C,GAAmBz3B,EAAKxgB,EAAK/I,IAE7B8D,GAAaylB,EAAKxgB,EAAK/I,GAK3B,SAAS8D,GAAaylB,EAAKxgB,EAAK/I,GAC9BghD,GAAmBz3B,EAAKxgB,EAAK/I,GAC7Bu/C,GAAsBh2B,EAAKA,EAAIxgB,IAAKwgB,EAAI3qB,GAAK2qB,EAAI3qB,GAAGkmB,MAAMxG,GAAK2iC,IAAKjhD,GAGtE,SAASghD,GAAmBz3B,EAAKxgB,EAAK/I,IAChCglB,GAAWuE,EAAK,0BAA4BA,EAAI3qB,IAAMomB,GAAWuE,EAAI3qB,GAAI,4BACzEmK,EAAM+3C,GAAsBv3B,EAAKxgB,EAAK/I,IAE1C,IAAIwgC,EAAOxgC,GAAWA,EAAQwgC,OAC3B1V,GAAI/hB,EAAIN,UAAUV,KAAMwhB,EAAIxgB,IAAIN,UAAUV,MAAQ,GAAK,EAAI,GAC9Dm5C,GAAkB33B,EAAK43B,GAAsB53B,EAAKxgB,EAAKy3B,GAAM,IAEvDxgC,IAA8B,IAAnBA,EAAQ6e,SAAqB0K,EAAI3qB,IAAsC,YAAhC2qB,EAAI3qB,GAAGuE,UAAU,aACrE8rC,GAAoB1lB,EAAI3qB,IAG9B,SAASsiD,GAAkB33B,EAAKxgB,GAC1BA,EAAI8xC,OAAOtxB,EAAIxgB,OAEnBwgB,EAAIxgB,IAAMA,EAENwgB,EAAI3qB,KACN2qB,EAAI3qB,GAAGkmB,MAAMkuB,YAAc,EAC3BzpB,EAAI3qB,GAAGkmB,MAAMquB,kBAAmB,EAChCvuB,GAAqB2E,EAAI3qB,KAE3B+7B,GAAYpR,EAAK,iBAAkBA,IAKrC,SAAS63B,GAAiB73B,GACxB23B,GAAkB33B,EAAK43B,GAAsB53B,EAAKA,EAAIxgB,IAAK,MAAM,IAKnE,SAASo4C,GAAsB53B,EAAKxgB,EAAKy3B,EAAM6gB,GAE7C,IADA,IAAI7hC,EACKvkB,EAAI,EAAGA,EAAI8N,EAAIrB,OAAO5M,OAAQG,IAAK,CAC1C,IAAIyN,EAAQK,EAAIrB,OAAOzM,GACnBuL,EAAMuC,EAAIrB,OAAO5M,QAAUyuB,EAAIxgB,IAAIrB,OAAO5M,QAAUyuB,EAAIxgB,IAAIrB,OAAOzM,GACnEqmD,EAAYC,GAAWh4B,EAAK7gB,EAAME,OAAQpC,GAAOA,EAAIoC,OAAQ43B,EAAM6gB,GACnEG,EAAUD,GAAWh4B,EAAK7gB,EAAMX,KAAMvB,GAAOA,EAAIuB,KAAMy4B,EAAM6gB,IAC7D7hC,GAAO8hC,GAAa54C,EAAME,QAAU44C,GAAW94C,EAAMX,QAClDyX,IAAOA,EAAMzW,EAAIrB,OAAOoC,MAAM,EAAG7O,IACtCukB,EAAIvkB,GAAK,IAAIggD,GAAMqG,EAAWE,IAGlC,OAAOhiC,EAAM27B,GAAmB5xB,EAAI3qB,GAAI4gB,EAAKzW,EAAIkgC,WAAalgC,EAGhE,SAAS04C,GAAgBl4B,EAAKvrB,EAAK0jD,EAAQn5C,EAAK84C,GAC9C,IAAI7+C,EAAO8mB,GAAQC,EAAKvrB,EAAIwE,MAC5B,GAAIA,EAAK8uB,YAAe,IAAK,IAAIr2B,EAAI,EAAGA,EAAIuH,EAAK8uB,YAAYx2B,SAAUG,EAAG,CACxE,IAAIu5B,EAAKhyB,EAAK8uB,YAAYr2B,GAAIoe,EAAImb,EAAG3D,OAKjC8wB,EAAqB,eAAgBtoC,GAAMA,EAAEuoC,WAAavoC,EAAE0Y,cAC5D8vB,EAAsB,gBAAiBxoC,GAAMA,EAAEyoC,YAAczoC,EAAE6Y,eAEnE,IAAgB,MAAXsC,EAAGzwB,OAAiB49C,EAAoBntB,EAAGzwB,MAAQ/F,EAAI0C,GAAK8zB,EAAGzwB,KAAO/F,EAAI0C,OACjE,MAAT8zB,EAAGjyB,KAAes/C,EAAqBrtB,EAAGjyB,IAAMvE,EAAI0C,GAAK8zB,EAAGjyB,GAAKvE,EAAI0C,KAAM,CAC9E,GAAI2gD,IACFh9B,GAAOhL,EAAG,qBACNA,EAAEumC,mBAAmB,CACvB,GAAKp9C,EAAK8uB,YACL,GAAGr2B,EAAG,SADc,MAI7B,IAAKoe,EAAE0oC,OAAU,SAEjB,GAAIL,EAAQ,CACV,IAAIM,EAAO3oC,EAAE3V,KAAK6E,EAAM,EAAI,GAAK,GAAI4hB,OAAO,EAG5C,IAFI5hB,EAAM,EAAIs5C,EAAqBF,KAC/BK,EAAOC,GAAQ14B,EAAKy4B,GAAOz5C,EAAKy5C,GAAQA,EAAKx/C,MAAQxE,EAAIwE,KAAOA,EAAO,OACvEw/C,GAAQA,EAAKx/C,MAAQxE,EAAIwE,OAAS2nB,EAAOW,GAAIk3B,EAAMN,MAAan5C,EAAM,EAAI4hB,EAAO,EAAIA,EAAO,GAC5F,OAAOs3B,GAAgBl4B,EAAKy4B,EAAMhkD,EAAKuK,EAAK84C,GAGlD,IAAIa,EAAM7oC,EAAE3V,KAAK6E,EAAM,GAAK,EAAI,GAGhC,OAFIA,EAAM,EAAIo5C,EAAoBE,KAC9BK,EAAMD,GAAQ14B,EAAK24B,EAAK35C,EAAK25C,EAAI1/C,MAAQxE,EAAIwE,KAAOA,EAAO,OACxD0/C,EAAMT,GAAgBl4B,EAAK24B,EAAKlkD,EAAKuK,EAAK84C,GAAY,MAGjE,OAAOrjD,EAIT,SAASujD,GAAWh4B,EAAKvrB,EAAK0jD,EAAQlhB,EAAM6gB,GAC1C,IAAI94C,EAAMi4B,GAAQ,EACdxf,EAAQygC,GAAgBl4B,EAAKvrB,EAAK0jD,EAAQn5C,EAAK84C,KAC7CA,GAAYI,GAAgBl4B,EAAKvrB,EAAK0jD,EAAQn5C,GAAK,IACrDk5C,GAAgBl4B,EAAKvrB,EAAK0jD,GAASn5C,EAAK84C,KACtCA,GAAYI,GAAgBl4B,EAAKvrB,EAAK0jD,GAASn5C,GAAK,GAC1D,OAAKyY,IACHuI,EAAI44B,UAAW,EACRx+C,GAAI4lB,EAAIC,MAAO,IAK1B,SAASy4B,GAAQ14B,EAAKvrB,EAAKuK,EAAK/F,GAC9B,OAAI+F,EAAM,GAAe,GAAVvK,EAAI0C,GACb1C,EAAIwE,KAAO+mB,EAAIC,MAAgB4B,GAAQ7B,EAAK5lB,GAAI3F,EAAIwE,KAAO,IACjD,KACL+F,EAAM,GAAKvK,EAAI0C,KAAO8B,GAAQ8mB,GAAQC,EAAKvrB,EAAIwE,OAAOnD,KAAKvE,OAChEkD,EAAIwE,KAAO+mB,EAAIC,MAAQD,EAAIE,KAAO,EAAY9lB,GAAI3F,EAAIwE,KAAO,EAAG,GACtD,KAEP,IAAImB,GAAI3F,EAAIwE,KAAMxE,EAAI0C,GAAK6H,GAItC,SAAS65C,GAAUxjD,GACjBA,EAAGkF,aAAaH,GAAI/E,EAAGiF,YAAa,GAAIF,GAAI/E,EAAGgF,YAAagb,GAM9D,SAASyjC,GAAa94B,EAAK+I,EAAQye,GACjC,IAAI37B,EAAM,CACRktC,UAAU,EACVv+C,KAAMuuB,EAAOvuB,KACbxB,GAAI+vB,EAAO/vB,GACXlD,KAAMizB,EAAOjzB,KACb0f,OAAQuT,EAAOvT,OACfwjC,OAAQ,WAAc,OAAOntC,EAAIktC,UAAW,IAW9C,OATIvR,IAAU37B,EAAI27B,OAAS,SAAUhtC,EAAMxB,EAAIlD,EAAM0f,GAC/Chb,IAAQqR,EAAIrR,KAAOqnB,GAAQ7B,EAAKxlB,IAChCxB,IAAM6S,EAAI7S,GAAK6oB,GAAQ7B,EAAKhnB,IAC5BlD,IAAQ+V,EAAI/V,KAAOA,QACR6Y,IAAX6G,IAAwB3J,EAAI2J,OAASA,KAE3CsF,GAAOkF,EAAK,eAAgBA,EAAKnU,GAC7BmU,EAAI3qB,IAAMylB,GAAOkF,EAAI3qB,GAAI,eAAgB2qB,EAAI3qB,GAAIwW,GAEjDA,EAAIktC,UACF/4B,EAAI3qB,KAAM2qB,EAAI3qB,GAAGkmB,MAAMkuB,YAAc,GAClC,MAEF,CAACjvC,KAAMqR,EAAIrR,KAAMxB,GAAI6S,EAAI7S,GAAIlD,KAAM+V,EAAI/V,KAAM0f,OAAQ3J,EAAI2J,QAKlE,SAASyjC,GAAWj5B,EAAK+I,EAAQmwB,GAC/B,GAAIl5B,EAAI3qB,GAAI,CACV,IAAK2qB,EAAI3qB,GAAGkmB,MAAS,OAAOvhB,GAAUgmB,EAAI3qB,GAAI4jD,GAAlBj/C,CAA8BgmB,EAAK+I,EAAQmwB,GACvE,GAAIl5B,EAAI3qB,GAAGC,MAAM6jD,cAAiB,OAGpC,KAAI19B,GAAWuE,EAAK,iBAAmBA,EAAI3qB,IAAMomB,GAAWuE,EAAI3qB,GAAI,mBAClE0zB,EAAS+vB,GAAa94B,EAAK+I,GAAQ,GAC9BA,GAFP,CAOA,IAAIz3B,EAAQ21B,KAAqBiyB,GAAkBtvB,GAAqB5J,EAAK+I,EAAOvuB,KAAMuuB,EAAO/vB,IACjG,GAAI1H,EACF,IAAK,IAAII,EAAIJ,EAAMC,OAAS,EAAGG,GAAK,IAAKA,EACrC0nD,GAAgBp5B,EAAK,CAACxlB,KAAMlJ,EAAMI,GAAG8I,KAAMxB,GAAI1H,EAAMI,GAAGsH,GAAIlD,KAAMpE,EAAI,CAAC,IAAMq3B,EAAOjzB,KAAM0f,OAAQuT,EAAOvT,cAE7G4jC,GAAgBp5B,EAAK+I,IAIzB,SAASqwB,GAAgBp5B,EAAK+I,GAC5B,GAA0B,GAAtBA,EAAOjzB,KAAKvE,QAAiC,IAAlBw3B,EAAOjzB,KAAK,IAA2C,GAA/ByrB,GAAIwH,EAAOvuB,KAAMuuB,EAAO/vB,IAA/E,CACA,IAAI08C,EAAWrD,GAAsBryB,EAAK+I,GAC1C0sB,GAAmBz1B,EAAK+I,EAAQ2sB,EAAU11B,EAAI3qB,GAAK2qB,EAAI3qB,GAAGkmB,MAAMxG,GAAK2iC,KAErE2B,GAAoBr5B,EAAK+I,EAAQ2sB,EAAU5sB,GAAuB9I,EAAK+I,IACvE,IAAIuwB,EAAU,GAEd3F,GAAW3zB,GAAK,SAAUA,EAAK+zB,GACxBA,IAAgD,GAAlCz8C,EAAQgiD,EAASt5B,EAAI41B,WACtC2D,GAAWv5B,EAAI41B,QAAS7sB,GACxBuwB,EAAQl6C,KAAK4gB,EAAI41B,UAEnByD,GAAoBr5B,EAAK+I,EAAQ,KAAMD,GAAuB9I,EAAK+I,QAKvE,SAASywB,GAAsBx5B,EAAKzkB,EAAMk+C,GACxC,IAAIC,EAAW15B,EAAI3qB,IAAM2qB,EAAI3qB,GAAGC,MAAM6jD,cACtC,IAAIO,GAAaD,EAAjB,CAQA,IANA,IAAwBhhD,EAApB+8C,EAAOx1B,EAAI41B,QAAgBF,EAAW11B,EAAIxgB,IAC1CpL,EAAiB,QAARmH,EAAiBi6C,EAAKjB,KAAOiB,EAAKhB,OAAQ0B,EAAe,QAAR36C,EAAiBi6C,EAAKhB,OAASgB,EAAKjB,KAI9F7iD,EAAI,EACDA,EAAI0C,EAAO7C,OAAQG,IAExB,GADA+G,EAAQrE,EAAO1C,GACX+nD,EAAqBhhD,EAAM0F,SAAW1F,EAAM64C,OAAOtxB,EAAIxgB,MAAQ/G,EAAM0F,OACrE,MAEN,GAAIzM,GAAK0C,EAAO7C,OAAhB,CAGA,IAFAikD,EAAKV,WAAaU,EAAKT,cAAgB,OAE9B,CAEP,GADAt8C,EAAQrE,EAAOkhD,OACX78C,EAAM0F,OAOH,IAAIu7C,EAET,YADAtlD,EAAOgL,KAAK3G,GAEL,MARP,GADAq9C,GAAuBr9C,EAAOy9C,GAC1BuD,IAAuBhhD,EAAM64C,OAAOtxB,EAAIxgB,KAE1C,YADAjF,GAAaylB,EAAKvnB,EAAO,CAACw9C,WAAW,IAGvCP,EAAWj9C,EASf,IAAIkhD,EAAc,GAClB7D,GAAuBJ,EAAUQ,GACjCA,EAAK92C,KAAK,CAACsyB,QAASioB,EAAa3E,WAAYQ,EAAKR,aAClDQ,EAAKR,WAAav8C,EAAMu8C,cAAgBQ,EAAKP,cA6B7C,IA3BA,IAAI2E,EAASn+B,GAAWuE,EAAK,iBAAmBA,EAAI3qB,IAAMomB,GAAWuE,EAAI3qB,GAAI,gBAEzE4uB,EAAO,SAAWvyB,GACpB,IAAIq3B,EAAStwB,EAAMi5B,QAAQhgC,GAE3B,GADAq3B,EAAOvT,OAASja,EACZq+C,IAAWd,GAAa94B,EAAK+I,GAAQ,GAEvC,OADA30B,EAAO7C,OAAS,EACT,GAGTooD,EAAYv6C,KAAK81C,GAAwBl1B,EAAK+I,IAE9C,IAAI7W,EAAQxgB,EAAI2gD,GAAsBryB,EAAK+I,GAAU/S,EAAI5hB,GACzDilD,GAAoBr5B,EAAK+I,EAAQ7W,EAAOqkC,GAAcv2B,EAAK+I,KACtDr3B,GAAKsuB,EAAI3qB,IAAM2qB,EAAI3qB,GAAGoF,eAAe,CAACD,KAAMuuB,EAAOvuB,KAAMxB,GAAIm5C,GAAUppB,KAC5E,IAAIuwB,EAAU,GAGd3F,GAAW3zB,GAAK,SAAUA,EAAK+zB,GACxBA,IAAgD,GAAlCz8C,EAAQgiD,EAASt5B,EAAI41B,WACtC2D,GAAWv5B,EAAI41B,QAAS7sB,GACxBuwB,EAAQl6C,KAAK4gB,EAAI41B,UAEnByD,GAAoBr5B,EAAK+I,EAAQ,KAAMwtB,GAAcv2B,EAAK+I,QAIrDnQ,EAAMngB,EAAMi5B,QAAQngC,OAAS,EAAGqnB,GAAO,IAAKA,EAAK,CACxD,IAAIihC,EAAW51B,EAAMrL,GAErB,GAAKihC,EAAW,OAAOA,EAASC,KAMpC,SAASC,GAAS/5B,EAAKg6B,GACrB,GAAgB,GAAZA,IACJh6B,EAAIC,OAAS+5B,EACbh6B,EAAIxgB,IAAM,IAAI6xC,GAAU7/C,EAAIwuB,EAAIxgB,IAAIrB,QAAQ,SAAUgB,GAAS,OAAO,IAAIuyC,GACxEt3C,GAAI+E,EAAME,OAAOpG,KAAO+gD,EAAU76C,EAAME,OAAOlI,IAC/CiD,GAAI+E,EAAMX,KAAKvF,KAAO+gD,EAAU76C,EAAMX,KAAKrH,QACtC6oB,EAAIxgB,IAAIkgC,WACX1f,EAAI3qB,IAAI,CACV6oC,GAAUle,EAAI3qB,GAAI2qB,EAAIC,MAAOD,EAAIC,MAAQ+5B,EAAUA,GACnD,IAAK,IAAI1tB,EAAItM,EAAI3qB,GAAG+D,QAAS4V,EAAIsd,EAAE7G,SAAUzW,EAAIsd,EAAE5G,OAAQ1W,IACvD4vB,GAAc5e,EAAI3qB,GAAI2Z,EAAG,WAMjC,SAASqqC,GAAoBr5B,EAAK+I,EAAQ2sB,EAAUluB,GAClD,GAAIxH,EAAI3qB,KAAO2qB,EAAI3qB,GAAGkmB,MAClB,OAAOvhB,GAAUgmB,EAAI3qB,GAAIgkD,GAAlBr/C,CAAuCgmB,EAAK+I,EAAQ2sB,EAAUluB,GAEzE,GAAIuB,EAAO/vB,GAAGC,KAAO+mB,EAAIC,MACvB85B,GAAS/5B,EAAK+I,EAAOjzB,KAAKvE,OAAS,GAAKw3B,EAAO/vB,GAAGC,KAAO8vB,EAAOvuB,KAAKvB,YAGvE,KAAI8vB,EAAOvuB,KAAKvB,KAAO+mB,EAAI3lB,YAA3B,CAGA,GAAI0uB,EAAOvuB,KAAKvB,KAAO+mB,EAAIC,MAAO,CAChC,IAAIje,EAAQ+mB,EAAOjzB,KAAKvE,OAAS,GAAKyuB,EAAIC,MAAQ8I,EAAOvuB,KAAKvB,MAC9D8gD,GAAS/5B,EAAKhe,GACd+mB,EAAS,CAACvuB,KAAMJ,GAAI4lB,EAAIC,MAAO,GAAIjnB,GAAIoB,GAAI2uB,EAAO/vB,GAAGC,KAAO+I,EAAO+mB,EAAO/vB,GAAG7B,IACnErB,KAAM,CAACkgB,EAAI+S,EAAOjzB,OAAQ0f,OAAQuT,EAAOvT,QAErD,IAAIsM,EAAO9B,EAAI3lB,WACX0uB,EAAO/vB,GAAGC,KAAO6oB,IACnBiH,EAAS,CAACvuB,KAAMuuB,EAAOvuB,KAAMxB,GAAIoB,GAAI0nB,EAAM/B,GAAQC,EAAK8B,GAAMhsB,KAAKvE,QACzDuE,KAAM,CAACizB,EAAOjzB,KAAK,IAAK0f,OAAQuT,EAAOvT,SAGnDuT,EAAOkxB,QAAUz5B,GAAWR,EAAK+I,EAAOvuB,KAAMuuB,EAAO/vB,IAEhD08C,IAAYA,EAAWrD,GAAsBryB,EAAK+I,IACnD/I,EAAI3qB,GAAM6kD,GAA4Bl6B,EAAI3qB,GAAI0zB,EAAQvB,GACnDwrB,GAAUhzB,EAAK+I,EAAQvB,GAC9BiwB,GAAmBz3B,EAAK01B,EAAUrgC,GAE9B2K,EAAI44B,UAAYZ,GAAWh4B,EAAK5lB,GAAI4lB,EAAI1lB,YAAa,MACrD0lB,EAAI44B,UAAW,IAKrB,SAASsB,GAA4B7kD,EAAI0zB,EAAQvB,GAC/C,IAAIxH,EAAM3qB,EAAG2qB,IAAK5mB,EAAU/D,EAAG+D,QAASoB,EAAOuuB,EAAOvuB,KAAMxB,EAAK+vB,EAAO/vB,GAEpEmhD,GAAqB,EAAOC,EAAkB5/C,EAAKvB,KAClD5D,EAAGoB,QAAQ+/B,eACd4jB,EAAkBv5B,GAAO0K,GAAWxL,GAAQC,EAAKxlB,EAAKvB,QACtD+mB,EAAI3d,KAAK+3C,EAAiBphD,EAAGC,KAAO,GAAG,SAAUA,GAC/C,GAAIA,GAAQG,EAAQmzB,QAElB,OADA4tB,GAAqB,GACd,MAKTn6B,EAAIxgB,IAAIoT,SAASmW,EAAOvuB,KAAMuuB,EAAO/vB,KAAO,GAC5CqiB,GAAqBhmB,GAEzB29C,GAAUhzB,EAAK+I,EAAQvB,EAAOmF,GAAet3B,IAExCA,EAAGoB,QAAQ+/B,eACdxW,EAAI3d,KAAK+3C,EAAiB5/C,EAAKvB,KAAO8vB,EAAOjzB,KAAKvE,QAAQ,SAAU0H,GAClE,IAAIwM,EAAM2mB,GAAWnzB,GACjBwM,EAAMrM,EAAQozB,gBAChBpzB,EAAQmzB,QAAUtzB,EAClBG,EAAQozB,cAAgB/mB,EACxBrM,EAAQqzB,gBAAiB,EACzB0tB,GAAqB,MAGrBA,IAAsB9kD,EAAGkmB,MAAMsuB,eAAgB,IAGrD7iB,GAAgBhH,EAAKxlB,EAAKvB,MAC1BktC,GAAY9wC,EAAI,KAEhB,IAAI8oC,EAAUpV,EAAOjzB,KAAKvE,QAAUyH,EAAGC,KAAOuB,EAAKvB,MAAQ,EAEvD8vB,EAAOC,KACPkV,GAAU7oC,GACLmF,EAAKvB,MAAQD,EAAGC,MAA8B,GAAtB8vB,EAAOjzB,KAAKvE,QAAgBuhD,GAAkBz9C,EAAG2qB,IAAK+I,GAGnFmV,GAAU7oC,EAAImF,EAAKvB,KAAMD,EAAGC,KAAO,EAAGklC,GAFtCS,GAAcvpC,EAAImF,EAAKvB,KAAM,QAIjC,IAAIohD,EAAiB5+B,GAAWpmB,EAAI,WAAYilD,EAAgB7+B,GAAWpmB,EAAI,UAC/E,GAAIilD,GAAiBD,EAAgB,CACnC,IAAIxuC,EAAM,CACRrR,KAAMA,EAAMxB,GAAIA,EAChBlD,KAAMizB,EAAOjzB,KACbmkD,QAASlxB,EAAOkxB,QAChBzkC,OAAQuT,EAAOvT,QAEb8kC,GAAiBlpB,GAAY/7B,EAAI,SAAUA,EAAIwW,GAC/CwuC,IAAmBhlD,EAAGkmB,MAAMouB,aAAet0C,EAAGkmB,MAAMouB,WAAa,KAAKvqC,KAAKyM,GAEjFxW,EAAG+D,QAAQ2pC,kBAAoB,KAGjC,SAASrkC,GAAashB,EAAKlf,EAAMtG,EAAMxB,EAAIwc,GACzC,IAAI+kC,EAECvhD,IAAMA,EAAKwB,GACZ+mB,GAAIvoB,EAAIwB,GAAQ,IAAM+/C,EAAS,CAACvhD,EAAIwB,GAAOA,EAAO+/C,EAAO,GAAIvhD,EAAKuhD,EAAO,IAC1D,iBAARz5C,IAAoBA,EAAOkf,EAAIw6B,WAAW15C,IACrDm4C,GAAWj5B,EAAK,CAACxlB,KAAMA,EAAMxB,GAAIA,EAAIlD,KAAMgL,EAAM0U,OAAQA,IAK3D,SAASilC,GAAoBhmD,EAAK+F,EAAMxB,EAAI4nB,GACtC5nB,EAAKvE,EAAIwE,KACXxE,EAAIwE,MAAQ2nB,EACHpmB,EAAO/F,EAAIwE,OACpBxE,EAAIwE,KAAOuB,EACX/F,EAAI0C,GAAK,GAWb,SAASujD,GAAgBxlC,EAAO1a,EAAMxB,EAAI4nB,GACxC,IAAK,IAAIlvB,EAAI,EAAGA,EAAIwjB,EAAM3jB,SAAUG,EAAG,CACrC,IAAIipD,EAAMzlC,EAAMxjB,GAAI4wB,GAAK,EACzB,GAAIq4B,EAAIx8C,OAAR,CACOw8C,EAAIC,SAAUD,EAAMzlC,EAAMxjB,GAAKipD,EAAIlJ,WAAYkJ,EAAIC,QAAS,GACjE,IAAK,IAAI/3C,EAAI,EAAGA,EAAI83C,EAAIx8C,OAAO5M,OAAQsR,IACrC43C,GAAoBE,EAAIx8C,OAAO0E,GAAGxD,OAAQ7E,EAAMxB,EAAI4nB,GACpD65B,GAAoBE,EAAIx8C,OAAO0E,GAAGrE,KAAMhE,EAAMxB,EAAI4nB,OAJtD,CAQA,IAAK,IAAIjH,EAAM,EAAGA,EAAMghC,EAAIjpB,QAAQngC,SAAUooB,EAAK,CACjD,IAAIlb,EAAMk8C,EAAIjpB,QAAQ/X,GACtB,GAAI3gB,EAAKyF,EAAIjE,KAAKvB,KAChBwF,EAAIjE,KAAOJ,GAAIqE,EAAIjE,KAAKvB,KAAO2nB,EAAMniB,EAAIjE,KAAKrD,IAC9CsH,EAAIzF,GAAKoB,GAAIqE,EAAIzF,GAAGC,KAAO2nB,EAAMniB,EAAIzF,GAAG7B,SACnC,GAAIqD,GAAQiE,EAAIzF,GAAGC,KAAM,CAC9BqpB,GAAK,EACL,OAGCA,IACHpN,EAAM1F,OAAO,EAAG9d,EAAI,GACpBA,EAAI,KAKV,SAAS6nD,GAAW/D,EAAMzsB,GACxB,IAAIvuB,EAAOuuB,EAAOvuB,KAAKvB,KAAMD,EAAK+vB,EAAO/vB,GAAGC,KAAM2nB,EAAOmI,EAAOjzB,KAAKvE,QAAUyH,EAAKwB,GAAQ,EAC5FkgD,GAAgBlF,EAAKjB,KAAM/5C,EAAMxB,EAAI4nB,GACrC85B,GAAgBlF,EAAKhB,OAAQh6C,EAAMxB,EAAI4nB,GAMzC,SAASi6B,GAAW76B,EAAK86B,EAAQC,EAAYnzB,GAC3C,IAAI9G,EAAKg6B,EAAQ7hD,EAAO6hD,EAGxB,MAFqB,iBAAVA,EAAsB7hD,EAAO8mB,GAAQC,EAAK4B,GAAS5B,EAAK86B,IAC5Dh6B,EAAKD,GAAOi6B,GACT,MAANh6B,EAAqB,MACrB8G,EAAG3uB,EAAM6nB,IAAOd,EAAI3qB,IAAMupC,GAAc5e,EAAI3qB,GAAIyrB,EAAIi6B,GACjD9hD,GAgBT,SAAS+hD,GAAU56B,GACjBztB,KAAKytB,MAAQA,EACbztB,KAAK4f,OAAS,KAEd,IADA,IAAIoO,EAAS,EACJjvB,EAAI,EAAGA,EAAI0uB,EAAM7uB,SAAUG,EAClC0uB,EAAM1uB,GAAG6gB,OAAS5f,KAClBguB,GAAUP,EAAM1uB,GAAGivB,OAErBhuB,KAAKguB,OAASA,EAqChB,SAASs6B,GAAY56B,GACnB1tB,KAAK0tB,SAAWA,EAEhB,IADA,IAAIH,EAAO,EAAGS,EAAS,EACdjvB,EAAI,EAAGA,EAAI2uB,EAAS9uB,SAAUG,EAAG,CACxC,IAAIyF,EAAKkpB,EAAS3uB,GAClBwuB,GAAQ/oB,EAAGopB,YAAaI,GAAUxpB,EAAGwpB,OACrCxpB,EAAGob,OAAS5f,KAEdA,KAAKutB,KAAOA,EACZvtB,KAAKguB,OAASA,EACdhuB,KAAK4f,OAAS,KArgChBm/B,GAAMx+C,UAAUsH,KAAO,WAAc,OAAOmnB,GAAOhvB,KAAK0M,OAAQ1M,KAAK6L,OACrEkzC,GAAMx+C,UAAU8F,GAAK,WAAc,OAAO0oB,GAAO/uB,KAAK0M,OAAQ1M,KAAK6L,OACnEkzC,GAAMx+C,UAAUmL,MAAQ,WAAc,OAAO1L,KAAK6L,KAAKvF,MAAQtG,KAAK0M,OAAOpG,MAAQtG,KAAK6L,KAAKrH,IAAMxE,KAAK0M,OAAOlI,IAu9B/G6jD,GAAU9nD,UAAY,CACpBqtB,UAAW,WAAa,OAAO5tB,KAAKytB,MAAM7uB,QAG1C2pD,YAAa,SAASrhC,EAAIpF,GACxB,IAAK,IAAI/iB,EAAImoB,EAAItiB,EAAIsiB,EAAKpF,EAAG/iB,EAAI6F,IAAK7F,EAAG,CACvC,IAAIuH,EAAOtG,KAAKytB,MAAM1uB,GACtBiB,KAAKguB,QAAU1nB,EAAK0nB,OACpBmM,GAAY7zB,GACZm4B,GAAYn4B,EAAM,UAEpBtG,KAAKytB,MAAM5Q,OAAOqK,EAAIpF,IAIxBb,SAAU,SAASwM,GACjBA,EAAMhhB,KAAK6U,MAAMmM,EAAOztB,KAAKytB,QAK/B+6B,YAAa,SAASthC,EAAIuG,EAAOO,GAC/BhuB,KAAKguB,QAAUA,EACfhuB,KAAKytB,MAAQztB,KAAKytB,MAAM7f,MAAM,EAAGsZ,GAAIY,OAAO2F,GAAO3F,OAAO9nB,KAAKytB,MAAM7f,MAAMsZ,IAC3E,IAAK,IAAInoB,EAAI,EAAGA,EAAI0uB,EAAM7uB,SAAUG,EAAK0uB,EAAM1uB,GAAG6gB,OAAS5f,MAI7DyoD,MAAO,SAASvhC,EAAIpF,EAAGmT,GACrB,IAAK,IAAIrwB,EAAIsiB,EAAKpF,EAAGoF,EAAKtiB,IAAKsiB,EAC3B,GAAI+N,EAAGj1B,KAAKytB,MAAMvG,IAAQ,OAAO,IAiBzCohC,GAAY/nD,UAAY,CACtBqtB,UAAW,WAAa,OAAO5tB,KAAKutB,MAEpCg7B,YAAa,SAASrhC,EAAIpF,GACxB9hB,KAAKutB,MAAQzL,EACb,IAAK,IAAI/iB,EAAI,EAAGA,EAAIiB,KAAK0tB,SAAS9uB,SAAUG,EAAG,CAC7C,IAAIwJ,EAAQvI,KAAK0tB,SAAS3uB,GAAI4uB,EAAKplB,EAAMqlB,YACzC,GAAI1G,EAAKyG,EAAI,CACX,IAAIkuB,EAAK18C,KAAKe,IAAI4hB,EAAG6L,EAAKzG,GAAKwpB,EAAYnoC,EAAMylB,OAIjD,GAHAzlB,EAAMggD,YAAYrhC,EAAI20B,GACtB77C,KAAKguB,QAAU0iB,EAAYnoC,EAAMylB,OAC7BL,GAAMkuB,IAAM77C,KAAK0tB,SAAS7Q,OAAO9d,IAAK,GAAIwJ,EAAMqX,OAAS,MAC5C,IAAZkC,GAAK+5B,GAAY,MACtB30B,EAAK,OACEA,GAAMyG,EAIjB,GAAI3tB,KAAKutB,KAAOzL,EAAI,KACf9hB,KAAK0tB,SAAS9uB,OAAS,KAAOoB,KAAK0tB,SAAS,aAAc26B,KAAa,CAC1E,IAAI56B,EAAQ,GACZztB,KAAKihB,SAASwM,GACdztB,KAAK0tB,SAAW,CAAC,IAAI26B,GAAU56B,IAC/BztB,KAAK0tB,SAAS,GAAG9N,OAAS5f,OAI9BihB,SAAU,SAASwM,GACjB,IAAK,IAAI1uB,EAAI,EAAGA,EAAIiB,KAAK0tB,SAAS9uB,SAAUG,EAAKiB,KAAK0tB,SAAS3uB,GAAGkiB,SAASwM,IAG7E+6B,YAAa,SAASthC,EAAIuG,EAAOO,GAC/BhuB,KAAKutB,MAAQE,EAAM7uB,OACnBoB,KAAKguB,QAAUA,EACf,IAAK,IAAIjvB,EAAI,EAAGA,EAAIiB,KAAK0tB,SAAS9uB,SAAUG,EAAG,CAC7C,IAAIwJ,EAAQvI,KAAK0tB,SAAS3uB,GAAI4uB,EAAKplB,EAAMqlB,YACzC,GAAI1G,GAAMyG,EAAI,CAEZ,GADAplB,EAAMigD,YAAYthC,EAAIuG,EAAOO,GACzBzlB,EAAMklB,OAASllB,EAAMklB,MAAM7uB,OAAS,GAAI,CAI1C,IADA,IAAI8pD,EAAYngD,EAAMklB,MAAM7uB,OAAS,GAAK,GACjCkD,EAAM4mD,EAAW5mD,EAAMyG,EAAMklB,MAAM7uB,QAAS,CACnD,IAAI+pD,EAAO,IAAIN,GAAU9/C,EAAMklB,MAAM7f,MAAM9L,EAAKA,GAAO,KACvDyG,EAAMylB,QAAU26B,EAAK36B,OACrBhuB,KAAK0tB,SAAS7Q,SAAS9d,EAAG,EAAG4pD,GAC7BA,EAAK/oC,OAAS5f,KAEhBuI,EAAMklB,MAAQllB,EAAMklB,MAAM7f,MAAM,EAAG86C,GACnC1oD,KAAK4oD,aAEP,MAEF1hC,GAAMyG,IAKVi7B,WAAY,WACV,KAAI5oD,KAAK0tB,SAAS9uB,QAAU,IAA5B,CACA,IAAI6X,EAAKzW,KACT,EAAG,CACD,IAAI6oD,EAAUpyC,EAAGiX,SAAS7Q,OAAOpG,EAAGiX,SAAS9uB,OAAS,EAAG,GACrDkqD,EAAU,IAAIR,GAAYO,GAC9B,GAAKpyC,EAAGmJ,OAKF,CACJnJ,EAAG8W,MAAQu7B,EAAQv7B,KACnB9W,EAAGuX,QAAU86B,EAAQ96B,OACrB,IAAI+6B,EAAUpkD,EAAQ8R,EAAGmJ,OAAO8N,SAAUjX,GAC1CA,EAAGmJ,OAAO8N,SAAS7Q,OAAOksC,EAAU,EAAG,EAAGD,OAT5B,CACd,IAAIz1B,EAAO,IAAIi1B,GAAY7xC,EAAGiX,UAC9B2F,EAAKzT,OAASnJ,EACdA,EAAGiX,SAAW,CAAC2F,EAAMy1B,GACrBryC,EAAK4c,EAOPy1B,EAAQlpC,OAASnJ,EAAGmJ,aACbnJ,EAAGiX,SAAS9uB,OAAS,IAC9B6X,EAAGmJ,OAAOgpC,eAGZH,MAAO,SAASvhC,EAAIpF,EAAGmT,GACrB,IAAK,IAAIl2B,EAAI,EAAGA,EAAIiB,KAAK0tB,SAAS9uB,SAAUG,EAAG,CAC7C,IAAIwJ,EAAQvI,KAAK0tB,SAAS3uB,GAAI4uB,EAAKplB,EAAMqlB,YACzC,GAAI1G,EAAKyG,EAAI,CACX,IAAIq7B,EAAO7pD,KAAKe,IAAI4hB,EAAG6L,EAAKzG,GAC5B,GAAI3e,EAAMkgD,MAAMvhC,EAAI8hC,EAAM/zB,GAAO,OAAO,EACxC,GAAmB,IAAdnT,GAAKknC,GAAc,MACxB9hC,EAAK,OACEA,GAAMyG,KAOrB,IAAIs7B,GAAa,SAAS57B,EAAKhO,EAAMvb,GACnC,GAAIA,EAAW,IAAK,IAAIolD,KAAOplD,EAAeA,EAAQmY,eAAeitC,KACjElpD,KAAKkpD,GAAOplD,EAAQolD,IACxBlpD,KAAKqtB,IAAMA,EACXrtB,KAAKqf,KAAOA,GAqCd,SAAS8pC,GAA6BzmD,EAAI4D,EAAM2nB,GAC1CsL,GAAajzB,IAAU5D,EAAGkmB,OAASlmB,EAAGkmB,MAAM4e,WAAc9kC,EAAG2qB,IAAIma,YACjEqL,GAAenwC,EAAIurB,GAGzB,SAASm7B,GAAc/7B,EAAK86B,EAAQ9oC,EAAMvb,GACxC,IAAI64B,EAAS,IAAIssB,GAAW57B,EAAKhO,EAAMvb,GACnCpB,EAAK2qB,EAAI3qB,GAgBb,OAfIA,GAAMi6B,EAAO6E,YAAa9+B,EAAG+D,QAAQw1C,cAAe,GACxDiM,GAAW76B,EAAK86B,EAAQ,UAAU,SAAU7hD,GAC1C,IAAI86B,EAAU96B,EAAK86B,UAAY96B,EAAK86B,QAAU,IAI9C,GAHuB,MAAnBzE,EAAO0sB,SAAoBjoB,EAAQ30B,KAAKkwB,GACrCyE,EAAQvkB,OAAO1d,KAAKe,IAAIkhC,EAAQxiC,OAAQO,KAAKgB,IAAI,EAAGw8B,EAAO0sB,WAAY,EAAG1sB,GACjFA,EAAOr2B,KAAOA,EACV5D,IAAO02B,GAAa/L,EAAK/mB,GAAO,CAClC,IAAIgjD,EAAe/vB,GAAajzB,GAAQ+mB,EAAIma,UAC5CzZ,GAAiBznB,EAAMA,EAAK0nB,OAAS+T,GAAapF,IAC9C2sB,GAAgBzW,GAAenwC,EAAIi6B,EAAO3O,QAC9CtrB,EAAGkmB,MAAMgc,aAAc,EAEzB,OAAO,KAELliC,GAAM+7B,GAAY/7B,EAAI,kBAAmBA,EAAIi6B,EAAyB,iBAAVwrB,EAAqBA,EAASj6B,GAAOi6B,IAC9FxrB,EAzDTssB,GAAW1oD,UAAU6E,MAAQ,WAC3B,IAAI1C,EAAK1C,KAAKqtB,IAAI3qB,GAAI4O,EAAKtR,KAAKsG,KAAK86B,QAAS96B,EAAOtG,KAAKsG,KAAM6nB,EAAKD,GAAO5nB,GAC5E,GAAU,MAAN6nB,GAAe7c,EAAnB,CACA,IAAK,IAAIvS,EAAI,EAAGA,EAAIuS,EAAG1S,SAAUG,EAASuS,EAAGvS,IAAMiB,MAAQsR,EAAGuL,OAAO9d,IAAK,GACrEuS,EAAG1S,SAAU0H,EAAK86B,QAAU,MACjC,IAAIpT,EAAS+T,GAAa/hC,MAC1B+tB,GAAiBznB,EAAMnH,KAAKgB,IAAI,EAAGmG,EAAK0nB,OAASA,IAC7CtrB,IACFm2C,GAAQn2C,GAAI,WACVymD,GAA6BzmD,EAAI4D,GAAO0nB,GACxCie,GAAcvpC,EAAIyrB,EAAI,aAExBsQ,GAAY/7B,EAAI,oBAAqBA,EAAI1C,KAAMmuB,MAInD86B,GAAW1oD,UAAUoxC,QAAU,WAC3B,IAAI4X,EAASvpD,KAEXwpD,EAAOxpD,KAAKguB,OAAQtrB,EAAK1C,KAAKqtB,IAAI3qB,GAAI4D,EAAOtG,KAAKsG,KACtDtG,KAAKguB,OAAS,KACd,IAAIC,EAAO8T,GAAa/hC,MAAQwpD,EAC3Bv7B,IACAmL,GAAap5B,KAAKqtB,IAAK/mB,IAASynB,GAAiBznB,EAAMA,EAAK0nB,OAASC,GACtEvrB,GACFm2C,GAAQn2C,GAAI,WACVA,EAAGkmB,MAAMgc,aAAc,EACvBukB,GAA6BzmD,EAAI4D,EAAM2nB,GACvCwQ,GAAY/7B,EAAI,oBAAqBA,EAAI6mD,EAAQr7B,GAAO5nB,SAI9DyiB,GAAWkgC,IA2CX,IAAIQ,GAAe,EAEfC,GAAa,SAASr8B,EAAKzkB,GAC7B5I,KAAKytB,MAAQ,GACbztB,KAAK4I,KAAOA,EACZ5I,KAAKqtB,IAAMA,EACXrtB,KAAKoiB,KAAOqnC,IAkHd,SAASE,GAASt8B,EAAKxlB,EAAMxB,EAAIvC,EAAS8E,GAIxC,GAAI9E,GAAWA,EAAQy9C,OAAU,OAAOqI,GAAev8B,EAAKxlB,EAAMxB,EAAIvC,EAAS8E,GAE/E,GAAIykB,EAAI3qB,KAAO2qB,EAAI3qB,GAAGkmB,MAAS,OAAOvhB,GAAUgmB,EAAI3qB,GAAIinD,GAAlBtiD,CAA4BgmB,EAAKxlB,EAAMxB,EAAIvC,EAAS8E,GAE1F,IAAI+rB,EAAS,IAAI+0B,GAAWr8B,EAAKzkB,GAAOqlB,EAAOW,GAAI/mB,EAAMxB,GAGzD,GAFIvC,GAAWyd,EAAQzd,EAAS6wB,GAAQ,GAEpC1G,EAAO,GAAa,GAARA,IAAuC,IAA1B0G,EAAOqC,eAChC,OAAOrC,EAQX,GAPIA,EAAOk1B,eAETl1B,EAAO4D,WAAY,EACnB5D,EAAO0E,WAAatZ,EAAK,OAAQ,CAAC4U,EAAOk1B,cAAe,qBACnD/lD,EAAQu9B,mBAAqB1M,EAAO0E,WAAWrZ,aAAa,mBAAoB,QACjFlc,EAAQgyB,aAAcnB,EAAO0E,WAAWvD,YAAa,IAEvDnB,EAAO4D,UAAW,CACpB,GAAII,GAA0BtL,EAAKxlB,EAAKvB,KAAMuB,EAAMxB,EAAIsuB,IACpD9sB,EAAKvB,MAAQD,EAAGC,MAAQqyB,GAA0BtL,EAAKhnB,EAAGC,KAAMuB,EAAMxB,EAAIsuB,GAC1E,MAAM,IAAIlgB,MAAM,oEACpBggB,KAGEE,EAAOm1B,cACPhH,GAAmBz1B,EAAK,CAACxlB,KAAMA,EAAMxB,GAAIA,EAAIwc,OAAQ,YAAawK,EAAIxgB,IAAKk4C,KAE/E,IAAsC7N,EAAlC6S,EAAUliD,EAAKvB,KAAM5D,EAAK2qB,EAAI3qB,GA0BlC,GAzBA2qB,EAAI3d,KAAKq6C,EAAS1jD,EAAGC,KAAO,GAAG,SAAUA,GACnC5D,GAAMiyB,EAAO4D,YAAc71B,EAAGoB,QAAQ+/B,cAAgBjL,GAAWtyB,IAAS5D,EAAG+D,QAAQmzB,UACrFsd,GAAgB,GAChBviB,EAAO4D,WAAawxB,GAAWliD,EAAKvB,MAAQynB,GAAiBznB,EAAM,GACvE0uB,GAAc1uB,EAAM,IAAIouB,GAAWC,EACAo1B,GAAWliD,EAAKvB,KAAOuB,EAAKrD,GAAK,KACjCulD,GAAW1jD,EAAGC,KAAOD,EAAG7B,GAAK,MAAO6oB,EAAI3qB,IAAM2qB,EAAI3qB,GAAGkmB,SACtFmhC,KAGAp1B,EAAO4D,WAAalL,EAAI3d,KAAK7H,EAAKvB,KAAMD,EAAGC,KAAO,GAAG,SAAUA,GAC7D8yB,GAAa/L,EAAK/mB,IAASynB,GAAiBznB,EAAM,MAGpDquB,EAAOq1B,cAAgB7yC,GAAGwd,EAAQ,qBAAqB,WAAc,OAAOA,EAAOvvB,WAEnFuvB,EAAOyC,WACT5C,MACInH,EAAI41B,QAAQrB,KAAKhjD,QAAUyuB,EAAI41B,QAAQpB,OAAOjjD,SAC9CyuB,EAAI48B,gBAENt1B,EAAO4D,YACT5D,EAAOvS,KAAOqnC,GACd90B,EAAOkxB,QAAS,GAEdnjD,EAAI,CAGN,GADIw0C,IAAiBx0C,EAAGkmB,MAAMsuB,eAAgB,GAC1CviB,EAAO4D,UACPgT,GAAU7oC,EAAImF,EAAKvB,KAAMD,EAAGC,KAAO,QAClC,GAAIquB,EAAOjsB,WAAaisB,EAAO+G,YAAc/G,EAAOgH,UAAYhH,EAAOiH,KACnEjH,EAAOkH,YAAclH,EAAO8G,MACjC,IAAK,IAAI18B,EAAI8I,EAAKvB,KAAMvH,GAAKsH,EAAGC,KAAMvH,IAAOktC,GAAcvpC,EAAI3D,EAAG,QAClE41B,EAAOkxB,QAAUX,GAAiBxiD,EAAG2qB,KACzCoR,GAAY/7B,EAAI,cAAeA,EAAIiyB,GAErC,OAAOA,EAjLT+0B,GAAWnpD,UAAU6E,MAAQ,WAC3B,IAAIpF,KAAK0jD,kBAAT,CACA,IAAIhhD,EAAK1C,KAAKqtB,IAAI3qB,GAAIwnD,EAASxnD,IAAOA,EAAGkmB,MAEzC,GADIshC,GAAUrT,GAAen0C,GACzBomB,GAAW9oB,KAAM,SAAU,CAC7B,IAAI8kB,EAAQ9kB,KAAKwH,OACbsd,GAAS2Z,GAAYz+B,KAAM,QAAS8kB,EAAMjd,KAAMid,EAAMze,IAG5D,IADA,IAAInG,EAAM,KAAMC,EAAM,KACbpB,EAAI,EAAGA,EAAIiB,KAAKytB,MAAM7uB,SAAUG,EAAG,CAC1C,IAAIuH,EAAOtG,KAAKytB,MAAM1uB,GAClB+1B,EAAOF,GAAiBtuB,EAAK8uB,YAAap1B,MAC1C0C,IAAO1C,KAAKu4B,UAAa0T,GAAcvpC,EAAIwrB,GAAO5nB,GAAO,QACpD5D,IACQ,MAAXoyB,EAAKzuB,KAAclG,EAAM+tB,GAAO5nB,IACnB,MAAbwuB,EAAKjtB,OAAgB3H,EAAMguB,GAAO5nB,KAExCA,EAAK8uB,YAAcL,GAAiBzuB,EAAK8uB,YAAaN,GACrC,MAAbA,EAAKjtB,MAAgB7H,KAAKu4B,YAAca,GAAap5B,KAAKqtB,IAAK/mB,IAAS5D,GACxEqrB,GAAiBznB,EAAM+jC,GAAW3nC,EAAG+D,UAE3C,GAAI/D,GAAM1C,KAAKu4B,YAAc71B,EAAGoB,QAAQ+/B,aAAgB,IAAK,IAAI5d,EAAM,EAAGA,EAAMjmB,KAAKytB,MAAM7uB,SAAUqnB,EAAK,CACxG,IAAIkkC,EAASvxB,GAAW54B,KAAKytB,MAAMxH,IAAOnT,EAAM2mB,GAAW0wB,GACvDr3C,EAAMpQ,EAAG+D,QAAQozB,gBACnBn3B,EAAG+D,QAAQmzB,QAAUuwB,EACrBznD,EAAG+D,QAAQozB,cAAgB/mB,EAC3BpQ,EAAG+D,QAAQqzB,gBAAiB,GAIrB,MAAP55B,GAAewC,GAAM1C,KAAKu4B,WAAagT,GAAU7oC,EAAIxC,EAAKC,EAAM,GACpEH,KAAKytB,MAAM7uB,OAAS,EACpBoB,KAAK0jD,mBAAoB,EACrB1jD,KAAK6lD,QAAU7lD,KAAKqtB,IAAI44B,WAC1BjmD,KAAKqtB,IAAI44B,UAAW,EAChBvjD,GAAMwiD,GAAiBxiD,EAAG2qB,MAE5B3qB,GAAM+7B,GAAY/7B,EAAI,gBAAiBA,EAAI1C,KAAME,EAAKC,GACtD+pD,GAAU9S,GAAa10C,GACvB1C,KAAK4f,QAAU5f,KAAK4f,OAAOxa,UAQjCskD,GAAWnpD,UAAUiH,KAAO,SAAU0mC,EAAM1U,GAE1C,IAAI3xB,EAAMxB,EADE,MAAR6nC,GAA6B,YAAbluC,KAAK4I,OAAsBslC,EAAO,GAEtD,IAAK,IAAInvC,EAAI,EAAGA,EAAIiB,KAAKytB,MAAM7uB,SAAUG,EAAG,CAC1C,IAAIuH,EAAOtG,KAAKytB,MAAM1uB,GAClB+1B,EAAOF,GAAiBtuB,EAAK8uB,YAAap1B,MAC9C,GAAiB,MAAb80B,EAAKjtB,OACPA,EAAOJ,GAAI+xB,EAAUlzB,EAAO4nB,GAAO5nB,GAAOwuB,EAAKjtB,OAClC,GAATqmC,GAAc,OAAOrmC,EAE3B,GAAe,MAAXitB,EAAKzuB,KACPA,EAAKoB,GAAI+xB,EAAUlzB,EAAO4nB,GAAO5nB,GAAOwuB,EAAKzuB,IACjC,GAAR6nC,GAAa,OAAO7nC,EAG5B,OAAOwB,GAAQ,CAACA,KAAMA,EAAMxB,GAAIA,IAKlCqjD,GAAWnpD,UAAUoxC,QAAU,WAC3B,IAAI4X,EAASvpD,KAEX8B,EAAM9B,KAAKwH,MAAM,GAAG,GAAOm1B,EAAS38B,KAAM0C,EAAK1C,KAAKqtB,IAAI3qB,GACvDZ,GAAQY,GACbm2C,GAAQn2C,GAAI,WACV,IAAI4D,EAAOxE,EAAIwE,KAAM2yB,EAAQ/K,GAAOpsB,EAAIwE,MACpCu3B,EAAO4G,GAAgB/hC,EAAIu2B,GAM/B,GALI4E,IACF6I,GAA6B7I,GAC7Bn7B,EAAGkmB,MAAMquB,iBAAmBv0C,EAAGkmB,MAAMgc,aAAc,GAErDliC,EAAGkmB,MAAMsuB,eAAgB,GACpB9d,GAAauD,EAAOtP,IAAK/mB,IAA0B,MAAjBq2B,EAAO3O,OAAgB,CAC5D,IAAI0iB,EAAY/T,EAAO3O,OACvB2O,EAAO3O,OAAS,KAChB,IAAIo8B,EAAUroB,GAAapF,GAAU+T,EACjC0Z,GACAr8B,GAAiBznB,EAAMA,EAAK0nB,OAASo8B,GAE3C3rB,GAAY/7B,EAAI,gBAAiBA,EAAI6mD,OAIzCG,GAAWnpD,UAAUg1B,WAAa,SAAUjvB,GAC1C,IAAKtG,KAAKytB,MAAM7uB,QAAUoB,KAAKqtB,IAAI3qB,GAAI,CACrC,IAAIuyB,EAAKj1B,KAAKqtB,IAAI3qB,GAAGkmB,MAChBqM,EAAGwjB,qBAA+D,GAAzC9zC,EAAQswB,EAAGwjB,mBAAoBz4C,QACxDi1B,EAAG0jB,uBAAyB1jB,EAAG0jB,qBAAuB,KAAKlsC,KAAKzM,MAEvEA,KAAKytB,MAAMhhB,KAAKnG,IAGlBojD,GAAWnpD,UAAUm3B,WAAa,SAAUpxB,GAE1C,GADAtG,KAAKytB,MAAM5Q,OAAOlY,EAAQ3E,KAAKytB,MAAOnnB,GAAO,IACxCtG,KAAKytB,MAAM7uB,QAAUoB,KAAKqtB,IAAI3qB,GAAI,CACrC,IAAIuyB,EAAKj1B,KAAKqtB,IAAI3qB,GAAGkmB,OACnBqM,EAAGwjB,qBAAuBxjB,EAAGwjB,mBAAqB,KAAKhsC,KAAKzM,QAGlE+oB,GAAW2gC,IA8EX,IAAIW,GAAmB,SAASnzB,EAAS3qB,GACvCvM,KAAKk3B,QAAUA,EACfl3B,KAAKuM,QAAUA,EACf,IAAK,IAAIxN,EAAI,EAAGA,EAAIm4B,EAAQt4B,SAAUG,EAClCm4B,EAAQn4B,GAAG6gB,OAAS5f,MAgB1B,SAAS4pD,GAAev8B,EAAKxlB,EAAMxB,EAAIvC,EAAS8E,GAC9C9E,EAAUyd,EAAQzd,GAClBA,EAAQy9C,QAAS,EACjB,IAAIrqB,EAAU,CAACyyB,GAASt8B,EAAKxlB,EAAMxB,EAAIvC,EAAS8E,IAAQ2D,EAAU2qB,EAAQ,GACtEyF,EAAS74B,EAAQu1B,WAQrB,OAPA2nB,GAAW3zB,GAAK,SAAUA,GACpBsP,IAAU74B,EAAQu1B,WAAasD,EAAO2tB,WAAU,IACpDpzB,EAAQzqB,KAAKk9C,GAASt8B,EAAK6B,GAAQ7B,EAAKxlB,GAAOqnB,GAAQ7B,EAAKhnB,GAAKvC,EAAS8E,IAC1E,IAAK,IAAI7J,EAAI,EAAGA,EAAIsuB,EAAIg0B,OAAOziD,SAAUG,EACrC,GAAIsuB,EAAIg0B,OAAOtiD,GAAGwrD,SAAY,OAClCh+C,EAAU8W,EAAI6T,MAET,IAAImzB,GAAiBnzB,EAAS3qB,GAGvC,SAASi+C,GAAkBn9B,GACzB,OAAOA,EAAIo9B,UAAUhjD,GAAI4lB,EAAIC,MAAO,GAAID,EAAI6B,QAAQznB,GAAI4lB,EAAI3lB,cAAc,SAAUyV,GAAK,OAAOA,EAAEyC,UAGpG,SAAS8qC,GAAkBr9B,EAAK6J,GAC9B,IAAK,IAAIn4B,EAAI,EAAGA,EAAIm4B,EAAQt4B,OAAQG,IAAK,CACvC,IAAI41B,EAASuC,EAAQn4B,GAAI+C,EAAM6yB,EAAOntB,OAClCmjD,EAAQt9B,EAAI6B,QAAQptB,EAAI+F,MAAO+iD,EAAMv9B,EAAI6B,QAAQptB,EAAIuE,IACzD,GAAIuoB,GAAI+7B,EAAOC,GAAM,CACnB,IAAIC,EAAUlB,GAASt8B,EAAKs9B,EAAOC,EAAKj2B,EAAOpoB,QAASooB,EAAOpoB,QAAQ3D,MACvE+rB,EAAOuC,QAAQzqB,KAAKo+C,GACpBA,EAAQjrC,OAAS+U,IAKvB,SAASm2B,GAAoB5zB,GAa3B,IAZA,IAAI5F,EAAO,SAAWvyB,GACpB,IAAI41B,EAASuC,EAAQn4B,GAAIsiD,EAAS,CAAC1sB,EAAOpoB,QAAQ8gB,KAClD2zB,GAAWrsB,EAAOpoB,QAAQ8gB,KAAK,SAAUsM,GAAK,OAAO0nB,EAAO50C,KAAKktB,MACjE,IAAK,IAAIzpB,EAAI,EAAGA,EAAIykB,EAAOuC,QAAQt4B,OAAQsR,IAAK,CAC9C,IAAI66C,EAAYp2B,EAAOuC,QAAQhnB,IACQ,GAAnCvL,EAAQ08C,EAAQ0J,EAAU19B,OAC5B09B,EAAUnrC,OAAS,KACnB+U,EAAOuC,QAAQra,OAAO3M,IAAK,MAKxBnR,EAAI,EAAGA,EAAIm4B,EAAQt4B,OAAQG,IAAKuyB,EAAMvyB,GAzDjDsrD,GAAiB9pD,UAAU6E,MAAQ,WACjC,IAAIpF,KAAK0jD,kBAAT,CACA1jD,KAAK0jD,mBAAoB,EACzB,IAAK,IAAI3kD,EAAI,EAAGA,EAAIiB,KAAKk3B,QAAQt4B,SAAUG,EACvCiB,KAAKk3B,QAAQn4B,GAAGqG,QACpBq5B,GAAYz+B,KAAM,WAGpBqqD,GAAiB9pD,UAAUiH,KAAO,SAAU0mC,EAAM1U,GAChD,OAAOx5B,KAAKuM,QAAQ/E,KAAK0mC,EAAM1U,IAEjCzQ,GAAWshC,IAiDX,IAAIW,GAAY,EACZC,GAAM,SAAS9nD,EAAMkI,EAAM1D,EAAWujD,EAASplC,GACjD,KAAM9lB,gBAAgBirD,IAAQ,OAAO,IAAIA,GAAI9nD,EAAMkI,EAAM1D,EAAWujD,EAASplC,GAC5D,MAAbne,IAAqBA,EAAY,GAErC2gD,GAAYxvC,KAAK9Y,KAAM,CAAC,IAAIqoD,GAAU,CAAC,IAAItuB,GAAK,GAAI,UACpD/5B,KAAKstB,MAAQ3lB,EACb3H,KAAKwnC,UAAYxnC,KAAKonC,WAAa,EACnCpnC,KAAKimD,UAAW,EAChBjmD,KAAKmrD,gBAAkB,EACvBnrD,KAAKwyB,aAAexyB,KAAKuyB,kBAAoB5qB,EAC7C,IAAI2B,EAAQ7B,GAAIE,EAAW,GAC3B3H,KAAK6M,IAAM0yC,GAAgBj2C,GAC3BtJ,KAAKijD,QAAU,IAAItB,GAAQ,MAC3B3hD,KAAKoiB,KAAO4oC,GACZhrD,KAAKigD,WAAa50C,EAClBrL,KAAKkrD,QAAUA,EACflrD,KAAK8lB,UAA0B,OAAbA,EAAsB,MAAQ,MAChD9lB,KAAKs6C,QAAS,EAEK,iBAARn3C,IAAoBA,EAAOnD,KAAK6nD,WAAW1kD,IACtDk9C,GAAUrgD,KAAM,CAAC6H,KAAMyB,EAAOjD,GAAIiD,EAAOnG,KAAMA,IAC/CyE,GAAa5H,KAAMu/C,GAAgBj2C,GAAQoZ,IAG7CuoC,GAAI1qD,UAAYojB,EAAU2kC,GAAY/nD,UAAW,CAC/C6qD,YAAaH,GAKbv7C,KAAM,SAAS7H,EAAMxB,EAAI4uB,GACnBA,EAAMj1B,KAAKyoD,MAAM5gD,EAAO7H,KAAKstB,MAAOjnB,EAAKwB,EAAMotB,GAC5Cj1B,KAAKyoD,MAAMzoD,KAAKstB,MAAOttB,KAAKstB,MAAQttB,KAAKutB,KAAM1lB,IAIxD84C,OAAQ,SAASz5B,EAAIuG,GAEnB,IADA,IAAIO,EAAS,EACJjvB,EAAI,EAAGA,EAAI0uB,EAAM7uB,SAAUG,EAAKivB,GAAUP,EAAM1uB,GAAGivB,OAC5DhuB,KAAKwoD,YAAYthC,EAAKlnB,KAAKstB,MAAOG,EAAOO,IAE3C4yB,OAAQ,SAAS15B,EAAIpF,GAAK9hB,KAAKuoD,YAAYrhC,EAAKlnB,KAAKstB,MAAOxL,IAK5DupC,SAAU,SAASH,GACjB,IAAIz9B,EAAQK,GAAS9tB,KAAMA,KAAKstB,MAAOttB,KAAKstB,MAAQttB,KAAKutB,MACzD,OAAgB,IAAZ29B,EAA4Bz9B,EACzBA,EAAMnY,KAAK41C,GAAWlrD,KAAKiM,kBAEpCq/C,SAAUvS,IAAY,SAAS5qC,GAC7B,IAAItH,EAAMY,GAAIzH,KAAKstB,MAAO,GAAI6B,EAAOnvB,KAAKstB,MAAQttB,KAAKutB,KAAO,EAC9D+4B,GAAWtmD,KAAM,CAAC6H,KAAMhB,EAAKR,GAAIoB,GAAI0nB,EAAM/B,GAAQptB,KAAMmvB,GAAMhsB,KAAKvE,QAClDuE,KAAMnD,KAAK6nD,WAAW15C,GAAO0U,OAAQ,WAAYwT,MAAM,IAAO,GAC5Er2B,KAAK0C,IAAMwwC,GAAelzC,KAAK0C,GAAI,EAAG,GAC1CkF,GAAa5H,KAAMu/C,GAAgB14C,GAAM6b,MAE3C3W,aAAc,SAASoC,EAAMtG,EAAMxB,EAAIwc,GACrChb,EAAOqnB,GAAQlvB,KAAM6H,GACrBxB,EAAKA,EAAK6oB,GAAQlvB,KAAMqG,GAAMwB,EAC9BkE,GAAa/L,KAAMmO,EAAMtG,EAAMxB,EAAIwc,IAErC5Z,SAAU,SAASpB,EAAMxB,EAAI6kD,GAC3B,IAAIz9B,EAAQI,GAAW7tB,KAAMkvB,GAAQlvB,KAAM6H,GAAOqnB,GAAQlvB,KAAMqG,IAChE,OAAgB,IAAZ6kD,EAA4Bz9B,EAChB,KAAZy9B,EAAyBz9B,EAAMnY,KAAK,IACjCmY,EAAMnY,KAAK41C,GAAWlrD,KAAKiM,kBAGpCmhB,QAAS,SAAS9mB,GAAO,IAAI+V,EAAIrc,KAAKurD,cAAcjlD,GAAO,OAAO+V,GAAKA,EAAElZ,MAEzEooD,cAAe,SAASjlD,GAAO,GAAIkoB,GAAOxuB,KAAMsG,GAAS,OAAO8mB,GAAQptB,KAAMsG,IAC9EklD,cAAe,SAASllD,GAAO,OAAO4nB,GAAO5nB,IAE7CmlD,yBAA0B,SAASnlD,GAEjC,MADmB,iBAARA,IAAoBA,EAAO8mB,GAAQptB,KAAMsG,IAC7CsyB,GAAWtyB,IAGpB8J,UAAW,WAAY,OAAOpQ,KAAKutB,MACnC5lB,UAAW,WAAY,OAAO3H,KAAKstB,OACnC5lB,SAAU,WAAY,OAAO1H,KAAKstB,MAAQttB,KAAKutB,KAAO,GAEtD2B,QAAS,SAASptB,GAAM,OAAOotB,GAAQlvB,KAAM8B,IAE7CkE,UAAW,SAASsD,GAClB,IAAgCxH,EAA5B0K,EAAQxM,KAAK6M,IAAIN,UAKrB,OAJwCzK,EAA3B,MAATwH,GAA0B,QAATA,EAAyBkD,EAAMX,KAClC,UAATvC,EAA2BkD,EAAME,OACxB,OAATpD,GAA2B,MAATA,IAA2B,IAAVA,EAAyBkD,EAAMnG,KAC9DmG,EAAM3E,OACZ/F,GAET2J,eAAgB,WAAa,OAAOzL,KAAK6M,IAAIrB,QAC7CwzC,kBAAmB,WAAY,OAAOh/C,KAAK6M,IAAImyC,qBAE/C0M,UAAW3S,IAAY,SAASzyC,EAAM9B,EAAIV,GACxC6gD,GAAmB3kD,KAAMkvB,GAAQlvB,KAAqB,iBAARsG,EAAmBmB,GAAInB,EAAM9B,GAAM,GAAK8B,GAAO,KAAMxC,MAErG8D,aAAcmxC,IAAY,SAASrsC,EAAQb,EAAM/H,GAC/C6gD,GAAmB3kD,KAAMkvB,GAAQlvB,KAAM0M,GAASwiB,GAAQlvB,KAAM6L,GAAQa,GAAS5I,MAEjFwgD,gBAAiBvL,IAAY,SAASltC,EAAM68B,EAAO5kC,GACjDwgD,GAAgBtkD,KAAMkvB,GAAQlvB,KAAM6L,GAAO68B,GAASxZ,GAAQlvB,KAAM0oC,GAAQ5kC,MAE5EygD,iBAAkBxL,IAAY,SAASyL,EAAO1gD,GAC5CygD,GAAiBvkD,KAAMsvB,GAAatvB,KAAMwkD,GAAQ1gD,MAEpD6nD,mBAAoB5S,IAAY,SAAS90C,EAAGH,GAC1C,IAAI0gD,EAAQ3lD,EAAImB,KAAK6M,IAAIrB,OAAQvH,GACjCsgD,GAAiBvkD,KAAMsvB,GAAatvB,KAAMwkD,GAAQ1gD,MAEpD6I,cAAeosC,IAAY,SAASvtC,EAAQe,EAASzI,GACnD,GAAK0H,EAAO5M,OAAZ,CAEA,IADA,IAAI0kB,EAAM,GACDvkB,EAAI,EAAGA,EAAIyM,EAAO5M,OAAQG,IAC/BukB,EAAIvkB,GAAK,IAAIggD,GAAM7vB,GAAQlvB,KAAMwL,EAAOzM,GAAG2N,QAC1BwiB,GAAQlvB,KAAMwL,EAAOzM,GAAG8M,MAAQL,EAAOzM,GAAG2N,SAChD,MAAXH,IAAmBA,EAAUpN,KAAKe,IAAIsL,EAAO5M,OAAS,EAAGoB,KAAK6M,IAAIkgC,YACtEnlC,GAAa5H,KAAMi/C,GAAmBj/C,KAAK0C,GAAI4gB,EAAK/W,GAAUzI,OAEhE8nD,aAAc7S,IAAY,SAASrsC,EAAQb,EAAM/H,GAC/C,IAAI0H,EAASxL,KAAK6M,IAAIrB,OAAOoC,MAAM,GACnCpC,EAAOiB,KAAK,IAAIsyC,GAAM7vB,GAAQlvB,KAAM0M,GAASwiB,GAAQlvB,KAAM6L,GAAQa,KACnE9E,GAAa5H,KAAMi/C,GAAmBj/C,KAAK0C,GAAI8I,EAAQA,EAAO5M,OAAS,GAAIkF,MAG7E6B,aAAc,SAASulD,GAErB,IADA,IAA8Bz9B,EAA1BjiB,EAASxL,KAAK6M,IAAIrB,OACbzM,EAAI,EAAGA,EAAIyM,EAAO5M,OAAQG,IAAK,CACtC,IAAI8N,EAAMghB,GAAW7tB,KAAMwL,EAAOzM,GAAG8I,OAAQ2D,EAAOzM,GAAGsH,MACvDonB,EAAQA,EAAQA,EAAM3F,OAAOjb,GAAOA,EAEtC,OAAgB,IAAZq+C,EAA4Bz9B,EAClBA,EAAMnY,KAAK41C,GAAWlrD,KAAKiM,kBAE3CyB,cAAe,SAASw9C,GAEtB,IADA,IAAI11C,EAAQ,GAAIhK,EAASxL,KAAK6M,IAAIrB,OACzBzM,EAAI,EAAGA,EAAIyM,EAAO5M,OAAQG,IAAK,CACtC,IAAI8N,EAAMghB,GAAW7tB,KAAMwL,EAAOzM,GAAG8I,OAAQ2D,EAAOzM,GAAGsH,OACvC,IAAZ6kD,IAAqBr+C,EAAMA,EAAIyI,KAAK41C,GAAWlrD,KAAKiM,kBACxDuJ,EAAMzW,GAAK8N,EAEb,OAAO2I,GAETtJ,iBAAkB,SAASiC,EAAM8S,EAAU4B,GAEzC,IADA,IAAIgpC,EAAM,GACD9sD,EAAI,EAAGA,EAAIiB,KAAK6M,IAAIrB,OAAO5M,OAAQG,IACxC8sD,EAAI9sD,GAAKoP,EACbnO,KAAK2N,kBAAkBk+C,EAAK5qC,EAAU4B,GAAU,WAElDlV,kBAAmBorC,IAAY,SAAS5qC,EAAM8S,EAAU4B,GAEtD,IADA,IAAIkc,EAAU,GAAIlyB,EAAM7M,KAAK6M,IACpB9N,EAAI,EAAGA,EAAI8N,EAAIrB,OAAO5M,OAAQG,IAAK,CAC1C,IAAIyN,EAAQK,EAAIrB,OAAOzM,GACvBggC,EAAQhgC,GAAK,CAAC8I,KAAM2E,EAAM3E,OAAQxB,GAAImG,EAAMnG,KAAMlD,KAAMnD,KAAK6nD,WAAW15C,EAAKpP,IAAK8jB,OAAQA,GAG5F,IADA,IAAI4hC,EAASxjC,GAAwB,OAAZA,GAAqB2+B,GAAmB5/C,KAAM++B,EAAS9d,GACvEgF,EAAM8Y,EAAQngC,OAAS,EAAGqnB,GAAO,EAAGA,IACzCqgC,GAAWtmD,KAAM++B,EAAQ9Y,IACzBw+B,EAAUI,GAA2B7kD,KAAMykD,GACtCzkD,KAAK0C,IAAMqwC,GAAoB/yC,KAAK0C,OAE/CopD,KAAM/S,IAAY,WAAY8N,GAAsB7mD,KAAM,WAC1D+rD,KAAMhT,IAAY,WAAY8N,GAAsB7mD,KAAM,WAC1DgsD,cAAejT,IAAY,WAAY8N,GAAsB7mD,KAAM,QAAQ,MAC3EisD,cAAelT,IAAY,WAAY8N,GAAsB7mD,KAAM,QAAQ,MAE3EksD,aAAc,SAAS7hD,GAAMrK,KAAKs6C,OAASjwC,GAC3C8hD,aAAc,WAAY,OAAOnsD,KAAKs6C,QAEtC8R,YAAa,WAEX,IADA,IAAIvJ,EAAO7iD,KAAKijD,QAASrB,EAAO,EAAGC,EAAS,EACnC9iD,EAAI,EAAGA,EAAI8jD,EAAKjB,KAAKhjD,OAAQG,IAAY8jD,EAAKjB,KAAK7iD,GAAGyM,UAAYo2C,EAC3E,IAAK,IAAI37B,EAAM,EAAGA,EAAM48B,EAAKhB,OAAOjjD,OAAQqnB,IAAc48B,EAAKhB,OAAO57B,GAAKza,UAAYq2C,EACvF,MAAO,CAACiK,KAAMlK,EAAMmK,KAAMlK,IAE5BoI,aAAc,WACZ,IAAIV,EAASvpD,KAEbA,KAAKijD,QAAU,IAAItB,GAAQ3hD,KAAKijD,SAChCjC,GAAWhhD,MAAM,SAAUqtB,GAAO,OAAOA,EAAI41B,QAAUsG,EAAOtG,WAAY,IAG5EoJ,UAAW,WACTrsD,KAAKmrD,gBAAkBnrD,KAAKssD,kBAAiB,IAE/CA,iBAAkB,SAASC,GAGzB,OAFIA,IACAvsD,KAAKijD,QAAQhB,OAASjiD,KAAKijD,QAAQf,UAAYliD,KAAKijD,QAAQd,WAAa,MACtEniD,KAAKijD,QAAQZ,YAEtBmK,QAAS,SAAUC,GACjB,OAAOzsD,KAAKijD,QAAQZ,aAAeoK,GAAOzsD,KAAKmrD,kBAGjDuB,WAAY,WACV,MAAO,CAAC9K,KAAMoC,GAAiBhkD,KAAKijD,QAAQrB,MACpCC,OAAQmC,GAAiBhkD,KAAKijD,QAAQpB,UAEhD8K,WAAY,SAASC,GACnB,IAAI/J,EAAO7iD,KAAKijD,QAAU,IAAItB,GAAQ3hD,KAAKijD,SAC3CJ,EAAKjB,KAAOoC,GAAiB4I,EAAShL,KAAKh0C,MAAM,GAAI,MAAM,GAC3Di1C,EAAKhB,OAASmC,GAAiB4I,EAAS/K,OAAOj0C,MAAM,GAAI,MAAM,IAGjEi/C,gBAAiB9T,IAAY,SAASzyC,EAAMwmD,EAAUtpD,GACpD,OAAO0kD,GAAWloD,KAAMsG,EAAM,UAAU,SAAUA,GAChD,IAAI4wB,EAAU5wB,EAAK85B,gBAAkB95B,EAAK85B,cAAgB,IAG1D,OAFAlJ,EAAQ41B,GAAYtpD,GACfA,GAAS2gB,GAAQ+S,KAAY5wB,EAAK85B,cAAgB,OAChD,QAIX2sB,YAAahU,IAAY,SAAS+T,GAChC,IAAIvD,EAASvpD,KAEbA,KAAK0P,MAAK,SAAUpJ,GACdA,EAAK85B,eAAiB95B,EAAK85B,cAAc0sB,IAC3C5E,GAAWqB,EAAQjjD,EAAM,UAAU,WAGjC,OAFAA,EAAK85B,cAAc0sB,GAAY,KAC3B3oC,GAAQ7d,EAAK85B,iBAAkB95B,EAAK85B,cAAgB,OACjD,WAMf4sB,SAAU,SAAS1mD,GACjB,IAAIwb,EACJ,GAAmB,iBAARxb,EAAkB,CAC3B,IAAKkoB,GAAOxuB,KAAMsG,GAAS,OAAO,KAGlC,GAFAwb,EAAIxb,EACJA,EAAO8mB,GAAQptB,KAAMsG,IAChBA,EAAQ,OAAO,UAGpB,GADAwb,EAAIoM,GAAO5nB,GACF,MAALwb,EAAa,OAAO,KAE1B,MAAO,CAACxb,KAAMwb,EAAGqmC,OAAQ7hD,EAAMnD,KAAMmD,EAAKnD,KAAMi9B,cAAe95B,EAAK85B,cAC5DtO,UAAWxrB,EAAKwrB,UAAWD,QAASvrB,EAAKurB,QAASgO,UAAWv5B,EAAKu5B,UAClEuB,QAAS96B,EAAK86B,UAGxB6rB,aAAclU,IAAY,SAASoP,EAAQ+E,EAAO9tC,GAChD,OAAO8oC,GAAWloD,KAAMmoD,EAAiB,UAAT+E,EAAoB,SAAW,SAAS,SAAU5mD,GAChF,IAAImb,EAAgB,QAATyrC,EAAkB,YACT,cAATA,EAAwB,UACf,UAATA,EAAoB,cAAgB,YAC/C,GAAK5mD,EAAKmb,GACL,IAAItC,EAAUC,GAAKva,KAAKyB,EAAKmb,IAAU,OAAO,EAC5Cnb,EAAKmb,IAAS,IAAMrC,OAFR9Y,EAAKmb,GAAQrC,EAGhC,OAAO,QAGX+tC,gBAAiBpU,IAAY,SAASoP,EAAQ+E,EAAO9tC,GACnD,OAAO8oC,GAAWloD,KAAMmoD,EAAiB,UAAT+E,EAAoB,SAAW,SAAS,SAAU5mD,GAChF,IAAImb,EAAgB,QAATyrC,EAAkB,YACT,cAATA,EAAwB,UACf,UAATA,EAAoB,cAAgB,YAC3CphD,EAAMxF,EAAKmb,GACf,IAAK3V,EAAO,OAAO,EACd,GAAW,MAAPsT,EAAe9Y,EAAKmb,GAAQ,SAChC,CACH,IAAIqD,EAAQhZ,EAAI/J,MAAMod,EAAUC,IAChC,IAAK0F,EAAS,OAAO,EACrB,IAAI1P,EAAM0P,EAAM5iB,MAAQ4iB,EAAM,GAAGlmB,OACjC0H,EAAKmb,GAAQ3V,EAAI8B,MAAM,EAAGkX,EAAM5iB,QAAW4iB,EAAM5iB,OAASkT,GAAOtJ,EAAIlN,OAAc,IAAL,IAAYkN,EAAI8B,MAAMwH,IAAQ,KAE9G,OAAO,QAIXg0C,cAAerQ,IAAY,SAASoP,EAAQ9oC,EAAMvb,GAChD,OAAOslD,GAAcppD,KAAMmoD,EAAQ9oC,EAAMvb,MAE3CspD,iBAAkB,SAASzwB,GAAUA,EAAOv3B,SAE5CukD,SAAU,SAAS9hD,EAAMxB,EAAIvC,GAC3B,OAAO6lD,GAAS3pD,KAAMkvB,GAAQlvB,KAAM6H,GAAOqnB,GAAQlvB,KAAMqG,GAAKvC,EAASA,GAAWA,EAAQ8E,MAAQ,UAEpGykD,YAAa,SAASvrD,EAAKgC,GACzB,IAAIwpD,EAAW,CAACzD,aAAc/lD,IAAgC,MAApBA,EAAQoc,SAAmBpc,EAAQ64B,OAAS74B,GACtEgyB,WAAYhyB,GAAWA,EAAQgyB,WAC/BkB,gBAAgB,EAAOuqB,OAAQz9C,GAAWA,EAAQy9C,OAClDlgB,kBAAmBv9B,GAAWA,EAAQu9B,mBAEtD,OADAv/B,EAAMotB,GAAQlvB,KAAM8B,GACb6nD,GAAS3pD,KAAM8B,EAAKA,EAAKwrD,EAAU,aAE5CC,YAAa,SAASzrD,GACpBA,EAAMotB,GAAQlvB,KAAM8B,GACpB,IAAIo1B,EAAU,GAAIrC,EAAQzH,GAAQptB,KAAM8B,EAAIwE,MAAM8uB,YAClD,GAAIP,EAAS,IAAK,IAAI91B,EAAI,EAAGA,EAAI81B,EAAMj2B,SAAUG,EAAG,CAClD,IAAI+1B,EAAOD,EAAM91B,IACC,MAAb+1B,EAAKjtB,MAAgBitB,EAAKjtB,MAAQ/F,EAAI0C,MAC3B,MAAXswB,EAAKzuB,IAAcyuB,EAAKzuB,IAAMvE,EAAI0C,KACnC0yB,EAAQzqB,KAAKqoB,EAAKH,OAAO/U,QAAUkV,EAAKH,QAE9C,OAAOuC,GAETuzB,UAAW,SAAS5iD,EAAMxB,EAAI4gD,GAC5Bp/C,EAAOqnB,GAAQlvB,KAAM6H,GAAOxB,EAAK6oB,GAAQlvB,KAAMqG,GAC/C,IAAIye,EAAQ,GAAIoJ,EAASrmB,EAAKvB,KAa9B,OAZAtG,KAAK0P,KAAK7H,EAAKvB,KAAMD,EAAGC,KAAO,GAAG,SAAUA,GAC1C,IAAIuuB,EAAQvuB,EAAK8uB,YACjB,GAAIP,EAAS,IAAK,IAAI91B,EAAI,EAAGA,EAAI81B,EAAMj2B,OAAQG,IAAK,CAClD,IAAI+1B,EAAOD,EAAM91B,GACA,MAAX+1B,EAAKzuB,IAAc6nB,GAAUrmB,EAAKvB,MAAQuB,EAAKrD,IAAMswB,EAAKzuB,IAC7C,MAAbyuB,EAAKjtB,MAAgBqmB,GAAUrmB,EAAKvB,MACvB,MAAbwuB,EAAKjtB,MAAgBqmB,GAAU7nB,EAAGC,MAAQwuB,EAAKjtB,MAAQxB,EAAG7B,IAC1DyiD,IAAUA,EAAOnyB,EAAKH,SACxB7P,EAAMrY,KAAKqoB,EAAKH,OAAO/U,QAAUkV,EAAKH,UAE1CzG,KAEGpJ,GAET0oC,YAAa,WACX,IAAIt2B,EAAU,GAMd,OALAl3B,KAAK0P,MAAK,SAAUpJ,GAClB,IAAI+xB,EAAM/xB,EAAK8uB,YACf,GAAIiD,EAAO,IAAK,IAAIt5B,EAAI,EAAGA,EAAIs5B,EAAIz5B,SAAUG,EACtB,MAAfs5B,EAAIt5B,GAAG8I,MAAgBqvB,EAAQzqB,KAAK4rB,EAAIt5B,GAAG41B,WAE9CuC,GAGTu2B,aAAc,SAASzlC,GACrB,IAAIxjB,EAAI0pB,EAASluB,KAAKstB,MAAOogC,EAAU1tD,KAAKiM,gBAAgBrN,OAO5D,OANAoB,KAAK0P,MAAK,SAAUpJ,GAClB,IAAIqnB,EAAKrnB,EAAKnD,KAAKvE,OAAS8uD,EAC5B,GAAI//B,EAAK3F,EAAiB,OAAVxjB,EAAKwjB,GAAY,EACjCA,GAAO2F,IACLO,KAEGgB,GAAQlvB,KAAMyH,GAAIymB,EAAQ1pB,KAEnCmpD,aAAc,SAAU1lB,GACtBA,EAAS/Y,GAAQlvB,KAAMioC,GACvB,IAAI/lC,EAAQ+lC,EAAOzjC,GACnB,GAAIyjC,EAAO3hC,KAAOtG,KAAKstB,OAAS2a,EAAOzjC,GAAK,EAAK,OAAO,EACxD,IAAIkpD,EAAU1tD,KAAKiM,gBAAgBrN,OAInC,OAHAoB,KAAK0P,KAAK1P,KAAKstB,MAAO2a,EAAO3hC,MAAM,SAAUA,GAC3CpE,GAASoE,EAAKnD,KAAKvE,OAAS8uD,KAEvBxrD,GAGTmxB,KAAM,SAASu6B,GACb,IAAIvgC,EAAM,IAAI49B,GAAIn9B,GAAS9tB,KAAMA,KAAKstB,MAAOttB,KAAKstB,MAAQttB,KAAKutB,MAC7CvtB,KAAKigD,WAAYjgD,KAAKstB,MAAOttB,KAAKkrD,QAASlrD,KAAK8lB,WAQlE,OAPAuH,EAAIma,UAAYxnC,KAAKwnC,UAAWna,EAAI+Z,WAAapnC,KAAKonC,WACtD/Z,EAAIxgB,IAAM7M,KAAK6M,IACfwgB,EAAIitB,QAAS,EACTsT,IACFvgC,EAAI41B,QAAQnB,UAAY9hD,KAAKijD,QAAQnB,UACrCz0B,EAAIs/B,WAAW3sD,KAAK0sD,eAEfr/B,GAGTwgC,UAAW,SAAS/pD,GACbA,IAAWA,EAAU,IAC1B,IAAI+D,EAAO7H,KAAKstB,MAAOjnB,EAAKrG,KAAKstB,MAAQttB,KAAKutB,KAC1B,MAAhBzpB,EAAQ+D,MAAgB/D,EAAQ+D,KAAOA,IAAQA,EAAO/D,EAAQ+D,MAChD,MAAd/D,EAAQuC,IAAcvC,EAAQuC,GAAKA,IAAMA,EAAKvC,EAAQuC,IAC1D,IAAIgtB,EAAO,IAAI43B,GAAIn9B,GAAS9tB,KAAM6H,EAAMxB,GAAKvC,EAAQuH,MAAQrL,KAAKigD,WAAYp4C,EAAM7H,KAAKkrD,QAASlrD,KAAK8lB,WAKvG,OAJIhiB,EAAQs9C,aAAc/tB,EAAK4vB,QAAUjjD,KAAKijD,UAC1CjjD,KAAKqhD,SAAWrhD,KAAKqhD,OAAS,KAAK50C,KAAK,CAAC4gB,IAAKgG,EAAM+tB,WAAYt9C,EAAQs9C,aAC5E/tB,EAAKguB,OAAS,CAAC,CAACh0B,IAAKrtB,KAAMuqD,UAAU,EAAMnJ,WAAYt9C,EAAQs9C,aAC/DsJ,GAAkBr3B,EAAMm3B,GAAkBxqD,OACnCqzB,GAETy6B,UAAW,SAASplB,GAElB,GADIA,aAAiBxnC,KAAcwnC,EAAQA,EAAMrb,KAC7CrtB,KAAKqhD,OAAU,IAAK,IAAItiD,EAAI,EAAGA,EAAIiB,KAAKqhD,OAAOziD,SAAUG,EAAG,CAC9D,IAAIgvD,EAAO/tD,KAAKqhD,OAAOtiD,GACvB,GAAIgvD,EAAK1gC,KAAOqb,EAAhB,CACA1oC,KAAKqhD,OAAOxkC,OAAO9d,EAAG,GACtB2pC,EAAMolB,UAAU9tD,MAChB8qD,GAAoBN,GAAkBxqD,OACtC,OAGF,GAAI0oC,EAAMua,SAAWjjD,KAAKijD,QAAS,CACjC,IAAI+K,EAAW,CAACtlB,EAAMtmB,IACtB4+B,GAAWtY,GAAO,SAAUrb,GAAO,OAAO2gC,EAASvhD,KAAK4gB,EAAIjL,OAAQ,GACpEsmB,EAAMua,QAAU,IAAItB,GAAQ,MAC5BjZ,EAAMua,QAAQrB,KAAOoC,GAAiBhkD,KAAKijD,QAAQrB,KAAMoM,GACzDtlB,EAAMua,QAAQpB,OAASmC,GAAiBhkD,KAAKijD,QAAQpB,OAAQmM,KAGjEC,eAAgB,SAAShqD,GAAI+8C,GAAWhhD,KAAMiE,IAE9C6nB,QAAS,WAAY,OAAO9rB,KAAKqL,MACjC6iD,UAAW,WAAY,OAAOluD,KAAK0C,IAEnCmlD,WAAY,SAASvoD,GACnB,OAAIU,KAAKkrD,QAAkB5rD,EAAIX,MAAMqB,KAAKkrD,SACnC5gC,GAAehrB,IAExB2M,cAAe,WAAa,OAAOjM,KAAKkrD,SAAW,MAEnDiD,aAAcpV,IAAY,SAAU1sC,GACvB,OAAPA,IAAgBA,EAAM,OACtBA,GAAOrM,KAAK8lB,YAChB9lB,KAAK8lB,UAAYzZ,EACjBrM,KAAK0P,MAAK,SAAUpJ,GAAQ,OAAOA,EAAKue,MAAQ,QAC5C7kB,KAAK0C,IAAMg/C,GAAiB1hD,KAAK0C,UAKzCuoD,GAAI1qD,UAAU6tD,SAAWnD,GAAI1qD,UAAUmP,KAIvC,IAAI2+C,GAAW,EAEf,SAASC,GAAO1pD,GACd,IAAIlC,EAAK1C,KAET,GADAuuD,GAAgB7rD,IACZ2lB,GAAe3lB,EAAIkC,KAAMu9B,GAAcz/B,EAAG+D,QAAS7B,GAAvD,CAEAkT,GAAiBlT,GACbkZ,IAAMuwC,IAAY,IAAI1uD,MAC1B,IAAImC,EAAMgpC,GAAapoC,EAAIkC,GAAG,GAAO4pD,EAAQ5pD,EAAE6pD,aAAaD,MAC5D,GAAK1sD,IAAOY,EAAGgsD,aAGf,GAAIF,GAASA,EAAM5vD,QAAUgX,OAAO2D,YAAc3D,OAAO+4C,KAkCvD,IAjCA,IAAI7sC,EAAI0sC,EAAM5vD,OAAQuE,EAAOmR,MAAMwN,GAAI8sC,EAAO,EAC1CC,EAAsC,aAClCD,GAAQ9sC,GACZza,GAAU3E,GAAI,WACZZ,EAAMotB,GAAQxsB,EAAG2qB,IAAKvrB,GACtB,IAAIs0B,EAAS,CAACvuB,KAAM/F,EAAKuE,GAAIvE,EACfqB,KAAMT,EAAG2qB,IAAIw6B,WACT1kD,EAAK8jD,QAAO,SAAU6H,GAAK,OAAY,MAALA,KAAcx5C,KAAK5S,EAAG2qB,IAAIphB,kBAChE4W,OAAQ,SACtByjC,GAAW5jD,EAAG2qB,IAAK+I,GACnByuB,GAA2BniD,EAAG2qB,IAAKkyB,GAAgBrwB,GAAQxsB,EAAG2qB,IAAKvrB,GAAMotB,GAAQxsB,EAAG2qB,IAAKmyB,GAAUppB,QAPrG/uB,IAWA0nD,EAAmB,SAAUC,EAAMjwD,GACrC,GAAI2D,EAAGoB,QAAQmrD,qBAC2C,GAAtDtqD,EAAQjC,EAAGoB,QAAQmrD,mBAAoBD,EAAKpmD,MAC9CimD,QAFF,CAKA,IAAIK,EAAS,IAAI31C,WACjB21C,EAAO58C,QAAU,WAAc,OAAOu8C,KACtCK,EAAO11C,OAAS,WACd,IAAIC,EAAUy1C,EAAO3/C,OACjB,0BAA0B1K,KAAK4U,KAInCtW,EAAKpE,GAAK0a,GAHRo1C,KAMJK,EAAOC,WAAWH,KAEXjwD,EAAI,EAAGA,EAAIyvD,EAAM5vD,OAAQG,IAAOgwD,EAAiBP,EAAMzvD,GAAIA,OAC/D,CAEL,GAAI2D,EAAGC,MAAMwtC,cAAgBztC,EAAG2qB,IAAIxgB,IAAIoT,SAASne,IAAQ,EAIvD,OAHAY,EAAGC,MAAMwtC,aAAavrC,QAEtBmT,YAAW,WAAc,OAAOrV,EAAG+D,QAAQm2B,MAAM9lB,UAAY,IAG/D,IACE,IAAIs4C,EAASxqD,EAAE6pD,aAAaY,QAAQ,QACpC,GAAID,EAAQ,CACV,IAAIE,EAIJ,GAHI5sD,EAAGC,MAAMwtC,eAAiBztC,EAAGC,MAAMwtC,aAAa9c,OAChDi8B,EAAW5sD,EAAG+I,kBAClBq5C,GAAmBpiD,EAAG2qB,IAAKkyB,GAAgBz9C,EAAKA,IAC5CwtD,EAAY,IAAK,IAAIrpC,EAAM,EAAGA,EAAMqpC,EAAS1wD,SAAUqnB,EACvDla,GAAarJ,EAAG2qB,IAAK,GAAIiiC,EAASrpC,GAAKvZ,OAAQ4iD,EAASrpC,GAAKpa,KAAM,QACvEnJ,EAAGwJ,iBAAiBkjD,EAAQ,SAAU,SACtC1sD,EAAG+D,QAAQm2B,MAAM9lB,SAGrB,MAAMs0B,OAIV,SAASmkB,GAAY7sD,EAAIkC,GACvB,GAAIkZ,KAAQpb,EAAGC,MAAMwtC,eAAiB,IAAIxwC,KAAO0uD,GAAW,KAAQtoD,GAAOnB,QAC3E,IAAIyjB,GAAe3lB,EAAIkC,KAAMu9B,GAAcz/B,EAAG+D,QAAS7B,KAEvDA,EAAE6pD,aAAae,QAAQ,OAAQ9sD,EAAGiD,gBAClCf,EAAE6pD,aAAagB,cAAgB,WAI3B7qD,EAAE6pD,aAAaiB,eAAiBrxC,GAAQ,CAC1C,IAAIsxC,EAAM9vC,EAAI,MAAO,KAAM,KAAM,qCACjC8vC,EAAIzyC,IAAM,6EACNkB,IACFuxC,EAAIluB,MAAQkuB,EAAI3hC,OAAS,EACzBtrB,EAAG+D,QAAQC,QAAQ8B,YAAYmnD,GAE/BA,EAAIC,KAAOD,EAAIltB,WAEjB79B,EAAE6pD,aAAaiB,aAAaC,EAAK,EAAG,GAChCvxC,GAAUuxC,EAAI/4C,WAAWC,YAAY84C,IAI7C,SAASE,GAAWntD,EAAIkC,GACtB,IAAI9C,EAAMgpC,GAAapoC,EAAIkC,GAC3B,GAAK9C,EAAL,CACA,IAAIguD,EAAOvpD,SAAS6B,yBACpB4kC,GAAoBtqC,EAAIZ,EAAKguD,GACxBptD,EAAG+D,QAAQspD,aACdrtD,EAAG+D,QAAQspD,WAAalwC,EAAI,MAAO,KAAM,6CACzCnd,EAAG+D,QAAQ+7B,UAAU/C,aAAa/8B,EAAG+D,QAAQspD,WAAYrtD,EAAG+D,QAAQgpC,YAEtE9vB,EAAqBjd,EAAG+D,QAAQspD,WAAYD,IAG9C,SAASvB,GAAgB7rD,GACnBA,EAAG+D,QAAQspD,aACbrtD,EAAG+D,QAAQ+7B,UAAU3rB,YAAYnU,EAAG+D,QAAQspD,YAC5CrtD,EAAG+D,QAAQspD,WAAa,MAQ5B,SAASC,GAAkB/rD,GACzB,GAAKsC,SAAS0pD,uBAAd,CAEA,IADA,IAAIC,EAAU3pD,SAAS0pD,uBAAuB,cAAeE,EAAU,GAC9DpxD,EAAI,EAAGA,EAAImxD,EAAQtxD,OAAQG,IAAK,CACvC,IAAI2D,EAAKwtD,EAAQnxD,GAAGmC,WAChBwB,GAAMytD,EAAQ1jD,KAAK/J,GAErBytD,EAAQvxD,QAAUuxD,EAAQ,GAAG9oD,WAAU,WACzC,IAAK,IAAItI,EAAI,EAAGA,EAAIoxD,EAAQvxD,OAAQG,IAAOkF,EAAEksD,EAAQpxD,QAIzD,IAAIqxD,IAAoB,EACxB,SAASC,KACHD,KACJE,KACAF,IAAoB,GAEtB,SAASE,KAEP,IAAIC,EACJp5C,GAAGvB,OAAQ,UAAU,WACA,MAAf26C,IAAuBA,EAAcx4C,YAAW,WAClDw4C,EAAc,KACdP,GAAkBQ,MACjB,SAGLr5C,GAAGvB,OAAQ,QAAQ,WAAc,OAAOo6C,GAAkBlgB,OAG5D,SAAS0gB,GAAS9tD,GAChB,IAAIi3B,EAAIj3B,EAAG+D,QAEXkzB,EAAEmN,gBAAkBnN,EAAEoN,iBAAmBpN,EAAEiJ,eAAiB,KAC5DjJ,EAAEqgB,mBAAoB,EACtBt3C,EAAG+tD,UAeL,IAZA,IAAIC,GAAW,CACbC,EAAG,QAASC,EAAG,YAAaC,EAAG,MAAOC,GAAI,QAASC,GAAI,QAASC,GAAI,OAAQC,GAAI,MAChFC,GAAI,QAASC,GAAI,WAAYC,GAAI,MAAOC,GAAI,QAASC,GAAI,SAAUC,GAAI,WAAYC,GAAI,MACvFC,GAAI,OAAQC,GAAI,OAAQC,GAAI,KAAMC,GAAI,QAASC,GAAI,OAAQC,GAAI,YAAaC,GAAI,SAChFC,GAAI,SAAUC,GAAI,IAAKC,GAAI,IAAKC,GAAI,MAAOC,GAAI,MAAOC,GAAI,MAC1DC,IAAK,IAAKC,IAAK,IAAKC,IAAK,IAAKC,IAAK,IAAKC,IAAK,IAAKC,IAAK,aACvDC,IAAK,IAAKC,IAAK,IAAKC,IAAK,IAAKC,IAAK,IAAKC,IAAK,IAAKC,IAAK,IAAKC,IAAK,IAAKC,IAAK,IAAKC,IAAK,IAAKC,IAAK,KAC/FC,IAAK,IAAKC,IAAK,IAAKC,IAAK,MAAOC,MAAO,KAAMC,MAAO,OAAQC,MAAO,OAAQC,MAAO,QAASC,MAAO,SAClGC,MAAO,OAAQC,MAAO,MAAOC,MAAO,SAAUC,MAAO,WAAYC,MAAO,UAIjEn1D,GAAI,EAAGA,GAAI,GAAIA,KAAO2xD,GAAS3xD,GAAI,IAAM2xD,GAAS3xD,GAAI,IAAM4b,OAAO5b,IAE5E,IAAK,IAAIknB,GAAM,GAAIA,IAAO,GAAIA,KAASyqC,GAASzqC,IAAOtL,OAAOC,aAAaqL,IAE3E,IAAK,IAAIC,GAAM,EAAGA,IAAO,GAAIA,KAASwqC,GAASxqC,GAAM,KAAOwqC,GAASxqC,GAAM,OAAS,IAAMA,GAE1F,IAAI/e,GAAS,GA4Cb,SAASgtD,GAAiB/pD,GACxB,IAEIgqD,EAAKC,EAAMhlD,EAAOnI,EAFlBsO,EAAQpL,EAAKzL,MAAM,UACvByL,EAAOoL,EAAMA,EAAM5W,OAAS,GAE5B,IAAK,IAAIG,EAAI,EAAGA,EAAIyW,EAAM5W,OAAS,EAAGG,IAAK,CACzC,IAAIkC,EAAMuU,EAAMzW,GAChB,GAAI,kBAAkB8F,KAAK5D,GAAQiG,GAAM,OACpC,GAAI,YAAYrC,KAAK5D,GAAQmzD,GAAM,OACnC,GAAI,sBAAsBvvD,KAAK5D,GAAQozD,GAAO,MAC9C,KAAI,cAAcxvD,KAAK5D,GACrB,MAAM,IAAIwT,MAAM,+BAAiCxT,GADpBoO,GAAQ,GAO9C,OAJI+kD,IAAOhqD,EAAO,OAASA,GACvBiqD,IAAQjqD,EAAO,QAAUA,GACzBlD,IAAOkD,EAAO,OAASA,GACvBiF,IAASjF,EAAO,SAAWA,GACxBA,EAQT,SAASkqD,GAAgBC,GACvB,IAAIlhC,EAAO,GACX,IAAK,IAAImhC,KAAWD,EAAU,GAAIA,EAAOt4C,eAAeu4C,GAAU,CAChE,IAAIhxD,EAAQ+wD,EAAOC,GACnB,GAAI,mCAAmC3vD,KAAK2vD,GAAY,SACxD,GAAa,OAAThxD,EAAgB,QAAS+wD,EAAOC,GAAU,SAG9C,IADA,IAAIh8C,EAAO3Z,EAAI21D,EAAQ71D,MAAM,KAAMw1D,IAC1Bp1D,EAAI,EAAGA,EAAIyZ,EAAK5Z,OAAQG,IAAK,CACpC,IAAIsL,OAAM,EAAUD,OAAO,EACvBrL,GAAKyZ,EAAK5Z,OAAS,GACrBwL,EAAOoO,EAAKlD,KAAK,KACjBjL,EAAM7G,IAEN4G,EAAOoO,EAAK5K,MAAM,EAAG7O,EAAI,GAAGuW,KAAK,KACjCjL,EAAM,OAER,IAAI5L,EAAO40B,EAAKjpB,GAChB,GAAK3L,GACA,GAAIA,GAAQ4L,EAAO,MAAM,IAAIoK,MAAM,6BAA+BrK,QAD1DipB,EAAKjpB,GAAQC,SAGrBkqD,EAAOC,GAEhB,IAAK,IAAI/yC,KAAQ4R,EAAQkhC,EAAO9yC,GAAQ4R,EAAK5R,GAC7C,OAAO8yC,EAGT,SAASE,GAAUpsD,EAAKxJ,EAAKspD,EAAQn3B,GACnCnyB,EAAM61D,GAAU71D,GAChB,IAAIimB,EAAQjmB,EAAIia,KAAOja,EAAIia,KAAKzQ,EAAK2oB,GAAWnyB,EAAIwJ,GACpD,IAAc,IAAVyc,EAAmB,MAAO,UAC9B,GAAc,QAAVA,EAAmB,MAAO,QAC9B,GAAa,MAATA,GAAiBqjC,EAAOrjC,GAAU,MAAO,UAE7C,GAAIjmB,EAAI81D,YAAa,CACnB,GAAuD,kBAAnDrkD,OAAO/P,UAAUsY,SAASC,KAAKja,EAAI81D,aACnC,OAAOF,GAAUpsD,EAAKxJ,EAAI81D,YAAaxM,EAAQn3B,GACnD,IAAK,IAAIjyB,EAAI,EAAGA,EAAIF,EAAI81D,YAAY/1D,OAAQG,IAAK,CAC/C,IAAIwQ,EAASklD,GAAUpsD,EAAKxJ,EAAI81D,YAAY51D,GAAIopD,EAAQn3B,GACxD,GAAIzhB,EAAU,OAAOA,IAO3B,SAASqlD,GAAcpxD,GACrB,IAAI4G,EAAuB,iBAAT5G,EAAoBA,EAAQktD,GAASltD,EAAM6T,SAC7D,MAAe,QAARjN,GAA0B,OAARA,GAAyB,SAARA,GAA2B,OAARA,EAG/D,SAASyqD,GAAiBzqD,EAAMtE,EAAOgvD,GACrC,IAAIlxC,EAAOxZ,EAKX,OAJItE,EAAMivD,QAAkB,OAARnxC,IAAiBxZ,EAAO,OAASA,IAChD6U,EAAcnZ,EAAMkvD,QAAUlvD,EAAM2jB,UAAoB,QAAR7F,IAAkBxZ,EAAO,QAAUA,IACnF6U,EAAcnZ,EAAM2jB,QAAU3jB,EAAMkvD,UAAoB,OAARpxC,IAAiBxZ,EAAO,OAASA,IACjF0qD,GAAWhvD,EAAMK,UAAoB,SAARyd,IAAmBxZ,EAAO,SAAWA,GAChEA,EAIT,SAASrD,GAAQjB,EAAOgvD,GACtB,GAAI12C,GAA2B,IAAjBtY,EAAMuR,SAAiBvR,EAAM,QAAW,OAAO,EAC7D,IAAIsE,EAAOsmD,GAAS5qD,EAAMuR,SAC1B,OAAY,MAARjN,IAAgBtE,EAAMmvD,cAGL,GAAjBnvD,EAAMuR,SAAgBvR,EAAMqI,OAAQ/D,EAAOtE,EAAMqI,MAC9C0mD,GAAiBzqD,EAAMtE,EAAOgvD,IAGvC,SAASJ,GAAUrqD,GACjB,MAAqB,iBAAPA,EAAkBlD,GAAOkD,GAAOA,EAKhD,SAAS6qD,GAAoBxyD,EAAIyyD,GAI/B,IAHA,IAAI3pD,EAAS9I,EAAG2qB,IAAIxgB,IAAIrB,OAAQ4pD,EAAO,GAG9Br2D,EAAI,EAAGA,EAAIyM,EAAO5M,OAAQG,IAAK,CACtC,IAAIs2D,EAASF,EAAQ3pD,EAAOzM,IAC5B,MAAOq2D,EAAKx2D,QAAUgwB,GAAIymC,EAAOxtD,KAAMwb,EAAI+xC,GAAM/uD,KAAO,EAAG,CACzD,IAAIivD,EAAWF,EAAKzS,MACpB,GAAI/zB,GAAI0mC,EAASztD,KAAMwtD,EAAOxtD,MAAQ,EAAG,CACvCwtD,EAAOxtD,KAAOytD,EAASztD,KACvB,OAGJutD,EAAK3oD,KAAK4oD,GAGZxc,GAAQn2C,GAAI,WACV,IAAK,IAAI3D,EAAIq2D,EAAKx2D,OAAS,EAAGG,GAAK,EAAGA,IAClCgN,GAAarJ,EAAG2qB,IAAK,GAAI+nC,EAAKr2D,GAAG8I,KAAMutD,EAAKr2D,GAAGsH,GAAI,WACvD0sC,GAAoBrwC,MAIxB,SAAS6yD,GAAkBjvD,EAAM9B,EAAI6H,GACnC,IAAI8L,EAASmM,GAAmBhe,EAAKnD,KAAMqB,EAAK6H,EAAKA,GACrD,OAAO8L,EAAS,GAAKA,EAAS7R,EAAKnD,KAAKvE,OAAS,KAAOuZ,EAG1D,SAASq9C,GAAclvD,EAAMgD,EAAO+C,GAClC,IAAI7H,EAAK+wD,GAAkBjvD,EAAMgD,EAAM9E,GAAI6H,GAC3C,OAAa,MAAN7H,EAAa,KAAO,IAAIiD,GAAI6B,EAAMhD,KAAM9B,EAAI6H,EAAM,EAAI,QAAU,UAGzE,SAASopD,GAAUC,EAAUhzD,EAAI82B,EAAStL,EAAQ7hB,GAChD,GAAIqpD,EAAU,CACY,OAApBhzD,EAAG2qB,IAAIvH,YAAsBzZ,GAAOA,GACxC,IAAIwY,EAAQ2C,GAASgS,EAAS92B,EAAG2qB,IAAIvH,WACrC,GAAIjB,EAAO,CACT,IAGIrgB,EAHAugB,EAAO1Y,EAAM,EAAIgX,EAAIwB,GAASA,EAAM,GACpC8wC,EAAsBtpD,EAAM,IAAqB,GAAd0Y,EAAKC,OACxCG,EAASwwC,EAAqB,QAAU,SAQ5C,GAAI5wC,EAAKC,MAAQ,GAAyB,OAApBtiB,EAAG2qB,IAAIvH,UAAoB,CAC/C,IAAI8vC,EAAOpxB,GAAsB9hC,EAAI82B,GACrCh1B,EAAK6H,EAAM,EAAImtB,EAAQr2B,KAAKvE,OAAS,EAAI,EACzC,IAAIyqC,EAAY9E,GAAoB7hC,EAAIkzD,EAAMpxD,GAAIqC,IAClDrC,EAAK+f,IAAU,SAAU/f,GAAM,OAAO+/B,GAAoB7hC,EAAIkzD,EAAMpxD,GAAIqC,KAAOwiC,IAAeh9B,EAAM,IAAqB,GAAd0Y,EAAKC,OAAcD,EAAKld,KAAOkd,EAAK1e,GAAK,EAAG7B,GACzI,UAAV2gB,IAAsB3gB,EAAK+wD,GAAkB/7B,EAASh1B,EAAI,SACvDA,EAAK6H,EAAM,EAAI0Y,EAAK1e,GAAK0e,EAAKld,KACvC,OAAO,IAAIJ,GAAIymB,EAAQ1pB,EAAI2gB,IAG/B,OAAO,IAAI1d,GAAIymB,EAAQ7hB,EAAM,EAAImtB,EAAQr2B,KAAKvE,OAAS,EAAGyN,EAAM,EAAI,SAAW,SAGjF,SAASwpD,GAAanzD,EAAI4D,EAAMgD,EAAO+C,GACrC,IAAIypD,EAAOtuC,GAASlhB,EAAM5D,EAAG2qB,IAAIvH,WACjC,IAAKgwC,EAAQ,OAAON,GAAclvD,EAAMgD,EAAO+C,GAC3C/C,EAAM9E,IAAM8B,EAAKnD,KAAKvE,QACxB0K,EAAM9E,GAAK8B,EAAKnD,KAAKvE,OACrB0K,EAAM6b,OAAS,UACN7b,EAAM9E,IAAM,IACrB8E,EAAM9E,GAAK,EACX8E,EAAM6b,OAAS,SAEjB,IAAIqjB,EAAUtjB,GAAc4wC,EAAMxsD,EAAM9E,GAAI8E,EAAM6b,QAASJ,EAAO+wC,EAAKttB,GACvE,GAAwB,OAApB9lC,EAAG2qB,IAAIvH,WAAsBf,EAAKC,MAAQ,GAAK,IAAM3Y,EAAM,EAAI0Y,EAAK1e,GAAKiD,EAAM9E,GAAKugB,EAAKld,KAAOyB,EAAM9E,IAGxG,OAAOgxD,GAAclvD,EAAMgD,EAAO+C,GAGpC,IACIupD,EADAG,EAAK,SAAUj0D,EAAKuK,GAAO,OAAOkpD,GAAkBjvD,EAAMxE,aAAe2F,GAAM3F,EAAI0C,GAAK1C,EAAKuK,IAE7F2pD,EAAuB,SAAUxxD,GACnC,OAAK9B,EAAGoB,QAAQ+/B,cAChB+xB,EAAOA,GAAQpxB,GAAsB9hC,EAAI4D,GAClC8iC,GAAsB1mC,EAAI4D,EAAMsvD,EAAMpxD,IAFN,CAAC2kC,MAAO,EAAG/zB,IAAK9O,EAAKnD,KAAKvE,SAI/DsqC,EAAoB8sB,EAAqC,UAAhB1sD,EAAM6b,OAAqB4wC,EAAGzsD,GAAQ,GAAKA,EAAM9E,IAE9F,GAAwB,OAApB9B,EAAG2qB,IAAIvH,WAAoC,GAAdf,EAAKC,MAAY,CAChD,IAAI2wC,EAAoC,GAAd5wC,EAAKC,OAAgB3Y,EAAM,EACjD7H,EAAKuxD,EAAGzsD,EAAOqsD,EAAqB,GAAK,GAC7C,GAAU,MAANnxD,IAAgBmxD,EAAwEnxD,GAAMugB,EAAK1e,IAAM7B,GAAM0kC,EAAkB9zB,IAA5F5Q,GAAMugB,EAAKld,MAAQrD,GAAM0kC,EAAkBC,OAAuD,CAEzI,IAAIhkB,EAASwwC,EAAqB,SAAW,QAC7C,OAAO,IAAIluD,GAAI6B,EAAMhD,KAAM9B,EAAI2gB,IAOnC,IAAI8wC,EAAqB,SAAUztB,EAASn8B,EAAK68B,GAK/C,IAJA,IAAIgtB,EAAS,SAAU1xD,EAAImxD,GAAsB,OAAOA,EACpD,IAAIluD,GAAI6B,EAAMhD,KAAMyvD,EAAGvxD,EAAI,GAAI,UAC/B,IAAIiD,GAAI6B,EAAMhD,KAAM9B,EAAI,UAErBgkC,GAAW,GAAKA,EAAUstB,EAAKl3D,OAAQ4pC,GAAWn8B,EAAK,CAC5D,IAAI0Y,EAAO+wC,EAAKttB,GACZmtB,EAAsBtpD,EAAM,IAAqB,GAAd0Y,EAAKC,OACxCxgB,EAAKmxD,EAAqBzsB,EAAkBC,MAAQ4sB,EAAG7sB,EAAkB9zB,KAAM,GACnF,GAAI2P,EAAKld,MAAQrD,GAAMA,EAAKugB,EAAK1e,GAAM,OAAO6vD,EAAO1xD,EAAImxD,GAEzD,GADAnxD,EAAKmxD,EAAqB5wC,EAAKld,KAAOkuD,EAAGhxC,EAAK1e,IAAK,GAC/C6iC,EAAkBC,OAAS3kC,GAAMA,EAAK0kC,EAAkB9zB,IAAO,OAAO8gD,EAAO1xD,EAAImxD,KAKrFQ,EAAMF,EAAmBztB,EAAUn8B,EAAKA,EAAK68B,GACjD,GAAIitB,EAAO,OAAOA,EAGlB,IAAIC,EAAS/pD,EAAM,EAAI68B,EAAkB9zB,IAAM2gD,EAAG7sB,EAAkBC,OAAQ,GAC5E,OAAc,MAAVitB,GAAoB/pD,EAAM,GAAK+pD,GAAU9vD,EAAKnD,KAAKvE,SACrDu3D,EAAMF,EAAmB5pD,EAAM,EAAI,EAAIypD,EAAKl3D,OAAS,EAAGyN,EAAK2pD,EAAqBI,KAC9ED,GAIC,KAJaA,EA1QtBhvD,GAAOkvD,MAAQ,CACb,KAAQ,aAAc,MAAS,cAAe,GAAM,WAAY,KAAQ,aACxE,IAAO,YAAa,KAAQ,mBAAoB,OAAU,WAAY,SAAY,aAClF,OAAU,eAAgB,UAAa,gBAAiB,kBAAmB,gBAC3E,IAAO,aAAc,YAAa,aAClC,MAAS,mBAAoB,OAAU,kBACvC,IAAO,mBAKTlvD,GAAOmvD,UAAY,CACjB,SAAU,YAAa,SAAU,aAAc,SAAU,OAAQ,eAAgB,OAAQ,SAAU,OACnG,YAAa,aAAc,WAAY,WAAY,UAAW,WAAY,YAAa,aACvF,YAAa,cAAe,aAAc,eAAgB,WAAY,cAAe,YAAa,YAClG,iBAAkB,iBAAkB,cAAe,gBAAiB,SAAU,OAAQ,SAAU,OAChG,SAAU,WAAY,eAAgB,WAAY,eAAgB,UAAW,eAAgB,aAC7F,SAAU,aAAc,SAAU,aAClC,SAAU,gBAAiB,eAAgB,gBAAiB,QAAS,gBACrE,YAAe,SAGjBnvD,GAAOovD,OAAS,CACd,SAAU,cAAe,SAAU,aAAc,SAAU,WAAY,SAAU,aACjF,SAAU,cAAe,SAAU,YAAa,SAAU,aAAc,eAAgB,WACxF,SAAU,eAAgB,SAAU,gBAAiB,gBAAiB,gBAAiB,SAAU,WACjG,SAAU,iBAAkB,SAAU,YAExCpvD,GAAOqvD,WAAa,CAClB,QAAS,YAAa,QAAS,aAAc,QAAS,OAAQ,cAAe,OAAQ,QAAS,OAC9F,WAAY,aAAc,SAAU,aAAc,UAAW,WAAY,WAAY,WAAY,WAAY,cAC7G,YAAa,eAAgB,WAAY,aAAc,YAAa,cAAe,gBAAiB,iBACpG,qBAAsB,gBAAiB,aAAc,gBAAiB,QAAS,OAAQ,QAAS,OAChG,QAAS,WAAY,cAAe,WAAY,YAAa,UAAW,kBAAmB,aAC3F,QAAS,aAAc,QAAS,aAAc,gBAAiB,qBAAsB,aAAc,sBACnG,QAAS,gBAAiB,cAAe,gBAAiB,UAAW,aAAc,YAAa,WAChG,YAAe,CAAC,QAAS,WAE3BrvD,GAAO,WAAa0X,EAAM1X,GAAOqvD,WAAarvD,GAAOmvD,UA6OrD,IAAI7sD,GAAW,CACby8C,UAAWA,GACXuQ,gBAAiB,SAAU/zD,GAAM,OAAOA,EAAGkF,aAAalF,EAAGsD,UAAU,UAAWtD,EAAGsD,UAAU,QAAS0c,IACtGg0C,SAAU,SAAUh0D,GAAM,OAAOwyD,GAAoBxyD,GAAI,SAAU8J,GACjE,GAAIA,EAAMd,QAAS,CACjB,IAAIoH,EAAMsa,GAAQ1qB,EAAG2qB,IAAK7gB,EAAMX,KAAKvF,MAAMnD,KAAKvE,OAChD,OAAI4N,EAAMX,KAAKrH,IAAMsO,GAAOtG,EAAMX,KAAKvF,KAAO5D,EAAGgF,WACtC,CAACG,KAAM2E,EAAMX,KAAMxF,GAAIoB,GAAI+E,EAAMX,KAAKvF,KAAO,EAAG,IAEhD,CAACuB,KAAM2E,EAAMX,KAAMxF,GAAIoB,GAAI+E,EAAMX,KAAKvF,KAAMwM,IAEvD,MAAO,CAACjL,KAAM2E,EAAM3E,OAAQxB,GAAImG,EAAMnG,UAG1CswD,WAAY,SAAUj0D,GAAM,OAAOwyD,GAAoBxyD,GAAI,SAAU8J,GAAS,MAAO,CACnF3E,KAAMJ,GAAI+E,EAAM3E,OAAOvB,KAAM,GAC7BD,GAAI6oB,GAAQxsB,EAAG2qB,IAAK5lB,GAAI+E,EAAMnG,KAAKC,KAAO,EAAG,SAE/CswD,YAAa,SAAUl0D,GAAM,OAAOwyD,GAAoBxyD,GAAI,SAAU8J,GAAS,MAAO,CACpF3E,KAAMJ,GAAI+E,EAAM3E,OAAOvB,KAAM,GAAID,GAAImG,EAAM3E,YAE7CgvD,mBAAoB,SAAUn0D,GAAM,OAAOwyD,GAAoBxyD,GAAI,SAAU8J,GAC3E,IAAI3F,EAAMnE,EAAG0lC,WAAW57B,EAAMX,KAAM,OAAOhF,IAAM,EAC7CiwD,EAAUp0D,EAAGqmC,WAAW,CAACx7B,KAAM,EAAG1G,IAAKA,GAAM,OACjD,MAAO,CAACgB,KAAMivD,EAASzwD,GAAImG,EAAM3E,YAEnCkvD,oBAAqB,SAAUr0D,GAAM,OAAOwyD,GAAoBxyD,GAAI,SAAU8J,GAC5E,IAAI3F,EAAMnE,EAAG0lC,WAAW57B,EAAMX,KAAM,OAAOhF,IAAM,EAC7CmwD,EAAWt0D,EAAGqmC,WAAW,CAACx7B,KAAM7K,EAAG+D,QAAQ+pC,QAAQvmB,YAAc,IAAKpjB,IAAKA,GAAM,OACrF,MAAO,CAACgB,KAAM2E,EAAM3E,OAAQxB,GAAI2wD,OAElClL,KAAM,SAAUppD,GAAM,OAAOA,EAAGopD,QAChCC,KAAM,SAAUrpD,GAAM,OAAOA,EAAGqpD,QAChCC,cAAe,SAAUtpD,GAAM,OAAOA,EAAGspD,iBACzCC,cAAe,SAAUvpD,GAAM,OAAOA,EAAGupD,iBACzCgL,WAAY,SAAUv0D,GAAM,OAAOA,EAAG4hD,gBAAgB78C,GAAI/E,EAAGiF,YAAa,KAC1EuvD,SAAU,SAAUx0D,GAAM,OAAOA,EAAG4hD,gBAAgB78C,GAAI/E,EAAGgF,cAC3DyvD,YAAa,SAAUz0D,GAAM,OAAOA,EAAGipD,oBAAmB,SAAUn/C,GAAS,OAAO2gB,GAAUzqB,EAAI8J,EAAMX,KAAKvF,QAC3G,CAACuc,OAAQ,QAASyhB,KAAM,KAE1B8yB,iBAAkB,SAAU10D,GAAM,OAAOA,EAAGipD,oBAAmB,SAAUn/C,GAAS,OAAO6qD,GAAe30D,EAAI8J,EAAMX,QAChH,CAACgX,OAAQ,QAASyhB,KAAM,KAE1BgzB,UAAW,SAAU50D,GAAM,OAAOA,EAAGipD,oBAAmB,SAAUn/C,GAAS,OAAO+qD,GAAQ70D,EAAI8J,EAAMX,KAAKvF,QACvG,CAACuc,OAAQ,QAASyhB,MAAO,KAE3BkzB,YAAa,SAAU90D,GAAM,OAAOA,EAAGipD,oBAAmB,SAAUn/C,GAClE,IAAI3F,EAAMnE,EAAGkE,aAAa4F,EAAMX,KAAM,OAAOhF,IAAM,EACnD,OAAOnE,EAAGqmC,WAAW,CAACx7B,KAAM7K,EAAG+D,QAAQ+pC,QAAQvmB,YAAc,IAAKpjB,IAAKA,GAAM,SAC5Eic,IACH20C,WAAY,SAAU/0D,GAAM,OAAOA,EAAGipD,oBAAmB,SAAUn/C,GACjE,IAAI3F,EAAMnE,EAAGkE,aAAa4F,EAAMX,KAAM,OAAOhF,IAAM,EACnD,OAAOnE,EAAGqmC,WAAW,CAACx7B,KAAM,EAAG1G,IAAKA,GAAM,SACzCic,IACH40C,gBAAiB,SAAUh1D,GAAM,OAAOA,EAAGipD,oBAAmB,SAAUn/C,GACtE,IAAI3F,EAAMnE,EAAGkE,aAAa4F,EAAMX,KAAM,OAAOhF,IAAM,EAC/C/E,EAAMY,EAAGqmC,WAAW,CAACx7B,KAAM,EAAG1G,IAAKA,GAAM,OAC7C,OAAI/E,EAAI0C,GAAK9B,EAAG0qB,QAAQtrB,EAAIwE,MAAM1D,OAAO,MAAgBy0D,GAAe30D,EAAI8J,EAAMX,MAC3E/J,IACNghB,IACH60C,SAAU,SAAUj1D,GAAM,OAAOA,EAAGk1D,OAAO,EAAG,SAC9CC,WAAY,SAAUn1D,GAAM,OAAOA,EAAGk1D,MAAM,EAAG,SAC/CE,SAAU,SAAUp1D,GAAM,OAAOA,EAAGk1D,OAAO,EAAG,SAC9CG,WAAY,SAAUr1D,GAAM,OAAOA,EAAGk1D,MAAM,EAAG,SAC/CI,WAAY,SAAUt1D,GAAM,OAAOA,EAAGu1D,OAAO,EAAG,SAChDC,YAAa,SAAUx1D,GAAM,OAAOA,EAAGu1D,MAAM,EAAG,SAChDE,aAAc,SAAUz1D,GAAM,OAAOA,EAAGu1D,OAAO,EAAG,WAClDG,cAAe,SAAU11D,GAAM,OAAOA,EAAGu1D,MAAM,EAAG,WAClDI,WAAY,SAAU31D,GAAM,OAAOA,EAAGu1D,OAAO,EAAG,SAChDK,aAAc,SAAU51D,GAAM,OAAOA,EAAGu1D,MAAM,EAAG,UACjDM,YAAa,SAAU71D,GAAM,OAAOA,EAAGu1D,OAAO,EAAG,UACjDO,YAAa,SAAU91D,GAAM,OAAOA,EAAGu1D,MAAM,EAAG,SAChDQ,cAAe,SAAU/1D,GAAM,OAAOA,EAAGg2D,SAAS,EAAG,cACrDC,aAAc,SAAUj2D,GAAM,OAAOA,EAAGg2D,QAAQ,EAAG,SACnDE,cAAe,SAAUl2D,GAAM,OAAOA,EAAGg2D,SAAS,EAAG,SACrDG,aAAc,SAAUn2D,GAAM,OAAOA,EAAGg2D,QAAQ,EAAG,SACnDI,eAAgB,SAAUp2D,GAAM,OAAOA,EAAGg2D,SAAS,EAAG,UACtDK,cAAe,SAAUr2D,GAAM,OAAOA,EAAGg2D,QAAQ,EAAG,UACpDM,WAAY,SAAUt2D,GAAM,OAAOA,EAAGu2D,gBAAgB,UACtDC,WAAY,SAAUx2D,GAAM,OAAOA,EAAGu2D,gBAAgB,QACtDE,WAAY,SAAUz2D,GAAM,OAAOA,EAAGu2D,gBAAgB,aACtDG,UAAW,SAAU12D,GAAM,OAAOA,EAAGwJ,iBAAiB,OACtDmtD,cAAe,SAAU32D,GAEvB,IADA,IAAI42D,EAAS,GAAI9tD,EAAS9I,EAAG+I,iBAAkBkW,EAAUjf,EAAGoB,QAAQ6d,QAC3D5iB,EAAI,EAAGA,EAAIyM,EAAO5M,OAAQG,IAAK,CACtC,IAAI+C,EAAM0J,EAAOzM,GAAG8I,OAChBob,EAAMvB,EAAYhf,EAAG0qB,QAAQtrB,EAAIwE,MAAOxE,EAAI0C,GAAImd,GACpD23C,EAAO7sD,KAAK2W,EAASzB,EAAUsB,EAAMtB,IAEvCjf,EAAGiL,kBAAkB2rD,IAEvBC,WAAY,SAAU72D,GAChBA,EAAGs8C,oBAAuBt8C,EAAGu2D,gBAAgB,OAC1Cv2D,EAAG0E,YAAY,cASxBoyD,eAAgB,SAAU92D,GAAM,OAAOm2C,GAAQn2C,GAAI,WAEjD,IADA,IAAI8I,EAAS9I,EAAG+I,iBAAkBg5C,EAAS,GAClC1lD,EAAI,EAAGA,EAAIyM,EAAO5M,OAAQG,IACjC,GAAKyM,EAAOzM,GAAG2M,QAAf,CACA,IAAII,EAAMN,EAAOzM,GAAG8M,KAAMvF,EAAO8mB,GAAQ1qB,EAAG2qB,IAAKvhB,EAAIxF,MAAMnD,KAC3D,GAAImD,EAEF,GADIwF,EAAItH,IAAM8B,EAAK1H,SAAUkN,EAAM,IAAIrE,GAAIqE,EAAIxF,KAAMwF,EAAItH,GAAK,IAC1DsH,EAAItH,GAAK,EACXsH,EAAM,IAAIrE,GAAIqE,EAAIxF,KAAMwF,EAAItH,GAAK,GACjC9B,EAAGqJ,aAAazF,EAAK9G,OAAOsM,EAAItH,GAAK,GAAK8B,EAAK9G,OAAOsM,EAAItH,GAAK,GAC/CiD,GAAIqE,EAAIxF,KAAMwF,EAAItH,GAAK,GAAIsH,EAAK,mBAC3C,GAAIA,EAAIxF,KAAO5D,EAAG2qB,IAAIC,MAAO,CAClC,IAAI7uB,EAAO2uB,GAAQ1qB,EAAG2qB,IAAKvhB,EAAIxF,KAAO,GAAGnD,KACrC1E,IACFqN,EAAM,IAAIrE,GAAIqE,EAAIxF,KAAM,GACxB5D,EAAGqJ,aAAazF,EAAK9G,OAAO,GAAKkD,EAAG2qB,IAAIphB,gBACxBxN,EAAKe,OAAOf,EAAKG,OAAS,GAC1B6I,GAAIqE,EAAIxF,KAAO,EAAG7H,EAAKG,OAAS,GAAIkN,EAAK,eAI/D24C,EAAOh4C,KAAK,IAAIsyC,GAAMjzC,EAAKA,IAE7BpJ,EAAGiK,cAAc83C,OAEnBgV,iBAAkB,SAAU/2D,GAAM,OAAOm2C,GAAQn2C,GAAI,WAEnD,IADA,IAAI+K,EAAO/K,EAAG+I,iBACL1M,EAAI0O,EAAK7O,OAAS,EAAGG,GAAK,EAAGA,IAClC2D,EAAGqJ,aAAarJ,EAAG2qB,IAAIphB,gBAAiBwB,EAAK1O,GAAG2N,OAAQe,EAAK1O,GAAG8M,KAAM,UAC1E4B,EAAO/K,EAAG+I,iBACV,IAAK,IAAIwa,EAAM,EAAGA,EAAMxY,EAAK7O,OAAQqnB,IACjCvjB,EAAG0J,WAAWqB,EAAKwY,GAAKpe,OAAOvB,KAAM,MAAM,GAC/CysC,GAAoBrwC,OAEtBg3D,SAAU,SAAUh3D,GAAM,OAAOA,EAAGwJ,iBAAiB,KAAM,UAC3DytD,gBAAiB,SAAUj3D,GAAM,OAAOA,EAAGi3D,oBAI7C,SAASxsC,GAAUzqB,EAAIu2B,GACrB,IAAI3yB,EAAO8mB,GAAQ1qB,EAAG2qB,IAAK4L,GACvBkxB,EAASvxB,GAAWtyB,GAExB,OADI6jD,GAAU7jD,IAAQ2yB,EAAQ/K,GAAOi8B,IAC9BsL,IAAU,EAAM/yD,EAAIynD,EAAQlxB,EAAO,GAE5C,SAASs+B,GAAQ70D,EAAIu2B,GACnB,IAAI3yB,EAAO8mB,GAAQ1qB,EAAG2qB,IAAK4L,GACvBkxB,EAASrxB,GAAcxyB,GAE3B,OADI6jD,GAAU7jD,IAAQ2yB,EAAQ/K,GAAOi8B,IAC9BsL,IAAU,EAAM/yD,EAAI4D,EAAM2yB,GAAQ,GAE3C,SAASo+B,GAAe30D,EAAIZ,GAC1B,IAAIwH,EAAQ6jB,GAAUzqB,EAAIZ,EAAIwE,MAC1BA,EAAO8mB,GAAQ1qB,EAAG2qB,IAAK/jB,EAAMhD,MAC7Bue,EAAQ2C,GAASlhB,EAAM5D,EAAG2qB,IAAIvH,WAClC,IAAKjB,GAA2B,GAAlBA,EAAM,GAAGG,MAAY,CACjC,IAAI40C,EAAaz6D,KAAKgB,IAAImJ,EAAM9E,GAAI8B,EAAKnD,KAAKP,OAAO,OACjDi3D,EAAO/3D,EAAIwE,MAAQgD,EAAMhD,MAAQxE,EAAI0C,IAAMo1D,GAAc93D,EAAI0C,GACjE,OAAOiD,GAAI6B,EAAMhD,KAAMuzD,EAAO,EAAID,EAAYtwD,EAAM6b,QAEtD,OAAO7b,EAIT,SAASwwD,GAAgBp3D,EAAIq3D,EAAOC,GAClC,GAAoB,iBAATD,IACTA,EAAQtwD,GAASswD,IACZA,GAAS,OAAO,EAIvBr3D,EAAG+D,QAAQm2B,MAAMq9B,eACjB,IAAIC,EAAYx3D,EAAG+D,QAAQ4I,MAAOuyC,GAAO,EACzC,IACMl/C,EAAGgsD,eAAgBhsD,EAAGC,MAAM6jD,eAAgB,GAC5CwT,IAAat3D,EAAG+D,QAAQ4I,OAAQ,GACpCuyC,EAAOmY,EAAMr3D,IAAO6I,EACpB,QACA7I,EAAG+D,QAAQ4I,MAAQ6qD,EACnBx3D,EAAGC,MAAM6jD,eAAgB,EAE3B,OAAO5E,EAGT,SAASuY,GAAmBz3D,EAAI0H,EAAM+9C,GACpC,IAAK,IAAIppD,EAAI,EAAGA,EAAI2D,EAAGC,MAAMy3D,QAAQx7D,OAAQG,IAAK,CAChD,IAAIwQ,EAASklD,GAAUrqD,EAAM1H,EAAGC,MAAMy3D,QAAQr7D,GAAIopD,EAAQzlD,GAC1D,GAAI6M,EAAU,OAAOA,EAEvB,OAAQ7M,EAAGoB,QAAQu2D,WAAa5F,GAAUrqD,EAAM1H,EAAGoB,QAAQu2D,UAAWlS,EAAQzlD,IACzE+xD,GAAUrqD,EAAM1H,EAAGoB,QAAQqD,OAAQghD,EAAQzlD,GAMlD,IAAI43D,GAAU,IAAIn4C,EAElB,SAASo4C,GAAY73D,EAAI0H,EAAMxF,EAAGujD,GAChC,IAAIqS,EAAM93D,EAAGC,MAAM83D,OACnB,GAAID,EAAK,CACP,GAAI5F,GAAcxqD,GAAS,MAAO,UAUlC,GATI,MAAMvF,KAAKuF,GACX1H,EAAGC,MAAM83D,OAAS,KAElBH,GAAQ93C,IAAI,IAAI,WACZ9f,EAAGC,MAAM83D,QAAUD,IACrB93D,EAAGC,MAAM83D,OAAS,KAClB/3D,EAAG+D,QAAQm2B,MAAM/7B,YAGnB65D,GAAiBh4D,EAAI83D,EAAM,IAAMpwD,EAAMxF,EAAGujD,GAAW,OAAO,EAElE,OAAOuS,GAAiBh4D,EAAI0H,EAAMxF,EAAGujD,GAGvC,SAASuS,GAAiBh4D,EAAI0H,EAAMxF,EAAGujD,GACrC,IAAI54C,EAAS4qD,GAAmBz3D,EAAI0H,EAAM+9C,GAY1C,MAVc,SAAV54C,IACA7M,EAAGC,MAAM83D,OAASrwD,GACR,WAAVmF,GACAkvB,GAAY/7B,EAAI,aAAcA,EAAI0H,EAAMxF,GAE9B,WAAV2K,GAAiC,SAAVA,IACzBuI,GAAiBlT,GACjByqC,GAAa3sC,MAGN6M,EAIX,SAASorD,GAAiBj4D,EAAIkC,GAC5B,IAAIwF,EAAOrD,GAAQnC,GAAG,GACtB,QAAKwF,IAEDxF,EAAEuB,WAAazD,EAAGC,MAAM83D,OAInBF,GAAY73D,EAAI,SAAW0H,EAAMxF,GAAG,SAAUiT,GAAK,OAAOiiD,GAAgBp3D,EAAImV,GAAG,OACjF0iD,GAAY73D,EAAI0H,EAAMxF,GAAG,SAAUiT,GACjC,GAAgB,iBAALA,EAAgB,WAAWhT,KAAKgT,GAAKA,EAAE+iD,OAC9C,OAAOd,GAAgBp3D,EAAImV,MAGjC0iD,GAAY73D,EAAI0H,EAAMxF,GAAG,SAAUiT,GAAK,OAAOiiD,GAAgBp3D,EAAImV,OAK9E,SAASgjD,GAAkBn4D,EAAIkC,EAAGJ,GAChC,OAAO+1D,GAAY73D,EAAI,IAAM8B,EAAK,IAAKI,GAAG,SAAUiT,GAAK,OAAOiiD,GAAgBp3D,EAAImV,GAAG,MAGzF,IAAIijD,GAAiB,KACrB,SAASx3D,GAAUsB,GACjB,IAAIlC,EAAK1C,KACT,KAAI4E,EAAEuT,QAAUvT,EAAEuT,QAAUzV,EAAG+D,QAAQm2B,MAAMm+B,cAC7Cr4D,EAAGkmB,MAAM9R,MAAQqJ,KACbkI,GAAe3lB,EAAIkC,IAAvB,CAEIkZ,GAAMC,EAAa,IAAmB,IAAbnZ,EAAEyS,UAAiBzS,EAAEqkB,aAAc,GAChE,IAAI9a,EAAOvJ,EAAEyS,QACb3U,EAAG+D,QAAQ4I,MAAgB,IAARlB,GAAcvJ,EAAEuB,SACnC,IAAI60D,EAAUL,GAAiBj4D,EAAIkC,GAC/BwZ,IACF08C,GAAiBE,EAAU7sD,EAAO,KAE7B6sD,GAAmB,IAAR7sD,GAAe4c,MAAiBlM,EAAMja,EAAEowD,QAAUpwD,EAAE6kB,UAChE/mB,EAAGwJ,iBAAiB,GAAI,KAAM,QAEhCwR,IAAUmB,IAAQm8C,GAAmB,IAAR7sD,GAAcvJ,EAAEuB,WAAavB,EAAE6kB,SAAWljB,SAASa,aAChFb,SAASa,YAAY,OAGb,IAAR+G,GAAe,2BAA2BtJ,KAAKnC,EAAG+D,QAAQ+pC,QAAQ9nC,YAClEuyD,GAAcv4D,IAGpB,SAASu4D,GAAcv4D,GACrB,IAAI8tC,EAAU9tC,EAAG+D,QAAQ+pC,QAGzB,SAAS0qB,EAAGt2D,GACO,IAAbA,EAAEyS,SAAkBzS,EAAEmwD,SACxBp+C,EAAQ65B,EAAS,wBACjBxoB,GAAIzhB,SAAU,QAAS20D,GACvBlzC,GAAIzhB,SAAU,YAAa20D,IAN/B/kD,EAASq6B,EAAS,wBASlBr5B,GAAG5Q,SAAU,QAAS20D,GACtB/jD,GAAG5Q,SAAU,YAAa20D,GAG5B,SAAS9jD,GAAQxS,GACE,IAAbA,EAAEyS,UAAiBrX,KAAKqtB,IAAIxgB,IAAIwC,OAAQ,GAC5CgZ,GAAeroB,KAAM4E,GAGvB,SAASu2D,GAAWv2D,GAClB,IAAIlC,EAAK1C,KACT,KAAI4E,EAAEuT,QAAUvT,EAAEuT,QAAUzV,EAAG+D,QAAQm2B,MAAMm+B,eACzC54B,GAAcz/B,EAAG+D,QAAS7B,IAAMyjB,GAAe3lB,EAAIkC,IAAMA,EAAE6kB,UAAY7kB,EAAEmwD,QAAUl2C,GAAOja,EAAEowD,SAAhG,CACA,IAAI39C,EAAUzS,EAAEyS,QAAS+jD,EAAWx2D,EAAEw2D,SACtC,GAAIh9C,GAAU/G,GAAWyjD,GAA6D,OAA5CA,GAAiB,UAAMhjD,GAAiBlT,GAClF,IAAKwZ,GAAYxZ,EAAE4kB,SAAS5kB,EAAE4kB,MAAQ,MAAQmxC,GAAiBj4D,EAAIkC,GAAnE,CACA,IAAIJ,EAAKmW,OAAOC,aAAyB,MAAZwgD,EAAmB/jD,EAAU+jD,GAEhD,MAAN52D,IACAq2D,GAAkBn4D,EAAIkC,EAAGJ,IAC7B9B,EAAG+D,QAAQm2B,MAAMu+B,WAAWv2D,MAG9B,IAaIy2D,GAAWC,GAbXC,GAAoB,IAEpBC,GAAY,SAASn5C,EAAMvgB,EAAKiV,GAClC/W,KAAKqiB,KAAOA,EACZriB,KAAK8B,IAAMA,EACX9B,KAAK+W,OAASA,GAShB,SAAS0kD,GAAY35D,EAAKiV,GACxB,IAAIrX,GAAO,IAAIC,KACf,OAAI27D,IAAmBA,GAAgBI,QAAQh8D,EAAKoC,EAAKiV,IACvDskD,GAAYC,GAAkB,KACvB,UACED,IAAaA,GAAUK,QAAQh8D,EAAKoC,EAAKiV,IAClDukD,GAAkB,IAAIE,GAAU97D,EAAKoC,EAAKiV,GAC1CskD,GAAY,KACL,WAEPA,GAAY,IAAIG,GAAU97D,EAAKoC,EAAKiV,GACpCukD,GAAkB,KACX,UASX,SAASK,GAAY/2D,GACnB,IAAIlC,EAAK1C,KAAMyG,EAAU/D,EAAG+D,QAC5B,KAAI4hB,GAAe3lB,EAAIkC,IAAM6B,EAAQy2C,aAAez2C,EAAQm2B,MAAMg/B,iBAIlE,GAHAn1D,EAAQm2B,MAAMq9B,eACdxzD,EAAQ4I,MAAQzK,EAAEuB,SAEdg8B,GAAc17B,EAAS7B,GACpBqZ,IAGHxX,EAAQ48B,SAAS0Z,WAAY,EAC7BhlC,YAAW,WAAc,OAAOtR,EAAQ48B,SAAS0Z,WAAY,IAAS,WAI1E,IAAI8e,GAAcn5D,EAAIkC,GAAtB,CACA,IAAI9C,EAAMgpC,GAAapoC,EAAIkC,GAAImS,EAASwS,GAAS3kB,GAAIk3D,EAASh6D,EAAM25D,GAAY35D,EAAKiV,GAAU,SAC/FnB,OAAOkB,QAGO,GAAVC,GAAerU,EAAGC,MAAMo5D,eACxBr5D,EAAGC,MAAMo5D,cAAcn3D,GAEvB9C,GAAOk6D,GAAmBt5D,EAAIqU,EAAQjV,EAAKg6D,EAAQl3D,KAEzC,GAAVmS,EACEjV,EAAOm6D,GAAev5D,EAAIZ,EAAKg6D,EAAQl3D,GAClCykB,GAASzkB,IAAM6B,EAAQ48B,UAAYvrB,GAAiBlT,GAC1C,GAAVmS,GACLjV,GAAOwiD,GAAgB5hD,EAAG2qB,IAAKvrB,GACnCiW,YAAW,WAAc,OAAOtR,EAAQm2B,MAAM9lB,UAAY,KACvC,GAAVC,IACLmI,EAAqBxc,EAAG+D,QAAQm2B,MAAMs/B,cAAct3D,GACjDqrC,GAAevtC,MAI1B,SAASs5D,GAAmBt5D,EAAIqU,EAAQjV,EAAKg6D,EAAQh2D,GACnD,IAAIsE,EAAO,QAKX,MAJc,UAAV0xD,EAAsB1xD,EAAO,SAAWA,EACzB,UAAV0xD,IAAsB1xD,EAAO,SAAWA,GACjDA,GAAkB,GAAV2M,EAAc,OAAmB,GAAVA,EAAc,SAAW,SAAW3M,EAE5DmwD,GAAY73D,EAAKmyD,GAAiBzqD,EAAMtE,GAAQA,GAAO,SAAUi0D,GAEtE,GADoB,iBAATA,IAAqBA,EAAQtwD,GAASswD,KAC5CA,EAAS,OAAO,EACrB,IAAInY,GAAO,EACX,IACMl/C,EAAGgsD,eAAgBhsD,EAAGC,MAAM6jD,eAAgB,GAChD5E,EAAOmY,EAAMr3D,EAAIZ,IAAQyJ,EACzB,QACA7I,EAAGC,MAAM6jD,eAAgB,EAE3B,OAAO5E,KAIX,SAASua,GAAez5D,EAAIo5D,EAAQh2D,GAClC,IAAIs2D,EAAS15D,EAAGuE,UAAU,kBACtBzD,EAAQ44D,EAASA,EAAO15D,EAAIo5D,EAAQh2D,GAAS,GACjD,GAAkB,MAAdtC,EAAM64D,KAAc,CACtB,IAAI14B,EAAO7kB,EAAWhZ,EAAMK,UAAYL,EAAMkvD,QAAUlvD,EAAMivD,OAC9DvxD,EAAM64D,KAAO14B,EAAO,YAAwB,UAAVm4B,EAAqB,OAAmB,UAAVA,EAAqB,OAAS,OAKhG,OAHoB,MAAhBt4D,EAAM82C,QAAkB53C,EAAG2qB,IAAIitB,UAAU92C,EAAM82C,OAAS53C,EAAG2qB,IAAIitB,QAAUx0C,EAAMK,UAC/D,MAAhB3C,EAAM84D,SAAkB94D,EAAM84D,OAASz9C,EAAM/Y,EAAMkvD,QAAUlvD,EAAM2jB,SAC/C,MAApBjmB,EAAM+4D,aAAsB/4D,EAAM+4D,aAAe19C,EAAM/Y,EAAMivD,OAASjvD,EAAM2jB,UACzEjmB,EAGT,SAASy4D,GAAev5D,EAAIZ,EAAKg6D,EAAQh2D,GACnCgY,EAAM/F,WAAW7F,EAAK69B,GAAartC,GAAK,GACrCA,EAAGkmB,MAAM9R,MAAQqJ,IAExB,IAEsBq8C,EAFlBC,EAAWN,GAAez5D,EAAIo5D,EAAQh2D,GAEtC+G,EAAMnK,EAAG2qB,IAAIxgB,IACbnK,EAAGoB,QAAQ44D,UAAY9yC,KAAgBlnB,EAAGgsD,cAChC,UAAVoN,IAAuBU,EAAY3vD,EAAIoT,SAASne,KAAS,IACxD8sB,IAAK4tC,EAAY3vD,EAAIrB,OAAOgxD,IAAY30D,OAAQ/F,GAAO,GAAKA,EAAIgnC,KAAO,KACvEla,GAAI4tC,EAAUn2D,KAAMvE,GAAO,GAAKA,EAAIgnC,KAAO,GAC5C6zB,GAAoBj6D,EAAIoD,EAAOhE,EAAK26D,GAEpCG,GAAiBl6D,EAAIoD,EAAOhE,EAAK26D,GAKvC,SAASE,GAAoBj6D,EAAIoD,EAAOhE,EAAK26D,GAC3C,IAAIh2D,EAAU/D,EAAG+D,QAASo2D,GAAQ,EAC9BC,EAAUz1D,GAAU3E,GAAI,SAAUkC,GAChCqZ,IAAUxX,EAAQ48B,SAAS0Z,WAAY,GAC3Cr6C,EAAGC,MAAMwtC,cAAe,EACpBztC,EAAGC,MAAMutC,oBACPxtC,EAAGmtC,WAAcntC,EAAGC,MAAMutC,mBAAoB,EAC3CD,GAAevtC,IAExBslB,GAAIvhB,EAAQC,QAAQikB,cAAe,UAAWmyC,GAC9C90C,GAAIvhB,EAAQC,QAAQikB,cAAe,YAAaoyC,GAChD/0C,GAAIvhB,EAAQ48B,SAAU,YAAa25B,GACnCh1C,GAAIvhB,EAAQ48B,SAAU,OAAQy5B,GACzBD,IACH/kD,GAAiBlT,GACZ63D,EAASH,QACVhY,GAAgB5hD,EAAG2qB,IAAKvrB,EAAK,KAAM,KAAM26D,EAASniB,QAEjDr8B,IAAWI,GAAWP,GAAoB,GAAdC,EAC7BhG,YAAW,WAAatR,EAAQC,QAAQikB,cAActK,KAAKvJ,MAAM,CAACmmD,eAAe,IAAQx2D,EAAQm2B,MAAM9lB,UAAW,IAElHrQ,EAAQm2B,MAAM9lB,YAGlBimD,EAAY,SAASG,GACvBL,EAAQA,GAAS19D,KAAKksB,IAAIvlB,EAAMolC,QAAUgyB,EAAGhyB,SAAW/rC,KAAKksB,IAAIvlB,EAAMqlC,QAAU+xB,EAAG/xB,UAAY,IAE9F6xB,EAAY,WAAc,OAAOH,GAAQ,GAEzC5+C,IAAUxX,EAAQ48B,SAAS0Z,WAAY,GAC3Cr6C,EAAGC,MAAMwtC,aAAe2sB,EACxBA,EAAQzpC,MAAQopC,EAASF,WACzBplD,GAAG1Q,EAAQC,QAAQikB,cAAe,UAAWmyC,GAC7C3lD,GAAG1Q,EAAQC,QAAQikB,cAAe,YAAaoyC,GAC/C5lD,GAAG1Q,EAAQ48B,SAAU,YAAa25B,GAClC7lD,GAAG1Q,EAAQ48B,SAAU,OAAQy5B,GAE7Bp6D,EAAGC,MAAMutC,mBAAoB,EAC7Bn4B,YAAW,WAAc,OAAOtR,EAAQm2B,MAAM9lB,UAAY,IAEtDrQ,EAAQ48B,SAASq5B,UAAYj2D,EAAQ48B,SAASq5B,WAGpD,SAASS,GAAaz6D,EAAIZ,EAAKu6D,GAC7B,GAAY,QAARA,EAAkB,OAAO,IAAItd,GAAMj9C,EAAKA,GAC5C,GAAY,QAARu6D,EAAkB,OAAO35D,EAAG06D,WAAWt7D,GAC3C,GAAY,QAARu6D,EAAkB,OAAO,IAAItd,GAAMt3C,GAAI3F,EAAIwE,KAAM,GAAI4oB,GAAQxsB,EAAG2qB,IAAK5lB,GAAI3F,EAAIwE,KAAO,EAAG,KAC3F,IAAIiJ,EAAS8sD,EAAK35D,EAAIZ,GACtB,OAAO,IAAIi9C,GAAMxvC,EAAO1H,KAAM0H,EAAOlJ,IAIvC,SAASu2D,GAAiBl6D,EAAIoD,EAAOwD,EAAOmzD,GACtC3+C,GAAMmyB,GAAevtC,GACzB,IAAI+D,EAAU/D,EAAG+D,QAAS4mB,EAAM3qB,EAAG2qB,IACnCvV,GAAiBhS,GAEjB,IAAIu3D,EAAUC,EAAUC,EAAWlwC,EAAIxgB,IAAKrB,EAAS+xD,EAAS/xD,OAY9D,GAXIixD,EAASH,SAAWG,EAASniB,QAC/BgjB,EAAWjwC,EAAIxgB,IAAIoT,SAAS3W,GAExB+zD,EADAC,GAAY,EACD9xD,EAAO8xD,GAEP,IAAIve,GAAMz1C,EAAOA,KAEhC+zD,EAAWhwC,EAAIxgB,IAAIN,UACnB+wD,EAAWjwC,EAAIxgB,IAAIkgC,WAGA,aAAjB0vB,EAASJ,KACNI,EAASH,SAAUe,EAAW,IAAIte,GAAMz1C,EAAOA,IACpDA,EAAQwhC,GAAapoC,EAAIoD,GAAO,GAAM,GACtCw3D,GAAY,MACP,CACL,IAAI9wD,EAAQ2wD,GAAaz6D,EAAI4G,EAAOmzD,EAASJ,MAEzCgB,EADAZ,EAASniB,OACE8J,GAAYiZ,EAAU7wD,EAAME,OAAQF,EAAMX,KAAM4wD,EAASniB,QAEzD9tC,EAGZiwD,EAASH,QAIU,GAAbgB,GACTA,EAAW9xD,EAAO5M,OAClBgJ,GAAaylB,EAAK4xB,GAAmBv8C,EAAI8I,EAAOsc,OAAO,CAACu1C,IAAYC,GACvD,CAAC36C,QAAQ,EAAOE,OAAQ,YAC5BrX,EAAO5M,OAAS,GAAK4M,EAAO8xD,GAAU5xD,SAA4B,QAAjB+wD,EAASJ,OAAmBI,EAASniB,QAC/F1yC,GAAaylB,EAAK4xB,GAAmBv8C,EAAI8I,EAAOoC,MAAM,EAAG0vD,GAAUx1C,OAAOtc,EAAOoC,MAAM0vD,EAAW,IAAK,GAC1F,CAAC36C,QAAQ,EAAOE,OAAQ,WACrC06C,EAAWlwC,EAAIxgB,KAEf63C,GAAoBr3B,EAAKiwC,EAAUD,EAAUz6C,IAZ7C06C,EAAW,EACX11D,GAAaylB,EAAK,IAAIqxB,GAAU,CAAC2e,GAAW,GAAIz6C,GAChD26C,EAAWlwC,EAAIxgB,KAajB,IAAI2wD,EAAUl0D,EACd,SAASm0D,EAAS37D,GAChB,GAAyB,GAArB8sB,GAAI4uC,EAAS17D,GAGjB,GAFA07D,EAAU17D,EAEW,aAAjB26D,EAASJ,KAAqB,CAKhC,IAJA,IAAI7wD,EAAS,GAAImW,EAAUjf,EAAGoB,QAAQ6d,QAClC+7C,EAAWh8C,EAAY0L,GAAQC,EAAK/jB,EAAMhD,MAAMnD,KAAMmG,EAAM9E,GAAImd,GAChEg8C,EAASj8C,EAAY0L,GAAQC,EAAKvrB,EAAIwE,MAAMnD,KAAMrB,EAAI0C,GAAImd,GAC1DpU,EAAOpO,KAAKe,IAAIw9D,EAAUC,GAASnwD,EAAQrO,KAAKgB,IAAIu9D,EAAUC,GACzDr3D,EAAOnH,KAAKe,IAAIoJ,EAAMhD,KAAMxE,EAAIwE,MAAO8O,EAAMjW,KAAKe,IAAIwC,EAAGgF,WAAYvI,KAAKgB,IAAImJ,EAAMhD,KAAMxE,EAAIwE,OAClGA,GAAQ8O,EAAK9O,IAAQ,CACxB,IAAInD,EAAOiqB,GAAQC,EAAK/mB,GAAMnD,KAAM2zD,EAAU/zC,EAAW5f,EAAMoK,EAAMoU,GACjEpU,GAAQC,EACRhC,EAAOiB,KAAK,IAAIsyC,GAAMt3C,GAAInB,EAAMwwD,GAAUrvD,GAAInB,EAAMwwD,KAC/C3zD,EAAKvE,OAASk4D,GACnBtrD,EAAOiB,KAAK,IAAIsyC,GAAMt3C,GAAInB,EAAMwwD,GAAUrvD,GAAInB,EAAMyc,EAAW5f,EAAMqK,EAAOmU,MAE7EnW,EAAO5M,QAAU4M,EAAOiB,KAAK,IAAIsyC,GAAMz1C,EAAOA,IACnD1B,GAAaylB,EAAK4xB,GAAmBv8C,EAAI66D,EAAS/xD,OAAOoC,MAAM,EAAG0vD,GAAUx1C,OAAOtc,GAAS8xD,GAC/E,CAACz6C,OAAQ,SAAUF,QAAQ,IACxCjgB,EAAGoF,eAAehG,OACb,CACL,IAE8B+J,EAF1B+xD,EAAWP,EACX7wD,EAAQ2wD,GAAaz6D,EAAIZ,EAAK26D,EAASJ,MACvC3vD,EAASkxD,EAASlxD,OAClBkiB,GAAIpiB,EAAME,OAAQA,GAAU,GAC9Bb,EAAOW,EAAMX,KACba,EAASsiB,GAAO4uC,EAAS/1D,OAAQ2E,EAAME,UAEvCb,EAAOW,EAAME,OACbA,EAASqiB,GAAO6uC,EAASv3D,KAAMmG,EAAMX,OAEvC,IAAIgyD,EAAWN,EAAS/xD,OAAOoC,MAAM,GACrCiwD,EAASP,GAAYQ,GAAap7D,EAAI,IAAIq8C,GAAM7vB,GAAQ7B,EAAK3gB,GAASb,IACtEjE,GAAaylB,EAAK4xB,GAAmBv8C,EAAIm7D,EAAUP,GAAW16C,IAIlE,IAAIm7C,EAAat3D,EAAQC,QAAQC,wBAK7Bq3D,EAAU,EAEd,SAAS1jB,EAAO11C,GACd,IAAIq5D,IAAaD,EACblyD,EAAMg/B,GAAapoC,EAAIkC,GAAG,EAAuB,aAAjB63D,EAASJ,MAC7C,GAAKvwD,EACL,GAAyB,GAArB8iB,GAAI9iB,EAAK0xD,GAAe,CAC1B96D,EAAGkmB,MAAM9R,MAAQqJ,IACjBs9C,EAAS3xD,GACT,IAAI6tC,EAAU5I,GAAatqC,EAAS4mB,IAChCvhB,EAAIxF,MAAQqzC,EAAQtzC,IAAMyF,EAAIxF,KAAOqzC,EAAQ9xC,OAC7CkQ,WAAW1Q,GAAU3E,GAAI,WAAiBs7D,GAAWC,GAAY3jB,EAAO11C,MAAS,SAChF,CACL,IAAIikC,EAAUjkC,EAAEumC,QAAU4yB,EAAWl3D,KAAO,GAAKjC,EAAEumC,QAAU4yB,EAAWl6D,OAAS,GAAK,EAClFglC,GAAW9wB,WAAW1Q,GAAU3E,GAAI,WAClCs7D,GAAWC,IACfx3D,EAAQ48B,SAASmE,WAAaqB,EAC9ByR,EAAO11C,OACL,KAIR,SAASg9C,EAAKh9C,GACZlC,EAAGC,MAAMo5D,eAAgB,EACzBiC,EAAU5gC,IAINx4B,IACFkT,GAAiBlT,GACjB6B,EAAQm2B,MAAM9lB,SAEhBkR,GAAIvhB,EAAQC,QAAQikB,cAAe,YAAauzC,GAChDl2C,GAAIvhB,EAAQC,QAAQikB,cAAe,UAAWuwC,GAC9C7tC,EAAI41B,QAAQb,cAAgB,KAG9B,IAAI8b,EAAO72D,GAAU3E,GAAI,SAAUkC,GACf,IAAdA,EAAE+S,SAAkB4R,GAAS3kB,GAC1B01C,EAAO11C,GADyBg9C,EAAKh9C,MAG1Cs2D,EAAK7zD,GAAU3E,EAAIk/C,GACvBl/C,EAAGC,MAAMo5D,cAAgBb,EACzB/jD,GAAG1Q,EAAQC,QAAQikB,cAAe,YAAauzC,GAC/C/mD,GAAG1Q,EAAQC,QAAQikB,cAAe,UAAWuwC,GAK/C,SAAS4C,GAAap7D,EAAI8J,GACxB,IAAIE,EAASF,EAAME,OACfb,EAAOW,EAAMX,KACbsyD,EAAa/wC,GAAQ1qB,EAAG2qB,IAAK3gB,EAAOpG,MACxC,GAAyB,GAArBsoB,GAAIliB,EAAQb,IAAca,EAAOyY,QAAUtZ,EAAKsZ,OAAU,OAAO3Y,EACrE,IAAIqY,EAAQ2C,GAAS22C,GACrB,IAAKt5C,EAAS,OAAOrY,EACrB,IAAItK,EAAQgjB,GAAcL,EAAOnY,EAAOlI,GAAIkI,EAAOyY,QAASJ,EAAOF,EAAM3iB,GACzE,GAAI6iB,EAAKld,MAAQ6E,EAAOlI,IAAMugB,EAAK1e,IAAMqG,EAAOlI,GAAM,OAAOgI,EAC7D,IAKIihC,EALA2wB,EAAWl8D,GAAU6iB,EAAKld,MAAQ6E,EAAOlI,KAAsB,GAAdugB,EAAKC,OAAc,EAAI,GAC5E,GAAgB,GAAZo5C,GAAiBA,GAAYv5C,EAAMjmB,OAAU,OAAO4N,EAKxD,GAAIX,EAAKvF,MAAQoG,EAAOpG,KACtBmnC,GAAY5hC,EAAKvF,KAAOoG,EAAOpG,OAA6B,OAApB5D,EAAG2qB,IAAIvH,UAAqB,GAAK,GAAK,MACzE,CACL,IAAIu4C,EAAYn5C,GAAcL,EAAOhZ,EAAKrH,GAAIqH,EAAKsZ,QAC/C9Y,EAAMgyD,EAAYn8D,IAAU2J,EAAKrH,GAAKkI,EAAOlI,KAAqB,GAAdugB,EAAKC,OAAc,EAAI,GAE3EyoB,EADA4wB,GAAaD,EAAW,GAAKC,GAAaD,EAC/B/xD,EAAM,EAENA,EAAM,EAGvB,IAAIiyD,EAAUz5C,EAAMu5C,GAAY3wB,GAAY,EAAI,IAC5C5lC,EAAO4lC,IAA8B,GAAjB6wB,EAAQt5C,OAC5BxgB,EAAKqD,EAAOy2D,EAAQz2D,KAAOy2D,EAAQj4D,GAAI8e,EAAStd,EAAO,QAAU,SACrE,OAAO6E,EAAOlI,IAAMA,GAAMkI,EAAOyY,QAAUA,EAAS3Y,EAAQ,IAAIuyC,GAAM,IAAIt3C,GAAIiF,EAAOpG,KAAM9B,EAAI2gB,GAAStZ,GAM1G,SAAS0yD,GAAY77D,EAAIkC,EAAGgE,EAAM41D,GAChC,IAAIC,EAAIC,EACR,GAAI95D,EAAE+5D,QACJF,EAAK75D,EAAE+5D,QAAQ,GAAGzzB,QAClBwzB,EAAK95D,EAAE+5D,QAAQ,GAAGxzB,aAElB,IAAMszB,EAAK75D,EAAEsmC,QAASwzB,EAAK95D,EAAEumC,QAC7B,MAAMC,GAAO,OAAO,EAEtB,GAAIqzB,GAAMt/D,KAAKC,MAAMsD,EAAG+D,QAAQw7B,QAAQt7B,wBAAwB6G,OAAU,OAAO,EAC7EgxD,GAAW1mD,GAAiBlT,GAEhC,IAAI6B,EAAU/D,EAAG+D,QACbm4D,EAAUn4D,EAAQ+pC,QAAQ7pC,wBAE9B,GAAI+3D,EAAKE,EAAQ/6D,SAAWilB,GAAWpmB,EAAIkG,GAAS,OAAO4f,GAAmB5jB,GAC9E85D,GAAME,EAAQ/3D,IAAMJ,EAAQohC,WAE5B,IAAK,IAAI9oC,EAAI,EAAGA,EAAI2D,EAAG+D,QAAQk6B,YAAY/hC,SAAUG,EAAG,CACtD,IAAI8/D,EAAIp4D,EAAQw7B,QAAQxiB,WAAW1gB,GACnC,GAAI8/D,GAAKA,EAAEl4D,wBAAwB6G,OAASixD,EAAI,CAC9C,IAAIn4D,EAAO8nB,GAAa1rB,EAAG2qB,IAAKqxC,GAC5B5+B,EAASp9B,EAAG+D,QAAQk6B,YAAY5hC,GAEpC,OADAopB,GAAOzlB,EAAIkG,EAAMlG,EAAI4D,EAAMw5B,EAAOp3B,UAAW9D,GACtC4jB,GAAmB5jB,KAKhC,SAASi3D,GAAcn5D,EAAIkC,GACzB,OAAO25D,GAAY77D,EAAIkC,EAAG,eAAe,GAQ3C,SAASs3D,GAAcx5D,EAAIkC,GACrBu9B,GAAcz/B,EAAG+D,QAAS7B,IAAMk6D,GAAoBp8D,EAAIkC,IACxDyjB,GAAe3lB,EAAIkC,EAAG,gBACrBsa,GAAqBxc,EAAG+D,QAAQm2B,MAAMs/B,cAAct3D,GAG3D,SAASk6D,GAAoBp8D,EAAIkC,GAC/B,QAAKkkB,GAAWpmB,EAAI,sBACb67D,GAAY77D,EAAIkC,EAAG,qBAAqB,GAGjD,SAASm6D,GAAar8D,GACpBA,EAAG+D,QAAQC,QAAQgC,UAAYhG,EAAG+D,QAAQC,QAAQgC,UAAUnH,QAAQ,eAAgB,IAClFmB,EAAGoB,QAAQk7D,MAAMz9D,QAAQ,aAAc,UACzCslC,GAAYnkC,GAxYd84D,GAAUj7D,UAAUm7D,QAAU,SAAUr5C,EAAMvgB,EAAKiV,GACjD,OAAO/W,KAAKqiB,KAAOk5C,GAAoBl5C,GACf,GAAtBuM,GAAI9sB,EAAK9B,KAAK8B,MAAaiV,GAAU/W,KAAK+W,QAyY9C,IAAIxM,GAAO,CAACsO,SAAU,WAAW,MAAO,oBAEpC/O,GAAW,GACXm1D,GAAiB,GAErB,SAASC,GAAch+D,GACrB,IAAI+9D,EAAiB/9D,EAAW+9D,eAEhC,SAAS7C,EAAOhyD,EAAMhH,EAAO+kD,EAAQgX,GACnCj+D,EAAW4I,SAASM,GAAQhH,EACxB+kD,IAAU8W,EAAe70D,GAC3B+0D,EAAY,SAAUz8D,EAAI2H,EAAKC,GAAUA,GAAOC,IAAQ49C,EAAOzlD,EAAI2H,EAAKC,IAAW69C,GAGvFjnD,EAAWsI,aAAe4yD,EAG1Bl7D,EAAWqJ,KAAOA,GAIlB6xD,EAAO,QAAS,IAAI,SAAU15D,EAAI2H,GAAO,OAAO3H,EAAG4oD,SAASjhD,MAAS,GACrE+xD,EAAO,OAAQ,MAAM,SAAU15D,EAAI2H,GACjC3H,EAAG2qB,IAAI4yB,WAAa51C,EACpB21C,GAASt9C,MACR,GAEH05D,EAAO,aAAc,EAAGpc,IAAU,GAClCoc,EAAO,kBAAkB,GACzBA,EAAO,eAAe,GACtBA,EAAO,UAAW,GAAG,SAAU15D,GAC7Bw9C,GAAex9C,GACfmkC,GAAYnkC,GACZ6oC,GAAU7oC,MACT,GAEH05D,EAAO,gBAAiB,MAAM,SAAU15D,EAAI2H,GAE1C,GADA3H,EAAG2qB,IAAI69B,QAAU7gD,EACZA,EAAL,CACA,IAAI+0D,EAAY,GAAIlxC,EAASxrB,EAAG2qB,IAAIC,MACpC5qB,EAAG2qB,IAAI3d,MAAK,SAAUpJ,GACpB,IAAK,IAAIxE,EAAM,IAAK,CAClB,IAAIgjB,EAAQxe,EAAKnD,KAAKwB,QAAQ0F,EAAKvI,GACnC,IAAc,GAAVgjB,EAAe,MACnBhjB,EAAMgjB,EAAQza,EAAIzL,OAClBwgE,EAAU3yD,KAAKhF,GAAIymB,EAAQpJ,IAE7BoJ,OAEF,IAAK,IAAInvB,EAAIqgE,EAAUxgE,OAAS,EAAGG,GAAK,EAAGA,IACvCgN,GAAarJ,EAAG2qB,IAAKhjB,EAAK+0D,EAAUrgE,GAAI0I,GAAI23D,EAAUrgE,GAAGuH,KAAM84D,EAAUrgE,GAAGyF,GAAK6F,EAAIzL,aAE3Fw9D,EAAO,eAAgB,8FAA8F,SAAU15D,EAAI2H,EAAKC,GACtI5H,EAAGC,MAAMq5B,aAAe,IAAI16B,OAAO+I,EAAI5I,QAAU4I,EAAIxF,KAAK,MAAQ,GAAK,OAAQ,KAC3EyF,GAAOC,IAAQ7H,EAAG28D,aAExBjD,EAAO,yBAA0B5gC,IAA+B,SAAU94B,GAAM,OAAOA,EAAG28D,aAAc,GACxGjD,EAAO,iBAAiB,GACxBA,EAAO,aAAcx9C,EAAS,kBAAoB,YAAY,WAC5D,MAAM,IAAInK,MAAM,8DACf,GACH2nD,EAAO,cAAc,GAAO,SAAU15D,EAAI2H,GAAO,OAAO3H,EAAG48D,gBAAgBC,WAAal1D,KAAQ,GAChG+xD,EAAO,eAAe,GAAO,SAAU15D,EAAI2H,GAAO,OAAO3H,EAAG48D,gBAAgBE,YAAcn1D,KAAQ,GAClG+xD,EAAO,kBAAkB,GAAO,SAAU15D,EAAI2H,GAAO,OAAO3H,EAAG48D,gBAAgBG,eAAiBp1D,KAAQ,GACxG+xD,EAAO,mBAAoBr9C,GAC3Bq9C,EAAO,yBAAyB,GAEhCA,EAAO,QAAS,WAAW,SAAU15D,GACnCq8D,GAAar8D,GACbm6C,GAAcn6C,MACb,GACH05D,EAAO,SAAU,WAAW,SAAU15D,EAAI2H,EAAKC,GAC7C,IAAI6C,EAAOunD,GAAUrqD,GACjB5L,EAAO6L,GAAOC,IAAQmqD,GAAUpqD,GAChC7L,GAAQA,EAAKihE,QAAUjhE,EAAKihE,OAAOh9D,EAAIyK,GACvCA,EAAKwyD,QAAUxyD,EAAKwyD,OAAOj9D,EAAIjE,GAAQ,SAE7C29D,EAAO,YAAa,MACpBA,EAAO,iBAAkB,MAEzBA,EAAO,gBAAgB,EAAOwD,IAAiB,GAC/CxD,EAAO,UAAW,IAAI,SAAU15D,EAAI2H,GAClC3H,EAAG+D,QAAQk6B,YAAc6b,GAAWnyC,EAAK3H,EAAGoB,QAAQu8B,aACpDwc,GAAcn6C,MACb,GACH05D,EAAO,eAAe,GAAM,SAAU15D,EAAI2H,GACxC3H,EAAG+D,QAAQw7B,QAAQh8B,MAAMsH,KAAOlD,EAAMmgC,GAAqB9nC,EAAG+D,SAAW,KAAO,IAChF/D,EAAG28D,aACF,GACHjD,EAAO,8BAA8B,GAAO,SAAU15D,GAAM,OAAOmzC,GAAiBnzC,MAAQ,GAC5F05D,EAAO,iBAAkB,UAAU,SAAU15D,GAC3C+zC,GAAe/zC,GACfmzC,GAAiBnzC,GACjBA,EAAG+D,QAAQktC,WAAWJ,aAAa7wC,EAAG2qB,IAAIma,WAC1C9kC,EAAG+D,QAAQktC,WAAWzB,cAAcxvC,EAAG2qB,IAAI+Z,eAC1C,GACHg1B,EAAO,eAAe,GAAO,SAAU15D,EAAI2H,GACzC3H,EAAG+D,QAAQk6B,YAAc6b,GAAW95C,EAAGoB,QAAQm+B,QAAS53B,GACxDwyC,GAAcn6C,MACb,GACH05D,EAAO,kBAAmB,EAAGvf,IAAe,GAC5Cuf,EAAO,uBAAuB,SAAUyD,GAAW,OAAOA,IAAYhjB,IAAe,GACrFuf,EAAO,2BAA2B,EAAO7vB,IAAiB,GAE1D6vB,EAAO,+BAA+B,GACtCA,EAAO,mBAAmB,GAC1BA,EAAO,0BAA0B,GACjCA,EAAO,sBAAsB,GAE7BA,EAAO,YAAY,GAAO,SAAU15D,EAAI2H,GAC3B,YAAPA,IACFylC,GAAOptC,GACPA,EAAG+D,QAAQm2B,MAAMtlB,QAEnB5U,EAAG+D,QAAQm2B,MAAMkjC,gBAAgBz1D,MAGnC+xD,EAAO,oBAAqB,MAAM,SAAU15D,EAAI2H,GAC9CA,EAAe,KAARA,EAAc,KAAOA,EAC5B3H,EAAG+D,QAAQm2B,MAAMmjC,yBAAyB11D,MAG5C+xD,EAAO,gBAAgB,GAAO,SAAU15D,EAAI2H,GAAWA,GAAO3H,EAAG+D,QAAQm2B,MAAM/7B,WAAa,GAC5Fu7D,EAAO,YAAY,EAAM4D,IACzB5D,EAAO,qBAAsB,MAE7BA,EAAO,kBAAmB,KAC1BA,EAAO,qBAAsB,GAC7BA,EAAO,eAAgB,EAAG7vB,IAAiB,GAC3C6vB,EAAO,6BAA6B,EAAM7vB,IAAiB,GAC3D6vB,EAAO,WAAY,KACnBA,EAAO,YAAa,KACpBA,EAAO,gBAAgB,EAAMlc,IAAgB,GAC7Ckc,EAAO,gBAAgB,EAAOlc,IAAgB,GAC9Ckc,EAAO,eAAgB,KACvBA,EAAO,YAAa,KAAK,SAAU15D,EAAI2H,GAAO,OAAO3H,EAAG2qB,IAAI41B,QAAQnB,UAAYz3C,KAChF+xD,EAAO,oBAAqB,MAC5BA,EAAO,iBAAkB,IAAI,SAAU15D,GAAM,OAAOA,EAAG28D,aAAc,GACrEjD,EAAO,qBAAsB,IAAOlc,IAAgB,GACpDkc,EAAO,uBAAuB,GAAM,SAAU15D,EAAI2H,GAC3CA,GAAO3H,EAAG+D,QAAQm2B,MAAMqjC,mBAG/B7D,EAAO,WAAY,MAAM,SAAU15D,EAAI2H,GAAO,OAAO3H,EAAG+D,QAAQm2B,MAAMm+B,WAAWtmB,SAAWpqC,GAAO,MACnG+xD,EAAO,YAAa,MACpBA,EAAO,YAAa,OAAO,SAAU15D,EAAI2H,GAAO,OAAO3H,EAAG2qB,IAAI8gC,aAAa9jD,MAAS,GACpF+xD,EAAO,UAAW,MAGpB,SAAS4D,GAAgBt9D,EAAIc,EAAO8G,GAClC,IAAI41D,EAAQ51D,GAAOA,GAAOC,GAC1B,IAAK/G,IAAU08D,EAAO,CACpB,IAAIC,EAAQz9D,EAAG+D,QAAQ25D,cACnBC,EAAS78D,EAAQ2T,GAAK6Q,GAC1Bq4C,EAAO39D,EAAG+D,QAAQ48B,SAAU,YAAa88B,EAAM72D,OAC/C+2D,EAAO39D,EAAG+D,QAAQ48B,SAAU,YAAa88B,EAAMG,OAC/CD,EAAO39D,EAAG+D,QAAQ48B,SAAU,WAAY88B,EAAMI,MAC9CF,EAAO39D,EAAG+D,QAAQ48B,SAAU,YAAa88B,EAAMK,OAC/CH,EAAO39D,EAAG+D,QAAQ48B,SAAU,OAAQ88B,EAAMM,OAI9C,SAASb,GAAgBl9D,GACnBA,EAAGoB,QAAQ+/B,cACb1tB,EAASzT,EAAG+D,QAAQC,QAAS,mBAC7BhE,EAAG+D,QAAQ47B,MAAMp8B,MAAM2uC,SAAW,GAClClyC,EAAG+D,QAAQknC,WAAa,OAExBh3B,EAAQjU,EAAG+D,QAAQC,QAAS,mBAC5BgzB,GAAYh3B,IAEdkoC,GAAoBloC,GACpB6oC,GAAU7oC,GACVmkC,GAAYnkC,GACZqV,YAAW,WAAc,OAAO89B,GAAiBnzC,KAAQ,KAM3D,SAASxB,GAAW0kC,EAAO9hC,GACzB,IAAIylD,EAASvpD,KAEb,KAAMA,gBAAgBkB,IAAe,OAAO,IAAIA,GAAW0kC,EAAO9hC,GAElE9D,KAAK8D,QAAUA,EAAUA,EAAUyd,EAAQzd,GAAW,GAEtDyd,EAAQzX,GAAUhG,GAAS,GAE3B,IAAIupB,EAAMvpB,EAAQN,MACA,iBAAP6pB,EAAmBA,EAAM,IAAI49B,GAAI59B,EAAKvpB,EAAQuH,KAAM,KAAMvH,EAAQmI,cAAenI,EAAQgiB,WAC3FhiB,EAAQuH,OAAQgiB,EAAI4yB,WAAan8C,EAAQuH,MAClDrL,KAAKqtB,IAAMA,EAEX,IAAIuP,EAAQ,IAAI17B,GAAWw/D,YAAY58D,EAAQ68D,YAAY3gE,MACvDyG,EAAUzG,KAAKyG,QAAU,IAAIq2C,GAAQlX,EAAOvY,EAAKuP,EAAO94B,GA2C5D,IAAK,IAAIolD,KA1CTziD,EAAQC,QAAQxF,WAAalB,KAC7B++D,GAAa/+D,MACT8D,EAAQ+/B,eACR7jC,KAAKyG,QAAQC,QAAQgC,WAAa,oBACtC+tC,GAAez2C,MAEfA,KAAK2C,MAAQ,CACXy3D,QAAS,GACT5oC,SAAU,GACVL,QAAS,EACT3P,WAAW,EACX0uB,mBAAmB,EACnBZ,SAAS,EACTkX,eAAe,EACfoa,eAAgB,EAAGC,aAAc,EACjC9E,eAAe,EACf5rB,cAAc,EACd6I,UAAW,IAAI72B,EACfs4C,OAAQ,KACRz+B,aAAc,MAGZl4B,EAAQg9D,YAAcliD,GAAUnY,EAAQm2B,MAAM9lB,QAI9CgH,GAAMC,EAAa,IAAMhG,YAAW,WAAc,OAAOwxC,EAAO9iD,QAAQm2B,MAAM/7B,OAAM,KAAU,IAElGkgE,GAAsB/gE,MACtBqwD,KAEAxZ,GAAe72C,MACfA,KAAK4oB,MAAMgc,aAAc,EACzB4c,GAAUxhD,KAAMqtB,GAEXvpB,EAAQg9D,YAAcliD,GAAW5e,KAAK6vC,WACvC93B,YAAW,WACPwxC,EAAO1Z,aAAe0Z,EAAO5mD,MAAM2sC,SAAWU,GAAQuZ,KACzD,IAEDzZ,GAAO9vC,MAEKi/D,GAAsBA,GAAehjD,eAAeitC,IAChE+V,GAAe/V,GAAKlpD,KAAM8D,EAAQolD,GAAM3+C,IAC5CywC,GAA2Bh7C,MACvB8D,EAAQk9D,YAAcl9D,EAAQk9D,WAAWhhE,MAC7C,IAAK,IAAIjB,EAAI,EAAGA,EAAIkiE,GAAUriE,SAAUG,EAAKkiE,GAAUliE,GAAGiB,MAC1Do3C,GAAap3C,MAGTie,GAAUna,EAAQ+/B,cACiC,sBAAnDhB,iBAAiBp8B,EAAQ+pC,SAAS0wB,gBAClCz6D,EAAQ+pC,QAAQvqC,MAAMi7D,cAAgB,QAS5C,SAASH,GAAsBr+D,GAC7B,IAAIi3B,EAAIj3B,EAAG+D,QACX0Q,GAAGwiB,EAAE0J,SAAU,YAAah8B,GAAU3E,EAAIi5D,KAGtCxkD,GAAGwiB,EAAE0J,SAAU,WADfvlB,GAAMC,EAAa,GACQ1W,GAAU3E,GAAI,SAAUkC,GACnD,IAAIyjB,GAAe3lB,EAAIkC,GAAvB,CACA,IAAI9C,EAAMgpC,GAAapoC,EAAIkC,GAC3B,GAAK9C,IAAO+5D,GAAcn5D,EAAIkC,KAAMu9B,GAAcz/B,EAAG+D,QAAS7B,GAA9D,CACAkT,GAAiBlT,GACjB,IAAIu8D,EAAOz+D,EAAG06D,WAAWt7D,GACzBwiD,GAAgB5hD,EAAG2qB,IAAK8zC,EAAKz0D,OAAQy0D,EAAKt1D,WAGf,SAAUjH,GAAK,OAAOyjB,GAAe3lB,EAAIkC,IAAMkT,GAAiBlT,KAI/FuS,GAAGwiB,EAAE0J,SAAU,eAAe,SAAUz+B,GAAK,OAAOs3D,GAAcx5D,EAAIkC,MACtEuS,GAAGwiB,EAAEiD,MAAMm+B,WAAY,eAAe,SAAUn2D,GACzC+0B,EAAE0J,SAASpjB,SAASrb,EAAEuT,SAAW+jD,GAAcx5D,EAAIkC,MAI1D,IAAIw8D,EAAeC,EAAY,CAACjsD,IAAK,GACrC,SAASksD,IACH3nC,EAAEujB,cACJkkB,EAAgBrpD,YAAW,WAAc,OAAO4hB,EAAEujB,YAAc,OAAS,KACzEmkB,EAAY1nC,EAAEujB,YACdmkB,EAAUjsD,KAAO,IAAIzV,MAGzB,SAAS4hE,EAAsB38D,GAC7B,GAAwB,GAApBA,EAAE+5D,QAAQ//D,OAAe,OAAO,EACpC,IAAI4iE,EAAQ58D,EAAE+5D,QAAQ,GACtB,OAAO6C,EAAMC,SAAW,GAAKD,EAAME,SAAW,EAEhD,SAASC,EAAQH,EAAO94B,GACtB,GAAkB,MAAdA,EAAMn7B,KAAgB,OAAO,EACjC,IAAI+vC,EAAK5U,EAAMn7B,KAAOi0D,EAAMj0D,KAAMiwC,EAAK9U,EAAM7hC,IAAM26D,EAAM36D,IACzD,OAAOy2C,EAAKA,EAAKE,EAAKA,EAAK,IAE7BrmC,GAAGwiB,EAAE0J,SAAU,cAAc,SAAUz+B,GACrC,IAAKyjB,GAAe3lB,EAAIkC,KAAO28D,EAAsB38D,KAAOi3D,GAAcn5D,EAAIkC,GAAI,CAChF+0B,EAAEiD,MAAMq9B,eACRhiD,aAAampD,GACb,IAAI1hE,GAAO,IAAIC,KACfg6B,EAAEujB,YAAc,CAAC5zC,MAAO5J,EAAKm9D,OAAO,EACnBp+D,KAAMiB,EAAM2hE,EAAUjsD,KAAO,IAAMisD,EAAY,MACxC,GAApBz8D,EAAE+5D,QAAQ//D,SACZ+6B,EAAEujB,YAAY3vC,KAAO3I,EAAE+5D,QAAQ,GAAGiD,MAClCjoC,EAAEujB,YAAYr2C,IAAMjC,EAAE+5D,QAAQ,GAAGkD,WAIvC1qD,GAAGwiB,EAAE0J,SAAU,aAAa,WACtB1J,EAAEujB,cAAevjB,EAAEujB,YAAY2f,OAAQ,MAE7C1lD,GAAGwiB,EAAE0J,SAAU,YAAY,SAAUz+B,GACnC,IAAI48D,EAAQ7nC,EAAEujB,YACd,GAAIskB,IAAUr/B,GAAcxI,EAAG/0B,IAAoB,MAAd48D,EAAMj0D,OACtCi0D,EAAM3E,OAAS,IAAIl9D,KAAO6hE,EAAMl4D,MAAQ,IAAK,CAChD,IAAgDkD,EAA5C1K,EAAMY,EAAGqmC,WAAWpP,EAAEujB,YAAa,QAEnC1wC,GADCg1D,EAAM/iE,MAAQkjE,EAAQH,EAAOA,EAAM/iE,MAC5B,IAAIsgD,GAAMj9C,EAAKA,IACjB0/D,EAAM/iE,KAAKA,MAAQkjE,EAAQH,EAAOA,EAAM/iE,KAAKA,MAC3CiE,EAAG06D,WAAWt7D,GAEd,IAAIi9C,GAAMt3C,GAAI3F,EAAIwE,KAAM,GAAI4oB,GAAQxsB,EAAG2qB,IAAK5lB,GAAI3F,EAAIwE,KAAO,EAAG,KAC1E5D,EAAGkF,aAAa4E,EAAME,OAAQF,EAAMX,MACpCnJ,EAAGoU,QACHgB,GAAiBlT,GAEnB08D,OAEFnqD,GAAGwiB,EAAE0J,SAAU,cAAei+B,GAI9BnqD,GAAGwiB,EAAE0J,SAAU,UAAU,WACnB1J,EAAE0J,SAASG,eACbyO,GAAgBvvC,EAAIi3B,EAAE0J,SAASmE,WAC/B0K,GAAcxvC,EAAIi3B,EAAE0J,SAAS+D,YAAY,GACzCjf,GAAOzlB,EAAI,SAAUA,OAKzByU,GAAGwiB,EAAE0J,SAAU,cAAc,SAAUz+B,GAAK,OAAOm5C,GAAcr7C,EAAIkC,MACrEuS,GAAGwiB,EAAE0J,SAAU,kBAAkB,SAAUz+B,GAAK,OAAOm5C,GAAcr7C,EAAIkC,MAGzEuS,GAAGwiB,EAAEjzB,QAAS,UAAU,WAAc,OAAOizB,EAAEjzB,QAAQ8gC,UAAY7N,EAAEjzB,QAAQ0gC,WAAa,KAE1FzN,EAAEymC,cAAgB,CAChBE,MAAO,SAAU17D,GAASyjB,GAAe3lB,EAAIkC,IAAMmB,GAAOnB,IAC1D27D,KAAM,SAAU37D,GAASyjB,GAAe3lB,EAAIkC,KAAMirD,GAAWntD,EAAIkC,GAAImB,GAAOnB,KAC5E0E,MAAO,SAAU1E,GAAK,OAAO2qD,GAAY7sD,EAAIkC,IAC7C67D,KAAMp5D,GAAU3E,EAAI4rD,IACpBkS,MAAO,SAAU57D,GAASyjB,GAAe3lB,EAAIkC,IAAM2pD,GAAgB7rD,KAGrE,IAAIgU,EAAMijB,EAAEiD,MAAMm+B,WAClB5jD,GAAGT,EAAK,SAAS,SAAU9R,GAAK,OAAOwS,GAAQ0B,KAAKpW,EAAIkC,MACxDuS,GAAGT,EAAK,UAAWrP,GAAU3E,EAAIY,KACjC6T,GAAGT,EAAK,WAAYrP,GAAU3E,EAAIy4D,KAClChkD,GAAGT,EAAK,SAAS,SAAU9R,GAAK,OAAOorC,GAAQttC,EAAIkC,MACnDuS,GAAGT,EAAK,QAAQ,SAAU9R,GAAK,OAAOkrC,GAAOptC,EAAIkC,MAhHnD1D,GAAW4I,SAAWA,GAEtB5I,GAAW+9D,eAAiBA,GAiH5B,IAAIgC,GAAY,GAQhB,SAAS70D,GAAW1J,EAAIof,EAAGggD,EAAKC,GAC9B,IAAkBp/D,EAAd0qB,EAAM3qB,EAAG2qB,IACF,MAAPy0C,IAAeA,EAAM,OACd,SAAPA,IAGGz0C,EAAIhiB,KAAK22D,OACPr/D,EAAQsvB,GAAiBvvB,EAAIof,GAAGnf,MADfm/D,EAAM,QAIhC,IAAIngD,EAAUjf,EAAGoB,QAAQ6d,QACrBrb,EAAO8mB,GAAQC,EAAKvL,GAAImgD,EAAWvgD,EAAYpb,EAAKnD,KAAM,KAAMwe,GAChErb,EAAK8rB,aAAc9rB,EAAK8rB,WAAa,MACzC,IAAiDnC,EAA7CiyC,EAAiB57D,EAAKnD,KAAKpB,MAAM,QAAQ,GAC7C,GAAKggE,GAAe,KAAKl9D,KAAKyB,EAAKnD,OAG5B,GAAW,SAAP2+D,IACT7xC,EAAc5C,EAAIhiB,KAAK22D,OAAOr/D,EAAO2D,EAAKnD,KAAKyK,MAAMs0D,EAAetjE,QAAS0H,EAAKnD,MAC9E8sB,GAAe1kB,GAAQ0kB,EAAc,KAAK,CAC5C,IAAK8xC,EAAc,OACnBD,EAAM,aANR7xC,EAAc,EACd6xC,EAAM,MAQG,QAAPA,EACmB7xC,EAAjBnO,EAAIuL,EAAIC,MAAuB5L,EAAY0L,GAAQC,EAAKvL,EAAE,GAAG3e,KAAM,KAAMwe,GACxD,EACL,OAAPmgD,EACT7xC,EAAcgyC,EAAWv/D,EAAGoB,QAAQq+D,WACpB,YAAPL,EACT7xC,EAAcgyC,EAAWv/D,EAAGoB,QAAQq+D,WACb,iBAAPL,IAChB7xC,EAAcgyC,EAAWH,GAE3B7xC,EAAc9wB,KAAKgB,IAAI,EAAG8vB,GAE1B,IAAImyC,EAAe,GAAItgE,EAAM,EAC7B,GAAIY,EAAGoB,QAAQu+D,eACX,IAAK,IAAItjE,EAAII,KAAKC,MAAM6wB,EAActO,GAAU5iB,IAAKA,EAAI+C,GAAO6f,EAASygD,GAAgB,KAG7F,GAFItgE,EAAMmuB,IAAemyC,GAAgBh/C,EAAS6M,EAAcnuB,IAE5DsgE,GAAgBF,EAGlB,OAFAn2D,GAAashB,EAAK+0C,EAAc36D,GAAIqa,EAAG,GAAIra,GAAIqa,EAAGogD,EAAetjE,QAAS,UAC1E0H,EAAK8rB,WAAa,MACX,EAIP,IAAK,IAAInM,EAAM,EAAGA,EAAMoH,EAAIxgB,IAAIrB,OAAO5M,OAAQqnB,IAAO,CACpD,IAAIzZ,EAAQ6gB,EAAIxgB,IAAIrB,OAAOya,GAC3B,GAAIzZ,EAAMX,KAAKvF,MAAQwb,GAAKtV,EAAMX,KAAKrH,GAAK09D,EAAetjE,OAAQ,CACjE,IAAI0jE,EAAQ76D,GAAIqa,EAAGogD,EAAetjE,QAClC8lD,GAAoBr3B,EAAKpH,EAAK,IAAI84B,GAAMujB,EAAOA,IAC/C,QA5DRphE,GAAWqhE,eAAiB,SAAUt+D,GAAK,OAAOg9D,GAAUx0D,KAAKxI,IAqEjE,IAAIu+D,GAAa,KAEjB,SAASC,GAAcC,GACrBF,GAAaE,EAGf,SAASC,GAAejgE,EAAIkgE,EAAUC,EAASh2D,EAAKgW,GAClD,IAAIwK,EAAM3qB,EAAG2qB,IACb3qB,EAAG+D,QAAQ4I,OAAQ,EACdxC,IAAOA,EAAMwgB,EAAIxgB,KAEtB,IAAIi2D,GAAU,IAAInjE,KAAO,IACrBojE,EAAkB,SAAVlgD,GAAqBngB,EAAGC,MAAMi+D,cAAgBkC,EACtDE,EAAY14C,GAAes4C,GAAWK,EAAa,KAEvD,GAAIF,GAASl2D,EAAIrB,OAAO5M,OAAS,EAC/B,GAAI4jE,IAAcA,GAAWr/D,KAAKmS,KAAK,OAASstD,GAC9C,GAAI/1D,EAAIrB,OAAO5M,OAAS4jE,GAAWr/D,KAAKvE,QAAU,EAAG,CACnDqkE,EAAa,GACb,IAAK,IAAIlkE,EAAI,EAAGA,EAAIyjE,GAAWr/D,KAAKvE,OAAQG,IACxCkkE,EAAWx2D,KAAK4gB,EAAIw6B,WAAW2a,GAAWr/D,KAAKpE,WAE5CikE,EAAUpkE,QAAUiO,EAAIrB,OAAO5M,QAAU8D,EAAGoB,QAAQo/D,yBAC7DD,EAAapkE,EAAImkE,GAAW,SAAU3mD,GAAK,MAAO,CAACA,OAMvD,IAFA,IAAIy6B,EAAcp0C,EAAGkmB,MAAMkuB,YAElB7wB,EAAMpZ,EAAIrB,OAAO5M,OAAS,EAAGqnB,GAAO,EAAGA,IAAO,CACrD,IAAIzZ,EAAQK,EAAIrB,OAAOya,GACnBpe,EAAO2E,EAAM3E,OAAQxB,EAAKmG,EAAMnG,KAChCmG,EAAMd,UACJm3D,GAAWA,EAAU,EACrBh7D,EAAOJ,GAAII,EAAKvB,KAAMuB,EAAKrD,GAAKq+D,GAC3BngE,EAAGC,MAAM6e,YAAcuhD,EAC5B18D,EAAKoB,GAAIpB,EAAGC,KAAMnH,KAAKe,IAAIktB,GAAQC,EAAKhnB,EAAGC,MAAMnD,KAAKvE,OAAQyH,EAAG7B,GAAK6e,EAAI2/C,GAAWpkE,SAChFmkE,GAASP,IAAcA,GAAWW,UAAYX,GAAWr/D,KAAKmS,KAAK,OAAS0tD,EAAU1tD,KAAK,QAChGzN,EAAOxB,EAAKoB,GAAII,EAAKvB,KAAM,KAEjC,IAAI88D,EAAc,CAACv7D,KAAMA,EAAMxB,GAAIA,EAAIlD,KAAM8/D,EAAaA,EAAWh9C,EAAMg9C,EAAWrkE,QAAUokE,EAC7EngD,OAAQA,IAAWkgD,EAAQ,QAAUrgE,EAAGC,MAAMk+D,YAAciC,EAAS,MAAQ,WAChGxc,GAAW5jD,EAAG2qB,IAAK+1C,GACnB3kC,GAAY/7B,EAAI,YAAaA,EAAI0gE,GAE/BR,IAAaG,GACbl1D,GAAgBnL,EAAIkgE,GAExB7vB,GAAoBrwC,GAChBA,EAAGkmB,MAAMkuB,YAAc,IAAKp0C,EAAGkmB,MAAMkuB,YAAcA,GACvDp0C,EAAGkmB,MAAMmuB,QAAS,EAClBr0C,EAAGC,MAAMi+D,cAAgBl+D,EAAGC,MAAMk+D,aAAe,EAGnD,SAASwC,GAAYz+D,EAAGlC,GACtB,IAAI4gE,EAAS1+D,EAAE2+D,eAAiB3+D,EAAE2+D,cAAclU,QAAQ,QACxD,GAAIiU,EAIF,OAHA1+D,EAAE0jB,iBACG5lB,EAAGgsD,cAAiBhsD,EAAGoB,QAAQ0/D,cAChC3qB,GAAQn2C,GAAI,WAAc,OAAOigE,GAAejgE,EAAI4gE,EAAQ,EAAG,KAAM,aAClE,EAIX,SAASz1D,GAAgBnL,EAAIkgE,GAE3B,GAAKlgE,EAAGoB,QAAQ2/D,eAAkB/gE,EAAGoB,QAAQ4/D,YAG7C,IAFA,IAAI72D,EAAMnK,EAAG2qB,IAAIxgB,IAER9N,EAAI8N,EAAIrB,OAAO5M,OAAS,EAAGG,GAAK,EAAGA,IAAK,CAC/C,IAAIyN,EAAQK,EAAIrB,OAAOzM,GACvB,KAAIyN,EAAMX,KAAKrH,GAAK,KAAQzF,GAAK8N,EAAIrB,OAAOzM,EAAI,GAAG8M,KAAKvF,MAAQkG,EAAMX,KAAKvF,MAA3E,CACA,IAAI+E,EAAO3I,EAAG4I,UAAUkB,EAAMX,MAC1BuoB,GAAW,EACf,GAAI/oB,EAAKo4D,eACP,IAAK,IAAIvzD,EAAI,EAAGA,EAAI7E,EAAKo4D,cAAc7kE,OAAQsR,IAC3C,GAAI0yD,EAASj+D,QAAQ0G,EAAKo4D,cAAcjkE,OAAO0Q,KAAO,EAAG,CACzDkkB,EAAWhoB,GAAW1J,EAAI8J,EAAMX,KAAKvF,KAAM,SAC3C,YAEK+E,EAAKs4D,eACVt4D,EAAKs4D,cAAc9+D,KAAKuoB,GAAQ1qB,EAAG2qB,IAAK7gB,EAAMX,KAAKvF,MAAMnD,KAAKyK,MAAM,EAAGpB,EAAMX,KAAKrH,OAClF4vB,EAAWhoB,GAAW1J,EAAI8J,EAAMX,KAAKvF,KAAM,UAE7C8tB,GAAYqK,GAAY/7B,EAAI,gBAAiBA,EAAI8J,EAAMX,KAAKvF,QAIpE,SAASs9D,GAAelhE,GAEtB,IADA,IAAIS,EAAO,GAAIqI,EAAS,GACfzM,EAAI,EAAGA,EAAI2D,EAAG2qB,IAAIxgB,IAAIrB,OAAO5M,OAAQG,IAAK,CACjD,IAAIuH,EAAO5D,EAAG2qB,IAAIxgB,IAAIrB,OAAOzM,GAAG8M,KAAKvF,KACjCu9D,EAAY,CAACn3D,OAAQjF,GAAInB,EAAM,GAAIuF,KAAMpE,GAAInB,EAAO,EAAG,IAC3DkF,EAAOiB,KAAKo3D,GACZ1gE,EAAKsJ,KAAK/J,EAAGuG,SAAS46D,EAAUn3D,OAAQm3D,EAAUh4D,OAEpD,MAAO,CAAC1I,KAAMA,EAAMqI,OAAQA,GAG9B,SAASs4D,GAAoBC,EAAOxE,EAAYC,EAAaC,GAC3DsE,EAAM/jD,aAAa,cAAew/C,EAAc,GAAK,OACrDuE,EAAM/jD,aAAa,iBAAkBy/C,EAAiB,GAAK,OAC3DsE,EAAM/jD,aAAa,eAAgBu/C,GAGrC,SAASyE,KACP,IAAIt5C,EAAK7K,EAAI,WAAY,KAAM,KAAM,yGACjCgK,EAAMhK,EAAI,MAAO,CAAC6K,GAAK,KAAM,kEAUjC,OALIzM,EAAUyM,EAAGzkB,MAAMw7B,MAAQ,SACxB/W,EAAG1K,aAAa,OAAQ,OAE3BvB,IAAOiM,EAAGzkB,MAAMg+D,OAAS,mBAC7BH,GAAoBp5C,GACbb,EAWT,SAASq6C,GAAiBhjE,GACxB,IAAI+9D,EAAiB/9D,EAAW+9D,eAE5BkF,EAAUjjE,EAAWijE,QAAU,GAEnCjjE,EAAWX,UAAY,CACrB6qD,YAAalqD,EACb4V,MAAO,WAAWlB,OAAOkB,QAAS9W,KAAKyG,QAAQm2B,MAAM9lB,SAErDstD,UAAW,SAAShI,EAAQ54D,GAC1B,IAAIM,EAAU9D,KAAK8D,QAASwG,EAAMxG,EAAQs4D,GACtCt4D,EAAQs4D,IAAW54D,GAAmB,QAAV44D,IAChCt4D,EAAQs4D,GAAU54D,EACdy7D,EAAehjD,eAAemgD,IAC9B/0D,GAAUrH,KAAMi/D,EAAe7C,GAA/B/0D,CAAwCrH,KAAMwD,EAAO8G,GACzD6d,GAAOnoB,KAAM,eAAgBA,KAAMo8D,KAGrCn1D,UAAW,SAASm1D,GAAS,OAAOp8D,KAAK8D,QAAQs4D,IACjDiI,OAAQ,WAAY,OAAOrkE,KAAKqtB,KAEhC1iB,UAAW,SAAS9L,EAAKgF,GACvB7D,KAAK2C,MAAMy3D,QAAQv2D,EAAS,OAAS,WAAW6wD,GAAU71D,KAE5D2L,aAAc,SAAS3L,GAErB,IADA,IAAIw8B,EAAOr7B,KAAK2C,MAAMy3D,QACbr7D,EAAI,EAAGA,EAAIs8B,EAAKz8B,SAAUG,EAC/B,GAAIs8B,EAAKt8B,IAAMF,GAAOw8B,EAAKt8B,GAAGqL,MAAQvL,EAEtC,OADAw8B,EAAKxe,OAAO9d,EAAG,IACR,GAIbkG,WAAY6zC,IAAS,SAASltB,EAAM9nB,GAClC,IAAIuH,EAAOugB,EAAKjqB,MAAQiqB,EAAO1qB,EAAW4qB,QAAQ9rB,KAAK8D,QAAS8nB,GAChE,GAAIvgB,EAAKuhB,WAAc,MAAM,IAAInY,MAAM,iCACvC8O,EAAavjB,KAAK2C,MAAM6uB,SACX,CAACnmB,KAAMA,EAAMi5D,SAAU14C,EAAM8F,OAAQ5tB,GAAWA,EAAQ4tB,OACvDjO,SAAW3f,GAAWA,EAAQ2f,UAAa,IAC5C,SAAUjhB,GAAW,OAAOA,EAAQihB,YACjDzjB,KAAK2C,MAAMwuB,UACXoa,GAAUvrC,SAEZgF,cAAe8zC,IAAS,SAASltB,GAE/B,IADA,IAAI4F,EAAWxxB,KAAK2C,MAAM6uB,SACjBzyB,EAAI,EAAGA,EAAIyyB,EAAS5yB,SAAUG,EAAG,CACxC,IAAI+M,EAAM0lB,EAASzyB,GAAGulE,SACtB,GAAIx4D,GAAO8f,GAAuB,iBAARA,GAAoB9f,EAAI1B,MAAQwhB,EAIxD,OAHA4F,EAAS3U,OAAO9d,EAAG,GACnBiB,KAAK2C,MAAMwuB,eACXoa,GAAUvrC,UAMhBoM,WAAY0sC,IAAS,SAASh3B,EAAGzV,EAAK01D,GAClB,iBAAP11D,GAAiC,iBAAPA,IAChBA,EAAR,MAAPA,EAAqBrM,KAAK8D,QAAQ4/D,YAAc,QAAU,OACjDr3D,EAAM,MAAQ,YAEzBmiB,GAAOxuB,KAAKqtB,IAAKvL,IAAM1V,GAAWpM,KAAM8hB,EAAGzV,EAAK01D,MAEtD9I,gBAAiBngB,IAAS,SAASgpB,GAEjC,IADA,IAAIt2D,EAASxL,KAAKqtB,IAAIxgB,IAAIrB,OAAQ4J,GAAO,EAChCrW,EAAI,EAAGA,EAAIyM,EAAO5M,OAAQG,IAAK,CACtC,IAAIyN,EAAQhB,EAAOzM,GACnB,GAAKyN,EAAMd,QASAc,EAAMX,KAAKvF,KAAO8O,IAC3BhJ,GAAWpM,KAAMwM,EAAMX,KAAKvF,KAAMw7D,GAAK,GACvC1sD,EAAM5I,EAAMX,KAAKvF,KACbvH,GAAKiB,KAAKqtB,IAAIxgB,IAAIkgC,WAAagG,GAAoB/yC,WAZrC,CAClB,IAAI6H,EAAO2E,EAAM3E,OAAQxB,EAAKmG,EAAMnG,KAChCiD,EAAQnK,KAAKgB,IAAIiV,EAAKvN,EAAKvB,MAC/B8O,EAAMjW,KAAKe,IAAIF,KAAK0H,WAAYrB,EAAGC,MAAQD,EAAG7B,GAAK,EAAI,IAAM,EAC7D,IAAK,IAAI0L,EAAI5G,EAAO4G,EAAIkF,IAAOlF,EAC3B9D,GAAWpM,KAAMkQ,EAAG4xD,GACxB,IAAIx1D,EAAYtM,KAAKqtB,IAAIxgB,IAAIrB,OACd,GAAX3D,EAAKrD,IAAWgH,EAAO5M,QAAU0N,EAAU1N,QAAU0N,EAAUvN,GAAG8I,OAAOrD,GAAK,GAC9EkgD,GAAoB1kD,KAAKqtB,IAAKtuB,EAAG,IAAIggD,GAAMl3C,EAAMyE,EAAUvN,GAAGsH,MAAOqc,QAW/E5U,WAAY,SAAShM,EAAK2wB,GACxB,OAAOc,GAAUvzB,KAAM8B,EAAK2wB,IAG9B8xC,cAAe,SAASj+D,EAAMmsB,GAC5B,OAAOc,GAAUvzB,KAAMyH,GAAInB,GAAOmsB,GAAS,IAG7CrlB,eAAgB,SAAStL,GACvBA,EAAMotB,GAAQlvB,KAAKqtB,IAAKvrB,GACxB,IAEI8G,EAFA+oB,EAASI,GAAc/xB,KAAMotB,GAAQptB,KAAKqtB,IAAKvrB,EAAIwE,OACnDwgB,EAAS,EAAGvH,GAASoS,EAAO/yB,OAAS,GAAK,EAAG4F,EAAK1C,EAAI0C,GAE1D,GAAU,GAANA,EAAWoE,EAAO+oB,EAAO,QACtB,OAAS,CACd,IAAIjN,EAAOoC,EAASvH,GAAU,EAC9B,IAAKmF,EAAMiN,EAAa,EAANjN,EAAU,GAAK,IAAMlgB,EAAM+a,EAAQmF,MAChD,MAAIiN,EAAa,EAANjN,EAAU,GAAKlgB,GAC1B,CAAEoE,EAAO+oB,EAAa,EAANjN,EAAU,GAAI,MADEoC,EAASpC,EAAM,GAGtD,IAAIknB,EAAMhjC,EAAOA,EAAKjE,QAAQ,aAAe,EAC7C,OAAOinC,EAAM,EAAIhjC,EAAc,GAAPgjC,EAAW,KAAOhjC,EAAKgF,MAAM,EAAGg+B,EAAM,IAGhEtgC,UAAW,SAASxJ,GAClB,IAAIuJ,EAAOrL,KAAKqtB,IAAIhiB,KACpB,OAAKA,EAAKqhB,UACHxrB,EAAWwrB,UAAUrhB,EAAMrL,KAAK8N,WAAWhM,GAAKa,OAAO0I,KADhCA,GAIhCm5D,UAAW,SAAS1iE,EAAK8G,GACvB,OAAO5I,KAAKykE,WAAW3iE,EAAK8G,GAAM,IAGpC67D,WAAY,SAAS3iE,EAAK8G,GACxB,IAAIkc,EAAQ,GACZ,IAAKq/C,EAAQloD,eAAerT,GAAS,OAAOkc,EAC5C,IAAI4/C,EAAOP,EAAQv7D,GAAOyC,EAAOrL,KAAKsL,UAAUxJ,GAChD,GAAyB,iBAAduJ,EAAKzC,GACV87D,EAAKr5D,EAAKzC,KAAUkc,EAAMrY,KAAKi4D,EAAKr5D,EAAKzC,UACxC,GAAIyC,EAAKzC,GACd,IAAK,IAAI7J,EAAI,EAAGA,EAAIsM,EAAKzC,GAAMhK,OAAQG,IAAK,CAC1C,IAAIsL,EAAMq6D,EAAKr5D,EAAKzC,GAAM7J,IACtBsL,GAAOya,EAAMrY,KAAKpC,QAEfgB,EAAK8gB,YAAcu4C,EAAKr5D,EAAK8gB,YACtCrH,EAAMrY,KAAKi4D,EAAKr5D,EAAK8gB,aACZu4C,EAAKr5D,EAAKjB,OACnB0a,EAAMrY,KAAKi4D,EAAKr5D,EAAKjB,OAEvB,IAAK,IAAI6b,EAAM,EAAGA,EAAMy+C,EAAKC,QAAQ/lE,OAAQqnB,IAAO,CAClD,IAAIna,EAAM44D,EAAKC,QAAQ1+C,GACnBna,EAAI0Y,KAAKnZ,EAAMrL,QAAqC,GAA5B2E,EAAQmgB,EAAOhZ,EAAIzB,MAC3Cya,EAAMrY,KAAKX,EAAIzB,KAErB,OAAOya,GAGT8/C,cAAe,SAASt+D,EAAMmsB,GAC5B,IAAIpF,EAAMrtB,KAAKqtB,IAEf,OADA/mB,EAAO2oB,GAAS5B,EAAa,MAAR/mB,EAAe+mB,EAAIC,MAAQD,EAAIE,KAAO,EAAGjnB,GACvD2rB,GAAiBjyB,KAAMsG,EAAO,EAAGmsB,GAAS9vB,OAGnDiE,aAAc,SAAS0C,EAAO+B,GAC5B,IAAIvJ,EAAK0K,EAAQxM,KAAKqtB,IAAIxgB,IAAIN,UAI9B,OAHqBzK,EAAR,MAATwH,EAAuBkD,EAAMX,KACR,iBAATvC,EAA2B4lB,GAAQlvB,KAAKqtB,IAAK/jB,GAChDA,EAAQkD,EAAM3E,OAAS2E,EAAMnG,KACnCO,GAAa5G,KAAM8B,EAAKuJ,GAAQ,SAGzC+8B,WAAY,SAAStmC,EAAKuJ,GACxB,OAAO+8B,GAAWpoC,KAAMkvB,GAAQlvB,KAAKqtB,IAAKvrB,GAAMuJ,GAAQ,SAG1D09B,WAAY,SAASd,EAAQ58B,GAE3B,OADA48B,EAASD,GAAgBhoC,KAAMioC,EAAQ58B,GAAQ,QACxC09B,GAAW/oC,KAAMioC,EAAO16B,KAAM06B,EAAOphC,MAG9CunB,aAAc,SAASJ,EAAQ3iB,GAE7B,OADA2iB,EAASga,GAAgBhoC,KAAM,CAAC6G,IAAKmnB,EAAQzgB,KAAM,GAAIlC,GAAQ,QAAQxE,IAChEunB,GAAapuB,KAAKqtB,IAAKW,EAAShuB,KAAKyG,QAAQohC,aAEtDtO,aAAc,SAASjzB,EAAM+E,EAAMs8B,GACjC,IAAiBnO,EAAbpkB,GAAM,EACV,GAAmB,iBAAR9O,EAAkB,CAC3B,IAAI6oB,EAAOnvB,KAAKqtB,IAAIC,MAAQttB,KAAKqtB,IAAIE,KAAO,EACxCjnB,EAAOtG,KAAKqtB,IAAIC,MAAShnB,EAAOtG,KAAKqtB,IAAIC,MACpChnB,EAAO6oB,IAAQ7oB,EAAO6oB,EAAM/Z,GAAM,GAC3CokB,EAAUpM,GAAQptB,KAAKqtB,IAAK/mB,QAE5BkzB,EAAUlzB,EAEZ,OAAOohC,GAAgB1nC,KAAMw5B,EAAS,CAAC3yB,IAAK,EAAG0G,KAAM,GAAIlC,GAAQ,OAAQs8B,GAAkBvyB,GAAKvO,KAC7FuO,EAAMpV,KAAKqtB,IAAIW,OAASuL,GAAaC,GAAW,IAGrDqrC,kBAAmB,WAAa,OAAOx6B,GAAWrqC,KAAKyG,UACvD4mC,iBAAkB,WAAa,OAAOtH,GAAU/lC,KAAKyG,UAErDq+D,YAAa,WAAa,MAAO,CAACj9D,KAAM7H,KAAKyG,QAAQqsB,SAAUzsB,GAAIrG,KAAKyG,QAAQssB,SAEhFgyC,UAAW,SAASjjE,EAAKud,EAAMsD,EAAQ4xB,EAAMC,GAC3C,IAAI/tC,EAAUzG,KAAKyG,QACnB3E,EAAM8E,GAAa5G,KAAMkvB,GAAQlvB,KAAKqtB,IAAKvrB,IAC3C,IAAI+E,EAAM/E,EAAI+B,OAAQ0J,EAAOzL,EAAIyL,KAKjC,GAJA8R,EAAKpZ,MAAM47B,SAAW,WACtBxiB,EAAKW,aAAa,mBAAoB,QACtChgB,KAAKyG,QAAQm2B,MAAME,cAAczd,GACjC5Y,EAAQ47B,MAAM75B,YAAY6W,GACd,QAARk1B,EACF1tC,EAAM/E,EAAI+E,SACL,GAAY,SAAR0tC,GAA2B,QAARA,EAAgB,CAC5C,IAAIywB,EAAS7lE,KAAKgB,IAAIsG,EAAQC,QAAQ88B,aAAcxjC,KAAKqtB,IAAIW,QAC7Di3C,EAAS9lE,KAAKgB,IAAIsG,EAAQ47B,MAAMH,YAAaz7B,EAAQ+7B,UAAUN,cAElD,SAARqS,GAAmBzyC,EAAI+B,OAASwb,EAAK2K,aAAeg7C,IAAWljE,EAAI+E,IAAMwY,EAAK2K,aAC/EnjB,EAAM/E,EAAI+E,IAAMwY,EAAK2K,aAChBloB,EAAI+B,OAASwb,EAAK2K,cAAgBg7C,IACvCn+D,EAAM/E,EAAI+B,QACV0J,EAAO8R,EAAK4K,YAAcg7C,IAC1B13D,EAAO03D,EAAS5lD,EAAK4K,aAE3B5K,EAAKpZ,MAAMY,IAAMA,EAAM,KACvBwY,EAAKpZ,MAAMsH,KAAO8R,EAAKpZ,MAAMuH,MAAQ,GACxB,SAATgnC,GACFjnC,EAAO9G,EAAQ47B,MAAMH,YAAc7iB,EAAK4K,YACxC5K,EAAKpZ,MAAMuH,MAAQ,QAEN,QAATgnC,EAAmBjnC,EAAO,EACZ,UAATinC,IAAqBjnC,GAAQ9G,EAAQ47B,MAAMH,YAAc7iB,EAAK4K,aAAe,GACtF5K,EAAKpZ,MAAMsH,KAAOA,EAAO,MAEvBoV,GACA7a,GAAe9H,KAAM,CAACuN,KAAMA,EAAM1G,IAAKA,EAAK2G,MAAOD,EAAO8R,EAAK4K,YAAapmB,OAAQgD,EAAMwY,EAAK2K,gBAGrGk7C,iBAAkBpsB,GAASx1C,IAC3B6hE,kBAAmBrsB,GAASqiB,IAC5BiK,eAAgBhuD,GAChBiuD,mBAAoBvsB,GAAS6iB,IAE7Bv0D,YAAa,SAASF,GACpB,GAAIuC,GAASwS,eAAe/U,GACxB,OAAOuC,GAASvC,GAAK4R,KAAK,KAAM9Y,OAGtC6N,gBAAiBirC,IAAS,SAAS31C,GAAQ0K,GAAgB7N,KAAMmD,MAEjEmiE,SAAU,SAASz9D,EAAM09D,EAAQlJ,EAAM3G,GACrC,IAAIrpD,EAAM,EACNk5D,EAAS,IAAKl5D,GAAO,EAAGk5D,GAAUA,GAEtC,IADA,IAAIz5D,EAAMojB,GAAQlvB,KAAKqtB,IAAKxlB,GACnB9I,EAAI,EAAGA,EAAIwmE,IAAUxmE,EAE5B,GADA+M,EAAMw5D,GAAStlE,KAAKqtB,IAAKvhB,EAAKO,EAAKgwD,EAAM3G,GACrC5pD,EAAI05D,QAAW,MAErB,OAAO15D,GAGTmsD,MAAOnf,IAAS,SAASzsC,EAAKgwD,GAC5B,IAAI9S,EAASvpD,KAEbA,KAAK2rD,oBAAmB,SAAUn/C,GAChC,OAAI+8C,EAAO9iD,QAAQ4I,OAASk6C,EAAOl8B,IAAIitB,QAAU9tC,EAAMd,QAC5C45D,GAAS/b,EAAOl8B,IAAK7gB,EAAMX,KAAMQ,EAAKgwD,EAAM9S,EAAOzlD,QAAQ2hE,iBAE3Dp5D,EAAM,EAAIG,EAAM3E,OAAS2E,EAAMnG,OACzCyc,MAGL41C,QAAS5f,IAAS,SAASzsC,EAAKgwD,GAC9B,IAAIxvD,EAAM7M,KAAKqtB,IAAIxgB,IAAKwgB,EAAMrtB,KAAKqtB,IAC/BxgB,EAAImyC,oBACJ3xB,EAAInhB,iBAAiB,GAAI,KAAM,WAE/BgpD,GAAoBl1D,MAAM,SAAUwM,GACpC,IAAIk8B,EAAQ48B,GAASj4C,EAAK7gB,EAAMX,KAAMQ,EAAKgwD,GAAM,GACjD,OAAOhwD,EAAM,EAAI,CAACxE,KAAM6gC,EAAOriC,GAAImG,EAAMX,MAAQ,CAAChE,KAAM2E,EAAMX,KAAMxF,GAAIqiC,SAI9Eg9B,SAAU,SAAS79D,EAAM09D,EAAQlJ,EAAMsJ,GACrC,IAAIt5D,EAAM,EAAGmE,EAAIm1D,EACbJ,EAAS,IAAKl5D,GAAO,EAAGk5D,GAAUA,GAEtC,IADA,IAAIz5D,EAAMojB,GAAQlvB,KAAKqtB,IAAKxlB,GACnB9I,EAAI,EAAGA,EAAIwmE,IAAUxmE,EAAG,CAC/B,IAAIkpC,EAASrhC,GAAa5G,KAAM8L,EAAK,OAIrC,GAHS,MAAL0E,EAAaA,EAAIy3B,EAAO16B,KACrB06B,EAAO16B,KAAOiD,EACrB1E,EAAM45D,GAAS1lE,KAAMioC,EAAQ57B,EAAKgwD,GAC9BvwD,EAAI05D,QAAW,MAErB,OAAO15D,GAGT8rD,MAAO9e,IAAS,SAASzsC,EAAKgwD,GAC5B,IAAI9S,EAASvpD,KAETqtB,EAAMrtB,KAAKqtB,IAAKu4C,EAAQ,GACxB3kD,GAAYjhB,KAAKyG,QAAQ4I,QAAUge,EAAIitB,QAAUjtB,EAAIxgB,IAAImyC,oBAY7D,GAXA3xB,EAAIs+B,oBAAmB,SAAUn/C,GAC/B,GAAIyU,EACA,OAAO5U,EAAM,EAAIG,EAAM3E,OAAS2E,EAAMnG,KAC1C,IAAIw/D,EAAUj/D,GAAa2iD,EAAQ/8C,EAAMX,KAAM,OACvB,MAApBW,EAAMm5D,aAAsBE,EAAQt4D,KAAOf,EAAMm5D,YACrDC,EAAMn5D,KAAKo5D,EAAQt4D,MACnB,IAAIzL,EAAM4jE,GAASnc,EAAQsc,EAASx5D,EAAKgwD,GAGzC,MAFY,QAARA,GAAkB7vD,GAAS6gB,EAAIxgB,IAAIN,WACnCsmC,GAAe0W,EAAQnhB,GAAWmhB,EAAQznD,EAAK,OAAO+E,IAAMg/D,EAAQh/D,KACjE/E,IACNghB,GACC8iD,EAAMhnE,OAAU,IAAK,IAAIG,EAAI,EAAGA,EAAIsuB,EAAIxgB,IAAIrB,OAAO5M,OAAQG,IAC3DsuB,EAAIxgB,IAAIrB,OAAOzM,GAAG4mE,WAAaC,EAAM7mE,MAI3Cq+D,WAAY,SAASt7D,GACnB,IAAIurB,EAAMrtB,KAAKqtB,IAAK/mB,EAAO8mB,GAAQC,EAAKvrB,EAAIwE,MAAMnD,KAC9CmG,EAAQxH,EAAI0C,GAAI4Q,EAAMtT,EAAI0C,GAC9B,GAAI8B,EAAM,CACR,IAAI4d,EAASlkB,KAAKwkE,UAAU1iE,EAAK,aACd,UAAdA,EAAIqjB,QAAsB/P,GAAO9O,EAAK1H,SAAW0K,IAA6B8L,IAAlB9L,EACjE,IAAIw8D,EAAYx/D,EAAK9G,OAAO8J,GACxB2H,EAAQ5D,GAAWy4D,EAAW5hD,GAC9B,SAAU1f,GAAM,OAAO6I,GAAW7I,EAAI0f,IACtC,KAAKrf,KAAKihE,GAAa,SAAUthE,GAAM,MAAO,KAAKK,KAAKL,IACxD,SAAUA,GAAM,OAAS,KAAKK,KAAKL,KAAQ6I,GAAW7I,IAC1D,MAAO8E,EAAQ,GAAK2H,EAAM3K,EAAK9G,OAAO8J,EAAQ,MAASA,EACvD,MAAO8L,EAAM9O,EAAK1H,QAAUqS,EAAM3K,EAAK9G,OAAO4V,MAAWA,EAE3D,OAAO,IAAI2pC,GAAMt3C,GAAI3F,EAAIwE,KAAMgD,GAAQ7B,GAAI3F,EAAIwE,KAAM8O,KAGvDukD,gBAAiB,SAASn2D,GACX,MAATA,GAAiBA,GAASxD,KAAK2C,MAAM6e,aACrCxhB,KAAK2C,MAAM6e,WAAaxhB,KAAK2C,MAAM6e,WACnCrL,EAASnW,KAAKyG,QAAQgpC,UAAW,wBAEjC94B,EAAQ3W,KAAKyG,QAAQgpC,UAAW,wBAEpCtnB,GAAOnoB,KAAM,kBAAmBA,KAAMA,KAAK2C,MAAM6e,aAEnDquB,SAAU,WAAa,OAAO7vC,KAAKyG,QAAQm2B,MAAMm+B,YAAc56C,KAC/DuuC,WAAY,WAAa,SAAU1uD,KAAK8D,QAAQszB,WAAYp3B,KAAKqtB,IAAI44B,WAErE8f,SAAUjtB,IAAS,SAAUtoC,EAAGC,GAAKyiC,GAAelzC,KAAMwQ,EAAGC,MAC7Du1D,cAAe,WACb,IAAI3iC,EAAWrjC,KAAKyG,QAAQ48B,SAC5B,MAAO,CAAC91B,KAAM81B,EAAS+D,WAAYvgC,IAAKw8B,EAASmE,UACzCxZ,OAAQqV,EAASqQ,aAAexQ,GAAUljC,MAAQA,KAAKyG,QAAQg9B,UAC/DhC,MAAO4B,EAASwQ,YAAc3Q,GAAUljC,MAAQA,KAAKyG,QAAQ68B,SAC7DE,aAAcD,GAAcvjC,MAAOkiC,YAAakB,GAAapjC,QAGvE8H,eAAgBgxC,IAAS,SAAStsC,EAAOilC,GAC1B,MAATjlC,GACFA,EAAQ,CAAC3E,KAAM7H,KAAKqtB,IAAIxgB,IAAIN,UAAUV,KAAMxF,GAAI,MAClC,MAAVorC,IAAkBA,EAASzxC,KAAK8D,QAAQmvC,qBACnB,iBAATzmC,EAChBA,EAAQ,CAAC3E,KAAMJ,GAAI+E,EAAO,GAAInG,GAAI,MACX,MAAdmG,EAAM3E,OACf2E,EAAQ,CAAC3E,KAAM2E,EAAOnG,GAAI,OAEvBmG,EAAMnG,KAAMmG,EAAMnG,GAAKmG,EAAM3E,MAClC2E,EAAMilC,OAASA,GAAU,EAEF,MAAnBjlC,EAAM3E,KAAKvB,KACb6sC,GAAcnzC,KAAMwM,GAEpB4mC,GAAoBpzC,KAAMwM,EAAM3E,KAAM2E,EAAMnG,GAAImG,EAAMilC,WAI1Dgf,QAAS3X,IAAS,SAASrX,EAAOzT,GAChC,IAAIu7B,EAASvpD,KAETimE,EAAY,SAAU57D,GAAO,MAAqB,iBAAPA,GAAmB,QAAQxF,KAAK8V,OAAOtQ,IAAQA,EAAM,KAAOA,GAC9F,MAATo3B,IAAiBzhC,KAAKyG,QAAQC,QAAQT,MAAMw7B,MAAQwkC,EAAUxkC,IACpD,MAAVzT,IAAkBhuB,KAAKyG,QAAQC,QAAQT,MAAM+nB,OAASi4C,EAAUj4C,IAChEhuB,KAAK8D,QAAQ+/B,cAAgB8C,GAA0B3mC,MAC3D,IAAIkuB,EAASluB,KAAKyG,QAAQqsB,SAC1B9yB,KAAKqtB,IAAI3d,KAAKwe,EAAQluB,KAAKyG,QAAQssB,QAAQ,SAAUzsB,GACnD,GAAIA,EAAK86B,QAAW,IAAK,IAAIriC,EAAI,EAAGA,EAAIuH,EAAK86B,QAAQxiC,OAAQG,IACzD,GAAIuH,EAAK86B,QAAQriC,GAAGyiC,UAAW,CAAEyK,GAAcsd,EAAQr7B,EAAQ,UAAW,QAC5EA,KAEJluB,KAAK4oB,MAAMgc,aAAc,EACzBzc,GAAOnoB,KAAM,UAAWA,SAG1BqH,UAAW,SAASpD,GAAG,OAAO40C,GAAQ74C,KAAMiE,IAC5C4yC,eAAgB,WAAW,OAAOA,GAAe72C,OACjDo3C,aAAc,WAAW,OAAOA,GAAap3C,OAE7Cq/D,QAASvmB,IAAS,WAChB,IAAIpI,EAAY1wC,KAAKyG,QAAQsgC,iBAC7BwE,GAAUvrC,MACVA,KAAK4oB,MAAMgc,aAAc,EACzBiC,GAAY7mC,MACZkzC,GAAelzC,KAAMA,KAAKqtB,IAAI+Z,WAAYpnC,KAAKqtB,IAAIma,WACnDwU,GAAkBh8C,KAAKyG,UACN,MAAbiqC,GAAqBvxC,KAAKksB,IAAIqlB,EAAYrG,GAAWrqC,KAAKyG,UAAY,IAAMzG,KAAK8D,QAAQ+/B,eACzF+G,GAAoB5qC,MACxBmoB,GAAOnoB,KAAM,UAAWA,SAG1BkmE,QAASptB,IAAS,SAASzrB,GACzB,IAAI/iB,EAAMtK,KAAKqtB,IAUf,OATA/iB,EAAI5H,GAAK,KAEL1C,KAAK2C,MAAMo5D,eAAiB/7D,KAAK2C,MAAMo5D,gBAC3Cva,GAAUxhD,KAAMqtB,GAChBwZ,GAAY7mC,MACZA,KAAKyG,QAAQm2B,MAAM/7B,QACnBqyC,GAAelzC,KAAMqtB,EAAI+Z,WAAY/Z,EAAIma,WACzCxnC,KAAK4oB,MAAM6qB,aAAc,EACzBhV,GAAYz+B,KAAM,UAAWA,KAAMsK,GAC5BA,KAGT3B,OAAQ,SAASw9D,GACf,IAAIC,EAAUpmE,KAAK8D,QAAQsiE,QAC3B,OAAOA,GAAW91D,OAAO/P,UAAU0b,eAAenD,KAAKstD,EAASD,GAAcC,EAAQD,GAAcA,GAGtG7G,cAAe,WAAW,OAAOt/D,KAAKyG,QAAQm2B,MAAMm+B,YACpD9kD,kBAAmB,WAAW,OAAOjW,KAAKyG,QAAQC,SAClD2/D,mBAAoB,WAAW,OAAOrmE,KAAKyG,QAAQ48B,UACnDijC,iBAAkB,WAAW,OAAOtmE,KAAKyG,QAAQw7B,UAEnDlZ,GAAW7nB,GAEXA,EAAWqlE,eAAiB,SAAS39D,EAAMwB,EAAM5G,GAC1C2gE,EAAQloD,eAAerT,KAASu7D,EAAQv7D,GAAQ1H,EAAW0H,GAAQ,CAAC+7D,QAAS,KAClFR,EAAQv7D,GAAMwB,GAAQ5G,GAExBtC,EAAWslE,qBAAuB,SAAS59D,EAAMwB,EAAMq8D,EAAWjjE,GAChEtC,EAAWqlE,eAAe39D,EAAMwB,EAAM5G,GACtC2gE,EAAQv7D,GAAM+7D,QAAQl4D,KAAK,CAAC+X,KAAMiiD,EAAWp8D,IAAK7G,KAatD,SAAS8hE,GAASj4C,EAAKvrB,EAAKuK,EAAKgwD,EAAM3G,GACrC,IAAIlQ,EAAS1jD,EACT4kE,EAAUr6D,EACVmtB,EAAUpM,GAAQC,EAAKvrB,EAAIwE,MAC3BqgE,EAAUjR,GAA6B,OAAjBroC,EAAIvH,WAAsBzZ,EAAMA,EAC1D,SAASu6D,IACP,IAAIvqD,EAAIva,EAAIwE,KAAOqgE,EACnB,QAAItqD,EAAIgR,EAAIC,OAASjR,GAAKgR,EAAIC,MAAQD,EAAIE,QAC1CzrB,EAAM,IAAI2F,GAAI4U,EAAGva,EAAI0C,GAAI1C,EAAIqjB,QACtBqU,EAAUpM,GAAQC,EAAKhR,IAEhC,SAASwqD,EAASC,GAChB,IAAI35D,EACJ,GAAY,aAARkvD,EAAqB,CACvB,IAAI73D,EAAKg1B,EAAQr2B,KAAKoR,WAAWzS,EAAI0C,IAAM6H,EAAM,EAAI,GAAK,IAC1D,GAAI42B,MAAMz+B,GACR2I,EAAO,SACF,CACL,IAAI45D,EAAS16D,EAAM,EAAI7H,GAAM,OAAUA,EAAK,MAASA,GAAM,OAAUA,EAAK,MAC1E2I,EAAO,IAAI1F,GAAI3F,EAAIwE,KAAMnH,KAAKgB,IAAI,EAAGhB,KAAKe,IAAIs5B,EAAQr2B,KAAKvE,OAAQkD,EAAI0C,GAAK6H,GAAO06D,EAAS,EAAI,MAAO16D,SAGzGc,EADSuoD,EACFG,GAAaxoC,EAAI3qB,GAAI82B,EAAS13B,EAAKuK,GAEnCmpD,GAAch8B,EAAS13B,EAAKuK,GAErC,GAAY,MAARc,EAAc,CAChB,GAAK25D,IAAeF,IAGhB,OAAO,EAFP9kE,EAAM2zD,GAAUC,EAAUroC,EAAI3qB,GAAI82B,EAAS13B,EAAIwE,KAAMqgE,QAIzD7kE,EAAMqL,EAER,OAAO,EAGT,GAAY,QAARkvD,GAA0B,aAARA,EACpBwK,SACK,GAAY,UAARxK,EACTwK,GAAS,QACJ,GAAY,QAARxK,GAA0B,SAARA,EAG3B,IAFA,IAAI2K,EAAU,KAAM5oC,EAAgB,SAARi+B,EACxBn4C,EAASmJ,EAAI3qB,IAAM2qB,EAAI3qB,GAAG8hE,UAAU1iE,EAAK,aACpCwrB,GAAQ,GAAOA,GAAQ,EAAO,CACrC,GAAIjhB,EAAM,IAAMw6D,GAAUv5C,GAAU,MACpC,IAAIxhB,EAAM0tB,EAAQr2B,KAAK3D,OAAOsC,EAAI0C,KAAO,KACrCoE,EAAOyE,GAAWvB,EAAKoY,GAAU,IACjCka,GAAgB,MAAPtyB,EAAc,KACtBsyB,GAAS,KAAKv5B,KAAKiH,GAAO,KAC3B,IAEJ,IADIsyB,GAAU9Q,GAAU1kB,IAAQA,EAAO,KACnCo+D,GAAWA,GAAWp+D,EAAM,CAC1ByD,EAAM,IAAIA,EAAM,EAAGw6D,IAAY/kE,EAAIqjB,OAAS,SAChD,MAIF,GADIvc,IAAQo+D,EAAUp+D,GAClByD,EAAM,IAAMw6D,GAAUv5C,GAAU,MAGxC,IAAI/d,EAAS81C,GAAWh4B,EAAKvrB,EAAK0jD,EAAQkhB,GAAS,GAEnD,OADI73C,GAAe22B,EAAQj2C,KAAWA,EAAOi2D,SAAU,GAChDj2D,EAMT,SAASm2D,GAAShjE,EAAIZ,EAAKuK,EAAKgwD,GAC9B,IAAgC5rD,EAS5B0H,EATAkV,EAAM3qB,EAAG2qB,IAAK7c,EAAI1O,EAAIyL,KAC1B,GAAY,QAAR8uD,EAAgB,CAClB,IAAI4K,EAAW9nE,KAAKe,IAAIwC,EAAG+D,QAAQC,QAAQ88B,aAAc5tB,OAAO07B,aAAe/qC,SAAS4gC,gBAAgB3D,cACpG0jC,EAAa/nE,KAAKgB,IAAI8mE,EAAW,GAAK58B,GAAW3nC,EAAG+D,SAAU,GAClEgK,GAAKpE,EAAM,EAAIvK,EAAI+B,OAAS/B,EAAI+E,KAAOwF,EAAM66D,MAE5B,QAAR7K,IACT5rD,EAAIpE,EAAM,EAAIvK,EAAI+B,OAAS,EAAI/B,EAAI+E,IAAM,GAG3C,OAAS,CAEP,GADAsR,EAAS4wB,GAAWrmC,EAAI8N,EAAGC,IACtB0H,EAAO0wB,QAAW,MACvB,GAAIx8B,EAAM,EAAIoE,GAAK,EAAIA,GAAK4c,EAAIW,OAAQ,CAAE7V,EAAOqtD,SAAU,EAAM,MACjE/0D,GAAW,EAANpE,EAEP,OAAO8L,EAKT,IAAIgvD,GAAuB,SAASzkE,GAClC1C,KAAK0C,GAAKA,EACV1C,KAAKonE,eAAiBpnE,KAAKqnE,iBAAmBrnE,KAAKsnE,cAAgBtnE,KAAKunE,gBAAkB,KAC1FvnE,KAAKwnE,QAAU,IAAIrlD,EACnBniB,KAAKynE,UAAY,KACjBznE,KAAK0nE,aAAc,EACnB1nE,KAAK2nE,eAAiB,MA2XxB,SAASC,GAASllE,EAAIZ,GACpB,IAAI+7B,EAAO4G,GAAgB/hC,EAAIZ,EAAIwE,MACnC,IAAKu3B,GAAQA,EAAKH,OAAU,OAAO,KACnC,IAAIp3B,EAAO8mB,GAAQ1qB,EAAG2qB,IAAKvrB,EAAIwE,MAC3BqmB,EAAOuX,GAAgBrG,EAAMv3B,EAAMxE,EAAIwE,MAEvCue,EAAQ2C,GAASlhB,EAAM5D,EAAG2qB,IAAIvH,WAAYooB,EAAO,OACrD,GAAIrpB,EAAO,CACT,IAAI2jB,EAAUtjB,GAAcL,EAAO/iB,EAAI0C,IACvC0pC,EAAO1F,EAAU,EAAI,QAAU,OAEjC,IAAIj5B,EAAS+1B,GAAuB3Y,EAAK9tB,IAAKiD,EAAI0C,GAAI0pC,GAEtD,OADA3+B,EAAOknB,OAA4B,SAAnBlnB,EAAO0R,SAAsB1R,EAAO6F,IAAM7F,EAAOjG,MAC1DiG,EAGT,SAASs4D,GAAWxoD,GAClB,IAAK,IAAIyoD,EAAOzoD,EAAMyoD,EAAMA,EAAOA,EAAKlxD,WACpC,GAAI,4BAA4B/R,KAAKijE,EAAKp/D,WAAc,OAAO,EACnE,OAAO,EAGT,SAASq/D,GAAOjmE,EAAKkmE,GAAoC,OAAzBA,IAAOlmE,EAAIkmE,KAAM,GAAelmE,EAEhE,SAASmmE,GAAevlE,EAAImF,EAAMxB,EAAI2oC,EAAUC,GAC9C,IAAI9rC,EAAO,GAAI+kE,GAAU,EAAOhd,EAAUxoD,EAAG2qB,IAAIphB,gBAAiBk8D,GAAiB,EACnF,SAASC,EAAgBhmD,GAAM,OAAO,SAAUuS,GAAU,OAAOA,EAAOvS,IAAMA,GAC9E,SAAShP,IACH80D,IACF/kE,GAAQ+nD,EACJid,IAAkBhlE,GAAQ+nD,GAC9Bgd,EAAUC,GAAiB,GAG/B,SAASE,EAAQ/oE,GACXA,IACF8T,IACAjQ,GAAQ7D,GAGZ,SAASgpE,EAAKjpD,GACZ,GAAqB,GAAjBA,EAAKa,SAAe,CACtB,IAAIqoD,EAASlpD,EAAK+iB,aAAa,WAC/B,GAAImmC,EAEF,YADAF,EAAQE,GAGV,IAA+C/7D,EAA3Cg8D,EAAWnpD,EAAK+iB,aAAa,aACjC,GAAIomC,EAAU,CACZ,IAAI1jD,EAAQpiB,EAAG+nD,UAAUhjD,GAAIunC,EAAU,GAAIvnC,GAAIwnC,EAAS,EAAG,GAAIm5B,GAAiBI,IAGhF,YAFI1jD,EAAMlmB,SAAW4N,EAAQsY,EAAM,GAAGtd,KAAK,KACvC6gE,EAAQx6C,GAAWnrB,EAAG2qB,IAAK7gB,EAAM3E,KAAM2E,EAAMnG,IAAIiP,KAAK41C,KAG5D,GAA4C,SAAxC7rC,EAAK+iB,aAAa,mBAAiC,OACvD,IAAIqmC,EAAU,6BAA6B5jE,KAAKwa,EAAKu7B,UACrD,IAAK,QAAQ/1C,KAAKwa,EAAKu7B,WAAwC,GAA3Bv7B,EAAKqpD,YAAY9pE,OAAe,OAEhE6pE,GAAWr1D,IACf,IAAK,IAAIrU,EAAI,EAAGA,EAAIsgB,EAAKI,WAAW7gB,OAAQG,IACxCupE,EAAKjpD,EAAKI,WAAW1gB,IAErB,aAAa8F,KAAKwa,EAAKu7B,YAAautB,GAAiB,GACrDM,IAAWP,GAAU,QACC,GAAjB7oD,EAAKa,UACdmoD,EAAQhpD,EAAKspD,UAAUpnE,QAAQ,UAAW,IAAIA,QAAQ,UAAW,MAGrE,OAAS,CAEP,GADA+mE,EAAKzgE,GACDA,GAAQxB,EAAM,MAClBwB,EAAOA,EAAKk5B,YACZonC,GAAiB,EAEnB,OAAOhlE,EAGT,SAASylE,GAASlmE,EAAI2c,EAAMoX,GAC1B,IAAIoyC,EACJ,GAAIxpD,GAAQ3c,EAAG+D,QAAQ+pC,QAAS,CAE9B,GADAq4B,EAAWnmE,EAAG+D,QAAQ+pC,QAAQ/wB,WAAWgX,IACpCoyC,EAAY,OAAOd,GAAOrlE,EAAGwsB,QAAQznB,GAAI/E,EAAG+D,QAAQssB,OAAS,KAAK,GACvE1T,EAAO,KAAMoX,EAAS,OAEtB,IAAKoyC,EAAWxpD,GAAOwpD,EAAWA,EAASjyD,WAAY,CACrD,IAAKiyD,GAAYA,GAAYnmE,EAAG+D,QAAQ+pC,QAAW,OAAO,KAC1D,GAAIq4B,EAASjyD,YAAciyD,EAASjyD,YAAclU,EAAG+D,QAAQ+pC,QAAW,MAG5E,IAAK,IAAIzxC,EAAI,EAAGA,EAAI2D,EAAG+D,QAAQo3B,KAAKj/B,OAAQG,IAAK,CAC/C,IAAI07B,EAAW/3B,EAAG+D,QAAQo3B,KAAK9+B,GAC/B,GAAI07B,EAASpb,MAAQwpD,EACjB,OAAOC,GAAqBruC,EAAUpb,EAAMoX,IAIpD,SAASqyC,GAAqBruC,EAAUpb,EAAMoX,GAC5C,IAAI/vB,EAAU+zB,EAASt3B,KAAKuc,WAAYsoD,GAAM,EAC9C,IAAK3oD,IAASY,EAASvZ,EAAS2Y,GAAS,OAAO0oD,GAAOtgE,GAAIymB,GAAOuM,EAASn0B,MAAO,IAAI,GACtF,GAAI+Y,GAAQ3Y,IACVshE,GAAM,EACN3oD,EAAO3Y,EAAQ+Y,WAAWgX,GAC1BA,EAAS,GACJpX,GAAM,CACT,IAAI/Y,EAAOm0B,EAASK,KAAOzX,EAAIoX,EAASK,MAAQL,EAASn0B,KACzD,OAAOyhE,GAAOtgE,GAAIymB,GAAO5nB,GAAOA,EAAKnD,KAAKvE,QAASopE,GAIvD,IAAIe,EAA4B,GAAjB1pD,EAAKa,SAAgBb,EAAO,KAAM2pD,EAAU3pD,EACtD0pD,GAAsC,GAA1B1pD,EAAKI,WAAW7gB,QAA2C,GAA5BygB,EAAKK,WAAWQ,WAC9D6oD,EAAW1pD,EAAKK,WACZ+W,IAAUA,EAASsyC,EAASJ,UAAU/pE,SAE5C,MAAOoqE,EAAQpyD,YAAclQ,EAAWsiE,EAAUA,EAAQpyD,WAC1D,IAAImT,EAAU0Q,EAAS1Q,QAASsR,EAAOtR,EAAQsR,KAE/C,SAAS7zB,EAAKuhE,EAAUC,EAASvyC,GAC/B,IAAK,IAAI13B,GAAK,EAAGA,GAAKs8B,EAAOA,EAAKz8B,OAAS,GAAIG,IAE7C,IADA,IAAIF,EAAME,EAAI,EAAIgrB,EAAQlrB,IAAMw8B,EAAKt8B,GAC5BmR,EAAI,EAAGA,EAAIrR,EAAID,OAAQsR,GAAK,EAAG,CACtC,IAAI+4D,EAAUpqE,EAAIqR,EAAI,GACtB,GAAI+4D,GAAWF,GAAYE,GAAWD,EAAS,CAC7C,IAAI1iE,EAAO4nB,GAAOnvB,EAAI,EAAI07B,EAASn0B,KAAOm0B,EAASK,KAAK/7B,IACpDyF,EAAK3F,EAAIqR,GAAKumB,EAElB,OADIA,EAAS,GAAKwyC,GAAWF,KAAYvkE,EAAK3F,EAAIqR,GAAKumB,EAAS,EAAI,KAC7DhvB,GAAInB,EAAM9B,KAKzB,IAAIsgB,EAAQtd,EAAKuhE,EAAUC,EAASvyC,GACpC,GAAI3R,EAAS,OAAOijD,GAAOjjD,EAAOkjD,GAGlC,IAAK,IAAIzoD,EAAQypD,EAAQjoC,YAAaqJ,EAAO2+B,EAAWA,EAASJ,UAAU/pE,OAAS63B,EAAS,EAAGlX,EAAOA,EAAQA,EAAMwhB,YAAa,CAEhI,GADAjc,EAAQtd,EAAK+X,EAAOA,EAAMG,WAAY,GAClCoF,EACA,OAAOijD,GAAOtgE,GAAIqd,EAAMxe,KAAMwe,EAAMtgB,GAAK4lC,GAAO49B,GAEhD59B,GAAQ7qB,EAAMmpD,YAAY9pE,OAEhC,IAAK,IAAIkoB,EAASkiD,EAAQE,gBAAiBC,EAAS1yC,EAAQ3P,EAAQA,EAASA,EAAOoiD,gBAAiB,CAEnG,GADApkD,EAAQtd,EAAKsf,EAAQA,EAAOpH,YAAa,GACrCoF,EACA,OAAOijD,GAAOtgE,GAAIqd,EAAMxe,KAAMwe,EAAMtgB,GAAK2kE,GAASnB,GAElDmB,GAAUriD,EAAO4hD,YAAY9pE,QA3gBrCuoE,GAAqB5mE,UAAUwb,KAAO,SAAUtV,GAC5C,IAAI8iD,EAASvpD,KAEX48B,EAAQ58B,KAAM0C,EAAKk6B,EAAMl6B,GACzBmnB,EAAM+S,EAAM/S,IAAMpjB,EAAQ+pC,QAI9B,SAAS44B,EAAexkE,GACtB,IAAK,IAAIkqD,EAAIlqD,EAAEuT,OAAQ22C,EAAGA,EAAIA,EAAEl4C,WAAY,CAC1C,GAAIk4C,GAAKjlC,EAAO,OAAO,EACvB,GAAI,iCAAiChlB,KAAKiqD,EAAEpmD,WAAc,MAE5D,OAAO,EA4BT,SAAS2gE,EAAUzkE,GACjB,GAAKwkE,EAAexkE,KAAMyjB,GAAe3lB,EAAIkC,GAA7C,CACA,GAAIlC,EAAGs8C,oBACLyjB,GAAc,CAACU,UAAU,EAAOhgE,KAAMT,EAAGgL,kBAC3B,OAAV9I,EAAEgE,MAAiBlG,EAAGwJ,iBAAiB,GAAI,KAAM,WAChD,KAAKxJ,EAAGoB,QAAQwlE,gBACrB,OAEA,IAAI99D,EAASo4D,GAAelhE,GAC5B+/D,GAAc,CAACU,UAAU,EAAMhgE,KAAMqI,EAAOrI,OAC9B,OAAVyB,EAAEgE,MACJlG,EAAG2E,WAAU,WACX3E,EAAGiK,cAAcnB,EAAOA,OAAQ,EAAGkX,GACnChgB,EAAGwJ,iBAAiB,GAAI,KAAM,UAIpC,GAAItH,EAAE2+D,cAAe,CACnB3+D,EAAE2+D,cAAcgG,YAChB,IAAI9vD,EAAU+oD,GAAWr/D,KAAKmS,KAAK,MAGnC,GADA1Q,EAAE2+D,cAAc/T,QAAQ,OAAQ/1C,GAC5B7U,EAAE2+D,cAAclU,QAAQ,SAAW51C,EAErC,YADA7U,EAAE0jB,iBAKN,IAAIkhD,EAASxF,KAAkBt5C,EAAK8+C,EAAO9pD,WAC3Chd,EAAG+D,QAAQ+7B,UAAU/C,aAAa+pC,EAAQ9mE,EAAG+D,QAAQ+7B,UAAU9iB,YAC/DgL,EAAGlnB,MAAQg/D,GAAWr/D,KAAKmS,KAAK,MAChC,IAAIm0D,EAAWtpD,IACfiB,EAAYsJ,GACZ3S,YAAW,WACTrV,EAAG+D,QAAQ+7B,UAAU3rB,YAAY2yD,GACjCC,EAAS3yD,QACL2yD,GAAY5/C,GAAO+S,EAAM8sC,yBAC5B,KAzEL7/C,EAAI8/C,iBAAkB,EACtB7F,GAAoBj6C,EAAKnnB,EAAGoB,QAAQy7D,WAAY78D,EAAGoB,QAAQ07D,YAAa98D,EAAGoB,QAAQ27D,gBAUnFtoD,GAAG0S,EAAK,SAAS,SAAUjlB,IACpBwkE,EAAexkE,IAAMyjB,GAAe3lB,EAAIkC,IAAMy+D,GAAYz+D,EAAGlC,IAE9Dqb,GAAc,IAAMhG,WAAW1Q,GAAU3E,GAAI,WAAc,OAAO6mD,EAAOqgB,mBAAqB,OAGpGzyD,GAAG0S,EAAK,oBAAoB,SAAUjlB,GACpC2kD,EAAOke,UAAY,CAACz4D,KAAMpK,EAAEoK,KAAM4yC,MAAM,MAE1CzqC,GAAG0S,EAAK,qBAAqB,SAAUjlB,GAChC2kD,EAAOke,YAAale,EAAOke,UAAY,CAACz4D,KAAMpK,EAAEoK,KAAM4yC,MAAM,OAEnEzqC,GAAG0S,EAAK,kBAAkB,SAAUjlB,GAC9B2kD,EAAOke,YACL7iE,EAAEoK,MAAQu6C,EAAOke,UAAUz4D,MAAQu6C,EAAOsgB,kBAC9CtgB,EAAOke,UAAU7lB,MAAO,MAI5BzqC,GAAG0S,EAAK,cAAc,WAAc,OAAO+S,EAAMktC,yBAEjD3yD,GAAG0S,EAAK,SAAS,WACV0/B,EAAOke,WAAale,EAAOsgB,qBA0ClC1yD,GAAG0S,EAAK,OAAQw/C,GAChBlyD,GAAG0S,EAAK,MAAOw/C,IAGjBlC,GAAqB5mE,UAAUw/D,yBAA2B,SAAUgK,GAE/DA,EACD/pE,KAAK6pB,IAAI7J,aAAa,aAAc+pD,GAEpC/pE,KAAK6pB,IAAImgD,gBAAgB,eAI7B7C,GAAqB5mE,UAAUksC,iBAAmB,WAChD,IAAIl9B,EAASk9B,GAAiBzsC,KAAK0C,IAAI,GAEvC,OADA6M,EAAOuH,MAAQqJ,KAAengB,KAAK6pB,IAC5Bta,GAGT43D,GAAqB5mE,UAAUisC,cAAgB,SAAU7f,EAAMyrB,GACxDzrB,GAAS3sB,KAAK0C,GAAG+D,QAAQo3B,KAAKj/B,UAC/B+tB,EAAK7V,OAASshC,IAAap4C,KAAK0pE,uBACpC1pE,KAAKiqE,uBAAuBt9C,KAG9Bw6C,GAAqB5mE,UAAUoF,aAAe,WAC5C,OAAO3F,KAAK0C,GAAG+D,QAAQC,QAAQikB,cAAchlB,gBAG/CwhE,GAAqB5mE,UAAUmpE,qBAAuB,WACpD,IAAI78D,EAAM7M,KAAK2F,eAAgBjD,EAAK1C,KAAK0C,GAAI08C,EAAO18C,EAAG2qB,IAAIxgB,IAAIN,UAC3D1E,EAAOu3C,EAAKv3C,OAAQxB,EAAK+4C,EAAK/4C,KAElC,GAAI3D,EAAG+D,QAAQssB,QAAUrwB,EAAG+D,QAAQqsB,UAAYjrB,EAAKvB,MAAQ5D,EAAG+D,QAAQssB,QAAU1sB,EAAGC,KAAO5D,EAAG+D,QAAQqsB,SACrGjmB,EAAIguC,sBADN,CAKA,IAAIqvB,EAAYtB,GAASlmE,EAAImK,EAAIwtC,WAAYxtC,EAAI0tC,cAC7C4vB,EAAWvB,GAASlmE,EAAImK,EAAI2tC,UAAW3tC,EAAI4tC,aAC/C,IAAIyvB,GAAcA,EAAUlC,MAAOmC,GAAaA,EAASnC,KACX,GAA1Cp5C,GAAII,GAAOk7C,EAAWC,GAAWtiE,IACO,GAAxC+mB,GAAIG,GAAOm7C,EAAWC,GAAW9jE,GAFrC,CAKA,IAAIw3B,EAAOn7B,EAAG+D,QAAQo3B,KAClBv0B,EAASzB,EAAKvB,MAAQ5D,EAAG+D,QAAQqsB,UAAY80C,GAASllE,EAAImF,IAC1D,CAACwX,KAAMwe,EAAK,GAAG9T,QAAQlrB,IAAI,GAAI43B,OAAQ,GACvCrhB,EAAM/O,EAAGC,KAAO5D,EAAG+D,QAAQssB,QAAU60C,GAASllE,EAAI2D,GACtD,IAAK+O,EAAK,CACR,IAAI2U,EAAU8T,EAAKA,EAAKj/B,OAAS,GAAGmrB,QAChClrB,EAAMkrB,EAAQsR,KAAOtR,EAAQsR,KAAKtR,EAAQsR,KAAKz8B,OAAS,GAAKmrB,EAAQlrB,IACzEuW,EAAM,CAACiK,KAAMxgB,EAAIA,EAAID,OAAS,GAAI63B,OAAQ53B,EAAIA,EAAID,OAAS,GAAKC,EAAIA,EAAID,OAAS,IAGnF,GAAK0K,GAAU8L,EAAf,CAKA,IAA+Cg1D,EAA3C9/D,EAAMuC,EAAIw9D,YAAcx9D,EAAIy9D,WAAW,GAC3C,IAAMF,EAAM59D,EAAMlD,EAAM+V,KAAM/V,EAAMmtB,OAAQrhB,EAAIqhB,OAAQrhB,EAAIiK,MAC5D,MAAMza,IACFwlE,KACG1sD,GAAShb,EAAGC,MAAM2sC,SACrBziC,EAAIoU,SAAS3X,EAAM+V,KAAM/V,EAAMmtB,QAC1B2zC,EAAI7xC,YACP1rB,EAAIguC,kBACJhuC,EAAIiuC,SAASsvB,MAGfv9D,EAAIguC,kBACJhuC,EAAIiuC,SAASsvB,IAEX9/D,GAAyB,MAAlBuC,EAAIwtC,WAAsBxtC,EAAIiuC,SAASxwC,GACzCoT,GAAS1d,KAAKuqE,oBAEzBvqE,KAAKwqE,yBArBH39D,EAAIguC,qBAwBRssB,GAAqB5mE,UAAUgqE,iBAAmB,WAC9C,IAAIhhB,EAASvpD,KAEfiY,aAAajY,KAAK0nE,aAClB1nE,KAAK0nE,YAAc3vD,YAAW,WAC5BwxC,EAAOme,aAAc,EACjBne,EAAOtS,oBACPsS,EAAO7mD,GAAG2E,WAAU,WAAc,OAAOkiD,EAAO7mD,GAAGkmB,MAAMquB,kBAAmB,OAC/E,KAGLkwB,GAAqB5mE,UAAU0pE,uBAAyB,SAAUt9C,GAChEhN,EAAqB3f,KAAK0C,GAAG+D,QAAQgpC,UAAW9iB,EAAKggB,SACrDhtB,EAAqB3f,KAAK0C,GAAG+D,QAAQ+0C,aAAc7uB,EAAK/B,YAG1Du8C,GAAqB5mE,UAAUiqE,kBAAoB,WACjD,IAAI39D,EAAM7M,KAAK2F,eACf3F,KAAKonE,eAAiBv6D,EAAIwtC,WAAYr6C,KAAKqnE,iBAAmBx6D,EAAI0tC,aAClEv6C,KAAKsnE,cAAgBz6D,EAAI2tC,UAAWx6C,KAAKunE,gBAAkB16D,EAAI4tC,aAGjE0sB,GAAqB5mE,UAAUkqE,kBAAoB,WACjD,IAAI59D,EAAM7M,KAAK2F,eACf,IAAKkH,EAAIw9D,WAAc,OAAO,EAC9B,IAAIhrD,EAAOxS,EAAIy9D,WAAW,GAAGI,wBAC7B,OAAOzqD,EAASjgB,KAAK6pB,IAAKxK,IAG5B8nD,GAAqB5mE,UAAUuW,MAAQ,WACL,YAA5B9W,KAAK0C,GAAGoB,QAAQszB,WACbp3B,KAAKyqE,qBAAuBtqD,KAAengB,KAAK6pB,KACjD7pB,KAAKwsC,cAAcxsC,KAAKysC,oBAAoB,GAChDzsC,KAAK6pB,IAAI/S,UAGbqwD,GAAqB5mE,UAAU+W,KAAO,WAActX,KAAK6pB,IAAIvS,QAC7D6vD,GAAqB5mE,UAAUw6D,SAAW,WAAc,OAAO/6D,KAAK6pB,KAEpEs9C,GAAqB5mE,UAAUq7D,cAAgB,WAAc,OAAO,GAEpEuL,GAAqB5mE,UAAU8vC,cAAgB,WAC3C,IAAIkZ,EAASvpD,KAEX48B,EAAQ58B,KAMZ,SAAS2qE,IACH/tC,EAAMl6B,GAAGC,MAAM2sC,UACjB1S,EAAMguC,gBACNhuC,EAAM4qC,QAAQhlD,IAAIoa,EAAMl6B,GAAGoB,QAAQ+mE,aAAcF,IARjD3qE,KAAKyqE,oBACL1yD,YAAW,WAAc,OAAOwxC,EAAOqhB,kBAAoB,IAE3D/xB,GAAQ74C,KAAK0C,IAAI,WAAc,OAAOk6B,EAAMl6B,GAAGkmB,MAAMquB,kBAAmB,KAQ5Ej3C,KAAKwnE,QAAQhlD,IAAIxiB,KAAK0C,GAAGoB,QAAQ+mE,aAAcF,IAGjDxD,GAAqB5mE,UAAU02C,iBAAmB,WAChD,IAAIpqC,EAAM7M,KAAK2F,eACf,OAAOkH,EAAIwtC,YAAcr6C,KAAKonE,gBAAkBv6D,EAAI0tC,cAAgBv6C,KAAKqnE,kBACvEx6D,EAAI2tC,WAAax6C,KAAKsnE,eAAiBz6D,EAAI4tC,aAAez6C,KAAKunE,iBAGnEJ,GAAqB5mE,UAAUqqE,cAAgB,WAC7C,GAA2B,MAAvB5qE,KAAK2nE,iBAA0B3nE,KAAK0nE,aAAgB1nE,KAAKi3C,mBAA7D,CACA,IAAIpqC,EAAM7M,KAAK2F,eAAgBjD,EAAK1C,KAAK0C,GAOzC,GAAIic,GAAWR,GAAUne,KAAK0C,GAAG+D,QAAQk6B,YAAY/hC,QAAUipE,GAAWh7D,EAAIwtC,YAI5E,OAHAr6C,KAAK0C,GAAGwiE,iBAAiB,CAACt8D,KAAM,UAAWyO,QAAS,EAAGiR,eAAgBnpB,KAAKksB,MAC5ErrB,KAAKsX,YACLtX,KAAK8W,QAGP,IAAI9W,KAAKynE,UAAT,CACAznE,KAAKwqE,oBACL,IAAI99D,EAASk8D,GAASlmE,EAAImK,EAAIwtC,WAAYxtC,EAAI0tC,cAC1C1uC,EAAO+8D,GAASlmE,EAAImK,EAAI2tC,UAAW3tC,EAAI4tC,aACvC/tC,GAAUb,GAAQgtC,GAAQn2C,GAAI,WAChCkF,GAAalF,EAAG2qB,IAAKkyB,GAAgB7yC,EAAQb,GAAO6W,IAChDhW,EAAOs7D,KAAOn8D,EAAKm8D,OAAOtlE,EAAGkmB,MAAMquB,kBAAmB,SAI9DkwB,GAAqB5mE,UAAUuqE,YAAc,WAChB,MAAvB9qE,KAAK2nE,iBACP1vD,aAAajY,KAAK2nE,gBAClB3nE,KAAK2nE,eAAiB,MAGxB,IAQIoD,EAAW/7B,EAAUg8B,EARrBtoE,EAAK1C,KAAK0C,GAAI+D,EAAU/D,EAAG+D,QAASoG,EAAMnK,EAAG2qB,IAAIxgB,IAAIN,UACrD1E,EAAOgF,EAAIhF,OAAQxB,EAAKwG,EAAIxG,KAKhC,GAJe,GAAXwB,EAAKrD,IAAWqD,EAAKvB,KAAO5D,EAAGiF,cAC/BE,EAAOJ,GAAII,EAAKvB,KAAO,EAAG8mB,GAAQ1qB,EAAG2qB,IAAKxlB,EAAKvB,KAAO,GAAG1H,SACzDyH,EAAG7B,IAAM4oB,GAAQ1qB,EAAG2qB,IAAKhnB,EAAGC,MAAMnD,KAAKvE,QAAUyH,EAAGC,KAAO5D,EAAGgF,aAC9DrB,EAAKoB,GAAIpB,EAAGC,KAAO,EAAG,IACtBuB,EAAKvB,KAAOG,EAAQqsB,UAAYzsB,EAAGC,KAAOG,EAAQssB,OAAS,EAAK,OAAO,EAGvElrB,EAAKvB,MAAQG,EAAQqsB,UAA0D,IAA7Ci4C,EAAYrmC,GAAchiC,EAAImF,EAAKvB,QACvE0oC,EAAW9gB,GAAOznB,EAAQo3B,KAAK,GAAGv3B,MAClC0kE,EAAWvkE,EAAQo3B,KAAK,GAAGxe,OAE3B2vB,EAAW9gB,GAAOznB,EAAQo3B,KAAKktC,GAAWzkE,MAC1C0kE,EAAWvkE,EAAQo3B,KAAKktC,EAAY,GAAG1rD,KAAK0hB,aAE9C,IACIkO,EAAQg8B,EADRC,EAAUxmC,GAAchiC,EAAI2D,EAAGC,MAUnC,GARI4kE,GAAWzkE,EAAQo3B,KAAKj/B,OAAS,GACnCqwC,EAASxoC,EAAQssB,OAAS,EAC1Bk4C,EAASxkE,EAAQ+pC,QAAQjV,YAEzB0T,EAAS/gB,GAAOznB,EAAQo3B,KAAKqtC,EAAU,GAAG5kE,MAAQ,EAClD2kE,EAASxkE,EAAQo3B,KAAKqtC,EAAU,GAAG7rD,KAAK6pD,kBAGrC8B,EAAY,OAAO,EACxB,IAAIG,EAAUzoE,EAAG2qB,IAAIw6B,WAAWogB,GAAevlE,EAAIsoE,EAAUC,EAAQj8B,EAAUC,IAC3Em8B,EAAUv9C,GAAWnrB,EAAG2qB,IAAK5lB,GAAIunC,EAAU,GAAIvnC,GAAIwnC,EAAQ7hB,GAAQ1qB,EAAG2qB,IAAK4hB,GAAQ9rC,KAAKvE,SAC5F,MAAOusE,EAAQvsE,OAAS,GAAKwsE,EAAQxsE,OAAS,EAC5C,GAAIykB,EAAI8nD,IAAY9nD,EAAI+nD,GAAYD,EAAQxoB,MAAOyoB,EAAQzoB,MAAO1T,QAC7D,IAAIk8B,EAAQ,IAAMC,EAAQ,GACxB,MAD8BD,EAAQ97D,QAAS+7D,EAAQ/7D,QAAS2/B,IAIzE,IAAIq8B,EAAW,EAAGC,EAAS,EACvB94B,EAAS24B,EAAQ,GAAII,EAASH,EAAQ,GAAII,EAAcrsE,KAAKe,IAAIsyC,EAAO5zC,OAAQ2sE,EAAO3sE,QAC3F,MAAOysE,EAAWG,GAAeh5B,EAAOj+B,WAAW82D,IAAaE,EAAOh3D,WAAW82D,KAC5EA,EACN,IAAII,EAASpoD,EAAI8nD,GAAUO,EAASroD,EAAI+nD,GACpCO,EAAYxsE,KAAKe,IAAIurE,EAAO7sE,QAA4B,GAAlBusE,EAAQvsE,OAAcysE,EAAW,GAClDK,EAAO9sE,QAA4B,GAAlBwsE,EAAQxsE,OAAcysE,EAAW,IAC3E,MAAOC,EAASK,GACTF,EAAOl3D,WAAWk3D,EAAO7sE,OAAS0sE,EAAS,IAAMI,EAAOn3D,WAAWm3D,EAAO9sE,OAAS0sE,EAAS,KAC7FA,EAEN,GAAsB,GAAlBH,EAAQvsE,QAAiC,GAAlBwsE,EAAQxsE,QAAeowC,GAAYnnC,EAAKvB,KACjE,MAAO+kE,GAAYA,EAAWxjE,EAAKrD,IAC5BinE,EAAOl3D,WAAWk3D,EAAO7sE,OAAS0sE,EAAS,IAAMI,EAAOn3D,WAAWm3D,EAAO9sE,OAAS0sE,EAAS,GACjGD,IACAC,IAIJH,EAAQA,EAAQvsE,OAAS,GAAK6sE,EAAO79D,MAAM,EAAG69D,EAAO7sE,OAAS0sE,GAAQ/pE,QAAQ,WAAY,IAC1F4pE,EAAQ,GAAKA,EAAQ,GAAGv9D,MAAMy9D,GAAU9pE,QAAQ,WAAY,IAE5D,IAAIqqE,EAASnkE,GAAIunC,EAAUq8B,GACvBQ,EAAOpkE,GAAIwnC,EAAQm8B,EAAQxsE,OAASykB,EAAI+nD,GAASxsE,OAAS0sE,EAAS,GACvE,OAAIH,EAAQvsE,OAAS,GAAKusE,EAAQ,IAAMv8C,GAAIg9C,EAAQC,IAClD9/D,GAAarJ,EAAG2qB,IAAK89C,EAASS,EAAQC,EAAM,WACrC,QAFT,GAMF1E,GAAqB5mE,UAAU05D,aAAe,WAC5Cj6D,KAAK8pE,uBAEP3C,GAAqB5mE,UAAUM,MAAQ,WACrCb,KAAK8pE,uBAEP3C,GAAqB5mE,UAAUupE,oBAAsB,WAC9C9pE,KAAKynE,YACVxvD,aAAajY,KAAK2nE,gBAClB3nE,KAAKynE,UAAY,KACjBznE,KAAK4pE,gBACL5pE,KAAK6pB,IAAIvS,OACTtX,KAAK6pB,IAAI/S,UAEXqwD,GAAqB5mE,UAAUspE,gBAAkB,WAC7C,IAAItgB,EAASvpD,KAEY,MAAvBA,KAAK2nE,iBACT3nE,KAAK2nE,eAAiB5vD,YAAW,WAE/B,GADAwxC,EAAOoe,eAAiB,KACpBpe,EAAOke,UAAW,CACpB,IAAIle,EAAOke,UAAU7lB,KACd,OADsB2H,EAAOke,UAAY,KAGlDle,EAAOqgB,kBACN,MAGLzC,GAAqB5mE,UAAUqpE,cAAgB,WAC3C,IAAIrgB,EAASvpD,MAEXA,KAAK0C,GAAGgsD,cAAiB1uD,KAAK8qE,eAC9BjyB,GAAQ74C,KAAK0C,IAAI,WAAc,OAAO6oC,GAAUge,EAAO7mD,QAG7DykE,GAAqB5mE,UAAUu8B,cAAgB,SAAUzd,GACvDA,EAAKsqD,gBAAkB,SAGzBxC,GAAqB5mE,UAAU46D,WAAa,SAAUv2D,GAClC,GAAdA,EAAEw2D,UAAiBp7D,KAAKynE,YAC5B7iE,EAAE0jB,iBACGtoB,KAAK0C,GAAGgsD,cACTrnD,GAAUrH,KAAK0C,GAAIigE,GAAnBt7D,CAAmCrH,KAAK0C,GAAIiY,OAAOC,aAA2B,MAAdhW,EAAEw2D,SAAmBx2D,EAAEyS,QAAUzS,EAAEw2D,UAAW,KAGpH+L,GAAqB5mE,UAAUu/D,gBAAkB,SAAUz1D,GACzDrK,KAAK6pB,IAAI8/C,gBAAkBhvD,OAAc,YAAPtQ,IAGpC88D,GAAqB5mE,UAAU27D,cAAgB,aAC/CiL,GAAqB5mE,UAAU0/D,cAAgB,aAE/CkH,GAAqB5mE,UAAUs8B,uBAAwB,EA2JvD,IAAIivC,GAAgB,SAASppE,GAC3B1C,KAAK0C,GAAKA,EAEV1C,KAAK+rE,UAAY,GAKjB/rE,KAAKgsE,aAAc,EAEnBhsE,KAAKwnE,QAAU,IAAIrlD,EAEnBniB,KAAKyqB,cAAe,EACpBzqB,KAAKynE,UAAY,MA6VnB,SAASwE,GAAaC,EAAUpoE,GAS9B,GARAA,EAAUA,EAAUyd,EAAQzd,GAAW,GACvCA,EAAQN,MAAQ0oE,EAAS1oE,OACpBM,EAAQqoE,UAAYD,EAASz3B,WAC9B3wC,EAAQqoE,SAAWD,EAASz3B,WAC3B3wC,EAAQsoE,aAAeF,EAASE,cACjCtoE,EAAQsoE,YAAcF,EAASE,aAGV,MAArBtoE,EAAQg9D,UAAmB,CAC7B,IAAIjxB,EAAW1vB,IACfrc,EAAQg9D,UAAYjxB,GAAYq8B,GACQ,MAAtCA,EAAS9pC,aAAa,cAAwByN,GAAYtpC,SAAS8Z,KAGvE,SAASgS,IAAQ65C,EAAS1oE,MAAQd,EAAG2oD,WAErC,IAAIghB,EACJ,GAAIH,EAASI,OACXn1D,GAAG+0D,EAASI,KAAM,SAAUj6C,IAEvBvuB,EAAQyoE,wBAAwB,CACnC,IAAID,EAAOJ,EAASI,KACpBD,EAAaC,EAAKE,OAClB,IACE,IAAIC,EAAgBH,EAAKE,OAAS,WAChCn6C,IACAi6C,EAAKE,OAASH,EACdC,EAAKE,SACLF,EAAKE,OAASC,GAEhB,MAAM7nE,KAIZd,EAAQk9D,WAAa,SAAUt+D,GAC7BA,EAAG2vB,KAAOA,EACV3vB,EAAGgqE,YAAc,WAAc,OAAOR,GACtCxpE,EAAGiqE,WAAa,WACdjqE,EAAGiqE,WAAa1pC,MAChB5Q,IACA65C,EAASt1D,WAAWC,YAAYnU,EAAGuT,qBACnCi2D,EAASjmE,MAAMQ,QAAU,GACrBylE,EAASI,OACXtkD,GAAIkkD,EAASI,KAAM,SAAUj6C,GACxBvuB,EAAQyoE,wBAAyD,mBAAxBL,EAASI,KAAKE,SACxDN,EAASI,KAAKE,OAASH,MAKjCH,EAASjmE,MAAMQ,QAAU,OACzB,IAAI/D,EAAKxB,IAAW,SAAUme,GAAQ,OAAO6sD,EAASt1D,WAAW6oB,aAAapgB,EAAM6sD,EAASnrC,eAC3Fj9B,GACF,OAAOpB,EAGT,SAASkqE,GAAe1rE,GACtBA,EAAW8mB,IAAMA,GACjB9mB,EAAWiW,GAAKA,GAChBjW,EAAW48C,iBAAmBA,GAC9B58C,EAAW+pD,IAAMA,GACjB/pD,EAAW2mD,WAAav9B,GACxBppB,EAAWwgB,YAAcA,EACzBxgB,EAAW6hB,WAAaA,EACxB7hB,EAAWmM,WAAa2W,GACxB9iB,EAAWqK,KAAOA,EAClBrK,EAAWinB,OAASA,GACpBjnB,EAAW64B,KAAOA,GAClB74B,EAAWs+C,UAAYA,GACvBt+C,EAAWs1C,eAAiBA,GAC5Bt1C,EAAWuG,IAAMA,GACjBvG,EAAW6L,OAAS6hB,GACpB1tB,EAAWoqB,MAAQA,GACnBpqB,EAAWqqB,UAAYA,GACvBrqB,EAAW2qB,YAAcA,GACzB3qB,EAAW4qB,QAAUA,GACrB5qB,EAAW+qB,eAAiBA,GAC5B/qB,EAAWorB,WAAaA,GACxBprB,EAAWsrB,UAAYA,GACvBtrB,EAAW0rB,WAAaA,GACxB1rB,EAAWwrB,UAAYA,GACvBxrB,EAAWuI,SAAWA,GACtBvI,EAAWiG,OAASA,GACpBjG,EAAW6F,QAAUA,GACrB7F,EAAW0zD,cAAgBA,GAC3B1zD,EAAWuzD,UAAYA,GACvBvzD,EAAWozD,gBAAkBA,GAC7BpzD,EAAW6rB,aAAeA,GAC1B7rB,EAAWmpD,iBAAmBA,GAC9BnpD,EAAWwoD,WAAaA,GACxBxoD,EAAW+nD,WAAaA,GACxB/nD,EAAW4W,iBAAmBA,GAC9B5W,EAAWgoB,kBAAoBA,GAC/BhoB,EAAW6E,OAASA,GACpB7E,EAAWiV,SAAWA,EACtBjV,EAAW+e,SAAWA,EACtB/e,EAAWyV,QAAUA,EACrBzV,EAAWwvD,SAAWA,GA5bxBob,GAAcvrE,UAAUwb,KAAO,SAAUtV,GACrC,IAAI8iD,EAASvpD,KAEX48B,EAAQ58B,KAAM0C,EAAK1C,KAAK0C,GAC5B1C,KAAK6sE,YAAYpmE,GACjB,IAAIikB,EAAK1qB,KAAKksE,SAmBd,SAASY,EAAeloE,GACtB,IAAIyjB,GAAe3lB,EAAIkC,GAAvB,CACA,GAAIlC,EAAGs8C,oBACLyjB,GAAc,CAACU,UAAU,EAAOhgE,KAAMT,EAAGgL,sBACpC,KAAKhL,EAAGoB,QAAQwlE,gBACrB,OAEA,IAAI99D,EAASo4D,GAAelhE,GAC5B+/D,GAAc,CAACU,UAAU,EAAMhgE,KAAMqI,EAAOrI,OAC9B,OAAVyB,EAAEgE,KACJlG,EAAGiK,cAAcnB,EAAOA,OAAQ,KAAMkX,IAEtCka,EAAMmvC,UAAY,GAClBrhD,EAAGlnB,MAAQgI,EAAOrI,KAAKmS,KAAK,MAC5B8L,EAAYsJ,IAGF,OAAV9lB,EAAEgE,OAAiBlG,EAAGC,MAAMk+D,aAAe,IAAIlhE,OAlCrD8G,EAAQC,QAAQ+4B,aAAaz/B,KAAK0G,QAASD,EAAQC,QAAQgZ,YAGvDjB,IAAOiM,EAAGzkB,MAAMw7B,MAAQ,OAE5BtqB,GAAGuT,EAAI,SAAS,WACV5M,GAAMC,GAAc,GAAKwrC,EAAO9+B,eAAgB8+B,EAAO9+B,aAAe,MAC1EmS,EAAM+tC,UAGRxzD,GAAGuT,EAAI,SAAS,SAAU9lB,GACpByjB,GAAe3lB,EAAIkC,IAAMy+D,GAAYz+D,EAAGlC,KAE5CA,EAAGC,MAAMi+D,eAAiB,IAAIjhE,KAC9Bi9B,EAAMmwC,eAsBR51D,GAAGuT,EAAI,MAAOoiD,GACd31D,GAAGuT,EAAI,OAAQoiD,GAEf31D,GAAG1Q,EAAQ48B,SAAU,SAAS,SAAUz+B,GACtC,IAAIu9B,GAAc17B,EAAS7B,KAAMyjB,GAAe3lB,EAAIkC,GAApD,CACA,IAAK8lB,EAAGsiD,cAGN,OAFAtqE,EAAGC,MAAMi+D,eAAiB,IAAIjhE,UAC9Bi9B,EAAM9lB,QAKR,IAAIhR,EAAQ,IAAImnE,MAAM,SACtBnnE,EAAMy9D,cAAgB3+D,EAAE2+D,cACxB74C,EAAGsiD,cAAclnE,OAInBqR,GAAG1Q,EAAQ+7B,UAAW,eAAe,SAAU59B,GACxCu9B,GAAc17B,EAAS7B,IAAMkT,GAAiBlT,MAGrDuS,GAAGuT,EAAI,oBAAoB,WACzB,IAAIphB,EAAQ5G,EAAGsD,UAAU,QACrB42B,EAAM6qC,WAAa7qC,EAAM6qC,UAAUj7D,MAAMpH,QAC7Cw3B,EAAM6qC,UAAY,CAChBn+D,MAAOA,EACPkD,MAAO9J,EAAGinD,SAASrgD,EAAO5G,EAAGsD,UAAU,MAAO,CAAC0C,UAAW,6BAG9DyO,GAAGuT,EAAI,kBAAkB,WACnBkS,EAAM6qC,YACR7qC,EAAM+tC,OACN/tC,EAAM6qC,UAAUj7D,MAAMpH,QACtBw3B,EAAM6qC,UAAY,UAKxBqE,GAAcvrE,UAAUssE,YAAc,SAAUK,GAE9CltE,KAAK0G,QAAUs9D,KAGfhkE,KAAKksE,SAAWlsE,KAAK0G,QAAQgZ,YAG/BosD,GAAcvrE,UAAUw/D,yBAA2B,SAAUgK,GAExDA,EACD/pE,KAAKksE,SAASlsD,aAAa,aAAc+pD,GAEzC/pE,KAAKksE,SAASlC,gBAAgB,eAIlC8B,GAAcvrE,UAAUksC,iBAAmB,WAEzC,IAAI/pC,EAAK1C,KAAK0C,GAAI+D,EAAU/D,EAAG+D,QAAS4mB,EAAM3qB,EAAG2qB,IAC7C9d,EAASk9B,GAAiB/pC,GAG9B,GAAIA,EAAGoB,QAAQqpE,oBAAqB,CAClC,IAAItH,EAAUj/D,GAAalE,EAAI2qB,EAAIxgB,IAAIN,UAAUV,KAAM,OACnDuhE,EAAU3mE,EAAQC,QAAQC,wBAAyB0mE,EAAU5mE,EAAQ+pC,QAAQ7pC,wBACjF4I,EAAO+9D,MAAQnuE,KAAKgB,IAAI,EAAGhB,KAAKe,IAAIuG,EAAQC,QAAQ88B,aAAe,GAC/BqiC,EAAQh/D,IAAMwmE,EAAQxmE,IAAMumE,EAAQvmE,MACxE0I,EAAOg+D,OAASpuE,KAAKgB,IAAI,EAAGhB,KAAKe,IAAIuG,EAAQC,QAAQw7B,YAAc,GAC9B2jC,EAAQt4D,KAAO8/D,EAAQ9/D,KAAO6/D,EAAQ7/D,OAG7E,OAAOgC,GAGTu8D,GAAcvrE,UAAUisC,cAAgB,SAAUghC,GAChD,IAAI9qE,EAAK1C,KAAK0C,GAAI+D,EAAU/D,EAAG+D,QAC/BkZ,EAAqBlZ,EAAQgpC,UAAW+9B,EAAM7gC,SAC9ChtB,EAAqBlZ,EAAQ+0C,aAAcgyB,EAAM5iD,WAC9B,MAAf4iD,EAAMF,QACRttE,KAAK0G,QAAQT,MAAMY,IAAM2mE,EAAMF,MAAQ,KACvCttE,KAAK0G,QAAQT,MAAMsH,KAAOigE,EAAMD,OAAS,OAM7CzB,GAAcvrE,UAAUM,MAAQ,SAAUk2C,GACxC,IAAI/2C,KAAKytE,qBAAsBztE,KAAKynE,UAApC,CACA,IAAI/kE,EAAK1C,KAAK0C,GACd,GAAIA,EAAGs8C,oBAAqB,CAC1Bh/C,KAAK+rE,UAAY,GACjB,IAAItyD,EAAU/W,EAAGiD,eACjB3F,KAAKksE,SAAS1oE,MAAQiW,EAClB/W,EAAGC,MAAM2sC,SAAWluB,EAAYphB,KAAKksE,UACrCpuD,GAAMC,GAAc,IAAK/d,KAAKyqB,aAAehR,QACvCs9B,IACV/2C,KAAK+rE,UAAY/rE,KAAKksE,SAAS1oE,MAAQ,GACnCsa,GAAMC,GAAc,IAAK/d,KAAKyqB,aAAe,SAIrDqhD,GAAcvrE,UAAUw6D,SAAW,WAAc,OAAO/6D,KAAKksE,UAE7DJ,GAAcvrE,UAAUq7D,cAAgB,WAAc,OAAO,GAE7DkQ,GAAcvrE,UAAUuW,MAAQ,WAC9B,GAAgC,YAA5B9W,KAAK0C,GAAGoB,QAAQszB,YAA4BxY,GAAUuB,KAAengB,KAAKksE,UAC5E,IAAMlsE,KAAKksE,SAASp1D,QACpB,MAAOlS,MAIXknE,GAAcvrE,UAAU+W,KAAO,WAActX,KAAKksE,SAAS50D,QAE3Dw0D,GAAcvrE,UAAU0/D,cAAgB,WACtCjgE,KAAK0G,QAAQT,MAAMY,IAAM7G,KAAK0G,QAAQT,MAAMsH,KAAO,GAGrDu+D,GAAcvrE,UAAU8vC,cAAgB,WAAcrwC,KAAK0tE,YAI3D5B,GAAcvrE,UAAUmtE,SAAW,WAC/B,IAAInkB,EAASvpD,KAEXA,KAAKgsE,aACThsE,KAAKwnE,QAAQhlD,IAAIxiB,KAAK0C,GAAGoB,QAAQ+mE,cAAc,WAC7CthB,EAAOohB,OACHphB,EAAO7mD,GAAGC,MAAM2sC,SAAWia,EAAOmkB,eAO1C5B,GAAcvrE,UAAUwsE,SAAW,WACjC,IAAIY,GAAS,EAAO/wC,EAAQ58B,KAE5B,SAASia,IACP,IAAI03B,EAAU/U,EAAM+tC,OACfh5B,GAAYg8B,GACX/wC,EAAMovC,aAAc,EAAOpvC,EAAM8wC,aADbC,GAAS,EAAM/wC,EAAM4qC,QAAQhlD,IAAI,GAAIvI,IAHjE2iB,EAAMovC,aAAc,EAMpBpvC,EAAM4qC,QAAQhlD,IAAI,GAAIvI,IASxB6xD,GAAcvrE,UAAUoqE,KAAO,WAC3B,IAAIphB,EAASvpD,KAEX0C,EAAK1C,KAAK0C,GAAIk6B,EAAQ58B,KAAKksE,SAAUH,EAAY/rE,KAAK+rE,UAK1D,GAAI/rE,KAAKytE,qBAAuB/qE,EAAGC,MAAM2sC,SACpC7kB,GAAamS,KAAWmvC,IAAc/rE,KAAKynE,WAC5C/kE,EAAGgsD,cAAgBhsD,EAAGoB,QAAQ0/D,cAAgB9gE,EAAGC,MAAM83D,OACvD,OAAO,EAEX,IAAIt3D,EAAOy5B,EAAMp5B,MAEjB,GAAIL,GAAQ4oE,IAAcrpE,EAAGs8C,oBAAuB,OAAO,EAI3D,GAAIlhC,GAAMC,GAAc,GAAK/d,KAAKyqB,eAAiBtnB,GAC/C0b,GAAO,kBAAkBha,KAAK1B,GAEhC,OADAT,EAAG+D,QAAQm2B,MAAM/7B,SACV,EAGT,GAAI6B,EAAG2qB,IAAIxgB,KAAOnK,EAAG+D,QAAQ2pC,kBAAmB,CAC9C,IAAI9iB,EAAQnqB,EAAKoR,WAAW,GAE5B,GADa,MAAT+Y,GAAoBy+C,IAAaA,EAAY,KACpC,MAATz+C,EAAiC,OAAdttB,KAAKa,QAAgBb,KAAK0C,GAAG0E,YAAY,QAGlE,IAAIwmE,EAAO,EAAGvxD,EAAIld,KAAKe,IAAI6rE,EAAUntE,OAAQuE,EAAKvE,QAClD,MAAOgvE,EAAOvxD,GAAK0vD,EAAUx3D,WAAWq5D,IAASzqE,EAAKoR,WAAWq5D,KAAWA,EAgB5E,OAdA/0B,GAAQn2C,GAAI,WACVigE,GAAejgE,EAAIS,EAAKyK,MAAMggE,GAAO7B,EAAUntE,OAASgvE,EACzC,KAAMrkB,EAAOke,UAAY,WAAa,MAGjDtkE,EAAKvE,OAAS,KAAQuE,EAAKwB,QAAQ,OAAS,EAAKi4B,EAAMp5B,MAAQ+lD,EAAOwiB,UAAY,GAC/ExiB,EAAOwiB,UAAY5oE,EAEtBomD,EAAOke,YACTle,EAAOke,UAAUj7D,MAAMpH,QACvBmkD,EAAOke,UAAUj7D,MAAQ9J,EAAGinD,SAASJ,EAAOke,UAAUn+D,MAAO5G,EAAGsD,UAAU,MACvC,CAAC0C,UAAW,8BAG5C,GAGTojE,GAAcvrE,UAAU05D,aAAe,WACjCj6D,KAAKgsE,aAAehsE,KAAK2qE,SAAU3qE,KAAKgsE,aAAc,IAG5DF,GAAcvrE,UAAU46D,WAAa,WAC/Br9C,GAAMC,GAAc,IAAK/d,KAAKyqB,aAAe,MACjDzqB,KAAK+sE,YAGPjB,GAAcvrE,UAAU27D,cAAgB,SAAUt3D,GAChD,IAAIg4B,EAAQ58B,KAAM0C,EAAKk6B,EAAMl6B,GAAI+D,EAAU/D,EAAG+D,QAASikB,EAAKkS,EAAMsvC,SAC9DtvC,EAAM6wC,oBAAsB7wC,EAAM6wC,qBACtC,IAAI3rE,EAAMgpC,GAAapoC,EAAIkC,GAAIitC,EAAYprC,EAAQ48B,SAASmE,UAC5D,GAAK1lC,IAAOsc,EAAZ,CAIA,IAAIvd,EAAQ6B,EAAGoB,QAAQ+pE,4BACnBhtE,IAAsC,GAA7B6B,EAAG2qB,IAAIxgB,IAAIoT,SAASne,IAC7BuF,GAAU3E,EAAIkF,GAAdP,CAA4B3E,EAAG2qB,IAAKkyB,GAAgBz9C,GAAM4gB,GAE9D,IAIIorD,EAJAC,EAASrjD,EAAGzkB,MAAM6Z,QAASkuD,EAAgBpxC,EAAMl2B,QAAQT,MAAM6Z,QAC/DmuD,EAAarxC,EAAMl2B,QAAQwnE,aAAavnE,wBAwD5C,GAvDAi2B,EAAMl2B,QAAQT,MAAM6Z,QAAU,mBAC9B4K,EAAGzkB,MAAM6Z,QAAU,+DAAiElb,EAAEumC,QAAU8iC,EAAWpnE,IAAM,GAAK,cAAgBjC,EAAEsmC,QAAU+iC,EAAW1gE,KAAO,GAAK,0CAA4CuQ,EAAK,2BAA6B,eAAiB,oHAEpQG,IAAU6vD,EAAal4D,OAAOu4D,SAClC1nE,EAAQm2B,MAAM9lB,QACVmH,GAAUrI,OAAOmwD,SAAS,KAAM+H,GACpCrnE,EAAQm2B,MAAM/7B,QAET6B,EAAGs8C,sBAAuBt0B,EAAGlnB,MAAQo5B,EAAMmvC,UAAY,KAC5DnvC,EAAM6wC,mBAAqBW,EAC3B3nE,EAAQ2pC,kBAAoB1tC,EAAG2qB,IAAIxgB,IACnCoL,aAAaxR,EAAQ4nE,oBA2CjBvwD,GAAMC,GAAc,GAAKuwD,IACzBpvD,EAAmB,CACrBnZ,GAAOnB,GACP,IAAI2pE,EAAU,WACZvmD,GAAIpS,OAAQ,UAAW24D,GACvBx2D,WAAWq2D,EAAQ,KAErBj3D,GAAGvB,OAAQ,UAAW24D,QAEtBx2D,WAAWq2D,EAAQ,IA/CrB,SAASE,IACP,GAAyB,MAArB5jD,EAAG1I,eAAwB,CAC7B,IAAIstC,EAAW5sD,EAAGs8C,oBACdwvB,EAAS,KAAYlf,EAAW5kC,EAAGlnB,MAAQ,IAC/CknB,EAAGlnB,MAAQ,IACXknB,EAAGlnB,MAAQgrE,EACX5xC,EAAMmvC,UAAYzc,EAAW,GAAK,IAClC5kC,EAAG1I,eAAiB,EAAG0I,EAAGzI,aAAeusD,EAAO5vE,OAGhD6H,EAAQ2pC,kBAAoB1tC,EAAG2qB,IAAIxgB,KAGvC,SAASuhE,IACP,GAAIxxC,EAAM6wC,oBAAsBW,IAChCxxC,EAAM6wC,oBAAqB,EAC3B7wC,EAAMl2B,QAAQT,MAAM6Z,QAAUkuD,EAC9BtjD,EAAGzkB,MAAM6Z,QAAUiuD,EACfjwD,GAAMC,EAAa,GAAKtX,EAAQktC,WAAWJ,aAAa9sC,EAAQ48B,SAASmE,UAAYqK,GAGhE,MAArBnnB,EAAG1I,gBAAwB,GACxBlE,GAAOA,GAAMC,EAAa,IAAMuwD,IACrC,IAAIvvE,EAAI,EAAG4rE,EAAO,WACZlkE,EAAQ2pC,mBAAqB1tC,EAAG2qB,IAAIxgB,KAA4B,GAArB6d,EAAG1I,gBAC9C0I,EAAGzI,aAAe,GAAwB,KAAnB2a,EAAMmvC,UAC/B1kE,GAAU3E,EAAIwjD,GAAd7+C,CAAyB3E,GAChB3D,IAAM,GACf0H,EAAQ4nE,mBAAqBt2D,WAAW4yD,EAAM,MAE9ClkE,EAAQ2pC,kBAAoB,KAC5B3pC,EAAQm2B,MAAM/7B,UAGlB4F,EAAQ4nE,mBAAqBt2D,WAAW4yD,EAAM,QAiBpDmB,GAAcvrE,UAAUu/D,gBAAkB,SAAUz1D,GAC7CA,GAAOrK,KAAKa,QACjBb,KAAKksE,SAASuC,SAAkB,YAAPpkE,EACzBrK,KAAKksE,SAAS90C,WAAa/sB,GAG7ByhE,GAAcvrE,UAAUu8B,cAAgB,aAExCgvC,GAAcvrE,UAAUs8B,uBAAwB,EAyGhDqiC,GAAch+D,IAEdgjE,GAAiBhjE,IAGjB,IAAIwtE,GAAe,gDAAgD/vE,MAAM,KACzE,IAAK,IAAI8iB,MAAQwpC,GAAI1qD,UAAiB0qD,GAAI1qD,UAAU0b,eAAewF,KAAS9c,EAAQ+pE,GAAcjtD,IAAQ,IACtGvgB,GAAWX,UAAUkhB,IAAQ,SAAUktD,GACvC,OAAO,WAAY,OAAOA,EAAOrtD,MAAMthB,KAAKqtB,IAAK/kB,YADpB,CAE5B2iD,GAAI1qD,UAAUkhB,MAkCnB,OAhCAsH,GAAWkiC,IACX/pD,GAAWw/D,YAAc,CAAC,SAAYoL,GAAe,gBAAmB3E,IAKxEjmE,GAAWsqB,WAAa,SAASphB,GAC1BlJ,GAAW4I,SAASuB,MAAgB,QAARjB,IAAkBlJ,GAAW4I,SAASuB,KAAOjB,GAC9EohB,GAAWlK,MAAMthB,KAAMsI,YAGzBpH,GAAWwqB,WAAaA,GAGxBxqB,GAAWsqB,WAAW,QAAQ,WAAc,MAAO,CAAE7pB,MAAO,SAAUC,GAAU,OAAOA,EAAOO,iBAC9FjB,GAAWwqB,WAAW,aAAc,QAIpCxqB,GAAWqV,gBAAkB,SAAUnM,EAAMwkE,GAC3C1tE,GAAWX,UAAU6J,GAAQwkE,GAE/B1tE,GAAW2tE,mBAAqB,SAAUzkE,EAAMwkE,GAC9C3jB,GAAI1qD,UAAU6J,GAAQwkE,GAGxB1tE,GAAW+qE,aAAeA,GAE1BW,GAAe1rE,IAEfA,GAAW4N,QAAU,SAEd5N,O,qBCpnTT,SAAS4tE,EAAkB32D,EAAQ0L,GACjC,IAAK,IAAI9kB,EAAI,EAAGA,EAAI8kB,EAAMjlB,OAAQG,IAAK,CACrC,IAAIgwE,EAAalrD,EAAM9kB,GACvBgwE,EAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,UAAWF,IAAYA,EAAWt8D,UAAW,GACjDnC,OAAO4+D,eAAe/2D,EAAQ42D,EAAW1mE,IAAK0mE,IAIlD,SAASI,EAAaC,EAAaC,EAAYC,GAM7C,OALID,GAAYP,EAAkBM,EAAY7uE,UAAW8uE,GACrDC,GAAaR,EAAkBM,EAAaE,GAChDh/D,OAAO4+D,eAAeE,EAAa,YAAa,CAC9C38D,UAAU,IAEL28D,EAGTxvE,EAAOC,QAAUsvE,EAAcvvE,EAAOC,QAAQ0vE,YAAa,EAAM3vE,EAAOC,QAAQ,WAAaD,EAAOC,S,qBCSpG,IAAI2vE,EAAmB,WAMrBxvE,KAAKyvE,aAAe,EAEpBzvE,KAAK0vE,cAAgB,EAErB1vE,KAAK2vE,gBAAkB,GAIvB3vE,KAAK4vE,eAAiB,IAKtB5vE,KAAK6vE,sBAAwB,GAE7B7vE,KAAK8vE,aAAe,EAGpB9vE,KAAK+vE,cAAgB,IAYnBC,GAAe,EACfC,EAAc,EACdC,EAAa,EAWjBV,EAAiBW,KAAO,SAASl7C,EAAI9xB,GACnC,MAAO,CAAC8xB,EAAI9xB,IAgBdqsE,EAAiBjvE,UAAU6vE,UAAY,SAASC,EAAOC,EAAOC,EAC1DC,GAEyB,oBAAhBA,IAEPA,EADExwE,KAAKyvE,cAAgB,EACRj8D,OAAOi9D,WAEP,IAAK9wE,MAAM+wE,UAAgC,IAApB1wE,KAAKyvE,cAG/C,IAAIkB,EAAWH,EAGf,GAAa,MAATH,GAA0B,MAATC,EACnB,MAAM,IAAI77D,MAAM,2BAIlB,GAAI47D,GAASC,EACX,OAAID,EACK,CAAC,IAAIb,EAAiBW,KAAKD,EAAYG,IAEzC,GAGoB,oBAAlBE,IACTA,GAAiB,GAEnB,IAAIK,EAAaL,EAGbM,EAAe7wE,KAAK8wE,kBAAkBT,EAAOC,GAC7CS,EAAeV,EAAM71D,UAAU,EAAGq2D,GACtCR,EAAQA,EAAM71D,UAAUq2D,GACxBP,EAAQA,EAAM91D,UAAUq2D,GAGxBA,EAAe7wE,KAAKgxE,kBAAkBX,EAAOC,GAC7C,IAAIW,EAAeZ,EAAM71D,UAAU61D,EAAMzxE,OAASiyE,GAClDR,EAAQA,EAAM71D,UAAU,EAAG61D,EAAMzxE,OAASiyE,GAC1CP,EAAQA,EAAM91D,UAAU,EAAG81D,EAAM1xE,OAASiyE,GAG1C,IAAI1gE,EAAQnQ,KAAKkxE,cAAcb,EAAOC,EAAOM,EAAYD,GAUzD,OAPII,GACF5gE,EAAMmX,QAAQ,IAAIkoD,EAAiBW,KAAKD,EAAYa,IAElDE,GACF9gE,EAAM1D,KAAK,IAAI+iE,EAAiBW,KAAKD,EAAYe,IAEnDjxE,KAAKmxE,kBAAkBhhE,GAChBA,GAgBTq/D,EAAiBjvE,UAAU2wE,cAAgB,SAASb,EAAOC,EAAOM,EAC9DD,GACF,IAAIxgE,EAEJ,IAAKkgE,EAEH,MAAO,CAAC,IAAIb,EAAiBW,KAAKF,EAAaK,IAGjD,IAAKA,EAEH,MAAO,CAAC,IAAId,EAAiBW,KAAKH,EAAaK,IAGjD,IAAIe,EAAWf,EAAMzxE,OAAS0xE,EAAM1xE,OAASyxE,EAAQC,EACjDe,EAAYhB,EAAMzxE,OAAS0xE,EAAM1xE,OAAS0xE,EAAQD,EAClDtxE,EAAIqyE,EAASzsE,QAAQ0sE,GACzB,IAAU,GAANtyE,EAUF,OARAoR,EAAQ,CAAC,IAAIq/D,EAAiBW,KAAKF,EAAamB,EAAS52D,UAAU,EAAGzb,IAC7D,IAAIywE,EAAiBW,KAAKD,EAAYmB,GACtC,IAAI7B,EAAiBW,KAAKF,EACtBmB,EAAS52D,UAAUzb,EAAIsyE,EAAUzyE,UAE1CyxE,EAAMzxE,OAAS0xE,EAAM1xE,SACvBuR,EAAM,GAAG,GAAKA,EAAM,GAAG,GAAK6/D,GAEvB7/D,EAGT,GAAwB,GAApBkhE,EAAUzyE,OAGZ,MAAO,CAAC,IAAI4wE,EAAiBW,KAAKH,EAAaK,GACvC,IAAIb,EAAiBW,KAAKF,EAAaK,IAIjD,IAAIgB,EAAKtxE,KAAKuxE,gBAAgBlB,EAAOC,GACrC,GAAIgB,EAAI,CAEN,IAAIE,EAAUF,EAAG,GACbG,EAAUH,EAAG,GACbI,EAAUJ,EAAG,GACbK,EAAUL,EAAG,GACbM,EAAaN,EAAG,GAEhBO,EAAU7xE,KAAKowE,UAAUoB,EAASE,EAASd,EAAYD,GACvDmB,EAAU9xE,KAAKowE,UAAUqB,EAASE,EAASf,EAAYD,GAE3D,OAAOkB,EAAQ/pD,OAAO,CAAC,IAAI0nD,EAAiBW,KAAKD,EAAY0B,IACvCE,GAGxB,OAAIlB,GAAcP,EAAMzxE,OAAS,KAAO0xE,EAAM1xE,OAAS,IAC9CoB,KAAK+xE,eAAe1B,EAAOC,EAAOK,GAGpC3wE,KAAKgyE,aAAa3B,EAAOC,EAAOK,IAczCnB,EAAiBjvE,UAAUwxE,eAAiB,SAAS1B,EAAOC,EAAOK,GAEjE,IAAInwD,EAAIxgB,KAAKiyE,mBAAmB5B,EAAOC,GACvCD,EAAQ7vD,EAAE0xD,OACV5B,EAAQ9vD,EAAE2xD,OACV,IAAIC,EAAY5xD,EAAE6xD,UAEdliE,EAAQnQ,KAAKowE,UAAUC,EAAOC,GAAO,EAAOK,GAGhD3wE,KAAKsyE,mBAAmBniE,EAAOiiE,GAE/BpyE,KAAKuyE,qBAAqBpiE,GAI1BA,EAAM1D,KAAK,IAAI+iE,EAAiBW,KAAKD,EAAY,KACjD,IAAIsC,EAAU,EACVC,EAAe,EACfC,EAAe,EACfC,EAAc,GACdC,EAAc,GAClB,MAAOJ,EAAUriE,EAAMvR,OAAQ,CAC7B,OAAQuR,EAAMqiE,GAAS,IACrB,KAAKvC,EACHyC,IACAE,GAAeziE,EAAMqiE,GAAS,GAC9B,MACF,KAAKxC,EACHyC,IACAE,GAAexiE,EAAMqiE,GAAS,GAC9B,MACF,KAAKtC,EAEH,GAAIuC,GAAgB,GAAKC,GAAgB,EAAG,CAE1CviE,EAAM0M,OAAO21D,EAAUC,EAAeC,EACzBD,EAAeC,GAC5BF,EAAUA,EAAUC,EAAeC,EAGnC,IAFA,IAAIG,EACA7yE,KAAKowE,UAAUuC,EAAaC,GAAa,EAAOjC,GAC3CzgE,EAAI2iE,EAAQj0E,OAAS,EAAGsR,GAAK,EAAGA,IACvCC,EAAM0M,OAAO21D,EAAS,EAAGK,EAAQ3iE,IAEnCsiE,GAAoBK,EAAQj0E,OAE9B8zE,EAAe,EACfD,EAAe,EACfE,EAAc,GACdC,EAAc,GACd,MAEJJ,IAIF,OAFAriE,EAAMwyC,MAECxyC,GAcTq/D,EAAiBjvE,UAAUyxE,aAAe,SAAS3B,EAAOC,EAAOK,GAW/D,IATA,IAAImC,EAAezC,EAAMzxE,OACrBm0E,EAAezC,EAAM1xE,OACrBo0E,EAAQ7zE,KAAKwlB,MAAMmuD,EAAeC,GAAgB,GAClDE,EAAWD,EACXE,EAAW,EAAIF,EACfG,EAAK,IAAI7+D,MAAM4+D,GACfE,EAAK,IAAI9+D,MAAM4+D,GAGV1iE,EAAI,EAAGA,EAAI0iE,EAAU1iE,IAC5B2iE,EAAG3iE,IAAM,EACT4iE,EAAG5iE,IAAM,EAEX2iE,EAAGF,EAAW,GAAK,EACnBG,EAAGH,EAAW,GAAK,EAWnB,IAVA,IAAItjE,EAAQmjE,EAAeC,EAGvBM,EAAS1jE,EAAQ,GAAK,EAGtB2jE,EAAU,EACVC,EAAQ,EACRC,EAAU,EACVC,EAAQ,EACH95C,EAAI,EAAGA,EAAIq5C,EAAOr5C,IAAK,CAE9B,IAAI,IAAKh6B,MAAQ+wE,UAAYC,EAC3B,MAIF,IAAK,IAAI+C,GAAM/5C,EAAI25C,EAASI,GAAM/5C,EAAI45C,EAAOG,GAAM,EAAG,CACpD,IAAIC,EAAYV,EAAWS,EAGzBE,EADEF,IAAO/5C,GAAM+5C,GAAM/5C,GAAKw5C,EAAGQ,EAAY,GAAKR,EAAGQ,EAAY,GACxDR,EAAGQ,EAAY,GAEfR,EAAGQ,EAAY,GAAK,EAE3B,IAAIE,EAAKD,EAAKF,EACd,MAAOE,EAAKd,GAAgBe,EAAKd,GAC1B1C,EAAM7wE,OAAOo0E,IAAOtD,EAAM9wE,OAAOq0E,GACtCD,IACAC,IAGF,GADAV,EAAGQ,GAAaC,EACZA,EAAKd,EAEPS,GAAS,OACJ,GAAIM,EAAKd,EAEdO,GAAW,OACN,GAAID,EAAO,CAChB,IAAIS,EAAYb,EAAWtjE,EAAQ+jE,EACnC,GAAII,GAAa,GAAKA,EAAYZ,IAA8B,GAAlBE,EAAGU,GAAkB,CAEjE,IAAIC,EAAKjB,EAAeM,EAAGU,GAC3B,GAAIF,GAAMG,EAER,OAAO/zE,KAAKg0E,kBAAkB3D,EAAOC,EAAOsD,EAAIC,EAAIlD,KAO5D,IAAK,IAAIsD,GAAMt6C,EAAI65C,EAASS,GAAMt6C,EAAI85C,EAAOQ,GAAM,EAAG,CAChDH,EAAYb,EAAWgB,EAGzBF,EADEE,IAAOt6C,GAAMs6C,GAAMt6C,GAAKy5C,EAAGU,EAAY,GAAKV,EAAGU,EAAY,GACxDV,EAAGU,EAAY,GAEfV,EAAGU,EAAY,GAAK,EAE3B,IAAII,EAAKH,EAAKE,EACd,MAAOF,EAAKjB,GAAgBoB,EAAKnB,GAC1B1C,EAAM7wE,OAAOszE,EAAeiB,EAAK,IACjCzD,EAAM9wE,OAAOuzE,EAAemB,EAAK,GACtCH,IACAG,IAGF,GADAd,EAAGU,GAAaC,EACZA,EAAKjB,EAEPW,GAAS,OACJ,GAAIS,EAAKnB,EAEdS,GAAW,OACN,IAAKH,EAAO,CACbM,EAAYV,EAAWtjE,EAAQskE,EACnC,GAAIN,GAAa,GAAKA,EAAYT,IAA8B,GAAlBC,EAAGQ,GAAkB,CACjE,IAAIC,EAAKT,EAAGQ,GACRE,EAAKZ,EAAWW,EAAKD,EAGzB,GADAI,EAAKjB,EAAeiB,EAChBH,GAAMG,EAER,OAAO/zE,KAAKg0E,kBAAkB3D,EAAOC,EAAOsD,EAAIC,EAAIlD,MAQ9D,MAAO,CAAC,IAAInB,EAAiBW,KAAKH,EAAaK,GACvC,IAAIb,EAAiBW,KAAKF,EAAaK,KAejDd,EAAiBjvE,UAAUyzE,kBAAoB,SAAS3D,EAAOC,EAAO9/D,EAAGC,EACrEkgE,GACF,IAAIwD,EAAS9D,EAAM71D,UAAU,EAAGhK,GAC5B4jE,EAAS9D,EAAM91D,UAAU,EAAG/J,GAC5B4jE,EAAShE,EAAM71D,UAAUhK,GACzB8jE,EAAShE,EAAM91D,UAAU/J,GAGzBN,EAAQnQ,KAAKowE,UAAU+D,EAAQC,GAAQ,EAAOzD,GAC9C4D,EAASv0E,KAAKowE,UAAUiE,EAAQC,GAAQ,EAAO3D,GAEnD,OAAOxgE,EAAM2X,OAAOysD,IAetB/E,EAAiBjvE,UAAU0xE,mBAAqB,SAAS5B,EAAOC,GAC9D,IAAI+B,EAAY,GACZmC,EAAW,GAcf,SAASC,EAAwBtxE,GAC/B,IAAI6H,EAAQ,GAIRmiB,EAAY,EACZoqC,GAAW,EAEXmd,EAAkBrC,EAAUzzE,OAChC,MAAO24D,EAAUp0D,EAAKvE,OAAS,EAAG,CAChC24D,EAAUp0D,EAAKwB,QAAQ,KAAMwoB,IACb,GAAZoqC,IACFA,EAAUp0D,EAAKvE,OAAS,GAE1B,IAAI0H,EAAOnD,EAAKqX,UAAU2S,EAAWoqC,EAAU,IAE3Cid,EAASv4D,eAAiBu4D,EAASv4D,eAAe3V,QAC9B0V,IAAnBw4D,EAASluE,IACZ0E,GAAS2P,OAAOC,aAAa45D,EAASluE,KAElCouE,GAAmBC,IAGrBruE,EAAOnD,EAAKqX,UAAU2S,GACtBoqC,EAAUp0D,EAAKvE,QAEjBoM,GAAS2P,OAAOC,aAAa85D,GAC7BF,EAASluE,GAAQouE,EACjBrC,EAAUqC,KAAqBpuE,GAEjC6mB,EAAYoqC,EAAU,EAExB,OAAOvsD,EA1CTqnE,EAAU,GAAK,GA6Cf,IAAIsC,EAAW,IACXzC,EAASuC,EAAwBpE,GACrCsE,EAAW,MACX,IAAIxC,EAASsC,EAAwBnE,GACrC,MAAO,CAAC4B,OAAQA,EAAQC,OAAQA,EAAQE,UAAWA,IAWrD7C,EAAiBjvE,UAAU+xE,mBAAqB,SAASniE,EAAOkiE,GAC9D,IAAK,IAAItzE,EAAI,EAAGA,EAAIoR,EAAMvR,OAAQG,IAAK,CAGrC,IAFA,IAAIiM,EAAQmF,EAAMpR,GAAG,GACjBoE,EAAO,GACF+M,EAAI,EAAGA,EAAIlF,EAAMpM,OAAQsR,IAChC/M,EAAK+M,GAAKmiE,EAAUrnE,EAAMuJ,WAAWrE,IAEvCC,EAAMpR,GAAG,GAAKoE,EAAKmS,KAAK,MAY5Bk6D,EAAiBjvE,UAAUuwE,kBAAoB,SAAST,EAAOC,GAE7D,IAAKD,IAAUC,GAASD,EAAM7wE,OAAO,IAAM8wE,EAAM9wE,OAAO,GACtD,OAAO,EAIT,IAAIo1E,EAAa,EACbC,EAAa11E,KAAKe,IAAImwE,EAAMzxE,OAAQ0xE,EAAM1xE,QAC1Ck2E,EAAaD,EACbE,EAAe,EACnB,MAAOH,EAAaE,EACdzE,EAAM71D,UAAUu6D,EAAcD,IAC9BxE,EAAM91D,UAAUu6D,EAAcD,IAChCF,EAAaE,EACbC,EAAeH,GAEfC,EAAaC,EAEfA,EAAa31E,KAAKC,OAAOy1E,EAAaD,GAAc,EAAIA,GAE1D,OAAOE,GAUTtF,EAAiBjvE,UAAUywE,kBAAoB,SAASX,EAAOC,GAE7D,IAAKD,IAAUC,GACXD,EAAM7wE,OAAO6wE,EAAMzxE,OAAS,IAAM0xE,EAAM9wE,OAAO8wE,EAAM1xE,OAAS,GAChE,OAAO,EAIT,IAAIg2E,EAAa,EACbC,EAAa11E,KAAKe,IAAImwE,EAAMzxE,OAAQ0xE,EAAM1xE,QAC1Ck2E,EAAaD,EACbG,EAAa,EACjB,MAAOJ,EAAaE,EACdzE,EAAM71D,UAAU61D,EAAMzxE,OAASk2E,EAAYzE,EAAMzxE,OAASo2E,IAC1D1E,EAAM91D,UAAU81D,EAAM1xE,OAASk2E,EAAYxE,EAAM1xE,OAASo2E,IAC5DJ,EAAaE,EACbE,EAAaJ,GAEbC,EAAaC,EAEfA,EAAa31E,KAAKC,OAAOy1E,EAAaD,GAAc,EAAIA,GAE1D,OAAOE,GAYTtF,EAAiBjvE,UAAU00E,oBAAsB,SAAS5E,EAAOC,GAE/D,IAAIwC,EAAezC,EAAMzxE,OACrBm0E,EAAezC,EAAM1xE,OAEzB,GAAoB,GAAhBk0E,GAAqC,GAAhBC,EACvB,OAAO,EAGLD,EAAeC,EACjB1C,EAAQA,EAAM71D,UAAUs4D,EAAeC,GAC9BD,EAAeC,IACxBzC,EAAQA,EAAM91D,UAAU,EAAGs4D,IAE7B,IAAIoC,EAAc/1E,KAAKe,IAAI4yE,EAAcC,GAEzC,GAAI1C,GAASC,EACX,OAAO4E,EAMT,IAAIC,EAAO,EACPv2E,EAAS,EACb,MAAO,EAAM,CACX,IAAIsxB,EAAUmgD,EAAM71D,UAAU06D,EAAct2E,GACxCkmB,EAAQwrD,EAAM3rE,QAAQurB,GAC1B,IAAc,GAAVpL,EACF,OAAOqwD,EAETv2E,GAAUkmB,EACG,GAATA,GAAcurD,EAAM71D,UAAU06D,EAAct2E,IAC5C0xE,EAAM91D,UAAU,EAAG5b,KACrBu2E,EAAOv2E,EACPA,OAiBN4wE,EAAiBjvE,UAAUgxE,gBAAkB,SAASlB,EAAOC,GAC3D,GAAItwE,KAAKyvE,cAAgB,EAEvB,OAAO,KAET,IAAI2B,EAAWf,EAAMzxE,OAAS0xE,EAAM1xE,OAASyxE,EAAQC,EACjDe,EAAYhB,EAAMzxE,OAAS0xE,EAAM1xE,OAAS0xE,EAAQD,EACtD,GAAIe,EAASxyE,OAAS,GAAwB,EAAnByyE,EAAUzyE,OAAawyE,EAASxyE,OACzD,OAAO,KAET,IAAIqP,EAAMjO,KAcV,SAASo1E,EAAiBhE,EAAUC,EAAWtyE,GAE7C,IAGIs2E,EAAiBC,EAAiBC,EAAkBC,EAHpD12E,EAAOsyE,EAAS52D,UAAUzb,EAAGA,EAAII,KAAKC,MAAMgyE,EAASxyE,OAAS,IAC9DsR,GAAK,EACLulE,EAAc,GAElB,OAAgD,IAAxCvlE,EAAImhE,EAAU1sE,QAAQ7F,EAAMoR,EAAI,IAAW,CACjD,IAAIwlE,EAAeznE,EAAI6iE,kBAAkBM,EAAS52D,UAAUzb,GACnBsyE,EAAU72D,UAAUtK,IACzDylE,EAAe1nE,EAAI+iE,kBAAkBI,EAAS52D,UAAU,EAAGzb,GACtBsyE,EAAU72D,UAAU,EAAGtK,IAC5DulE,EAAY72E,OAAS+2E,EAAeD,IACtCD,EAAcpE,EAAU72D,UAAUtK,EAAIylE,EAAczlE,GAChDmhE,EAAU72D,UAAUtK,EAAGA,EAAIwlE,GAC/BL,EAAkBjE,EAAS52D,UAAU,EAAGzb,EAAI42E,GAC5CL,EAAkBlE,EAAS52D,UAAUzb,EAAI22E,GACzCH,EAAmBlE,EAAU72D,UAAU,EAAGtK,EAAIylE,GAC9CH,EAAmBnE,EAAU72D,UAAUtK,EAAIwlE,IAG/C,OAAyB,EAArBD,EAAY72E,QAAcwyE,EAASxyE,OAC9B,CAACy2E,EAAiBC,EACjBC,EAAkBC,EAAkBC,GAErC,KAKX,IAKInE,EAaAE,EAASC,EAASC,EAASC,EAlB3BiE,EAAMR,EAAiBhE,EAAUC,EACVlyE,KAAKwlB,KAAKysD,EAASxyE,OAAS,IAEnDi3E,EAAMT,EAAiBhE,EAAUC,EACVlyE,KAAKwlB,KAAKysD,EAASxyE,OAAS,IAEvD,IAAKg3E,IAAQC,EACX,OAAO,KAOPvE,EANUuE,EAEAD,GAILA,EAAI,GAAGh3E,OAASi3E,EAAI,GAAGj3E,OAASg3E,EAHhCC,EAFAD,EAUHvF,EAAMzxE,OAAS0xE,EAAM1xE,QACvB4yE,EAAUF,EAAG,GACbG,EAAUH,EAAG,GACbI,EAAUJ,EAAG,GACbK,EAAUL,EAAG,KAEbI,EAAUJ,EAAG,GACbK,EAAUL,EAAG,GACbE,EAAUF,EAAG,GACbG,EAAUH,EAAG,IAEf,IAAIM,EAAaN,EAAG,GACpB,MAAO,CAACE,EAASC,EAASC,EAASC,EAASC,IAQ9CpC,EAAiBjvE,UAAUgyE,qBAAuB,SAASpiE,GACzD,IAAI4uB,GAAU,EACV+2C,EAAa,GACbC,EAAmB,EAEnBC,EAAe,KAEfxD,EAAU,EAEVyD,EAAqB,EACrBC,EAAoB,EAEpBC,EAAqB,EACrBC,EAAoB,EACxB,MAAO5D,EAAUriE,EAAMvR,OACjBuR,EAAMqiE,GAAS,IAAMtC,GACvB4F,EAAWC,KAAsBvD,EACjCyD,EAAqBE,EACrBD,EAAoBE,EACpBD,EAAqB,EACrBC,EAAoB,EACpBJ,EAAe7lE,EAAMqiE,GAAS,KAE1BriE,EAAMqiE,GAAS,IAAMvC,EACvBkG,GAAsBhmE,EAAMqiE,GAAS,GAAG5zE,OAExCw3E,GAAqBjmE,EAAMqiE,GAAS,GAAG5zE,OAIrCo3E,GAAiBA,EAAap3E,QAC9BO,KAAKgB,IAAI81E,EAAoBC,IAC5BF,EAAap3E,QAAUO,KAAKgB,IAAIg2E,EACAC,KAEnCjmE,EAAM0M,OAAOi5D,EAAWC,EAAmB,GAAI,EAClC,IAAIvG,EAAiBW,KAAKH,EAAagG,IAEpD7lE,EAAM2lE,EAAWC,EAAmB,GAAK,GAAG,GAAK9F,EAEjD8F,IAEAA,IACAvD,EAAUuD,EAAmB,EAAID,EAAWC,EAAmB,IAAM,EACrEE,EAAqB,EACrBC,EAAoB,EACpBC,EAAqB,EACrBC,EAAoB,EACpBJ,EAAe,KACfj3C,GAAU,IAGdyzC,IAIEzzC,GACF/+B,KAAKmxE,kBAAkBhhE,GAEzBnQ,KAAKq2E,6BAA6BlmE,GAQlCqiE,EAAU,EACV,MAAOA,EAAUriE,EAAMvR,OAAQ,CAC7B,GAAIuR,EAAMqiE,EAAU,GAAG,IAAMxC,GACzB7/D,EAAMqiE,GAAS,IAAMvC,EAAa,CACpC,IAAIqG,EAAWnmE,EAAMqiE,EAAU,GAAG,GAC9B+D,EAAYpmE,EAAMqiE,GAAS,GAC3BgE,EAAkBx2E,KAAKi1E,oBAAoBqB,EAAUC,GACrDE,EAAkBz2E,KAAKi1E,oBAAoBsB,EAAWD,GACtDE,GAAmBC,GACjBD,GAAmBF,EAAS13E,OAAS,GACrC43E,GAAmBD,EAAU33E,OAAS,KAExCuR,EAAM0M,OAAO21D,EAAS,EAAG,IAAIhD,EAAiBW,KAAKD,EAC/CqG,EAAU/7D,UAAU,EAAGg8D,KAC3BrmE,EAAMqiE,EAAU,GAAG,GACf8D,EAAS97D,UAAU,EAAG87D,EAAS13E,OAAS43E,GAC5CrmE,EAAMqiE,EAAU,GAAG,GAAK+D,EAAU/7D,UAAUg8D,GAC5ChE,MAGEiE,GAAmBH,EAAS13E,OAAS,GACrC63E,GAAmBF,EAAU33E,OAAS,KAGxCuR,EAAM0M,OAAO21D,EAAS,EAAG,IAAIhD,EAAiBW,KAAKD,EAC/CoG,EAAS97D,UAAU,EAAGi8D,KAC1BtmE,EAAMqiE,EAAU,GAAG,GAAKvC,EACxB9/D,EAAMqiE,EAAU,GAAG,GACf+D,EAAU/7D,UAAU,EAAG+7D,EAAU33E,OAAS63E,GAC9CtmE,EAAMqiE,EAAU,GAAG,GAAKxC,EACxB7/D,EAAMqiE,EAAU,GAAG,GACf8D,EAAS97D,UAAUi8D,GACvBjE,KAGJA,IAEFA,MAWJhD,EAAiBjvE,UAAU81E,6BAA+B,SAASlmE,GAWjE,SAASumE,EAA2BC,EAAKC,GACvC,IAAKD,IAAQC,EAEX,OAAO,EAQT,IAAIC,EAAQF,EAAIn3E,OAAOm3E,EAAI/3E,OAAS,GAChCk4E,EAAQF,EAAIp3E,OAAO,GACnBu3E,EAAmBF,EAAM90E,MAAMytE,EAAiBwH,uBAChDC,EAAmBH,EAAM/0E,MAAMytE,EAAiBwH,uBAChDE,EAAcH,GACdF,EAAM90E,MAAMytE,EAAiB2H,kBAC7BC,EAAcH,GACdH,EAAM/0E,MAAMytE,EAAiB2H,kBAC7BE,EAAaH,GACbL,EAAM90E,MAAMytE,EAAiB8H,iBAC7BC,EAAaH,GACbN,EAAM/0E,MAAMytE,EAAiB8H,iBAC7BE,EAAaH,GACbV,EAAI50E,MAAMytE,EAAiBiI,oBAC3BC,EAAaH,GACbX,EAAI70E,MAAMytE,EAAiBmI,sBAE/B,OAAIH,GAAcE,EAET,EACEL,GAAcE,EAEhB,EACER,IAAqBG,GAAeE,EAEtC,EACEF,GAAeE,EAEjB,EACEL,GAAoBE,EAEtB,EAEF,EAGT,IAAIzE,EAAU,EAEd,MAAOA,EAAUriE,EAAMvR,OAAS,EAAG,CACjC,GAAIuR,EAAMqiE,EAAU,GAAG,IAAMtC,GACzB//D,EAAMqiE,EAAU,GAAG,IAAMtC,EAAY,CAEvC,IAAI0H,EAAYznE,EAAMqiE,EAAU,GAAG,GAC/BqF,EAAO1nE,EAAMqiE,GAAS,GACtBsF,EAAY3nE,EAAMqiE,EAAU,GAAG,GAG/BuF,EAAe/3E,KAAKgxE,kBAAkB4G,EAAWC,GACrD,GAAIE,EAAc,CAChB,IAAIC,EAAeH,EAAKr9D,UAAUq9D,EAAKj5E,OAASm5E,GAChDH,EAAYA,EAAUp9D,UAAU,EAAGo9D,EAAUh5E,OAASm5E,GACtDF,EAAOG,EAAeH,EAAKr9D,UAAU,EAAGq9D,EAAKj5E,OAASm5E,GACtDD,EAAYE,EAAeF,EAI7B,IAAIG,EAAgBL,EAChBM,EAAWL,EACXM,EAAgBL,EAChBM,EAAY1B,EAA2BkB,EAAWC,GAClDnB,EAA2BmB,EAAMC,GACrC,MAAOD,EAAKr4E,OAAO,KAAOs4E,EAAUt4E,OAAO,GAAI,CAC7Co4E,GAAaC,EAAKr4E,OAAO,GACzBq4E,EAAOA,EAAKr9D,UAAU,GAAKs9D,EAAUt4E,OAAO,GAC5Cs4E,EAAYA,EAAUt9D,UAAU,GAChC,IAAIgJ,EAAQkzD,EAA2BkB,EAAWC,GAC9CnB,EAA2BmB,EAAMC,GAEjCt0D,GAAS40D,IACXA,EAAY50D,EACZy0D,EAAgBL,EAChBM,EAAWL,EACXM,EAAgBL,GAIhB3nE,EAAMqiE,EAAU,GAAG,IAAMyF,IAEvBA,EACF9nE,EAAMqiE,EAAU,GAAG,GAAKyF,GAExB9nE,EAAM0M,OAAO21D,EAAU,EAAG,GAC1BA,KAEFriE,EAAMqiE,GAAS,GAAK0F,EAChBC,EACFhoE,EAAMqiE,EAAU,GAAG,GAAK2F,GAExBhoE,EAAM0M,OAAO21D,EAAU,EAAG,GAC1BA,MAINA,MAKJhD,EAAiBwH,sBAAwB,eACzCxH,EAAiB2H,iBAAmB,KACpC3H,EAAiB8H,gBAAkB,SACnC9H,EAAiBiI,mBAAqB,WACtCjI,EAAiBmI,qBAAuB,cAMxCnI,EAAiBjvE,UAAU83E,uBAAyB,SAASloE,GAC3D,IAAI4uB,GAAU,EACV+2C,EAAa,GACbC,EAAmB,EAEnBC,EAAe,KAEfxD,EAAU,EAEV8F,GAAU,EAEVC,GAAU,EAEVC,GAAW,EAEXC,GAAW,EACf,MAAOjG,EAAUriE,EAAMvR,OACjBuR,EAAMqiE,GAAS,IAAMtC,GACnB//D,EAAMqiE,GAAS,GAAG5zE,OAASoB,KAAK0vE,gBAC/B8I,GAAYC,IAEf3C,EAAWC,KAAsBvD,EACjC8F,EAAUE,EACVD,EAAUE,EACVzC,EAAe7lE,EAAMqiE,GAAS,KAG9BuD,EAAmB,EACnBC,EAAe,MAEjBwC,EAAWC,GAAW,IAElBtoE,EAAMqiE,GAAS,IAAMxC,EACvByI,GAAW,EAEXD,GAAW,EAUTxC,IAAkBsC,GAAWC,GAAWC,GAAYC,GACjCzC,EAAap3E,OAASoB,KAAK0vE,cAAgB,GAC3C4I,EAAUC,EAAUC,EAAWC,GAAa,KAEjEtoE,EAAM0M,OAAOi5D,EAAWC,EAAmB,GAAI,EAClC,IAAIvG,EAAiBW,KAAKH,EAAagG,IAEpD7lE,EAAM2lE,EAAWC,EAAmB,GAAK,GAAG,GAAK9F,EACjD8F,IACAC,EAAe,KACXsC,GAAWC,GAEbC,EAAWC,GAAW,EACtB1C,EAAmB,IAEnBA,IACAvD,EAAUuD,EAAmB,EACzBD,EAAWC,EAAmB,IAAM,EACxCyC,EAAWC,GAAW,GAExB15C,GAAU,IAGdyzC,IAGEzzC,GACF/+B,KAAKmxE,kBAAkBhhE,IAU3Bq/D,EAAiBjvE,UAAU4wE,kBAAoB,SAAShhE,GAEtDA,EAAM1D,KAAK,IAAI+iE,EAAiBW,KAAKD,EAAY,KACjD,IAKIW,EALA2B,EAAU,EACVC,EAAe,EACfC,EAAe,EACfC,EAAc,GACdC,EAAc,GAElB,MAAOJ,EAAUriE,EAAMvR,OACrB,OAAQuR,EAAMqiE,GAAS,IACrB,KAAKvC,EACHyC,IACAE,GAAeziE,EAAMqiE,GAAS,GAC9BA,IACA,MACF,KAAKxC,EACHyC,IACAE,GAAexiE,EAAMqiE,GAAS,GAC9BA,IACA,MACF,KAAKtC,EAECuC,EAAeC,EAAe,GACX,IAAjBD,GAAuC,IAAjBC,IAExB7B,EAAe7wE,KAAK8wE,kBAAkB8B,EAAaD,GAC9B,IAAjB9B,IACG2B,EAAUC,EAAeC,EAAgB,GAC1CviE,EAAMqiE,EAAUC,EAAeC,EAAe,GAAG,IACjDxC,EACF//D,EAAMqiE,EAAUC,EAAeC,EAAe,GAAG,IAC7CE,EAAYp4D,UAAU,EAAGq2D,IAE7B1gE,EAAM0M,OAAO,EAAG,EAAG,IAAI2yD,EAAiBW,KAAKD,EACzC0C,EAAYp4D,UAAU,EAAGq2D,KAC7B2B,KAEFI,EAAcA,EAAYp4D,UAAUq2D,GACpC8B,EAAcA,EAAYn4D,UAAUq2D,IAGtCA,EAAe7wE,KAAKgxE,kBAAkB4B,EAAaD,GAC9B,IAAjB9B,IACF1gE,EAAMqiE,GAAS,GAAKI,EAAYp4D,UAAUo4D,EAAYh0E,OAClDiyE,GAAgB1gE,EAAMqiE,GAAS,GACnCI,EAAcA,EAAYp4D,UAAU,EAAGo4D,EAAYh0E,OAC/CiyE,GACJ8B,EAAcA,EAAYn4D,UAAU,EAAGm4D,EAAY/zE,OAC/CiyE,KAIR2B,GAAWC,EAAeC,EAC1BviE,EAAM0M,OAAO21D,EAASC,EAAeC,GACjCC,EAAY/zE,SACduR,EAAM0M,OAAO21D,EAAS,EAClB,IAAIhD,EAAiBW,KAAKH,EAAa2C,IAC3CH,KAEEI,EAAYh0E,SACduR,EAAM0M,OAAO21D,EAAS,EAClB,IAAIhD,EAAiBW,KAAKF,EAAa2C,IAC3CJ,KAEFA,KACqB,IAAZA,GAAiBriE,EAAMqiE,EAAU,GAAG,IAAMtC,GAEnD//D,EAAMqiE,EAAU,GAAG,IAAMriE,EAAMqiE,GAAS,GACxCriE,EAAM0M,OAAO21D,EAAS,IAEtBA,IAEFE,EAAe,EACfD,EAAe,EACfE,EAAc,GACdC,EAAc,GACd,MAG6B,KAA/BziE,EAAMA,EAAMvR,OAAS,GAAG,IAC1BuR,EAAMwyC,MAMR,IAAI5jB,GAAU,EACdyzC,EAAU,EAEV,MAAOA,EAAUriE,EAAMvR,OAAS,EAC1BuR,EAAMqiE,EAAU,GAAG,IAAMtC,GACzB//D,EAAMqiE,EAAU,GAAG,IAAMtC,IAEvB//D,EAAMqiE,GAAS,GAAGh4D,UAAUrK,EAAMqiE,GAAS,GAAG5zE,OAC9CuR,EAAMqiE,EAAU,GAAG,GAAG5zE,SAAWuR,EAAMqiE,EAAU,GAAG,IAEtDriE,EAAMqiE,GAAS,GAAKriE,EAAMqiE,EAAU,GAAG,GACnCriE,EAAMqiE,GAAS,GAAGh4D,UAAU,EAAGrK,EAAMqiE,GAAS,GAAG5zE,OACrBuR,EAAMqiE,EAAU,GAAG,GAAG5zE,QACtDuR,EAAMqiE,EAAU,GAAG,GAAKriE,EAAMqiE,EAAU,GAAG,GAAKriE,EAAMqiE,EAAU,GAAG,GACnEriE,EAAM0M,OAAO21D,EAAU,EAAG,GAC1BzzC,GAAU,GACD5uB,EAAMqiE,GAAS,GAAGh4D,UAAU,EAAGrK,EAAMqiE,EAAU,GAAG,GAAG5zE,SAC5DuR,EAAMqiE,EAAU,GAAG,KAErBriE,EAAMqiE,EAAU,GAAG,IAAMriE,EAAMqiE,EAAU,GAAG,GAC5CriE,EAAMqiE,GAAS,GACXriE,EAAMqiE,GAAS,GAAGh4D,UAAUrK,EAAMqiE,EAAU,GAAG,GAAG5zE,QAClDuR,EAAMqiE,EAAU,GAAG,GACvBriE,EAAM0M,OAAO21D,EAAU,EAAG,GAC1BzzC,GAAU,IAGdyzC,IAGEzzC,GACF/+B,KAAKmxE,kBAAkBhhE,IAa3Bq/D,EAAiBjvE,UAAUm4E,YAAc,SAASvoE,EAAOwoE,GACvD,IAIInoE,EAJA0hE,EAAS,EACTC,EAAS,EACTyG,EAAc,EACdC,EAAc,EAElB,IAAKroE,EAAI,EAAGA,EAAIL,EAAMvR,OAAQ4R,IAAK,CAOjC,GANIL,EAAMK,GAAG,KAAOy/D,IAClBiC,GAAU/hE,EAAMK,GAAG,GAAG5R,QAEpBuR,EAAMK,GAAG,KAAOw/D,IAClBmC,GAAUhiE,EAAMK,GAAG,GAAG5R,QAEpBszE,EAASyG,EACX,MAEFC,EAAc1G,EACd2G,EAAc1G,EAGhB,OAAIhiE,EAAMvR,QAAU4R,GAAKL,EAAMK,GAAG,KAAOw/D,EAChC6I,EAGFA,GAAeF,EAAMC,IAS9BpJ,EAAiBjvE,UAAUu4E,gBAAkB,SAAS3oE,GAMpD,IALA,IAAI4oE,EAAO,GACPC,EAAc,KACdC,EAAa,KACbC,EAAa,KACbC,EAAe,MACV3oE,EAAI,EAAGA,EAAIL,EAAMvR,OAAQ4R,IAAK,CACrC,IAAIykB,EAAK9kB,EAAMK,GAAG,GACdxB,EAAOmB,EAAMK,GAAG,GAChBrN,EAAO6L,EAAKzN,QAAQy3E,EAAa,SAASz3E,QAAQ03E,EAAY,QAC7D13E,QAAQ23E,EAAY,QAAQ33E,QAAQ43E,EAAc,cACvD,OAAQlkD,GACN,KAAKg7C,EACH8I,EAAKvoE,GAAK,oCAAsCrN,EAAO,SACvD,MACF,KAAK6sE,EACH+I,EAAKvoE,GAAK,oCAAsCrN,EAAO,SACvD,MACF,KAAK+sE,EACH6I,EAAKvoE,GAAK,SAAWrN,EAAO,UAC5B,OAGN,OAAO41E,EAAKzjE,KAAK,KASnBk6D,EAAiBjvE,UAAU64E,WAAa,SAASjpE,GAE/C,IADA,IAAIhN,EAAO,GACFqN,EAAI,EAAGA,EAAIL,EAAMvR,OAAQ4R,IAC5BL,EAAMK,GAAG,KAAOy/D,IAClB9sE,EAAKqN,GAAKL,EAAMK,GAAG,IAGvB,OAAOrN,EAAKmS,KAAK,KASnBk6D,EAAiBjvE,UAAU84E,WAAa,SAASlpE,GAE/C,IADA,IAAIhN,EAAO,GACFqN,EAAI,EAAGA,EAAIL,EAAMvR,OAAQ4R,IAC5BL,EAAMK,GAAG,KAAOw/D,IAClB7sE,EAAKqN,GAAKL,EAAMK,GAAG,IAGvB,OAAOrN,EAAKmS,KAAK,KAUnBk6D,EAAiBjvE,UAAU+4E,iBAAmB,SAASnpE,GAIrD,IAHA,IAAIopE,EAAc,EACdC,EAAa,EACbC,EAAY,EACPjpE,EAAI,EAAGA,EAAIL,EAAMvR,OAAQ4R,IAAK,CACrC,IAAIykB,EAAK9kB,EAAMK,GAAG,GACdxB,EAAOmB,EAAMK,GAAG,GACpB,OAAQykB,GACN,KAAKg7C,EACHuJ,GAAcxqE,EAAKpQ,OACnB,MACF,KAAKoxE,EACHyJ,GAAazqE,EAAKpQ,OAClB,MACF,KAAKsxE,EAEHqJ,GAAep6E,KAAKgB,IAAIq5E,EAAYC,GACpCD,EAAa,EACbC,EAAY,EACZ,OAIN,OADAF,GAAep6E,KAAKgB,IAAIq5E,EAAYC,GAC7BF,GAYT/J,EAAiBjvE,UAAUm5E,aAAe,SAASvpE,GAEjD,IADA,IAAIhN,EAAO,GACFqN,EAAI,EAAGA,EAAIL,EAAMvR,OAAQ4R,IAChC,OAAQL,EAAMK,GAAG,IACf,KAAKy/D,EACH9sE,EAAKqN,GAAK,IAAMmpE,UAAUxpE,EAAMK,GAAG,IACnC,MACF,KAAKw/D,EACH7sE,EAAKqN,GAAK,IAAML,EAAMK,GAAG,GAAG5R,OAC5B,MACF,KAAKsxE,EACH/sE,EAAKqN,GAAK,IAAML,EAAMK,GAAG,GAAG5R,OAC5B,MAGN,OAAOuE,EAAKmS,KAAK,MAAM/T,QAAQ,OAAQ,MAYzCiuE,EAAiBjvE,UAAUq5E,eAAiB,SAASvJ,EAAO1gE,GAK1D,IAJA,IAAIQ,EAAQ,GACR0pE,EAAc,EACdrH,EAAU,EACV/+C,EAAS9jB,EAAMhR,MAAM,OAChB6R,EAAI,EAAGA,EAAIijB,EAAO70B,OAAQ4R,IAAK,CAGtC,IAAIspE,EAAQrmD,EAAOjjB,GAAGgK,UAAU,GAChC,OAAQiZ,EAAOjjB,GAAGhR,OAAO,IACvB,IAAK,IACH,IACE2Q,EAAM0pE,KACF,IAAIrK,EAAiBW,KAAKF,EAAa8J,UAAUD,IACrD,MAAOE,GAEP,MAAM,IAAIvlE,MAAM,qCAAuCqlE,GAEzD,MACF,IAAK,IAEL,IAAK,IACH,IAAIh4D,EAAIihB,SAAS+2C,EAAO,IACxB,GAAI72C,MAAMnhB,IAAMA,EAAI,EAClB,MAAM,IAAIrN,MAAM,qCAAuCqlE,GAEzD,IAAI32E,EAAOktE,EAAM71D,UAAUg4D,EAASA,GAAW1wD,GACpB,KAAvB2R,EAAOjjB,GAAGhR,OAAO,GACnB2Q,EAAM0pE,KAAiB,IAAIrK,EAAiBW,KAAKD,EAAY/sE,GAE7DgN,EAAM0pE,KAAiB,IAAIrK,EAAiBW,KAAKH,EAAa7sE,GAEhE,MACF,QAGE,GAAIswB,EAAOjjB,GACT,MAAM,IAAIiE,MAAM,6CACAgf,EAAOjjB,KAI/B,GAAIgiE,GAAWnC,EAAMzxE,OACnB,MAAM,IAAI6V,MAAM,iBAAmB+9D,EAC/B,wCAA0CnC,EAAMzxE,OAAS,MAE/D,OAAOuR,GAcTq/D,EAAiBjvE,UAAU05E,WAAa,SAAS92E,EAAM+sB,EAASyoD,GAE9D,GAAY,MAARx1E,GAA2B,MAAX+sB,GAA0B,MAAPyoD,EACrC,MAAM,IAAIlkE,MAAM,4BAIlB,OADAkkE,EAAMx5E,KAAKgB,IAAI,EAAGhB,KAAKe,IAAIy4E,EAAKx1E,EAAKvE,SACjCuE,GAAQ+sB,EAEH,EACG/sB,EAAKvE,OAGNuE,EAAKqX,UAAUm+D,EAAKA,EAAMzoD,EAAQtxB,SAAWsxB,EAE/CyoD,EAGA34E,KAAKk6E,aAAa/2E,EAAM+sB,EAASyoD,IANhC,GAoBZnJ,EAAiBjvE,UAAU25E,aAAe,SAAS/2E,EAAM+sB,EAASyoD,GAChE,GAAIzoD,EAAQtxB,OAASoB,KAAK+vE,cACxB,MAAM,IAAIt7D,MAAM,sCAIlB,IAAI0lE,EAAIn6E,KAAKo6E,gBAAgBlqD,GAEzBjiB,EAAMjO,KAUV,SAASq6E,EAAkBz1E,EAAG4L,GAC5B,IAAI8pE,EAAW11E,EAAIsrB,EAAQtxB,OACvB27E,EAAYp7E,KAAKksB,IAAIstD,EAAMnoE,GAC/B,OAAKvC,EAAI2hE,eAIF0K,EAAYC,EAAYtsE,EAAI2hE,eAF1B2K,EAAY,EAAMD,EAM7B,IAAIE,EAAkBx6E,KAAK2vE,gBAEvB8K,EAAWt3E,EAAKwB,QAAQurB,EAASyoD,IACpB,GAAb8B,IACFD,EAAkBr7E,KAAKe,IAAIm6E,EAAkB,EAAGI,GAAWD,GAE3DC,EAAWt3E,EAAKu3E,YAAYxqD,EAASyoD,EAAMzoD,EAAQtxB,SAClC,GAAb67E,IACFD,EACIr7E,KAAKe,IAAIm6E,EAAkB,EAAGI,GAAWD,KAKjD,IAGIG,EAASC,EAHTC,EAAY,GAAM3qD,EAAQtxB,OAAS,EACvC67E,GAAY,EAKZ,IAFA,IACIK,EADAC,EAAU7qD,EAAQtxB,OAASuE,EAAKvE,OAE3B+6B,EAAI,EAAGA,EAAIzJ,EAAQtxB,OAAQ+6B,IAAK,CAIvCghD,EAAU,EACVC,EAAUG,EACV,MAAOJ,EAAUC,EACXP,EAAkB1gD,EAAGg/C,EAAMiC,IAAYJ,EACzCG,EAAUC,EAEVG,EAAUH,EAEZA,EAAUz7E,KAAKC,OAAO27E,EAAUJ,GAAW,EAAIA,GAGjDI,EAAUH,EACV,IAAItxE,EAAQnK,KAAKgB,IAAI,EAAGw4E,EAAMiC,EAAU,GACpChiC,EAASz5C,KAAKe,IAAIy4E,EAAMiC,EAASz3E,EAAKvE,QAAUsxB,EAAQtxB,OAExDo8E,EAAK1mE,MAAMskC,EAAS,GACxBoiC,EAAGpiC,EAAS,IAAM,GAAKjf,GAAK,EAC5B,IAAK,IAAIzpB,EAAI0oC,EAAQ1oC,GAAK5G,EAAO4G,IAAK,CAGpC,IAAI+qE,EAAYd,EAAEh3E,EAAK3D,OAAO0Q,EAAI,IAQlC,GANE8qE,EAAG9qE,GADK,IAANypB,GACQqhD,EAAG9qE,EAAI,IAAM,EAAK,GAAK+qE,GAEtBD,EAAG9qE,EAAI,IAAM,EAAK,GAAK+qE,GACvBH,EAAQ5qE,EAAI,GAAK4qE,EAAQ5qE,KAAO,EAAK,EACxC4qE,EAAQ5qE,EAAI,GAElB8qE,EAAG9qE,GAAK2qE,EAAW,CACrB,IAAIr3D,EAAQ62D,EAAkB1gD,EAAGzpB,EAAI,GAGrC,GAAIsT,GAASg3D,EAAiB,CAI5B,GAFAA,EAAkBh3D,EAClBi3D,EAAWvqE,EAAI,IACXuqE,EAAW9B,GAKb,MAHArvE,EAAQnK,KAAKgB,IAAI,EAAG,EAAIw4E,EAAM8B,KAStC,GAAIJ,EAAkB1gD,EAAI,EAAGg/C,GAAO6B,EAClC,MAEFM,EAAUE,EAEZ,OAAOP,GAUTjL,EAAiBjvE,UAAU65E,gBAAkB,SAASlqD,GAEpD,IADA,IAAIiqD,EAAI,GACCp7E,EAAI,EAAGA,EAAImxB,EAAQtxB,OAAQG,IAClCo7E,EAAEjqD,EAAQ1wB,OAAOT,IAAM,EAEzB,IAASA,EAAI,EAAGA,EAAImxB,EAAQtxB,OAAQG,IAClCo7E,EAAEjqD,EAAQ1wB,OAAOT,KAAO,GAAMmxB,EAAQtxB,OAASG,EAAI,EAErD,OAAOo7E,GAcT3K,EAAiBjvE,UAAU26E,kBAAoB,SAAStsE,EAAOzL,GAC7D,GAAmB,GAAfA,EAAKvE,OAAT,CAGA,GAAqB,OAAjBgQ,EAAMiB,OACR,MAAM4E,MAAM,yBAEd,IAAIyb,EAAU/sB,EAAKqX,UAAU5L,EAAMiB,OAAQjB,EAAMiB,OAASjB,EAAMoB,SAC5Dw9B,EAAU,EAId,MAAOrqC,EAAKwB,QAAQurB,IAAY/sB,EAAKu3E,YAAYxqD,IAC1CA,EAAQtxB,OAASoB,KAAK+vE,cAAgB/vE,KAAK8vE,aAC3C9vE,KAAK8vE,aACVtiC,GAAWxtC,KAAK8vE,aAChB5/C,EAAU/sB,EAAKqX,UAAU5L,EAAMiB,OAAS29B,EACf5+B,EAAMiB,OAASjB,EAAMoB,QAAUw9B,GAG1DA,GAAWxtC,KAAK8vE,aAGhB,IAAIqL,EAASh4E,EAAKqX,UAAU5L,EAAMiB,OAAS29B,EAAS5+B,EAAMiB,QACtDsrE,GACFvsE,EAAMuB,MAAMmX,QAAQ,IAAIkoD,EAAiBW,KAAKD,EAAYiL,IAG5D,IAAIC,EAASj4E,EAAKqX,UAAU5L,EAAMiB,OAASjB,EAAMoB,QACrBpB,EAAMiB,OAASjB,EAAMoB,QAAUw9B,GACvD4tC,GACFxsE,EAAMuB,MAAM1D,KAAK,IAAI+iE,EAAiBW,KAAKD,EAAYkL,IAIzDxsE,EAAMgB,QAAUurE,EAAOv8E,OACvBgQ,EAAMiB,QAAUsrE,EAAOv8E,OAEvBgQ,EAAMoB,SAAWmrE,EAAOv8E,OAASw8E,EAAOx8E,OACxCgQ,EAAMqB,SAAWkrE,EAAOv8E,OAASw8E,EAAOx8E,SA0B1C4wE,EAAiBjvE,UAAUoO,WAAa,SAAS6R,EAAG66D,EAAOC,GACzD,IAAIjL,EAAOlgE,EACX,GAAgB,iBAALqQ,GAAiC,iBAAT66D,GACf,oBAATC,EAGTjL,EAA6B,EAC7BlgE,EAAQnQ,KAAKowE,UAAUC,EAA4B,GAAS,GACxDlgE,EAAMvR,OAAS,IACjBoB,KAAKuyE,qBAAqBpiE,GAC1BnQ,KAAKq4E,uBAAuBloE,SAEzB,GAAIqQ,GAAiB,iBAALA,GAAiC,oBAAT66D,GAC3B,oBAATC,EAGTnrE,EAAsD,EACtDkgE,EAAQrwE,KAAKo5E,WAAWjpE,QACnB,GAAgB,iBAALqQ,GAAiB66D,GAAyB,iBAATA,GAC/B,oBAATC,EAETjL,EAA6B,EAC7BlgE,EAAsD,MACjD,IAAgB,iBAALqQ,GAAiC,iBAAT66D,IACtCC,GAAyB,iBAATA,EAMlB,MAAM,IAAI7mE,MAAM,sCAHhB47D,EAA6B,EAC7BlgE,EAAsD,EAKxD,GAAqB,IAAjBA,EAAMvR,OACR,MAAO,GAYT,IAVA,IAAIsQ,EAAU,GACVN,EAAQ,IAAI4gE,EAAiB+L,UAC7BC,EAAkB,EAClBC,EAAc,EACdC,EAAc,EAIdC,EAAgBtL,EAChBuL,EAAiBvL,EACZ7/D,EAAI,EAAGA,EAAIL,EAAMvR,OAAQ4R,IAAK,CACrC,IAAIqrE,EAAY1rE,EAAMK,GAAG,GACrBsrE,EAAY3rE,EAAMK,GAAG,GAQzB,OANKgrE,GAAmBK,IAAc3L,IAEpCthE,EAAMgB,OAAS6rE,EACf7sE,EAAMiB,OAAS6rE,GAGTG,GACN,KAAK5L,EACHrhE,EAAMuB,MAAMqrE,KAAqBrrE,EAAMK,GACvC5B,EAAMqB,SAAW6rE,EAAUl9E,OAC3Bg9E,EAAiBA,EAAephE,UAAU,EAAGkhE,GAAeI,EAC3CF,EAAephE,UAAUkhE,GAC1C,MACF,KAAK1L,EACHphE,EAAMoB,SAAW8rE,EAAUl9E,OAC3BgQ,EAAMuB,MAAMqrE,KAAqBrrE,EAAMK,GACvCorE,EAAiBA,EAAephE,UAAU,EAAGkhE,GAC5BE,EAAephE,UAAUkhE,EACrBI,EAAUl9E,QAC/B,MACF,KAAKsxE,EACC4L,EAAUl9E,QAAU,EAAIoB,KAAK8vE,cAC7B0L,GAAmBrrE,EAAMvR,QAAU4R,EAAI,GAEzC5B,EAAMuB,MAAMqrE,KAAqBrrE,EAAMK,GACvC5B,EAAMoB,SAAW8rE,EAAUl9E,OAC3BgQ,EAAMqB,SAAW6rE,EAAUl9E,QAClBk9E,EAAUl9E,QAAU,EAAIoB,KAAK8vE,cAElC0L,IACFx7E,KAAKk7E,kBAAkBtsE,EAAO+sE,GAC9BzsE,EAAQzC,KAAKmC,GACbA,EAAQ,IAAI4gE,EAAiB+L,UAC7BC,EAAkB,EAKlBG,EAAgBC,EAChBH,EAAcC,GAGlB,MAIAG,IAAc5L,IAChBwL,GAAeK,EAAUl9E,QAEvBi9E,IAAc7L,IAChB0L,GAAeI,EAAUl9E,QAS7B,OALI48E,IACFx7E,KAAKk7E,kBAAkBtsE,EAAO+sE,GAC9BzsE,EAAQzC,KAAKmC,IAGRM,GASTsgE,EAAiBjvE,UAAUw7E,eAAiB,SAAS7sE,GAGnD,IADA,IAAI8sE,EAAc,GACTxrE,EAAI,EAAGA,EAAItB,EAAQtQ,OAAQ4R,IAAK,CACvC,IAAI5B,EAAQM,EAAQsB,GAChByrE,EAAY,IAAIzM,EAAiB+L,UACrCU,EAAU9rE,MAAQ,GAClB,IAAK,IAAIM,EAAI,EAAGA,EAAI7B,EAAMuB,MAAMvR,OAAQ6R,IACtCwrE,EAAU9rE,MAAMM,GACZ,IAAI++D,EAAiBW,KAAKvhE,EAAMuB,MAAMM,GAAG,GAAI7B,EAAMuB,MAAMM,GAAG,IAElEwrE,EAAUrsE,OAAShB,EAAMgB,OACzBqsE,EAAUpsE,OAASjB,EAAMiB,OACzBosE,EAAUjsE,QAAUpB,EAAMoB,QAC1BisE,EAAUhsE,QAAUrB,EAAMqB,QAC1B+rE,EAAYxrE,GAAKyrE,EAEnB,OAAOD,GAYTxM,EAAiBjvE,UAAUiP,YAAc,SAASN,EAAS/L,GACzD,GAAsB,GAAlB+L,EAAQtQ,OACV,MAAO,CAACuE,EAAM,IAIhB+L,EAAUlP,KAAK+7E,eAAe7sE,GAE9B,IAAIgtE,EAAcl8E,KAAKm8E,iBAAiBjtE,GACxC/L,EAAO+4E,EAAc/4E,EAAO+4E,EAE5Bl8E,KAAKo8E,eAAeltE,GAOpB,IAFA,IAAIS,EAAQ,EACR0sE,EAAU,GACL7rE,EAAI,EAAGA,EAAItB,EAAQtQ,OAAQ4R,IAAK,CACvC,IAEI8rE,EA4BEhM,EA9BFiM,EAAertE,EAAQsB,GAAGX,OAASF,EACnC0gE,EAAQrwE,KAAKo5E,WAAWlqE,EAAQsB,GAAGL,OAEnCqsE,GAAW,EAkBf,GAjBInM,EAAMzxE,OAASoB,KAAK+vE,eAGtBuM,EAAYt8E,KAAKi6E,WAAW92E,EAAMktE,EAAM71D,UAAU,EAAGxa,KAAK+vE,eAC9BwM,IACV,GAAdD,IACFE,EAAUx8E,KAAKi6E,WAAW92E,EACtBktE,EAAM71D,UAAU61D,EAAMzxE,OAASoB,KAAK+vE,eACpCwM,EAAelM,EAAMzxE,OAASoB,KAAK+vE,iBACvB,GAAZyM,GAAiBF,GAAaE,KAEhCF,GAAa,KAIjBA,EAAYt8E,KAAKi6E,WAAW92E,EAAMktE,EAAOkM,IAEzB,GAAdD,EAEFD,EAAQ7rE,IAAK,EAEbb,GAAST,EAAQsB,GAAGP,QAAUf,EAAQsB,GAAGR,aAWzC,GARAqsE,EAAQ7rE,IAAK,EACbb,EAAQ2sE,EAAYC,EAGlBjM,GADc,GAAZkM,EACMr5E,EAAKqX,UAAU8hE,EAAWA,EAAYjM,EAAMzxE,QAE5CuE,EAAKqX,UAAU8hE,EAAWE,EAAUx8E,KAAK+vE,eAE/CM,GAASC,EAEXntE,EAAOA,EAAKqX,UAAU,EAAG8hE,GAClBt8E,KAAKq5E,WAAWnqE,EAAQsB,GAAGL,OAC3BhN,EAAKqX,UAAU8hE,EAAYjM,EAAMzxE,YACnC,CAGL,IAAIuR,EAAQnQ,KAAKowE,UAAUC,EAAOC,GAAO,GACzC,GAAID,EAAMzxE,OAASoB,KAAK+vE,eACpB/vE,KAAKs5E,iBAAiBnpE,GAASkgE,EAAMzxE,OACrCoB,KAAK6vE,sBAEPwM,EAAQ7rE,IAAK,MACR,CACLxQ,KAAKq2E,6BAA6BlmE,GAGlC,IAFA,IACIssE,EADAC,EAAS,EAEJjsE,EAAI,EAAGA,EAAIvB,EAAQsB,GAAGL,MAAMvR,OAAQ6R,IAAK,CAChD,IAAIxP,EAAMiO,EAAQsB,GAAGL,MAAMM,GACvBxP,EAAI,KAAOivE,IACbuM,EAASz8E,KAAK04E,YAAYvoE,EAAOusE,IAE/Bz7E,EAAI,KAAOgvE,EACb9sE,EAAOA,EAAKqX,UAAU,EAAG8hE,EAAYG,GAAUx7E,EAAI,GAC5CkC,EAAKqX,UAAU8hE,EAAYG,GACzBx7E,EAAI,KAAO+uE,IACpB7sE,EAAOA,EAAKqX,UAAU,EAAG8hE,EAAYG,GAC9Bt5E,EAAKqX,UAAU8hE,EAAYt8E,KAAK04E,YAAYvoE,EACxCusE,EAASz7E,EAAI,GAAGrC,UAEzBqC,EAAI,KAAO+uE,IACb0M,GAAUz7E,EAAI,GAAGrC,WAS7B,OADAuE,EAAOA,EAAKqX,UAAU0hE,EAAYt9E,OAAQuE,EAAKvE,OAASs9E,EAAYt9E,QAC7D,CAACuE,EAAMk5E,IAUhB7M,EAAiBjvE,UAAU47E,iBAAmB,SAASjtE,GAGrD,IAFA,IAAIytE,EAAgB38E,KAAK8vE,aACrBoM,EAAc,GACT1rE,EAAI,EAAGA,GAAKmsE,EAAensE,IAClC0rE,GAAevhE,OAAOC,aAAapK,GAIrC,IAASA,EAAI,EAAGA,EAAItB,EAAQtQ,OAAQ4R,IAClCtB,EAAQsB,GAAGZ,QAAU+sE,EACrBztE,EAAQsB,GAAGX,QAAU8sE,EAIvB,IAAI/tE,EAAQM,EAAQ,GAChBiB,EAAQvB,EAAMuB,MAClB,GAAoB,GAAhBA,EAAMvR,QAAeuR,EAAM,GAAG,IAAM+/D,EAEtC//D,EAAMmX,QAAQ,IAAIkoD,EAAiBW,KAAKD,EAAYgM,IACpDttE,EAAMgB,QAAU+sE,EAChB/tE,EAAMiB,QAAU8sE,EAChB/tE,EAAMoB,SAAW2sE,EACjB/tE,EAAMqB,SAAW0sE,OACZ,GAAIA,EAAgBxsE,EAAM,GAAG,GAAGvR,OAAQ,CAE7C,IAAIg+E,EAAcD,EAAgBxsE,EAAM,GAAG,GAAGvR,OAC9CuR,EAAM,GAAG,GAAK+rE,EAAY1hE,UAAUrK,EAAM,GAAG,GAAGvR,QAAUuR,EAAM,GAAG,GACnEvB,EAAMgB,QAAUgtE,EAChBhuE,EAAMiB,QAAU+sE,EAChBhuE,EAAMoB,SAAW4sE,EACjBhuE,EAAMqB,SAAW2sE,EAMnB,GAFAhuE,EAAQM,EAAQA,EAAQtQ,OAAS,GACjCuR,EAAQvB,EAAMuB,MACM,GAAhBA,EAAMvR,QAAeuR,EAAMA,EAAMvR,OAAS,GAAG,IAAMsxE,EAErD//D,EAAM1D,KAAK,IAAI+iE,EAAiBW,KAAKD,EAAYgM,IACjDttE,EAAMoB,SAAW2sE,EACjB/tE,EAAMqB,SAAW0sE,OACZ,GAAIA,EAAgBxsE,EAAMA,EAAMvR,OAAS,GAAG,GAAGA,OAAQ,CAExDg+E,EAAcD,EAAgBxsE,EAAMA,EAAMvR,OAAS,GAAG,GAAGA,OAC7DuR,EAAMA,EAAMvR,OAAS,GAAG,IAAMs9E,EAAY1hE,UAAU,EAAGoiE,GACvDhuE,EAAMoB,SAAW4sE,EACjBhuE,EAAMqB,SAAW2sE,EAGnB,OAAOV,GAUT1M,EAAiBjvE,UAAU67E,eAAiB,SAASltE,GAEnD,IADA,IAAI2tE,EAAa78E,KAAK+vE,cACbv/D,EAAI,EAAGA,EAAItB,EAAQtQ,OAAQ4R,IAClC,KAAItB,EAAQsB,GAAGR,SAAW6sE,GAA1B,CAGA,IAAIC,EAAW5tE,EAAQsB,GAEvBtB,EAAQ2N,OAAOrM,IAAK,GACpB,IAAIZ,EAASktE,EAASltE,OAClBC,EAASitE,EAASjtE,OAClBktE,EAAa,GACjB,MAAiC,IAA1BD,EAAS3sE,MAAMvR,OAAc,CAElC,IAAIgQ,EAAQ,IAAI4gE,EAAiB+L,UAC7B7vE,GAAQ,EACZkD,EAAMgB,OAASA,EAASmtE,EAAWn+E,OACnCgQ,EAAMiB,OAASA,EAASktE,EAAWn+E,OAChB,KAAfm+E,IACFnuE,EAAMoB,QAAUpB,EAAMqB,QAAU8sE,EAAWn+E,OAC3CgQ,EAAMuB,MAAM1D,KAAK,IAAI+iE,EAAiBW,KAAKD,EAAY6M,KAEzD,MAAiC,IAA1BD,EAAS3sE,MAAMvR,QACfgQ,EAAMoB,QAAU6sE,EAAa78E,KAAK8vE,aAAc,CACrD,IAAI+L,EAAYiB,EAAS3sE,MAAM,GAAG,GAC9B2rE,EAAYgB,EAAS3sE,MAAM,GAAG,GAC9B0rE,IAAc5L,GAEhBrhE,EAAMqB,SAAW6rE,EAAUl9E,OAC3BiR,GAAUisE,EAAUl9E,OACpBgQ,EAAMuB,MAAM1D,KAAKqwE,EAAS3sE,MAAMd,SAChC3D,GAAQ,GACCmwE,IAAc7L,GAAqC,GAAtBphE,EAAMuB,MAAMvR,QACzCgQ,EAAMuB,MAAM,GAAG,IAAM+/D,GACrB4L,EAAUl9E,OAAS,EAAIi+E,GAEhCjuE,EAAMoB,SAAW8rE,EAAUl9E,OAC3BgR,GAAUksE,EAAUl9E,OACpB8M,GAAQ,EACRkD,EAAMuB,MAAM1D,KAAK,IAAI+iE,EAAiBW,KAAK0L,EAAWC,IACtDgB,EAAS3sE,MAAMd,UAGfysE,EAAYA,EAAUthE,UAAU,EAC5BqiE,EAAajuE,EAAMoB,QAAUhQ,KAAK8vE,cACtClhE,EAAMoB,SAAW8rE,EAAUl9E,OAC3BgR,GAAUksE,EAAUl9E,OAChBi9E,IAAc3L,GAChBthE,EAAMqB,SAAW6rE,EAAUl9E,OAC3BiR,GAAUisE,EAAUl9E,QAEpB8M,GAAQ,EAEVkD,EAAMuB,MAAM1D,KAAK,IAAI+iE,EAAiBW,KAAK0L,EAAWC,IAClDA,GAAagB,EAAS3sE,MAAM,GAAG,GACjC2sE,EAAS3sE,MAAMd,QAEfytE,EAAS3sE,MAAM,GAAG,GACd2sE,EAAS3sE,MAAM,GAAG,GAAGqK,UAAUshE,EAAUl9E,SAKnDm+E,EAAa/8E,KAAKq5E,WAAWzqE,EAAMuB,OACnC4sE,EACIA,EAAWviE,UAAUuiE,EAAWn+E,OAASoB,KAAK8vE,cAElD,IAAIkN,EAAch9E,KAAKo5E,WAAW0D,EAAS3sE,OACpBqK,UAAU,EAAGxa,KAAK8vE,cACrB,KAAhBkN,IACFpuE,EAAMoB,SAAWgtE,EAAYp+E,OAC7BgQ,EAAMqB,SAAW+sE,EAAYp+E,OACF,IAAvBgQ,EAAMuB,MAAMvR,QACZgQ,EAAMuB,MAAMvB,EAAMuB,MAAMvR,OAAS,GAAG,KAAOsxE,EAC7CthE,EAAMuB,MAAMvB,EAAMuB,MAAMvR,OAAS,GAAG,IAAMo+E,EAE1CpuE,EAAMuB,MAAM1D,KAAK,IAAI+iE,EAAiBW,KAAKD,EAAY8M,KAGtDtxE,GACHwD,EAAQ2N,SAASrM,EAAG,EAAG5B,MAY/B4gE,EAAiBjvE,UAAU08E,aAAe,SAAS/tE,GAEjD,IADA,IAAI/L,EAAO,GACFqN,EAAI,EAAGA,EAAItB,EAAQtQ,OAAQ4R,IAClCrN,EAAKqN,GAAKtB,EAAQsB,GAEpB,OAAOrN,EAAKmS,KAAK,KAUnBk6D,EAAiBjvE,UAAU28E,eAAiB,SAASC,GACnD,IAAIjuE,EAAU,GACd,IAAKiuE,EACH,OAAOjuE,EAET,IAAI/L,EAAOg6E,EAASx+E,MAAM,MACtBy+E,EAAc,EACdC,EAAc,uCAClB,MAAOD,EAAcj6E,EAAKvE,OAAQ,CAChC,IAAIue,EAAIha,EAAKi6E,GAAar7E,MAAMs7E,GAChC,IAAKlgE,EACH,MAAM,IAAI1I,MAAM,yBAA2BtR,EAAKi6E,IAElD,IAAIxuE,EAAQ,IAAI4gE,EAAiB+L,UACjCrsE,EAAQzC,KAAKmC,GACbA,EAAMgB,OAASmzB,SAAS5lB,EAAE,GAAI,IACjB,KAATA,EAAE,IACJvO,EAAMgB,SACNhB,EAAMoB,QAAU,GACC,KAARmN,EAAE,GACXvO,EAAMoB,QAAU,GAEhBpB,EAAMgB,SACNhB,EAAMoB,QAAU+yB,SAAS5lB,EAAE,GAAI,KAGjCvO,EAAMiB,OAASkzB,SAAS5lB,EAAE,GAAI,IACjB,KAATA,EAAE,IACJvO,EAAMiB,SACNjB,EAAMqB,QAAU,GACC,KAARkN,EAAE,GACXvO,EAAMqB,QAAU,GAEhBrB,EAAMiB,SACNjB,EAAMqB,QAAU8yB,SAAS5lB,EAAE,GAAI,KAEjCigE,IAEA,MAAOA,EAAcj6E,EAAKvE,OAAQ,CAChC,IAAI0+E,EAAOn6E,EAAKi6E,GAAa59E,OAAO,GACpC,IACE,IAAI8G,EAAOyzE,UAAU52E,EAAKi6E,GAAa5iE,UAAU,IACjD,MAAOw/D,GAEP,MAAM,IAAIvlE,MAAM,qCAAuCnO,GAEzD,GAAY,KAARg3E,EAEF1uE,EAAMuB,MAAM1D,KAAK,IAAI+iE,EAAiBW,KAAKH,EAAa1pE,SACnD,GAAY,KAARg3E,EAET1uE,EAAMuB,MAAM1D,KAAK,IAAI+iE,EAAiBW,KAAKF,EAAa3pE,SACnD,GAAY,KAARg3E,EAET1uE,EAAMuB,MAAM1D,KAAK,IAAI+iE,EAAiBW,KAAKD,EAAY5pE,QAClD,IAAY,KAARg3E,EAET,MACK,GAAa,KAATA,EAIT,MAAM,IAAI7oE,MAAM,uBAAyB6oE,EAAO,SAAWh3E,GAE7D82E,KAGJ,OAAOluE,GAQTsgE,EAAiB+L,UAAY,WAE3Bv7E,KAAKmQ,MAAQ,GAEbnQ,KAAK4P,OAAS,KAEd5P,KAAK6P,OAAS,KAEd7P,KAAKgQ,QAAU,EAEfhQ,KAAKiQ,QAAU,GAUjBu/D,EAAiB+L,UAAUh7E,UAAUsY,SAAW,WAC9C,IAAI0kE,EAASC,EAEXD,EADmB,IAAjBv9E,KAAKgQ,QACGhQ,KAAK4P,OAAS,KACC,GAAhB5P,KAAKgQ,QACJhQ,KAAK4P,OAAS,EAEb5P,KAAK4P,OAAS,EAAK,IAAM5P,KAAKgQ,QAGzCwtE,EADmB,IAAjBx9E,KAAKiQ,QACGjQ,KAAK6P,OAAS,KACC,GAAhB7P,KAAKiQ,QACJjQ,KAAK6P,OAAS,EAEb7P,KAAK6P,OAAS,EAAK,IAAM7P,KAAKiQ,QAK3C,IAHA,IACIglB,EADA9xB,EAAO,CAAC,OAASo6E,EAAU,KAAOC,EAAU,SAGvChtE,EAAI,EAAGA,EAAIxQ,KAAKmQ,MAAMvR,OAAQ4R,IAAK,CAC1C,OAAQxQ,KAAKmQ,MAAMK,GAAG,IACpB,KAAKy/D,EACHh7C,EAAK,IACL,MACF,KAAK+6C,EACH/6C,EAAK,IACL,MACF,KAAKi7C,EACHj7C,EAAK,IACL,MAEJ9xB,EAAKqN,EAAI,GAAKykB,EAAK0kD,UAAU35E,KAAKmQ,MAAMK,GAAG,IAAM,KAEnD,OAAOrN,EAAKmS,KAAK,IAAI/T,QAAQ,OAAQ,MAKvC3B,EAAOC,QAAU2vE,EACjB5vE,EAAOC,QAAQ,oBAAsB2vE,EACrC5vE,EAAOC,QAAQ,eAAiBmwE,EAChCpwE,EAAOC,QAAQ,eAAiBowE,EAChCrwE,EAAOC,QAAQ,cAAgBqwE,G,kCCxqE/B,IAAIhB,EAAiB,EAAQ,QAAuCjrE,EAChEqU,EAAS,EAAQ,QACjBmlE,EAAc,EAAQ,QACtBvrE,EAAO,EAAQ,QACfwrE,EAAa,EAAQ,QACrBC,EAAU,EAAQ,QAClBC,EAAiB,EAAQ,QACzBC,EAAa,EAAQ,QACrBC,EAAc,EAAQ,QACtBC,EAAU,EAAQ,QAAkCA,QACpDC,EAAsB,EAAQ,QAE9BC,EAAmBD,EAAoBx7D,IACvC07D,EAAyBF,EAAoBG,UAEjDv+E,EAAOC,QAAU,CACfu+E,eAAgB,SAAU13E,EAAS23E,EAAkBC,EAAQC,GAC3D,IAAInP,EAAc1oE,GAAQ,SAAU83E,EAAMC,GACxCf,EAAWc,EAAME,GACjBT,EAAiBO,EAAM,CACrB51E,KAAMy1E,EACNn8E,MAAOoW,EAAO,MACdgV,WAAOtR,EACPmT,UAAMnT,EACNuR,KAAM,IAEHuwD,IAAaU,EAAKjxD,KAAO,QACdvR,GAAZyiE,GAAuBd,EAAQc,EAAUD,EAAKD,GAAQ,CAAEC,KAAMA,EAAMG,WAAYL,OAGlFI,EAAYtP,EAAY7uE,UAExBq+E,EAAmBV,EAAuBG,GAE1CQ,EAAS,SAAUL,EAAMn2E,EAAK7E,GAChC,IAEIs7E,EAAU58E,EAFVS,EAAQi8E,EAAiBJ,GACzBO,EAAQC,EAASR,EAAMn2E,GAqBzB,OAlBE02E,EACFA,EAAMv7E,MAAQA,GAGdb,EAAMwsB,KAAO4vD,EAAQ,CACnB78E,MAAOA,EAAQ67E,EAAQ11E,GAAK,GAC5BA,IAAKA,EACL7E,MAAOA,EACPs7E,SAAUA,EAAWn8E,EAAMwsB,KAC3BhiB,UAAM6O,EACNsrC,SAAS,GAEN3kD,EAAM2qB,QAAO3qB,EAAM2qB,MAAQyxD,GAC5BD,IAAUA,EAAS3xE,KAAO4xE,GAC1BjB,EAAan7E,EAAM4qB,OAClBixD,EAAKjxD,OAEI,MAAVrrB,IAAeS,EAAMT,MAAMA,GAAS68E,IACjCP,GAGPQ,EAAW,SAAUR,EAAMn2E,GAC7B,IAGI02E,EAHAp8E,EAAQi8E,EAAiBJ,GAEzBt8E,EAAQ67E,EAAQ11E,GAEpB,GAAc,MAAVnG,EAAe,OAAOS,EAAMT,MAAMA,GAEtC,IAAK68E,EAAQp8E,EAAM2qB,MAAOyxD,EAAOA,EAAQA,EAAM5xE,KAC7C,GAAI4xE,EAAM12E,KAAOA,EAAK,OAAO02E,GAwFjC,OApFAtB,EAAYiB,EAAW,CAIrBt5E,MAAO,WACL,IAAIo5E,EAAOx+E,KACP2C,EAAQi8E,EAAiBJ,GACzBxvE,EAAOrM,EAAMT,MACb68E,EAAQp8E,EAAM2qB,MAClB,MAAOyxD,EACLA,EAAMz3B,SAAU,EACZy3B,EAAMD,WAAUC,EAAMD,SAAWC,EAAMD,SAAS3xE,UAAO6O,UACpDhN,EAAK+vE,EAAM78E,OAClB68E,EAAQA,EAAM5xE,KAEhBxK,EAAM2qB,MAAQ3qB,EAAMwsB,UAAOnT,EACvB8hE,EAAan7E,EAAM4qB,KAAO,EACzBixD,EAAKjxD,KAAO,GAKnB,OAAU,SAAUllB,GAClB,IAAIm2E,EAAOx+E,KACP2C,EAAQi8E,EAAiBJ,GACzBO,EAAQC,EAASR,EAAMn2E,GAC3B,GAAI02E,EAAO,CACT,IAAI5xE,EAAO4xE,EAAM5xE,KACb1O,EAAOsgF,EAAMD,gBACVn8E,EAAMT,MAAM68E,EAAM78E,OACzB68E,EAAMz3B,SAAU,EACZ7oD,IAAMA,EAAK0O,KAAOA,GAClBA,IAAMA,EAAK2xE,SAAWrgF,GACtBkE,EAAM2qB,OAASyxD,IAAOp8E,EAAM2qB,MAAQngB,GACpCxK,EAAMwsB,MAAQ4vD,IAAOp8E,EAAMwsB,KAAO1wB,GAClCq/E,EAAan7E,EAAM4qB,OAClBixD,EAAKjxD,OACV,QAASwxD,GAKbtmE,QAAS,SAAiBwmE,GACxB,IAEIF,EAFAp8E,EAAQi8E,EAAiB5+E,MACzBk/E,EAAgBhtE,EAAK+sE,EAAY32E,UAAU1J,OAAS,EAAI0J,UAAU,QAAK0T,GAE3E,MAAO+iE,EAAQA,EAAQA,EAAM5xE,KAAOxK,EAAM2qB,MAAO,CAC/C4xD,EAAcH,EAAMv7E,MAAOu7E,EAAM12E,IAAKrI,MAEtC,MAAO++E,GAASA,EAAMz3B,QAASy3B,EAAQA,EAAMD,WAMjDzpD,IAAK,SAAahtB,GAChB,QAAS22E,EAASh/E,KAAMqI,MAI5Bo1E,EAAYiB,EAAWJ,EAAS,CAG9Bh2C,IAAK,SAAajgC,GAChB,IAAI02E,EAAQC,EAASh/E,KAAMqI,GAC3B,OAAO02E,GAASA,EAAMv7E,OAIxBgf,IAAK,SAAana,EAAK7E,GACrB,OAAOq7E,EAAO7+E,KAAc,IAARqI,EAAY,EAAIA,EAAK7E,KAEzC,CAGF8xB,IAAK,SAAa9xB,GAChB,OAAOq7E,EAAO7+E,KAAMwD,EAAkB,IAAVA,EAAc,EAAIA,EAAOA,MAGrDs6E,GAAa5O,EAAewP,EAAW,OAAQ,CACjDp2C,IAAK,WACH,OAAOs2C,EAAiB5+E,MAAMutB,QAG3B6hD,GAET+P,UAAW,SAAU/P,EAAaiP,EAAkBC,GAClD,IAAIc,EAAgBf,EAAmB,YACnCgB,EAA6BnB,EAAuBG,GACpDiB,EAA2BpB,EAAuBkB,GAUtDxB,EAAexO,EAAaiP,GAAkB,SAAUkB,EAAUC,GAChEvB,EAAiBj+E,KAAM,CACrB4I,KAAMw2E,EACNjnE,OAAQonE,EACR58E,MAAO08E,EAA2BE,GAClCC,KAAMA,EACNrwD,UAAMnT,OAEP,WACD,IAAIrZ,EAAQ28E,EAAyBt/E,MACjCw/E,EAAO78E,EAAM68E,KACbT,EAAQp8E,EAAMwsB,KAElB,MAAO4vD,GAASA,EAAMz3B,QAASy3B,EAAQA,EAAMD,SAE7C,OAAKn8E,EAAMwV,SAAYxV,EAAMwsB,KAAO4vD,EAAQA,EAAQA,EAAM5xE,KAAOxK,EAAMA,MAAM2qB,OAMjE,QAARkyD,EAAuB,CAAEh8E,MAAOu7E,EAAM12E,IAAKu5C,MAAM,GACzC,UAAR49B,EAAyB,CAAEh8E,MAAOu7E,EAAMv7E,MAAOo+C,MAAM,GAClD,CAAEp+C,MAAO,CAACu7E,EAAM12E,IAAK02E,EAAMv7E,OAAQo+C,MAAM,IAN9Cj/C,EAAMwV,YAAS6D,EACR,CAAExY,WAAOwY,EAAW4lC,MAAM,MAMlC08B,EAAS,UAAY,UAAWA,GAAQ,GAK3CT,EAAWQ,M,oCCxMf,IAAInmE,EAAI,EAAQ,QACZ1W,EAAS,EAAQ,QACjBi+E,EAAc,EAAQ,QACtBC,EAAW,EAAQ,QACnBC,EAAW,EAAQ,QACnBC,EAAyB,EAAQ,QACjCjC,EAAU,EAAQ,QAClBD,EAAa,EAAQ,QACrBmC,EAAa,EAAQ,QACrBC,EAAW,EAAQ,QACnBC,EAAQ,EAAQ,QAChBC,EAA8B,EAAQ,QACtCC,EAAiB,EAAQ,QACzBC,EAAoB,EAAQ,QAEhCtgF,EAAOC,QAAU,SAAUw+E,EAAkB33E,EAASy5E,GACpD,IAAI7B,GAA8C,IAArCD,EAAiB15E,QAAQ,OAClCy7E,GAAgD,IAAtC/B,EAAiB15E,QAAQ,QACnC45E,EAAQD,EAAS,MAAQ,MACzB+B,EAAoB7+E,EAAO68E,GAC3BiC,EAAkBD,GAAqBA,EAAkB9/E,UACzD6uE,EAAciR,EACdE,EAAW,GAEXC,EAAY,SAAUC,GACxB,IAAIC,EAAwBjB,EAAYa,EAAgBG,IACxDd,EAASW,EAAiBG,EACjB,OAAPA,EAAe,SAAaj9E,GAE1B,OADAk9E,EAAsB1gF,KAAgB,IAAVwD,EAAc,EAAIA,GACvCxD,MACE,UAAPygF,EAAkB,SAAUp4E,GAC9B,QAAO+3E,IAAYN,EAASz3E,KAAeq4E,EAAsB1gF,KAAc,IAARqI,EAAY,EAAIA,IAC9E,OAAPo4E,EAAe,SAAap4E,GAC9B,OAAO+3E,IAAYN,EAASz3E,QAAO2T,EAAY0kE,EAAsB1gF,KAAc,IAARqI,EAAY,EAAIA,IAClF,OAAPo4E,EAAe,SAAap4E,GAC9B,QAAO+3E,IAAYN,EAASz3E,KAAeq4E,EAAsB1gF,KAAc,IAARqI,EAAY,EAAIA,IACrF,SAAaA,EAAK7E,GAEpB,OADAk9E,EAAsB1gF,KAAc,IAARqI,EAAY,EAAIA,EAAK7E,GAC1CxD,QAKT2gF,EAAUjB,EACZrB,GACCwB,EAAWQ,MAAwBD,GAAWE,EAAgB7nE,UAAYsnE,GAAM,YAC/E,IAAIM,GAAoBO,UAAUzzE,YAItC,GAAIwzE,EAEFvR,EAAc+Q,EAAO/B,eAAe13E,EAAS23E,EAAkBC,EAAQC,GACvEqB,EAAuBiB,cAClB,GAAInB,EAASrB,GAAkB,GAAO,CAC3C,IAAIyC,EAAW,IAAI1R,EAEf2R,EAAiBD,EAASvC,GAAO6B,EAAU,IAAM,EAAG,IAAMU,EAE1DE,EAAuBjB,GAAM,WAAce,EAASzrD,IAAI,MAGxD4rD,EAAmBjB,GAA4B,SAAUvB,GAAY,IAAI4B,EAAkB5B,MAE3FyC,GAAcd,GAAWL,GAAM,WAEjC,IAAIoB,EAAY,IAAId,EAChBn+E,EAAQ,EACZ,MAAOA,IAASi/E,EAAU5C,GAAOr8E,EAAOA,GACxC,OAAQi/E,EAAU9rD,KAAK,MAGpB4rD,IACH7R,EAAc1oE,GAAQ,SAAU06E,EAAO3C,GACrCf,EAAW0D,EAAOd,GAClB,IAAI9B,EAAO0B,EAAkB,IAAIG,EAAqBe,EAAOhS,GAE7D,YADgBpzD,GAAZyiE,GAAuBd,EAAQc,EAAUD,EAAKD,GAAQ,CAAEC,KAAMA,EAAMG,WAAYL,IAC7EE,KAETpP,EAAY7uE,UAAY+/E,EACxBA,EAAgBl1B,YAAcgkB,IAG5B4R,GAAwBE,KAC1BV,EAAU,UACVA,EAAU,OACVlC,GAAUkC,EAAU,SAGlBU,GAAcH,IAAgBP,EAAUjC,GAGxC6B,GAAWE,EAAgBl7E,cAAck7E,EAAgBl7E,MAU/D,OAPAm7E,EAASlC,GAAoBjP,EAC7Bl3D,EAAE,CAAE1W,QAAQ,EAAM6/E,OAAQjS,GAAeiR,GAAqBE,GAE9DN,EAAe7Q,EAAaiP,GAEvB+B,GAASD,EAAOhB,UAAU/P,EAAaiP,EAAkBC,GAEvDlP,I,sBCpGT,SAAUnuE,GAENA,EAAI,EAAQ,UAFhB,EAOG,SAASC,GACV,aAEA,IAAIogF,EAAY,GACZC,EAAQ,cACR95E,EAAMvG,EAAWuG,IAAKmnB,EAAM1tB,EAAW6L,OAE3C,SAAS6sD,EAAWt6D,GAClB,IAAIwlB,EAAQxlB,EAAIsD,OAAO2+E,GACvB,OAAiB,GAAVz8D,EAAc,EAAIA,EA4B3B,SAAS08D,EAAqB9+E,EAAIZ,EAAKwE,GACrC,MAAO,aAAazB,KAAKnC,EAAG0K,eAAe3F,EAAI3F,EAAIwE,KAAM,OAAS,YAAYzB,KAAKyB,GAGrF,SAASwlB,EAAQppB,EAAIZ,GACnB,IAAIuJ,EAAO3I,EAAGopB,UACd,OAAiC,IAA1BzgB,EAAKo2E,kBAA+Bp2E,EAAKqhB,UAAmBhqB,EAAG4I,UAAUxJ,GAApBuJ,EA/B9DnK,EAAWuI,SAASi4E,cAAgB,SAASh/E,GAC3CA,EAAGg/E,iBAGLxgF,EAAWqV,gBAAgB,iBAAiB,SAASzS,GAC9CA,IAASA,EAAUw9E,GAGxB,IAFA,IAAI5+E,EAAK1C,KACL2hF,EAAUvkD,IAAU5xB,EAASxL,KAAKyL,iBAAkBJ,EAAO,KACtDtM,EAAIyM,EAAO5M,OAAS,EAAGG,GAAK,EAAGA,IAAK,CAC3C,IAAI8I,EAAO2D,EAAOzM,GAAG8I,OAAQxB,EAAKmF,EAAOzM,GAAGsH,KACxCwB,EAAKvB,MAAQq7E,IACbt7E,EAAGC,MAAQq7E,IAASt7E,EAAKoB,EAAIk6E,EAAS,IAC1CA,EAAU95E,EAAKvB,KACH,MAAR+E,EACE3I,EAAGk/E,UAAU/5E,EAAMxB,EAAIvC,GAAUuH,EAAO,MACrC3I,EAAGm/E,YAAYh6E,EAAMxB,EAAIvC,GAAUuH,EAAO,QAChC,MAARA,EACT3I,EAAGk/E,UAAU/5E,EAAMxB,EAAIvC,GAEvBpB,EAAGm/E,YAAYh6E,EAAMxB,EAAIvC,QAe/B5C,EAAWqV,gBAAgB,eAAe,SAAS1O,EAAMxB,EAAIvC,GACtDA,IAASA,EAAUw9E,GACxB,IAAI3rE,EAAO3V,KAAMqL,EAAOygB,EAAQnW,EAAM9N,GAClCF,EAAYgO,EAAKyX,QAAQvlB,EAAKvB,MAClC,GAAiB,MAAbqB,IAAqB65E,EAAqB7rE,EAAM9N,EAAMF,GAA1D,CAEA,IAAIm6E,EAAgBh+E,EAAQ+9E,aAAex2E,EAAKw2E,YAChD,GAAKC,EAAL,CAQA,IAAI1sE,EAAMjW,KAAKe,IAAa,GAATmG,EAAG7B,IAAW6B,EAAGC,MAAQuB,EAAKvB,KAAOD,EAAGC,KAAO,EAAID,EAAGC,KAAMqP,EAAKjO,WAAa,GAC7Fq6E,EAAyB,MAAnBj+E,EAAQ0pC,QAAkB,IAAM1pC,EAAQ0pC,QAC9Cw0C,EAAal+E,EAAQm+E,mBAAqBp6E,EAAKvB,MAAQD,EAAGC,KAE9DqP,EAAKtO,WAAU,WACb,GAAIvD,EAAQk+D,OAAQ,CAElB,IADA,IAAIkgB,EAAa,KACRnjF,EAAI8I,EAAKvB,KAAMvH,EAAIqW,IAAOrW,EAAG,CACpC,IAAIuH,EAAOqP,EAAKyX,QAAQruB,GACpBojF,EAAa77E,EAAKsH,MAAM,EAAGgsD,EAAWtzD,KACxB,MAAd47E,GAAsBA,EAAWtjF,OAASujF,EAAWvjF,UACvDsjF,EAAaC,GAGjB,IAASpjF,EAAI8I,EAAKvB,KAAMvH,EAAIqW,IAAOrW,EAAG,CAChCuH,EAAOqP,EAAKyX,QAAQruB,GAAxB,IAA4B6sC,EAAMs2C,EAAWtjF,QACxCojF,GAAeT,EAAM18E,KAAKyB,MAC3BA,EAAKsH,MAAM,EAAGg+B,IAAQs2C,IAAYt2C,EAAMguB,EAAWtzD,IACvDqP,EAAK5J,aAAam2E,EAAaJ,EAAgBC,EAAKt6E,EAAI1I,EAAG,GAAI0I,EAAI1I,EAAG6sC,WAGxE,IAAS7sC,EAAI8I,EAAKvB,KAAMvH,EAAIqW,IAAOrW,GAC7BijF,GAAcT,EAAM18E,KAAK8Q,EAAKyX,QAAQruB,MACxC4W,EAAK5J,aAAa+1E,EAAgBC,EAAKt6E,EAAI1I,EAAG,YA9BhD+E,EAAQs+E,mBAAqB/2E,EAAK+2E,qBACpCt+E,EAAQu+E,WAAY,EACpB1sE,EAAK2sE,aAAaz6E,EAAMxB,EAAIvC,QAkClC5C,EAAWqV,gBAAgB,gBAAgB,SAAS1O,EAAMxB,EAAIvC,GACvDA,IAASA,EAAUw9E,GACxB,IAAI3rE,EAAO3V,KAAMqL,EAAOygB,EAAQnW,EAAM9N,GAClC06E,EAAcz+E,EAAQs+E,mBAAqB/2E,EAAK+2E,kBAChDI,EAAY1+E,EAAQ2+E,iBAAmBp3E,EAAKo3E,gBAChD,GAAKF,GAAgBC,GAKrB,IAAI,cAAc39E,KAAK8Q,EAAKvI,eAAe3F,EAAII,EAAKvB,KAAM,KAA1D,CAEA,IAAI8O,EAAMjW,KAAKe,IAAImG,EAAGC,KAAMqP,EAAKjO,YAC7B0N,GAAOvN,EAAKvB,MAAiB,GAATD,EAAG7B,IAAW+8E,EAAM18E,KAAK8Q,EAAKyX,QAAQhY,OAASA,EAEvE,IAAI2sE,EAAyB,MAAnBj+E,EAAQ0pC,QAAkB,IAAM1pC,EAAQ0pC,QAC9C3lC,EAAKvB,KAAO8O,GAEhBO,EAAKtO,WAAU,WACb,GAAyB,GAArBvD,EAAQu+E,UAAoB,CAC9B,IAAIK,EAAkBnB,EAAM18E,KAAK8Q,EAAKyX,QAAQhY,IAC9CO,EAAK5J,aAAag2E,EAAMS,EAAW/6E,EAAI2N,IACvCO,EAAK5J,aAAaw2E,EAAcR,EAAKt6E,EAAII,EAAKvB,KAAM,IACpD,IAAIq8E,EAAO7+E,EAAQ8+E,kBAAoBv3E,EAAKu3E,iBAC5C,GAAY,MAARD,EAAc,IAAK,IAAI5jF,EAAI8I,EAAKvB,KAAO,EAAGvH,GAAKqW,IAAOrW,GACpDA,GAAKqW,GAAOstE,IACd/sE,EAAK5J,aAAa42E,EAAOZ,EAAKt6E,EAAI1I,EAAG,QACpC,CACL,IAAI8jF,EAA4C,GAAjCj0D,EAAIjZ,EAAK3P,UAAU,MAAOK,GAAUqF,GAASiK,EAAKqpC,oBACjErpC,EAAK5J,aAAay2E,EAAWn8E,GACzBw8E,GAAUltE,EAAK/N,aAAa8D,EAAQrF,EAAKsP,EAAK3P,UAAU,QAASK,GACrEsP,EAAK5J,aAAaw2E,EAAa16E,aAzB5B/D,EAAQ+9E,aAAex2E,EAAKw2E,cAAqC,GAArB/9E,EAAQu+E,WACvD1sE,EAAKksE,YAAYh6E,EAAMxB,EAAIvC,MA6BjC5C,EAAWqV,gBAAgB,aAAa,SAAS1O,EAAMxB,EAAIvC,GACpDA,IAASA,EAAUw9E,GACxB,IAK2DwB,EALvDntE,EAAO3V,KAAMqL,EAAOygB,EAAQnW,EAAM9N,GAClCuN,EAAMjW,KAAKe,IAAa,GAATmG,EAAG7B,IAAW6B,EAAGC,MAAQuB,EAAKvB,KAAOD,EAAGC,KAAOD,EAAGC,KAAO,EAAGqP,EAAKjO,YAAa4B,EAAQnK,KAAKe,IAAI2H,EAAKvB,KAAM8O,GAGzH2tE,EAAaj/E,EAAQ+9E,aAAex2E,EAAKw2E,YAAap0D,EAAQ,GAC9Ds0D,EAAyB,MAAnBj+E,EAAQ0pC,QAAkB,IAAM1pC,EAAQ0pC,QAClDq0C,EACE,GAAKkB,EAAL,CACA,IAAK,IAAIhkF,EAAIuK,EAAOvK,GAAKqW,IAAOrW,EAAG,CACjC,IAAIuH,EAAOqP,EAAKyX,QAAQruB,GACpB+lB,EAAQxe,EAAK3B,QAAQo+E,GAEzB,GADIj+D,GAAS,IAAM,UAAUjgB,KAAK8Q,EAAKvI,eAAe3F,EAAI1I,EAAG+lB,EAAQ,OAAMA,GAAS,IACtE,GAAVA,GAAey8D,EAAM18E,KAAKyB,GAAO,MAAMu7E,EAC3C,GAAI/8D,GAAS,GAAKy8D,EAAM18E,KAAKyB,EAAKsH,MAAM,EAAGkX,IAAS,MAAM+8D,EAC1Dp0D,EAAMhhB,KAAKnG,GAYb,GAVAqP,EAAKtO,WAAU,WACb,IAAK,IAAItI,EAAIuK,EAAOvK,GAAKqW,IAAOrW,EAAG,CACjC,IAAIuH,EAAOmnB,EAAM1uB,EAAIuK,GACjBxH,EAAMwE,EAAK3B,QAAQo+E,GAAaC,EAASlhF,EAAMihF,EAAWnkF,OAC1DkD,EAAM,IACNwE,EAAKsH,MAAMo1E,EAAQA,EAASjB,EAAInjF,SAAWmjF,IAAKiB,GAAUjB,EAAInjF,QAClEkkF,GAAe,EACfntE,EAAK5J,aAAa,GAAItE,EAAI1I,EAAG+C,GAAM2F,EAAI1I,EAAGikF,SAG1CF,EAAc,OAAO,EAI3B,IAAIP,EAAcz+E,EAAQs+E,mBAAqB/2E,EAAK+2E,kBAChDI,EAAY1+E,EAAQ2+E,iBAAmBp3E,EAAKo3E,gBAChD,IAAKF,IAAgBC,EAAW,OAAO,EACvC,IAAIG,EAAO7+E,EAAQ8+E,kBAAoBv3E,EAAKu3E,iBACxCK,EAAYttE,EAAKyX,QAAQ9jB,GAAQ45E,EAAOD,EAAUt+E,QAAQ49E,GAC9D,IAAa,GAATW,EAAY,OAAO,EACvB,IAAIC,EAAU/tE,GAAO9L,EAAQ25E,EAAYttE,EAAKyX,QAAQhY,GAClDhC,EAAQ+vE,EAAQx+E,QAAQ69E,EAAWptE,GAAO9L,EAAQ45E,EAAOX,EAAY3jF,OAAS,GAC9EwkF,EAAc37E,EAAI6B,EAAO45E,EAAO,GAAIG,EAAY57E,EAAI2N,EAAKhC,EAAQ,GACrE,IAAc,GAAVA,IACC,UAAUvO,KAAK8Q,EAAKvI,eAAeg2E,MACnC,UAAUv+E,KAAK8Q,EAAKvI,eAAei2E,KACpC1tE,EAAK1M,SAASm6E,EAAaC,EAAW,MAAM1+E,QAAQ69E,IAAc,EACpE,OAAO,EAIT,IAAIc,EAAYL,EAAUvI,YAAY6H,EAAa16E,EAAKrD,IACpD++E,GAAyB,GAAdD,GAAmB,EAAIL,EAAUr1E,MAAM,EAAG/F,EAAKrD,IAAIG,QAAQ69E,EAAWc,EAAYf,EAAY3jF,QAC7G,IAAkB,GAAd0kF,IAAgC,GAAbC,GAAkBA,EAAWf,EAAU5jF,QAAUiJ,EAAKrD,GAAI,OAAO,EAExF++E,EAAWJ,EAAQx+E,QAAQ69E,EAAWn8E,EAAG7B,IACzC,IAAIg/E,EAAkBL,EAAQv1E,MAAMvH,EAAG7B,IAAIk2E,YAAY6H,EAAagB,EAAWl9E,EAAG7B,IAElF,OADA8+E,GAA0B,GAAbC,IAAsC,GAApBC,GAA0B,EAAIn9E,EAAG7B,GAAKg/E,IACpD,GAAbD,IAAgC,GAAdD,GAAmBA,GAAaj9E,EAAG7B,MAEzDmR,EAAKtO,WAAU,WACbsO,EAAK5J,aAAa,GAAItE,EAAI2N,EAAKhC,GAAS2uE,GAAOoB,EAAQv1E,MAAMwF,EAAQ2uE,EAAInjF,OAAQwU,IAAU2uE,EAAMA,EAAInjF,OAAS,IAC5F6I,EAAI2N,EAAKhC,EAAQovE,EAAU5jF,SAC7C,IAAI2vC,EAAU20C,EAAOX,EAAY3jF,OAGjC,GAFImjF,GAAOkB,EAAUr1E,MAAM2gC,EAASA,EAAUwzC,EAAInjF,SAAWmjF,IAAKxzC,GAAWwzC,EAAInjF,QACjF+W,EAAK5J,aAAa,GAAItE,EAAI6B,EAAO45E,GAAOz7E,EAAI6B,EAAOilC,IAC/Co0C,EAAM,IAAK,IAAI5jF,EAAIuK,EAAQ,EAAGvK,GAAKqW,IAAOrW,EAAG,CAC/C,IAAIuH,EAAOqP,EAAKyX,QAAQruB,GAAI+lB,EAAQxe,EAAK3B,QAAQg+E,GACjD,IAAc,GAAV79D,IAAey8D,EAAM18E,KAAKyB,EAAKsH,MAAM,EAAGkX,IAA5C,CACA,IAAI2+D,EAAW3+D,EAAQ69D,EAAK/jF,OACxBmjF,GAAOz7E,EAAKsH,MAAM61E,EAAUA,EAAW1B,EAAInjF,SAAWmjF,IAAK0B,GAAY1B,EAAInjF,QAC/E+W,EAAK5J,aAAa,GAAItE,EAAI1I,EAAG+lB,GAAQrd,EAAI1I,EAAG0kF,UAGzC,U,oCChNX,wJACO,MAAMC,EAAW,MACpB,MAAMC,EAAwC,oBAAZC,SAAqD,oBAApBA,QAAQC,QAC3E,OAAIF,EACOG,GAAMF,QAAQC,UAAUE,KAAKD,GAG7B,CAACA,EAAI3wE,IAAiBA,EAAa2wE,EAAI,IAN9B,GASXE,EAAY,OAAWA,WAAa,OAAWC,aAC/CC,GAAwB,EACxBC,EAAoB,e,+NCZjC,IAAI,EAAS,WAAa,IAAIC,EAAIpkF,KAASqkF,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACE,YAAY,cAAcx8E,MAAM,CAAC,MAAQ,KAAK,CAACs8E,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACt8E,MAAM,CAAC,KAAO,KAAK,CAAGm8E,EAAIM,OAA6jBH,EAAG,cAAc,CAACA,EAAG,QAAQ,CAACE,YAAY,QAAQ,CAACF,EAAG,QAAQ,CAAGH,EAAIO,MAAM/lF,OAA4FwlF,EAAIliE,KAAxFqiE,EAAG,IAAI,CAACH,EAAIQ,GAAG,qEAA8EL,EAAG,IAAI,CAACH,EAAIQ,GAAG,kBAAkBR,EAAIS,GAAGT,EAAIO,MAAM/lF,QAAQ,YAAYwlF,EAAIU,GAAIV,EAAS,OAAE,SAASW,GAAM,OAAOR,EAAG,cAAc,CAACl8E,IAAI08E,EAAK3iE,IAAI,CAACmiE,EAAG,MAAM,CAACH,EAAIQ,GAAG,UAAUL,EAAG,IAAI,CAACE,YAAY,yBAAyB,CAACL,EAAIQ,GAAG,IAAIR,EAAIS,GAAGE,EAAK36E,MAAM,KAAM26E,EAAK3iE,IAAMgiE,EAAI1yE,OAAO0Q,GAAImiE,EAAG,OAAO,CAACE,YAAY,eAAe,CAACL,EAAIQ,GAAG,WAAWL,EAAG,QAAQ,CAACt8E,MAAM,CAAC,MAAQ,SAASkP,GAAG,CAAC,MAAQitE,EAAIY,WAAW,CAACZ,EAAIQ,GAAG,aAAa,GAAGR,EAAIliE,YAAWqiE,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,eAAe,CAACt8E,MAAM,CAAC,MAAQ,yBAAyB,SAAW,GAAG,KAAO,UAAUg9E,MAAM,CAACzhF,MAAO4gF,EAAe,YAAE98E,SAAS,SAAU49E,GAAMd,EAAIe,YAAYD,GAAKE,WAAW,iBAAiBb,EAAG,QAAQ,CAACt8E,MAAM,CAAC,UAAU,IAAIkP,GAAG,CAAC,MAAQitE,EAAIiB,UAAU,CAACjB,EAAIQ,GAAG,YAAY,IAAI,IAAI,GAAGL,EAAG,QAAQ,CAACE,YAAY,QAAQ,CAACF,EAAG,QAAQ,CAACA,EAAG,SAAS,CAACt6C,IAAI,SAAS9yB,GAAG,CAAC,MAAQitE,EAAIkB,iBAAiB,UAAYlB,EAAImB,oBAAoBN,MAAM,CAACzhF,MAAO4gF,EAAQ,KAAE98E,SAAS,SAAU49E,GAAMd,EAAIj2E,KAAK+2E,GAAKE,WAAW,WAAW,IAAI,IAAI,GAAhsDb,EAAG,cAAc,CAACA,EAAG,QAAQ,CAACt8E,MAAM,CAAC,MAAQ,SAAS,QAAU,WAAW,CAACs8E,EAAG,QAAQ,CAACt8E,MAAM,CAAC,KAAO,KAAK,GAAK,IAAI,GAAK,MAAM,CAACs8E,EAAG,SAAS,CAACA,EAAG,eAAe,CAACt8E,MAAM,CAAC,QAAU,GAAG,MAAQ,OAAO,SAAW,IAAIg9E,MAAM,CAACzhF,MAAO4gF,EAAQ,KAAE98E,SAAS,SAAU49E,GAAMd,EAAIh6E,KAAK86E,GAAKE,WAAW,UAAUb,EAAG,eAAe,CAACt8E,MAAM,CAAC,QAAU,GAAG,MAAQ,OAAO,SAAW,IAAIg9E,MAAM,CAACzhF,MAAO4gF,EAAQ,KAAE98E,SAAS,SAAU49E,GAAMd,EAAIoB,KAAKN,GAAKE,WAAW,UAAUb,EAAG,QAAQ,CAACE,YAAY,OAAOx8E,MAAM,CAAC,MAAQ,SAASkP,GAAG,CAAC,MAAQitE,EAAIqB,aAAa,CAACrB,EAAIQ,GAAG,WAAW,IAAI,IAAI,IAAI,GAAipCL,EAAG,aAAa,CAACt8E,MAAM,CAAC,QAAUm8E,EAAIsB,SAAST,MAAM,CAACzhF,MAAO4gF,EAAY,SAAE98E,SAAS,SAAU49E,GAAMd,EAAIuB,SAAST,GAAKE,WAAW,aAAa,CAAChB,EAAIQ,GAAG,IAAIR,EAAIS,GAAGT,EAAIwB,aAAa,QAAQ,IAAI,IAAI,IAC5lEC,EAAkB,G,iCCSf,SAASC,EAAI50E,EAAK6C,EAAO,GAAI4kE,GAChC,IAAIz/D,EAAMhI,EAEVynE,EAAMA,GAA4B,qBAAboN,UAA4BA,SAC7C,MAAQ70E,IACRA,EAAMynE,EAAIx9D,SAAW,KAAOw9D,EAAIv7D,MAEjB,kBAARlM,IACH,MAAQA,EAAI1R,OAAO,KAEf0R,EADA,MAAQA,EAAI1R,OAAO,GACbm5E,EAAIx9D,SAAWjK,EAGfynE,EAAIv7D,KAAOlM,GAGpB,sBAAsBrM,KAAKqM,KAExBA,EADA,qBAAuBynE,EACjBA,EAAIx9D,SAAW,KAAOjK,EAGtB,WAAaA,GAI3BgI,EAAM,IAAShI,IAGdgI,EAAI3F,OACD,cAAc1O,KAAKqU,EAAIiC,UACvBjC,EAAI3F,KAAO,KAEN,eAAe1O,KAAKqU,EAAIiC,YAC7BjC,EAAI3F,KAAO,QAGnB2F,EAAInF,KAAOmF,EAAInF,MAAQ,IACvB,MAAMF,GAAkC,IAA3BqF,EAAIkE,KAAKzY,QAAQ,KACxByY,EAAOvJ,EAAO,IAAMqF,EAAIkE,KAAO,IAAMlE,EAAIkE,KAS/C,OAPAlE,EAAIkJ,GAAKlJ,EAAIiC,SAAW,MAAQiC,EAAO,IAAMlE,EAAI3F,KAAOQ,EAExDmF,EAAI8sE,KACA9sE,EAAIiC,SACA,MACAiC,GACCu7D,GAAOA,EAAIplE,OAAS2F,EAAI3F,KAAO,GAAK,IAAM2F,EAAI3F,MAChD2F,E,qCCtDI,cACX,MAAM+sE,EAAUlmF,EAAKkmF,QAErB,IACI,GAAI,qBAAuBC,kBAAoBD,GAAW,KACtD,OAAO,IAAIC,eAGnB,MAAOthF,IACP,IAAKqhF,EACD,IACI,OAAO,IAAI,OAAW,CAAC,UAAUn+D,OAAO,UAAUxS,KAAK,OAAM,qBAEjE,MAAO1Q,M,0FCZR,MAAM,UAAgB,OACzB,cACIkM,SAASxI,WACTtI,KAAKwnE,SAAU,EAKnB,WACI,MAAO,UAQX,SACIxnE,KAAK2qE,OAQT,MAAMwb,GACFnmF,KAAKqb,WAAa,UAClB,MAAM+qE,EAAQ,KACVpmF,KAAKqb,WAAa,SAClB8qE,KAEJ,GAAInmF,KAAKwnE,UAAYxnE,KAAKyS,SAAU,CAChC,IAAI4zE,EAAQ,EACRrmF,KAAKwnE,UACL6e,IACArmF,KAAKsmF,KAAK,gBAAgB,aACpBD,GAASD,QAGdpmF,KAAKyS,WACN4zE,IACArmF,KAAKsmF,KAAK,SAAS,aACbD,GAASD,aAKnBA,IAQR,OACIpmF,KAAKwnE,SAAU,EACfxnE,KAAKumF,SACLvmF,KAAKwR,KAAK,QAOd,OAAOxC,GACH,MAAM1H,EAAWoL,IAMb,GAJI,YAAc1S,KAAKqb,YAA8B,SAAhB3I,EAAO9J,MACxC5I,KAAKgS,SAGL,UAAYU,EAAO9J,KAEnB,OADA5I,KAAK2D,WACE,EAGX3D,KAAK4b,SAASlJ,IAGlB,eAAc1D,EAAMhP,KAAK0R,OAAOD,YAAYgH,QAAQnR,GAEhD,WAAatH,KAAKqb,aAElBrb,KAAKwnE,SAAU,EACfxnE,KAAKwR,KAAK,gBACN,SAAWxR,KAAKqb,YAChBrb,KAAK2qE,QAWjB,UACI,MAAMv3D,EAAQ,KACVpT,KAAK2b,MAAM,CAAC,CAAE/S,KAAM,YAEpB,SAAW5I,KAAKqb,WAChBjI,IAKApT,KAAKsmF,KAAK,OAAQlzE,GAU1B,MAAMZ,GACFxS,KAAKyS,UAAW,EAChB,eAAcD,EAASxD,IACnBhP,KAAKwmF,QAAQx3E,EAAM,KACfhP,KAAKyS,UAAW,EAChBzS,KAAKwR,KAAK,aAStB,MACI,IAAIpQ,EAAQpB,KAAKoB,OAAS,GAC1B,MAAMiS,EAASrT,KAAKD,KAAKuT,OAAS,QAAU,OAC5C,IAAIC,EAAO,IAEP,IAAUvT,KAAKD,KAAK0T,oBACpBrS,EAAMpB,KAAKD,KAAK2T,gBAAkB,OAEjC1T,KAAK+Q,gBAAmB3P,EAAMqlF,MAC/BrlF,EAAMuS,IAAM,GAGZ3T,KAAKD,KAAKwT,OACR,UAAYF,GAAqC,MAA3BG,OAAOxT,KAAKD,KAAKwT,OACpC,SAAWF,GAAqC,KAA3BG,OAAOxT,KAAKD,KAAKwT,SAC3CA,EAAO,IAAMvT,KAAKD,KAAKwT,MAE3B,MAAMK,EAAe,IAAQ5U,OAAOoC,GAC9ByS,GAA4C,IAArC7T,KAAKD,KAAK+T,SAASnP,QAAQ,KACxC,OAAQ0O,EACJ,OACCQ,EAAO,IAAM7T,KAAKD,KAAK+T,SAAW,IAAM9T,KAAKD,KAAK+T,UACnDP,EACAvT,KAAKD,KAAKgU,MACTH,EAAahV,OAAS,IAAMgV,EAAe,KCxJxD,SAASlI,KACT,MAAMg7E,EAAU,WACZ,MAAMC,EAAM,IAAI,EAAe,CAC3BV,SAAS,IAEb,OAAO,MAAQU,EAAIC,aAJP,GAMT,MAAM,UAAY,EAOrB,YAAY7mF,GAER,GADA+Q,MAAM/Q,GACkB,qBAAbgmF,SAA0B,CACjC,MAAMc,EAAQ,WAAad,SAAS5qE,SACpC,IAAI5H,EAAOwyE,SAASxyE,KAEfA,IACDA,EAAOszE,EAAQ,MAAQ,MAE3B7mF,KAAK8mF,GACoB,qBAAbf,UACJhmF,EAAK+T,WAAaiyE,SAASjyE,UAC3BP,IAASxT,EAAKwT,KACtBvT,KAAK+mF,GAAKhnF,EAAKuT,SAAWuzE,EAK9B,MAAM71E,EAAcjR,GAAQA,EAAKiR,YACjChR,KAAK+Q,eAAiB21E,IAAY11E,EAQtC,QAAQjR,EAAO,IAEX,OADAuQ,OAAOs3C,OAAO7nD,EAAM,CAAE+mF,GAAI9mF,KAAK8mF,GAAIC,GAAI/mF,KAAK+mF,IAAM/mF,KAAKD,MAChD,IAAI,EAAQC,KAAKkR,MAAOnR,GASnC,QAAQiP,EAAMg4E,GACV,MAAMC,EAAMjnF,KAAKknF,QAAQ,CACrBvY,OAAQ,OACR3/D,KAAMA,IAEVi4E,EAAI9vE,GAAG,UAAW6vE,GAClBC,EAAI9vE,GAAG,QAAS5F,IACZvR,KAAKuS,QAAQ,iBAAkBhB,KAQvC,SACI,MAAM01E,EAAMjnF,KAAKknF,UACjBD,EAAI9vE,GAAG,OAAQnX,KAAKqS,OAAOH,KAAKlS,OAChCinF,EAAI9vE,GAAG,QAAS5F,IACZvR,KAAKuS,QAAQ,iBAAkBhB,KAEnCvR,KAAKmnF,QAAUF,GAGhB,MAAM,UAAgB,aAOzB,YAAY/1E,EAAKnR,GACb+Q,QACA,eAAsB9Q,KAAMD,GAC5BC,KAAKD,KAAOA,EACZC,KAAK2uE,OAAS5uE,EAAK4uE,QAAU,MAC7B3uE,KAAKkR,IAAMA,EACXlR,KAAKonF,OAAQ,IAAUrnF,EAAKqnF,MAC5BpnF,KAAKgP,UAAOgN,IAAcjc,EAAKiP,KAAOjP,EAAKiP,KAAO,KAClDhP,KAAKsY,SAOT,SACI,MAAMvY,EAAO,eAAKC,KAAKD,KAAM,QAAS,MAAO,MAAO,aAAc,OAAQ,KAAM,UAAW,qBAAsB,aACjHA,EAAKkmF,UAAYjmF,KAAKD,KAAK+mF,GAC3B/mF,EAAKsnF,UAAYrnF,KAAKD,KAAKgnF,GAC3B,MAAMJ,EAAO3mF,KAAK2mF,IAAM,IAAI,EAAe5mF,GAC3C,IACI4mF,EAAIzD,KAAKljF,KAAK2uE,OAAQ3uE,KAAKkR,IAAKlR,KAAKonF,OACrC,IACI,GAAIpnF,KAAKD,KAAKqR,aAAc,CACxBu1E,EAAIW,uBAAyBX,EAAIW,uBAAsB,GACvD,IAAK,IAAIvoF,KAAKiB,KAAKD,KAAKqR,aAChBpR,KAAKD,KAAKqR,aAAa6K,eAAeld,IACtC4nF,EAAIY,iBAAiBxoF,EAAGiB,KAAKD,KAAKqR,aAAarS,KAK/D,MAAO6F,IACP,GAAI,SAAW5E,KAAK2uE,OAChB,IACIgY,EAAIY,iBAAiB,eAAgB,4BAEzC,MAAO3iF,IAEX,IACI+hF,EAAIY,iBAAiB,SAAU,OAEnC,MAAO3iF,IAEH,oBAAqB+hF,IACrBA,EAAIa,gBAAkBxnF,KAAKD,KAAKynF,iBAEhCxnF,KAAKD,KAAK0nF,iBACVd,EAAIjB,QAAU1lF,KAAKD,KAAK0nF,gBAE5Bd,EAAIe,mBAAqB,KACjB,IAAMf,EAAItrE,aAEV,MAAQsrE,EAAIgB,QAAU,OAAShB,EAAIgB,OACnC3nF,KAAK4nF,SAKL5nF,KAAKmT,aAAa,KACdnT,KAAKuS,QAA8B,kBAAfo0E,EAAIgB,OAAsBhB,EAAIgB,OAAS,IAC5D,KAGXhB,EAAIzzE,KAAKlT,KAAKgP,MAElB,MAAOpK,GAOH,YAHA5E,KAAKmT,aAAa,KACdnT,KAAKuS,QAAQ3N,IACd,GAGiB,qBAAb2B,WACPvG,KAAKkC,MAAQ,EAAQ2lF,gBACrB,EAAQC,SAAS9nF,KAAKkC,OAASlC,MAQvC,YACIA,KAAKwR,KAAK,WACVxR,KAAK+nF,UAOT,OAAO/4E,GACHhP,KAAKwR,KAAK,OAAQxC,GAClBhP,KAAKgoF,YAOT,QAAQz2E,GACJvR,KAAKwR,KAAK,QAASD,GACnBvR,KAAK+nF,SAAQ,GAOjB,QAAQE,GACJ,GAAI,qBAAuBjoF,KAAK2mF,KAAO,OAAS3mF,KAAK2mF,IAArD,CAIA,GADA3mF,KAAK2mF,IAAIe,mBAAqBh8E,EAC1Bu8E,EACA,IACIjoF,KAAK2mF,IAAIuB,QAEb,MAAOtjF,IAEa,qBAAb2B,iBACA,EAAQuhF,SAAS9nF,KAAKkC,OAEjClC,KAAK2mF,IAAM,MAOf,SACI,MAAM33E,EAAOhP,KAAK2mF,IAAIwB,aACT,OAATn5E,GACAhP,KAAKqS,OAAOrD,GAQpB,QACIhP,KAAK+nF,WAUb,GAPA,EAAQF,cAAgB,EACxB,EAAQC,SAAW,GAMK,qBAAbvhF,SAEP,GAA2B,oBAAhBqhB,YAEPA,YAAY,WAAYwgE,QAEvB,GAAgC,oBAArBzgE,iBAAiC,CAC7C,MAAM0gE,EAAmB,eAAgB,OAAa,WAAa,SACnE1gE,iBAAiB0gE,EAAkBD,GAAe,GAG1D,SAASA,IACL,IAAK,IAAIrpF,KAAK,EAAQ+oF,SACd,EAAQA,SAAS7rE,eAAeld,IAChC,EAAQ+oF,SAAS/oF,GAAGmpF,Q,gBCnQzB,MAAMI,EAAa,CACtBC,UAAW,OACX/gB,QAAS,GCEN,MAAM,UAAe,aAQxB,YAAYt2D,EAAKnR,EAAO,IACpB+Q,QACII,GAAO,kBAAoBA,IAC3BnR,EAAOmR,EACPA,EAAM,MAENA,GACAA,EAAM,IAASA,GACfnR,EAAK+T,SAAW5C,EAAIkM,KACpBrd,EAAKuT,OAA0B,UAAjBpC,EAAIiK,UAAyC,QAAjBjK,EAAIiK,SAC9Cpb,EAAKwT,KAAOrC,EAAIqC,KACZrC,EAAI9P,QACJrB,EAAKqB,MAAQ8P,EAAI9P,QAEhBrB,EAAKqd,OACVrd,EAAK+T,SAAW,IAAS/T,EAAKqd,MAAMA,MAExC,eAAsBpd,KAAMD,GAC5BC,KAAKsT,OACD,MAAQvT,EAAKuT,OACPvT,EAAKuT,OACe,qBAAbyyE,UAA4B,WAAaA,SAAS5qE,SAC/Dpb,EAAK+T,WAAa/T,EAAKwT,OAEvBxT,EAAKwT,KAAOvT,KAAKsT,OAAS,MAAQ,MAEtCtT,KAAK8T,SACD/T,EAAK+T,WACoB,qBAAbiyE,SAA2BA,SAASjyE,SAAW,aAC/D9T,KAAKuT,KACDxT,EAAKwT,OACoB,qBAAbwyE,UAA4BA,SAASxyE,KACvCwyE,SAASxyE,KACTvT,KAAKsT,OACD,MACA,MAClBtT,KAAKsoF,WAAavoF,EAAKuoF,YAAc,CAAC,UAAW,aACjDtoF,KAAKqb,WAAa,GAClBrb,KAAKwoF,YAAc,GACnBxoF,KAAKyoF,cAAgB,EACrBzoF,KAAKD,KAAOuQ,OAAOs3C,OAAO,CACtB7zC,KAAM,aACN20E,OAAO,EACPlB,iBAAiB,EACjBmB,SAAS,EACTj1E,eAAgB,IAChBk1E,iBAAiB,EACjBC,oBAAoB,EACpBh2E,kBAAmB,CACfI,UAAW,MAEf61E,iBAAkB,GAClBC,qBAAqB,GACtBhpF,GACHC,KAAKD,KAAKgU,KAAO/T,KAAKD,KAAKgU,KAAKxS,QAAQ,MAAO,IAAM,IACtB,kBAApBvB,KAAKD,KAAKqB,QACjBpB,KAAKD,KAAKqB,MAAQ,IAAQ/B,OAAOW,KAAKD,KAAKqB,QAG/CpB,KAAKoiB,GAAK,KACVpiB,KAAKgpF,SAAW,KAChBhpF,KAAKipF,aAAe,KACpBjpF,KAAKkpF,YAAc,KAEnBlpF,KAAKmpF,iBAAmB,KACQ,oBAArBxhE,mBACH3nB,KAAKD,KAAKgpF,qBAIVphE,iBAAiB,eAAgB,KACzB3nB,KAAKopF,YAELppF,KAAKopF,UAAUC,qBACfrpF,KAAKopF,UAAUh2E,WAEpB,GAEe,cAAlBpT,KAAK8T,WACL9T,KAAKspF,qBAAuB,KACxBtpF,KAAK2D,QAAQ,oBAEjBgkB,iBAAiB,UAAW3nB,KAAKspF,sBAAsB,KAG/DtpF,KAAKkjF,OAST,gBAAgB94E,GACZ,MAAMhJ,EAAQmoF,EAAMvpF,KAAKD,KAAKqB,OAE9BA,EAAMooF,IAAM,OAEZpoF,EAAMgoF,UAAYh/E,EAEdpK,KAAKoiB,KACLhhB,EAAMqlF,IAAMzmF,KAAKoiB,IACrB,MAAMriB,EAAOuQ,OAAOs3C,OAAO,GAAI5nD,KAAKD,KAAK+oF,iBAAiB1+E,GAAOpK,KAAKD,KAAM,CACxEqB,QACAsQ,OAAQ1R,KACR8T,SAAU9T,KAAK8T,SACfR,OAAQtT,KAAKsT,OACbC,KAAMvT,KAAKuT,OAEf,OAAO,IAAI+0E,EAAWl+E,GAAMrK,GAOhC,OACI,IAAIqpF,EACJ,GAAIppF,KAAKD,KAAK6oF,iBACV,EAAOa,wBACmC,IAA1CzpF,KAAKsoF,WAAW3jF,QAAQ,aACxBykF,EAAY,gBAEX,IAAI,IAAMppF,KAAKsoF,WAAW1pF,OAK3B,YAHAoB,KAAKmT,aAAa,KACdnT,KAAK0pF,aAAa,QAAS,4BAC5B,GAIHN,EAAYppF,KAAKsoF,WAAW,GAEhCtoF,KAAKqb,WAAa,UAElB,IACI+tE,EAAYppF,KAAK2pF,gBAAgBP,GAErC,MAAOxkF,GAGH,OAFA5E,KAAKsoF,WAAWj5E,aAChBrP,KAAKkjF,OAGTkG,EAAUlG,OACVljF,KAAK4pF,aAAaR,GAOtB,aAAaA,GACLppF,KAAKopF,WACLppF,KAAKopF,UAAUC,qBAGnBrpF,KAAKopF,UAAYA,EAEjBA,EACKjyE,GAAG,QAASnX,KAAK6pF,QAAQ33E,KAAKlS,OAC9BmX,GAAG,SAAUnX,KAAK4b,SAAS1J,KAAKlS,OAChCmX,GAAG,QAASnX,KAAKuS,QAAQL,KAAKlS,OAC9BmX,GAAG,QAAS,KACbnX,KAAK2D,QAAQ,qBASrB,MAAMyG,GACF,IAAIg/E,EAAYppF,KAAK2pF,gBAAgBv/E,GACjC0/E,GAAS,EACb,EAAOL,uBAAwB,EAC/B,MAAMM,EAAkB,KAChBD,IAEJV,EAAUl2E,KAAK,CAAC,CAAEtK,KAAM,OAAQoG,KAAM,WACtCo6E,EAAU9C,KAAK,SAAUhrE,IACrB,IAAIwuE,EAEJ,GAAI,SAAWxuE,EAAI1S,MAAQ,UAAY0S,EAAItM,KAAM,CAG7C,GAFAhP,KAAKgqF,WAAY,EACjBhqF,KAAK0pF,aAAa,YAAaN,IAC1BA,EACD,OACJ,EAAOK,sBAAwB,cAAgBL,EAAUh/E,KACzDpK,KAAKopF,UAAUhD,MAAM,KACb0D,GAEA,WAAa9pF,KAAKqb,aAEtB0sE,IACA/nF,KAAK4pF,aAAaR,GAClBA,EAAUl2E,KAAK,CAAC,CAAEtK,KAAM,aACxB5I,KAAK0pF,aAAa,UAAWN,GAC7BA,EAAY,KACZppF,KAAKgqF,WAAY,EACjBhqF,KAAKiqF,eAGR,CACD,MAAM14E,EAAM,IAAIkD,MAAM,eAEtBlD,EAAI63E,UAAYA,EAAUh/E,KAC1BpK,KAAK0pF,aAAa,eAAgBn4E,QAI9C,SAAS24E,IACDJ,IAGJA,GAAS,EACT/B,IACAqB,EAAUh2E,QACVg2E,EAAY,MAGhB,MAAM92E,EAAUf,IACZ,MAAM44E,EAAQ,IAAI11E,MAAM,gBAAkBlD,GAE1C44E,EAAMf,UAAYA,EAAUh/E,KAC5B8/E,IACAlqF,KAAK0pF,aAAa,eAAgBS,IAEtC,SAASC,IACL93E,EAAQ,oBAGZ,SAASL,IACLK,EAAQ,iBAGZ,SAAS+3E,EAAUhkF,GACX+iF,GAAa/iF,EAAG+D,OAASg/E,EAAUh/E,MACnC8/E,IAIR,MAAMnC,EAAU,KACZqB,EAAUkB,eAAe,OAAQP,GACjCX,EAAUkB,eAAe,QAASh4E,GAClC82E,EAAUkB,eAAe,QAASF,GAClCpqF,KAAKgoB,IAAI,QAAS/V,GAClBjS,KAAKgoB,IAAI,YAAaqiE,IAE1BjB,EAAU9C,KAAK,OAAQyD,GACvBX,EAAU9C,KAAK,QAASh0E,GACxB82E,EAAU9C,KAAK,QAAS8D,GACxBpqF,KAAKsmF,KAAK,QAASr0E,GACnBjS,KAAKsmF,KAAK,YAAa+D,GACvBjB,EAAUlG,OAOd,SAOI,GANAljF,KAAKqb,WAAa,OAClB,EAAOouE,sBAAwB,cAAgBzpF,KAAKopF,UAAUh/E,KAC9DpK,KAAK0pF,aAAa,QAClB1pF,KAAKiqF,QAGD,SAAWjqF,KAAKqb,YAChBrb,KAAKD,KAAK4oF,SACV3oF,KAAKopF,UAAUhD,MAAO,CACtB,IAAIrnF,EAAI,EACR,MAAMsd,EAAIrc,KAAKgpF,SAASpqF,OACxB,KAAOG,EAAIsd,EAAGtd,IACViB,KAAKuqF,MAAMvqF,KAAKgpF,SAASjqF,KASrC,SAAS2T,GACL,GAAI,YAAc1S,KAAKqb,YACnB,SAAWrb,KAAKqb,YAChB,YAAcrb,KAAKqb,WAInB,OAHArb,KAAK0pF,aAAa,SAAUh3E,GAE5B1S,KAAK0pF,aAAa,aACVh3E,EAAO9J,MACX,IAAK,OACD5I,KAAKwqF,YAAYC,KAAKC,MAAMh4E,EAAO1D,OACnC,MACJ,IAAK,OACDhP,KAAK2qF,mBACL3qF,KAAK4qF,WAAW,QAChB5qF,KAAK0pF,aAAa,QAClB1pF,KAAK0pF,aAAa,QAClB,MACJ,IAAK,QACD,MAAMn4E,EAAM,IAAIkD,MAAM,gBAEtBlD,EAAIpD,KAAOuE,EAAO1D,KAClBhP,KAAKuS,QAAQhB,GACb,MACJ,IAAK,UACDvR,KAAK0pF,aAAa,OAAQh3E,EAAO1D,MACjChP,KAAK0pF,aAAa,UAAWh3E,EAAO1D,MACpC,OAYhB,YAAYA,GACRhP,KAAK0pF,aAAa,YAAa16E,GAC/BhP,KAAKoiB,GAAKpT,EAAKy3E,IACfzmF,KAAKopF,UAAUhoF,MAAMqlF,IAAMz3E,EAAKy3E,IAChCzmF,KAAKgpF,SAAWhpF,KAAK6qF,eAAe77E,EAAKg6E,UACzChpF,KAAKipF,aAAej6E,EAAKi6E,aACzBjpF,KAAKkpF,YAAcl6E,EAAKk6E,YACxBlpF,KAAKgS,SAED,WAAahS,KAAKqb,YAEtBrb,KAAK2qF,mBAOT,mBACI3qF,KAAK8qF,eAAe9qF,KAAKmpF,kBACzBnpF,KAAKmpF,iBAAmBnpF,KAAKmT,aAAa,KACtCnT,KAAK2D,QAAQ,iBACd3D,KAAKipF,aAAejpF,KAAKkpF,aACxBlpF,KAAKD,KAAK8R,WACV7R,KAAKmpF,iBAAiBp3E,QAQ9B,UACI/R,KAAKwoF,YAAY3rE,OAAO,EAAG7c,KAAKyoF,eAIhCzoF,KAAKyoF,cAAgB,EACjB,IAAMzoF,KAAKwoF,YAAY5pF,OACvBoB,KAAK0pF,aAAa,SAGlB1pF,KAAKiqF,QAQb,QACQ,WAAajqF,KAAKqb,YAClBrb,KAAKopF,UAAU32E,WACdzS,KAAKgqF,WACNhqF,KAAKwoF,YAAY5pF,SACjBoB,KAAKopF,UAAUl2E,KAAKlT,KAAKwoF,aAGzBxoF,KAAKyoF,cAAgBzoF,KAAKwoF,YAAY5pF,OACtCoB,KAAK0pF,aAAa,UAY1B,MAAMpuE,EAAKxX,EAASkjF,GAEhB,OADAhnF,KAAK4qF,WAAW,UAAWtvE,EAAKxX,EAASkjF,GAClChnF,KAEX,KAAKsb,EAAKxX,EAASkjF,GAEf,OADAhnF,KAAK4qF,WAAW,UAAWtvE,EAAKxX,EAASkjF,GAClChnF,KAWX,WAAW4I,EAAMoG,EAAMlL,EAASkjF,GAS5B,GARI,oBAAsBh4E,IACtBg4E,EAAKh4E,EACLA,OAAOgN,GAEP,oBAAsBlY,IACtBkjF,EAAKljF,EACLA,EAAU,MAEV,YAAc9D,KAAKqb,YAAc,WAAarb,KAAKqb,WACnD,OAEJvX,EAAUA,GAAW,GACrBA,EAAQ8O,UAAW,IAAU9O,EAAQ8O,SACrC,MAAMF,EAAS,CACX9J,KAAMA,EACNoG,KAAMA,EACNlL,QAASA,GAEb9D,KAAK0pF,aAAa,eAAgBh3E,GAClC1S,KAAKwoF,YAAY/7E,KAAKiG,GAClBs0E,GACAhnF,KAAKsmF,KAAK,QAASU,GACvBhnF,KAAKiqF,QAOT,QACI,MAAM72E,EAAQ,KACVpT,KAAK2D,QAAQ,gBACb3D,KAAKopF,UAAUh2E,SAEb23E,EAAkB,KACpB/qF,KAAKgoB,IAAI,UAAW+iE,GACpB/qF,KAAKgoB,IAAI,eAAgB+iE,GACzB33E,KAEE43E,EAAiB,KAEnBhrF,KAAKsmF,KAAK,UAAWyE,GACrB/qF,KAAKsmF,KAAK,eAAgByE,IAqB9B,MAnBI,YAAc/qF,KAAKqb,YAAc,SAAWrb,KAAKqb,aACjDrb,KAAKqb,WAAa,UACdrb,KAAKwoF,YAAY5pF,OACjBoB,KAAKsmF,KAAK,QAAS,KACXtmF,KAAKgqF,UACLgB,IAGA53E,MAIHpT,KAAKgqF,UACVgB,IAGA53E,KAGDpT,KAOX,QAAQuR,GACJ,EAAOk4E,uBAAwB,EAC/BzpF,KAAK0pF,aAAa,QAASn4E,GAC3BvR,KAAK2D,QAAQ,kBAAmB4N,GAOpC,QAAQ05E,EAAQ1vE,GACR,YAAcvb,KAAKqb,YACnB,SAAWrb,KAAKqb,YAChB,YAAcrb,KAAKqb,aAEnBrb,KAAK8qF,eAAe9qF,KAAKmpF,kBAEzBnpF,KAAKopF,UAAUC,mBAAmB,SAElCrpF,KAAKopF,UAAUh2E,QAEfpT,KAAKopF,UAAUC,qBACoB,oBAAxBphE,qBACPA,oBAAoB,UAAWjoB,KAAKspF,sBAAsB,GAG9DtpF,KAAKqb,WAAa,SAElBrb,KAAKoiB,GAAK,KAEVpiB,KAAK0pF,aAAa,QAASuB,EAAQ1vE,GAGnCvb,KAAKwoF,YAAc,GACnBxoF,KAAKyoF,cAAgB,GAU7B,eAAeO,GACX,MAAMkC,EAAmB,GACzB,IAAInsF,EAAI,EACR,MAAMmR,EAAI84E,EAASpqF,OACnB,KAAOG,EAAImR,EAAGnR,KACLiB,KAAKsoF,WAAW3jF,QAAQqkF,EAASjqF,KAClCmsF,EAAiBz+E,KAAKu8E,EAASjqF,IAEvC,OAAOmsF,GAIf,SAAS3B,EAAMrwE,GACX,MAAMqY,EAAI,GACV,IAAK,IAAIxyB,KAAKma,EACNA,EAAI+C,eAAeld,KACnBwyB,EAAExyB,GAAKma,EAAIna,IAGnB,OAAOwyB,EARX,EAAOpW,SAAW,OCpiBM,EAAOA,SAAxB,MCFDpC,EAA+C,oBAAhBC,YAC/BC,EAAUC,GACyB,oBAAvBF,YAAYC,OACpBD,YAAYC,OAAOC,GACnBA,EAAIC,kBAAkBH,YAE1B,EAAW1I,OAAO/P,UAAUsY,SAC5BF,EAAiC,oBAATC,MACT,qBAATA,MACoB,6BAAxB,EAASE,KAAKF,MAChBuyE,EAAiC,oBAATx8B,MACT,qBAATA,MACoB,6BAAxB,EAAS71C,KAAK61C,MAMf,SAASy8B,EAASlyE,GACrB,OAASH,IAA0BG,aAAeF,aAAeC,EAAOC,KACnEP,GAAkBO,aAAeN,MACjCuyE,GAAkBjyE,aAAey1C,KAEnC,SAAS08B,EAAUnyE,EAAKoyE,GAC3B,IAAKpyE,GAAsB,kBAARA,EACf,OAAO,EAEX,GAAI5E,MAAMi3E,QAAQryE,GAAM,CACpB,IAAK,IAAIna,EAAI,EAAGsd,EAAInD,EAAIta,OAAQG,EAAIsd,EAAGtd,IACnC,GAAIssF,EAAUnyE,EAAIna,IACd,OAAO,EAGf,OAAO,EAEX,GAAIqsF,EAASlyE,GACT,OAAO,EAEX,GAAIA,EAAIoyE,QACkB,oBAAfpyE,EAAIoyE,QACU,IAArBhjF,UAAU1J,OACV,OAAOysF,EAAUnyE,EAAIoyE,UAAU,GAEnC,IAAK,MAAMjjF,KAAO6Q,EACd,GAAI5I,OAAO/P,UAAU0b,eAAenD,KAAKI,EAAK7Q,IAAQgjF,EAAUnyE,EAAI7Q,IAChE,OAAO,EAGf,OAAO,ECxCJ,SAASmjF,EAAkB94E,GAC9B,MAAM+4E,EAAU,GACVC,EAAah5E,EAAO1D,KACpB28E,EAAOj5E,EAGb,OAFAi5E,EAAK38E,KAAO48E,EAAmBF,EAAYD,GAC3CE,EAAKE,YAAcJ,EAAQ7sF,OACpB,CAAE8T,OAAQi5E,EAAMF,QAASA,GAEpC,SAASG,EAAmB58E,EAAMy8E,GAC9B,IAAKz8E,EACD,OAAOA,EACX,GAAIo8E,EAASp8E,GAAO,CAChB,MAAMo9D,EAAc,CAAE0f,cAAc,EAAM7sF,IAAKwsF,EAAQ7sF,QAEvD,OADA6sF,EAAQh/E,KAAKuC,GACNo9D,EAEN,GAAI93D,MAAMi3E,QAAQv8E,GAAO,CAC1B,MAAM+8E,EAAU,IAAIz3E,MAAMtF,EAAKpQ,QAC/B,IAAK,IAAIG,EAAI,EAAGA,EAAIiQ,EAAKpQ,OAAQG,IAC7BgtF,EAAQhtF,GAAK6sF,EAAmB58E,EAAKjQ,GAAI0sF,GAE7C,OAAOM,EAEN,GAAoB,kBAAT/8E,KAAuBA,aAAgBrP,MAAO,CAC1D,MAAMosF,EAAU,GAChB,IAAK,MAAM1jF,KAAO2G,EACVA,EAAKiN,eAAe5T,KACpB0jF,EAAQ1jF,GAAOujF,EAAmB58E,EAAK3G,GAAMojF,IAGrD,OAAOM,EAEX,OAAO/8E,EAUJ,SAASg9E,EAAkBt5E,EAAQ+4E,GAGtC,OAFA/4E,EAAO1D,KAAOi9E,EAAmBv5E,EAAO1D,KAAMy8E,GAC9C/4E,EAAOm5E,iBAAc7vE,EACdtJ,EAEX,SAASu5E,EAAmBj9E,EAAMy8E,GAC9B,IAAKz8E,EACD,OAAOA,EACX,GAAIA,GAAQA,EAAK88E,aACb,OAAOL,EAAQz8E,EAAK/P,KAEnB,GAAIqV,MAAMi3E,QAAQv8E,GACnB,IAAK,IAAIjQ,EAAI,EAAGA,EAAIiQ,EAAKpQ,OAAQG,IAC7BiQ,EAAKjQ,GAAKktF,EAAmBj9E,EAAKjQ,GAAI0sF,QAGzC,GAAoB,kBAATz8E,EACZ,IAAK,MAAM3G,KAAO2G,EACVA,EAAKiN,eAAe5T,KACpB2G,EAAK3G,GAAO4jF,EAAmBj9E,EAAK3G,GAAMojF,IAItD,OAAOz8E,ECjEJ,MAAM,EAAW,EACjB,IAAIk9E,GACX,SAAWA,GACPA,EAAWA,EAAW,WAAa,GAAK,UACxCA,EAAWA,EAAW,cAAgB,GAAK,aAC3CA,EAAWA,EAAW,SAAW,GAAK,QACtCA,EAAWA,EAAW,OAAS,GAAK,MACpCA,EAAWA,EAAW,iBAAmB,GAAK,gBAC9CA,EAAWA,EAAW,gBAAkB,GAAK,eAC7CA,EAAWA,EAAW,cAAgB,GAAK,cAP/C,CAQGA,IAAeA,EAAa,KAIxB,MAAM,EAOT,OAAOhzE,GACH,OAAIA,EAAItQ,OAASsjF,EAAWC,OAASjzE,EAAItQ,OAASsjF,EAAWE,MACrDf,EAAUnyE,GAQX,CAAClZ,KAAKqsF,eAAenzE,KAPpBA,EAAItQ,KACAsQ,EAAItQ,OAASsjF,EAAWC,MAClBD,EAAWI,aACXJ,EAAWK,WACdvsF,KAAKwsF,eAAetzE,IAQvC,eAAeA,GAEX,IAAI5Z,EAAM,GAAK4Z,EAAItQ,KAmBnB,OAjBIsQ,EAAItQ,OAASsjF,EAAWI,cACxBpzE,EAAItQ,OAASsjF,EAAWK,aACxBjtF,GAAO4Z,EAAI2yE,YAAc,KAIzB3yE,EAAIuzE,KAAO,MAAQvzE,EAAIuzE,MACvBntF,GAAO4Z,EAAIuzE,IAAM,KAGjB,MAAQvzE,EAAIkJ,KACZ9iB,GAAO4Z,EAAIkJ,IAGX,MAAQlJ,EAAIlK,OACZ1P,GAAOmrF,KAAKiC,UAAUxzE,EAAIlK,OAEvB1P,EAOX,eAAe4Z,GACX,MAAMyzE,EAAiBnB,EAAkBtyE,GACnCyyE,EAAO3rF,KAAKqsF,eAAeM,EAAej6E,QAC1C+4E,EAAUkB,EAAelB,QAE/B,OADAA,EAAQnkE,QAAQqkE,GACTF,GAQR,MAAM,UAAgB,aACzB,cACI36E,QAOJ,IAAIoI,GACA,IAAIxG,EACJ,GAAmB,kBAARwG,EACPxG,EAAS1S,KAAK4sF,aAAa1zE,GACvBxG,EAAO9J,OAASsjF,EAAWI,cAC3B55E,EAAO9J,OAASsjF,EAAWK,YAE3BvsF,KAAK6sF,cAAgB,IAAI,EAAoBn6E,GAElB,IAAvBA,EAAOm5E,aACP/6E,MAAM44E,aAAa,UAAWh3E,IAKlC5B,MAAM44E,aAAa,UAAWh3E,OAGjC,KAAI04E,EAASlyE,KAAQA,EAAIS,OAe1B,MAAM,IAAIlF,MAAM,iBAAmByE,GAbnC,IAAKlZ,KAAK6sF,cACN,MAAM,IAAIp4E,MAAM,oDAGhB/B,EAAS1S,KAAK6sF,cAAcC,eAAe5zE,GACvCxG,IAEA1S,KAAK6sF,cAAgB,KACrB/7E,MAAM44E,aAAa,UAAWh3E,KAc9C,aAAapT,GACT,IAAIP,EAAI,EAER,MAAMkb,EAAI,CACNrR,KAAM4K,OAAOlU,EAAIE,OAAO,KAE5B,QAA2Bwc,IAAvBkwE,EAAWjyE,EAAErR,MACb,MAAM,IAAI6L,MAAM,uBAAyBwF,EAAErR,MAG/C,GAAIqR,EAAErR,OAASsjF,EAAWI,cACtBryE,EAAErR,OAASsjF,EAAWK,WAAY,CAClC,MAAMjjF,EAAQvK,EAAI,EAClB,MAA2B,MAApBO,EAAIE,SAAST,IAAcA,GAAKO,EAAIV,QAC3C,MAAMmuF,EAAMztF,EAAIkb,UAAUlR,EAAOvK,GACjC,GAAIguF,GAAOv5E,OAAOu5E,IAA0B,MAAlBztF,EAAIE,OAAOT,GACjC,MAAM,IAAI0V,MAAM,uBAEpBwF,EAAE4xE,YAAcr4E,OAAOu5E,GAG3B,GAAI,MAAQztF,EAAIE,OAAOT,EAAI,GAAI,CAC3B,MAAMuK,EAAQvK,EAAI,EAClB,QAASA,EAAG,CACR,MAAMiuF,EAAI1tF,EAAIE,OAAOT,GACrB,GAAI,MAAQiuF,EACR,MACJ,GAAIjuF,IAAMO,EAAIV,OACV,MAERqb,EAAEwyE,IAAMntF,EAAIkb,UAAUlR,EAAOvK,QAG7Bkb,EAAEwyE,IAAM,IAGZ,MAAMt/E,EAAO7N,EAAIE,OAAOT,EAAI,GAC5B,GAAI,KAAOoO,GAAQqG,OAAOrG,IAASA,EAAM,CACrC,MAAM7D,EAAQvK,EAAI,EAClB,QAASA,EAAG,CACR,MAAMiuF,EAAI1tF,EAAIE,OAAOT,GACrB,GAAI,MAAQiuF,GAAKx5E,OAAOw5E,IAAMA,EAAG,GAC3BjuF,EACF,MAEJ,GAAIA,IAAMO,EAAIV,OACV,MAERqb,EAAEmI,GAAK5O,OAAOlU,EAAIkb,UAAUlR,EAAOvK,EAAI,IAG3C,GAAIO,EAAIE,SAAST,GAAI,CACjB,MAAMkuF,EAAUC,EAAS5tF,EAAIsd,OAAO7d,IACpC,IAAI,EAAQouF,eAAelzE,EAAErR,KAAMqkF,GAI/B,MAAM,IAAIx4E,MAAM,mBAHhBwF,EAAEjL,KAAOi+E,EAMjB,OAAOhzE,EAEX,sBAAsBrR,EAAMqkF,GACxB,OAAQrkF,GACJ,KAAKsjF,EAAWkB,QACZ,MAA0B,kBAAZH,EAClB,KAAKf,EAAWmB,WACZ,YAAmBrxE,IAAZixE,EACX,KAAKf,EAAWoB,cACZ,MAA0B,kBAAZL,GAA2C,kBAAZA,EACjD,KAAKf,EAAWC,MAChB,KAAKD,EAAWI,aACZ,OAAOh4E,MAAMi3E,QAAQ0B,IAAYA,EAAQruF,OAAS,EACtD,KAAKstF,EAAWE,IAChB,KAAKF,EAAWK,WACZ,OAAOj4E,MAAMi3E,QAAQ0B,IAMjC,UACQjtF,KAAK6sF,eACL7sF,KAAK6sF,cAAcU,0BAI/B,SAASL,EAAS5tF,GACd,IACI,OAAOmrF,KAAKC,MAAMprF,GAEtB,MAAOsF,GACH,OAAO,GAWf,MAAM,EACF,YAAY8N,GACR1S,KAAK0S,OAASA,EACd1S,KAAKyrF,QAAU,GACfzrF,KAAKwtF,UAAY96E,EAUrB,eAAe+6E,GAEX,GADAztF,KAAKyrF,QAAQh/E,KAAKghF,GACdztF,KAAKyrF,QAAQ7sF,SAAWoB,KAAKwtF,UAAU3B,YAAa,CAEpD,MAAMn5E,EAASs5E,EAAkBhsF,KAAKwtF,UAAWxtF,KAAKyrF,SAEtD,OADAzrF,KAAKutF,yBACE76E,EAEX,OAAO,KAKX,yBACI1S,KAAKwtF,UAAY,KACjBxtF,KAAKyrF,QAAU,IC5QhB,SAASt0E,EAAG+B,EAAK9G,EAAI40E,GAExB,OADA9tE,EAAI/B,GAAG/E,EAAI40E,GACJ,WACH9tE,EAAI8O,IAAI5V,EAAI40E,ICIpB,MAAM0G,EAAkBp9E,OAAOq9E,OAAO,CAClCC,QAAS,EACTC,cAAe,EACfC,WAAY,EACZC,cAAe,EAEfC,YAAa,EACb1D,eAAgB,IAEb,MAAM,UAAe,aAMxB,YAAY2D,EAAIxB,EAAK1sF,GACjB+Q,QACA9Q,KAAKkuF,WAAY,EACjBluF,KAAKmuF,cAAe,EACpBnuF,KAAKouF,cAAgB,GACrBpuF,KAAKquF,WAAa,GAClBruF,KAAKsuF,IAAM,EACXtuF,KAAKuuF,KAAO,GACZvuF,KAAKwuF,MAAQ,GACbxuF,KAAKiuF,GAAKA,EACVjuF,KAAKysF,IAAMA,EACP1sF,GAAQA,EAAK0uF,OACbzuF,KAAKyuF,KAAO1uF,EAAK0uF,MAEjBzuF,KAAKiuF,GAAGS,cACR1uF,KAAKkjF,OAOb,YACI,GAAIljF,KAAK2uF,KACL,OACJ,MAAMV,EAAKjuF,KAAKiuF,GAChBjuF,KAAK2uF,KAAO,CACRx3E,EAAG82E,EAAI,OAAQjuF,KAAK4R,OAAOM,KAAKlS,OAChCmX,EAAG82E,EAAI,SAAUjuF,KAAK4uF,SAAS18E,KAAKlS,OACpCmX,EAAG82E,EAAI,QAASjuF,KAAKsS,QAAQJ,KAAKlS,OAClCmX,EAAG82E,EAAI,QAASjuF,KAAKiS,QAAQC,KAAKlS,QAM1C,aACI,QAASA,KAAK2uF,KAOlB,UACI,OAAI3uF,KAAKkuF,YAETluF,KAAK6uF,YACA7uF,KAAKiuF,GAAG,kBACTjuF,KAAKiuF,GAAG/K,OACR,SAAWljF,KAAKiuF,GAAGa,aACnB9uF,KAAK4R,UALE5R,KAWf,OACI,OAAOA,KAAK4tF,UAQhB,QAAQvsE,GAGJ,OAFAA,EAAKiG,QAAQ,WACbtnB,KAAKwR,KAAK8P,MAAMthB,KAAMqhB,GACfrhB,KASX,KAAKoS,KAAOiP,GACR,GAAIqsE,EAAgBzxE,eAAe7J,GAC/B,MAAM,IAAIqC,MAAM,IAAMrC,EAAK,8BAE/BiP,EAAKiG,QAAQlV,GACb,MAAMM,EAAS,CACX9J,KAAMsjF,EAAWC,MACjBn9E,KAAMqS,EAEV,QAAiB,IAGjB,GAFA3O,EAAO5O,QAAQ8O,UAAmC,IAAxB5S,KAAKwuF,MAAM57E,SAEjC,oBAAsByO,EAAKA,EAAKziB,OAAS,GAAI,CAC7C,MAAMwjB,EAAKpiB,KAAKsuF,MACVS,EAAM1tE,EAAKshC,MACjB3iD,KAAKgvF,qBAAqB5sE,EAAI2sE,GAC9Br8E,EAAO0P,GAAKA,EAEhB,MAAM6sE,EAAsBjvF,KAAKiuF,GAAGiB,QAChClvF,KAAKiuF,GAAGiB,OAAO9F,WACfppF,KAAKiuF,GAAGiB,OAAO9F,UAAU32E,SACvB08E,EAAgBnvF,KAAKwuF,MAAMY,YAAcH,IAAwBjvF,KAAKkuF,WAU5E,OATIiB,IAEKnvF,KAAKkuF,UACVluF,KAAK0S,OAAOA,GAGZ1S,KAAKquF,WAAW5hF,KAAKiG,IAEzB1S,KAAKwuF,MAAQ,GACNxuF,KAKX,qBAAqBoiB,EAAI2sE,GACrB,MAAMrJ,EAAU1lF,KAAKwuF,MAAM9I,QAC3B,QAAgB1pE,IAAZ0pE,EAEA,YADA1lF,KAAKuuF,KAAKnsE,GAAM2sE,GAIpB,MAAMM,EAAQrvF,KAAKiuF,GAAG96E,aAAa,YACxBnT,KAAKuuF,KAAKnsE,GACjB,IAAK,IAAIrjB,EAAI,EAAGA,EAAIiB,KAAKquF,WAAWzvF,OAAQG,IACpCiB,KAAKquF,WAAWtvF,GAAGqjB,KAAOA,GAC1BpiB,KAAKquF,WAAWxxE,OAAO9d,EAAG,GAGlCgwF,EAAIj2E,KAAK9Y,KAAM,IAAIyU,MAAM,6BAC1BixE,GACH1lF,KAAKuuF,KAAKnsE,GAAM,IAAIf,KAEhBrhB,KAAKiuF,GAAGnD,eAAeuE,GACvBN,EAAIztE,MAAMthB,KAAM,CAAC,QAASqhB,KASlC,OAAO3O,GACHA,EAAO+5E,IAAMzsF,KAAKysF,IAClBzsF,KAAKiuF,GAAGqB,QAAQ58E,GAOpB,SAC4B,mBAAb1S,KAAKyuF,KACZzuF,KAAKyuF,KAAMz/E,IACPhP,KAAK0S,OAAO,CAAE9J,KAAMsjF,EAAWkB,QAASp+E,WAI5ChP,KAAK0S,OAAO,CAAE9J,KAAMsjF,EAAWkB,QAASp+E,KAAMhP,KAAKyuF,OAS3D,QAAQl9E,GACCvR,KAAKkuF,WACNluF,KAAK0pF,aAAa,gBAAiBn4E,GAS3C,QAAQ05E,GACJjrF,KAAKkuF,WAAY,EACjBluF,KAAKmuF,cAAe,SACbnuF,KAAKoiB,GACZpiB,KAAK0pF,aAAa,aAAcuB,GAQpC,SAASv4E,GACL,MAAM68E,EAAgB78E,EAAO+5E,MAAQzsF,KAAKysF,IAC1C,GAAK8C,EAEL,OAAQ78E,EAAO9J,MACX,KAAKsjF,EAAWkB,QACZ,GAAI16E,EAAO1D,MAAQ0D,EAAO1D,KAAKy3E,IAAK,CAChC,MAAMrkE,EAAK1P,EAAO1D,KAAKy3E,IACvBzmF,KAAKwvF,UAAUptE,QAGfpiB,KAAK0pF,aAAa,gBAAiB,IAAIj1E,MAAM,8LAEjD,MACJ,KAAKy3E,EAAWC,MACZnsF,KAAKyvF,QAAQ/8E,GACb,MACJ,KAAKw5E,EAAWI,aACZtsF,KAAKyvF,QAAQ/8E,GACb,MACJ,KAAKw5E,EAAWE,IACZpsF,KAAK0vF,MAAMh9E,GACX,MACJ,KAAKw5E,EAAWK,WACZvsF,KAAK0vF,MAAMh9E,GACX,MACJ,KAAKw5E,EAAWmB,WACZrtF,KAAK2vF,eACL,MACJ,KAAKzD,EAAWoB,cACZttF,KAAK4vF,UACL,MAAMr+E,EAAM,IAAIkD,MAAM/B,EAAO1D,KAAK6gF,SAElCt+E,EAAIvC,KAAO0D,EAAO1D,KAAKA,KACvBhP,KAAK0pF,aAAa,gBAAiBn4E,GACnC,OASZ,QAAQmB,GACJ,MAAM2O,EAAO3O,EAAO1D,MAAQ,GACxB,MAAQ0D,EAAO0P,IACff,EAAK5U,KAAKzM,KAAK+uF,IAAIr8E,EAAO0P,KAE1BpiB,KAAKkuF,UACLluF,KAAK8vF,UAAUzuE,GAGfrhB,KAAKouF,cAAc3hF,KAAK6D,OAAOq9E,OAAOtsE,IAG9C,UAAUA,GACN,GAAIrhB,KAAK+vF,eAAiB/vF,KAAK+vF,cAAcnxF,OAAQ,CACjD,MAAMoxF,EAAYhwF,KAAK+vF,cAAcniF,QACrC,IAAK,MAAMqiF,KAAYD,EACnBC,EAAS3uE,MAAMthB,KAAMqhB,GAG7BvQ,MAAMU,KAAK8P,MAAMthB,KAAMqhB,GAO3B,IAAIe,GACA,MAAMzM,EAAO3V,KACb,IAAIkwF,GAAO,EACX,OAAO,YAAa7uE,GAEZ6uE,IAEJA,GAAO,EACPv6E,EAAKjD,OAAO,CACR9J,KAAMsjF,EAAWE,IACjBhqE,GAAIA,EACJpT,KAAMqS,MAUlB,MAAM3O,GACF,MAAMq8E,EAAM/uF,KAAKuuF,KAAK77E,EAAO0P,IACzB,oBAAsB2sE,IACtBA,EAAIztE,MAAMthB,KAAM0S,EAAO1D,aAChBhP,KAAKuuF,KAAK77E,EAAO0P,KAUhC,UAAUA,GACNpiB,KAAKoiB,GAAKA,EACVpiB,KAAKkuF,WAAY,EACjBluF,KAAKmuF,cAAe,EACpBnuF,KAAKmwF,eACLnwF,KAAK0pF,aAAa,WAOtB,eACI1pF,KAAKouF,cAAc31E,QAAS4I,GAASrhB,KAAK8vF,UAAUzuE,IACpDrhB,KAAKouF,cAAgB,GACrBpuF,KAAKquF,WAAW51E,QAAS/F,GAAW1S,KAAK0S,OAAOA,IAChD1S,KAAKquF,WAAa,GAOtB,eACIruF,KAAK4vF,UACL5vF,KAAKiS,QAAQ,wBASjB,UACQjS,KAAK2uF,OAEL3uF,KAAK2uF,KAAKl2E,QAAS23E,GAAeA,KAClCpwF,KAAK2uF,UAAO3yE,GAEhBhc,KAAKiuF,GAAG,YAAYjuF,MAQxB,aAUI,OATIA,KAAKkuF,WACLluF,KAAK0S,OAAO,CAAE9J,KAAMsjF,EAAWmB,aAGnCrtF,KAAK4vF,UACD5vF,KAAKkuF,WAELluF,KAAKiS,QAAQ,wBAEVjS,KAQX,QACI,OAAOA,KAAK8tF,aAShB,SAASl7E,GAEL,OADA5S,KAAKwuF,MAAM57E,SAAWA,EACf5S,KASX,eAEI,OADAA,KAAKwuF,MAAMY,UAAW,EACfpvF,KAiBX,QAAQ0lF,GAEJ,OADA1lF,KAAKwuF,MAAM9I,QAAUA,EACd1lF,KASX,MAAMiwF,GAGF,OAFAjwF,KAAK+vF,cAAgB/vF,KAAK+vF,eAAiB,GAC3C/vF,KAAK+vF,cAActjF,KAAKwjF,GACjBjwF,KASX,WAAWiwF,GAGP,OAFAjwF,KAAK+vF,cAAgB/vF,KAAK+vF,eAAiB,GAC3C/vF,KAAK+vF,cAAczoE,QAAQ2oE,GACpBjwF,KAQX,OAAOiwF,GACH,IAAKjwF,KAAK+vF,cACN,OAAO/vF,KAEX,GAAIiwF,EAAU,CACV,MAAMD,EAAYhwF,KAAK+vF,cACvB,IAAK,IAAIhxF,EAAI,EAAGA,EAAIixF,EAAUpxF,OAAQG,IAClC,GAAIkxF,IAAaD,EAAUjxF,GAEvB,OADAixF,EAAUnzE,OAAO9d,EAAG,GACbiB,UAKfA,KAAK+vF,cAAgB,GAEzB,OAAO/vF,KAQX,eACI,OAAOA,KAAK+vF,eAAiB,I,yBC5d9B,MAAM,UAAgB,aACzB,YAAY7+E,EAAKnR,GACb,IAAIswF,EACJv/E,QACA9Q,KAAKswF,KAAO,GACZtwF,KAAK2uF,KAAO,GACRz9E,GAAO,kBAAoBA,IAC3BnR,EAAOmR,EACPA,OAAM8K,GAEVjc,EAAOA,GAAQ,GACfA,EAAKgU,KAAOhU,EAAKgU,MAAQ,aACzB/T,KAAKD,KAAOA,EACZ,eAAsBC,KAAMD,GAC5BC,KAAKuwF,cAAmC,IAAtBxwF,EAAKwwF,cACvBvwF,KAAKwwF,qBAAqBzwF,EAAKywF,sBAAwBpzD,KACvDp9B,KAAKywF,kBAAkB1wF,EAAK0wF,mBAAqB,KACjDzwF,KAAK0wF,qBAAqB3wF,EAAK2wF,sBAAwB,KACvD1wF,KAAK2wF,oBAAwD,QAAnCN,EAAKtwF,EAAK4wF,2BAAwC,IAAPN,EAAgBA,EAAK,IAC1FrwF,KAAK4wF,QAAU,IAAI,IAAQ,CACvB1wF,IAAKF,KAAKywF,oBACVtwF,IAAKH,KAAK0wF,uBACVrwF,OAAQL,KAAK2wF,wBAEjB3wF,KAAK0lF,QAAQ,MAAQ3lF,EAAK2lF,QAAU,IAAQ3lF,EAAK2lF,SACjD1lF,KAAK8uF,YAAc,SACnB9uF,KAAKkR,IAAMA,EACX,MAAM2/E,EAAU9wF,EAAK+wF,QAAU,EAC/B9wF,KAAK+wF,QAAU,IAAIF,EAAQG,QAC3BhxF,KAAKixF,QAAU,IAAIJ,EAAQK,QAC3BlxF,KAAK0uF,cAAoC,IAArB3uF,EAAKoxF,YACrBnxF,KAAK0uF,cACL1uF,KAAKkjF,OAEb,aAAa/7B,GACT,OAAK7+C,UAAU1J,QAEfoB,KAAKoxF,gBAAkBjqC,EAChBnnD,MAFIA,KAAKoxF,cAIpB,qBAAqBjqC,GACjB,YAAUnrC,IAANmrC,EACOnnD,KAAKqxF,uBAChBrxF,KAAKqxF,sBAAwBlqC,EACtBnnD,MAEX,kBAAkBmnD,GACd,IAAIkpC,EACJ,YAAUr0E,IAANmrC,EACOnnD,KAAKsxF,oBAChBtxF,KAAKsxF,mBAAqBnqC,EACF,QAAvBkpC,EAAKrwF,KAAK4wF,eAA4B,IAAPP,GAAyBA,EAAGvvF,OAAOqmD,GAC5DnnD,MAEX,oBAAoBmnD,GAChB,IAAIkpC,EACJ,YAAUr0E,IAANmrC,EACOnnD,KAAKuxF,sBAChBvxF,KAAKuxF,qBAAuBpqC,EACJ,QAAvBkpC,EAAKrwF,KAAK4wF,eAA4B,IAAPP,GAAyBA,EAAGrvF,UAAUmmD,GAC/DnnD,MAEX,qBAAqBmnD,GACjB,IAAIkpC,EACJ,YAAUr0E,IAANmrC,EACOnnD,KAAKwxF,uBAChBxxF,KAAKwxF,sBAAwBrqC,EACL,QAAvBkpC,EAAKrwF,KAAK4wF,eAA4B,IAAPP,GAAyBA,EAAGtvF,OAAOomD,GAC5DnnD,MAEX,QAAQmnD,GACJ,OAAK7+C,UAAU1J,QAEfoB,KAAKyxF,SAAWtqC,EACTnnD,MAFIA,KAAKyxF,SAUpB,wBAESzxF,KAAK0xF,eACN1xF,KAAKoxF,eACqB,IAA1BpxF,KAAK4wF,QAAQtwF,UAEbN,KAAK2xF,YAUb,KAAK3K,GACD,IAAKhnF,KAAK8uF,YAAYnqF,QAAQ,QAC1B,OAAO3E,KACXA,KAAKkvF,OAAS,IAAI,EAAOlvF,KAAKkR,IAAKlR,KAAKD,MACxC,MAAM2R,EAAS1R,KAAKkvF,OACdv5E,EAAO3V,KACbA,KAAK8uF,YAAc,UACnB9uF,KAAK4xF,eAAgB,EAErB,MAAMC,EAAiB16E,EAAGzF,EAAQ,QAAQ,WACtCiE,EAAK/D,SACLo1E,GAAMA,OAGJ8K,EAAW36E,EAAGzF,EAAQ,QAAUH,IAClCoE,EAAKoyE,UACLpyE,EAAKm5E,YAAc,SACnB9uF,KAAK0pF,aAAa,QAASn4E,GACvBy1E,EACAA,EAAGz1E,GAIHoE,EAAKo8E,yBAGb,IAAI,IAAU/xF,KAAKyxF,SAAU,CACzB,MAAM/L,EAAU1lF,KAAKyxF,SACL,IAAZ/L,GACAmM,IAGJ,MAAMxC,EAAQrvF,KAAKmT,aAAa,KAC5B0+E,IACAngF,EAAO0B,QAEP1B,EAAOF,KAAK,QAAS,IAAIiD,MAAM,aAChCixE,GACC1lF,KAAKD,KAAK8R,WACVw9E,EAAMt9E,QAEV/R,KAAK2uF,KAAKliF,MAAK,WACXwL,aAAao3E,MAKrB,OAFArvF,KAAK2uF,KAAKliF,KAAKolF,GACf7xF,KAAK2uF,KAAKliF,KAAKqlF,GACR9xF,KAQX,QAAQgnF,GACJ,OAAOhnF,KAAKkjF,KAAK8D,GAOrB,SAEIhnF,KAAK+nF,UAEL/nF,KAAK8uF,YAAc,OACnB9uF,KAAK0pF,aAAa,QAElB,MAAMh4E,EAAS1R,KAAKkvF,OACpBlvF,KAAK2uF,KAAKliF,KAAK0K,EAAGzF,EAAQ,OAAQ1R,KAAKgyF,OAAO9/E,KAAKlS,OAAQmX,EAAGzF,EAAQ,OAAQ1R,KAAKiyF,OAAO//E,KAAKlS,OAAQmX,EAAGzF,EAAQ,QAAS1R,KAAKsS,QAAQJ,KAAKlS,OAAQmX,EAAGzF,EAAQ,QAAS1R,KAAKiS,QAAQC,KAAKlS,OAAQmX,EAAGnX,KAAKixF,QAAS,UAAWjxF,KAAKkyF,UAAUhgF,KAAKlS,QAOvP,SACIA,KAAK0pF,aAAa,QAOtB,OAAO16E,GACHhP,KAAKixF,QAAQ37D,IAAItmB,GAOrB,UAAU0D,GACN1S,KAAK0pF,aAAa,SAAUh3E,GAOhC,QAAQnB,GACJvR,KAAK0pF,aAAa,QAASn4E,GAQ/B,OAAOk7E,EAAK1sF,GACR,IAAI2R,EAAS1R,KAAKswF,KAAK7D,GAKvB,OAJK/6E,IACDA,EAAS,IAAI,EAAO1R,KAAMysF,EAAK1sF,GAC/BC,KAAKswF,KAAK7D,GAAO/6E,GAEdA,EAQX,SAASA,GACL,MAAM4+E,EAAOhgF,OAAOkI,KAAKxY,KAAKswF,MAC9B,IAAK,MAAM7D,KAAO6D,EAAM,CACpB,MAAM5+E,EAAS1R,KAAKswF,KAAK7D,GACzB,GAAI/6E,EAAO0oC,OACP,OAGRp6C,KAAKmyF,SAQT,QAAQz/E,GACJ,MAAMoI,EAAiB9a,KAAK+wF,QAAQ/xF,OAAO0T,GAC3C,IAAK,IAAI3T,EAAI,EAAGA,EAAI+b,EAAelc,OAAQG,IACvCiB,KAAKkvF,OAAOvzE,MAAMb,EAAe/b,GAAI2T,EAAO5O,SAQpD,UACI9D,KAAK2uF,KAAKl2E,QAAS23E,GAAeA,KAClCpwF,KAAK2uF,KAAK/vF,OAAS,EACnBoB,KAAKixF,QAAQrB,UAOjB,SACI5vF,KAAK4xF,eAAgB,EACrB5xF,KAAK0xF,eAAgB,EACrB1xF,KAAKiS,QAAQ,gBACTjS,KAAKkvF,QACLlvF,KAAKkvF,OAAO97E,QAOpB,aACI,OAAOpT,KAAKmyF,SAOhB,QAAQlH,GACJjrF,KAAK+nF,UACL/nF,KAAK4wF,QAAQ/vF,QACbb,KAAK8uF,YAAc,SACnB9uF,KAAK0pF,aAAa,QAASuB,GACvBjrF,KAAKoxF,gBAAkBpxF,KAAK4xF,eAC5B5xF,KAAK2xF,YAQb,YACI,GAAI3xF,KAAK0xF,eAAiB1xF,KAAK4xF,cAC3B,OAAO5xF,KACX,MAAM2V,EAAO3V,KACb,GAAIA,KAAK4wF,QAAQtwF,UAAYN,KAAKqxF,sBAC9BrxF,KAAK4wF,QAAQ/vF,QACbb,KAAK0pF,aAAa,oBAClB1pF,KAAK0xF,eAAgB,MAEpB,CACD,MAAMj8C,EAAQz1C,KAAK4wF,QAAQpwF,WAC3BR,KAAK0xF,eAAgB,EACrB,MAAMrC,EAAQrvF,KAAKmT,aAAa,KACxBwC,EAAKi8E,gBAET5xF,KAAK0pF,aAAa,oBAAqB/zE,EAAKi7E,QAAQtwF,UAEhDqV,EAAKi8E,eAETj8E,EAAKutE,KAAM3xE,IACHA,GACAoE,EAAK+7E,eAAgB,EACrB/7E,EAAKg8E,YACL3xF,KAAK0pF,aAAa,kBAAmBn4E,IAGrCoE,EAAKy8E,kBAGd38C,GACCz1C,KAAKD,KAAK8R,WACVw9E,EAAMt9E,QAEV/R,KAAK2uF,KAAKliF,MAAK,WACXwL,aAAao3E,OASzB,cACI,MAAMgD,EAAUryF,KAAK4wF,QAAQtwF,SAC7BN,KAAK0xF,eAAgB,EACrB1xF,KAAK4wF,QAAQ/vF,QACbb,KAAK0pF,aAAa,YAAa2I,ICrVvC,MAAM93D,GAAQ,GACd,SAASrmB,GAAOhD,EAAKnR,GACE,kBAARmR,IACPnR,EAAOmR,EACPA,OAAM8K,GAEVjc,EAAOA,GAAQ,GACf,MAAMuyF,EAASxM,EAAI50E,EAAKnR,EAAKgU,MAAQ,cAC/BtS,EAAS6wF,EAAO7wF,OAChB2gB,EAAKkwE,EAAOlwE,GACZrO,EAAOu+E,EAAOv+E,KACdw7E,EAAgBh1D,GAAMnY,IAAOrO,KAAQwmB,GAAMnY,GAAI,QAC/CmwE,EAAgBxyF,EAAKyyF,UACvBzyF,EAAK,0BACL,IAAUA,EAAK0yF,WACflD,EACJ,IAAItB,EAaJ,OAZIsE,EACAtE,EAAK,IAAI,EAAQxsF,EAAQ1B,IAGpBw6B,GAAMnY,KACPmY,GAAMnY,GAAM,IAAI,EAAQ3gB,EAAQ1B,IAEpCkuF,EAAK1zD,GAAMnY,IAEXkwE,EAAOlxF,QAAUrB,EAAKqB,QACtBrB,EAAKqB,MAAQkxF,EAAOx1E,UAEjBmxE,EAAGv8E,OAAO4gF,EAAOv+E,KAAMhU,GAIlCuQ,OAAOs3C,OAAO1zC,GAAQ,CAClBw+E,QAAA,EACAC,OAAA,EACA1E,GAAI/5E,GACJ05E,QAAS15E,KC3Cb,IAAI,GAAS,WAAa,IAAIkwE,EAAIpkF,KAASqkF,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACE,YAAY,QAAQ,CAACF,EAAG,SAAS,CAACt8E,MAAM,CAAC,SAAW,KAAK,CAACs8E,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACE,YAAY,aAAa,CAACF,EAAG,aAAa,CAACt6C,IAAI,OAAO2oD,MAAMxO,EAAIyO,SAAS5qF,MAAM,CAAC,MAAQm8E,EAAI5gF,MAAM,QAAU4gF,EAAI0O,WAAW37E,GAAG,CAAC,MAAQitE,EAAI2O,UAAU,MAAQ3O,EAAI4O,iBAAiB,IAAI,IAAI,IAAI,IAAI,IACxY,GAAkB,G,aCqCtB,I,oGAAA,CACEhkF,KADF,WAEI,MAAO,CACLikF,mBAAmB,EACnBtxE,QAAS,EACTq9C,MAAO,UACPk0B,SAAU,UACV/rF,OAAQ,UACR0rF,SAAU,WAGdhvE,MAAO,CACLrgB,MAAO,CACLoF,KAAM+R,OACNw4E,UAAU,IAGdC,WAAY,CACVC,WAAJ,kBAEEC,SAAU,CACRD,WADJ,WAEM,OAAOrzF,KAAKuzF,MAAMC,KAAKH,YAEzBP,UAJJ,WAKM,MAAO,CACLnxE,QAAS3hB,KAAK2hB,QACdwgD,WAAYniE,KAAK2hB,QACjB0gD,gBAAgB,EACxB,eACQ4wB,kBAAmBjzF,KAAKizF,kBACxB5yD,aAAa,EACb/5B,MAAM,EACNmtF,iBAAiB,EACjBC,eAAe,EACf7vD,cAAc,EACdm7B,MAAOh/D,KAAKg/D,MACZ20B,YAAY,EACZxsF,OAAQnH,KAAKmH,OACbkzD,UAAW,CACT,SAAU,gBACV,QAAV,oBAMEu5B,QAAS,CACPb,UADJ,SACA,cACMjjF,QAAQC,IAAI,yBACZrN,EAAGyU,GAAG,kBAAkB,SAA9B,GACQ,IAAR,gBACQ,EAAR,mBACU7Q,KAAM0I,EAAK1I,KACX9B,GAAIwK,EAAKxK,SAIfwuF,aAXJ,SAWA,GACMhzF,KAAK6zF,MAAM,QAASC,IAEtBC,aAAc,SAAlB,GACM/zF,KAAKqzF,WAAW3nC,UAAU18C,IAE5BglF,UAjBJ,SAiBA,GACM,IAAI3mE,EAAM3qB,EAAG2hE,SACT98D,EAAS8lB,EAAIrnB,YACbM,EAAO+mB,EAAID,QAAQ7lB,EAAOjB,MAC1BxE,EAAM,CACRwE,KAAMiB,EAAOjB,KACb9B,GAAI8B,EAAK1H,QAGX,OADAyuB,EAAIthB,aAAa,KAAMjK,GAChB,GAAb,uBC/GgV,M,6OCO1UmyF,GAAc,CAAC,KAAM,KAAM,KAAjC,MAEMC,GAAmB,WACvB,OAAOD,GAAA,QAAmB,cAKxB,OAJApwE,EAAA,GAAa,CACXjb,KAAM,CAACurF,QAASx5E,OADL,QAEXy5E,SAAS,GAEX,IALF,IADuB,GAUnBC,GAAe,WACnB,OAAOJ,GAAA,QAAmB,cAKxB,OAJApwE,EAAM,SAAW,gBAAjB,IAAoC,CAClCjb,KAAM,CAAC+R,OAD2B,QAElCy5E,QAAS,MAEX,IALF,IADmB,GAUfE,GAAc,WAClB,OAAOL,GAAA,QAAmB,cAKxB,OAJApwE,EAAM,QAAU,gBAAhB,IAAmC,CACjCjb,KAAM,CAAC+R,OAD0B,QAEjCy5E,QAAS,MAEX,IALF,IADkB,GAUdG,GAAU,CACdtxE,IAAK3S,OAAA,KADS,IAEdmmB,OAAQnmB,OAAA,KAFM,IAGduU,MAAOvU,OAAA,UAGT,SAASkkF,GAAT,OACE,IAAI9rF,EAAJ,EACA,GAAI,MAAA2B,IAAJ,IAAmBA,EAAnB,CAGA,KAAU,CACR,IAAMoqF,EAAahzE,EAAA,UAAnB,IACA/Y,GAAa,IAAJ,OAAT,GAKF,MAAI,QAAAE,GAAmB,KAAAyB,IAAvB,IAAqCA,GAKrC3B,GAAa,IAAJ,OAAT,GACOA,EAAP,eAJSA,EAAP,eAOJ,IAAM,GAAQ,IAAd,IAEe,kBAAW,CACxB0B,KADwB,QAExBsqF,YAFwB,EAGxB7wE,MAAO,iEACL8wE,KAAM,CACJ/rF,KAAM,CAACurF,QAASx5E,OADZ,QAEJy5E,SAAS,IAHN,IAAF,IAMH39D,OAAQ,CACN7tB,KAAM,CAAC+R,OADD,QAENy5E,QAAS,OARN,IAAF,IAWHvvE,MAAO,CACLjc,KAAM,CAAC+R,OADF,QAELy5E,QAAS,OAbN,IAAF,IAgBHQ,UAAW,CACThsF,KADS,OAETwrF,QAFS,KAGTS,UAAY,SAAAv1F,GAAD,MAAc,CAAC,OAAQ,QAAS,MAAO,SAAU,WAAY,WAAWw1F,SAASx1F,KAE9F0I,IAAK,CACHY,KADG,OAEHwrF,QAAS,SAGbW,OA7BwB,SA6BlB,EA7BkB,GA6BoB,IAAjC,EAAiC,EAAjC,QAAiC,EAAjC,OAAiC,EAAjC,SAELC,GAFsC,EAARp1E,OAElC,IACA,IAAK,IAAL,OACEo1E,GAAYr6E,OAAQkJ,EAApB,IAEF,IAAIoxE,EAAY,OAAhB,GA4BA,OA1BA,GAAgB,iBAGd,EACA,SAHAA,EADc,GAId,GACEV,GAAA,YAAsB,SAAA9yE,GACpB,IAAMje,EAAoCqgB,EAA1C,GACMnb,EAAY8rF,GAAgB5rF,EAAM6Y,EAAxC,GACA,GAAewzE,EAAA,WAInB,IAAMC,EAAgBD,EAAA,MAAe,SAAAvsF,GAAS,OAAIA,EAAA,WAAlD,WAEAusF,EAAA,SAEEhyE,KAAMiyE,IAAkBrxE,EAFX,MAAf,gCAGUA,EAAR,MAAuBA,EAHV,MAAf,mCAIaA,EAAX,QAA4BA,EAJf,QAAf,kCAKYA,EAAV,OAA0BA,EALb,OAAf,uCAMiBA,EAAf,WAAmCA,EAAM+wE,WAN3C,IASA,YAvBc,GA0BTvmE,EAAExK,EAAD,IAAY,OAAAsxE,GAAA,MAAUnmF,EAAM,CAAE4jF,MAAOqC,IAA7C,MC5HE,I,oBAAc,CAAC,KAAM,KAAM,KAAjC,OAEMG,GAAY,CAAC,QAAS,MAA5B,UAEA,SAASC,GAAT,KACE,OAAO,WAAmB,cAExB,OADAxxE,EAAMs3D,EAAS,gBAAf,IAAkCma,IAClC,IAFF,IAMF,IAAMC,GAAkB,SAAAj2F,GAAD,MAAc,8CAArC,IACMk2F,GAAaH,GAAU,SAAS,iBAAO,CAC3CzsF,KAD2C,OAE3CwrF,QAF2C,KAG3CS,UAAWU,OAGPE,GAAoB,SAAAn2F,GAAD,MAAc,wDAAvC,IACMo2F,GAAeL,GAAU,WAAW,iBAAO,CAC/CzsF,KAD+C,OAE/CwrF,QAF+C,KAG/CS,UAAWY,OAGPE,GAAyB,SAAAr2F,GAAD,MAAc,kEAA5C,IACMs2F,GAAoBP,GAAU,gBAAgB,iBAAO,CACzDzsF,KADyD,OAEzDwrF,QAFyD,KAGzDS,UAAWc,OAGP,GAAU,CACdx5C,MAAO7rC,OAAA,KADO,IAEdulF,QAASvlF,OAAA,KAFK,IAGdwlF,aAAcxlF,OAAA,UAGVylF,GAAW,CACf55C,MADe,QAEf05C,QAFe,UAGfC,aAAc,iBAGhB,SAAS,GAAT,OACE,IAAIptF,EAAYqtF,GAAhB,GACA,SAAI1rF,EAAJ,CAGA,KAAU,CAER,IAAMoqF,EAAahzE,EAAA,UAAnB,IACA/Y,GAAa,IAAJ,OAAT,GAIF,OADAA,GAAa,IAAJ,OAAT,GACOA,EAAP,eAGF,IAAM,GAAQ,IAAd,IAEe,kBAAW,CACxB0B,KADwB,QAExBsqF,YAFwB,EAGxB7wE,MAAO,iDACL7b,IAAK,CACHY,KADG,OAEHwrF,QAAS,OAEX4B,MALK,QAMLC,UANK,QAOL95C,MAAO,CACLvzC,KADK,OAELwrF,QAFK,KAGLS,UAAWU,KAVR,IAAF,IAaHM,QAAS,CACPjtF,KADO,OAEPwrF,QAFO,KAGPS,UAAWY,KAhBR,IAAF,IAmBHK,aAAc,CACZltF,KADY,OAEZwrF,QAFY,KAGZS,UAAWc,KAEVC,IAELb,OA7BwB,SA6BlB,EA7BkB,GA6BY,IAAzB,EAAyB,EAAzB,QAAyB,EAAzB,KAAernE,EAAU,EAAVA,SAEpBsnE,EAAJ,GACA,IAAK,IAAL,OACEA,GAAYr6E,OAAQkJ,EAApB,IAEF,IAAIoxE,EAAY,OAAhB,GAyBA,OAvBA,GAAgB,iBAGd,EACA,SAHAA,EADc,GAId,GACE,eAAsB,SAAAxzE,GACpB,IAAMje,EAAiBqgB,EAAvB,GACMnb,EAAY,GAAgBE,EAAM6Y,EAAxC,GACA,GAAewzE,EAAA,WAInBA,EAAA,SACE,aAAcpxE,EADD,UAEb,aAAcA,EAFD,OAAf,kCAGYA,EAAV,OAA0BA,EAHb,OAAf,oCAIcA,EAAZ,SAA8BA,EAJjB,SAAf,0CAKoBA,EAAlB,cAAyCA,EAAMiyE,cALjD,IAQA,YApBc,GAuBTznE,EACLxK,EADM,IAEN,OAAAsxE,GAAA,MAAUnmF,EAAM,CACdy1E,YADc,MAEdmO,MAAOqC,IAJX,MCzHAiB,GAAY,gBACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,GAAAA,GAAiB,QAOhC,KAAkBA,GAAW,CAACC,SAAA,KAAMC,QAAKC,UCgDzC,iBACA,aAGA,iDAEA,IACErnF,KADF,WAEI,MAAO,CACL01E,QAAQ,EACRlhF,MAAO,CACLoF,KAAM+R,OACNw4E,UAAU,GAEZjF,WAAW,EACXx8E,OAAQ,GACR4kF,MAAO,EACPlsF,KAAM,GACNo7E,KAAM,GACNG,UAAU,EACVD,QAAS,IACTE,YAAa,GACbjB,MAAO,GACPx2E,KAAM,GACNooF,IAAK,GACLC,QAAIx6E,EACJy6E,UAAW,EACXC,cAAe,EACfvR,YAAa,EACbwR,WAAY,IAGhBvD,WAAY,CACVwD,OAAJ,IAEEC,QA7BF,aA8BEjD,QAAS,CACPvO,QADJ,WAEMrlF,KAAKmlF,YAAchmF,KAAKgB,IAAIH,KAAKmlF,YAAa,GAC9CnlF,KAAKmlF,YAAchmF,KAAKe,IAAIF,KAAKmlF,YAAa,GAC9CnlF,KAAK22F,WAAa32F,KAAKmlF,aAEzBM,WANJ,WAOM,GAAkB,KAAdzlF,KAAKoK,MAA6B,KAAdpK,KAAKwlF,KAA7B,CAGAxlF,KAAK82F,mBACL92F,KAAK0kF,QAAS,EACd50E,QAAQC,IAAI/P,KAAKoK,KAAMpK,KAAKwlF,MAC5B,IAAN,YACA,YACMxlF,KAAK0R,OAAOF,KAAK,OAAQ,CACvBpH,KAAR,EACQo7E,KAAR,MAGIR,SApBJ,WAqBMhlF,KAAK0kF,QAAS,EACd1kF,KAAKmO,KAAO,GACZnO,KAAK0R,OAAO0B,SAEd0jF,iBAzBJ,WAyBA,WACM92F,KAAK0R,OAAS,GAApB,IACQ42E,WAAY,CAAC,YAAa,UAAW,eACrCyO,kBAAmB,CAAC,KAAM,SAE5B/2F,KAAK0R,OAAOyF,GAAG,gBAAgB,SAArC,GACQ,EAAR,mBACQ,EAAR,eAEMnX,KAAK0R,OAAOyF,GAAG,QAAQ,SAA7B,GACQ,EAAR,aACQ,EAAR,kBAEMnX,KAAK0R,OAAOyF,GAAG,YAAY,SAAjC,GACQ,EAAR,iBAEMnX,KAAK0R,OAAOyF,GAAG,QAAQ,SAA7B,GACQ,EAAR,qBACQ,EAAR,eACQ,EAAR,YACQ,EAAR,mBAEMy4B,aAAY,WACN,EAAZ,QACU,EAAV,6CAEA,MAEI21C,mBArDJ,SAqDA,GACuB,GAAbv2E,EAAK1I,MAAwB,GAAX0I,EAAKxK,IAAWxE,KAAKy2F,WACzCz2F,KAAKy2F,YACLz2F,KAAKuzF,MAAMyD,OAAOjD,aAAa/zF,KAAKw2F,GAAG9qC,cAEvC1rD,KAAKw2F,GAAGS,aAAajoF,EAAK1I,KAAM0I,EAAKxK,KAGzC8gF,iBA7DJ,SA6DA,GACUtlF,KAAKw2F,GAAGroF,OAASa,IAGrBhP,KAAKw2F,GAAGroF,KAAOa,EACX7P,KAAKwB,UAAYX,KAAK22F,YACxB32F,KAAK0R,OAAOF,KAAK,WAAYxR,KAAKw2F,GAAGU,kBAI3CC,QArGF,WAuGI,IAAIxQ,EAAM,IAAI,GACdA,EAAIzD,KAAK,MAAOkU,IAAU,GAC1BzQ,EAAIzzE,SCxL0U,M,kECGpU,eAEZ,OAAO,eAAW,CAChB9I,KAAM,KAAF,OADY,GAGhBsqF,YAHgB,EAKhB7wE,MAAO,CACLzB,GADK,OAELpa,IAAK,CACHY,KADG,OAEHwrF,QAAS,QAIbW,OAbgB,SAaV,EAbU,GAaoB,IAAzB,EAAyB,EAAzB,QAAyB,EAAzB,KAAernE,EAAU,EAAVA,SACxB1e,EAAA,YAAoB,UAAG5E,EAAH,YAAW4E,EAAA,aAAZ,IAAnB,OAEA,IAAQ/G,EAAR,EAAQA,MACR,KAAW,CAET+G,EAAA,SACA,IAAM4iB,EAAUthB,OAAA,gBAA0B,SAAAjI,GAGxC,YAAIA,EAAgB,OAAO,EAE3B,IAAM7E,EAAQyE,EALgC,GAS9C,OAAII,EAAA,WAAJ,UACE2G,EAAA,YACA,GAGKxL,GAAP,kBAAuBA,KAGrBouB,EAAJ,SAAoB5iB,EAAA,wBAAwB4iB,EAAA,KAAxB,OAQtB,OALI/N,EAAJ,KACE7U,EAAA,SAAgBA,EAAA,UAAhB,GACAA,EAAA,YAAmB6U,EAAnB,IAGKwK,EAAExK,EAAD,MAAR,MC1CS,8BAAyB,CACtCzZ,KADsC,cAEtCsqF,YAFsC,EAGtC7wE,MAAO,CACLzB,GADK,OAELpa,IAAK,CACHY,KADG,OAEHwrF,QAAS,OAEXiD,MAAO,CACLzuF,KADK,QAELwrF,SAAS,IAGbW,OAdsC,SAchC,EAdgC,GAcF,IAClC,EADS,EAAyB,EAAzB,QAAyB,EAAzB,KAAernE,EAAU,EAAVA,SAEhBzlB,EAAR,EAAQA,MA2BR,OA1BA,IAEE+G,EAAA,SACA4iB,EAAUthB,OAAA,gBAA0B,SAAAjI,GAGlC,YAAIA,EAAgB,OAAO,EAE3B,IAAM7E,EAAQyE,EAL0B,GASxC,OAAII,EAAA,WAAJ,UACE2G,EAAA,YACA,GAGKxL,GAAP,kBAAuBA,MAIvBqgB,EAAJ,KACE7U,EAAA,SAAgBA,EAAA,UAAhB,GACAA,EAAA,YAAmB6U,EAAnB,IAGKwK,EACLxK,EADM,IAEN,OAAAsxE,GAAA,MAAUnmF,EAAM,CACdy1E,YADc,YAEdmO,MAAOt+E,MAAW,CAChB,mBAAoBuP,EAAMwzE,QADrB,OAEGzlE,GAFH,MAJX,M,6DC/BW,UAAA0lE,GAAA,MAAO,GAAD,KAEnB,gBAAmB,SAFN,OAIN,CACPltF,KADO,SAGPmtF,QAHO,WAIL,MAAO,CAAEjrB,KAAMtsE,OAGjBw3F,cAPO,EASP3zE,MAAO,CACL4qD,SADK,QAELgpB,eAFK,QAGLC,SAHK,QAILl0F,MAAO2wF,SAGTnlF,KAAM,iBAAO,CACX2oF,OADW,GAEXC,SAFW,GAGXC,SAAU,KAGZC,MAAO,CACLD,SAAU,CACR5sF,QADQ,SACD,GACL,IAAM8sF,EAASznF,OAAA,oBAAf,GAEAtQ,KAAA,mBAEFg4F,MANQ,EAORxyF,WAAW,IAIfouF,QAAS,CACPqE,WADO,SACG,GAAY,WACdC,EAAW,SAAAt7D,GACf,OAAOA,EAAA,mBAA0B,SAAAvyB,GAC/B,OAAU,EAAV,SAAyBuyB,EAAzB,UACC,CAAEp3B,WAAW,KAGZoyF,EAAqB,CACzBO,KAAMv7D,EADmB,KAEzBw7D,MAAO,aACPC,eAAgB,cAiBlB,OAdIr4F,KAAJ,eAEE43F,EAAA,eAA0Bh7D,EAAA,yBAAgC,SAAAvyB,GACxD,IAGI,0BAA6BuyB,EAAjC,QAEAg7D,EAAA,MAAiBM,EAAjB,QAGFN,EAAA,MAAiBM,EAAjB,GAGF,GAGFI,SA/BO,WAgCL,WAAOt4F,KAAK23F,OAAO1wC,QAAO,SAAArqB,GAAK,OAAKA,EAAA,UAA7B,cAGT/7B,MAnCO,WAoCLb,KAAA,gBAAoB,SAAA48B,GAAK,OAAIA,EAA7B,WACA58B,KAAA,iBAEFu4F,cAvCO,WAuCM,WACPv4F,KAAJ,gBAEE+X,YAAW,WACT,gBADF,IAMJygF,gBAhDO,WAiDLx4F,KAAA,gBAAoB,SAAA48B,GAAK,OAAIA,EAA7B,qBACA58B,KAAA,iBAEFy4F,SApDO,SAoDC,GACNz4F,KAAA,eACAA,KAAA,cAAmBA,KAAKi4F,WAAxB,KAEFS,WAxDO,SAwDG,GACR,IAAM5zE,EAAQ9kB,KAAK23F,OAAOnwF,MAAK,SAAAzI,GAAC,OAAIA,EAAA,OAAW69B,EAA/C,QAEA,MAEA,IAAM+7D,EAAU34F,KAAK43F,SAASpwF,MAAK,SAAAzI,GAAC,OAAIA,EAAA,OAAW+lB,EAAnD,QACA,IACE6zE,EAAA,QACAA,EAAA,kBAGF34F,KAAA,SAAgBA,KAAK43F,SAAS3wC,QAAO,SAAAloD,GAAC,OAAIA,EAAA,OAAW+lB,EAArD,QACA9kB,KAAA,OAAcA,KAAK23F,OAAO1wC,QAAO,SAAAloD,GAAC,OAAIA,EAAA,OAAW+lB,EAAjD,QACA9kB,KAAA,QAAaA,KAAb,SAA4B8kB,EAA5B,SAIJiwE,OA3GO,SA2GD,GAAG,WACP,OAAO1mE,EAAE,OAAQ,CACfo2D,YADe,SAEfx8E,MAAO,iBACL2wF,YADK,GAEF54F,KAAK64F,QAEV1hF,GAAI,CACFq1D,OAAS,SAAA5nE,GAAD,OAAc,uBAEvB5E,KAAK84F,OATR,Y,0FChHW,UAAAxB,GAAA,MAAO,GAAD,qBAInB,gBAAoB,CAAC,WAAD,wBAAD,SAJN,OAYN,CACPltF,KADO,aAGPyZ,MAAO,CACLk1E,IADK,QAELC,SAFK,QAGLC,aAAc,CACZrwF,KADY,OAEZwrF,QAAS,IAEX8E,UAPK,QAQL/1F,KARK,QASLuiF,QAAS,CACP98E,KAAM,CAAC4K,OADA,QAEP4gF,QAAS,KAEX+E,WAAY,CACVvwF,KAAM,CAACurF,QADG,QAEVC,QAFU,qBAGVS,UAAW,SAAA1tC,GAAC,MAAiB,kBAANA,IAAwB,IAANA,IAE3CiyC,SAAUjF,SAGZnlF,KAAM,iBAAO,CACXqqF,eAAgB,IAGlB/F,SAAU,CACR1hE,QADQ,WAEN,MAAO,CACL,oBAAqB5xB,KADhB,SAEL,kBAAmBA,KAFd,SAGL,kBAAmBA,KAAK6D,SAAW7D,KAH9B,IAIL,oBAAqBA,KAJhB,SAKL,0BAA2BA,KALtB,cAML,gBAAiBA,KANZ,KAOL,sBAAuBA,KAAKk5F,YAAcl5F,KAPrC,SAQL,iBAAkBA,KARb,MASL,gBAAiBA,KATZ,KAUL,eAAgBA,KAVX,IAWL,oBAAqBA,KAAKo5F,WAK9BE,cAlBQ,WAmBN,OACGt5F,KAAD,OACCA,KAFH,UAOFu5F,OA1BQ,WA2BN,OAAOv5F,KAAKs5F,eACPt5F,KADE,MAEH,qCAFJ,OAIF2xB,OA/BQ,WAgCN,GAAI3xB,KAAKw5F,WAAax5F,KAAtB,IAAgC,MAAO,GAEvC,MAQIA,KAAKy5F,SART,YAAM,EAAN,EAAM,MAAN,EAAM,SAAN,EAAM,SAAN,EAAM,cAAN,EAAM,OAAN,EAAM,MAOJ5yF,EAPF,EAOEA,IAGF,MAAO,CACLqvC,cAAe,gBAAcryC,EAAA,EADxB,GAEL+9B,YAAa,gBAFR,GAGLoB,aAAc,gBAHT,GAILT,WAAY,gBAAciT,EAAD,MAK/BsiD,MAAO,CACL4B,SADK,aAELhU,QAAS,cAGXmR,QAtFO,WAuFD72F,KAAJ,UAAmBA,KAAK+X,cAG1Bo/E,QA1FO,WA4FDn3F,KAAK25F,OAAO19E,eAAhB,gBACE,gBAAQ,cAAR,MAKF,GAAIjc,KAAK0lF,SACP,gBAAU,cAAe,KAAzB,OAIJkO,QAAS,CACPgG,WADO,WAEL,OAAO55F,KAAKskF,eAAe,MAAO,CAChCG,YAAa,oBACZ,CACD,gBAAQzkF,KAAM,SAAU,CACtBiI,MAAO,CAAE2qF,MAAO,qBAItBiH,WAVO,WAWL,OAAO75F,KAAKskF,eAAe,MAAO,CAChCG,YADgC,mBAEhCmO,MAAO,mBACJ5yF,KAAD,cAAqB,GAEvBiI,MAAO,CACL6xF,KADK,SAEL,YAAa,WAEd,CAAC,gBATJ,SAWFC,WAtBO,WAsBG,WACFC,EAAWh6F,KAAKs5F,cAClBt5F,KADa,mBAEbA,KAFJ,aAIMgP,EAAOgrF,EAASh6F,KAAD,MAAa,CAChCykF,YADgC,mBAEhCmO,MAAOqH,GAAA,mCAFyB,MAGhCh0F,MAAOg0F,GAAA,kCAHyB,MAIhCC,WAAY,CAAC,CACX9vF,KADW,OAEX5G,MAAOxD,KAAK05F,WAEdviF,GAAI,CACFgjF,aAAc,kBAAMvkF,OAAA,aAAoB,EADtC,gBAEFwkF,aAAcp6F,KAAK+X,cAIvB,OAAO/X,KAAKskF,eAAe,MAAOt1E,EAAM,CACtChP,KADsC,aAEtCA,KAFF,gBAKFq6F,cA9CO,WA+CL,OAAOr6F,KAAKskF,eAAe,aAAc,CACvCzgE,MAAO,CAAEzZ,KAAMpK,KAAKm5F,aACnB,CAACn5F,KAFJ,gBAIF+X,WAnDO,WAmDG,WACRnC,OAAA,aAAoB5V,KAApB,eAEA,IAAM0lF,EAAUlyE,OAAOxT,KAAvB,SAGGA,KAAD,WAEA,gBAHF,KAQAA,KAAA,cAAqB4V,OAAA,YAAkB,WACrC,gBADF,MAMJm/E,OA7KO,SA6KD,GACJ,OAAO1mE,EAAE,MAAO,CACdo2D,YADc,UAEdmO,MAAO5yF,KAFO,QAGdiG,MAAOjG,KAAK2xB,QACX,EACmB,IAApB3xB,KAAKm5F,WACDn5F,KADJ,gBAEIA,KAPN,kB,0BC7MW,SAASs6F,GAAmBvlF,GACzC,GAAIT,MAAMi3E,QAAQx2E,GAAM,OAAOwlF,gBAAiBxlF,G,wCCFnC,SAASylF,GAAiB9qF,GACvC,GAAsB,qBAAX+qF,QAAmD,MAAzB/qF,EAAK+qF,OAAOC,WAA2C,MAAtBhrF,EAAK,cAAuB,OAAO4E,MAAMzM,KAAK6H,G,iBCDvG,SAASirF,KACtB,MAAM,IAAIC,UAAU,wICGP,SAASC,GAAmB9lF,GACzC,OAAO+lF,GAAkB/lF,IAAQgmF,GAAgBhmF,IAAQimF,gBAA2BjmF,IAAQkmF,K,4HCW9F,G,aASA,SAASC,GAAT,GACE,MAAO,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,OAAOC,MAAK,SAAA9wF,GAAG,OAAI+wF,EAAA,SAA9D,MAGF,SAASC,GAAT,GACE,MAAQ,0CAA0Cx2F,KAAKy2F,IAAS,UAAUz2F,KAAlE,IAAgFy2F,EAAA,OAAxF,GAdF,YACE,mBACA,kBACA,oBACA,mBACA,kBACA,oBANF,CAAKC,QAAL,KAiBA,IAAM,GAAQ,OAAAjE,GAAA,MAAO,GAAD,qBAIlB,SAJY,OAML,CACPltF,KADO,SAGPyZ,MAAO,CACLmyE,MADK,QAELvnB,SAFK,QAGLlhE,KAHK,QAILC,MAJK,QAKL+f,KAAM,CAAC/Z,OALF,QAMLxL,IAAK,CACHY,KADG,OAEHuqF,UAFG,EAGHiB,QAAS,MAIbd,SAAU,CACRkI,OADQ,WAEN,UAEFC,iBAJQ,WAKN,OAAOtH,QACLn0F,KAAK07F,WAAWC,OAAS37F,KAAK07F,WADhC,aAMJ9H,QAAS,CACPgI,QADO,WAEL,IAAIC,EAAJ,GAGA,OAFI77F,KAAK84F,OAAT,UAAyB+C,EAAW77F,KAAK84F,OAAO1E,QAAQ,GAAGjxF,KAAlC,QAElB,gBAAkBnD,KAAzB,IAEF87F,QAPO,WAQL,IAAM7lD,EAAQ,CACZ8lD,OAAQ/7F,KADI,OAEZg8F,MAAOh8F,KAFK,MAGZw7F,OAAQx7F,KAHI,OAIZi8F,MAAOj8F,KAJK,MAKZk8F,OAAQl8F,KAAKk8F,QAGTC,EAAe,yBAAiB,SAAA9zF,GAAG,OAAI4tC,EAA7C,MAEA,OACGkmD,GAAgBZ,GAAjB,IAA4C,gBAAcv7F,KAD5D,OAKFo8F,eAvBO,WAwBL,MAAO,CACL3X,YADK,qBAELmO,MAAO,CACL,mBAAoB5yF,KADf,SAEL,eAAgBA,KAFX,KAGL,eAAgBA,KAHX,iBAIL,gBAAiBA,KAJZ,MAKL,gBAAiBA,KAAKg2F,OAExB/tF,MAAO,iBACL,eAAgBjI,KADX,iBAELyuE,SAAUzuE,KAAKy7F,kBAAoBz7F,KAF9B,SAGL4I,KAAM5I,KAAKy7F,iBAAmB,cAHzB,GAIFz7F,KAAK64F,QAEV1hF,GAAInX,KAAK07F,aAGbW,kBA1CO,WA2CL,IAAMxJ,EAAW7yF,KAAjB,UACMs8F,EAAc,mCACft8F,KADe,kBAAH,IAEfiG,MAAO4sF,EAAW,CAChBA,WACA7kE,OAFgB,EAGhByT,MAAOoxD,QACL72E,IAIN,OAFAhc,KAAA,eAEA,GAEFu8F,YAxDO,SAwDI,GACTvtF,EAAA,yCAAkBA,EAAL,OAAoBhP,KAAKw8F,cACtCx8F,KAAA,aAAkBA,KAAlB,UAEFy8F,eA5DO,SA4DO,KACZ,IAAMC,EAAN,GACM1tF,EAAOhP,KAAb,iBAEIo7F,EAJwC,iBAOtCuB,EAAiBrB,EAAA,QAAvB,KACMsB,EAAiBD,IAAvB,EAEA,EAEED,EAAA,SAEAtB,EAAWE,EAAA,QAAX,GACIJ,GAAJ,KAA8BE,EAAA,KAGhCpsF,EAAA,YACAA,EAAA,YAEA,IAAM6jF,EAAW7yF,KAAjB,UAKA,OAJA,IAAcgP,EAAA,MAAa,CAAE6jF,aAE7B7yF,KAAA,eAEOquB,EAAEruB,KAAKy7F,iBAAmB,SAAWz7F,KAApC,MAAR,IAEF68F,cAxFO,SAwFM,KACX,IAAMC,EAAqB,CACzBlK,MADyB,cAEzB3qF,MAAO,CACL80F,MADK,6BAELC,QAFK,YAGLlD,KAHK,MAIL,eAAe,IAIbvsE,EAAOvtB,KAAb,UASA,OARA,IACE88F,EAAA,MAAgB,CACdjK,SADc,EAEd7kE,OAFc,EAGdyT,MAAOlU,IAIJc,EAAEruB,KAAKy7F,iBAAmB,SAAzB,OAA4Cz7F,KAA5C,oBAAsE,CAC5EquB,EAAE,MAAOyuE,EAAS,CAChBzuE,EAAE,OAAQ,CACRpmB,MAAO,CACL0xB,EAAG2hE,UAMb2B,uBAtHO,SAsHe,KAIpB,IAAMjuF,EAAkB,CACtB4jF,MAAO,CACL,qBAAqB,IAInBrlE,EAAOvtB,KAAb,UACA,IACEgP,EAAA,MAAa,CACX6jF,SADW,EAEX7kE,OAFW,EAGXyT,MAAOlU,IAIXvtB,KAAA,eAEA,IAAMk2F,EAAYoF,EAAlB,UAIA,OAHAtsF,EAAA,MAAassF,EAAb,MACAtsF,EAAA,SAAgBA,EAAhB,GAEOqf,EAAEruB,KAAKy7F,iBAAmB,SAAzB,OAA4Cz7F,KAA5C,oBAAsE,CAC5EquB,EAAE6nE,EADJ,OAMJnB,OAhLO,SAgLD,GACJ,IAAMuG,EAAOt7F,KAAb,UAEA,wBAAWs7F,EACLD,GAAJ,GACSr7F,KAAK68F,cAAcvB,EAA1B,GAEKt7F,KAAKy8F,eAAenB,EAA3B,GAGKt7F,KAAKi9F,uBAAuB3B,EAAnC,MAIW,kBAAW,CACxBlxF,KADwB,SAGxB8yF,aAHwB,GAKxBxI,YALwB,EAOxBK,OAPwB,SAOlB,EAPkB,GAOK,IAAlB,EAAkB,EAAlB,KAAQrnE,EAAU,EAAVA,SACbmuE,EADuB,GAe3B,OAXI7sF,EAAJ,WACE6sF,EAAW7sF,EAAA,sBACTA,EAAA,SADS,WADM,SAOVA,EAAA,SAAP,mBACOA,EAAA,SAAP,WAGKqf,EAAE,GAAD,EAAcwtE,EAAW,CAAH,GAA9B,MCxPJ,MCYe,I,UAAA,OAAAvE,GAAA,sBAAyB,CACtCltF,KADsC,UAGtCsqF,YAHsC,EAKtC7wE,MAAO,CACL21E,SADK,QAEL2D,MAAO,CACLv0F,KADK,OAELwrF,QAAS,WAEX3lB,SANK,QAOLn/B,QAPK,QAQL8tD,IARK,OASL7vF,KAAM,CACJ3E,KAAM,CAAC4K,OADH,QAEJ4gF,QAAS,GAEX5mF,MAAO,CACL5E,KAAM,CAAC4K,OADF,QAEL4gF,QAAS,QAEX5wF,MAAO2wF,SAGTY,OAzBsC,SAyBhC,KACJ,IAAM,EAAN,EAAM,WAAN,EAAM,UAAuBlxE,EAA7B,EAA6BA,MACvB7U,EAAO,CACXy1E,YADW,UAEXmO,MAAO,iBACL,kBAAmB/uE,EADd,MAEL,uBAAwBA,EAFnB,UAGF,gBAAuBw5E,IAE5Bp1F,MAAO,CACLm1F,IAAKv5E,EADA,IAEL,eAAgBA,EAAMu5E,KAExBjmF,GAXW,EAYXlR,MAAO,CACLsH,KAAM,gBAAcsW,EADf,MAELrW,MAAO,gBAAcqW,EAFhB,OAGLge,SAAUhe,EAAA,oBAA8B,YAE1ComB,IAAK,SAGP,OAAO5b,EAAE,QAAS,qCAAuCxK,EAAA,SAAiBA,EAAxD,MAAV,GAAR,OC3DJ,MCae,I,UAAA,OAAAyzE,GAAA,MAAO,GAAD,KAAN,gBAAoC,CACjDltF,KADiD,aAGjDyZ,MAAO,CACLrgB,MAAO,CACLoF,KADK,MAELwrF,QAAS,iBAAO,MAIpBR,QAAS,CACP0J,YADO,WAEL,OAAOt9F,KAAKskF,eAAe,mBAAoB,CAC7CG,YAD6C,sBAE7Cx8E,MAAO,CACLmC,KADK,qBAELpC,IAAK,QAENhI,KAAKwD,MAAM3E,IAAImB,KANlB,cAQFu9F,WAVO,SAUG,KACR,OAAOv9F,KAAKskF,eAAe,MAAO,CAChCG,YADgC,sBAEhCp8E,OACC,gBAAQrI,KAAM,UAAW,CAAE6vF,UAASxnF,SAAU,CAHjD,MAOJ0sF,OA5BiD,SA4B3C,GACJ,OAAO1mE,EAAE,MAAOruB,KAAKw9F,aAAax9F,KAAlB,MAA8B,CAC5CykF,YAD4C,aAE5CmO,MAAO5yF,KAAKw8F,eACV,CAACx8F,KAHL,oBC1CJ,M,aCWMy9F,GAAa,OAAAnG,GAAA,MAAO,GAAD,KAEvB,gBAFuB,QAAzB,SAOe,GAAAmG,GAAA,OAAkB,CAC/BrzF,KAD+B,cAG/ByZ,MAAO,CACL4qD,SADK,QAEL0b,MAFK,QAGLuT,WAAY,CACV90F,KAAM,CAAC4K,OADG,QAEV4gF,QAAS,GAEXuJ,cAAe,CACb/0F,KAAM,CAAC+R,OADM,OAEby5E,QAAS,iBAAM,KAEjBwJ,SAAU,CACRh1F,KAAM,CAAC+R,OADC,OAERy5E,QAAS,iBAAM,KAEjBsD,SAfK,QAgBLmG,MAAO,CACLj1F,KADK,MAELwrF,QAAS,iBAAM,KAEjB0J,QApBK,QAqBLC,gBAAiB,CACfn1F,KAAM,CAAC+R,OADQ,OAEfy5E,QAAS,iBAAM,KAEjB4J,eAzBK,QA0BLx6F,MAAO,CAAE2vF,UAAU,IAGrBnkF,KAhC+B,WAiC7B,MAAO,CACLivF,YADK,GAELC,UAFK,EAGLC,YAHK,EAILC,UAJK,EAKLC,WALK,EAMLC,aANK,EAOLC,UAAWv+F,KAPN,MAQLo4F,OAAO,IAIX9E,SAAU,CACRkL,cADQ,WAEN,IAAIx+F,KAAJ,WACA,OAAIA,KAAJ,MAAuBA,KAFZ,MAQPA,KAAKu5F,SAAWv5F,KAApB,kBACY,WAEdy+F,SAZQ,WAaN,OACEz+F,KAAK0+F,sBAAsB9/F,OAAS,GACpCoB,KAAKi+F,YAAYr/F,OADjB,GAEAoB,KAHF,OAQF2+F,WArBQ,WAsBN,OACE3+F,KAAK4+F,wBAAwBhgG,OAAS,GACtCoB,KAFF,SAKF6+F,cA3BQ,WA4BN,OAAO7+F,KAAK0+F,sBAAsB9/F,OAAS,GAAKoB,KAAhD,OAEF8+F,YA9BQ,WA+BN,OAAO9+F,KAAK++F,iBAAiBngG,OAA7B,GAEFogG,SAjCQ,WAkCN,OAAIh/F,KAAJ,aAGEA,KAAK2+F,YACJ3+F,KAAKq4F,gBAAkBr4F,KAF1B,WAKF0+F,sBAzCQ,WA0CN,OAAO1+F,KAAKi/F,oBAAoBj/F,KAAhC,gBAEFk/F,iBA5CQ,WA6CN,OAAOl/F,KAAKi/F,oBAAoBj/F,KAAhC,WAEF4+F,wBA/CQ,WAgDN,OAAO5+F,KAAKi/F,oBAAoBj/F,KAAhC,kBAEFm/F,cAAe,CACb72D,IADa,WAEX,OAAOtoC,KAAP,WAEFwiB,IAJa,SAIV,GACDxiB,KAAA,YAEAA,KAAA,mBAGJo/F,WA5DQ,WA6DN,OAAOp/F,KAAKyuE,YACRzuE,KAAF,MACAA,KAAKssE,KAFP,UAKF+yB,cAlEQ,WAmEN,OAAQr/F,KAAD,aAAqBA,KAA5B,YAEFs/F,WArEQ,WAsEN,OAAOt/F,KAAK03F,YACR13F,KAAF,MACAA,KAAKssE,KAFP,UAKF+rB,eA3EQ,WA4EN,QAAIr4F,KAAJ,gBACIA,KAAJ,cAEOA,KAAKg+F,eACRh+F,KAAKm+F,aAAen+F,KADjB,UAEFA,KAAKo+F,UAAYp+F,KAFtB,aAIFu/F,YAnFQ,WAoFN,OAAOv/F,KAAK++F,iBAAiBnxF,MAAM,EAAG4F,OAAOxT,KAA7C,cAEFw/F,gBAtFQ,WAuFN,IAAIx/F,KAAJ,WACA,OAAIA,KAAKy+F,UAAYz+F,KAArB,eAAiD,QAC7CA,KAAJ,WAA4B,UACxBA,KAAJ,SAA0BA,KAAP,mBAAnB,GAGF++F,iBA7FQ,WA8FN,OAAI/+F,KAAK0+F,sBAAsB9/F,OAA/B,EACSoB,KAAP,sBACSA,KAAK+9F,iBAAmB/9F,KAAK+9F,gBAAgBn/F,OAAjD,EACEoB,KAAP,wBACSA,KAAK49F,UAAY59F,KAAK49F,SAASh/F,OAAnC,EACEoB,KAAP,iBACSA,KAAJ,eACEA,KAAP,YACY,KAIlB83F,MAAO,CACL+F,MAAO,CACL5yF,QADK,SACE,KACD,gBAAUoL,EAAd,IACArW,KAAA,YAEFg4F,MAAM,GAERmH,cARK,WAWHn/F,KAAA,YACAA,KAAA,gBAAuBA,KAAKy/F,UAAUz/F,KAAtC,WAEFq+F,UAdK,SAcI,GAIJh0F,GACArK,KAFH,aAIEA,KAAA,cACAA,KAAA,gBAAuBA,KAAKy/F,UAAUz/F,KAAtC,YAGJs+F,YAzBK,WAyBM,WACTvmF,YAAW,WACT,cACA,gBACA,iBACA,eAJF,IAOF0mF,SAjCK,SAiCG,GACFz+F,KAAJ,gBACEA,KAAA,yBAGJwD,MAtCK,SAsCA,GACHxD,KAAA,cAIJ0/F,YAlM+B,WAmM7B1/F,KAAA,YAGFm3F,QAtM+B,WAuM7Bn3F,KAAA,MAAaA,KAAKssE,KAAKmsB,SAAvBz4F,OAGF2/F,cA1M+B,WA2M7B3/F,KAAA,MAAaA,KAAKssE,KAAKosB,WAAvB14F,OAGF4zF,QAAS,CACPqL,oBADO,SACY,GACjB,SACS3qF,MAAA,QAAJ,KACO,CAAP,GAFL,IAKFzT,MAPO,WAQLb,KAAA,eACAA,KAAA,cAAqBsU,MAAA,QAActU,KAAd,kBAArB,MAKFw4F,gBAdO,WAeLx4F,KAAA,gBAGFs4F,SAlBO,WAkB6B,IAA1B5+C,EAA0B,wDAA5B,EAA4B,uCAC5BukD,EAAN,GACAz6F,EAAQA,GAASxD,KAAjB,cAEA,IAAWA,KAAKo+F,SAAWp+F,KAAKm+F,YAArB,GAEX,IAAK,IAAIj8F,EAAT,EAAoBA,EAAQlC,KAAK69F,MAAjC,OAA+C37F,IAAS,CACtD,IAAM09F,EAAO5/F,KAAK69F,MAAlB,GACMzF,EAAwB,oBAATwH,EAAsBA,EAA7B,GAAd,GAEI,IAAAxH,GAAJ,kBAA8BA,EAC5B6F,EAAA,KAAiB7F,GAAjB,IACK,mBAAWA,GAChB,gBAAa,sDAAD,uCAAZ,MAOJ,OAHAp4F,KAAA,cACAA,KAAA,UAAai+F,EAAA,OAENj+F,KAAP,UChPA,GAAa,OAAAs3F,GAAA,MAAO,GAAD,KAAzB,IAWe,sBAAoC,CACjDltF,KADiD,UAGjDotF,cAHiD,EAKjD3zE,MAAO,CACLg8E,WADK,OAELC,gBAAiB,CACfl3F,KADe,OAEfwrF,QAAS,IAEX4B,MANK,QAOLhoE,OAAQ,CAACxa,OAPJ,QAQLusF,YAAa,CAAC5L,QART,QASL6L,gBATK,QAULngD,KAVK,OAWLz9B,GAXK,OAYL2nD,MAZK,OAaLk2B,QAbK,QAcLC,eAdK,QAeLC,YAfK,OAgBL38F,MAAO,MAGTwL,KAxBiD,WAyB/C,MAAO,CACLuvF,UAAWv+F,KADN,MAELogG,cAAc,IAIlB9M,SAAU,CACR1hE,QADQ,WAEN,wBACE,qBAAsB5xB,KADjB,SAEL,yBAA0BA,KAFrB,YAGL,2BAA4BA,KAHvB,cAIL,oBAAqBA,KAJhB,QAKL,uBAAwBA,KALnB,WAML,sBAAuBA,KANlB,UAQL,uBAAwC,IAAjBA,KAAKigG,SARvB,MAQ4CjgG,KAAKigG,QACtD,uBAAwBjgG,KATnB,WAUL,iBAAkBA,KAVb,MAWL,6BAA8BA,KAXzB,iBAYFA,KAAKw8F,eAGZ6D,WAjBQ,WAkBN,OAAOrgG,KAAKoiB,IAAM,SAAX,OAAoBpiB,KAA3B,OAEFsgG,WApBQ,WAqBN,OAAOtgG,KAAKugG,kBAAkB3hG,OAA9B,GAEF4hG,QAvBQ,WAwBN,OAAQxgG,KAAD,eACHA,KADG,OAEJA,KAAKkgG,gBAAkBlgG,KAF1B,YAIFygG,SA5BQ,WA6BN,SAAUzgG,KAAK84F,OAAO/uB,QAAS/pE,KAA/B,QAMFm/F,cAAe,CACb72D,IADa,WAEX,OAAOtoC,KAAP,WAEFwiB,IAJa,SAIV,GACDxiB,KAAA,YACAA,KAAA,MAAWA,KAAX,kBAGJ0gG,QA5CQ,WA6CN,QAAS1gG,KAAT,WAEF2gG,cA/CQ,WAgDN,OAAO3gG,KAAP,SAEFugG,kBAlDQ,WAkDS,WACf,OAAIvgG,KAAJ,QAAyB,CAACA,KAAR,MAEbA,KAAL,YAEOA,KAAKu/F,YAAY1gG,KAAK,SAAA+hG,GAC3B,qBAAWA,EAAyB,OAAOA,EAE3C,IAAMC,EAAmBD,EAAW,EAApC,eAEA,MAAmC,kBAArBC,EAAgCA,EAA9C,MALK,QAMG,SAAAhR,GAAO,MANjB,KAMqBA,KARS,IAUhCiR,YA/DQ,WAgEN,OAA4B,IAArB9gG,KAAK+/F,aAA+C,SAArB//F,KAAK+/F,aAA0B//F,KAArE,aAIJ83F,MAAO,CACLt0F,MADK,SACA,GACHxD,KAAA,cAIJ+gG,aAzGiD,WA4G/C/gG,KAAA,aAAqBA,KAAKghG,SAAS/b,OAASjlF,KAAKghG,SAAS/b,MAAtC,OAApB,SAGF2O,QAAS,CACPiG,WADO,WAEL,MAAO,CACL75F,KADK,iBAELA,KAFK,aAGLA,KAHF,kBAMFihG,WARO,WASL,OAAOjhG,KAAKskF,eAAe,MAAO,CAChCG,YADgC,mBAEhCx8E,MAAO,CAAEwzB,MAAOz7B,KAAK64F,OAAOp9D,QAC3B,CACDz7B,KADC,eAEDA,KALF,iBAQFkhG,eAjBO,WAkBL,MAAO,CACLlhG,KADK,WAELA,KAAK84F,OAFP,UAKFqI,QAvBO,SAuBA,KAGoB,WAAzBC,EAAyB,uDAHpB,GAKC9F,EAAQt7F,KAAA,UAAd,EAAc,SACRqhG,EAAY,SAAH,OAAY,gBAA3B,IACMC,KAAiBthG,KAAK07F,WAAW2F,KAAvC,GAEMryF,EAAO,OAAAmmF,GAAA,MAAU,CACrBltF,MAAO,CACL,aAAcq5F,EAAc,iCAAH,aADpB,EAELnE,MAAOn9F,KAFF,gBAGLuhG,KAAMvhG,KAHD,KAILyuE,SAAUzuE,KAJL,WAKLwhG,MAAOxhG,KAAKwhG,OAEdrqF,GAAKmqF,EAED,CACA3F,MAAQ,SAAA/2F,GACNA,EAAA,iBACAA,EAAA,kBAEA,aACAk/E,GAAMA,EAAN,IAIFvV,QAAU,SAAA3pE,GACRA,EAAA,iBACAA,EAAA,yBAdF,GARN,GA2BA,OAAO5E,KAAKskF,eAAe,MAAO,CAChCG,YADgC,gBAEhCmO,MAAOhqF,EAAO,kBAAH,OAAqB,gBAArB,SAAyCoT,GACnD,CACDhc,KAAKskF,eAAe,GAApB,EAJF,MAWFmd,aAtEO,WAuEL,OAAOzhG,KAAKskF,eAAe,MAAOtkF,KAAK0hG,mBAAmB1hG,KAAxB,gBAA8C,CAC9EykF,YAD8E,gBAE9Ex+E,MAAO,CAAE+nB,OAAQ,gBAAchuB,KAAD,SAC9BmX,GAAI,CACFwkF,MAAO37F,KADL,QAEF2hG,UAAW3hG,KAFT,YAGFuuE,QAASvuE,KAAK4hG,WAEhB33D,IAAK,eACH,CAACjqC,KATL,oBAWF6hG,SAlFO,WAmFL,OAAK7hG,KAAL,SAEOA,KAAKskF,eAAe,GAAQ,CACjCzgE,MAAO,CACLs5E,MAAOn9F,KADF,gBAELuhG,KAAMvhG,KAFD,KAGLyuE,SAAUzuE,KAHL,WAILsvC,QAAStvC,KAJJ,SAKLo9F,IAAKp9F,KALA,WAMLwhG,MAAOxhG,KAAKwhG,QAEbxhG,KAAK84F,OAAO/uB,OAAS/pE,KATxB,OAF2B,MAa7B8hG,YAhGO,WAgGI,WACT,OAAK9hG,KAAL,YAEOA,KAAKskF,eAAe,GAAW,CACpCzgE,MAAO,CACLs5E,MAAOn9F,KAAKwgG,QAAU,GAAKxgG,KADtB,gBAELuhG,KAAMvhG,KAFD,KAGLwhG,MAAOxhG,KAHF,MAILwD,MAAOxD,KAAKugG,mBAEdt4F,MAAO,CACL6xF,KAAM95F,KAAK8+F,YAAc,QAAU,MAErCiD,YAAa,CACX3N,QAAS,SAAAvwE,GAAK,OAAI,gBAAQ,EAAD,iBAbC,MAiBhCm+E,QAlHO,SAkHA,OAKL,IAAKC,EAAL,OAAkB,OAAO,KAEzB,IAAMh4D,EAAM,GAAH,OAAMrhC,EAAN,YAAT,GAEA,OAAO5I,KAAKskF,eAAe,MAAO,CAChCG,YAAa,YAAF,OADqB,GAEhCx6C,OAFF,IAKFi4D,eAhIO,WAiIL,IAAMD,EAAN,GAQA,OANIjiG,KAAK84F,OAAT,QACEmJ,EAAA,KAAUjiG,KAAK84F,OAAf,SACS94F,KAAJ,aACLiiG,EAAA,KAAUjiG,KAAKmhG,QAAf,YAGKnhG,KAAKgiG,QAAQ,UAAW,QAA/B,IAEFG,cA3IO,WA4IL,IAAMF,EADK,GAaX,OANIjiG,KAAK84F,OAAT,OACEmJ,EAAA,KAAUjiG,KAAK84F,OAAf,QACS94F,KAAJ,YACLiiG,EAAA,KAAUjiG,KAAKmhG,QAAf,WAGKnhG,KAAKgiG,QAAQ,SAAU,QAA9B,IAEFI,QA1JO,SA0JA,GACLpiG,KAAA,kBAEF27D,YA7JO,SA6JI,GACT37D,KAAA,gBACAA,KAAA,sBAEF4hG,UAjKO,SAiKE,GACP5hG,KAAA,gBACAA,KAAA,qBAIJ+0F,OAtRiD,SAsR3C,GACJ,OAAO1mE,EAAE,MAAOruB,KAAKw9F,aAAax9F,KAAlB,gBAAwC,CACtDykF,YADsD,UAEtDmO,MAAO5yF,KAAK4xB,UACV5xB,KAHJ,iBCxTJ,MCQe,I,UAAA,OAAAs3F,GAAA,sBAAyB,CACtCltF,KADsC,YAGtCsqF,YAHsC,EAKtC7wE,MAAO,CACLrgB,MAAO,CACLoF,KAAM,CAAC4K,OADF,QAEL4gF,QAAS,IAEXj0F,IAAK,CAACqT,OAAQmH,SAGhBo6E,OAbsC,SAahC,KACJ,IAAQlxE,EAAR,EAAQA,MACF1jB,EAAM4iC,SAASlf,EAAD,IAApB,IACMrgB,EAAQu/B,SAASlf,EAAD,MAAtB,IACMpK,EAAUtZ,EAAM,GAAH,OAAMqD,EAAN,iBAAyBmX,OAAOkJ,EAAnD,OACMw+E,EAAYliG,GAAQqD,EAA1B,EAEA,OAAO6qB,EAAE,MAAO,CACdo2D,YADc,YAEdmO,MAAO,iBACL,cADK,GAEF,gBAAuByK,KAJ9B,OC5BJ,M,aCMc,eACZ,OAAO,eAAW,CAChBjzF,KADgB,gBAGhB4E,KAAM,iBAAO,CACXszF,gBAAgB,IAGlBzL,QAPgB,WAQd,iBAAmB72F,KAAnB,IAA4C,CAC1CoK,KAD0C,YAE1C5G,MAAOxD,KAAKuiG,WACXviG,KAHH,SAMFwiG,UAdgB,WAed,eAAiBxiG,KAAjB,IAA0C,CACxCoK,KADwC,YAExC5G,MAAOxD,KAAKuiG,WACXviG,KAHH,SAMF4zF,QAAS,CACP2O,UADO,SACE,OAGP,GAFAviG,KAAA,iBAEA,EAEA,IAAK,IAAIjB,EAAJ,EAAWH,EAASkF,EAAA,UAAzB,OAAmD/E,EAAnD,EAA+DA,IAAK,CAClE,IAAMuI,EAAYtH,KAAa8D,EAAA,UAA/B,IAEA,oBAAWwD,EAKX,gBAAYxD,EAAA,aAAZ,0FAJEwD,S,iBCjCZ,SAASs7D,GAAT,OACE,IAAMt7D,EAAWm7F,EAAjB,MACM3+F,EAAU2+F,EAAA,SAAmB,CAAEC,SAAS,GAE9C9sF,OAAA,+BAEA7N,EAAA,UAAeuI,OAAOvI,EAAtB,WACAA,EAAA,UAAc46F,EAAA,QAAd,MAAqC,CACnCr7F,WACAxD,WAGG2+F,EAAD,WAAuBA,EAAA,UAA3B,OACEn7F,IAIJ,SAASs7F,GAAT,OAA6E,MAC3E,GAAI,SAAC76F,EAAD,YAAC,EAAe46F,EAAA,QAApB,OAEA,MAA8B56F,EAAA,UAAa46F,EAAA,QAA3C,MAAM,EAAN,EAAM,SAAY7+F,EAAlB,EAAkBA,QAElB8R,OAAA,yCAEO7N,EAAA,UAAa46F,EAAA,QAApB,OAGK,IAAME,GAAS,CACpBjgC,YACAggC,WAGF,M,aCnCM,eAEJ,uBAAWvjF,EAAP,YAAwC,CAE1C,MAAOA,EAAP,WAAwBA,EAAOA,EAFW,WAK1C,OAAIA,IAAJ,SAA8B,KAE9B,SAGF,IAAMyjF,EAAOzjF,EAZyB,cAetC,OAAIyjF,IAAA,UAAqBA,EAAA,YAAiB,CAAEC,UAAU,MAAtD,SAAmF,KAEnF,E,iBCMI,GAAa,OAAAzL,GAAA,MAAO,GAExB,GAAc,CACZ0L,UAAW,CAAC,WAAD,kBAHf,SAoBMC,GAAa,CAAC,QAAS,OAAQ,OAAQ,OAAQ,iBAAkB,OAAvE,SAGe,sBAAoC,CACjD74F,KADiD,eAGjD8vF,WAAY,CACVgJ,UACAC,UAAA,MAGF3L,cARiD,EAUjD3zE,MAAO,CACLu/E,gBADK,OAELtiC,UAFK,QAGLuiC,UAHK,QAILC,UAAW,CACT16F,KADS,OAETwrF,QAAS,UAEXp2B,QAAS,CAACm2B,QAAS3gF,OARd,QASL+vF,aATK,SAULC,OAVK,QAWLC,KAXK,QAYLC,UAZK,QAaL35B,MAbK,OAcL45B,SAdK,QAeLv3B,YAfK,OAgBL+O,OAhBK,OAiBLyoB,iBAjBK,OAkBLC,sBAlBK,QAmBLt8E,QAnBK,QAoBLu8E,QApBK,QAqBLC,OArBK,QAsBLC,WAtBK,QAuBLC,KAvBK,QAwBLC,aAxBK,QAyBL9oB,OAzBK,OA0BLxyE,KAAM,CACJA,KADI,OAEJwrF,QAAS,SAIbplF,KAAM,iBAAO,CACXm1F,UADW,EAEXC,WAFW,EAGXC,YAHW,EAIXC,aAJW,EAKXC,aALW,KAMXC,UANW,EAOXC,YAAY,IAGdnR,SAAU,CACR1hE,QADQ,WAEN,0CACK,iCADE,OAAP,IAEE,gBAFK,EAGL,2BAA4B5xB,KAHvB,UAIL,uBAAwBA,KAJnB,OAKL,4BAA6BA,KALxB,SAML,qBAAsBA,KANjB,OAOL,8BAA+BA,KAP1B,aAQL,0BAA2BA,KARtB,KASL,uBAAwBA,KATnB,OAUL,0BAA2BA,KAVtB,SAWL,yBAA0BA,KAXrB,WAYL,wBAAyBA,KAZpB,QAaL,yBAA0BA,KAbrB,SAcL,4BAA6BA,KAdxB,YAeL,wBAAyBA,KAfpB,QAgBL,uBAAwBA,KAAK+jG,UAGjCvF,cArBQ,WAsBN,IAAMA,EAAgB,uCAAtB,MAEA,OAAKx+F,KAAD,cAAuBA,KAA3B,UAEOA,KAAKm9F,OAAZ,UAFkDqB,GAIpDkG,qBA5BQ,WA6BN,0BAAW1kG,KAAP,aACKA,KAAKujG,aAAavjG,KAAzB,eAEK,IAAKA,KAAKm/F,eAAN,IAAJ,YAAP,QAEFwF,WAlCQ,WAmCN,OAAwB,IAAjB3kG,KAAKg+D,SAAZ,MAAiCh+D,KAAKg+D,SAExCsiC,WArCQ,WAsCN,OAAO,2CAAiDtgG,KAAxD,YAEFm/F,cAAe,CACb72D,IADa,WAEX,OAAOtoC,KAAP,WAEFwiB,IAJa,SAIV,GACDxiB,KAAA,YACAA,KAAA,cAAoBA,KAApB,aAGJ0gG,QAjDQ,WAiDD,MACL,OAAO,SAAA1gG,KAAA,0CAAyCA,KAAhD,UAEF4kG,WApDQ,WAqDN,OACE5kG,KAAKwjG,QACLxjG,KADA,QAEAA,KAHF,UAMF2gG,cA3DQ,WA4DN,OAAO3gG,KAAK0gG,SAAWuC,GAAA,SAAoBjjG,KAA3C,OAEF6kG,SA9DQ,WA+DN,OACE7kG,KAAK8kG,QACL9kG,KADA,YAEAA,KAFA,WAICA,KAAA,SAAgBA,KALnB,UAQF8kG,OAvEQ,WAwEN,OAAO9kG,KAAKikG,MAAQjkG,KAApB,cAEF+kG,cA1EQ,WA2EN,IAAItuE,EAAUz2B,KAAKm7E,SAAWn7E,KAAjB,WAAoCA,KAApC,YAAb,EAIA,OAFIA,KAAKglG,YAAchlG,KAAvB,eAA0Cy2B,GAAUz2B,KAAV,cAElCA,KAAKy5F,SAASwL,MAAQjlG,KAAvB,QAAuC,CAC5CuN,KAD4C,EAE5CC,MAAO,QACL,CACFD,KADE,OAEFC,MAAOipB,IAGXyuE,UAvFQ,WAwFN,OAAOllG,KAAKygG,YAAczgG,KAAK6kG,UAAY7kG,KAA3C,aAEFglG,WA1FQ,WA2FN,OAAOhlG,KAAKq+F,WAAar+F,KAAlB,eAAwCA,KAA/C,wBAIJ83F,MAAO,CAEL6L,SAFK,gBAGL55B,MAHK,WAIH/pE,KAAA,UAAeA,KAAf,gBAEFm7E,OANK,WAOHn7E,KAAA,UAAeA,KAAf,iBAEFq+F,UATK,cAUL76F,MAVK,SAUA,GACHxD,KAAA,cAIJm3F,QAlKiD,WAoK3Cn3F,KAAK25F,OAAO19E,eAAhB,QACE,gBAAS,MAAO,SAAhB,MAIEjc,KAAK25F,OAAO19E,eAAhB,yBACE,gBAAS,uBAAwB,eAAjC,MAIEjc,KAAK+jG,UAAY/jG,KAAKwjG,QAAUxjG,KAAf,UAAgCA,KAArD,SACE,gBAAY,uDAAZ,OAIJ62F,QAnLiD,WAmL1C,WAEL72F,KAAA,QAAY,kBAAM,EAAlB,aAAmCA,KAAnC,eACAA,KAAA,WAAkBA,KAAlB,eACAmlG,uBAAsB,WACpB,cACAA,uBAAsB,WACf,EAAL,gBACE,oBAMRvR,QAAS,CAEP98E,MAFO,WAGL9W,KAAA,WAGFsX,KANO,SAMH,GAAW,WAGb1B,OAAA,uBAA6B,WAC3B,eAAoB,cAApB,WAGJwvF,kBAbO,WAaU,WACfplG,KAAA,aAAoBA,KAAKuzF,MAAM32D,MAA/B,QACA58B,KAAA,WAAe,kBAAM,gBAArB,SAEFmiG,cAjBO,WAkBL,IAAMF,EAAN,GAQA,OANIjiG,KAAK84F,OAAT,gBACEmJ,EAAA,KAAUjiG,KAAK84F,OAAf,iBACS94F,KAAJ,iBACLiiG,EAAA,KAAUjiG,KAAKmhG,QAAf,gBAGKnhG,KAAKgiG,QAAQ,SAAU,QAA9B,IAEFqD,oBA5BO,WA6BL,IAAMpD,EAAN,GAQA,OANIjiG,KAAK84F,OAAT,iBACEmJ,EAAA,KAAUjiG,KAAK84F,OAAf,kBACS94F,KAAJ,kBACLiiG,EAAA,KAAUjiG,KAAKmhG,QAAf,iBAGKnhG,KAAKgiG,QAAQ,UAAW,QAA/B,IAEFsD,YAvCO,WAwCL,IAAMrD,EAAN,GAQA,OANIjiG,KAAK84F,OAAT,OACEmJ,EAAA,KAAUjiG,KAAK84F,OAAf,QACS94F,KAAJ,YACLiiG,EAAA,KAAUjiG,KAAKmhG,QAAf,WAGKnhG,KAAKgiG,QAAQ,SAAU,QAA9B,IAEFP,aAlDO,WAmDL,IAAM7kE,EAAQ,qCAAd,MAEM2oE,EAAUvlG,KAAhB,sBAOA,OALA,IACE48B,EAAA,SAAiBA,EAAA,UAAjB,GACAA,EAAA,qBAGF,GAEF4oE,aA9DO,WA+DL,OAAKxlG,KAAL,UAIKA,KAAL,QAMOA,KAAKgiG,QAAQ,SAAU,QAAS,CACrChiG,KAAKmhG,QAAQ,QAASnhG,KADxB,qBALSA,KAAKgiG,QAAQ,SAAU,QAAS,CACrChiG,KAAKskF,eADP,SANQ,MAeZmhB,WA7EO,WA6EG,UACR,IAAKzlG,KAAL,WAAsB,OAAO,KAE7B,IAAMG,GAAuB,IAAjBH,KAAKg+D,QAAmBh+D,KAAK64F,OAA7B,UAAgD74F,KAA5D,QAEM6jB,EAAQ,CACZ09E,KAAMvhG,KADM,KAEZwhG,MAAOxhG,KAFK,MAGZG,MACAqD,MAAOxD,KAAK0kG,sBAGd,0BAAO,EAAA1kG,KAAA,cAAP,gBAAO,SAA4B,CAAE6jB,WAArC,EAAiD7jB,KAAKskF,eAAe,GAAU,CAAEzgE,WAEnFo9E,WA3FO,WA4FL,OAAO,mCAAP,OAEFC,eA9FO,WA+FL,MAAO,CACLlhG,KADK,cAELA,KAFK,mBAGLA,KAHK,eAILA,KAJK,cAKLA,KALF,gBAQF0lG,YAvGO,WAwGL,OAAK1lG,KAAL,SAEOA,KAAKskF,eAAe,WAAY,CACrCr8E,MAAO,CACL,eAAe,IAEhB,CAACjI,KAJJ,cAF2B,MAQ7B6hG,SAhHO,WAiHL,IAAK7hG,KAAL,UAAqB,OAAO,KAE5B,IAAMgP,EAAO,CACX6U,MAAO,CACL21E,UADK,EAEL2D,MAAOn9F,KAFF,gBAGLuhG,KAAMvhG,KAHD,KAILyuE,SAAUzuE,KAJL,WAKLsvC,SAAUtvC,KAAD,WAAmBA,KAAKq+F,aAAer+F,KAL3C,iBAMLo9F,IAAKp9F,KANA,WAOLuN,KAAMvN,KAAK+kG,cAPN,KAQLvD,MAAOxhG,KARF,MASLwN,MAAOxN,KAAK+kG,cATP,MAULvhG,MAAOxD,KAAKglG,aAIhB,OAAOhlG,KAAKskF,eAAe,GAApB,EAAkCtkF,KAAK84F,OAAO/uB,OAAS/pE,KAA9D,QAEF2lG,UApIO,WAqIL,IAAMlkE,EAASzhC,KAAD,aAAqBA,KAAKglG,aAAchlG,KAAxC,QAAd,EAAsEA,KAAxD,WACR80B,EAAO90B,KAAKskF,eAAe,OAAQ,CACvCshB,SAAU,CAAE1vF,UAAW,WACvBuuE,YAAa,gBAGf,OAAOzkF,KAAKskF,eAAe,SAAU,CACnCr+E,MAAO,CACLw7B,MAAQzhC,KAAD,cAAwCgc,EAAvB,gBAAjB,KAER,CAJH,KAMF6pF,SAjJO,WAkJL,IAAM7V,EAAY1/E,OAAA,UAAkBtQ,KAApC,mBACOgwF,EAFD,OAGN,MAAiChwF,KAAjC,OAAkB8lG,GAAlB,EAAM,MAAN,uBAEA,OAAO9lG,KAAKskF,eAAe,QAAS,CAClCr+E,MADkC,GAElC2/F,SAAU,CACRpiG,MAAsB,WAAdxD,KAAK4I,MAAqB0H,OAAA,GAAUtQ,KAAV,WAA3B,QAAmEA,KAAKu+F,WAEjFt2F,MAAO,sCAAF,IAEH64D,UAAW9gE,KAFN,UAGLyuE,SAAUzuE,KAHL,WAILoiB,GAAIpiB,KAJC,WAKLosE,YAAapsE,KAAK6jG,uBAAyB7jG,KAA9B,YAAiDA,KAAjD,SAAiEA,KAAjE,iBALR,EAML03F,SAAU13F,KANL,WAOL4I,KAAM5I,KAAK4I,OAEbuO,GAAI7G,OAAA,SAAyB,CAC3BgH,KAAMtX,KADqB,OAE3B48B,MAAO58B,KAFoB,QAG3B8W,MAAO9W,KAHoB,QAI3B+lG,QAAS/lG,KAAKsD,YAEhB2mC,IApBkC,QAqBlCiwD,WAAY,CAAC,CACX9vF,KADW,SAEX47F,UAAW,CAAEC,OAAO,GACpBziG,MAAOxD,KAAKwwD,cAIlBsxC,YAlLO,WAmLL,IAAK9hG,KAAL,YAAuB,OAAO,KAE9B,IAAMkmG,EAAe,oCAArB,MACMC,EAAcnmG,KAApB,aAEA,OAAOA,KAAKskF,eAAe,MAAO,CAChCG,YAAa,yBACZ,CAAC,EAFJ,KAOF2hB,iBA/LO,WAgML,OAAOpmG,KAAKskF,eAAe,MAAO,CAChCG,YAAa,sBACZ,CACDzkF,KADC,WAEDA,KAAKm7E,OAASn7E,KAAKqmG,SAAnB,UAFC,KAGDrmG,KAHC,WAIDA,KAAKo7E,OAASp7E,KAAKqmG,SAAnB,UANF,QASFA,SAzMO,SAyMC,GACN,OAAOrmG,KAAKskF,eAAe,MAAO,CAChCsO,MAAO,iBAAF,OAD2B,GAEhC3oD,IAAKrhC,GACJ5I,KAHH,KAKF8vC,OA/MO,SA+MD,GAAW,WACf9vC,KAAA,aACA4E,GAAK5E,KAAKy/F,WAAU,kBAAM,eAA1B76F,OAEFw9F,QAnNO,WAoNDpiG,KAAKq+F,WAAar+F,KAAlB,aAAsCA,KAAKuzF,MAA/C,OAEAvzF,KAAA,qBAEFgwC,QAxNO,SAwNA,GACL,GAAKhwC,KAAKuzF,MAAV,OAEA,IAAMuP,EAAOwD,GAAatmG,KAA1B,KACA,KAEA,OAAI8iG,EAAA,gBAAuB9iG,KAAKuzF,MAAhC,MACSvzF,KAAKuzF,MAAM32D,MAAlB,aAGG58B,KAAL,YACEA,KAAA,aACA4E,GAAK5E,KAAK6zF,MAAM,QAAhBjvF,OAGJsS,QAvOO,SAuOA,GACL,IAAMiB,EAASvT,EAAf,OACA5E,KAAA,cAAqBmY,EAArB,MACAnY,KAAA,SAAgBmY,EAAA,UAAmBA,EAAA,SAAnC,UAEF7U,UA5OO,SA4OE,GAELsB,EAAA,UAAc,QAAd,OACA5E,KAAKu+F,YAAcv+F,KAFrB,eAIEA,KAAA,aAAoBA,KAApB,UACAA,KAAA,eAAqBA,KAArB,eAGFA,KAAA,oBAEF27D,YAvPO,SAuPI,GAEL/2D,EAAA,SAAa5E,KAAKuzF,MAAtB,QACE3uF,EAAA,iBACAA,EAAA,mBAGF,6CAEFg9F,UAhQO,SAgQE,GACH5hG,KAAJ,cAAuBA,KAAK8W,QAE5B,2CAEFyvF,cArQO,WAsQAvmG,KAAL,WAEAA,KAAA,WAAkBA,KAAKuzF,MAAMxpB,MACzB5qE,KAAA,IAAwC,IAA/Ba,KAAKuzF,MAAMxpB,MAAMl2B,YAA1B,EAAmD7zC,KAAKwmG,IAAL,YADrC,IAAlB,IAIFC,eA5QO,WA6QAzmG,KAAKuzF,MAAV,SAEAvzF,KAAA,YAAmBA,KAAKuzF,MAAMpY,OAA9B,cAEFurB,gBAjRO,WAkRA1mG,KAAD,UAAmBA,KAAKuzF,MAA5B,mBAEAvzF,KAAA,aAAoBA,KAAKuzF,MAAM,iBAA/B,cAEFoT,aAtRO,WAuRL,IACG3mG,KAAD,gCACOuG,WACNvG,KAAKuzF,MAHR,MAGqB,OAAO,EAE5B,IAAMuP,EAAOwD,GAAatmG,KAA1B,KACA,SAAK8iG,GAAQA,EAAA,gBAAuB9iG,KAAKuzF,MAAzC,SAEAvzF,KAAA,qBAEA,IAEF4mG,YAnSO,SAmSI,GAET5mG,KAAA,WAEA,EACEA,KAAA,aAAoBA,KAApB,UACSA,KAAKukG,eAAiBvkG,KAA1B,WACLA,KAAA,eAAqBA,KAArB,YAGJwwD,SA7SO,WA8SLxwD,KAAA,gBACAA,KAAA,iBACAA,KAAA,sBC7hBF,GAAY,gBACd,GACA,EACA6lF,GACA,EACA,KACA,KACA,MAIa,gBAAiB,QAYhC,KAAkB,GAAW,CAACghB,QAAA,KAAKC,UAAA,QAAU1Q,QAAK2Q,cAAWC,SAAM3Q,QAAK4Q,UAAA,GAAUC,WAAA,M,iDC9BjF,SAAStiG,EAAEkqD,GAAqDlvD,EAAOC,QAAQivD,EAAE,EAAQ,SAAzF,CAAgR9uD,GAAK,SAAS4E,GAAG,OAAO,SAASA,GAAG,SAASkqD,EAAEluC,GAAG,GAAGkB,EAAElB,GAAG,OAAOkB,EAAElB,GAAG/gB,QAAQ,IAAI0xB,EAAEzP,EAAElB,GAAG,CAAC7hB,EAAE6hB,EAAEvE,GAAE,EAAGxc,QAAQ,IAAI,OAAO+E,EAAEgc,GAAG9H,KAAKyY,EAAE1xB,QAAQ0xB,EAAEA,EAAE1xB,QAAQivD,GAAGv9B,EAAElV,GAAE,EAAGkV,EAAE1xB,QAAQ,IAAIiiB,EAAE,GAAG,OAAOgtC,EAAE3xC,EAAEvY,EAAEkqD,EAAEk+B,EAAElrE,EAAEgtC,EAAE/vD,EAAE,SAAS6F,GAAG,OAAOA,GAAGkqD,EAAEn1B,EAAE,SAAS/0B,EAAEkd,EAAElB,GAAGkuC,EAAEv9B,EAAE3sB,EAAEkd,IAAIxR,OAAO4+D,eAAetqE,EAAEkd,EAAE,CAACmtD,cAAa,EAAGD,YAAW,EAAG1mC,IAAI1nB,KAAKkuC,EAAEhtC,EAAE,SAASld,GAAG,IAAIkd,EAAEld,GAAGA,EAAE2qE,WAAW,WAAW,OAAO3qE,EAAEwvF,SAAS,WAAW,OAAOxvF,GAAG,OAAOkqD,EAAEn1B,EAAE7X,EAAE,IAAIA,GAAGA,GAAGgtC,EAAEv9B,EAAE,SAAS3sB,EAAEkqD,GAAG,OAAOx+C,OAAO/P,UAAU0b,eAAenD,KAAKlU,EAAEkqD,IAAIA,EAAE70C,EAAE,IAAI60C,EAAEA,EAAEqrB,EAAE,GAAze,CAA6e,CAAC,SAASrrB,EAAEhtC,GAAGgtC,EAAEjvD,QAAQ+E,GAAG,SAASA,EAAEkqD,EAAEhtC,GAAG,aAAaxR,OAAO4+D,eAAepgB,EAAE,aAAa,CAACtrD,OAAM,IAAK,IAAIod,EAAEkB,EAAE,GAAGyP,EAAE,SAAS3sB,GAAG,OAAOA,GAAGA,EAAE2qE,WAAW3qE,EAAE,CAACwvF,QAAQxvF,GAA9C,CAAkDgc,GAAG7hB,EAAE6W,OAAO1U,YAAYqwB,EAAE6iE,QAAQ,mBAAmB9jF,OAAOs3C,QAAQt3C,OAAO4+D,eAAe5+D,OAAO,SAAS,CAAC9M,MAAM,SAASoB,EAAEkqD,GAAG,GAAG,MAAMlqD,EAAE,MAAM,IAAIg2F,UAAU,8CAA8C,IAAI,IAAI94E,EAAExR,OAAO1L,GAAGgc,EAAE,EAAEA,EAAEtY,UAAU1J,OAAOgiB,IAAI,CAAC,IAAI2Q,EAAEjpB,UAAUsY,GAAG,GAAG,MAAM2Q,EAAE,IAAI,IAAIxyB,KAAKwyB,EAAEjhB,OAAO/P,UAAU0b,eAAenD,KAAKyY,EAAExyB,KAAK+iB,EAAE/iB,GAAGwyB,EAAExyB,IAAI,OAAO+iB,GAAGrP,UAAS,EAAGw8D,cAAa,IAAKngB,EAAEslC,QAAQ,CAAChqF,KAAK,aAAa4E,KAAK,WAAW,MAAM,CAACyK,QAAQ,GAAG45E,WAAW,KAAK8T,WAAW,OAAOtjF,MAAM,CAAC1V,KAAKwM,OAAOnX,MAAMmX,OAAOga,OAAO9e,SAASuxF,YAAY9yF,MAAMlK,KAAK,CAACxB,KAAK+R,OAAOy5E,QAAQ,cAAchoB,YAAY,CAACxjE,KAAK+R,OAAOy5E,QAAQ,IAAIiT,MAAM,CAACz+F,KAAKurF,QAAQC,SAAQ,GAAItwF,QAAQ,CAAC8E,KAAK0H,OAAO8jF,QAAQ,WAAW,MAAM,KAAKr6C,OAAO,CAACnxC,KAAK0L,MAAM8/E,QAAQ,WAAW,MAAM,KAAKkT,cAAc,CAAC1+F,KAAK0H,OAAO8jF,QAAQ,WAAW,MAAM,KAAKmT,aAAa,CAAC3+F,KAAK0L,MAAM8/E,QAAQ,WAAW,MAAM,MAAM0D,MAAM,CAACh0F,QAAQ,CAACk0F,MAAK,EAAG/sF,QAAQ,SAASrG,GAAG,IAAI,IAAIkqD,KAAKlqD,EAAE5E,KAAKmnG,WAAW/iC,UAAUtV,EAAElqD,EAAEkqD,MAAMu4C,MAAM,WAAWrnG,KAAKy/F,UAAUz/F,KAAKwnG,cAAcr5F,KAAK,SAASvJ,GAAG5E,KAAKynG,iBAAiB7iG,IAAIpB,MAAM,SAASoB,GAAG5E,KAAKynG,iBAAiB7iG,KAAKgvF,QAAQ,CAAC8T,WAAW,WAAW,IAAI9iG,EAAE5E,KAAK8uD,EAAEx+C,OAAOs3C,OAAO,GAAG5nD,KAAKsnG,cAActnG,KAAK8D,SAAS9D,KAAKqnG,OAAOrnG,KAAKqzF,WAAWt0F,EAAE4oG,UAAU3nG,KAAKuzF,MAAMqU,UAAU94C,GAAG9uD,KAAKmnG,WAAWnnG,KAAKqzF,WAAWxb,OAAO73E,KAAKqzF,WAAWt0F,EAAEktE,aAAajsE,KAAKuzF,MAAMrnB,SAASpd,GAAG9uD,KAAKmnG,WAAWnnG,KAAKqzF,WAAWrzF,KAAKmnG,WAAW77C,SAAStrD,KAAKmO,MAAMnO,KAAKwD,OAAOxD,KAAKyZ,UAAUzZ,KAAKmnG,WAAWhwF,GAAG,UAAS,SAAS23C,GAAGlqD,EAAE6U,QAAQq1C,EAAEzD,WAAWzmD,EAAEivF,OAAOjvF,EAAEivF,MAAM,QAAQjvF,EAAE6U,YAAW,IAAIqI,EAAE,GAAG,CAAC,SAAS,UAAU,eAAe,iBAAiB,aAAa,YAAY,gBAAgB,wBAAwB,iBAAiB,UAAU,cAAc,oBAAoB,QAAQ,OAAO,UAAU,eAAe,uBAAuB,UAAUgG,OAAO9nB,KAAK+5C,QAAQjyB,OAAO9nB,KAAKunG,cAActgD,QAAO,SAASriD,GAAG,OAAOkd,EAAEld,KAAKkd,EAAEld,IAAG,MAAM6T,SAAQ,SAASq2C,GAAGlqD,EAAEuiG,WAAWhwF,GAAG23C,GAAE,WAAW,IAAI,IAAIhtC,EAAExZ,UAAU1J,OAAOgiB,EAAEtM,MAAMwN,GAAGyP,EAAE,EAAEA,EAAEzP,EAAEyP,IAAI3Q,EAAE2Q,GAAGjpB,UAAUipB,GAAG3sB,EAAEivF,MAAMvyE,MAAM1c,EAAE,CAACkqD,GAAGhnC,OAAOlH,IAAI,IAAI7hB,EAAE+vD,EAAEvtD,QAAQ,WAAW,OAAOuB,cAAc/D,IAAI+vD,GAAGlqD,EAAEivF,MAAMvyE,MAAM1c,EAAE,CAAC7F,GAAG+oB,OAAOlH,UAAQ5gB,KAAK6zF,MAAM,QAAQ7zF,KAAKqzF,YAAYrzF,KAAK6nG,oBAAoB7nG,KAAKq/D,WAAWA,QAAQ,WAAW,IAAIz6D,EAAE5E,KAAKA,KAAKy/F,WAAU,WAAW76F,EAAEuiG,WAAW9nC,cAAauwB,QAAQ,WAAW,IAAIhrF,EAAE5E,KAAKmnG,WAAW95E,IAAI3qB,GAAGuT,oBAAoBrR,GAAGA,EAAEg8C,QAAQh8C,EAAEg8C,UAAU6mD,iBAAiB,SAAS7iG,GAAG,GAAGA,IAAI5E,KAAKmnG,WAAW97C,WAAW,CAAC,IAAIyD,EAAE9uD,KAAKmnG,WAAWnhC,gBAAgBhmE,KAAKmnG,WAAW77C,SAAS1mD,GAAG5E,KAAKyZ,QAAQ7U,EAAE5E,KAAKmnG,WAAWphC,SAASjX,EAAEvhD,KAAKuhD,EAAEjoD,KAAK7G,KAAK6nG,qBAAqBA,kBAAkB,WAAW,IAAIjjG,EAAE5E,UAAK,IAASA,KAAKonG,kBAAa,IAASpnG,KAAK20B,QAAQ30B,KAAKonG,YAAY3uF,SAAQ,SAASq2C,GAAG,IAAIhtC,EAAEld,EAAEuiG,WAAWn6C,SAAS8B,GAAGlqD,EAAEuiG,WAAWt6C,gBAAgBiC,EAAE,cAAchtC,EAAEse,cAAc,KAAKx7B,EAAE+vB,cAAa6yE,YAAY,WAAW,IAAI5iG,EAAE5E,KAAKmnG,WAAW95E,IAAI41B,QAAQ6L,EAAE9uD,KAAKmnG,WAAW95E,IAAI89B,gBAAgBnrD,KAAK8D,QAAQN,MAAMxD,KAAKmnG,WAAW97C,WAAWrrD,KAAK4vF,UAAU5vF,KAAK0nG,aAAa1nG,KAAKmnG,WAAW95E,IAAI41B,QAAQr+C,EAAE5E,KAAKmnG,WAAW95E,IAAI89B,gBAAgB2D,IAAI+nC,QAAQ,WAAW72F,KAAK0nG,cAAc/H,cAAc,WAAW3/F,KAAK4vF,aAAa,SAAShrF,EAAEkqD,EAAEhtC,GAAG,aAAaxR,OAAO4+D,eAAepgB,EAAE,aAAa,CAACtrD,OAAM,IAAK,IAAIod,EAAEkB,EAAE,GAAGyP,EAAEzP,EAAEA,EAAElB,GAAG,IAAI,IAAI7hB,KAAK6hB,EAAE,CAAC,UAAU,WAAWjc,QAAQ5F,GAAG,GAAG,SAAS6F,GAAGkd,EAAE6X,EAAEm1B,EAAElqD,GAAE,WAAW,OAAOgc,EAAEhc,MAAxC,CAA8C7F,GAAG,IAAIo7E,EAAEr4D,EAAE,GAAGkrE,EAAElrE,EAAE,GAAGtB,EAAEwsE,EAAEz7D,EAAE/Q,EAAE25D,EAAE35D,GAAE,EAAG,KAAK,KAAK,MAAMsuC,EAAEslC,QAAQ5zE,EAAE3gB,SAAS,SAAS+E,EAAEkqD,EAAEhtC,GAAG,aAAa,SAASlB,EAAEhc,GAAG,OAAOA,GAAGA,EAAE2qE,WAAW3qE,EAAE,CAACwvF,QAAQxvF,GAAG0L,OAAO4+D,eAAepgB,EAAE,aAAa,CAACtrD,OAAM,IAAKsrD,EAAEg5C,QAAQh5C,EAAEukC,WAAWvkC,EAAE5tD,gBAAW,EAAO,IAAIqwB,EAAEzP,EAAE,GAAG/iB,EAAE6hB,EAAE2Q,GAAG4oD,EAAEr4D,EAAE,GAAGkrE,EAAEpsE,EAAEu5D,GAAG35D,EAAE5K,OAAO1U,YAAYnC,EAAEq1F,QAAQ2T,EAAE,SAASnjG,EAAEkqD,GAAGA,IAAIA,EAAEhrD,UAAUkpF,EAAEoH,QAAQvwE,MAAMyjF,cAAclT,QAAQ,WAAW,OAAOtlC,EAAEhrD,UAAUgrD,EAAE/U,SAASizC,EAAEoH,QAAQvwE,MAAM0jF,aAAanT,QAAQ,WAAW,OAAOtlC,EAAE/U,UAAUn1C,EAAEsxF,UAAUlJ,EAAEoH,QAAQhqF,KAAK4iF,EAAEoH,UAAU/3E,EAAE,CAACnb,WAAWsf,EAAE6yE,WAAWrG,EAAEoH,QAAQ0T,QAAQC,GAAGj5C,EAAEslC,QAAQ/3E,EAAEyyC,EAAE5tD,WAAWsf,EAAEsuC,EAAEukC,WAAWrG,EAAEoH,QAAQtlC,EAAEg5C,QAAQC,GAAG,SAASnjG,EAAEkqD,GAAGlqD,EAAE/E,QAAQ,SAAS+E,EAAEkqD,EAAEhtC,EAAElB,EAAE2Q,EAAExyB,GAAG,IAAIo7E,EAAE6S,EAAEpoF,EAAEA,GAAG,GAAG4b,SAAS5b,EAAEwvF,QAAQ,WAAW5zE,GAAG,aAAaA,IAAI25D,EAAEv1E,EAAEooF,EAAEpoF,EAAEwvF,SAAS,IAA4J/3E,EAAxJ0rF,EAAE,mBAAmB/a,EAAEA,EAAElpF,QAAQkpF,EAAyH,GAAvHl+B,IAAIi5C,EAAEhT,OAAOjmC,EAAEimC,OAAOgT,EAAEliB,gBAAgB/2B,EAAE+2B,gBAAgBkiB,EAAEC,WAAU,GAAIlmF,IAAIimF,EAAErT,YAAW,GAAInjE,IAAIw2E,EAAEE,SAAS12E,GAAYxyB,GAAGsd,EAAE,SAASzX,GAAGA,EAAEA,GAAG5E,KAAKkoG,QAAQloG,KAAKkoG,OAAOC,YAAYnoG,KAAK4f,QAAQ5f,KAAK4f,OAAOsoF,QAAQloG,KAAK4f,OAAOsoF,OAAOC,WAAWvjG,GAAG,oBAAoBwjG,sBAAsBxjG,EAAEwjG,qBAAqBxnF,GAAGA,EAAE9H,KAAK9Y,KAAK4E,GAAGA,GAAGA,EAAEyjG,uBAAuBzjG,EAAEyjG,sBAAsB/yE,IAAIv2B,IAAIgpG,EAAEO,aAAajsF,GAAGuE,IAAIvE,EAAEuE,GAAGvE,EAAE,CAAC,IAAIpY,EAAE8jG,EAAErT,WAAW/6D,EAAE11B,EAAE8jG,EAAEhT,OAAOgT,EAAEhH,aAAa98F,GAAG8jG,EAAEQ,cAAclsF,EAAE0rF,EAAEhT,OAAO,SAASnwF,EAAEkqD,GAAG,OAAOzyC,EAAEvD,KAAKg2C,GAAGn1B,EAAE/0B,EAAEkqD,KAAKi5C,EAAEhH,aAAapnE,EAAE,GAAG7R,OAAO6R,EAAEtd,GAAG,CAACA,GAAG,MAAM,CAACmsF,SAASruB,EAAEt6E,QAAQmtF,EAAElpF,QAAQikG,KAAK,SAASnjG,EAAEkqD,EAAEhtC,GAAG,aAAa,IAAIlB,EAAE,WAAW,IAAIhc,EAAE5E,KAAK8uD,EAAElqD,EAAE0/E,eAAexiE,EAAEld,EAAE4/E,MAAMD,IAAIz1B,EAAE,OAAOhtC,EAAE,MAAM,CAAC2iE,YAAY,iBAAiBmO,MAAM,CAACyU,MAAMziG,EAAEyiG,QAAQ,CAACziG,EAAEyiG,MAAMvlF,EAAE,MAAM,CAACmoB,IAAI,cAAcnoB,EAAE,WAAW,CAACmoB,IAAI,WAAWhiC,MAAM,CAACmC,KAAKxF,EAAEwF,KAAKgiE,YAAYxnE,EAAEwnE,kBAAkB76C,EAAE,GAAGxyB,EAAE,CAACg2F,OAAOn0E,EAAEilE,gBAAgBt0D,GAAGu9B,EAAEtuC,EAAEzhB,S;;ACC36Lc,EAAQ+uD,KAAO,SAAUz1C,EAAQsd,EAAQgyE,EAAMC,EAAMC,GACnD,IAAI/jG,EAAGuY,EACHyrF,EAAiB,EAATD,EAAcD,EAAO,EAC7BG,GAAQ,GAAKD,GAAQ,EACrBE,EAAQD,GAAQ,EAChBE,GAAS,EACThqG,EAAI0pG,EAAQE,EAAS,EAAK,EAC1BhvE,EAAI8uE,GAAQ,EAAI,EAChBtuB,EAAIhhE,EAAOsd,EAAS13B,GAOxB,IALAA,GAAK46B,EAEL/0B,EAAIu1E,GAAM,IAAO4uB,GAAU,EAC3B5uB,KAAQ4uB,EACRA,GAASH,EACFG,EAAQ,EAAGnkG,EAAS,IAAJA,EAAWuU,EAAOsd,EAAS13B,GAAIA,GAAK46B,EAAGovE,GAAS,GAKvE,IAHA5rF,EAAIvY,GAAM,IAAOmkG,GAAU,EAC3BnkG,KAAQmkG,EACRA,GAASL,EACFK,EAAQ,EAAG5rF,EAAS,IAAJA,EAAWhE,EAAOsd,EAAS13B,GAAIA,GAAK46B,EAAGovE,GAAS,GAEvE,GAAU,IAANnkG,EACFA,EAAI,EAAIkkG,MACH,IAAIlkG,IAAMikG,EACf,OAAO1rF,EAAI4nC,IAAsB3nB,KAAd+8C,GAAK,EAAI,GAE5Bh9D,GAAQhe,KAAKsB,IAAI,EAAGioG,GACpB9jG,GAAQkkG,EAEV,OAAQ3uB,GAAK,EAAI,GAAKh9D,EAAIhe,KAAKsB,IAAI,EAAGmE,EAAI8jG,IAG5C7oG,EAAQ8b,MAAQ,SAAUxC,EAAQ3V,EAAOizB,EAAQgyE,EAAMC,EAAMC,GAC3D,IAAI/jG,EAAGuY,EAAG6vE,EACN4b,EAAiB,EAATD,EAAcD,EAAO,EAC7BG,GAAQ,GAAKD,GAAQ,EACrBE,EAAQD,GAAQ,EAChBr+E,EAAe,KAATk+E,EAAcvpG,KAAKsB,IAAI,GAAI,IAAMtB,KAAKsB,IAAI,GAAI,IAAM,EAC1D1B,EAAI0pG,EAAO,EAAKE,EAAS,EACzBhvE,EAAI8uE,EAAO,GAAK,EAChBtuB,EAAI32E,EAAQ,GAAgB,IAAVA,GAAe,EAAIA,EAAQ,EAAK,EAAI,EAmC1D,IAjCAA,EAAQrE,KAAKksB,IAAI7nB,GAEby/B,MAAMz/B,IAAUA,IAAU45B,KAC5BjgB,EAAI8lB,MAAMz/B,GAAS,EAAI,EACvBoB,EAAIikG,IAEJjkG,EAAIzF,KAAKC,MAAMD,KAAK4Q,IAAIvM,GAASrE,KAAK6pG,KAClCxlG,GAASwpF,EAAI7tF,KAAKsB,IAAI,GAAImE,IAAM,IAClCA,IACAooF,GAAK,GAGLxpF,GADEoB,EAAIkkG,GAAS,EACNt+E,EAAKwiE,EAELxiE,EAAKrrB,KAAKsB,IAAI,EAAG,EAAIqoG,GAE5BtlG,EAAQwpF,GAAK,IACfpoF,IACAooF,GAAK,GAGHpoF,EAAIkkG,GAASD,GACf1rF,EAAI,EACJvY,EAAIikG,GACKjkG,EAAIkkG,GAAS,GACtB3rF,GAAM3Z,EAAQwpF,EAAK,GAAK7tF,KAAKsB,IAAI,EAAGioG,GACpC9jG,GAAQkkG,IAER3rF,EAAI3Z,EAAQrE,KAAKsB,IAAI,EAAGqoG,EAAQ,GAAK3pG,KAAKsB,IAAI,EAAGioG,GACjD9jG,EAAI,IAID8jG,GAAQ,EAAGvvF,EAAOsd,EAAS13B,GAAS,IAAJoe,EAAUpe,GAAK46B,EAAGxc,GAAK,IAAKurF,GAAQ,GAI3E,IAFA9jG,EAAKA,GAAK8jG,EAAQvrF,EAClByrF,GAAQF,EACDE,EAAO,EAAGzvF,EAAOsd,EAAS13B,GAAS,IAAJ6F,EAAU7F,GAAK46B,EAAG/0B,GAAK,IAAKgkG,GAAQ,GAE1EzvF,EAAOsd,EAAS13B,EAAI46B,IAAU,IAAJwgD,I,qBCnF5B,SAAS8uB,EAAgBnoB,EAAU1R,GACjC,KAAM0R,aAAoB1R,GACxB,MAAM,IAAIwrB,UAAU,qCAIxBh7F,EAAOC,QAAUopG,EAAiBrpG,EAAOC,QAAQ0vE,YAAa,EAAM3vE,EAAOC,QAAQ,WAAaD,EAAOC,S,wBCDvG,SAAUoB,GAENA,EAAI,EAAQ,UAFhB,EAOG,SAASC,GACV,aAEA,IAAIgoG,EAA4B,kBAC5BC,EAA4B,yBAsChC,SAASC,EAAW1mG,EAAIoB,GAStB,GARA9D,KAAK0C,GAAKA,EACV1C,KAAK8D,QAAUA,EACf9D,KAAK28B,OAAS,KACd38B,KAAKqpG,SAAW,EAChBrpG,KAAKspG,KAAO,EACZtpG,KAAKupG,SAAWvpG,KAAK0C,GAAGsD,UAAU,SAClChG,KAAKwpG,SAAWxpG,KAAK0C,GAAG0qB,QAAQptB,KAAKupG,SAASjjG,MAAM1H,OAASoB,KAAK0C,GAAGiD,eAAe/G,OAEhFoB,KAAK8D,QAAQ2lG,uBAAwB,CACvC,IAAI9zF,EAAO3V,KACX0C,EAAGyU,GAAG,iBAAkBnX,KAAK0pG,aAAe,WAAa/zF,EAAKgT,oBA7ClEznB,EAAWyoG,SAAW,SAASjnG,EAAIknG,EAAU9lG,GAC3C,IAAK8lG,EAAU,OAAOlnG,EAAGinG,SAAS7lG,GAC9BA,GAAWA,EAAQsjF,QAAOwiB,EAASxiB,OAAQ,GAC/C,IAAIyiB,EAAU,CAAChqD,KAAM+pD,GACrB,GAAI9lG,EAAS,IAAK,IAAI2d,KAAQ3d,EAAS+lG,EAAQpoF,GAAQ3d,EAAQ2d,GAC/D,OAAO/e,EAAGinG,SAASE,IAGrB3oG,EAAWqV,gBAAgB,YAAY,SAASzS,GAC9CA,EAAUgmG,EAAa9pG,KAAMA,KAAKgG,UAAU,SAAUlC,GACtD,IAAIimG,EAAa/pG,KAAKyL,iBACtB,KAAIs+F,EAAWnrG,OAAS,GAAxB,CAIA,GAAIoB,KAAKg/C,oBAAqB,CAC5B,IAAKl7C,EAAQ+7C,KAAKmqD,kBAAmB,OAErC,IAAK,IAAIjrG,EAAI,EAAGA,EAAIgrG,EAAWnrG,OAAQG,IACrC,GAAIgrG,EAAWhrG,GAAG8M,KAAKvF,MAAQyjG,EAAWhrG,GAAG2N,OAAOpG,KAAM,OAG1DtG,KAAK2C,MAAMsnG,kBAAkBjqG,KAAK2C,MAAMsnG,iBAAiB72F,QAC7D,IAAI82F,EAAalqG,KAAK2C,MAAMsnG,iBAAmB,IAAIb,EAAWppG,KAAM8D,GAC/DomG,EAAWpmG,QAAQ+7C,OAExB3+C,EAAWinB,OAAOnoB,KAAM,kBAAmBA,MAC3CkqG,EAAWr1D,QAAO,QAGpB3zC,EAAWqV,gBAAgB,aAAa,WAClCvW,KAAK2C,MAAMsnG,kBAAkBjqG,KAAK2C,MAAMsnG,iBAAiB72F,WAkB/D,IAAI+xF,EAAwBvvF,OAAOuvF,uBAAyB,SAASne,GACnE,OAAOjvE,WAAWivE,EAAI,IAAK,KAEzBmjB,EAAuBv0F,OAAOu0F,sBAAwBlyF,aAsF1D,SAAS6xF,EAAapnG,EAAIZ,EAAKgC,GAC7B,IAAIkzF,EAASt0F,EAAGoB,QAAQsmG,YACpB9mF,EAAM,GACV,IAAK,IAAI7B,KAAQ4oF,EAAgB/mF,EAAI7B,GAAQ4oF,EAAe5oF,GAC5D,GAAIu1E,EAAQ,IAAK,IAAIv1E,KAAQu1E,OACNh7E,IAAjBg7E,EAAOv1E,KAAqB6B,EAAI7B,GAAQu1E,EAAOv1E,IACrD,GAAI3d,EAAS,IAAK,IAAI2d,KAAQ3d,OACNkY,IAAlBlY,EAAQ2d,KAAqB6B,EAAI7B,GAAQ3d,EAAQ2d,IAEvD,OADI6B,EAAIu8B,KAAKgkC,UAASvgE,EAAIu8B,KAAOv8B,EAAIu8B,KAAKgkC,QAAQnhF,EAAIZ,IAC/CwhB,EAGT,SAASgnF,EAAQJ,GACf,MAAyB,iBAAdA,EAA+BA,EAC9BA,EAAW/mG,KAGzB,SAASonG,EAAYL,EAAY/hD,GAC/B,IAAIqiD,EAAU,CACZC,GAAI,WAAYtiD,EAAOuiD,WAAW,IAClCC,KAAM,WAAYxiD,EAAOuiD,UAAU,IACnCE,OAAQ,WAAYziD,EAAOuiD,UAA+B,EAApBviD,EAAO0iD,YAAgB,IAC7DC,SAAU,WAAY3iD,EAAOuiD,UAAUviD,EAAO0iD,WAAa,GAAG,IAC9DE,KAAM,WAAY5iD,EAAO6iD,SAAS,IAClCC,IAAK,WAAY9iD,EAAO6iD,SAAS7iD,EAAOvpD,OAAS,IACjDkM,MAAOq9C,EAAO+iD,KACdC,IAAKhjD,EAAO+iD,KACZE,IAAKjjD,EAAO/0C,OAGVyL,EAAM,MAAMha,KAAK8L,UAAU8M,UAE3BoB,IACF2rF,EAAQ,UAAY,WAAYriD,EAAOuiD,WAAW,IAClDF,EAAQ,UAAY,WAAYriD,EAAOuiD,UAAU,KAGnD,IAAIW,EAASnB,EAAWpmG,QAAQwnG,WAC5BC,EAASF,EAAS,GAAKb,EAC3B,SAASgB,EAAWnjG,EAAKgC,GACvB,IAAI0vD,EAEFA,EADgB,iBAAP1vD,EACD,SAAS3H,GAAM,OAAO2H,EAAI3H,EAAIylD,IAE/BqiD,EAAQvuF,eAAe5R,GACtBmgG,EAAQngG,GAERA,EACVkhG,EAAOljG,GAAO0xD,EAEhB,GAAIsxC,EACF,IAAK,IAAIhjG,KAAOgjG,EAAYA,EAAOpvF,eAAe5T,IAChDmjG,EAAWnjG,EAAKgjG,EAAOhjG,IAC3B,IAAIrB,EAAQkjG,EAAWpmG,QAAQu2D,UAC/B,GAAIrzD,EACF,IAAK,IAAIqB,KAAOrB,EAAWA,EAAMiV,eAAe5T,IAC9CmjG,EAAWnjG,EAAKrB,EAAMqB,IAC1B,OAAOkjG,EAGT,SAASE,EAAeC,EAAc3jG,GACpC,MAAOA,GAAMA,GAAM2jG,EAAc,CAC/B,GAAkC,OAA9B3jG,EAAG6yC,SAAS32B,eAA0Blc,EAAG6O,YAAc80F,EAAc,OAAO3jG,EAChFA,EAAKA,EAAG6O,YAIZ,SAAS+0F,EAAOzB,EAAYl7F,GAC1BhP,KAAKoiB,GAAK,eAAiBjjB,KAAKC,MAAMD,KAAKwB,OAAO,MAClDX,KAAKkqG,WAAaA,EAClBlqG,KAAKgP,KAAOA,EACZhP,KAAK4rG,QAAS,EACd,IAAIjvE,EAAS38B,KAAM0C,EAAKwnG,EAAWxnG,GAC/BioB,EAAgBjoB,EAAG48D,gBAAgB30C,cACnCkhF,EAAelhF,EAAcmhF,aAAenhF,EAAckhF,aAE1DE,EAAQ/rG,KAAK+rG,MAAQphF,EAAcxiB,cAAc,MACrD4jG,EAAM/rF,aAAa,OAAQ,WAC3B+rF,EAAM/rF,aAAa,gBAAiB,QACpC+rF,EAAM3pF,GAAKpiB,KAAKoiB,GAChB,IAAI48C,EAAQkrC,EAAWxnG,GAAGoB,QAAQk7D,MAClC+sC,EAAMrjG,UAAY,oBAAsBs2D,EACxCh/D,KAAKgsG,aAAeh9F,EAAKg9F,cAAgB,EAGzC,IADA,IAAIC,EAAcj9F,EAAK0vB,KACd3/B,EAAI,EAAGA,EAAIktG,EAAYrtG,SAAUG,EAAG,CAC3C,IAAI8gB,EAAMksF,EAAMvjG,YAAYmiB,EAAcxiB,cAAc,OAAQ2D,EAAMmgG,EAAYltG,GAC9E2J,EAAYwgG,GAAsBnqG,GAAKiB,KAAKgsG,aAAe,GAAK,IAAM7C,GACrD,MAAjBr9F,EAAIpD,YAAmBA,EAAYoD,EAAIpD,UAAY,IAAMA,GAC7DmX,EAAInX,UAAYA,EACZ3J,GAAKiB,KAAKgsG,cAAcnsF,EAAIG,aAAa,gBAAiB,QAC9DH,EAAIuC,GAAKpiB,KAAKoiB,GAAK,IAAMrjB,EACzB8gB,EAAIG,aAAa,OAAQ,UACrBlU,EAAIipF,OAAQjpF,EAAIipF,OAAOl1E,EAAK7Q,EAAMlD,GACjC+T,EAAIrX,YAAYmiB,EAAcliB,eAAeqD,EAAIgwB,aAAewuE,EAAQx+F,KAC7E+T,EAAIqsF,OAASntG,EAGf,IAAI68C,EAAYsuD,EAAWpmG,QAAQ83C,WAAajxB,EAActK,KAC1Dve,EAAMY,EAAGkE,aAAasjG,EAAWpmG,QAAQqoG,cAAgBn9F,EAAKnH,KAAO,MACrE0F,EAAOzL,EAAIyL,KAAM1G,EAAM/E,EAAI+B,OAAQuoG,GAAQ,EAC3C7hE,EAAa,EAAG9H,EAAY,EAChC,GAAImZ,IAAcjxB,EAActK,KAAM,CAEpC,IAAIgsF,GAA0H,IAAlG,CAAC,WAAY,WAAY,SAAS1nG,QAAQknG,EAAahpE,iBAAiB+Y,GAAW/Z,UAC3GqsC,EAAem+B,EAAwBzwD,EAAYA,EAAUsyB,aAC7Do+B,EAAuBp+B,EAAavnE,wBACpC4lG,EAAe5hF,EAActK,KAAK1Z,wBACtC4jC,EAAc+hE,EAAqB/+F,KAAOg/F,EAAah/F,KAAO2gE,EAAa9mC,WAC3E3E,EAAa6pE,EAAqBzlG,IAAM0lG,EAAa1lG,IAAMqnE,EAAa1mC,UAE1EukE,EAAM9lG,MAAMsH,KAAQA,EAAOg9B,EAAc,KACzCwhE,EAAM9lG,MAAMY,IAAOA,EAAM47B,EAAa,KAGtC,IAAI+pE,EAAOX,EAAaY,YAActtG,KAAKgB,IAAIwqB,EAActK,KAAK4J,YAAaU,EAAcwc,gBAAgBld,aACzGyiF,EAAOb,EAAav6D,aAAenyC,KAAKgB,IAAIwqB,EAActK,KAAK2J,aAAcW,EAAcwc,gBAAgBnd,cAC/G4xB,EAAUpzC,YAAYujG,GACtBrpG,EAAG48D,gBAAgBt/C,aAAa,oBAAqB,QACrDtd,EAAG48D,gBAAgBt/C,aAAa,YAAahgB,KAAKoiB,IAClD1f,EAAG48D,gBAAgBt/C,aAAa,wBAAyBhgB,KAAKoiB,GAAK,IAAMpiB,KAAKgsG,cAE9E,IAIIW,EAJApjE,EAAM2gE,EAAWpmG,QAAQ8oG,cAAgBb,EAAMplG,wBAA0B,IAAIkmG,QAC7EC,IAAU5C,EAAWpmG,QAAQipG,qBAAsBhB,EAAMr4D,aAAeq4D,EAAMvoE,aAAe,EAIjGzrB,YAAW,WAAa40F,EAAcjqG,EAAGsjE,mBAEzC,IAAIgnC,EAAWzjE,EAAI1lC,OAAS6oG,EAC5B,GAAIM,EAAW,EAAG,CAChB,IAAIh/E,EAASub,EAAI1lC,OAAS0lC,EAAI1iC,IAAKomG,EAASnrG,EAAI+E,KAAO/E,EAAI+B,OAAS0lC,EAAI1iC,KACxE,GAAIomG,EAASj/E,EAAS,EACpB+9E,EAAM9lG,MAAMY,KAAOA,EAAM/E,EAAI+E,IAAMmnB,EAASyU,GAAa,KACzD2pE,GAAQ,OACH,GAAIp+E,EAAS0+E,EAAM,CACxBX,EAAM9lG,MAAM+nB,OAAU0+E,EAAO,EAAK,KAClCX,EAAM9lG,MAAMY,KAAOA,EAAM/E,EAAI+B,OAAS0lC,EAAI1iC,IAAM47B,GAAa,KAC7D,IAAIl7B,EAAS7E,EAAGsD,YACZgJ,EAAKnH,KAAKrD,IAAM+C,EAAO/C,KACzB1C,EAAMY,EAAGkE,aAAaW,GACtBwkG,EAAM9lG,MAAMsH,MAAQA,EAAOzL,EAAIyL,KAAOg9B,GAAc,KACpDhB,EAAMwiE,EAAMplG,0BAIlB,IAuBMumG,EAvBFC,EAAW5jE,EAAI/7B,MAAQg/F,EAS3B,GARIM,IAASK,GAAYzqG,EAAG+D,QAAQ08B,gBAChCgqE,EAAW,IACT5jE,EAAI/7B,MAAQ+7B,EAAIh8B,KAAOi/F,IACzBT,EAAM9lG,MAAMw7B,MAAS+qE,EAAO,EAAK,KACjCW,GAAa5jE,EAAI/7B,MAAQ+7B,EAAIh8B,KAAQi/F,GAEvCT,EAAM9lG,MAAMsH,MAAQA,EAAOzL,EAAIyL,KAAO4/F,EAAW5iE,GAAc,MAE7DuiE,EAAS,IAAK,IAAIztF,EAAO0sF,EAAMrsF,WAAYL,EAAMA,EAAOA,EAAK0hB,YAC/D1hB,EAAKpZ,MAAM+8B,aAAetgC,EAAG+D,QAAQ08B,eAAiB,MAExDzgC,EAAGiI,UAAU3K,KAAKmH,OAASojG,EAAYL,EAAY,CACjDQ,UAAW,SAAS5oF,EAAGsrF,GAAazwE,EAAO0wE,aAAa1wE,EAAOqvE,aAAelqF,EAAGsrF,IACjFpC,SAAU,SAASlpF,GAAK6a,EAAO0wE,aAAavrF,IAC5C+oF,SAAU,WAAa,OAAOluE,EAAO2wE,gBACrC1uG,OAAQqtG,EAAYrtG,OACpBwU,MAAO,WAAa82F,EAAW92F,SAC/B83F,KAAM,WAAavuE,EAAOuuE,QAC1Bl8F,KAAMA,KAGJk7F,EAAWpmG,QAAQypG,kBAErB7qG,EAAGyU,GAAG,OAAQnX,KAAK8vC,OAAS,WAAao9D,EAAgBn1F,YAAW,WAAamyF,EAAW92F,UAAY,OACxG1Q,EAAGyU,GAAG,QAASnX,KAAKgwC,QAAU,WAAa/3B,aAAai1F,MAG1DxqG,EAAGyU,GAAG,SAAUnX,KAAKwtG,SAAW,WAC9B,IAAIC,EAAY/qG,EAAGsjE,gBAAiBgxB,EAASt0F,EAAGuT,oBAAoBtP,wBAC/DgmG,IAAaA,EAAcjqG,EAAGsjE,iBACnC,IAAIxzB,EAAS3rC,EAAM8lG,EAAY9lG,IAAM4mG,EAAU5mG,IAC3C6mG,EAAQl7D,GAAUq5D,EAAatkE,cAAgB5c,EAAcwc,iBAAmBxc,EAActK,MAAMmnB,WAExG,GADK4kE,IAAOsB,GAAS3B,EAAM/hF,cACvB0jF,GAAS1W,EAAOnwF,KAAO6mG,GAAS1W,EAAOnzF,OAAQ,OAAOqmG,EAAW92F,QACrE24F,EAAM9lG,MAAMY,IAAM2rC,EAAS,KAC3Bu5D,EAAM9lG,MAAMsH,KAAQA,EAAOo/F,EAAYp/F,KAAOkgG,EAAUlgG,KAAQ,OAGlErM,EAAWiW,GAAG40F,EAAO,YAAY,SAASnnG,GACxC,IAAIkqD,EAAI28C,EAAeM,EAAOnnG,EAAEuT,QAAUvT,EAAE0kB,YACxCwlC,GAAiB,MAAZA,EAAEo9C,SAAiBvvE,EAAO0wE,aAAav+C,EAAEo9C,QAASvvE,EAAOuuE,WAGpEhqG,EAAWiW,GAAG40F,EAAO,SAAS,SAASnnG,GACrC,IAAIkqD,EAAI28C,EAAeM,EAAOnnG,EAAEuT,QAAUvT,EAAE0kB,YACxCwlC,GAAiB,MAAZA,EAAEo9C,SACTvvE,EAAO0wE,aAAav+C,EAAEo9C,QAClBhC,EAAWpmG,QAAQ6pG,uBAAuBhxE,EAAOuuE,WAIzDhqG,EAAWiW,GAAG40F,EAAO,aAAa,WAChCh0F,YAAW,WAAWrV,EAAGoU,UAAW,OAItC,IAAI82F,EAAoB5tG,KAAK6tG,uBAM7B,OAL+B,IAA3BD,EAAkB/lG,MAAuC,IAAzB+lG,EAAkBvnG,IACpDrG,KAAK8tG,iBAGP5sG,EAAWinB,OAAOnZ,EAAM,SAAUi9F,EAAYjsG,KAAKgsG,cAAeD,EAAMtsF,WAAWzf,KAAKgsG,gBACjF,EA2ET,SAAS+B,EAAkBrrG,EAAIyhE,GAC7B,IAAKzhE,EAAGs8C,oBAAqB,OAAOmlB,EAEpC,IADA,IAAI50D,EAAS,GACJxQ,EAAI,EAAGA,EAAIolE,EAAQvlE,OAAQG,IAC9BolE,EAAQplE,GAAGirG,mBAAmBz6F,EAAO9C,KAAK03D,EAAQplE,IACxD,OAAOwQ,EAGT,SAASy+F,EAAWnuD,EAAMn9C,EAAIoB,EAASwD,GACrC,GAAIu4C,EAAKunC,MACPvnC,EAAKn9C,EAAI4E,EAAUxD,OACd,CACL,IAAIyL,EAASswC,EAAKn9C,EAAIoB,GAClByL,GAAUA,EAAOw0E,KAAMx0E,EAAOw0E,KAAKz8E,GAClCA,EAASiI,IAIlB,SAAS0+F,EAAiBvrG,EAAIZ,GAC5B,IAA0CosG,EAAtC/pC,EAAUzhE,EAAG+hE,WAAW3iE,EAAK,QACjC,GAAIqiE,EAAQvlE,OAAQ,CAClB,IAAIuvG,EAAW,SAASzrG,EAAI4E,EAAUxD,GACpC,IAAIi1F,EAAMgV,EAAkBrrG,EAAIyhE,GAChC,SAASiqC,EAAIrvG,GACX,GAAIA,GAAKg6F,EAAIn6F,OAAQ,OAAO0I,EAAS,MACrC0mG,EAAWjV,EAAIh6F,GAAI2D,EAAIoB,GAAS,SAASyL,GACnCA,GAAUA,EAAOmvB,KAAK9/B,OAAS,EAAG0I,EAASiI,GAC1C6+F,EAAIrvG,EAAI,MAGjBqvG,EAAI,IAIN,OAFAD,EAAS/mB,OAAQ,EACjB+mB,EAASnE,mBAAoB,EACtBmE,EACF,OAAID,EAAQxrG,EAAG8hE,UAAU9hE,EAAGsD,YAAa,cACvC,SAAStD,GAAM,OAAOxB,EAAW2+C,KAAKwuD,SAAS3rG,EAAI,CAACwrG,MAAOA,KACzDhtG,EAAW2+C,KAAKyuD,QAClB,SAAS5rG,EAAIoB,GAAW,OAAO5C,EAAW2+C,KAAKyuD,QAAQ5rG,EAAIoB,IAE3D,aAxZXslG,EAAW7oG,UAAY,CACrB6S,MAAO,WACApT,KAAKo6C,WACVp6C,KAAK0C,GAAGC,MAAMsnG,iBAAmB,KACjCjqG,KAAKspG,KAAO,KACRtpG,KAAK8D,QAAQ2lG,wBACfzpG,KAAK0C,GAAGslB,IAAI,iBAAkBhoB,KAAK0pG,cAGjC1pG,KAAK28B,QAAU38B,KAAKgP,MAAM9N,EAAWinB,OAAOnoB,KAAKgP,KAAM,SACvDhP,KAAK28B,QAAQ38B,KAAK28B,OAAOvpB,QAC7BlS,EAAWinB,OAAOnoB,KAAK0C,GAAI,gBAAiB1C,KAAK0C,MAGnD03C,OAAQ,WACN,OAAOp6C,KAAK0C,GAAGC,MAAMsnG,kBAAoBjqG,MAG3CkrG,KAAM,SAASl8F,EAAMjQ,GACnB,IAAImrG,EAAal7F,EAAK0vB,KAAK3/B,GAAI4W,EAAO3V,KACtCA,KAAK0C,GAAG2E,WAAU,WACZ6iG,EAAWrqD,KACbqqD,EAAWrqD,KAAKlqC,EAAKjT,GAAIsM,EAAMk7F,GAE/Bv0F,EAAKjT,GAAGqJ,aAAau+F,EAAQJ,GAAaA,EAAWriG,MAAQmH,EAAKnH,KAC7CqiG,EAAW7jG,IAAM2I,EAAK3I,GAAI,YACjDnF,EAAWinB,OAAOnZ,EAAM,OAAQk7F,GAChCv0F,EAAKjT,GAAGoF,oBAEN9H,KAAK8D,QAAQyqG,aACfvuG,KAAKoT,SAITuV,eAAgB,WACV3oB,KAAKqpG,WACPc,EAAqBnqG,KAAKqpG,UAC1BrpG,KAAKqpG,SAAW,GAGlB,IAAImF,EAAaxuG,KAAKupG,SACnBvpG,KAAKgP,OACNw/F,EAAaxuG,KAAKgP,KAAKnH,MAGzB,IAAI/F,EAAM9B,KAAK0C,GAAGsD,YAAaM,EAAOtG,KAAK0C,GAAG0qB,QAAQtrB,EAAIwE,MAC1D,GAAIxE,EAAIwE,MAAQtG,KAAKupG,SAASjjG,MAAQA,EAAK1H,OAASkD,EAAI0C,IAAMxE,KAAKwpG,SAAWxpG,KAAKupG,SAAS/kG,IACxF1C,EAAI0C,GAAKgqG,EAAWhqG,IAAMxE,KAAK0C,GAAGs8C,sBAChCl9C,EAAI0C,IAAMxE,KAAK8D,QAAQ2qG,gBAAgB5pG,KAAKyB,EAAK9G,OAAOsC,EAAI0C,GAAK,IACrExE,KAAKoT,YACA,CACL,IAAIuC,EAAO3V,KACXA,KAAKqpG,SAAWlE,GAAsB,WAAYxvF,EAAKk/B,YACnD70C,KAAK28B,QAAQ38B,KAAK28B,OAAO+xE,YAIjC75D,OAAQ,SAASvnB,GACf,GAAiB,MAAbttB,KAAKspG,KAAT,CACA,IAAI3zF,EAAO3V,KAAM2uG,IAAW3uG,KAAKspG,KACjC0E,EAAWhuG,KAAK8D,QAAQ+7C,KAAM7/C,KAAK0C,GAAI1C,KAAK8D,SAAS,SAASkL,GACxD2G,EAAK2zF,MAAQqF,GAAQh5F,EAAKi5F,aAAa5/F,EAAMse,QAIrDshF,aAAc,SAAS5/F,EAAMse,GACvBttB,KAAKgP,MAAM9N,EAAWinB,OAAOnoB,KAAKgP,KAAM,UAE5C,IAAI48F,EAAU5rG,KAAK28B,QAAU38B,KAAK28B,OAAOivE,QAAYt+E,GAASttB,KAAK8D,QAAQ+qG,eACvE7uG,KAAK28B,QAAQ38B,KAAK28B,OAAOvpB,QAE7BpT,KAAKgP,KAAOA,EAERA,GAAQA,EAAK0vB,KAAK9/B,SAChBgtG,GAA8B,GAApB58F,EAAK0vB,KAAK9/B,OACtBoB,KAAKkrG,KAAKl8F,EAAM,IAEhBhP,KAAK28B,OAAS,IAAIgvE,EAAO3rG,KAAMgP,GAC/B9N,EAAWinB,OAAOnZ,EAAM,aA0NhC28F,EAAOprG,UAAY,CACjB6S,MAAO,WACL,GAAIpT,KAAKkqG,WAAWvtE,QAAU38B,KAA9B,CACAA,KAAKkqG,WAAWvtE,OAAS,KACrB38B,KAAK+rG,MAAMn1F,YAAY5W,KAAK+rG,MAAMn1F,WAAWC,YAAY7W,KAAK+rG,OAClE/rG,KAAKkqG,WAAWxnG,GAAG8H,aAAaxK,KAAKmH,QACrC,IAAIy1B,EAAQ58B,KAAKkqG,WAAWxnG,GAAG48D,gBAC/B1iC,EAAMotC,gBAAgB,yBACtBptC,EAAMotC,gBAAgB,aAEtB,IAAItnE,EAAK1C,KAAKkqG,WAAWxnG,GACrB1C,KAAKkqG,WAAWpmG,QAAQypG,iBAC1B7qG,EAAGslB,IAAI,OAAQhoB,KAAK8vC,QACpBptC,EAAGslB,IAAI,QAAShoB,KAAKgwC,UAEvBttC,EAAGslB,IAAI,SAAUhoB,KAAKwtG,YAGxBkB,QAAS,WACP1uG,KAAKkqG,WAAWxnG,GAAG8H,aAAaxK,KAAKmH,QACrC,IAAIw1B,EAAS38B,KACbA,KAAKmH,OAAS,CAAC2D,MAAO,WAAa6xB,EAAOivE,QAAS,IACnD5rG,KAAKkqG,WAAWxnG,GAAGiI,UAAU3K,KAAKmH,SAGpC+jG,KAAM,WACJlrG,KAAKkqG,WAAWgB,KAAKlrG,KAAKgP,KAAMhP,KAAKgsG,eAGvCqB,aAAc,SAAStuG,EAAGquG,GAKxB,GAJIruG,GAAKiB,KAAKgP,KAAK0vB,KAAK9/B,OACtBG,EAAIquG,EAAYptG,KAAKgP,KAAK0vB,KAAK9/B,OAAS,EAAI,EACrCG,EAAI,IACXA,EAAIquG,EAAY,EAAKptG,KAAKgP,KAAK0vB,KAAK9/B,OAAS,GAC3CoB,KAAKgsG,cAAgBjtG,EAAzB,CACA,IAAIsgB,EAAOrf,KAAK+rG,MAAMtsF,WAAWzf,KAAKgsG,cAClC3sF,IACFA,EAAK3W,UAAY2W,EAAK3W,UAAUnH,QAAQ,IAAM4nG,EAA2B,IACzE9pF,EAAK2qD,gBAAgB,kBAEvB3qD,EAAOrf,KAAK+rG,MAAMtsF,WAAWzf,KAAKgsG,aAAejtG,GACjDsgB,EAAK3W,WAAa,IAAMygG,EACxB9pF,EAAKW,aAAa,gBAAiB,QACnChgB,KAAKkqG,WAAWxnG,GAAG48D,gBAAgBt/C,aAAa,wBAAyBX,EAAK+C,IAC9EpiB,KAAK8tG,iBACL5sG,EAAWinB,OAAOnoB,KAAKgP,KAAM,SAAUhP,KAAKgP,KAAK0vB,KAAK1+B,KAAKgsG,cAAe3sF,KAG5EyuF,eAAgB,WACd,IAAIF,EAAoB5tG,KAAK6tG,uBACzBiB,EAAQ9uG,KAAK+rG,MAAMtsF,WAAWmuF,EAAkB/lG,MAChDknG,EAAQ/uG,KAAK+rG,MAAMtsF,WAAWmuF,EAAkBvnG,IAChD2oG,EAAYhvG,KAAK+rG,MAAMrsF,WACvBovF,EAAMrsE,UAAYziC,KAAK+rG,MAAMvkE,UAC/BxnC,KAAK+rG,MAAMvkE,UAAYsnE,EAAMrsE,UAAYusE,EAAUvsE,UAC5CssE,EAAMtsE,UAAYssE,EAAM/kF,aAAehqB,KAAK+rG,MAAMvkE,UAAYxnC,KAAK+rG,MAAMvoE,eAChFxjC,KAAK+rG,MAAMvkE,UAAYunE,EAAMtsE,UAAYssE,EAAM/kF,aAAehqB,KAAK+rG,MAAMvoE,aAAewrE,EAAUvsE,YAGtG6qE,aAAc,WACZ,OAAOnuG,KAAKC,MAAMY,KAAK+rG,MAAMvoE,aAAexjC,KAAK+rG,MAAMrsF,WAAWsK,eAAiB,GAGrF6jF,qBAAsB,WACpB,IAAIp8D,EAASzxC,KAAKkqG,WAAWpmG,QAAQmrG,cAAgB,EACrD,MAAO,CACLpnG,KAAM1I,KAAKgB,IAAI,EAAGH,KAAKgsG,aAAev6D,GACtCprC,GAAIlH,KAAKe,IAAIF,KAAKgP,KAAK0vB,KAAK9/B,OAAS,EAAGoB,KAAKgsG,aAAev6D,MAiDlEvwC,EAAWqlE,eAAe,OAAQ,OAAQ,CACxCsd,QAASoqB,IAGX/sG,EAAWqlE,eAAe,OAAQ,YAAY,SAAS7jE,EAAIoB,GACzD,IACIorG,EADApjG,EAAMpJ,EAAGsD,YAAarE,EAAQe,EAAGoL,WAAWhC,GACtCjE,EAAO3G,EAAWuG,IAAIqE,EAAIxF,KAAM3E,EAAM2H,OAAQjD,EAAKyF,EACzDnK,EAAM2H,MAAQwC,EAAItH,IAAM,KAAKK,KAAKlD,EAAMM,OAAOzC,OAAOsM,EAAItH,GAAK7C,EAAM2H,MAAQ,IAC/E4lG,EAAOvtG,EAAMM,OAAO2a,OAAO,EAAG9Q,EAAItH,GAAK7C,EAAM2H,QAE7C4lG,EAAO,GACPrnG,EAAOiE,GAGT,IADA,IAAIgZ,EAAQ,GACH/lB,EAAI,EAAGA,EAAI+E,EAAQoqG,MAAMtvG,OAAQG,IAAK,CAC7C,IAAIoiE,EAAOr9D,EAAQoqG,MAAMnvG,GACrBoiE,EAAKvzD,MAAM,EAAGshG,EAAKtwG,SAAWswG,GAChCpqF,EAAMrY,KAAK00D,GAGf,GAAIr8C,EAAMlmB,OAAQ,MAAO,CAAC8/B,KAAM5Z,EAAOjd,KAAMA,EAAMxB,GAAIA,MAGzDnF,EAAWuI,SAAS0lG,aAAejuG,EAAWyoG,SAE9C,IAAIU,EAAiB,CACnBxqD,KAAM3+C,EAAW2+C,KAAKuvD,KACtBP,gBAAgB,EAChB1C,eAAe,EACfsC,gBAAiB,mBACjBF,aAAa,EACbhB,gBAAgB,EAChB9D,wBAAwB,EACxBkE,uBAAuB,EACvB/xD,UAAW,KACX0vD,WAAY,KACZjxC,UAAW,KACX0yC,qBAAqB,EACrBH,eAAe,GAGjB1rG,EAAWsI,aAAa,cAAe,U,0CC/gBzC5J,EAAOC,QAAUqmF,gB,kCCAjB,oFACO,SAASglB,EAAKhyF,KAAQojB,GACzB,OAAOA,EAAK+yE,OAAO,CAACC,EAAK5uE,KACjBxnB,EAAI+C,eAAeykB,KACnB4uE,EAAI5uE,GAAKxnB,EAAIwnB,IAEV4uE,GACR,IAGP,MAAMC,EAAqBx3F,WACrBy3F,EAAuBv3F,aACtB,SAASw3F,EAAsBv2F,EAAKnZ,GACnCA,EAAK2vG,iBACLx2F,EAAI/F,aAAeo8F,EAAmBr9F,KAAK,QAC3CgH,EAAI4xE,eAAiB0kB,EAAqBt9F,KAAK,UAG/CgH,EAAI/F,aAAe4E,WAAW7F,KAAK,QACnCgH,EAAI4xE,eAAiB7yE,aAAa/F,KAAK,W,mBCN/C,SAASy9F,EAAQz2F,GACf,GAAIA,EAAK,OAAO02F,EAAM12F,GAWxB,SAAS02F,EAAM12F,GACb,IAAK,IAAI7Q,KAAOsnG,EAAQpvG,UACtB2Y,EAAI7Q,GAAOsnG,EAAQpvG,UAAU8H,GAE/B,OAAO6Q,EAxBTrZ,EAAQ8vG,QAAUA,EAoClBA,EAAQpvG,UAAU4W,GAClBw4F,EAAQpvG,UAAUonB,iBAAmB,SAAS7hB,EAAOkhF,GAInD,OAHAhnF,KAAK6vG,WAAa7vG,KAAK6vG,YAAc,IACpC7vG,KAAK6vG,WAAW,IAAM/pG,GAAS9F,KAAK6vG,WAAW,IAAM/pG,IAAU,IAC7D2G,KAAKu6E,GACDhnF,MAaT2vG,EAAQpvG,UAAU+lF,KAAO,SAASxgF,EAAOkhF,GACvC,SAAS7vE,IACPnX,KAAKgoB,IAAIliB,EAAOqR,GAChB6vE,EAAG1lE,MAAMthB,KAAMsI,WAKjB,OAFA6O,EAAG6vE,GAAKA,EACRhnF,KAAKmX,GAAGrR,EAAOqR,GACRnX,MAaT2vG,EAAQpvG,UAAUynB,IAClB2nF,EAAQpvG,UAAU+pF,eAClBqlB,EAAQpvG,UAAU8oF,mBAClBsmB,EAAQpvG,UAAU0nB,oBAAsB,SAASniB,EAAOkhF,GAItD,GAHAhnF,KAAK6vG,WAAa7vG,KAAK6vG,YAAc,GAGjC,GAAKvnG,UAAU1J,OAEjB,OADAoB,KAAK6vG,WAAa,GACX7vG,KAIT,IAUI8jF,EAVApsE,EAAY1X,KAAK6vG,WAAW,IAAM/pG,GACtC,IAAK4R,EAAW,OAAO1X,KAGvB,GAAI,GAAKsI,UAAU1J,OAEjB,cADOoB,KAAK6vG,WAAW,IAAM/pG,GACtB9F,KAKT,IAAK,IAAIjB,EAAI,EAAGA,EAAI2Y,EAAU9Y,OAAQG,IAEpC,GADA+kF,EAAKpsE,EAAU3Y,GACX+kF,IAAOkD,GAAMlD,EAAGkD,KAAOA,EAAI,CAC7BtvE,EAAUmF,OAAO9d,EAAG,GACpB,MAUJ,OAJyB,IAArB2Y,EAAU9Y,eACLoB,KAAK6vG,WAAW,IAAM/pG,GAGxB9F,MAWT2vG,EAAQpvG,UAAUiR,KAAO,SAAS1L,GAChC9F,KAAK6vG,WAAa7vG,KAAK6vG,YAAc,GAKrC,IAHA,IAAIxuF,EAAO,IAAI/M,MAAMhM,UAAU1J,OAAS,GACpC8Y,EAAY1X,KAAK6vG,WAAW,IAAM/pG,GAE7B/G,EAAI,EAAGA,EAAIuJ,UAAU1J,OAAQG,IACpCsiB,EAAKtiB,EAAI,GAAKuJ,UAAUvJ,GAG1B,GAAI2Y,EAAW,CACbA,EAAYA,EAAU9J,MAAM,GACnB7O,EAAI,EAAb,IAAK,IAAW+T,EAAM4E,EAAU9Y,OAAQG,EAAI+T,IAAO/T,EACjD2Y,EAAU3Y,GAAGuiB,MAAMthB,KAAMqhB,GAI7B,OAAOrhB,MAIT2vG,EAAQpvG,UAAUmpF,aAAeimB,EAAQpvG,UAAUiR,KAUnDm+F,EAAQpvG,UAAUyvF,UAAY,SAASlqF,GAErC,OADA9F,KAAK6vG,WAAa7vG,KAAK6vG,YAAc,GAC9B7vG,KAAK6vG,WAAW,IAAM/pG,IAAU,IAWzC6pG,EAAQpvG,UAAUuvG,aAAe,SAAShqG,GACxC,QAAU9F,KAAKgwF,UAAUlqF,GAAOlH,S,mCC9KlC;;;;;;;AAUA,IAAI+a,EAAS,EAAQ,QACjBo2F,EAAU,EAAQ,QAClBxkB,EAAU,EAAQ,QAuCtB,SAASykB,IACP,IACE,IAAIj7F,EAAM,IAAIV,WAAW,GAEzB,OADAU,EAAIk7F,UAAY,CAACA,UAAW57F,WAAW9T,UAAW2vG,IAAK,WAAc,OAAO,KACvD,KAAdn7F,EAAIm7F,OACiB,oBAAjBn7F,EAAIo7F,UACuB,IAAlCp7F,EAAIo7F,SAAS,EAAG,GAAGn9F,WACvB,MAAOpO,GACP,OAAO,GAIX,SAASwrG,IACP,OAAOr9F,EAAOs9F,oBACV,WACA,WAGN,SAASC,EAAc9xB,EAAM5/E,GAC3B,GAAIwxG,IAAexxG,EACjB,MAAM,IAAI2xG,WAAW,8BAcvB,OAZIx9F,EAAOs9F,qBAET7xB,EAAO,IAAInqE,WAAWzV,GACtB4/E,EAAKyxB,UAAYl9F,EAAOxS,YAGX,OAATi+E,IACFA,EAAO,IAAIzrE,EAAOnU,IAEpB4/E,EAAK5/E,OAASA,GAGT4/E,EAaT,SAASzrE,EAAQy9F,EAAKC,EAAkB7xG,GACtC,IAAKmU,EAAOs9F,uBAAyBrwG,gBAAgB+S,GACnD,OAAO,IAAIA,EAAOy9F,EAAKC,EAAkB7xG,GAI3C,GAAmB,kBAAR4xG,EAAkB,CAC3B,GAAgC,kBAArBC,EACT,MAAM,IAAIh8F,MACR,qEAGJ,OAAOi8F,EAAY1wG,KAAMwwG,GAE3B,OAAO3oG,EAAK7H,KAAMwwG,EAAKC,EAAkB7xG,GAW3C,SAASiJ,EAAM22E,EAAMh7E,EAAOitG,EAAkB7xG,GAC5C,GAAqB,kBAAV4E,EACT,MAAM,IAAIo3F,UAAU,yCAGtB,MAA2B,qBAAhB5hF,aAA+BxV,aAAiBwV,YAClD23F,EAAgBnyB,EAAMh7E,EAAOitG,EAAkB7xG,GAGnC,kBAAV4E,EACFotG,EAAWpyB,EAAMh7E,EAAOitG,GAG1BI,EAAWryB,EAAMh7E,GA4B1B,SAASstG,EAAYvjF,GACnB,GAAoB,kBAATA,EACT,MAAM,IAAIqtE,UAAU,oCACf,GAAIrtE,EAAO,EAChB,MAAM,IAAIgjF,WAAW,wCAIzB,SAASQ,EAAOvyB,EAAMjxD,EAAMyjF,EAAMC,GAEhC,OADAH,EAAWvjF,GACPA,GAAQ,EACH+iF,EAAa9xB,EAAMjxD,QAEfvR,IAATg1F,EAIyB,kBAAbC,EACVX,EAAa9xB,EAAMjxD,GAAMyjF,KAAKA,EAAMC,GACpCX,EAAa9xB,EAAMjxD,GAAMyjF,KAAKA,GAE7BV,EAAa9xB,EAAMjxD,GAW5B,SAASmjF,EAAalyB,EAAMjxD,GAG1B,GAFAujF,EAAWvjF,GACXixD,EAAO8xB,EAAa9xB,EAAMjxD,EAAO,EAAI,EAAoB,EAAhB2jF,EAAQ3jF,KAC5Cxa,EAAOs9F,oBACV,IAAK,IAAItxG,EAAI,EAAGA,EAAIwuB,IAAQxuB,EAC1By/E,EAAKz/E,GAAK,EAGd,OAAOy/E,EAgBT,SAASoyB,EAAYpyB,EAAMv8E,EAAQgvG,GAKjC,GAJwB,kBAAbA,GAAsC,KAAbA,IAClCA,EAAW,SAGRl+F,EAAOo+F,WAAWF,GACrB,MAAM,IAAIrW,UAAU,8CAGtB,IAAIh8F,EAAwC,EAA/BoU,EAAW/Q,EAAQgvG,GAChCzyB,EAAO8xB,EAAa9xB,EAAM5/E,GAE1B,IAAIwyG,EAAS5yB,EAAK7iE,MAAM1Z,EAAQgvG,GAShC,OAPIG,IAAWxyG,IAIb4/E,EAAOA,EAAK5wE,MAAM,EAAGwjG,IAGhB5yB,EAGT,SAAS6yB,EAAe7yB,EAAMj8D,GAC5B,IAAI3jB,EAAS2jB,EAAM3jB,OAAS,EAAI,EAA4B,EAAxBsyG,EAAQ3uF,EAAM3jB,QAClD4/E,EAAO8xB,EAAa9xB,EAAM5/E,GAC1B,IAAK,IAAIG,EAAI,EAAGA,EAAIH,EAAQG,GAAK,EAC/By/E,EAAKz/E,GAAgB,IAAXwjB,EAAMxjB,GAElB,OAAOy/E,EAGT,SAASmyB,EAAiBnyB,EAAMj8D,EAAO+uF,EAAY1yG,GAGjD,GAFA2jB,EAAMvP,WAEFs+F,EAAa,GAAK/uF,EAAMvP,WAAas+F,EACvC,MAAM,IAAIf,WAAW,6BAGvB,GAAIhuF,EAAMvP,WAAas+F,GAAc1yG,GAAU,GAC7C,MAAM,IAAI2xG,WAAW,6BAmBvB,OAfEhuF,OADiBvG,IAAfs1F,QAAuCt1F,IAAXpd,EACtB,IAAIyV,WAAWkO,QACHvG,IAAXpd,EACD,IAAIyV,WAAWkO,EAAO+uF,GAEtB,IAAIj9F,WAAWkO,EAAO+uF,EAAY1yG,GAGxCmU,EAAOs9F,qBAET7xB,EAAOj8D,EACPi8D,EAAKyxB,UAAYl9F,EAAOxS,WAGxBi+E,EAAO6yB,EAAc7yB,EAAMj8D,GAEtBi8D,EAGT,SAASqyB,EAAYryB,EAAMtlE,GACzB,GAAInG,EAAOw+F,SAASr4F,GAAM,CACxB,IAAIpG,EAA4B,EAAtBo+F,EAAQh4F,EAAIta,QAGtB,OAFA4/E,EAAO8xB,EAAa9xB,EAAM1rE,GAEN,IAAhB0rE,EAAK5/E,OACA4/E,GAGTtlE,EAAIma,KAAKmrD,EAAM,EAAG,EAAG1rE,GACd0rE,GAGT,GAAItlE,EAAK,CACP,GAA4B,qBAAhBF,aACRE,EAAIC,kBAAkBH,aAAgB,WAAYE,EACpD,MAA0B,kBAAfA,EAAIta,QAAuB4yG,GAAMt4F,EAAIta,QACvC0xG,EAAa9xB,EAAM,GAErB6yB,EAAc7yB,EAAMtlE,GAG7B,GAAiB,WAAbA,EAAItQ,MAAqB2iF,EAAQryE,EAAIlK,MACvC,OAAOqiG,EAAc7yB,EAAMtlE,EAAIlK,MAInC,MAAM,IAAI4rF,UAAU,sFAGtB,SAASsW,EAAStyG,GAGhB,GAAIA,GAAUwxG,IACZ,MAAM,IAAIG,WAAW,0DACaH,IAAav3F,SAAS,IAAM,UAEhE,OAAgB,EAATja,EAGT,SAAS6yG,EAAY7yG,GAInB,OAHKA,GAAUA,IACbA,EAAS,GAEJmU,EAAOg+F,OAAOnyG,GA+EvB,SAASoU,EAAY/Q,EAAQgvG,GAC3B,GAAIl+F,EAAOw+F,SAAStvG,GAClB,OAAOA,EAAOrD,OAEhB,GAA2B,qBAAhBoa,aAA6D,oBAAvBA,YAAYC,SACxDD,YAAYC,OAAOhX,IAAWA,aAAkB+W,aACnD,OAAO/W,EAAO+Q,WAEM,kBAAX/Q,IACTA,EAAS,GAAKA,GAGhB,IAAI6Q,EAAM7Q,EAAOrD,OACjB,GAAY,IAARkU,EAAW,OAAO,EAItB,IADA,IAAI4+F,GAAc,IAEhB,OAAQT,GACN,IAAK,QACL,IAAK,SACL,IAAK,SACH,OAAOn+F,EACT,IAAK,OACL,IAAK,QACL,UAAKkJ,EACH,OAAO21F,EAAY1vG,GAAQrD,OAC7B,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,WACH,OAAa,EAANkU,EACT,IAAK,MACH,OAAOA,IAAQ,EACjB,IAAK,SACH,OAAO8+F,EAAc3vG,GAAQrD,OAC/B,QACE,GAAI8yG,EAAa,OAAOC,EAAY1vG,GAAQrD,OAC5CqyG,GAAY,GAAKA,GAAUnuG,cAC3B4uG,GAAc,GAMtB,SAASG,EAAcZ,EAAU3nG,EAAO8L,GACtC,IAAIs8F,GAAc,EAclB,SALc11F,IAAV1S,GAAuBA,EAAQ,KACjCA,EAAQ,GAINA,EAAQtJ,KAAKpB,OACf,MAAO,GAOT,SAJYod,IAAR5G,GAAqBA,EAAMpV,KAAKpB,UAClCwW,EAAMpV,KAAKpB,QAGTwW,GAAO,EACT,MAAO,GAOT,GAHAA,KAAS,EACT9L,KAAW,EAEP8L,GAAO9L,EACT,MAAO,GAGJ2nG,IAAUA,EAAW,QAE1B,MAAO,EACL,OAAQA,GACN,IAAK,MACH,OAAOa,EAAS9xG,KAAMsJ,EAAO8L,GAE/B,IAAK,OACL,IAAK,QACH,OAAO28F,EAAU/xG,KAAMsJ,EAAO8L,GAEhC,IAAK,QACH,OAAO48F,EAAWhyG,KAAMsJ,EAAO8L,GAEjC,IAAK,SACL,IAAK,SACH,OAAO68F,EAAYjyG,KAAMsJ,EAAO8L,GAElC,IAAK,SACH,OAAO88F,EAAYlyG,KAAMsJ,EAAO8L,GAElC,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,WACH,OAAO+8F,EAAanyG,KAAMsJ,EAAO8L,GAEnC,QACE,GAAIs8F,EAAa,MAAM,IAAI9W,UAAU,qBAAuBqW,GAC5DA,GAAYA,EAAW,IAAInuG,cAC3B4uG,GAAc,GAStB,SAASU,EAAMv6F,EAAGiK,EAAG3E,GACnB,IAAIpe,EAAI8Y,EAAEiK,GACVjK,EAAEiK,GAAKjK,EAAEsF,GACTtF,EAAEsF,GAAKpe,EAmIT,SAASszG,EAAsBl5F,EAAQ9O,EAAKinG,EAAYL,EAAU5kG,GAEhE,GAAsB,IAAlB8M,EAAOva,OAAc,OAAQ,EAmBjC,GAhB0B,kBAAf0yG,GACTL,EAAWK,EACXA,EAAa,GACJA,EAAa,WACtBA,EAAa,WACJA,GAAc,aACvBA,GAAc,YAEhBA,GAAcA,EACVruE,MAAMquE,KAERA,EAAajlG,EAAM,EAAK8M,EAAOva,OAAS,GAItC0yG,EAAa,IAAGA,EAAan4F,EAAOva,OAAS0yG,GAC7CA,GAAcn4F,EAAOva,OAAQ,CAC/B,GAAIyN,EAAK,OAAQ,EACZilG,EAAan4F,EAAOva,OAAS,OAC7B,GAAI0yG,EAAa,EAAG,CACzB,IAAIjlG,EACC,OAAQ,EADJilG,EAAa,EAUxB,GALmB,kBAARjnG,IACTA,EAAM0I,EAAOlL,KAAKwC,EAAK4mG,IAIrBl+F,EAAOw+F,SAASlnG,GAElB,OAAmB,IAAfA,EAAIzL,QACE,EAEH0zG,EAAan5F,EAAQ9O,EAAKinG,EAAYL,EAAU5kG,GAClD,GAAmB,kBAARhC,EAEhB,OADAA,GAAY,IACR0I,EAAOs9F,qBACiC,oBAAjCh8F,WAAW9T,UAAUoE,QAC1B0H,EACKgI,WAAW9T,UAAUoE,QAAQmU,KAAKK,EAAQ9O,EAAKinG,GAE/Cj9F,WAAW9T,UAAUm6E,YAAY5hE,KAAKK,EAAQ9O,EAAKinG,GAGvDgB,EAAan5F,EAAQ,CAAE9O,GAAOinG,EAAYL,EAAU5kG,GAG7D,MAAM,IAAIuuF,UAAU,wCAGtB,SAAS0X,EAAcv9F,EAAK1K,EAAKinG,EAAYL,EAAU5kG,GACrD,IA0BItN,EA1BAwzG,EAAY,EACZC,EAAYz9F,EAAInW,OAChB6zG,EAAYpoG,EAAIzL,OAEpB,QAAiBod,IAAbi1F,IACFA,EAAWt2F,OAAOs2F,GAAUnuG,cACX,SAAbmuG,GAAoC,UAAbA,GACV,YAAbA,GAAuC,aAAbA,GAAyB,CACrD,GAAIl8F,EAAInW,OAAS,GAAKyL,EAAIzL,OAAS,EACjC,OAAQ,EAEV2zG,EAAY,EACZC,GAAa,EACbC,GAAa,EACbnB,GAAc,EAIlB,SAAS1iD,EAAMm+B,EAAKhuF,GAClB,OAAkB,IAAdwzG,EACKxlB,EAAIhuF,GAEJguF,EAAI2lB,aAAa3zG,EAAIwzG,GAKhC,GAAIlmG,EAAK,CACP,IAAIsmG,GAAc,EAClB,IAAK5zG,EAAIuyG,EAAYvyG,EAAIyzG,EAAWzzG,IAClC,GAAI6vD,EAAK75C,EAAKhW,KAAO6vD,EAAKvkD,GAAqB,IAAhBsoG,EAAoB,EAAI5zG,EAAI4zG,IAEzD,IADoB,IAAhBA,IAAmBA,EAAa5zG,GAChCA,EAAI4zG,EAAa,IAAMF,EAAW,OAAOE,EAAaJ,OAEtC,IAAhBI,IAAmB5zG,GAAKA,EAAI4zG,GAChCA,GAAc,OAKlB,IADIrB,EAAamB,EAAYD,IAAWlB,EAAakB,EAAYC,GAC5D1zG,EAAIuyG,EAAYvyG,GAAK,EAAGA,IAAK,CAEhC,IADA,IAAI+lB,GAAQ,EACH5U,EAAI,EAAGA,EAAIuiG,EAAWviG,IAC7B,GAAI0+C,EAAK75C,EAAKhW,EAAImR,KAAO0+C,EAAKvkD,EAAK6F,GAAI,CACrC4U,GAAQ,EACR,MAGJ,GAAIA,EAAO,OAAO/lB,EAItB,OAAQ,EAeV,SAAS6zG,EAAU7lB,EAAK9qF,EAAQw0B,EAAQ73B,GACtC63B,EAASjjB,OAAOijB,IAAW,EAC3B,IAAIiyB,EAAYqkC,EAAInuF,OAAS63B,EACxB73B,GAGHA,EAAS4U,OAAO5U,GACZA,EAAS8pD,IACX9pD,EAAS8pD,IAJX9pD,EAAS8pD,EASX,IAAImqD,EAAS5wG,EAAOrD,OACpB,GAAIi0G,EAAS,IAAM,EAAG,MAAM,IAAIjY,UAAU,sBAEtCh8F,EAASi0G,EAAS,IACpBj0G,EAASi0G,EAAS,GAEpB,IAAK,IAAI9zG,EAAI,EAAGA,EAAIH,IAAUG,EAAG,CAC/B,IAAIuzF,EAASvvD,SAAS9gC,EAAO2a,OAAW,EAAJ7d,EAAO,GAAI,IAC/C,GAAIkkC,MAAMqvD,GAAS,OAAOvzF,EAC1BguF,EAAIt2D,EAAS13B,GAAKuzF,EAEpB,OAAOvzF,EAGT,SAAS+zG,EAAW/lB,EAAK9qF,EAAQw0B,EAAQ73B,GACvC,OAAOm0G,GAAWpB,EAAY1vG,EAAQ8qF,EAAInuF,OAAS63B,GAASs2D,EAAKt2D,EAAQ73B,GAG3E,SAASo0G,EAAYjmB,EAAK9qF,EAAQw0B,EAAQ73B,GACxC,OAAOm0G,GAAWE,EAAahxG,GAAS8qF,EAAKt2D,EAAQ73B,GAGvD,SAASs0G,EAAanmB,EAAK9qF,EAAQw0B,EAAQ73B,GACzC,OAAOo0G,EAAWjmB,EAAK9qF,EAAQw0B,EAAQ73B,GAGzC,SAASu0G,EAAapmB,EAAK9qF,EAAQw0B,EAAQ73B,GACzC,OAAOm0G,GAAWnB,EAAc3vG,GAAS8qF,EAAKt2D,EAAQ73B,GAGxD,SAASw0G,EAAWrmB,EAAK9qF,EAAQw0B,EAAQ73B,GACvC,OAAOm0G,GAAWM,EAAepxG,EAAQ8qF,EAAInuF,OAAS63B,GAASs2D,EAAKt2D,EAAQ73B,GAkF9E,SAASszG,EAAanlB,EAAKzjF,EAAO8L,GAChC,OAAc,IAAV9L,GAAe8L,IAAQ23E,EAAInuF,OACtB+a,EAAO1F,cAAc84E,GAErBpzE,EAAO1F,cAAc84E,EAAIn/E,MAAMtE,EAAO8L,IAIjD,SAAS28F,EAAWhlB,EAAKzjF,EAAO8L,GAC9BA,EAAMjW,KAAKe,IAAI6sF,EAAInuF,OAAQwW,GAC3B,IAAI+gD,EAAM,GAENp3D,EAAIuK,EACR,MAAOvK,EAAIqW,EAAK,CACd,IAQMk+F,EAAYC,EAAWC,EAAYC,EARrCC,EAAY3mB,EAAIhuF,GAChB40G,EAAY,KACZC,EAAoBF,EAAY,IAAQ,EACvCA,EAAY,IAAQ,EACpBA,EAAY,IAAQ,EACrB,EAEJ,GAAI30G,EAAI60G,GAAoBx+F,EAG1B,OAAQw+F,GACN,KAAK,EACCF,EAAY,MACdC,EAAYD,GAEd,MACF,KAAK,EACHJ,EAAavmB,EAAIhuF,EAAI,GACO,OAAV,IAAbu0G,KACHG,GAA6B,GAAZC,IAAqB,EAAoB,GAAbJ,EACzCG,EAAgB,MAClBE,EAAYF,IAGhB,MACF,KAAK,EACHH,EAAavmB,EAAIhuF,EAAI,GACrBw0G,EAAYxmB,EAAIhuF,EAAI,GACQ,OAAV,IAAbu0G,IAAsD,OAAV,IAAZC,KACnCE,GAA6B,GAAZC,IAAoB,IAAoB,GAAbJ,IAAsB,EAAmB,GAAZC,EACrEE,EAAgB,OAAUA,EAAgB,OAAUA,EAAgB,SACtEE,EAAYF,IAGhB,MACF,KAAK,EACHH,EAAavmB,EAAIhuF,EAAI,GACrBw0G,EAAYxmB,EAAIhuF,EAAI,GACpBy0G,EAAazmB,EAAIhuF,EAAI,GACO,OAAV,IAAbu0G,IAAsD,OAAV,IAAZC,IAAsD,OAAV,IAAbC,KAClEC,GAA6B,GAAZC,IAAoB,IAAqB,GAAbJ,IAAsB,IAAmB,GAAZC,IAAqB,EAAoB,GAAbC,EAClGC,EAAgB,OAAUA,EAAgB,UAC5CE,EAAYF,IAMJ,OAAdE,GAGFA,EAAY,MACZC,EAAmB,GACVD,EAAY,QAErBA,GAAa,MACbx9C,EAAI1pD,KAAKknG,IAAc,GAAK,KAAQ,OACpCA,EAAY,MAAqB,KAAZA,GAGvBx9C,EAAI1pD,KAAKknG,GACT50G,GAAK60G,EAGP,OAAOC,EAAsB19C,GA98B/Bt2D,EAAQkT,OAASA,EACjBlT,EAAQ4xG,WAAaA,EACrB5xG,EAAQi0G,kBAAoB,GA0B5B/gG,EAAOs9F,yBAAqDr0F,IAA/Bxa,EAAO6uG,oBAChC7uG,EAAO6uG,oBACPL,IAKJnwG,EAAQuwG,WAAaA,IAkErBr9F,EAAOghG,SAAW,KAGlBhhG,EAAOihG,SAAW,SAAUj/F,GAE1B,OADAA,EAAIk7F,UAAYl9F,EAAOxS,UAChBwU,GA2BThC,EAAOlL,KAAO,SAAUrE,EAAOitG,EAAkB7xG,GAC/C,OAAOiJ,EAAK,KAAMrE,EAAOitG,EAAkB7xG,IAGzCmU,EAAOs9F,sBACTt9F,EAAOxS,UAAU0vG,UAAY57F,WAAW9T,UACxCwS,EAAOk9F,UAAY57F,WACG,qBAAXomF,QAA0BA,OAAOwZ,SACxClhG,EAAO0nF,OAAOwZ,WAAalhG,GAE7BzC,OAAO4+D,eAAen8D,EAAQ0nF,OAAOwZ,QAAS,CAC5CzwG,MAAO,KACPyrE,cAAc,KAiCpBl8D,EAAOg+F,MAAQ,SAAUxjF,EAAMyjF,EAAMC,GACnC,OAAOF,EAAM,KAAMxjF,EAAMyjF,EAAMC,IAiBjCl+F,EAAO29F,YAAc,SAAUnjF,GAC7B,OAAOmjF,EAAY,KAAMnjF,IAK3Bxa,EAAOmhG,gBAAkB,SAAU3mF,GACjC,OAAOmjF,EAAY,KAAMnjF,IAiH3Bxa,EAAOw+F,SAAW,SAAmB15F,GACnC,QAAe,MAALA,IAAaA,EAAEs8F,YAG3BphG,EAAO2oD,QAAU,SAAkBl7C,EAAG3I,GACpC,IAAK9E,EAAOw+F,SAAS/wF,KAAOzN,EAAOw+F,SAAS15F,GAC1C,MAAM,IAAI+iF,UAAU,6BAGtB,GAAIp6E,IAAM3I,EAAG,OAAO,EAKpB,IAHA,IAAIrH,EAAIgQ,EAAE5hB,OACN6R,EAAIoH,EAAEjZ,OAEDG,EAAI,EAAG+T,EAAM3T,KAAKe,IAAIsQ,EAAGC,GAAI1R,EAAI+T,IAAO/T,EAC/C,GAAIyhB,EAAEzhB,KAAO8Y,EAAE9Y,GAAI,CACjByR,EAAIgQ,EAAEzhB,GACN0R,EAAIoH,EAAE9Y,GACN,MAIJ,OAAIyR,EAAIC,GAAW,EACfA,EAAID,EAAU,EACX,GAGTuC,EAAOo+F,WAAa,SAAqBF,GACvC,OAAQt2F,OAAOs2F,GAAUnuG,eACvB,IAAK,MACL,IAAK,OACL,IAAK,QACL,IAAK,QACL,IAAK,SACL,IAAK,SACL,IAAK,SACL,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,WACH,OAAO,EACT,QACE,OAAO,IAIbiQ,EAAO+U,OAAS,SAAiB4W,EAAM9/B,GACrC,IAAK2sF,EAAQ7sD,GACX,MAAM,IAAIk8D,UAAU,+CAGtB,GAAoB,IAAhBl8D,EAAK9/B,OACP,OAAOmU,EAAOg+F,MAAM,GAGtB,IAAIhyG,EACJ,QAAeid,IAAXpd,EAEF,IADAA,EAAS,EACJG,EAAI,EAAGA,EAAI2/B,EAAK9/B,SAAUG,EAC7BH,GAAU8/B,EAAK3/B,GAAGH,OAItB,IAAIua,EAASpG,EAAO29F,YAAY9xG,GAC5BkD,EAAM,EACV,IAAK/C,EAAI,EAAGA,EAAI2/B,EAAK9/B,SAAUG,EAAG,CAChC,IAAIguF,EAAMruD,EAAK3/B,GACf,IAAKgU,EAAOw+F,SAASxkB,GACnB,MAAM,IAAI6N,UAAU,+CAEtB7N,EAAI15D,KAAKla,EAAQrX,GACjBA,GAAOirF,EAAInuF,OAEb,OAAOua,GA8CTpG,EAAOC,WAAaA,EA0EpBD,EAAOxS,UAAU4zG,WAAY,EAQ7BphG,EAAOxS,UAAU6zG,OAAS,WACxB,IAAIthG,EAAM9S,KAAKpB,OACf,GAAIkU,EAAM,IAAM,EACd,MAAM,IAAIy9F,WAAW,6CAEvB,IAAK,IAAIxxG,EAAI,EAAGA,EAAI+T,EAAK/T,GAAK,EAC5BqzG,EAAKpyG,KAAMjB,EAAGA,EAAI,GAEpB,OAAOiB,MAGT+S,EAAOxS,UAAU8zG,OAAS,WACxB,IAAIvhG,EAAM9S,KAAKpB,OACf,GAAIkU,EAAM,IAAM,EACd,MAAM,IAAIy9F,WAAW,6CAEvB,IAAK,IAAIxxG,EAAI,EAAGA,EAAI+T,EAAK/T,GAAK,EAC5BqzG,EAAKpyG,KAAMjB,EAAGA,EAAI,GAClBqzG,EAAKpyG,KAAMjB,EAAI,EAAGA,EAAI,GAExB,OAAOiB,MAGT+S,EAAOxS,UAAU+zG,OAAS,WACxB,IAAIxhG,EAAM9S,KAAKpB,OACf,GAAIkU,EAAM,IAAM,EACd,MAAM,IAAIy9F,WAAW,6CAEvB,IAAK,IAAIxxG,EAAI,EAAGA,EAAI+T,EAAK/T,GAAK,EAC5BqzG,EAAKpyG,KAAMjB,EAAGA,EAAI,GAClBqzG,EAAKpyG,KAAMjB,EAAI,EAAGA,EAAI,GACtBqzG,EAAKpyG,KAAMjB,EAAI,EAAGA,EAAI,GACtBqzG,EAAKpyG,KAAMjB,EAAI,EAAGA,EAAI,GAExB,OAAOiB,MAGT+S,EAAOxS,UAAUsY,SAAW,WAC1B,IAAIja,EAAuB,EAAdoB,KAAKpB,OAClB,OAAe,IAAXA,EAAqB,GACA,IAArB0J,UAAU1J,OAAqBmzG,EAAU/xG,KAAM,EAAGpB,GAC/CizG,EAAavwF,MAAMthB,KAAMsI,YAGlCyK,EAAOxS,UAAUo+C,OAAS,SAAiB9mC,GACzC,IAAK9E,EAAOw+F,SAAS15F,GAAI,MAAM,IAAI+iF,UAAU,6BAC7C,OAAI56F,OAAS6X,GACsB,IAA5B9E,EAAO2oD,QAAQ17D,KAAM6X,IAG9B9E,EAAOxS,UAAUg0G,QAAU,WACzB,IAAIj1G,EAAM,GACNa,EAAMN,EAAQi0G,kBAKlB,OAJI9zG,KAAKpB,OAAS,IAChBU,EAAMU,KAAK6Y,SAAS,MAAO,EAAG1Y,GAAK4B,MAAM,SAASuT,KAAK,KACnDtV,KAAKpB,OAASuB,IAAKb,GAAO,UAEzB,WAAaA,EAAM,KAG5ByT,EAAOxS,UAAUm7D,QAAU,SAAkBvjD,EAAQ7O,EAAO8L,EAAKo/F,EAAWC,GAC1E,IAAK1hG,EAAOw+F,SAASp5F,GACnB,MAAM,IAAIyiF,UAAU,6BAgBtB,QAbc5+E,IAAV1S,IACFA,EAAQ,QAEE0S,IAAR5G,IACFA,EAAM+C,EAASA,EAAOvZ,OAAS,QAEfod,IAAdw4F,IACFA,EAAY,QAEEx4F,IAAZy4F,IACFA,EAAUz0G,KAAKpB,QAGb0K,EAAQ,GAAK8L,EAAM+C,EAAOvZ,QAAU41G,EAAY,GAAKC,EAAUz0G,KAAKpB,OACtE,MAAM,IAAI2xG,WAAW,sBAGvB,GAAIiE,GAAaC,GAAWnrG,GAAS8L,EACnC,OAAO,EAET,GAAIo/F,GAAaC,EACf,OAAQ,EAEV,GAAInrG,GAAS8L,EACX,OAAO,EAQT,GALA9L,KAAW,EACX8L,KAAS,EACTo/F,KAAe,EACfC,KAAa,EAETz0G,OAASmY,EAAQ,OAAO,EAS5B,IAPA,IAAI3H,EAAIikG,EAAUD,EACd/jG,EAAI2E,EAAM9L,EACVwJ,EAAM3T,KAAKe,IAAIsQ,EAAGC,GAElBikG,EAAW10G,KAAK4N,MAAM4mG,EAAWC,GACjCE,EAAax8F,EAAOvK,MAAMtE,EAAO8L,GAE5BrW,EAAI,EAAGA,EAAI+T,IAAO/T,EACzB,GAAI21G,EAAS31G,KAAO41G,EAAW51G,GAAI,CACjCyR,EAAIkkG,EAAS31G,GACb0R,EAAIkkG,EAAW51G,GACf,MAIJ,OAAIyR,EAAIC,GAAW,EACfA,EAAID,EAAU,EACX,GA6HTuC,EAAOxS,UAAUu0F,SAAW,SAAmBzqF,EAAKinG,EAAYL,GAC9D,OAAoD,IAA7CjxG,KAAK2E,QAAQ0F,EAAKinG,EAAYL,IAGvCl+F,EAAOxS,UAAUoE,QAAU,SAAkB0F,EAAKinG,EAAYL,GAC5D,OAAOoB,EAAqBryG,KAAMqK,EAAKinG,EAAYL,GAAU,IAG/Dl+F,EAAOxS,UAAUm6E,YAAc,SAAsBrwE,EAAKinG,EAAYL,GACpE,OAAOoB,EAAqBryG,KAAMqK,EAAKinG,EAAYL,GAAU,IAkD/Dl+F,EAAOxS,UAAUob,MAAQ,SAAgB1Z,EAAQw0B,EAAQ73B,EAAQqyG,GAE/D,QAAej1F,IAAXya,EACFw6E,EAAW,OACXryG,EAASoB,KAAKpB,OACd63B,EAAS,OAEJ,QAAeza,IAAXpd,GAA0C,kBAAX63B,EACxCw6E,EAAWx6E,EACX73B,EAASoB,KAAKpB,OACd63B,EAAS,MAEJ,KAAIm+E,SAASn+E,GAWlB,MAAM,IAAIhiB,MACR,2EAXFgiB,GAAkB,EACdm+E,SAASh2G,IACXA,GAAkB,OACDod,IAAbi1F,IAAwBA,EAAW,UAEvCA,EAAWryG,EACXA,OAASod,GASb,IAAI0sC,EAAY1oD,KAAKpB,OAAS63B,EAG9B,SAFeza,IAAXpd,GAAwBA,EAAS8pD,KAAW9pD,EAAS8pD,GAEpDzmD,EAAOrD,OAAS,IAAMA,EAAS,GAAK63B,EAAS,IAAOA,EAASz2B,KAAKpB,OACrE,MAAM,IAAI2xG,WAAW,0CAGlBU,IAAUA,EAAW,QAG1B,IADA,IAAIS,GAAc,IAEhB,OAAQT,GACN,IAAK,MACH,OAAO2B,EAAS5yG,KAAMiC,EAAQw0B,EAAQ73B,GAExC,IAAK,OACL,IAAK,QACH,OAAOk0G,EAAU9yG,KAAMiC,EAAQw0B,EAAQ73B,GAEzC,IAAK,QACH,OAAOo0G,EAAWhzG,KAAMiC,EAAQw0B,EAAQ73B,GAE1C,IAAK,SACL,IAAK,SACH,OAAOs0G,EAAYlzG,KAAMiC,EAAQw0B,EAAQ73B,GAE3C,IAAK,SAEH,OAAOu0G,EAAYnzG,KAAMiC,EAAQw0B,EAAQ73B,GAE3C,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,WACH,OAAOw0G,EAAUpzG,KAAMiC,EAAQw0B,EAAQ73B,GAEzC,QACE,GAAI8yG,EAAa,MAAM,IAAI9W,UAAU,qBAAuBqW,GAC5DA,GAAY,GAAKA,GAAUnuG,cAC3B4uG,GAAc,IAKtB3+F,EAAOxS,UAAU+qF,OAAS,WACxB,MAAO,CACL1iF,KAAM,SACNoG,KAAMsF,MAAM/T,UAAUqN,MAAMkL,KAAK9Y,KAAK60G,MAAQ70G,KAAM,KAwFxD,IAAI80G,EAAuB,KAE3B,SAASjB,EAAuBkB,GAC9B,IAAIjiG,EAAMiiG,EAAWn2G,OACrB,GAAIkU,GAAOgiG,EACT,OAAOn6F,OAAOC,aAAa0G,MAAM3G,OAAQo6F,GAI3C,IAAI5+C,EAAM,GACNp3D,EAAI,EACR,MAAOA,EAAI+T,EACTqjD,GAAOx7C,OAAOC,aAAa0G,MACzB3G,OACAo6F,EAAWnnG,MAAM7O,EAAGA,GAAK+1G,IAG7B,OAAO3+C,EAGT,SAAS67C,EAAYjlB,EAAKzjF,EAAO8L,GAC/B,IAAI4/F,EAAM,GACV5/F,EAAMjW,KAAKe,IAAI6sF,EAAInuF,OAAQwW,GAE3B,IAAK,IAAIrW,EAAIuK,EAAOvK,EAAIqW,IAAOrW,EAC7Bi2G,GAAOr6F,OAAOC,aAAsB,IAATmyE,EAAIhuF,IAEjC,OAAOi2G,EAGT,SAAS/C,EAAallB,EAAKzjF,EAAO8L,GAChC,IAAI4/F,EAAM,GACV5/F,EAAMjW,KAAKe,IAAI6sF,EAAInuF,OAAQwW,GAE3B,IAAK,IAAIrW,EAAIuK,EAAOvK,EAAIqW,IAAOrW,EAC7Bi2G,GAAOr6F,OAAOC,aAAamyE,EAAIhuF,IAEjC,OAAOi2G,EAGT,SAASlD,EAAU/kB,EAAKzjF,EAAO8L,GAC7B,IAAItC,EAAMi6E,EAAInuF,SAET0K,GAASA,EAAQ,KAAGA,EAAQ,KAC5B8L,GAAOA,EAAM,GAAKA,EAAMtC,KAAKsC,EAAMtC,GAGxC,IADA,IAAIwQ,EAAM,GACDvkB,EAAIuK,EAAOvK,EAAIqW,IAAOrW,EAC7BukB,GAAO2xF,EAAMloB,EAAIhuF,IAEnB,OAAOukB,EAGT,SAAS6uF,EAAcplB,EAAKzjF,EAAO8L,GAGjC,IAFA,IAAI+E,EAAQ4yE,EAAIn/E,MAAMtE,EAAO8L,GACzB+gD,EAAM,GACDp3D,EAAI,EAAGA,EAAIob,EAAMvb,OAAQG,GAAK,EACrCo3D,GAAOx7C,OAAOC,aAAaT,EAAMpb,GAAoB,IAAfob,EAAMpb,EAAI,IAElD,OAAOo3D,EA0CT,SAAS++C,EAAaz+E,EAAQkJ,EAAK/gC,GACjC,GAAK63B,EAAS,IAAO,GAAKA,EAAS,EAAG,MAAM,IAAI85E,WAAW,sBAC3D,GAAI95E,EAASkJ,EAAM/gC,EAAQ,MAAM,IAAI2xG,WAAW,yCA+JlD,SAAS4E,EAAUpoB,EAAKvpF,EAAOizB,EAAQkJ,EAAKx/B,EAAKD,GAC/C,IAAK6S,EAAOw+F,SAASxkB,GAAM,MAAM,IAAI6N,UAAU,+CAC/C,GAAIp3F,EAAQrD,GAAOqD,EAAQtD,EAAK,MAAM,IAAIqwG,WAAW,qCACrD,GAAI95E,EAASkJ,EAAMotD,EAAInuF,OAAQ,MAAM,IAAI2xG,WAAW,sBAkDtD,SAAS6E,EAAmBroB,EAAKvpF,EAAOizB,EAAQ4+E,GAC1C7xG,EAAQ,IAAGA,EAAQ,MAASA,EAAQ,GACxC,IAAK,IAAIzE,EAAI,EAAGmR,EAAI/Q,KAAKe,IAAI6sF,EAAInuF,OAAS63B,EAAQ,GAAI13B,EAAImR,IAAKnR,EAC7DguF,EAAIt2D,EAAS13B,IAAMyE,EAAS,KAAS,GAAK6xG,EAAet2G,EAAI,EAAIA,MAClC,GAA5Bs2G,EAAet2G,EAAI,EAAIA,GA8B9B,SAASu2G,EAAmBvoB,EAAKvpF,EAAOizB,EAAQ4+E,GAC1C7xG,EAAQ,IAAGA,EAAQ,WAAaA,EAAQ,GAC5C,IAAK,IAAIzE,EAAI,EAAGmR,EAAI/Q,KAAKe,IAAI6sF,EAAInuF,OAAS63B,EAAQ,GAAI13B,EAAImR,IAAKnR,EAC7DguF,EAAIt2D,EAAS13B,GAAMyE,IAAuC,GAA5B6xG,EAAet2G,EAAI,EAAIA,GAAU,IAmJnE,SAASw2G,EAAcxoB,EAAKvpF,EAAOizB,EAAQkJ,EAAKx/B,EAAKD,GACnD,GAAIu2B,EAASkJ,EAAMotD,EAAInuF,OAAQ,MAAM,IAAI2xG,WAAW,sBACpD,GAAI95E,EAAS,EAAG,MAAM,IAAI85E,WAAW,sBAGvC,SAASiF,EAAYzoB,EAAKvpF,EAAOizB,EAAQ4+E,EAAcI,GAKrD,OAJKA,GACHF,EAAaxoB,EAAKvpF,EAAOizB,EAAQ,EAAG,sBAAyB,sBAE/Ds5E,EAAQp0F,MAAMoxE,EAAKvpF,EAAOizB,EAAQ4+E,EAAc,GAAI,GAC7C5+E,EAAS,EAWlB,SAASi/E,EAAa3oB,EAAKvpF,EAAOizB,EAAQ4+E,EAAcI,GAKtD,OAJKA,GACHF,EAAaxoB,EAAKvpF,EAAOizB,EAAQ,EAAG,uBAA0B,uBAEhEs5E,EAAQp0F,MAAMoxE,EAAKvpF,EAAOizB,EAAQ4+E,EAAc,GAAI,GAC7C5+E,EAAS,EA/clB1jB,EAAOxS,UAAUqN,MAAQ,SAAgBtE,EAAO8L,GAC9C,IAoBIugG,EApBA7iG,EAAM9S,KAAKpB,OAqBf,GApBA0K,IAAUA,EACV8L,OAAc4G,IAAR5G,EAAoBtC,IAAQsC,EAE9B9L,EAAQ,GACVA,GAASwJ,EACLxJ,EAAQ,IAAGA,EAAQ,IACdA,EAAQwJ,IACjBxJ,EAAQwJ,GAGNsC,EAAM,GACRA,GAAOtC,EACHsC,EAAM,IAAGA,EAAM,IACVA,EAAMtC,IACfsC,EAAMtC,GAGJsC,EAAM9L,IAAO8L,EAAM9L,GAGnByJ,EAAOs9F,oBACTsF,EAAS31G,KAAKmwG,SAAS7mG,EAAO8L,GAC9BugG,EAAO1F,UAAYl9F,EAAOxS,cACrB,CACL,IAAIq1G,EAAWxgG,EAAM9L,EACrBqsG,EAAS,IAAI5iG,EAAO6iG,OAAU55F,GAC9B,IAAK,IAAIjd,EAAI,EAAGA,EAAI62G,IAAY72G,EAC9B42G,EAAO52G,GAAKiB,KAAKjB,EAAIuK,GAIzB,OAAOqsG,GAWT5iG,EAAOxS,UAAUs1G,WAAa,SAAqBp/E,EAAQzjB,EAAYyiG,GACrEh/E,GAAkB,EAClBzjB,GAA0B,EACrByiG,GAAUP,EAAYz+E,EAAQzjB,EAAYhT,KAAKpB,QAEpD,IAAIyL,EAAMrK,KAAKy2B,GACXq/E,EAAM,EACN/2G,EAAI,EACR,QAASA,EAAIiU,IAAe8iG,GAAO,KACjCzrG,GAAOrK,KAAKy2B,EAAS13B,GAAK+2G,EAG5B,OAAOzrG,GAGT0I,EAAOxS,UAAUw1G,WAAa,SAAqBt/E,EAAQzjB,EAAYyiG,GACrEh/E,GAAkB,EAClBzjB,GAA0B,EACrByiG,GACHP,EAAYz+E,EAAQzjB,EAAYhT,KAAKpB,QAGvC,IAAIyL,EAAMrK,KAAKy2B,IAAWzjB,GACtB8iG,EAAM,EACV,MAAO9iG,EAAa,IAAM8iG,GAAO,KAC/BzrG,GAAOrK,KAAKy2B,IAAWzjB,GAAc8iG,EAGvC,OAAOzrG,GAGT0I,EAAOxS,UAAUy1G,UAAY,SAAoBv/E,EAAQg/E,GAEvD,OADKA,GAAUP,EAAYz+E,EAAQ,EAAGz2B,KAAKpB,QACpCoB,KAAKy2B,IAGd1jB,EAAOxS,UAAU01G,aAAe,SAAuBx/E,EAAQg/E,GAE7D,OADKA,GAAUP,EAAYz+E,EAAQ,EAAGz2B,KAAKpB,QACpCoB,KAAKy2B,GAAWz2B,KAAKy2B,EAAS,IAAM,GAG7C1jB,EAAOxS,UAAUmyG,aAAe,SAAuBj8E,EAAQg/E,GAE7D,OADKA,GAAUP,EAAYz+E,EAAQ,EAAGz2B,KAAKpB,QACnCoB,KAAKy2B,IAAW,EAAKz2B,KAAKy2B,EAAS,IAG7C1jB,EAAOxS,UAAU21G,aAAe,SAAuBz/E,EAAQg/E,GAG7D,OAFKA,GAAUP,EAAYz+E,EAAQ,EAAGz2B,KAAKpB,SAElCoB,KAAKy2B,GACTz2B,KAAKy2B,EAAS,IAAM,EACpBz2B,KAAKy2B,EAAS,IAAM,IACD,SAAnBz2B,KAAKy2B,EAAS,IAGrB1jB,EAAOxS,UAAU41G,aAAe,SAAuB1/E,EAAQg/E,GAG7D,OAFKA,GAAUP,EAAYz+E,EAAQ,EAAGz2B,KAAKpB,QAEpB,SAAfoB,KAAKy2B,IACTz2B,KAAKy2B,EAAS,IAAM,GACrBz2B,KAAKy2B,EAAS,IAAM,EACrBz2B,KAAKy2B,EAAS,KAGlB1jB,EAAOxS,UAAU61G,UAAY,SAAoB3/E,EAAQzjB,EAAYyiG,GACnEh/E,GAAkB,EAClBzjB,GAA0B,EACrByiG,GAAUP,EAAYz+E,EAAQzjB,EAAYhT,KAAKpB,QAEpD,IAAIyL,EAAMrK,KAAKy2B,GACXq/E,EAAM,EACN/2G,EAAI,EACR,QAASA,EAAIiU,IAAe8iG,GAAO,KACjCzrG,GAAOrK,KAAKy2B,EAAS13B,GAAK+2G,EAM5B,OAJAA,GAAO,IAEHzrG,GAAOyrG,IAAKzrG,GAAOlL,KAAKsB,IAAI,EAAG,EAAIuS,IAEhC3I,GAGT0I,EAAOxS,UAAU81G,UAAY,SAAoB5/E,EAAQzjB,EAAYyiG,GACnEh/E,GAAkB,EAClBzjB,GAA0B,EACrByiG,GAAUP,EAAYz+E,EAAQzjB,EAAYhT,KAAKpB,QAEpD,IAAIG,EAAIiU,EACJ8iG,EAAM,EACNzrG,EAAMrK,KAAKy2B,IAAW13B,GAC1B,MAAOA,EAAI,IAAM+2G,GAAO,KACtBzrG,GAAOrK,KAAKy2B,IAAW13B,GAAK+2G,EAM9B,OAJAA,GAAO,IAEHzrG,GAAOyrG,IAAKzrG,GAAOlL,KAAKsB,IAAI,EAAG,EAAIuS,IAEhC3I,GAGT0I,EAAOxS,UAAU+1G,SAAW,SAAmB7/E,EAAQg/E,GAErD,OADKA,GAAUP,EAAYz+E,EAAQ,EAAGz2B,KAAKpB,QACtB,IAAfoB,KAAKy2B,IAC0B,GAA5B,IAAOz2B,KAAKy2B,GAAU,GADKz2B,KAAKy2B,IAI3C1jB,EAAOxS,UAAUg2G,YAAc,SAAsB9/E,EAAQg/E,GACtDA,GAAUP,EAAYz+E,EAAQ,EAAGz2B,KAAKpB,QAC3C,IAAIyL,EAAMrK,KAAKy2B,GAAWz2B,KAAKy2B,EAAS,IAAM,EAC9C,OAAc,MAANpsB,EAAsB,WAANA,EAAmBA,GAG7C0I,EAAOxS,UAAUi2G,YAAc,SAAsB//E,EAAQg/E,GACtDA,GAAUP,EAAYz+E,EAAQ,EAAGz2B,KAAKpB,QAC3C,IAAIyL,EAAMrK,KAAKy2B,EAAS,GAAMz2B,KAAKy2B,IAAW,EAC9C,OAAc,MAANpsB,EAAsB,WAANA,EAAmBA,GAG7C0I,EAAOxS,UAAUk2G,YAAc,SAAsBhgF,EAAQg/E,GAG3D,OAFKA,GAAUP,EAAYz+E,EAAQ,EAAGz2B,KAAKpB,QAEnCoB,KAAKy2B,GACVz2B,KAAKy2B,EAAS,IAAM,EACpBz2B,KAAKy2B,EAAS,IAAM,GACpBz2B,KAAKy2B,EAAS,IAAM,IAGzB1jB,EAAOxS,UAAUm2G,YAAc,SAAsBjgF,EAAQg/E,GAG3D,OAFKA,GAAUP,EAAYz+E,EAAQ,EAAGz2B,KAAKpB,QAEnCoB,KAAKy2B,IAAW,GACrBz2B,KAAKy2B,EAAS,IAAM,GACpBz2B,KAAKy2B,EAAS,IAAM,EACpBz2B,KAAKy2B,EAAS,IAGnB1jB,EAAOxS,UAAUo2G,YAAc,SAAsBlgF,EAAQg/E,GAE3D,OADKA,GAAUP,EAAYz+E,EAAQ,EAAGz2B,KAAKpB,QACpCmxG,EAAQnhD,KAAK5uD,KAAMy2B,GAAQ,EAAM,GAAI,IAG9C1jB,EAAOxS,UAAUq2G,YAAc,SAAsBngF,EAAQg/E,GAE3D,OADKA,GAAUP,EAAYz+E,EAAQ,EAAGz2B,KAAKpB,QACpCmxG,EAAQnhD,KAAK5uD,KAAMy2B,GAAQ,EAAO,GAAI,IAG/C1jB,EAAOxS,UAAUs2G,aAAe,SAAuBpgF,EAAQg/E,GAE7D,OADKA,GAAUP,EAAYz+E,EAAQ,EAAGz2B,KAAKpB,QACpCmxG,EAAQnhD,KAAK5uD,KAAMy2B,GAAQ,EAAM,GAAI,IAG9C1jB,EAAOxS,UAAUu2G,aAAe,SAAuBrgF,EAAQg/E,GAE7D,OADKA,GAAUP,EAAYz+E,EAAQ,EAAGz2B,KAAKpB,QACpCmxG,EAAQnhD,KAAK5uD,KAAMy2B,GAAQ,EAAO,GAAI,IAS/C1jB,EAAOxS,UAAUw2G,YAAc,SAAsBvzG,EAAOizB,EAAQzjB,EAAYyiG,GAI9E,GAHAjyG,GAASA,EACTizB,GAAkB,EAClBzjB,GAA0B,GACrByiG,EAAU,CACb,IAAIuB,EAAW73G,KAAKsB,IAAI,EAAG,EAAIuS,GAAc,EAC7CmiG,EAASn1G,KAAMwD,EAAOizB,EAAQzjB,EAAYgkG,EAAU,GAGtD,IAAIlB,EAAM,EACN/2G,EAAI,EACRiB,KAAKy2B,GAAkB,IAARjzB,EACf,QAASzE,EAAIiU,IAAe8iG,GAAO,KACjC91G,KAAKy2B,EAAS13B,GAAMyE,EAAQsyG,EAAO,IAGrC,OAAOr/E,EAASzjB,GAGlBD,EAAOxS,UAAU02G,YAAc,SAAsBzzG,EAAOizB,EAAQzjB,EAAYyiG,GAI9E,GAHAjyG,GAASA,EACTizB,GAAkB,EAClBzjB,GAA0B,GACrByiG,EAAU,CACb,IAAIuB,EAAW73G,KAAKsB,IAAI,EAAG,EAAIuS,GAAc,EAC7CmiG,EAASn1G,KAAMwD,EAAOizB,EAAQzjB,EAAYgkG,EAAU,GAGtD,IAAIj4G,EAAIiU,EAAa,EACjB8iG,EAAM,EACV91G,KAAKy2B,EAAS13B,GAAa,IAARyE,EACnB,QAASzE,GAAK,IAAM+2G,GAAO,KACzB91G,KAAKy2B,EAAS13B,GAAMyE,EAAQsyG,EAAO,IAGrC,OAAOr/E,EAASzjB,GAGlBD,EAAOxS,UAAU22G,WAAa,SAAqB1zG,EAAOizB,EAAQg/E,GAMhE,OALAjyG,GAASA,EACTizB,GAAkB,EACbg/E,GAAUN,EAASn1G,KAAMwD,EAAOizB,EAAQ,EAAG,IAAM,GACjD1jB,EAAOs9F,sBAAqB7sG,EAAQrE,KAAKC,MAAMoE,IACpDxD,KAAKy2B,GAAmB,IAARjzB,EACTizB,EAAS,GAWlB1jB,EAAOxS,UAAU42G,cAAgB,SAAwB3zG,EAAOizB,EAAQg/E,GAUtE,OATAjyG,GAASA,EACTizB,GAAkB,EACbg/E,GAAUN,EAASn1G,KAAMwD,EAAOizB,EAAQ,EAAG,MAAQ,GACpD1jB,EAAOs9F,qBACTrwG,KAAKy2B,GAAmB,IAARjzB,EAChBxD,KAAKy2B,EAAS,GAAMjzB,IAAU,GAE9B4xG,EAAkBp1G,KAAMwD,EAAOizB,GAAQ,GAElCA,EAAS,GAGlB1jB,EAAOxS,UAAU62G,cAAgB,SAAwB5zG,EAAOizB,EAAQg/E,GAUtE,OATAjyG,GAASA,EACTizB,GAAkB,EACbg/E,GAAUN,EAASn1G,KAAMwD,EAAOizB,EAAQ,EAAG,MAAQ,GACpD1jB,EAAOs9F,qBACTrwG,KAAKy2B,GAAWjzB,IAAU,EAC1BxD,KAAKy2B,EAAS,GAAc,IAARjzB,GAEpB4xG,EAAkBp1G,KAAMwD,EAAOizB,GAAQ,GAElCA,EAAS,GAUlB1jB,EAAOxS,UAAU82G,cAAgB,SAAwB7zG,EAAOizB,EAAQg/E,GAYtE,OAXAjyG,GAASA,EACTizB,GAAkB,EACbg/E,GAAUN,EAASn1G,KAAMwD,EAAOizB,EAAQ,EAAG,WAAY,GACxD1jB,EAAOs9F,qBACTrwG,KAAKy2B,EAAS,GAAMjzB,IAAU,GAC9BxD,KAAKy2B,EAAS,GAAMjzB,IAAU,GAC9BxD,KAAKy2B,EAAS,GAAMjzB,IAAU,EAC9BxD,KAAKy2B,GAAmB,IAARjzB,GAEhB8xG,EAAkBt1G,KAAMwD,EAAOizB,GAAQ,GAElCA,EAAS,GAGlB1jB,EAAOxS,UAAU+2G,cAAgB,SAAwB9zG,EAAOizB,EAAQg/E,GAYtE,OAXAjyG,GAASA,EACTizB,GAAkB,EACbg/E,GAAUN,EAASn1G,KAAMwD,EAAOizB,EAAQ,EAAG,WAAY,GACxD1jB,EAAOs9F,qBACTrwG,KAAKy2B,GAAWjzB,IAAU,GAC1BxD,KAAKy2B,EAAS,GAAMjzB,IAAU,GAC9BxD,KAAKy2B,EAAS,GAAMjzB,IAAU,EAC9BxD,KAAKy2B,EAAS,GAAc,IAARjzB,GAEpB8xG,EAAkBt1G,KAAMwD,EAAOizB,GAAQ,GAElCA,EAAS,GAGlB1jB,EAAOxS,UAAUg3G,WAAa,SAAqB/zG,EAAOizB,EAAQzjB,EAAYyiG,GAG5E,GAFAjyG,GAASA,EACTizB,GAAkB,GACbg/E,EAAU,CACb,IAAI/jE,EAAQvyC,KAAKsB,IAAI,EAAG,EAAIuS,EAAa,GAEzCmiG,EAASn1G,KAAMwD,EAAOizB,EAAQzjB,EAAY0+B,EAAQ,GAAIA,GAGxD,IAAI3yC,EAAI,EACJ+2G,EAAM,EACN9tD,EAAM,EACVhoD,KAAKy2B,GAAkB,IAARjzB,EACf,QAASzE,EAAIiU,IAAe8iG,GAAO,KAC7BtyG,EAAQ,GAAa,IAARwkD,GAAsC,IAAzBhoD,KAAKy2B,EAAS13B,EAAI,KAC9CipD,EAAM,GAERhoD,KAAKy2B,EAAS13B,IAAOyE,EAAQsyG,GAAQ,GAAK9tD,EAAM,IAGlD,OAAOvxB,EAASzjB,GAGlBD,EAAOxS,UAAUi3G,WAAa,SAAqBh0G,EAAOizB,EAAQzjB,EAAYyiG,GAG5E,GAFAjyG,GAASA,EACTizB,GAAkB,GACbg/E,EAAU,CACb,IAAI/jE,EAAQvyC,KAAKsB,IAAI,EAAG,EAAIuS,EAAa,GAEzCmiG,EAASn1G,KAAMwD,EAAOizB,EAAQzjB,EAAY0+B,EAAQ,GAAIA,GAGxD,IAAI3yC,EAAIiU,EAAa,EACjB8iG,EAAM,EACN9tD,EAAM,EACVhoD,KAAKy2B,EAAS13B,GAAa,IAARyE,EACnB,QAASzE,GAAK,IAAM+2G,GAAO,KACrBtyG,EAAQ,GAAa,IAARwkD,GAAsC,IAAzBhoD,KAAKy2B,EAAS13B,EAAI,KAC9CipD,EAAM,GAERhoD,KAAKy2B,EAAS13B,IAAOyE,EAAQsyG,GAAQ,GAAK9tD,EAAM,IAGlD,OAAOvxB,EAASzjB,GAGlBD,EAAOxS,UAAUk3G,UAAY,SAAoBj0G,EAAOizB,EAAQg/E,GAO9D,OANAjyG,GAASA,EACTizB,GAAkB,EACbg/E,GAAUN,EAASn1G,KAAMwD,EAAOizB,EAAQ,EAAG,KAAO,KAClD1jB,EAAOs9F,sBAAqB7sG,EAAQrE,KAAKC,MAAMoE,IAChDA,EAAQ,IAAGA,EAAQ,IAAOA,EAAQ,GACtCxD,KAAKy2B,GAAmB,IAARjzB,EACTizB,EAAS,GAGlB1jB,EAAOxS,UAAUm3G,aAAe,SAAuBl0G,EAAOizB,EAAQg/E,GAUpE,OATAjyG,GAASA,EACTizB,GAAkB,EACbg/E,GAAUN,EAASn1G,KAAMwD,EAAOizB,EAAQ,EAAG,OAAS,OACrD1jB,EAAOs9F,qBACTrwG,KAAKy2B,GAAmB,IAARjzB,EAChBxD,KAAKy2B,EAAS,GAAMjzB,IAAU,GAE9B4xG,EAAkBp1G,KAAMwD,EAAOizB,GAAQ,GAElCA,EAAS,GAGlB1jB,EAAOxS,UAAUo3G,aAAe,SAAuBn0G,EAAOizB,EAAQg/E,GAUpE,OATAjyG,GAASA,EACTizB,GAAkB,EACbg/E,GAAUN,EAASn1G,KAAMwD,EAAOizB,EAAQ,EAAG,OAAS,OACrD1jB,EAAOs9F,qBACTrwG,KAAKy2B,GAAWjzB,IAAU,EAC1BxD,KAAKy2B,EAAS,GAAc,IAARjzB,GAEpB4xG,EAAkBp1G,KAAMwD,EAAOizB,GAAQ,GAElCA,EAAS,GAGlB1jB,EAAOxS,UAAUq3G,aAAe,SAAuBp0G,EAAOizB,EAAQg/E,GAYpE,OAXAjyG,GAASA,EACTizB,GAAkB,EACbg/E,GAAUN,EAASn1G,KAAMwD,EAAOizB,EAAQ,EAAG,YAAa,YACzD1jB,EAAOs9F,qBACTrwG,KAAKy2B,GAAmB,IAARjzB,EAChBxD,KAAKy2B,EAAS,GAAMjzB,IAAU,EAC9BxD,KAAKy2B,EAAS,GAAMjzB,IAAU,GAC9BxD,KAAKy2B,EAAS,GAAMjzB,IAAU,IAE9B8xG,EAAkBt1G,KAAMwD,EAAOizB,GAAQ,GAElCA,EAAS,GAGlB1jB,EAAOxS,UAAUs3G,aAAe,SAAuBr0G,EAAOizB,EAAQg/E,GAapE,OAZAjyG,GAASA,EACTizB,GAAkB,EACbg/E,GAAUN,EAASn1G,KAAMwD,EAAOizB,EAAQ,EAAG,YAAa,YACzDjzB,EAAQ,IAAGA,EAAQ,WAAaA,EAAQ,GACxCuP,EAAOs9F,qBACTrwG,KAAKy2B,GAAWjzB,IAAU,GAC1BxD,KAAKy2B,EAAS,GAAMjzB,IAAU,GAC9BxD,KAAKy2B,EAAS,GAAMjzB,IAAU,EAC9BxD,KAAKy2B,EAAS,GAAc,IAARjzB,GAEpB8xG,EAAkBt1G,KAAMwD,EAAOizB,GAAQ,GAElCA,EAAS,GAgBlB1jB,EAAOxS,UAAUu3G,aAAe,SAAuBt0G,EAAOizB,EAAQg/E,GACpE,OAAOD,EAAWx1G,KAAMwD,EAAOizB,GAAQ,EAAMg/E,IAG/C1iG,EAAOxS,UAAUw3G,aAAe,SAAuBv0G,EAAOizB,EAAQg/E,GACpE,OAAOD,EAAWx1G,KAAMwD,EAAOizB,GAAQ,EAAOg/E,IAWhD1iG,EAAOxS,UAAUy3G,cAAgB,SAAwBx0G,EAAOizB,EAAQg/E,GACtE,OAAOC,EAAY11G,KAAMwD,EAAOizB,GAAQ,EAAMg/E,IAGhD1iG,EAAOxS,UAAU03G,cAAgB,SAAwBz0G,EAAOizB,EAAQg/E,GACtE,OAAOC,EAAY11G,KAAMwD,EAAOizB,GAAQ,EAAOg/E,IAIjD1iG,EAAOxS,UAAU8yB,KAAO,SAAelb,EAAQ+/F,EAAa5uG,EAAO8L,GAQjE,GAPK9L,IAAOA,EAAQ,GACf8L,GAAe,IAARA,IAAWA,EAAMpV,KAAKpB,QAC9Bs5G,GAAe//F,EAAOvZ,SAAQs5G,EAAc//F,EAAOvZ,QAClDs5G,IAAaA,EAAc,GAC5B9iG,EAAM,GAAKA,EAAM9L,IAAO8L,EAAM9L,GAG9B8L,IAAQ9L,EAAO,OAAO,EAC1B,GAAsB,IAAlB6O,EAAOvZ,QAAgC,IAAhBoB,KAAKpB,OAAc,OAAO,EAGrD,GAAIs5G,EAAc,EAChB,MAAM,IAAI3H,WAAW,6BAEvB,GAAIjnG,EAAQ,GAAKA,GAAStJ,KAAKpB,OAAQ,MAAM,IAAI2xG,WAAW,6BAC5D,GAAIn7F,EAAM,EAAG,MAAM,IAAIm7F,WAAW,2BAG9Bn7F,EAAMpV,KAAKpB,SAAQwW,EAAMpV,KAAKpB,QAC9BuZ,EAAOvZ,OAASs5G,EAAc9iG,EAAM9L,IACtC8L,EAAM+C,EAAOvZ,OAASs5G,EAAc5uG,GAGtC,IACIvK,EADA+T,EAAMsC,EAAM9L,EAGhB,GAAItJ,OAASmY,GAAU7O,EAAQ4uG,GAAeA,EAAc9iG,EAE1D,IAAKrW,EAAI+T,EAAM,EAAG/T,GAAK,IAAKA,EAC1BoZ,EAAOpZ,EAAIm5G,GAAel4G,KAAKjB,EAAIuK,QAEhC,GAAIwJ,EAAM,MAASC,EAAOs9F,oBAE/B,IAAKtxG,EAAI,EAAGA,EAAI+T,IAAO/T,EACrBoZ,EAAOpZ,EAAIm5G,GAAel4G,KAAKjB,EAAIuK,QAGrC+K,WAAW9T,UAAUiiB,IAAI1J,KACvBX,EACAnY,KAAKmwG,SAAS7mG,EAAOA,EAAQwJ,GAC7BolG,GAIJ,OAAOplG,GAOTC,EAAOxS,UAAUywG,KAAO,SAAe3mG,EAAKf,EAAO8L,EAAK67F,GAEtD,GAAmB,kBAAR5mG,EAAkB,CAS3B,GARqB,kBAAVf,GACT2nG,EAAW3nG,EACXA,EAAQ,EACR8L,EAAMpV,KAAKpB,QACa,kBAARwW,IAChB67F,EAAW77F,EACXA,EAAMpV,KAAKpB,QAEM,IAAfyL,EAAIzL,OAAc,CACpB,IAAIuP,EAAO9D,EAAIkK,WAAW,GACtBpG,EAAO,MACT9D,EAAM8D,GAGV,QAAiB6N,IAAbi1F,GAA8C,kBAAbA,EACnC,MAAM,IAAIrW,UAAU,6BAEtB,GAAwB,kBAAbqW,IAA0Bl+F,EAAOo+F,WAAWF,GACrD,MAAM,IAAIrW,UAAU,qBAAuBqW,OAErB,kBAAR5mG,IAChBA,GAAY,KAId,GAAIf,EAAQ,GAAKtJ,KAAKpB,OAAS0K,GAAStJ,KAAKpB,OAASwW,EACpD,MAAM,IAAIm7F,WAAW,sBAGvB,GAAIn7F,GAAO9L,EACT,OAAOtJ,KAQT,IAAIjB,EACJ,GANAuK,KAAkB,EAClB8L,OAAc4G,IAAR5G,EAAoBpV,KAAKpB,OAASwW,IAAQ,EAE3C/K,IAAKA,EAAM,GAGG,kBAARA,EACT,IAAKtL,EAAIuK,EAAOvK,EAAIqW,IAAOrW,EACzBiB,KAAKjB,GAAKsL,MAEP,CACL,IAAI8P,EAAQpH,EAAOw+F,SAASlnG,GACxBA,EACAsnG,EAAY,IAAI5+F,EAAO1I,EAAK4mG,GAAUp4F,YACtC/F,EAAMqH,EAAMvb,OAChB,IAAKG,EAAI,EAAGA,EAAIqW,EAAM9L,IAASvK,EAC7BiB,KAAKjB,EAAIuK,GAAS6Q,EAAMpb,EAAI+T,GAIhC,OAAO9S,MAMT,IAAIm4G,EAAoB,qBAExB,SAASC,EAAa94G,GAIpB,GAFAA,EAAM+4G,EAAW/4G,GAAKiC,QAAQ42G,EAAmB,IAE7C74G,EAAIV,OAAS,EAAG,MAAO,GAE3B,MAAOU,EAAIV,OAAS,IAAM,EACxBU,GAAY,IAEd,OAAOA,EAGT,SAAS+4G,EAAY/4G,GACnB,OAAIA,EAAIg5G,KAAah5G,EAAIg5G,OAClBh5G,EAAIiC,QAAQ,aAAc,IAGnC,SAAS0zG,EAAOnzF,GACd,OAAIA,EAAI,GAAW,IAAMA,EAAEjJ,SAAS,IAC7BiJ,EAAEjJ,SAAS,IAGpB,SAAS84F,EAAa1vG,EAAQs2G,GAE5B,IAAI5E,EADJ4E,EAAQA,GAASn7E,IAMjB,IAJA,IAAIx+B,EAASqD,EAAOrD,OAChB45G,EAAgB,KAChBr+F,EAAQ,GAEHpb,EAAI,EAAGA,EAAIH,IAAUG,EAAG,CAI/B,GAHA40G,EAAY1xG,EAAOsS,WAAWxV,GAG1B40G,EAAY,OAAUA,EAAY,MAAQ,CAE5C,IAAK6E,EAAe,CAElB,GAAI7E,EAAY,MAAQ,EAEjB4E,GAAS,IAAM,GAAGp+F,EAAM1N,KAAK,IAAM,IAAM,KAC9C,SACK,GAAI1N,EAAI,IAAMH,EAAQ,EAEtB25G,GAAS,IAAM,GAAGp+F,EAAM1N,KAAK,IAAM,IAAM,KAC9C,SAIF+rG,EAAgB7E,EAEhB,SAIF,GAAIA,EAAY,MAAQ,EACjB4E,GAAS,IAAM,GAAGp+F,EAAM1N,KAAK,IAAM,IAAM,KAC9C+rG,EAAgB7E,EAChB,SAIFA,EAAkE,OAArD6E,EAAgB,OAAU,GAAK7E,EAAY,YAC/C6E,IAEJD,GAAS,IAAM,GAAGp+F,EAAM1N,KAAK,IAAM,IAAM,KAMhD,GAHA+rG,EAAgB,KAGZ7E,EAAY,IAAM,CACpB,IAAK4E,GAAS,GAAK,EAAG,MACtBp+F,EAAM1N,KAAKknG,QACN,GAAIA,EAAY,KAAO,CAC5B,IAAK4E,GAAS,GAAK,EAAG,MACtBp+F,EAAM1N,KACJknG,GAAa,EAAM,IACP,GAAZA,EAAmB,UAEhB,GAAIA,EAAY,MAAS,CAC9B,IAAK4E,GAAS,GAAK,EAAG,MACtBp+F,EAAM1N,KACJknG,GAAa,GAAM,IACnBA,GAAa,EAAM,GAAO,IACd,GAAZA,EAAmB,SAEhB,MAAIA,EAAY,SASrB,MAAM,IAAIl/F,MAAM,sBARhB,IAAK8jG,GAAS,GAAK,EAAG,MACtBp+F,EAAM1N,KACJknG,GAAa,GAAO,IACpBA,GAAa,GAAM,GAAO,IAC1BA,GAAa,EAAM,GAAO,IACd,GAAZA,EAAmB,MAOzB,OAAOx5F,EAGT,SAAS84F,EAAc3zG,GAErB,IADA,IAAIm5G,EAAY,GACP15G,EAAI,EAAGA,EAAIO,EAAIV,SAAUG,EAEhC05G,EAAUhsG,KAAyB,IAApBnN,EAAIiV,WAAWxV,IAEhC,OAAO05G,EAGT,SAASpF,EAAgB/zG,EAAKi5G,GAG5B,IAFA,IAAIvrB,EAAG0rB,EAAIC,EACPF,EAAY,GACP15G,EAAI,EAAGA,EAAIO,EAAIV,SAAUG,EAAG,CACnC,IAAKw5G,GAAS,GAAK,EAAG,MAEtBvrB,EAAI1tF,EAAIiV,WAAWxV,GACnB25G,EAAK1rB,GAAK,EACV2rB,EAAK3rB,EAAI,IACTyrB,EAAUhsG,KAAKksG,GACfF,EAAUhsG,KAAKisG,GAGjB,OAAOD,EAGT,SAAS7G,EAAetyG,GACtB,OAAOqa,EAAO3F,YAAYokG,EAAY94G,IAGxC,SAASyzG,GAAY71F,EAAK07F,EAAKniF,EAAQ73B,GACrC,IAAK,IAAIG,EAAI,EAAGA,EAAIH,IAAUG,EAAG,CAC/B,GAAKA,EAAI03B,GAAUmiF,EAAIh6G,QAAYG,GAAKme,EAAIte,OAAS,MACrDg6G,EAAI75G,EAAI03B,GAAUvZ,EAAIne,GAExB,OAAOA,EAGT,SAASyyG,GAAOnnG,GACd,OAAOA,IAAQA,K,4CCxvDjB,SAAUpJ,GAENA,EAAI,EAAQ,UAFhB,EAOG,SAASC,GACV,aACA,IAgHI23G,EAAQC,EAhHRrxG,EAAMvG,EAAWuG,IAErB,SAASsxG,EAAYC,GACnB,IAAIxqB,EAAQwqB,EAAOxqB,MACnB,OAAgB,MAATA,EAAgBA,GAASwqB,EAAOt3G,WAAa,IAAM,KACrDs3G,EAAOx3G,OAAS,IAAM,KACtBw3G,EAAO/1G,UAAY,IAAM,IAGhC,SAASg2G,EAAYD,EAAQxqB,GAE3B,IADA,IAAIlvE,EAAUy5F,EAAYC,GAAS7gG,EAASmH,EACnCvgB,EAAI,EAAGA,EAAIyvF,EAAM5vF,OAAQG,KAA6C,GAApCoZ,EAAOxT,QAAQ6pF,EAAMhvF,OAAOT,MACrEoZ,GAAUq2E,EAAMhvF,OAAOT,IACzB,OAAOugB,GAAWnH,EAAS6gG,EAAS,IAAI13G,OAAO03G,EAAOv3G,OAAQ0W,GAGhE,SAAS+gG,EAAeF,GACtB,MAAO,0BAA0Bn0G,KAAKm0G,EAAOv3G,QAG/C,SAAS03G,EAAoB9rF,EAAK2rF,EAAQ1vG,GACxC0vG,EAASC,EAAYD,EAAQ,KAC7B,IAAK,IAAI1yG,EAAOgD,EAAMhD,KAAM9B,EAAK8E,EAAM9E,GAAI2qB,EAAO9B,EAAI3lB,WAAYpB,GAAQ6oB,EAAM7oB,IAAQ9B,EAAK,EAAG,CAC9Fw0G,EAAOn3G,UAAY2C,EACnB,IAAIvC,EAASorB,EAAID,QAAQ9mB,GAAOvE,EAAQi3G,EAAOh3G,KAAKC,GACpD,GAAIF,EACF,MAAO,CAAC8F,KAAMJ,EAAInB,EAAMvE,EAAMG,OACtBmE,GAAIoB,EAAInB,EAAMvE,EAAMG,MAAQH,EAAM,GAAGnD,QACrCmD,MAAOA,IAIrB,SAASq3G,EAA6B/rF,EAAK2rF,EAAQ1vG,GACjD,IAAK4vG,EAAeF,GAAS,OAAOG,EAAoB9rF,EAAK2rF,EAAQ1vG,GAErE0vG,EAASC,EAAYD,EAAQ,MAE7B,IADA,IAAI/2G,EAAQurB,EAAQ,EACXlnB,EAAOgD,EAAMhD,KAAM6oB,EAAO9B,EAAI3lB,WAAYpB,GAAQ6oB,GAAO,CAMhE,IAAK,IAAIpwB,EAAI,EAAGA,EAAIyuB,EAAOzuB,IAAK,CAC9B,GAAIuH,EAAO6oB,EAAM,MACjB,IAAI46B,EAAU18B,EAAID,QAAQ9mB,KAC1BrE,EAAmB,MAAVA,EAAiB8nD,EAAU9nD,EAAS,KAAO8nD,EAEtDv8B,GAAgB,EAChBwrF,EAAOn3G,UAAYyH,EAAM9E,GACzB,IAAIzC,EAAQi3G,EAAOh3G,KAAKC,GACxB,GAAIF,EAAO,CACT,IAAI+kB,EAAS7kB,EAAO2L,MAAM,EAAG7L,EAAMG,OAAOvD,MAAM,MAAO06G,EAASt3G,EAAM,GAAGpD,MAAM,MAC3EskF,EAAY35E,EAAMhD,KAAOwgB,EAAOloB,OAAS,EAAG62B,EAAU3O,EAAOA,EAAOloB,OAAS,GAAGA,OACpF,MAAO,CAACiJ,KAAMJ,EAAIw7E,EAAWxtD,GACrBpvB,GAAIoB,EAAIw7E,EAAYo2B,EAAOz6G,OAAS,EACX,GAAjBy6G,EAAOz6G,OAAc62B,EAAU4jF,EAAO,GAAGz6G,OAASy6G,EAAOA,EAAOz6G,OAAS,GAAGA,QACpFmD,MAAOA,KAKrB,SAASu3G,EAAYr3G,EAAQ+2G,EAAQO,GACnC,IAAIx3G,EAAO8F,EAAO,EAClB,MAAOA,GAAQ5F,EAAOrD,OAAQ,CAC5Bo6G,EAAOn3G,UAAYgG,EACnB,IAAI2xG,EAAWR,EAAOh3G,KAAKC,GAC3B,IAAKu3G,EAAU,MACf,IAAIpkG,EAAMokG,EAASt3G,MAAQs3G,EAAS,GAAG56G,OACvC,GAAIwW,EAAMnT,EAAOrD,OAAS26G,EAAW,QAChCx3G,GAASqT,EAAMrT,EAAMG,MAAQH,EAAM,GAAGnD,UACzCmD,EAAQy3G,GACV3xG,EAAO2xG,EAASt3G,MAAQ,EAE1B,OAAOH,EAGT,SAAS03G,EAAqBpsF,EAAK2rF,EAAQ1vG,GACzC0vG,EAASC,EAAYD,EAAQ,KAC7B,IAAK,IAAI1yG,EAAOgD,EAAMhD,KAAM9B,EAAK8E,EAAM9E,GAAI8oB,EAAQD,EAAI1lB,YAAarB,GAAQgnB,EAAOhnB,IAAQ9B,GAAM,EAAG,CAClG,IAAIvC,EAASorB,EAAID,QAAQ9mB,GACrBvE,EAAQu3G,EAAYr3G,EAAQ+2G,EAAQx0G,EAAK,EAAI,EAAIvC,EAAOrD,OAAS4F,GACrE,GAAIzC,EACF,MAAO,CAAC8F,KAAMJ,EAAInB,EAAMvE,EAAMG,OACtBmE,GAAIoB,EAAInB,EAAMvE,EAAMG,MAAQH,EAAM,GAAGnD,QACrCmD,MAAOA,IAIrB,SAAS23G,EAA8BrsF,EAAK2rF,EAAQ1vG,GAClD,IAAK4vG,EAAeF,GAAS,OAAOS,EAAqBpsF,EAAK2rF,EAAQ1vG,GACtE0vG,EAASC,EAAYD,EAAQ,MAE7B,IADA,IAAI/2G,EAAQ2rB,EAAY,EAAG2rF,EAAYlsF,EAAID,QAAQ9jB,EAAMhD,MAAM1H,OAAS0K,EAAM9E,GACrE8B,EAAOgD,EAAMhD,KAAMgnB,EAAQD,EAAI1lB,YAAarB,GAAQgnB,GAAQ,CACnE,IAAK,IAAIvuB,EAAI,EAAGA,EAAI6uB,GAAatnB,GAAQgnB,EAAOvuB,IAAK,CACnD,IAAIgrD,EAAU18B,EAAID,QAAQ9mB,KAC1BrE,EAAmB,MAAVA,EAAiB8nD,EAAUA,EAAU,KAAO9nD,EAEvD2rB,GAAa,EAEb,IAAI7rB,EAAQu3G,EAAYr3G,EAAQ+2G,EAAQO,GACxC,GAAIx3G,EAAO,CACT,IAAI+kB,EAAS7kB,EAAO2L,MAAM,EAAG7L,EAAMG,OAAOvD,MAAM,MAAO06G,EAASt3G,EAAM,GAAGpD,MAAM,MAC3EskF,EAAY38E,EAAOwgB,EAAOloB,OAAQ62B,EAAU3O,EAAOA,EAAOloB,OAAS,GAAGA,OAC1E,MAAO,CAACiJ,KAAMJ,EAAIw7E,EAAWxtD,GACrBpvB,GAAIoB,EAAIw7E,EAAYo2B,EAAOz6G,OAAS,EACX,GAAjBy6G,EAAOz6G,OAAc62B,EAAU4jF,EAAO,GAAGz6G,OAASy6G,EAAOA,EAAOz6G,OAAS,GAAGA,QACpFmD,MAAOA,KAgBrB,SAAS43G,EAAUC,EAAMC,EAAQ/3G,EAAKg4G,GACpC,GAAIF,EAAKh7G,QAAUi7G,EAAOj7G,OAAQ,OAAOkD,EACzC,IAAK,IAAI5B,EAAM,EAAGC,EAAM2B,EAAM3C,KAAKgB,IAAI,EAAGy5G,EAAKh7G,OAASi7G,EAAOj7G,UAAW,CACxE,GAAIsB,GAAOC,EAAK,OAAOD,EACvB,IAAIwkB,EAAOxkB,EAAMC,GAAQ,EACrB2S,EAAMgnG,EAASF,EAAKhsG,MAAM,EAAG8W,IAAM9lB,OACvC,GAAIkU,GAAOhR,EAAK,OAAO4iB,EACd5R,EAAMhR,EAAK3B,EAAMukB,EACrBxkB,EAAMwkB,EAAM,GAIrB,SAASq1F,EAAoB1sF,EAAKjsB,EAAOkI,EAAOtG,GAG9C,IAAK5B,EAAMxC,OAAQ,OAAO,KAC1B,IAAIo7G,EAAOh3G,EAAW61G,EAASC,EAC3BrrF,EAAQusF,EAAK54G,GAAOzC,MAAM,YAE9BiE,EAAQ,IAAK,IAAI0D,EAAOgD,EAAMhD,KAAM9B,EAAK8E,EAAM9E,GAAI2qB,EAAO9B,EAAI3lB,WAAa,EAAI+lB,EAAM7uB,OAAQ0H,GAAQ6oB,EAAM7oB,IAAQ9B,EAAK,EAAG,CACzH,IAAIo1G,EAAOvsF,EAAID,QAAQ9mB,GAAMsH,MAAMpJ,GAAKvC,EAAS+3G,EAAKJ,GACtD,GAAoB,GAAhBnsF,EAAM7uB,OAAa,CACrB,IAAIkmB,EAAQ7iB,EAAO0C,QAAQ8oB,EAAM,IACjC,IAAc,GAAV3I,EAAa,SAASliB,EACtB0G,EAAQqwG,EAAUC,EAAM33G,EAAQ6iB,EAAOk1F,GAAQx1G,EACnD,MAAO,CAACqD,KAAMJ,EAAInB,EAAMqzG,EAAUC,EAAM33G,EAAQ6iB,EAAOk1F,GAAQx1G,GACvD6B,GAAIoB,EAAInB,EAAMqzG,EAAUC,EAAM33G,EAAQ6iB,EAAQ2I,EAAM,GAAG7uB,OAAQo7G,GAAQx1G,IAE/E,IAAIy1G,EAAUh4G,EAAOrD,OAAS6uB,EAAM,GAAG7uB,OACvC,GAAIqD,EAAO2L,MAAMqsG,IAAYxsF,EAAM,GAAnC,CACA,IAAK,IAAI1uB,EAAI,EAAGA,EAAI0uB,EAAM7uB,OAAS,EAAGG,IACpC,GAAIi7G,EAAK3sF,EAAID,QAAQ9mB,EAAOvH,KAAO0uB,EAAM1uB,GAAI,SAAS6D,EACxD,IAAIwS,EAAMiY,EAAID,QAAQ9mB,EAAOmnB,EAAM7uB,OAAS,GAAI4jF,EAAYw3B,EAAK5kG,GAAM1N,EAAW+lB,EAAMA,EAAM7uB,OAAS,GACvG,GAAI4jF,EAAU50E,MAAM,EAAGlG,EAAS9I,SAAW8I,EAC3C,MAAO,CAACG,KAAMJ,EAAInB,EAAMqzG,EAAUC,EAAM33G,EAAQg4G,EAASD,GAAQx1G,GACzD6B,GAAIoB,EAAInB,EAAOmnB,EAAM7uB,OAAS,EAAG+6G,EAAUvkG,EAAKotE,EAAW96E,EAAS9I,OAAQo7G,OAK1F,SAASE,EAAqB7sF,EAAKjsB,EAAOkI,EAAOtG,GAC/C,IAAK5B,EAAMxC,OAAQ,OAAO,KAC1B,IAAIo7G,EAAOh3G,EAAW61G,EAASC,EAC3BrrF,EAAQusF,EAAK54G,GAAOzC,MAAM,YAE9BiE,EAAQ,IAAK,IAAI0D,EAAOgD,EAAMhD,KAAM9B,EAAK8E,EAAM9E,GAAI8oB,EAAQD,EAAI1lB,YAAc,EAAI8lB,EAAM7uB,OAAQ0H,GAAQgnB,EAAOhnB,IAAQ9B,GAAM,EAAG,CAC7H,IAAIo1G,EAAOvsF,EAAID,QAAQ9mB,GACnB9B,GAAM,IAAGo1G,EAAOA,EAAKhsG,MAAM,EAAGpJ,IAClC,IAAIvC,EAAS+3G,EAAKJ,GAClB,GAAoB,GAAhBnsF,EAAM7uB,OAAa,CACrB,IAAIkmB,EAAQ7iB,EAAOy4E,YAAYjtD,EAAM,IACrC,IAAc,GAAV3I,EAAa,SAASliB,EAC1B,MAAO,CAACiF,KAAMJ,EAAInB,EAAMqzG,EAAUC,EAAM33G,EAAQ6iB,EAAOk1F,IAC/C3zG,GAAIoB,EAAInB,EAAMqzG,EAAUC,EAAM33G,EAAQ6iB,EAAQ2I,EAAM,GAAG7uB,OAAQo7G,KAEvE,IAAItyG,EAAW+lB,EAAMA,EAAM7uB,OAAS,GACpC,GAAIqD,EAAO2L,MAAM,EAAGlG,EAAS9I,SAAW8I,EAAxC,CACK,IAAI3I,EAAI,EAAb,IAAgBuK,EAAQhD,EAAOmnB,EAAM7uB,OAAS,EAAGG,EAAI0uB,EAAM7uB,OAAS,EAAGG,IACrE,GAAIi7G,EAAK3sF,EAAID,QAAQ9jB,EAAQvK,KAAO0uB,EAAM1uB,GAAI,SAAS6D,EACzD,IAAIiE,EAAMwmB,EAAID,QAAQ9mB,EAAO,EAAImnB,EAAM7uB,QAASu7G,EAAYH,EAAKnzG,GACjE,GAAIszG,EAAUvsG,MAAMusG,EAAUv7G,OAAS6uB,EAAM,GAAG7uB,SAAW6uB,EAAM,GACjE,MAAO,CAAC5lB,KAAMJ,EAAInB,EAAO,EAAImnB,EAAM7uB,OAAQ+6G,EAAU9yG,EAAKszG,EAAWtzG,EAAIjI,OAAS6uB,EAAM,GAAG7uB,OAAQo7G,IAC3F3zG,GAAIoB,EAAInB,EAAMqzG,EAAUC,EAAM33G,EAAQyF,EAAS9I,OAAQo7G,OAKrE,SAASI,EAAa/sF,EAAKjsB,EAAOU,EAAKgC,GAOrC,IAAId,EANJhD,KAAKq6G,cAAe,EACpBr6G,KAAKs6G,iBAAkB,EACvBt6G,KAAKqtB,IAAMA,EACXvrB,EAAMA,EAAMurB,EAAI6B,QAAQptB,GAAO2F,EAAI,EAAG,GACtCzH,KAAK8B,IAAM,CAAC+F,KAAM/F,EAAKuE,GAAIvE,GAGL,iBAAXgC,EACTd,EAAWc,EAAQd,UAEnBA,EAAWc,EACXA,EAAU,MAGQ,iBAAT1C,GACO,MAAZ4B,IAAkBA,GAAW,GACjChD,KAAKu6G,QAAU,SAAShzF,EAASzlB,GAC/B,OAAQylB,EAAU2yF,EAAuBH,GAAqB1sF,EAAKjsB,EAAOU,EAAKkB,MAGjF5B,EAAQ63G,EAAY73G,EAAO,MACtB0C,IAAiC,IAAtBA,EAAQb,UAKtBjD,KAAKu6G,QAAU,SAAShzF,EAASzlB,GAC/B,OAAQylB,EAAUkyF,EAAuBN,GAAqB9rF,EAAKjsB,EAAOU,IAL5E9B,KAAKu6G,QAAU,SAAShzF,EAASzlB,GAC/B,OAAQylB,EAAUmyF,EAAgCN,GAA8B/rF,EAAKjsB,EAAOU,KArGhG6Y,OAAOpa,UAAUi6G,WACnB3B,EAAS,SAASv5G,GAAO,OAAOA,EAAIk7G,UAAU,OAAO13G,eACrDg2G,EAAS,SAASx5G,GAAO,OAAOA,EAAIk7G,UAAU,UAE9C3B,EAAS,SAASv5G,GAAO,OAAOA,EAAIwD,eACpCg2G,EAAS,SAASx5G,GAAO,OAAOA,IAyGlC86G,EAAa75G,UAAY,CACvBkF,SAAU,WAAY,OAAOzF,KAAKwH,MAAK,IACvCizG,aAAc,WAAY,OAAOz6G,KAAKwH,MAAK,IAE3CA,KAAM,SAAS+f,GACb,IAAI1b,EAAO7L,KAAKqtB,IAAI6B,QAAQ3H,EAAUvnB,KAAK8B,IAAI+F,KAAO7H,KAAK8B,IAAIuE,IAC/D,GAAIrG,KAAKs6G,iBAAmBt6G,KAAKq6G,eAE/BxuG,EAAOpE,EAAIoE,EAAKvF,KAAMuF,EAAKrH,IACvB+iB,GACF1b,EAAKrH,KACDqH,EAAKrH,GAAK,IACZqH,EAAKvF,OACLuF,EAAKrH,IAAMxE,KAAKqtB,IAAID,QAAQvhB,EAAKvF,OAAS,IAAI1H,UAGhDiN,EAAKrH,KACDqH,EAAKrH,IAAMxE,KAAKqtB,IAAID,QAAQvhB,EAAKvF,OAAS,IAAI1H,SAChDiN,EAAKrH,GAAK,EACVqH,EAAKvF,SAG8C,GAAnDpF,EAAW6L,OAAOlB,EAAM7L,KAAKqtB,IAAI6B,QAAQrjB,KAC1C,OAAO7L,KAAKq6G,cAAe,EAGhC,IAAI9qG,EAASvP,KAAKu6G,QAAQhzF,EAAS1b,GAGnC,GAFA7L,KAAKs6G,gBAAkB/qG,GAAuD,GAA7CrO,EAAW6L,OAAOwC,EAAO1H,KAAM0H,EAAOlJ,IAEnEkJ,EAGF,OAFAvP,KAAK8B,IAAMyN,EACXvP,KAAKq6G,cAAe,EACbr6G,KAAK8B,IAAIC,QAAS,EAEzB,IAAIqT,EAAM3N,EAAI8f,EAAUvnB,KAAKqtB,IAAI1lB,YAAc3H,KAAKqtB,IAAI3lB,WAAa,EAAG,GAExE,OADA1H,KAAK8B,IAAM,CAAC+F,KAAMuN,EAAK/O,GAAI+O,GACpBpV,KAAKq6G,cAAe,GAI/BxyG,KAAM,WAAY,GAAI7H,KAAKq6G,aAAc,OAAOr6G,KAAK8B,IAAI+F,MACzDxB,GAAI,WAAY,GAAIrG,KAAKq6G,aAAc,OAAOr6G,KAAK8B,IAAIuE,IAEvD9E,QAAS,SAAS4pE,EAAStoD,GACzB,GAAK7iB,KAAKq6G,aAAV,CACA,IAAI5sF,EAAQvsB,EAAW2mD,WAAWsjB,GAClCnrE,KAAKqtB,IAAIthB,aAAa0hB,EAAOztB,KAAK8B,IAAI+F,KAAM7H,KAAK8B,IAAIuE,GAAIwc,GACzD7iB,KAAK8B,IAAIuE,GAAKoB,EAAIzH,KAAK8B,IAAI+F,KAAKvB,KAAOmnB,EAAM7uB,OAAS,EACpC6uB,EAAMA,EAAM7uB,OAAS,GAAGA,QAA0B,GAAhB6uB,EAAM7uB,OAAcoB,KAAK8B,IAAI+F,KAAKrD,GAAK,OAI/FtD,EAAWqV,gBAAgB,mBAAmB,SAASnV,EAAOU,EAAKkB,GACjE,OAAO,IAAIo3G,EAAap6G,KAAKqtB,IAAKjsB,EAAOU,EAAKkB,MAEhD9B,EAAW2tE,mBAAmB,mBAAmB,SAASztE,EAAOU,EAAKkB,GACpE,OAAO,IAAIo3G,EAAap6G,KAAMoB,EAAOU,EAAKkB,MAG5C9B,EAAWqV,gBAAgB,iBAAiB,SAASnV,EAAO4B,GAC1D,IAAIwI,EAAS,GACTM,EAAM9L,KAAK+C,gBAAgB3B,EAAOpB,KAAKgG,UAAU,QAAShD,GAC9D,MAAO8I,EAAIrG,WAAY,CACrB,GAAIvE,EAAW6L,OAAOjB,EAAIzF,KAAMrG,KAAKgG,UAAU,OAAS,EAAG,MAC3DwF,EAAOiB,KAAK,CAACC,OAAQZ,EAAIjE,OAAQgE,KAAMC,EAAIzF,OAEzCmF,EAAO5M,QACToB,KAAK2M,cAAcnB,EAAQ,U,mBCrSjC,IACE5L,EAAOC,QAAoC,qBAAnBqmF,gBACtB,oBAAqB,IAAIA,eAC3B,MAAO30E,GAGP3R,EAAOC,SAAU,I,oECZnB,SAAUoB,GAENA,EAAI,EAAQ,UAFhB,EAOG,SAASC,GAsBV,SAASw5G,EAAiBh4G,GACpBA,EAAGC,MAAMypE,cACX1pE,EAAGC,MAAMypE,YAAYx1D,WAAWC,YAAYnU,EAAGC,MAAMypE,aACrD1pE,EAAGC,MAAMypE,YAAc,MAG3B,SAASuuC,EAAej4G,GACtBg4G,EAAiBh4G,GACjB,IAAImd,EAAMnd,EAAGC,MAAMypE,YAAc7lE,SAAS4B,cAAc,OACxD0X,EAAI5Z,MAAM6Z,QAAU,+BACpBD,EAAI5Z,MAAM6f,UAAYpjB,EAAGuE,UAAU,aACnC4Y,EAAInX,UAAY,8CAChB,IAAIkyG,EAAcl4G,EAAGuE,UAAU,eACL,iBAAf2zG,IAAyBA,EAAcr0G,SAASkC,eAAemyG,IAC1E/6F,EAAIrX,YAAYoyG,GAChBl4G,EAAG+D,QAAQ+7B,UAAU/C,aAAa5f,EAAKnd,EAAG+D,QAAQ+7B,UAAU9iB,YAG9D,SAASm7F,EAAcn4G,GACrBqV,YAAW,WACT,IAAIrM,GAAQ,EACZ,GAAsB,GAAlBhJ,EAAG0N,YAAkB,CACvB,IAAIwsB,EAAQl6B,EAAG48D,gBACf5zD,EAA0B,YAAlBkxB,EAAMge,UAA0Bl4C,EAAG0qB,QAAQ,GAAGxuB,QACjD,YAAYiG,KAAK+3B,EAAMp2B,cAAc,oBAAoBkiE,aAE5Dh9D,EAAOivG,EAAej4G,GACrBg4G,EAAiBh4G,KACrB,IAGL,SAASotC,EAAOptC,GACVyhB,EAAQzhB,IAAKi4G,EAAej4G,GAElC,SAASo4G,EAASp4G,GAChB,IAAIgE,EAAUhE,EAAGuT,oBAAqBvK,EAAQyY,EAAQzhB,GACtDgE,EAAQgC,UAAYhC,EAAQgC,UAAUnH,QAAQ,oBAAqB,KAAOmK,EAAQ,oBAAsB,IAEpGA,EAAOivG,EAAej4G,GACrBg4G,EAAiBh4G,GAGxB,SAASyhB,EAAQzhB,GACf,OAA2B,IAAnBA,EAAG0N,aAAyC,KAAlB1N,EAAG0qB,QAAQ,GAhE/ClsB,EAAWsI,aAAa,cAAe,IAAI,SAAS9G,EAAI2H,EAAKC,GAC3D,IAAI7L,EAAO6L,GAAOA,GAAOpJ,EAAWqJ,KACpC,GAAIF,IAAQ5L,EACViE,EAAGyU,GAAG,OAAQ24B,GACdptC,EAAGyU,GAAG,SAAU2jG,GAChBp4G,EAAGyU,GAAG,UAAW2jG,GACjB55G,EAAWiW,GAAGzU,EAAG48D,gBAAiB,oBAAqB58D,EAAGC,MAAMo4G,mBAAqB,WAAaF,EAAcn4G,KAChHo4G,EAASp4G,QACJ,IAAK2H,GAAO5L,EAAM,CACvBiE,EAAGslB,IAAI,OAAQ8nB,GACfptC,EAAGslB,IAAI,SAAU8yF,GACjBp4G,EAAGslB,IAAI,UAAW8yF,GAClB55G,EAAW8mB,IAAItlB,EAAG48D,gBAAiB,oBAAqB58D,EAAGC,MAAMo4G,oBACjEL,EAAiBh4G,GACjB,IAAIgE,EAAUhE,EAAGuT,oBACjBvP,EAAQgC,UAAYhC,EAAQgC,UAAUnH,QAAQ,oBAAqB,IAGjE8I,IAAQ3H,EAAGmtC,YAAYC,EAAOptC,U,mBC7BtC,IAAImW,EAAW,GAAGA,SAElBjZ,EAAOC,QAAUyU,MAAMi3E,SAAW,SAAUx2E,GAC1C,MAA6B,kBAAtB8D,EAASC,KAAK/D,K","file":"js/codepair.d2371808.js","sourcesContent":["'use strict';\n\nvar alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split('')\n  , length = 64\n  , map = {}\n  , seed = 0\n  , i = 0\n  , prev;\n\n/**\n * Return a string representing the specified number.\n *\n * @param {Number} num The number to convert.\n * @returns {String} The string representation of the number.\n * @api public\n */\nfunction encode(num) {\n  var encoded = '';\n\n  do {\n    encoded = alphabet[num % length] + encoded;\n    num = Math.floor(num / length);\n  } while (num > 0);\n\n  return encoded;\n}\n\n/**\n * Return the integer value specified by the given string.\n *\n * @param {String} str The string to convert.\n * @returns {Number} The integer value represented by the string.\n * @api public\n */\nfunction decode(str) {\n  var decoded = 0;\n\n  for (i = 0; i < str.length; i++) {\n    decoded = decoded * length + map[str.charAt(i)];\n  }\n\n  return decoded;\n}\n\n/**\n * Yeast: A tiny growing id generator.\n *\n * @returns {String} A unique id.\n * @api public\n */\nfunction yeast() {\n  var now = encode(+new Date());\n\n  if (now !== prev) return seed = 0, prev = now;\n  return now +'.'+ encode(seed++);\n}\n\n//\n// Map each character to its index.\n//\nfor (; i < length; i++) map[alphabet[i]] = i;\n\n//\n// Expose the `yeast`, `encode` and `decode` functions.\n//\nyeast.encode = encode;\nyeast.decode = decode;\nmodule.exports = yeast;\n","\n/**\n * Expose `Backoff`.\n */\n\nmodule.exports = Backoff;\n\n/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction Backoff(opts) {\n  opts = opts || {};\n  this.ms = opts.min || 100;\n  this.max = opts.max || 10000;\n  this.factor = opts.factor || 2;\n  this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n  this.attempts = 0;\n}\n\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\n\nBackoff.prototype.duration = function(){\n  var ms = this.ms * Math.pow(this.factor, this.attempts++);\n  if (this.jitter) {\n    var rand =  Math.random();\n    var deviation = Math.floor(rand * this.jitter * ms);\n    ms = (Math.floor(rand * 10) & 1) == 0  ? ms - deviation : ms + deviation;\n  }\n  return Math.min(ms, this.max) | 0;\n};\n\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\n\nBackoff.prototype.reset = function(){\n  this.attempts = 0;\n};\n\n/**\n * Set the minimum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMin = function(min){\n  this.ms = min;\n};\n\n/**\n * Set the maximum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMax = function(max){\n  this.max = max;\n};\n\n/**\n * Set the jitter\n *\n * @api public\n */\n\nBackoff.prototype.setJitter = function(jitter){\n  this.jitter = jitter;\n};\n\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// Define search commands. Depends on dialog.js or another\n// implementation of the openDialog method.\n\n// Replace works a little oddly -- it will do the replace on the next\n// Ctrl-G (or whatever is bound to findNext) press. You prevent a\n// replace by making sure the match is no longer selected when hitting\n// Ctrl-G.\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"./searchcursor\"), require(\"../dialog/dialog\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"./searchcursor\", \"../dialog/dialog\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  // default search panel location\n  CodeMirror.defineOption(\"search\", {bottom: false});\n\n  function searchOverlay(query, caseInsensitive) {\n    if (typeof query == \"string\")\n      query = new RegExp(query.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\"), caseInsensitive ? \"gi\" : \"g\");\n    else if (!query.global)\n      query = new RegExp(query.source, query.ignoreCase ? \"gi\" : \"g\");\n\n    return {token: function(stream) {\n      query.lastIndex = stream.pos;\n      var match = query.exec(stream.string);\n      if (match && match.index == stream.pos) {\n        stream.pos += match[0].length || 1;\n        return \"searching\";\n      } else if (match) {\n        stream.pos = match.index;\n      } else {\n        stream.skipToEnd();\n      }\n    }};\n  }\n\n  function SearchState() {\n    this.posFrom = this.posTo = this.lastQuery = this.query = null;\n    this.overlay = null;\n  }\n\n  function getSearchState(cm) {\n    return cm.state.search || (cm.state.search = new SearchState());\n  }\n\n  function queryCaseInsensitive(query) {\n    return typeof query == \"string\" && query == query.toLowerCase();\n  }\n\n  function getSearchCursor(cm, query, pos) {\n    // Heuristic: if the query string is all lowercase, do a case insensitive search.\n    return cm.getSearchCursor(query, pos, {caseFold: queryCaseInsensitive(query), multiline: true});\n  }\n\n  function persistentDialog(cm, text, deflt, onEnter, onKeyDown) {\n    cm.openDialog(text, onEnter, {\n      value: deflt,\n      selectValueOnOpen: true,\n      closeOnEnter: false,\n      onClose: function() { clearSearch(cm); },\n      onKeyDown: onKeyDown,\n      bottom: cm.options.search.bottom\n    });\n  }\n\n  function dialog(cm, text, shortText, deflt, f) {\n    if (cm.openDialog) cm.openDialog(text, f, {value: deflt, selectValueOnOpen: true, bottom: cm.options.search.bottom});\n    else f(prompt(shortText, deflt));\n  }\n\n  function confirmDialog(cm, text, shortText, fs) {\n    if (cm.openConfirm) cm.openConfirm(text, fs);\n    else if (confirm(shortText)) fs[0]();\n  }\n\n  function parseString(string) {\n    return string.replace(/\\\\([nrt\\\\])/g, function(match, ch) {\n      if (ch == \"n\") return \"\\n\"\n      if (ch == \"r\") return \"\\r\"\n      if (ch == \"t\") return \"\\t\"\n      if (ch == \"\\\\\") return \"\\\\\"\n      return match\n    })\n  }\n\n  function parseQuery(query) {\n    var isRE = query.match(/^\\/(.*)\\/([a-z]*)$/);\n    if (isRE) {\n      try { query = new RegExp(isRE[1], isRE[2].indexOf(\"i\") == -1 ? \"\" : \"i\"); }\n      catch(e) {} // Not a regular expression after all, do a string search\n    } else {\n      query = parseString(query)\n    }\n    if (typeof query == \"string\" ? query == \"\" : query.test(\"\"))\n      query = /x^/;\n    return query;\n  }\n\n  function startSearch(cm, state, query) {\n    state.queryText = query;\n    state.query = parseQuery(query);\n    cm.removeOverlay(state.overlay, queryCaseInsensitive(state.query));\n    state.overlay = searchOverlay(state.query, queryCaseInsensitive(state.query));\n    cm.addOverlay(state.overlay);\n    if (cm.showMatchesOnScrollbar) {\n      if (state.annotate) { state.annotate.clear(); state.annotate = null; }\n      state.annotate = cm.showMatchesOnScrollbar(state.query, queryCaseInsensitive(state.query));\n    }\n  }\n\n  function doSearch(cm, rev, persistent, immediate) {\n    var state = getSearchState(cm);\n    if (state.query) return findNext(cm, rev);\n    var q = cm.getSelection() || state.lastQuery;\n    if (q instanceof RegExp && q.source == \"x^\") q = null\n    if (persistent && cm.openDialog) {\n      var hiding = null\n      var searchNext = function(query, event) {\n        CodeMirror.e_stop(event);\n        if (!query) return;\n        if (query != state.queryText) {\n          startSearch(cm, state, query);\n          state.posFrom = state.posTo = cm.getCursor();\n        }\n        if (hiding) hiding.style.opacity = 1\n        findNext(cm, event.shiftKey, function(_, to) {\n          var dialog\n          if (to.line < 3 && document.querySelector &&\n              (dialog = cm.display.wrapper.querySelector(\".CodeMirror-dialog\")) &&\n              dialog.getBoundingClientRect().bottom - 4 > cm.cursorCoords(to, \"window\").top)\n            (hiding = dialog).style.opacity = .4\n        })\n      };\n      persistentDialog(cm, getQueryDialog(cm), q, searchNext, function(event, query) {\n        var keyName = CodeMirror.keyName(event)\n        var extra = cm.getOption('extraKeys'), cmd = (extra && extra[keyName]) || CodeMirror.keyMap[cm.getOption(\"keyMap\")][keyName]\n        if (cmd == \"findNext\" || cmd == \"findPrev\" ||\n          cmd == \"findPersistentNext\" || cmd == \"findPersistentPrev\") {\n          CodeMirror.e_stop(event);\n          startSearch(cm, getSearchState(cm), query);\n          cm.execCommand(cmd);\n        } else if (cmd == \"find\" || cmd == \"findPersistent\") {\n          CodeMirror.e_stop(event);\n          searchNext(query, event);\n        }\n      });\n      if (immediate && q) {\n        startSearch(cm, state, q);\n        findNext(cm, rev);\n      }\n    } else {\n      dialog(cm, getQueryDialog(cm), \"Search for:\", q, function(query) {\n        if (query && !state.query) cm.operation(function() {\n          startSearch(cm, state, query);\n          state.posFrom = state.posTo = cm.getCursor();\n          findNext(cm, rev);\n        });\n      });\n    }\n  }\n\n  function findNext(cm, rev, callback) {cm.operation(function() {\n    var state = getSearchState(cm);\n    var cursor = getSearchCursor(cm, state.query, rev ? state.posFrom : state.posTo);\n    if (!cursor.find(rev)) {\n      cursor = getSearchCursor(cm, state.query, rev ? CodeMirror.Pos(cm.lastLine()) : CodeMirror.Pos(cm.firstLine(), 0));\n      if (!cursor.find(rev)) return;\n    }\n    cm.setSelection(cursor.from(), cursor.to());\n    cm.scrollIntoView({from: cursor.from(), to: cursor.to()}, 20);\n    state.posFrom = cursor.from(); state.posTo = cursor.to();\n    if (callback) callback(cursor.from(), cursor.to())\n  });}\n\n  function clearSearch(cm) {cm.operation(function() {\n    var state = getSearchState(cm);\n    state.lastQuery = state.query;\n    if (!state.query) return;\n    state.query = state.queryText = null;\n    cm.removeOverlay(state.overlay);\n    if (state.annotate) { state.annotate.clear(); state.annotate = null; }\n  });}\n\n  function el(tag, attrs) {\n    var element = tag ? document.createElement(tag) : document.createDocumentFragment();\n    for (var key in attrs) {\n      element[key] = attrs[key];\n    }\n    for (var i = 2; i < arguments.length; i++) {\n      var child = arguments[i]\n      element.appendChild(typeof child == \"string\" ? document.createTextNode(child) : child);\n    }\n    return element;\n  }\n\n  function getQueryDialog(cm)  {\n    return el(\"\", null,\n              el(\"span\", {className: \"CodeMirror-search-label\"}, cm.phrase(\"Search:\")), \" \",\n              el(\"input\", {type: \"text\", \"style\": \"width: 10em\", className: \"CodeMirror-search-field\"}), \" \",\n              el(\"span\", {style: \"color: #888\", className: \"CodeMirror-search-hint\"},\n                 cm.phrase(\"(Use /re/ syntax for regexp search)\")));\n  }\n  function getReplaceQueryDialog(cm) {\n    return el(\"\", null, \" \",\n              el(\"input\", {type: \"text\", \"style\": \"width: 10em\", className: \"CodeMirror-search-field\"}), \" \",\n              el(\"span\", {style: \"color: #888\", className: \"CodeMirror-search-hint\"},\n                 cm.phrase(\"(Use /re/ syntax for regexp search)\")));\n  }\n  function getReplacementQueryDialog(cm) {\n    return el(\"\", null,\n              el(\"span\", {className: \"CodeMirror-search-label\"}, cm.phrase(\"With:\")), \" \",\n              el(\"input\", {type: \"text\", \"style\": \"width: 10em\", className: \"CodeMirror-search-field\"}));\n  }\n  function getDoReplaceConfirm(cm) {\n    return el(\"\", null,\n              el(\"span\", {className: \"CodeMirror-search-label\"}, cm.phrase(\"Replace?\")), \" \",\n              el(\"button\", {}, cm.phrase(\"Yes\")), \" \",\n              el(\"button\", {}, cm.phrase(\"No\")), \" \",\n              el(\"button\", {}, cm.phrase(\"All\")), \" \",\n              el(\"button\", {}, cm.phrase(\"Stop\")));\n  }\n\n  function replaceAll(cm, query, text) {\n    cm.operation(function() {\n      for (var cursor = getSearchCursor(cm, query); cursor.findNext();) {\n        if (typeof query != \"string\") {\n          var match = cm.getRange(cursor.from(), cursor.to()).match(query);\n          cursor.replace(text.replace(/\\$(\\d)/g, function(_, i) {return match[i];}));\n        } else cursor.replace(text);\n      }\n    });\n  }\n\n  function replace(cm, all) {\n    if (cm.getOption(\"readOnly\")) return;\n    var query = cm.getSelection() || getSearchState(cm).lastQuery;\n    var dialogText = all ? cm.phrase(\"Replace all:\") : cm.phrase(\"Replace:\")\n    var fragment = el(\"\", null,\n                      el(\"span\", {className: \"CodeMirror-search-label\"}, dialogText),\n                      getReplaceQueryDialog(cm))\n    dialog(cm, fragment, dialogText, query, function(query) {\n      if (!query) return;\n      query = parseQuery(query);\n      dialog(cm, getReplacementQueryDialog(cm), cm.phrase(\"Replace with:\"), \"\", function(text) {\n        text = parseString(text)\n        if (all) {\n          replaceAll(cm, query, text)\n        } else {\n          clearSearch(cm);\n          var cursor = getSearchCursor(cm, query, cm.getCursor(\"from\"));\n          var advance = function() {\n            var start = cursor.from(), match;\n            if (!(match = cursor.findNext())) {\n              cursor = getSearchCursor(cm, query);\n              if (!(match = cursor.findNext()) ||\n                  (start && cursor.from().line == start.line && cursor.from().ch == start.ch)) return;\n            }\n            cm.setSelection(cursor.from(), cursor.to());\n            cm.scrollIntoView({from: cursor.from(), to: cursor.to()});\n            confirmDialog(cm, getDoReplaceConfirm(cm), cm.phrase(\"Replace?\"),\n                          [function() {doReplace(match);}, advance,\n                           function() {replaceAll(cm, query, text)}]);\n          };\n          var doReplace = function(match) {\n            cursor.replace(typeof query == \"string\" ? text :\n                           text.replace(/\\$(\\d)/g, function(_, i) {return match[i];}));\n            advance();\n          };\n          advance();\n        }\n      });\n    });\n  }\n\n  CodeMirror.commands.find = function(cm) {clearSearch(cm); doSearch(cm);};\n  CodeMirror.commands.findPersistent = function(cm) {clearSearch(cm); doSearch(cm, false, true);};\n  CodeMirror.commands.findPersistentNext = function(cm) {doSearch(cm, false, true, true);};\n  CodeMirror.commands.findPersistentPrev = function(cm) {doSearch(cm, true, true, true);};\n  CodeMirror.commands.findNext = doSearch;\n  CodeMirror.commands.findPrev = function(cm) {doSearch(cm, true);};\n  CodeMirror.commands.clearSearch = clearSearch;\n  CodeMirror.commands.replace = replace;\n  CodeMirror.commands.replaceAll = function(cm) {replace(cm, true);};\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  var defaults = {\n    pairs: \"()[]{}''\\\"\\\"\",\n    closeBefore: \")]}'\\\":;>\",\n    triples: \"\",\n    explode: \"[]{}\"\n  };\n\n  var Pos = CodeMirror.Pos;\n\n  CodeMirror.defineOption(\"autoCloseBrackets\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      cm.removeKeyMap(keyMap);\n      cm.state.closeBrackets = null;\n    }\n    if (val) {\n      ensureBound(getOption(val, \"pairs\"))\n      cm.state.closeBrackets = val;\n      cm.addKeyMap(keyMap);\n    }\n  });\n\n  function getOption(conf, name) {\n    if (name == \"pairs\" && typeof conf == \"string\") return conf;\n    if (typeof conf == \"object\" && conf[name] != null) return conf[name];\n    return defaults[name];\n  }\n\n  var keyMap = {Backspace: handleBackspace, Enter: handleEnter};\n  function ensureBound(chars) {\n    for (var i = 0; i < chars.length; i++) {\n      var ch = chars.charAt(i), key = \"'\" + ch + \"'\"\n      if (!keyMap[key]) keyMap[key] = handler(ch)\n    }\n  }\n  ensureBound(defaults.pairs + \"`\")\n\n  function handler(ch) {\n    return function(cm) { return handleChar(cm, ch); };\n  }\n\n  function getConfig(cm) {\n    var deflt = cm.state.closeBrackets;\n    if (!deflt || deflt.override) return deflt;\n    var mode = cm.getModeAt(cm.getCursor());\n    return mode.closeBrackets || deflt;\n  }\n\n  function handleBackspace(cm) {\n    var conf = getConfig(cm);\n    if (!conf || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n\n    var pairs = getOption(conf, \"pairs\");\n    var ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++) {\n      if (!ranges[i].empty()) return CodeMirror.Pass;\n      var around = charsAround(cm, ranges[i].head);\n      if (!around || pairs.indexOf(around) % 2 != 0) return CodeMirror.Pass;\n    }\n    for (var i = ranges.length - 1; i >= 0; i--) {\n      var cur = ranges[i].head;\n      cm.replaceRange(\"\", Pos(cur.line, cur.ch - 1), Pos(cur.line, cur.ch + 1), \"+delete\");\n    }\n  }\n\n  function handleEnter(cm) {\n    var conf = getConfig(cm);\n    var explode = conf && getOption(conf, \"explode\");\n    if (!explode || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n\n    var ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++) {\n      if (!ranges[i].empty()) return CodeMirror.Pass;\n      var around = charsAround(cm, ranges[i].head);\n      if (!around || explode.indexOf(around) % 2 != 0) return CodeMirror.Pass;\n    }\n    cm.operation(function() {\n      var linesep = cm.lineSeparator() || \"\\n\";\n      cm.replaceSelection(linesep + linesep, null);\n      moveSel(cm, -1)\n      ranges = cm.listSelections();\n      for (var i = 0; i < ranges.length; i++) {\n        var line = ranges[i].head.line;\n        cm.indentLine(line, null, true);\n        cm.indentLine(line + 1, null, true);\n      }\n    });\n  }\n\n  function moveSel(cm, dir) {\n    var newRanges = [], ranges = cm.listSelections(), primary = 0\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i]\n      if (range.head == cm.getCursor()) primary = i\n      var pos = range.head.ch || dir > 0 ? {line: range.head.line, ch: range.head.ch + dir} : {line: range.head.line - 1}\n      newRanges.push({anchor: pos, head: pos})\n    }\n    cm.setSelections(newRanges, primary)\n  }\n\n  function contractSelection(sel) {\n    var inverted = CodeMirror.cmpPos(sel.anchor, sel.head) > 0;\n    return {anchor: new Pos(sel.anchor.line, sel.anchor.ch + (inverted ? -1 : 1)),\n            head: new Pos(sel.head.line, sel.head.ch + (inverted ? 1 : -1))};\n  }\n\n  function handleChar(cm, ch) {\n    var conf = getConfig(cm);\n    if (!conf || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n\n    var pairs = getOption(conf, \"pairs\");\n    var pos = pairs.indexOf(ch);\n    if (pos == -1) return CodeMirror.Pass;\n\n    var closeBefore = getOption(conf,\"closeBefore\");\n\n    var triples = getOption(conf, \"triples\");\n\n    var identical = pairs.charAt(pos + 1) == ch;\n    var ranges = cm.listSelections();\n    var opening = pos % 2 == 0;\n\n    var type;\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i], cur = range.head, curType;\n      var next = cm.getRange(cur, Pos(cur.line, cur.ch + 1));\n      if (opening && !range.empty()) {\n        curType = \"surround\";\n      } else if ((identical || !opening) && next == ch) {\n        if (identical && stringStartsAfter(cm, cur))\n          curType = \"both\";\n        else if (triples.indexOf(ch) >= 0 && cm.getRange(cur, Pos(cur.line, cur.ch + 3)) == ch + ch + ch)\n          curType = \"skipThree\";\n        else\n          curType = \"skip\";\n      } else if (identical && cur.ch > 1 && triples.indexOf(ch) >= 0 &&\n                 cm.getRange(Pos(cur.line, cur.ch - 2), cur) == ch + ch) {\n        if (cur.ch > 2 && /\\bstring/.test(cm.getTokenTypeAt(Pos(cur.line, cur.ch - 2)))) return CodeMirror.Pass;\n        curType = \"addFour\";\n      } else if (identical) {\n        var prev = cur.ch == 0 ? \" \" : cm.getRange(Pos(cur.line, cur.ch - 1), cur)\n        if (!CodeMirror.isWordChar(next) && prev != ch && !CodeMirror.isWordChar(prev)) curType = \"both\";\n        else return CodeMirror.Pass;\n      } else if (opening && (next.length === 0 || /\\s/.test(next) || closeBefore.indexOf(next) > -1)) {\n        curType = \"both\";\n      } else {\n        return CodeMirror.Pass;\n      }\n      if (!type) type = curType;\n      else if (type != curType) return CodeMirror.Pass;\n    }\n\n    var left = pos % 2 ? pairs.charAt(pos - 1) : ch;\n    var right = pos % 2 ? ch : pairs.charAt(pos + 1);\n    cm.operation(function() {\n      if (type == \"skip\") {\n        moveSel(cm, 1)\n      } else if (type == \"skipThree\") {\n        moveSel(cm, 3)\n      } else if (type == \"surround\") {\n        var sels = cm.getSelections();\n        for (var i = 0; i < sels.length; i++)\n          sels[i] = left + sels[i] + right;\n        cm.replaceSelections(sels, \"around\");\n        sels = cm.listSelections().slice();\n        for (var i = 0; i < sels.length; i++)\n          sels[i] = contractSelection(sels[i]);\n        cm.setSelections(sels);\n      } else if (type == \"both\") {\n        cm.replaceSelection(left + right, null);\n        cm.triggerElectric(left + right);\n        moveSel(cm, -1)\n      } else if (type == \"addFour\") {\n        cm.replaceSelection(left + left + left + left, \"before\");\n        moveSel(cm, 1)\n      }\n    });\n  }\n\n  function charsAround(cm, pos) {\n    var str = cm.getRange(Pos(pos.line, pos.ch - 1),\n                          Pos(pos.line, pos.ch + 1));\n    return str.length == 2 ? str : null;\n  }\n\n  function stringStartsAfter(cm, pos) {\n    var token = cm.getTokenAt(Pos(pos.line, pos.ch + 1))\n    return /\\bstring/.test(token.type) && token.start == pos.ch &&\n      (pos.ch == 0 || !/\\bstring/.test(cm.getTokenTypeAt(pos)))\n  }\n});\n","const DiffPatchMatch = require(\"diff-match-patch\");\r\nconst dmp = new DiffPatchMatch();\r\n\r\nclass TextController {\r\n  constructor(code = \"\") {\r\n    this.code = code;\r\n    this.shadow = code;\r\n    this.cursorPos = 0;\r\n    this.localVersion = 0;\r\n    this.remoteVersion = 0;\r\n    this.editStack = [];\r\n  }\r\n  makePatch(oldCode, newCode) {\r\n    return dmp.patch_make(oldCode, newCode);\r\n  }\r\n  addLocalChange() {\r\n    let patch = this.makePatch(this.shadow, this.code);\r\n    if (patch.length) {\r\n      this.editStack.push({\r\n        patch,\r\n        version: this.localVersion\r\n      });\r\n      this.applyPatchToShadow(patch);\r\n      this.localVersion ++;\r\n    }\r\n  }\r\n  receivePackage(data) {\r\n    let nextRemoteVersion = this.remoteVersion;\r\n    for (let i = 0; i < data.patches.length; i ++) {\r\n      if (data.patches[i].version < this.remoteVersion) {\r\n        continue;\r\n      }\r\n      this.applyPatchToLocal(data.patches[i].patch);\r\n      this.applyPatchToShadow(data.patches[i].patch);\r\n      nextRemoteVersion = Math.max(nextRemoteVersion, data.patches[i].version + 1);\r\n    }\r\n    this.remoteVersion = nextRemoteVersion;\r\n    while (this.editStack.length && this.editStack[0].version < data.latestVersion) {\r\n      this.editStack.shift();\r\n    }\r\n    this.addLocalChange();\r\n  }\r\n  applyPatchToLocal(patches) {\r\n    let result = dmp.patch_apply(patches, this.code);\r\n    this.code = result[0];\r\n    // this.shadow = this.code;\r\n    let patchApplied = 0;\r\n    for (let i = 0; i < result[1].length; i++) {\r\n      if (result[1][i]) {\r\n        patchApplied++;\r\n      }\r\n    }\r\n    let iter = 0;\r\n    let delta = 0;\r\n    for (let i = 0; i < patches.length; i++) {\r\n      if (result[1][i]) {\r\n        if (patches[i].start1 !== patches[i].start2) {\r\n          console.log(\"Error at patch \", i);\r\n        }\r\n        if (patches[i].start1 + patches[i].length1 <= this.cursorPos)\r\n          delta += patches[i].length2 - patches[i].length1;\r\n        else if (patches[i].start1 >= this.cursorPos) break;\r\n        else {\r\n          iter = patches[i].start1;\r\n          for (let j = 0; j < patches[i].diffs.length; j++) {\r\n            if (patches[i].diffs[j][0] == 0) {\r\n              iter += patches[i].diffs[j][1].length;\r\n            } else if (patches[i].diffs[j][0] == 1) {\r\n              if (iter <= this.cursorPos) {\r\n                delta += patches[i].diffs[j][1].length;\r\n              }\r\n            } else {\r\n              iter += patches[i].diffs[j][1].length;\r\n              if (iter <= this.cursorPos) {\r\n                delta -= patches[i].diffs[j][1].length;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    this.cursorPos += delta;\r\n    if (this.cursorPos > this.code.length) \r\n      this.cursorPos = this.code.length;\r\n    return patchApplied;\r\n  }\r\n  applyPatchToShadow(patches) {\r\n    let result = dmp.patch_apply(patches, this.shadow);\r\n    this.shadow = result[0];\r\n  }\r\n  pushPackage() {\r\n    this.addLocalChange();\r\n    return {\r\n      patches: this.editStack,\r\n      latestVersion: this.remoteVersion\r\n    };\r\n  }\r\n  updateCursor(line, ch) {\r\n    let iter = 0;\r\n    let lineCount = 0;\r\n    while (lineCount < line) {\r\n      if (this.code[iter] == \"\\n\") {\r\n        lineCount++;\r\n      }\r\n      iter++;\r\n    }\r\n    iter += ch;\r\n    this.cursorPos = iter;\r\n  }\r\n  setCursor() {\r\n    let lastEndlineFound = -1;\r\n    let lineCount = 0;\r\n    for (let i = this.cursorPos - 1; i >= 0; i--) {\r\n      if (this.code[i] === \"\\n\") {\r\n        lineCount++;\r\n        if (lastEndlineFound == -1) {\r\n          lastEndlineFound = i;\r\n        }\r\n      }\r\n    }\r\n    return {\r\n      line: lineCount,\r\n      ch: this.cursorPos - 1 - lastEndlineFound,\r\n    };\r\n  }\r\n}\r\n\r\nmodule.exports = TextController;\r\n","// `SameValue` abstract operation\n// https://tc39.es/ecma262/#sec-samevalue\n// eslint-disable-next-line es/no-object-is -- safe\nmodule.exports = Object.is || function is(x, y) {\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n","import { Transport } from \"../transport.js\";\nimport parseqs from \"parseqs\";\nimport yeast from \"yeast\";\nimport { pick } from \"../util.js\";\nimport { defaultBinaryType, nextTick, usingBrowserWebSocket, WebSocket } from \"./websocket-constructor.js\";\nimport { encodePacket } from \"engine.io-parser\";\n// detect ReactNative environment\nconst isReactNative = typeof navigator !== \"undefined\" &&\n    typeof navigator.product === \"string\" &&\n    navigator.product.toLowerCase() === \"reactnative\";\nexport class WS extends Transport {\n    /**\n     * WebSocket transport constructor.\n     *\n     * @api {Object} connection options\n     * @api public\n     */\n    constructor(opts) {\n        super(opts);\n        this.supportsBinary = !opts.forceBase64;\n    }\n    /**\n     * Transport name.\n     *\n     * @api public\n     */\n    get name() {\n        return \"websocket\";\n    }\n    /**\n     * Opens socket.\n     *\n     * @api private\n     */\n    doOpen() {\n        if (!this.check()) {\n            // let probe timeout\n            return;\n        }\n        const uri = this.uri();\n        const protocols = this.opts.protocols;\n        // React Native only supports the 'headers' option, and will print a warning if anything else is passed\n        const opts = isReactNative\n            ? {}\n            : pick(this.opts, \"agent\", \"perMessageDeflate\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"localAddress\", \"protocolVersion\", \"origin\", \"maxPayload\", \"family\", \"checkServerIdentity\");\n        if (this.opts.extraHeaders) {\n            opts.headers = this.opts.extraHeaders;\n        }\n        try {\n            this.ws =\n                usingBrowserWebSocket && !isReactNative\n                    ? protocols\n                        ? new WebSocket(uri, protocols)\n                        : new WebSocket(uri)\n                    : new WebSocket(uri, protocols, opts);\n        }\n        catch (err) {\n            return this.emit(\"error\", err);\n        }\n        this.ws.binaryType = this.socket.binaryType || defaultBinaryType;\n        this.addEventListeners();\n    }\n    /**\n     * Adds event listeners to the socket\n     *\n     * @api private\n     */\n    addEventListeners() {\n        this.ws.onopen = () => {\n            if (this.opts.autoUnref) {\n                this.ws._socket.unref();\n            }\n            this.onOpen();\n        };\n        this.ws.onclose = this.onClose.bind(this);\n        this.ws.onmessage = ev => this.onData(ev.data);\n        this.ws.onerror = e => this.onError(\"websocket error\", e);\n    }\n    /**\n     * Writes data to socket.\n     *\n     * @param {Array} array of packets.\n     * @api private\n     */\n    write(packets) {\n        this.writable = false;\n        // encodePacket efficient as it uses WS framing\n        // no need for encodePayload\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            encodePacket(packet, this.supportsBinary, data => {\n                // always create a new object (GH-437)\n                const opts = {};\n                if (!usingBrowserWebSocket) {\n                    if (packet.options) {\n                        opts.compress = packet.options.compress;\n                    }\n                    if (this.opts.perMessageDeflate) {\n                        const len = \"string\" === typeof data ? Buffer.byteLength(data) : data.length;\n                        if (len < this.opts.perMessageDeflate.threshold) {\n                            opts.compress = false;\n                        }\n                    }\n                }\n                // Sometimes the websocket has already been closed but the browser didn't\n                // have a chance of informing us about it yet, in that case send will\n                // throw an error\n                try {\n                    if (usingBrowserWebSocket) {\n                        // TypeError is thrown when passing the second argument on Safari\n                        this.ws.send(data);\n                    }\n                    else {\n                        this.ws.send(data, opts);\n                    }\n                }\n                catch (e) {\n                }\n                if (lastPacket) {\n                    // fake drain\n                    // defer to next tick to allow Socket to clear writeBuffer\n                    nextTick(() => {\n                        this.writable = true;\n                        this.emit(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    /**\n     * Closes socket.\n     *\n     * @api private\n     */\n    doClose() {\n        if (typeof this.ws !== \"undefined\") {\n            this.ws.close();\n            this.ws = null;\n        }\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @api private\n     */\n    uri() {\n        let query = this.query || {};\n        const schema = this.opts.secure ? \"wss\" : \"ws\";\n        let port = \"\";\n        // avoid port if default for schema\n        if (this.opts.port &&\n            ((\"wss\" === schema && Number(this.opts.port) !== 443) ||\n                (\"ws\" === schema && Number(this.opts.port) !== 80))) {\n            port = \":\" + this.opts.port;\n        }\n        // append timestamp to URI\n        if (this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = yeast();\n        }\n        // communicate binary support capabilities\n        if (!this.supportsBinary) {\n            query.b64 = 1;\n        }\n        const encodedQuery = parseqs.encode(query);\n        const ipv6 = this.opts.hostname.indexOf(\":\") !== -1;\n        return (schema +\n            \"://\" +\n            (ipv6 ? \"[\" + this.opts.hostname + \"]\" : this.opts.hostname) +\n            port +\n            this.opts.path +\n            (encodedQuery.length ? \"?\" + encodedQuery : \"\"));\n    }\n    /**\n     * Feature detection for WebSocket.\n     *\n     * @return {Boolean} whether this transport is available.\n     * @api public\n     */\n    check() {\n        return (!!WebSocket &&\n            !(\"__initialize\" in WebSocket && this.name === WS.prototype.name));\n    }\n}\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","export default (() => {\n    if (typeof self !== \"undefined\") {\n        return self;\n    }\n    else if (typeof window !== \"undefined\") {\n        return window;\n    }\n    else {\n        return Function(\"return this\")();\n    }\n})();\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// Open simple dialogs on top of an editor. Relies on dialog.css.\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  function dialogDiv(cm, template, bottom) {\n    var wrap = cm.getWrapperElement();\n    var dialog;\n    dialog = wrap.appendChild(document.createElement(\"div\"));\n    if (bottom)\n      dialog.className = \"CodeMirror-dialog CodeMirror-dialog-bottom\";\n    else\n      dialog.className = \"CodeMirror-dialog CodeMirror-dialog-top\";\n\n    if (typeof template == \"string\") {\n      dialog.innerHTML = template;\n    } else { // Assuming it's a detached DOM element.\n      dialog.appendChild(template);\n    }\n    CodeMirror.addClass(wrap, 'dialog-opened');\n    return dialog;\n  }\n\n  function closeNotification(cm, newVal) {\n    if (cm.state.currentNotificationClose)\n      cm.state.currentNotificationClose();\n    cm.state.currentNotificationClose = newVal;\n  }\n\n  CodeMirror.defineExtension(\"openDialog\", function(template, callback, options) {\n    if (!options) options = {};\n\n    closeNotification(this, null);\n\n    var dialog = dialogDiv(this, template, options.bottom);\n    var closed = false, me = this;\n    function close(newVal) {\n      if (typeof newVal == 'string') {\n        inp.value = newVal;\n      } else {\n        if (closed) return;\n        closed = true;\n        CodeMirror.rmClass(dialog.parentNode, 'dialog-opened');\n        dialog.parentNode.removeChild(dialog);\n        me.focus();\n\n        if (options.onClose) options.onClose(dialog);\n      }\n    }\n\n    var inp = dialog.getElementsByTagName(\"input\")[0], button;\n    if (inp) {\n      inp.focus();\n\n      if (options.value) {\n        inp.value = options.value;\n        if (options.selectValueOnOpen !== false) {\n          inp.select();\n        }\n      }\n\n      if (options.onInput)\n        CodeMirror.on(inp, \"input\", function(e) { options.onInput(e, inp.value, close);});\n      if (options.onKeyUp)\n        CodeMirror.on(inp, \"keyup\", function(e) {options.onKeyUp(e, inp.value, close);});\n\n      CodeMirror.on(inp, \"keydown\", function(e) {\n        if (options && options.onKeyDown && options.onKeyDown(e, inp.value, close)) { return; }\n        if (e.keyCode == 27 || (options.closeOnEnter !== false && e.keyCode == 13)) {\n          inp.blur();\n          CodeMirror.e_stop(e);\n          close();\n        }\n        if (e.keyCode == 13) callback(inp.value, e);\n      });\n\n      if (options.closeOnBlur !== false) CodeMirror.on(dialog, \"focusout\", function (evt) {\n        if (evt.relatedTarget !== null) close();\n      });\n    } else if (button = dialog.getElementsByTagName(\"button\")[0]) {\n      CodeMirror.on(button, \"click\", function() {\n        close();\n        me.focus();\n      });\n\n      if (options.closeOnBlur !== false) CodeMirror.on(button, \"blur\", close);\n\n      button.focus();\n    }\n    return close;\n  });\n\n  CodeMirror.defineExtension(\"openConfirm\", function(template, callbacks, options) {\n    closeNotification(this, null);\n    var dialog = dialogDiv(this, template, options && options.bottom);\n    var buttons = dialog.getElementsByTagName(\"button\");\n    var closed = false, me = this, blurring = 1;\n    function close() {\n      if (closed) return;\n      closed = true;\n      CodeMirror.rmClass(dialog.parentNode, 'dialog-opened');\n      dialog.parentNode.removeChild(dialog);\n      me.focus();\n    }\n    buttons[0].focus();\n    for (var i = 0; i < buttons.length; ++i) {\n      var b = buttons[i];\n      (function(callback) {\n        CodeMirror.on(b, \"click\", function(e) {\n          CodeMirror.e_preventDefault(e);\n          close();\n          if (callback) callback(me);\n        });\n      })(callbacks[i]);\n      CodeMirror.on(b, \"blur\", function() {\n        --blurring;\n        setTimeout(function() { if (blurring <= 0) close(); }, 200);\n      });\n      CodeMirror.on(b, \"focus\", function() { ++blurring; });\n    }\n  });\n\n  /*\n   * openNotification\n   * Opens a notification, that can be closed with an optional timer\n   * (default 5000ms timer) and always closes on click.\n   *\n   * If a notification is opened while another is opened, it will close the\n   * currently opened one and open the new one immediately.\n   */\n  CodeMirror.defineExtension(\"openNotification\", function(template, options) {\n    closeNotification(this, close);\n    var dialog = dialogDiv(this, template, options && options.bottom);\n    var closed = false, doneTimer;\n    var duration = options && typeof options.duration !== \"undefined\" ? options.duration : 5000;\n\n    function close() {\n      if (closed) return;\n      closed = true;\n      clearTimeout(doneTimer);\n      CodeMirror.rmClass(dialog.parentNode, 'dialog-opened');\n      dialog.parentNode.removeChild(dialog);\n    }\n\n    CodeMirror.on(dialog, 'click', function(e) {\n      CodeMirror.e_preventDefault(e);\n      close();\n    });\n\n    if (duration)\n      doneTimer = setTimeout(close, duration);\n\n    return close;\n  });\n});\n","var $ = require('../internals/export');\nvar is = require('../internals/same-value');\n\n// `Object.is` method\n// https://tc39.es/ecma262/#sec-object.is\n$({ target: 'Object', stat: true }, {\n  is: is\n});\n","const PACKET_TYPES = Object.create(null); // no Map = no polyfill\nPACKET_TYPES[\"open\"] = \"0\";\nPACKET_TYPES[\"close\"] = \"1\";\nPACKET_TYPES[\"ping\"] = \"2\";\nPACKET_TYPES[\"pong\"] = \"3\";\nPACKET_TYPES[\"message\"] = \"4\";\nPACKET_TYPES[\"upgrade\"] = \"5\";\nPACKET_TYPES[\"noop\"] = \"6\";\nconst PACKET_TYPES_REVERSE = Object.create(null);\nObject.keys(PACKET_TYPES).forEach(key => {\n    PACKET_TYPES_REVERSE[PACKET_TYPES[key]] = key;\n});\nconst ERROR_PACKET = { type: \"error\", data: \"parser error\" };\nexport { PACKET_TYPES, PACKET_TYPES_REVERSE, ERROR_PACKET };\n","import { PACKET_TYPES } from \"./commons.js\";\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        Object.prototype.toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\n// ArrayBuffer.isView method is not defined in IE10\nconst isView = obj => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj && obj.buffer instanceof ArrayBuffer;\n};\nconst encodePacket = ({ type, data }, supportsBinary, callback) => {\n    if (withNativeBlob && data instanceof Blob) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(data, callback);\n        }\n    }\n    else if (withNativeArrayBuffer &&\n        (data instanceof ArrayBuffer || isView(data))) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(new Blob([data]), callback);\n        }\n    }\n    // plain string\n    return callback(PACKET_TYPES[type] + (data || \"\"));\n};\nconst encodeBlobAsBase64 = (data, callback) => {\n    const fileReader = new FileReader();\n    fileReader.onload = function () {\n        const content = fileReader.result.split(\",\")[1];\n        callback(\"b\" + content);\n    };\n    return fileReader.readAsDataURL(data);\n};\nexport default encodePacket;\n","/*\n * base64-arraybuffer 1.0.1 <https://github.com/niklasvh/base64-arraybuffer>\n * Copyright (c) 2021 Niklas von Hertzen <https://hertzen.com>\n * Released under MIT License\n */\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n// Use a lookup table to find the index.\nvar lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (var i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\nvar encode = function (arraybuffer) {\n    var bytes = new Uint8Array(arraybuffer), i, len = bytes.length, base64 = '';\n    for (i = 0; i < len; i += 3) {\n        base64 += chars[bytes[i] >> 2];\n        base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n        base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n        base64 += chars[bytes[i + 2] & 63];\n    }\n    if (len % 3 === 2) {\n        base64 = base64.substring(0, base64.length - 1) + '=';\n    }\n    else if (len % 3 === 1) {\n        base64 = base64.substring(0, base64.length - 2) + '==';\n    }\n    return base64;\n};\nvar decode = function (base64) {\n    var bufferLength = base64.length * 0.75, len = base64.length, i, p = 0, encoded1, encoded2, encoded3, encoded4;\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n    var arraybuffer = new ArrayBuffer(bufferLength), bytes = new Uint8Array(arraybuffer);\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n    return arraybuffer;\n};\n\nexport { decode, encode };\n//# sourceMappingURL=base64-arraybuffer.es5.js.map\n","import { ERROR_PACKET, PACKET_TYPES_REVERSE } from \"./commons.js\";\nimport { decode } from \"base64-arraybuffer\";\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst decodePacket = (encodedPacket, binaryType) => {\n    if (typeof encodedPacket !== \"string\") {\n        return {\n            type: \"message\",\n            data: mapBinary(encodedPacket, binaryType)\n        };\n    }\n    const type = encodedPacket.charAt(0);\n    if (type === \"b\") {\n        return {\n            type: \"message\",\n            data: decodeBase64Packet(encodedPacket.substring(1), binaryType)\n        };\n    }\n    const packetType = PACKET_TYPES_REVERSE[type];\n    if (!packetType) {\n        return ERROR_PACKET;\n    }\n    return encodedPacket.length > 1\n        ? {\n            type: PACKET_TYPES_REVERSE[type],\n            data: encodedPacket.substring(1)\n        }\n        : {\n            type: PACKET_TYPES_REVERSE[type]\n        };\n};\nconst decodeBase64Packet = (data, binaryType) => {\n    if (withNativeArrayBuffer) {\n        const decoded = decode(data);\n        return mapBinary(decoded, binaryType);\n    }\n    else {\n        return { base64: true, data }; // fallback for old browsers\n    }\n};\nconst mapBinary = (data, binaryType) => {\n    switch (binaryType) {\n        case \"blob\":\n            return data instanceof ArrayBuffer ? new Blob([data]) : data;\n        case \"arraybuffer\":\n        default:\n            return data; // assuming the data is already an ArrayBuffer\n    }\n};\nexport default decodePacket;\n","import encodePacket from \"./encodePacket.js\";\nimport decodePacket from \"./decodePacket.js\";\nconst SEPARATOR = String.fromCharCode(30); // see https://en.wikipedia.org/wiki/Delimiter#ASCII_delimited_text\nconst encodePayload = (packets, callback) => {\n    // some packets may be added to the array while encoding, so the initial length must be saved\n    const length = packets.length;\n    const encodedPackets = new Array(length);\n    let count = 0;\n    packets.forEach((packet, i) => {\n        // force base64 encoding for binary packets\n        encodePacket(packet, false, encodedPacket => {\n            encodedPackets[i] = encodedPacket;\n            if (++count === length) {\n                callback(encodedPackets.join(SEPARATOR));\n            }\n        });\n    });\n};\nconst decodePayload = (encodedPayload, binaryType) => {\n    const encodedPackets = encodedPayload.split(SEPARATOR);\n    const packets = [];\n    for (let i = 0; i < encodedPackets.length; i++) {\n        const decodedPacket = decodePacket(encodedPackets[i], binaryType);\n        packets.push(decodedPacket);\n        if (decodedPacket.type === \"error\") {\n            break;\n        }\n    }\n    return packets;\n};\nexport const protocol = 4;\nexport { encodePacket, encodePayload, decodePacket, decodePayload };\n","import { decodePacket } from \"engine.io-parser\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions } from \"./util.js\";\nexport class Transport extends Emitter {\n    /**\n     * Transport abstract constructor.\n     *\n     * @param {Object} options.\n     * @api private\n     */\n    constructor(opts) {\n        super();\n        this.writable = false;\n        installTimerFunctions(this, opts);\n        this.opts = opts;\n        this.query = opts.query;\n        this.readyState = \"\";\n        this.socket = opts.socket;\n    }\n    /**\n     * Emits an error.\n     *\n     * @param {String} str\n     * @return {Transport} for chaining\n     * @api protected\n     */\n    onError(msg, desc) {\n        const err = new Error(msg);\n        // @ts-ignore\n        err.type = \"TransportError\";\n        // @ts-ignore\n        err.description = desc;\n        super.emit(\"error\", err);\n        return this;\n    }\n    /**\n     * Opens the transport.\n     *\n     * @api public\n     */\n    open() {\n        if (\"closed\" === this.readyState || \"\" === this.readyState) {\n            this.readyState = \"opening\";\n            this.doOpen();\n        }\n        return this;\n    }\n    /**\n     * Closes the transport.\n     *\n     * @api public\n     */\n    close() {\n        if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n            this.doClose();\n            this.onClose();\n        }\n        return this;\n    }\n    /**\n     * Sends multiple packets.\n     *\n     * @param {Array} packets\n     * @api public\n     */\n    send(packets) {\n        if (\"open\" === this.readyState) {\n            this.write(packets);\n        }\n        else {\n            // this might happen if the transport was silently closed in the beforeunload event handler\n        }\n    }\n    /**\n     * Called upon open\n     *\n     * @api protected\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        this.writable = true;\n        super.emit(\"open\");\n    }\n    /**\n     * Called with data.\n     *\n     * @param {String} data\n     * @api protected\n     */\n    onData(data) {\n        const packet = decodePacket(data, this.socket.binaryType);\n        this.onPacket(packet);\n    }\n    /**\n     * Called with a decoded packet.\n     *\n     * @api protected\n     */\n    onPacket(packet) {\n        super.emit(\"packet\", packet);\n    }\n    /**\n     * Called upon close.\n     *\n     * @api protected\n     */\n    onClose() {\n        this.readyState = \"closed\";\n        super.emit(\"close\");\n    }\n}\n","'use strict';\nvar collection = require('../internals/collection');\nvar collectionStrong = require('../internals/collection-strong');\n\n// `Map` constructor\n// https://tc39.es/ecma262/#sec-map-objects\ncollection('Map', function (init) {\n  return function Map() { return init(this, arguments.length ? arguments[0] : undefined); };\n}, collectionStrong);\n","/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\n\nexports.encode = function (obj) {\n  var str = '';\n\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      if (str.length) str += '&';\n      str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n    }\n  }\n\n  return str;\n};\n\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\n\nexports.decode = function(qs){\n  var qry = {};\n  var pairs = qs.split('&');\n  for (var i = 0, l = pairs.length; i < l; i++) {\n    var pair = pairs[i].split('=');\n    qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n  }\n  return qry;\n};\n","/**\n * Parses an URI\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\n\nvar re = /^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\nvar parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\n\nmodule.exports = function parseuri(str) {\n    var src = str,\n        b = str.indexOf('['),\n        e = str.indexOf(']');\n\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n\n    var m = re.exec(str || ''),\n        uri = {},\n        i = 14;\n\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n\n    uri.pathNames = pathNames(uri, uri['path']);\n    uri.queryKey = queryKey(uri, uri['query']);\n\n    return uri;\n};\n\nfunction pathNames(obj, path) {\n    var regx = /\\/{2,9}/g,\n        names = path.replace(regx, \"/\").split(\"/\");\n\n    if (path.substr(0, 1) == '/' || path.length === 0) {\n        names.splice(0, 1);\n    }\n    if (path.substr(path.length - 1, 1) == '/') {\n        names.splice(names.length - 1, 1);\n    }\n\n    return names;\n}\n\nfunction queryKey(uri, query) {\n    var data = {};\n\n    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {\n        if ($1) {\n            data[$1] = $2;\n        }\n    });\n\n    return data;\n}\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// This is CodeMirror (https://codemirror.net), a code editor\n// implemented in JavaScript on top of the browser's DOM.\n//\n// You can find some technical background for some of the code below\n// at http://marijnhaverbeke.nl/blog/#cm-internals .\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.CodeMirror = factory());\n}(this, (function () { 'use strict';\n\n  // Kludges for bugs and behavior differences that can't be feature\n  // detected are enabled based on userAgent etc sniffing.\n  var userAgent = navigator.userAgent;\n  var platform = navigator.platform;\n\n  var gecko = /gecko\\/\\d/i.test(userAgent);\n  var ie_upto10 = /MSIE \\d/.test(userAgent);\n  var ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(userAgent);\n  var edge = /Edge\\/(\\d+)/.exec(userAgent);\n  var ie = ie_upto10 || ie_11up || edge;\n  var ie_version = ie && (ie_upto10 ? document.documentMode || 6 : +(edge || ie_11up)[1]);\n  var webkit = !edge && /WebKit\\//.test(userAgent);\n  var qtwebkit = webkit && /Qt\\/\\d+\\.\\d+/.test(userAgent);\n  var chrome = !edge && /Chrome\\//.test(userAgent);\n  var presto = /Opera\\//.test(userAgent);\n  var safari = /Apple Computer/.test(navigator.vendor);\n  var mac_geMountainLion = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(userAgent);\n  var phantom = /PhantomJS/.test(userAgent);\n\n  var ios = safari && (/Mobile\\/\\w+/.test(userAgent) || navigator.maxTouchPoints > 2);\n  var android = /Android/.test(userAgent);\n  // This is woefully incomplete. Suggestions for alternative methods welcome.\n  var mobile = ios || android || /webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);\n  var mac = ios || /Mac/.test(platform);\n  var chromeOS = /\\bCrOS\\b/.test(userAgent);\n  var windows = /win/i.test(platform);\n\n  var presto_version = presto && userAgent.match(/Version\\/(\\d*\\.\\d*)/);\n  if (presto_version) { presto_version = Number(presto_version[1]); }\n  if (presto_version && presto_version >= 15) { presto = false; webkit = true; }\n  // Some browsers use the wrong event properties to signal cmd/ctrl on OS X\n  var flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11));\n  var captureRightClick = gecko || (ie && ie_version >= 9);\n\n  function classTest(cls) { return new RegExp(\"(^|\\\\s)\" + cls + \"(?:$|\\\\s)\\\\s*\") }\n\n  var rmClass = function(node, cls) {\n    var current = node.className;\n    var match = classTest(cls).exec(current);\n    if (match) {\n      var after = current.slice(match.index + match[0].length);\n      node.className = current.slice(0, match.index) + (after ? match[1] + after : \"\");\n    }\n  };\n\n  function removeChildren(e) {\n    for (var count = e.childNodes.length; count > 0; --count)\n      { e.removeChild(e.firstChild); }\n    return e\n  }\n\n  function removeChildrenAndAdd(parent, e) {\n    return removeChildren(parent).appendChild(e)\n  }\n\n  function elt(tag, content, className, style) {\n    var e = document.createElement(tag);\n    if (className) { e.className = className; }\n    if (style) { e.style.cssText = style; }\n    if (typeof content == \"string\") { e.appendChild(document.createTextNode(content)); }\n    else if (content) { for (var i = 0; i < content.length; ++i) { e.appendChild(content[i]); } }\n    return e\n  }\n  // wrapper for elt, which removes the elt from the accessibility tree\n  function eltP(tag, content, className, style) {\n    var e = elt(tag, content, className, style);\n    e.setAttribute(\"role\", \"presentation\");\n    return e\n  }\n\n  var range;\n  if (document.createRange) { range = function(node, start, end, endNode) {\n    var r = document.createRange();\n    r.setEnd(endNode || node, end);\n    r.setStart(node, start);\n    return r\n  }; }\n  else { range = function(node, start, end) {\n    var r = document.body.createTextRange();\n    try { r.moveToElementText(node.parentNode); }\n    catch(e) { return r }\n    r.collapse(true);\n    r.moveEnd(\"character\", end);\n    r.moveStart(\"character\", start);\n    return r\n  }; }\n\n  function contains(parent, child) {\n    if (child.nodeType == 3) // Android browser always returns false when child is a textnode\n      { child = child.parentNode; }\n    if (parent.contains)\n      { return parent.contains(child) }\n    do {\n      if (child.nodeType == 11) { child = child.host; }\n      if (child == parent) { return true }\n    } while (child = child.parentNode)\n  }\n\n  function activeElt() {\n    // IE and Edge may throw an \"Unspecified Error\" when accessing document.activeElement.\n    // IE < 10 will throw when accessed while the page is loading or in an iframe.\n    // IE > 9 and Edge will throw when accessed in an iframe if document.body is unavailable.\n    var activeElement;\n    try {\n      activeElement = document.activeElement;\n    } catch(e) {\n      activeElement = document.body || null;\n    }\n    while (activeElement && activeElement.shadowRoot && activeElement.shadowRoot.activeElement)\n      { activeElement = activeElement.shadowRoot.activeElement; }\n    return activeElement\n  }\n\n  function addClass(node, cls) {\n    var current = node.className;\n    if (!classTest(cls).test(current)) { node.className += (current ? \" \" : \"\") + cls; }\n  }\n  function joinClasses(a, b) {\n    var as = a.split(\" \");\n    for (var i = 0; i < as.length; i++)\n      { if (as[i] && !classTest(as[i]).test(b)) { b += \" \" + as[i]; } }\n    return b\n  }\n\n  var selectInput = function(node) { node.select(); };\n  if (ios) // Mobile Safari apparently has a bug where select() is broken.\n    { selectInput = function(node) { node.selectionStart = 0; node.selectionEnd = node.value.length; }; }\n  else if (ie) // Suppress mysterious IE10 errors\n    { selectInput = function(node) { try { node.select(); } catch(_e) {} }; }\n\n  function bind(f) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    return function(){return f.apply(null, args)}\n  }\n\n  function copyObj(obj, target, overwrite) {\n    if (!target) { target = {}; }\n    for (var prop in obj)\n      { if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop)))\n        { target[prop] = obj[prop]; } }\n    return target\n  }\n\n  // Counts the column offset in a string, taking tabs into account.\n  // Used mostly to find indentation.\n  function countColumn(string, end, tabSize, startIndex, startValue) {\n    if (end == null) {\n      end = string.search(/[^\\s\\u00a0]/);\n      if (end == -1) { end = string.length; }\n    }\n    for (var i = startIndex || 0, n = startValue || 0;;) {\n      var nextTab = string.indexOf(\"\\t\", i);\n      if (nextTab < 0 || nextTab >= end)\n        { return n + (end - i) }\n      n += nextTab - i;\n      n += tabSize - (n % tabSize);\n      i = nextTab + 1;\n    }\n  }\n\n  var Delayed = function() {\n    this.id = null;\n    this.f = null;\n    this.time = 0;\n    this.handler = bind(this.onTimeout, this);\n  };\n  Delayed.prototype.onTimeout = function (self) {\n    self.id = 0;\n    if (self.time <= +new Date) {\n      self.f();\n    } else {\n      setTimeout(self.handler, self.time - +new Date);\n    }\n  };\n  Delayed.prototype.set = function (ms, f) {\n    this.f = f;\n    var time = +new Date + ms;\n    if (!this.id || time < this.time) {\n      clearTimeout(this.id);\n      this.id = setTimeout(this.handler, ms);\n      this.time = time;\n    }\n  };\n\n  function indexOf(array, elt) {\n    for (var i = 0; i < array.length; ++i)\n      { if (array[i] == elt) { return i } }\n    return -1\n  }\n\n  // Number of pixels added to scroller and sizer to hide scrollbar\n  var scrollerGap = 50;\n\n  // Returned or thrown by various protocols to signal 'I'm not\n  // handling this'.\n  var Pass = {toString: function(){return \"CodeMirror.Pass\"}};\n\n  // Reused option objects for setSelection & friends\n  var sel_dontScroll = {scroll: false}, sel_mouse = {origin: \"*mouse\"}, sel_move = {origin: \"+move\"};\n\n  // The inverse of countColumn -- find the offset that corresponds to\n  // a particular column.\n  function findColumn(string, goal, tabSize) {\n    for (var pos = 0, col = 0;;) {\n      var nextTab = string.indexOf(\"\\t\", pos);\n      if (nextTab == -1) { nextTab = string.length; }\n      var skipped = nextTab - pos;\n      if (nextTab == string.length || col + skipped >= goal)\n        { return pos + Math.min(skipped, goal - col) }\n      col += nextTab - pos;\n      col += tabSize - (col % tabSize);\n      pos = nextTab + 1;\n      if (col >= goal) { return pos }\n    }\n  }\n\n  var spaceStrs = [\"\"];\n  function spaceStr(n) {\n    while (spaceStrs.length <= n)\n      { spaceStrs.push(lst(spaceStrs) + \" \"); }\n    return spaceStrs[n]\n  }\n\n  function lst(arr) { return arr[arr.length-1] }\n\n  function map(array, f) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = f(array[i], i); }\n    return out\n  }\n\n  function insertSorted(array, value, score) {\n    var pos = 0, priority = score(value);\n    while (pos < array.length && score(array[pos]) <= priority) { pos++; }\n    array.splice(pos, 0, value);\n  }\n\n  function nothing() {}\n\n  function createObj(base, props) {\n    var inst;\n    if (Object.create) {\n      inst = Object.create(base);\n    } else {\n      nothing.prototype = base;\n      inst = new nothing();\n    }\n    if (props) { copyObj(props, inst); }\n    return inst\n  }\n\n  var nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;\n  function isWordCharBasic(ch) {\n    return /\\w/.test(ch) || ch > \"\\x80\" &&\n      (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch))\n  }\n  function isWordChar(ch, helper) {\n    if (!helper) { return isWordCharBasic(ch) }\n    if (helper.source.indexOf(\"\\\\w\") > -1 && isWordCharBasic(ch)) { return true }\n    return helper.test(ch)\n  }\n\n  function isEmpty(obj) {\n    for (var n in obj) { if (obj.hasOwnProperty(n) && obj[n]) { return false } }\n    return true\n  }\n\n  // Extending unicode characters. A series of a non-extending char +\n  // any number of extending chars is treated as a single unit as far\n  // as editing and measuring is concerned. This is not fully correct,\n  // since some scripts/fonts/browsers also treat other configurations\n  // of code points as a group.\n  var extendingChars = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;\n  function isExtendingChar(ch) { return ch.charCodeAt(0) >= 768 && extendingChars.test(ch) }\n\n  // Returns a number from the range [`0`; `str.length`] unless `pos` is outside that range.\n  function skipExtendingChars(str, pos, dir) {\n    while ((dir < 0 ? pos > 0 : pos < str.length) && isExtendingChar(str.charAt(pos))) { pos += dir; }\n    return pos\n  }\n\n  // Returns the value from the range [`from`; `to`] that satisfies\n  // `pred` and is closest to `from`. Assumes that at least `to`\n  // satisfies `pred`. Supports `from` being greater than `to`.\n  function findFirst(pred, from, to) {\n    // At any point we are certain `to` satisfies `pred`, don't know\n    // whether `from` does.\n    var dir = from > to ? -1 : 1;\n    for (;;) {\n      if (from == to) { return from }\n      var midF = (from + to) / 2, mid = dir < 0 ? Math.ceil(midF) : Math.floor(midF);\n      if (mid == from) { return pred(mid) ? from : to }\n      if (pred(mid)) { to = mid; }\n      else { from = mid + dir; }\n    }\n  }\n\n  // BIDI HELPERS\n\n  function iterateBidiSections(order, from, to, f) {\n    if (!order) { return f(from, to, \"ltr\", 0) }\n    var found = false;\n    for (var i = 0; i < order.length; ++i) {\n      var part = order[i];\n      if (part.from < to && part.to > from || from == to && part.to == from) {\n        f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? \"rtl\" : \"ltr\", i);\n        found = true;\n      }\n    }\n    if (!found) { f(from, to, \"ltr\"); }\n  }\n\n  var bidiOther = null;\n  function getBidiPartAt(order, ch, sticky) {\n    var found;\n    bidiOther = null;\n    for (var i = 0; i < order.length; ++i) {\n      var cur = order[i];\n      if (cur.from < ch && cur.to > ch) { return i }\n      if (cur.to == ch) {\n        if (cur.from != cur.to && sticky == \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n      if (cur.from == ch) {\n        if (cur.from != cur.to && sticky != \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n    }\n    return found != null ? found : bidiOther\n  }\n\n  // Bidirectional ordering algorithm\n  // See http://unicode.org/reports/tr9/tr9-13.html for the algorithm\n  // that this (partially) implements.\n\n  // One-char codes used for character types:\n  // L (L):   Left-to-Right\n  // R (R):   Right-to-Left\n  // r (AL):  Right-to-Left Arabic\n  // 1 (EN):  European Number\n  // + (ES):  European Number Separator\n  // % (ET):  European Number Terminator\n  // n (AN):  Arabic Number\n  // , (CS):  Common Number Separator\n  // m (NSM): Non-Spacing Mark\n  // b (BN):  Boundary Neutral\n  // s (B):   Paragraph Separator\n  // t (S):   Segment Separator\n  // w (WS):  Whitespace\n  // N (ON):  Other Neutrals\n\n  // Returns null if characters are ordered as they appear\n  // (left-to-right), or an array of sections ({from, to, level}\n  // objects) in the order in which they occur visually.\n  var bidiOrdering = (function() {\n    // Character types for codepoints 0 to 0xff\n    var lowTypes = \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\";\n    // Character types for codepoints 0x600 to 0x6f9\n    var arabicTypes = \"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\";\n    function charType(code) {\n      if (code <= 0xf7) { return lowTypes.charAt(code) }\n      else if (0x590 <= code && code <= 0x5f4) { return \"R\" }\n      else if (0x600 <= code && code <= 0x6f9) { return arabicTypes.charAt(code - 0x600) }\n      else if (0x6ee <= code && code <= 0x8ac) { return \"r\" }\n      else if (0x2000 <= code && code <= 0x200b) { return \"w\" }\n      else if (code == 0x200c) { return \"b\" }\n      else { return \"L\" }\n    }\n\n    var bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;\n    var isNeutral = /[stwN]/, isStrong = /[LRr]/, countsAsLeft = /[Lb1n]/, countsAsNum = /[1n]/;\n\n    function BidiSpan(level, from, to) {\n      this.level = level;\n      this.from = from; this.to = to;\n    }\n\n    return function(str, direction) {\n      var outerType = direction == \"ltr\" ? \"L\" : \"R\";\n\n      if (str.length == 0 || direction == \"ltr\" && !bidiRE.test(str)) { return false }\n      var len = str.length, types = [];\n      for (var i = 0; i < len; ++i)\n        { types.push(charType(str.charCodeAt(i))); }\n\n      // W1. Examine each non-spacing mark (NSM) in the level run, and\n      // change the type of the NSM to the type of the previous\n      // character. If the NSM is at the start of the level run, it will\n      // get the type of sor.\n      for (var i$1 = 0, prev = outerType; i$1 < len; ++i$1) {\n        var type = types[i$1];\n        if (type == \"m\") { types[i$1] = prev; }\n        else { prev = type; }\n      }\n\n      // W2. Search backwards from each instance of a European number\n      // until the first strong type (R, L, AL, or sor) is found. If an\n      // AL is found, change the type of the European number to Arabic\n      // number.\n      // W3. Change all ALs to R.\n      for (var i$2 = 0, cur = outerType; i$2 < len; ++i$2) {\n        var type$1 = types[i$2];\n        if (type$1 == \"1\" && cur == \"r\") { types[i$2] = \"n\"; }\n        else if (isStrong.test(type$1)) { cur = type$1; if (type$1 == \"r\") { types[i$2] = \"R\"; } }\n      }\n\n      // W4. A single European separator between two European numbers\n      // changes to a European number. A single common separator between\n      // two numbers of the same type changes to that type.\n      for (var i$3 = 1, prev$1 = types[0]; i$3 < len - 1; ++i$3) {\n        var type$2 = types[i$3];\n        if (type$2 == \"+\" && prev$1 == \"1\" && types[i$3+1] == \"1\") { types[i$3] = \"1\"; }\n        else if (type$2 == \",\" && prev$1 == types[i$3+1] &&\n                 (prev$1 == \"1\" || prev$1 == \"n\")) { types[i$3] = prev$1; }\n        prev$1 = type$2;\n      }\n\n      // W5. A sequence of European terminators adjacent to European\n      // numbers changes to all European numbers.\n      // W6. Otherwise, separators and terminators change to Other\n      // Neutral.\n      for (var i$4 = 0; i$4 < len; ++i$4) {\n        var type$3 = types[i$4];\n        if (type$3 == \",\") { types[i$4] = \"N\"; }\n        else if (type$3 == \"%\") {\n          var end = (void 0);\n          for (end = i$4 + 1; end < len && types[end] == \"%\"; ++end) {}\n          var replace = (i$4 && types[i$4-1] == \"!\") || (end < len && types[end] == \"1\") ? \"1\" : \"N\";\n          for (var j = i$4; j < end; ++j) { types[j] = replace; }\n          i$4 = end - 1;\n        }\n      }\n\n      // W7. Search backwards from each instance of a European number\n      // until the first strong type (R, L, or sor) is found. If an L is\n      // found, then change the type of the European number to L.\n      for (var i$5 = 0, cur$1 = outerType; i$5 < len; ++i$5) {\n        var type$4 = types[i$5];\n        if (cur$1 == \"L\" && type$4 == \"1\") { types[i$5] = \"L\"; }\n        else if (isStrong.test(type$4)) { cur$1 = type$4; }\n      }\n\n      // N1. A sequence of neutrals takes the direction of the\n      // surrounding strong text if the text on both sides has the same\n      // direction. European and Arabic numbers act as if they were R in\n      // terms of their influence on neutrals. Start-of-level-run (sor)\n      // and end-of-level-run (eor) are used at level run boundaries.\n      // N2. Any remaining neutrals take the embedding direction.\n      for (var i$6 = 0; i$6 < len; ++i$6) {\n        if (isNeutral.test(types[i$6])) {\n          var end$1 = (void 0);\n          for (end$1 = i$6 + 1; end$1 < len && isNeutral.test(types[end$1]); ++end$1) {}\n          var before = (i$6 ? types[i$6-1] : outerType) == \"L\";\n          var after = (end$1 < len ? types[end$1] : outerType) == \"L\";\n          var replace$1 = before == after ? (before ? \"L\" : \"R\") : outerType;\n          for (var j$1 = i$6; j$1 < end$1; ++j$1) { types[j$1] = replace$1; }\n          i$6 = end$1 - 1;\n        }\n      }\n\n      // Here we depart from the documented algorithm, in order to avoid\n      // building up an actual levels array. Since there are only three\n      // levels (0, 1, 2) in an implementation that doesn't take\n      // explicit embedding into account, we can build up the order on\n      // the fly, without following the level-based algorithm.\n      var order = [], m;\n      for (var i$7 = 0; i$7 < len;) {\n        if (countsAsLeft.test(types[i$7])) {\n          var start = i$7;\n          for (++i$7; i$7 < len && countsAsLeft.test(types[i$7]); ++i$7) {}\n          order.push(new BidiSpan(0, start, i$7));\n        } else {\n          var pos = i$7, at = order.length, isRTL = direction == \"rtl\" ? 1 : 0;\n          for (++i$7; i$7 < len && types[i$7] != \"L\"; ++i$7) {}\n          for (var j$2 = pos; j$2 < i$7;) {\n            if (countsAsNum.test(types[j$2])) {\n              if (pos < j$2) { order.splice(at, 0, new BidiSpan(1, pos, j$2)); at += isRTL; }\n              var nstart = j$2;\n              for (++j$2; j$2 < i$7 && countsAsNum.test(types[j$2]); ++j$2) {}\n              order.splice(at, 0, new BidiSpan(2, nstart, j$2));\n              at += isRTL;\n              pos = j$2;\n            } else { ++j$2; }\n          }\n          if (pos < i$7) { order.splice(at, 0, new BidiSpan(1, pos, i$7)); }\n        }\n      }\n      if (direction == \"ltr\") {\n        if (order[0].level == 1 && (m = str.match(/^\\s+/))) {\n          order[0].from = m[0].length;\n          order.unshift(new BidiSpan(0, 0, m[0].length));\n        }\n        if (lst(order).level == 1 && (m = str.match(/\\s+$/))) {\n          lst(order).to -= m[0].length;\n          order.push(new BidiSpan(0, len - m[0].length, len));\n        }\n      }\n\n      return direction == \"rtl\" ? order.reverse() : order\n    }\n  })();\n\n  // Get the bidi ordering for the given line (and cache it). Returns\n  // false for lines that are fully left-to-right, and an array of\n  // BidiSpan objects otherwise.\n  function getOrder(line, direction) {\n    var order = line.order;\n    if (order == null) { order = line.order = bidiOrdering(line.text, direction); }\n    return order\n  }\n\n  // EVENT HANDLING\n\n  // Lightweight event framework. on/off also work on DOM nodes,\n  // registering native DOM handlers.\n\n  var noHandlers = [];\n\n  var on = function(emitter, type, f) {\n    if (emitter.addEventListener) {\n      emitter.addEventListener(type, f, false);\n    } else if (emitter.attachEvent) {\n      emitter.attachEvent(\"on\" + type, f);\n    } else {\n      var map = emitter._handlers || (emitter._handlers = {});\n      map[type] = (map[type] || noHandlers).concat(f);\n    }\n  };\n\n  function getHandlers(emitter, type) {\n    return emitter._handlers && emitter._handlers[type] || noHandlers\n  }\n\n  function off(emitter, type, f) {\n    if (emitter.removeEventListener) {\n      emitter.removeEventListener(type, f, false);\n    } else if (emitter.detachEvent) {\n      emitter.detachEvent(\"on\" + type, f);\n    } else {\n      var map = emitter._handlers, arr = map && map[type];\n      if (arr) {\n        var index = indexOf(arr, f);\n        if (index > -1)\n          { map[type] = arr.slice(0, index).concat(arr.slice(index + 1)); }\n      }\n    }\n  }\n\n  function signal(emitter, type /*, values...*/) {\n    var handlers = getHandlers(emitter, type);\n    if (!handlers.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2);\n    for (var i = 0; i < handlers.length; ++i) { handlers[i].apply(null, args); }\n  }\n\n  // The DOM events that CodeMirror handles can be overridden by\n  // registering a (non-DOM) handler on the editor for the event name,\n  // and preventDefault-ing the event in that handler.\n  function signalDOMEvent(cm, e, override) {\n    if (typeof e == \"string\")\n      { e = {type: e, preventDefault: function() { this.defaultPrevented = true; }}; }\n    signal(cm, override || e.type, cm, e);\n    return e_defaultPrevented(e) || e.codemirrorIgnore\n  }\n\n  function signalCursorActivity(cm) {\n    var arr = cm._handlers && cm._handlers.cursorActivity;\n    if (!arr) { return }\n    var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = []);\n    for (var i = 0; i < arr.length; ++i) { if (indexOf(set, arr[i]) == -1)\n      { set.push(arr[i]); } }\n  }\n\n  function hasHandler(emitter, type) {\n    return getHandlers(emitter, type).length > 0\n  }\n\n  // Add on and off methods to a constructor's prototype, to make\n  // registering events on such objects more convenient.\n  function eventMixin(ctor) {\n    ctor.prototype.on = function(type, f) {on(this, type, f);};\n    ctor.prototype.off = function(type, f) {off(this, type, f);};\n  }\n\n  // Due to the fact that we still support jurassic IE versions, some\n  // compatibility wrappers are needed.\n\n  function e_preventDefault(e) {\n    if (e.preventDefault) { e.preventDefault(); }\n    else { e.returnValue = false; }\n  }\n  function e_stopPropagation(e) {\n    if (e.stopPropagation) { e.stopPropagation(); }\n    else { e.cancelBubble = true; }\n  }\n  function e_defaultPrevented(e) {\n    return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false\n  }\n  function e_stop(e) {e_preventDefault(e); e_stopPropagation(e);}\n\n  function e_target(e) {return e.target || e.srcElement}\n  function e_button(e) {\n    var b = e.which;\n    if (b == null) {\n      if (e.button & 1) { b = 1; }\n      else if (e.button & 2) { b = 3; }\n      else if (e.button & 4) { b = 2; }\n    }\n    if (mac && e.ctrlKey && b == 1) { b = 3; }\n    return b\n  }\n\n  // Detect drag-and-drop\n  var dragAndDrop = function() {\n    // There is *some* kind of drag-and-drop support in IE6-8, but I\n    // couldn't get it to work yet.\n    if (ie && ie_version < 9) { return false }\n    var div = elt('div');\n    return \"draggable\" in div || \"dragDrop\" in div\n  }();\n\n  var zwspSupported;\n  function zeroWidthElement(measure) {\n    if (zwspSupported == null) {\n      var test = elt(\"span\", \"\\u200b\");\n      removeChildrenAndAdd(measure, elt(\"span\", [test, document.createTextNode(\"x\")]));\n      if (measure.firstChild.offsetHeight != 0)\n        { zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8); }\n    }\n    var node = zwspSupported ? elt(\"span\", \"\\u200b\") :\n      elt(\"span\", \"\\u00a0\", null, \"display: inline-block; width: 1px; margin-right: -1px\");\n    node.setAttribute(\"cm-text\", \"\");\n    return node\n  }\n\n  // Feature-detect IE's crummy client rect reporting for bidi text\n  var badBidiRects;\n  function hasBadBidiRects(measure) {\n    if (badBidiRects != null) { return badBidiRects }\n    var txt = removeChildrenAndAdd(measure, document.createTextNode(\"A\\u062eA\"));\n    var r0 = range(txt, 0, 1).getBoundingClientRect();\n    var r1 = range(txt, 1, 2).getBoundingClientRect();\n    removeChildren(measure);\n    if (!r0 || r0.left == r0.right) { return false } // Safari returns null in some cases (#2780)\n    return badBidiRects = (r1.right - r0.right < 3)\n  }\n\n  // See if \"\".split is the broken IE version, if so, provide an\n  // alternative way to split lines.\n  var splitLinesAuto = \"\\n\\nb\".split(/\\n/).length != 3 ? function (string) {\n    var pos = 0, result = [], l = string.length;\n    while (pos <= l) {\n      var nl = string.indexOf(\"\\n\", pos);\n      if (nl == -1) { nl = string.length; }\n      var line = string.slice(pos, string.charAt(nl - 1) == \"\\r\" ? nl - 1 : nl);\n      var rt = line.indexOf(\"\\r\");\n      if (rt != -1) {\n        result.push(line.slice(0, rt));\n        pos += rt + 1;\n      } else {\n        result.push(line);\n        pos = nl + 1;\n      }\n    }\n    return result\n  } : function (string) { return string.split(/\\r\\n?|\\n/); };\n\n  var hasSelection = window.getSelection ? function (te) {\n    try { return te.selectionStart != te.selectionEnd }\n    catch(e) { return false }\n  } : function (te) {\n    var range;\n    try {range = te.ownerDocument.selection.createRange();}\n    catch(e) {}\n    if (!range || range.parentElement() != te) { return false }\n    return range.compareEndPoints(\"StartToEnd\", range) != 0\n  };\n\n  var hasCopyEvent = (function () {\n    var e = elt(\"div\");\n    if (\"oncopy\" in e) { return true }\n    e.setAttribute(\"oncopy\", \"return;\");\n    return typeof e.oncopy == \"function\"\n  })();\n\n  var badZoomedRects = null;\n  function hasBadZoomedRects(measure) {\n    if (badZoomedRects != null) { return badZoomedRects }\n    var node = removeChildrenAndAdd(measure, elt(\"span\", \"x\"));\n    var normal = node.getBoundingClientRect();\n    var fromRange = range(node, 0, 1).getBoundingClientRect();\n    return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1\n  }\n\n  // Known modes, by name and by MIME\n  var modes = {}, mimeModes = {};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  function defineMode(name, mode) {\n    if (arguments.length > 2)\n      { mode.dependencies = Array.prototype.slice.call(arguments, 2); }\n    modes[name] = mode;\n  }\n\n  function defineMIME(mime, spec) {\n    mimeModes[mime] = spec;\n  }\n\n  // Given a MIME type, a {name, ...options} config object, or a name\n  // string, return a mode config object.\n  function resolveMode(spec) {\n    if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec)) {\n      spec = mimeModes[spec];\n    } else if (spec && typeof spec.name == \"string\" && mimeModes.hasOwnProperty(spec.name)) {\n      var found = mimeModes[spec.name];\n      if (typeof found == \"string\") { found = {name: found}; }\n      spec = createObj(found, spec);\n      spec.name = found.name;\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec)) {\n      return resolveMode(\"application/xml\")\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+json$/.test(spec)) {\n      return resolveMode(\"application/json\")\n    }\n    if (typeof spec == \"string\") { return {name: spec} }\n    else { return spec || {name: \"null\"} }\n  }\n\n  // Given a mode spec (anything that resolveMode accepts), find and\n  // initialize an actual mode object.\n  function getMode(options, spec) {\n    spec = resolveMode(spec);\n    var mfactory = modes[spec.name];\n    if (!mfactory) { return getMode(options, \"text/plain\") }\n    var modeObj = mfactory(options, spec);\n    if (modeExtensions.hasOwnProperty(spec.name)) {\n      var exts = modeExtensions[spec.name];\n      for (var prop in exts) {\n        if (!exts.hasOwnProperty(prop)) { continue }\n        if (modeObj.hasOwnProperty(prop)) { modeObj[\"_\" + prop] = modeObj[prop]; }\n        modeObj[prop] = exts[prop];\n      }\n    }\n    modeObj.name = spec.name;\n    if (spec.helperType) { modeObj.helperType = spec.helperType; }\n    if (spec.modeProps) { for (var prop$1 in spec.modeProps)\n      { modeObj[prop$1] = spec.modeProps[prop$1]; } }\n\n    return modeObj\n  }\n\n  // This can be used to attach properties to mode objects from\n  // outside the actual mode definition.\n  var modeExtensions = {};\n  function extendMode(mode, properties) {\n    var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : (modeExtensions[mode] = {});\n    copyObj(properties, exts);\n  }\n\n  function copyState(mode, state) {\n    if (state === true) { return state }\n    if (mode.copyState) { return mode.copyState(state) }\n    var nstate = {};\n    for (var n in state) {\n      var val = state[n];\n      if (val instanceof Array) { val = val.concat([]); }\n      nstate[n] = val;\n    }\n    return nstate\n  }\n\n  // Given a mode and a state (for that mode), find the inner mode and\n  // state at the position that the state refers to.\n  function innerMode(mode, state) {\n    var info;\n    while (mode.innerMode) {\n      info = mode.innerMode(state);\n      if (!info || info.mode == mode) { break }\n      state = info.state;\n      mode = info.mode;\n    }\n    return info || {mode: mode, state: state}\n  }\n\n  function startState(mode, a1, a2) {\n    return mode.startState ? mode.startState(a1, a2) : true\n  }\n\n  // STRING STREAM\n\n  // Fed to the mode parsers, provides helper functions to make\n  // parsers more succinct.\n\n  var StringStream = function(string, tabSize, lineOracle) {\n    this.pos = this.start = 0;\n    this.string = string;\n    this.tabSize = tabSize || 8;\n    this.lastColumnPos = this.lastColumnValue = 0;\n    this.lineStart = 0;\n    this.lineOracle = lineOracle;\n  };\n\n  StringStream.prototype.eol = function () {return this.pos >= this.string.length};\n  StringStream.prototype.sol = function () {return this.pos == this.lineStart};\n  StringStream.prototype.peek = function () {return this.string.charAt(this.pos) || undefined};\n  StringStream.prototype.next = function () {\n    if (this.pos < this.string.length)\n      { return this.string.charAt(this.pos++) }\n  };\n  StringStream.prototype.eat = function (match) {\n    var ch = this.string.charAt(this.pos);\n    var ok;\n    if (typeof match == \"string\") { ok = ch == match; }\n    else { ok = ch && (match.test ? match.test(ch) : match(ch)); }\n    if (ok) {++this.pos; return ch}\n  };\n  StringStream.prototype.eatWhile = function (match) {\n    var start = this.pos;\n    while (this.eat(match)){}\n    return this.pos > start\n  };\n  StringStream.prototype.eatSpace = function () {\n    var start = this.pos;\n    while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos))) { ++this.pos; }\n    return this.pos > start\n  };\n  StringStream.prototype.skipToEnd = function () {this.pos = this.string.length;};\n  StringStream.prototype.skipTo = function (ch) {\n    var found = this.string.indexOf(ch, this.pos);\n    if (found > -1) {this.pos = found; return true}\n  };\n  StringStream.prototype.backUp = function (n) {this.pos -= n;};\n  StringStream.prototype.column = function () {\n    if (this.lastColumnPos < this.start) {\n      this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue);\n      this.lastColumnPos = this.start;\n    }\n    return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.indentation = function () {\n    return countColumn(this.string, null, this.tabSize) -\n      (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.match = function (pattern, consume, caseInsensitive) {\n    if (typeof pattern == \"string\") {\n      var cased = function (str) { return caseInsensitive ? str.toLowerCase() : str; };\n      var substr = this.string.substr(this.pos, pattern.length);\n      if (cased(substr) == cased(pattern)) {\n        if (consume !== false) { this.pos += pattern.length; }\n        return true\n      }\n    } else {\n      var match = this.string.slice(this.pos).match(pattern);\n      if (match && match.index > 0) { return null }\n      if (match && consume !== false) { this.pos += match[0].length; }\n      return match\n    }\n  };\n  StringStream.prototype.current = function (){return this.string.slice(this.start, this.pos)};\n  StringStream.prototype.hideFirstChars = function (n, inner) {\n    this.lineStart += n;\n    try { return inner() }\n    finally { this.lineStart -= n; }\n  };\n  StringStream.prototype.lookAhead = function (n) {\n    var oracle = this.lineOracle;\n    return oracle && oracle.lookAhead(n)\n  };\n  StringStream.prototype.baseToken = function () {\n    var oracle = this.lineOracle;\n    return oracle && oracle.baseToken(this.pos)\n  };\n\n  // Find the line object corresponding to the given line number.\n  function getLine(doc, n) {\n    n -= doc.first;\n    if (n < 0 || n >= doc.size) { throw new Error(\"There is no line \" + (n + doc.first) + \" in the document.\") }\n    var chunk = doc;\n    while (!chunk.lines) {\n      for (var i = 0;; ++i) {\n        var child = chunk.children[i], sz = child.chunkSize();\n        if (n < sz) { chunk = child; break }\n        n -= sz;\n      }\n    }\n    return chunk.lines[n]\n  }\n\n  // Get the part of a document between two positions, as an array of\n  // strings.\n  function getBetween(doc, start, end) {\n    var out = [], n = start.line;\n    doc.iter(start.line, end.line + 1, function (line) {\n      var text = line.text;\n      if (n == end.line) { text = text.slice(0, end.ch); }\n      if (n == start.line) { text = text.slice(start.ch); }\n      out.push(text);\n      ++n;\n    });\n    return out\n  }\n  // Get the lines between from and to, as array of strings.\n  function getLines(doc, from, to) {\n    var out = [];\n    doc.iter(from, to, function (line) { out.push(line.text); }); // iter aborts when callback returns truthy value\n    return out\n  }\n\n  // Update the height of a line, propagating the height change\n  // upwards to parent nodes.\n  function updateLineHeight(line, height) {\n    var diff = height - line.height;\n    if (diff) { for (var n = line; n; n = n.parent) { n.height += diff; } }\n  }\n\n  // Given a line object, find its line number by walking up through\n  // its parent links.\n  function lineNo(line) {\n    if (line.parent == null) { return null }\n    var cur = line.parent, no = indexOf(cur.lines, line);\n    for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\n      for (var i = 0;; ++i) {\n        if (chunk.children[i] == cur) { break }\n        no += chunk.children[i].chunkSize();\n      }\n    }\n    return no + cur.first\n  }\n\n  // Find the line at the given vertical position, using the height\n  // information in the document tree.\n  function lineAtHeight(chunk, h) {\n    var n = chunk.first;\n    outer: do {\n      for (var i$1 = 0; i$1 < chunk.children.length; ++i$1) {\n        var child = chunk.children[i$1], ch = child.height;\n        if (h < ch) { chunk = child; continue outer }\n        h -= ch;\n        n += child.chunkSize();\n      }\n      return n\n    } while (!chunk.lines)\n    var i = 0;\n    for (; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i], lh = line.height;\n      if (h < lh) { break }\n      h -= lh;\n    }\n    return n + i\n  }\n\n  function isLine(doc, l) {return l >= doc.first && l < doc.first + doc.size}\n\n  function lineNumberFor(options, i) {\n    return String(options.lineNumberFormatter(i + options.firstLineNumber))\n  }\n\n  // A Pos instance represents a position within the text.\n  function Pos(line, ch, sticky) {\n    if ( sticky === void 0 ) sticky = null;\n\n    if (!(this instanceof Pos)) { return new Pos(line, ch, sticky) }\n    this.line = line;\n    this.ch = ch;\n    this.sticky = sticky;\n  }\n\n  // Compare two positions, return 0 if they are the same, a negative\n  // number when a is less, and a positive number otherwise.\n  function cmp(a, b) { return a.line - b.line || a.ch - b.ch }\n\n  function equalCursorPos(a, b) { return a.sticky == b.sticky && cmp(a, b) == 0 }\n\n  function copyPos(x) {return Pos(x.line, x.ch)}\n  function maxPos(a, b) { return cmp(a, b) < 0 ? b : a }\n  function minPos(a, b) { return cmp(a, b) < 0 ? a : b }\n\n  // Most of the external API clips given positions to make sure they\n  // actually exist within the document.\n  function clipLine(doc, n) {return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1))}\n  function clipPos(doc, pos) {\n    if (pos.line < doc.first) { return Pos(doc.first, 0) }\n    var last = doc.first + doc.size - 1;\n    if (pos.line > last) { return Pos(last, getLine(doc, last).text.length) }\n    return clipToLen(pos, getLine(doc, pos.line).text.length)\n  }\n  function clipToLen(pos, linelen) {\n    var ch = pos.ch;\n    if (ch == null || ch > linelen) { return Pos(pos.line, linelen) }\n    else if (ch < 0) { return Pos(pos.line, 0) }\n    else { return pos }\n  }\n  function clipPosArray(doc, array) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = clipPos(doc, array[i]); }\n    return out\n  }\n\n  var SavedContext = function(state, lookAhead) {\n    this.state = state;\n    this.lookAhead = lookAhead;\n  };\n\n  var Context = function(doc, state, line, lookAhead) {\n    this.state = state;\n    this.doc = doc;\n    this.line = line;\n    this.maxLookAhead = lookAhead || 0;\n    this.baseTokens = null;\n    this.baseTokenPos = 1;\n  };\n\n  Context.prototype.lookAhead = function (n) {\n    var line = this.doc.getLine(this.line + n);\n    if (line != null && n > this.maxLookAhead) { this.maxLookAhead = n; }\n    return line\n  };\n\n  Context.prototype.baseToken = function (n) {\n    if (!this.baseTokens) { return null }\n    while (this.baseTokens[this.baseTokenPos] <= n)\n      { this.baseTokenPos += 2; }\n    var type = this.baseTokens[this.baseTokenPos + 1];\n    return {type: type && type.replace(/( |^)overlay .*/, \"\"),\n            size: this.baseTokens[this.baseTokenPos] - n}\n  };\n\n  Context.prototype.nextLine = function () {\n    this.line++;\n    if (this.maxLookAhead > 0) { this.maxLookAhead--; }\n  };\n\n  Context.fromSaved = function (doc, saved, line) {\n    if (saved instanceof SavedContext)\n      { return new Context(doc, copyState(doc.mode, saved.state), line, saved.lookAhead) }\n    else\n      { return new Context(doc, copyState(doc.mode, saved), line) }\n  };\n\n  Context.prototype.save = function (copy) {\n    var state = copy !== false ? copyState(this.doc.mode, this.state) : this.state;\n    return this.maxLookAhead > 0 ? new SavedContext(state, this.maxLookAhead) : state\n  };\n\n\n  // Compute a style array (an array starting with a mode generation\n  // -- for invalidation -- followed by pairs of end positions and\n  // style strings), which is used to highlight the tokens on the\n  // line.\n  function highlightLine(cm, line, context, forceToEnd) {\n    // A styles array always starts with a number identifying the\n    // mode/overlays that it is based on (for easy invalidation).\n    var st = [cm.state.modeGen], lineClasses = {};\n    // Compute the base array of styles\n    runMode(cm, line.text, cm.doc.mode, context, function (end, style) { return st.push(end, style); },\n            lineClasses, forceToEnd);\n    var state = context.state;\n\n    // Run overlays, adjust style array.\n    var loop = function ( o ) {\n      context.baseTokens = st;\n      var overlay = cm.state.overlays[o], i = 1, at = 0;\n      context.state = true;\n      runMode(cm, line.text, overlay.mode, context, function (end, style) {\n        var start = i;\n        // Ensure there's a token end at the current position, and that i points at it\n        while (at < end) {\n          var i_end = st[i];\n          if (i_end > end)\n            { st.splice(i, 1, end, st[i+1], i_end); }\n          i += 2;\n          at = Math.min(end, i_end);\n        }\n        if (!style) { return }\n        if (overlay.opaque) {\n          st.splice(start, i - start, end, \"overlay \" + style);\n          i = start + 2;\n        } else {\n          for (; start < i; start += 2) {\n            var cur = st[start+1];\n            st[start+1] = (cur ? cur + \" \" : \"\") + \"overlay \" + style;\n          }\n        }\n      }, lineClasses);\n      context.state = state;\n      context.baseTokens = null;\n      context.baseTokenPos = 1;\n    };\n\n    for (var o = 0; o < cm.state.overlays.length; ++o) loop( o );\n\n    return {styles: st, classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null}\n  }\n\n  function getLineStyles(cm, line, updateFrontier) {\n    if (!line.styles || line.styles[0] != cm.state.modeGen) {\n      var context = getContextBefore(cm, lineNo(line));\n      var resetState = line.text.length > cm.options.maxHighlightLength && copyState(cm.doc.mode, context.state);\n      var result = highlightLine(cm, line, context);\n      if (resetState) { context.state = resetState; }\n      line.stateAfter = context.save(!resetState);\n      line.styles = result.styles;\n      if (result.classes) { line.styleClasses = result.classes; }\n      else if (line.styleClasses) { line.styleClasses = null; }\n      if (updateFrontier === cm.doc.highlightFrontier)\n        { cm.doc.modeFrontier = Math.max(cm.doc.modeFrontier, ++cm.doc.highlightFrontier); }\n    }\n    return line.styles\n  }\n\n  function getContextBefore(cm, n, precise) {\n    var doc = cm.doc, display = cm.display;\n    if (!doc.mode.startState) { return new Context(doc, true, n) }\n    var start = findStartLine(cm, n, precise);\n    var saved = start > doc.first && getLine(doc, start - 1).stateAfter;\n    var context = saved ? Context.fromSaved(doc, saved, start) : new Context(doc, startState(doc.mode), start);\n\n    doc.iter(start, n, function (line) {\n      processLine(cm, line.text, context);\n      var pos = context.line;\n      line.stateAfter = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo ? context.save() : null;\n      context.nextLine();\n    });\n    if (precise) { doc.modeFrontier = context.line; }\n    return context\n  }\n\n  // Lightweight form of highlight -- proceed over this line and\n  // update state, but don't save a style array. Used for lines that\n  // aren't currently visible.\n  function processLine(cm, text, context, startAt) {\n    var mode = cm.doc.mode;\n    var stream = new StringStream(text, cm.options.tabSize, context);\n    stream.start = stream.pos = startAt || 0;\n    if (text == \"\") { callBlankLine(mode, context.state); }\n    while (!stream.eol()) {\n      readToken(mode, stream, context.state);\n      stream.start = stream.pos;\n    }\n  }\n\n  function callBlankLine(mode, state) {\n    if (mode.blankLine) { return mode.blankLine(state) }\n    if (!mode.innerMode) { return }\n    var inner = innerMode(mode, state);\n    if (inner.mode.blankLine) { return inner.mode.blankLine(inner.state) }\n  }\n\n  function readToken(mode, stream, state, inner) {\n    for (var i = 0; i < 10; i++) {\n      if (inner) { inner[0] = innerMode(mode, state).mode; }\n      var style = mode.token(stream, state);\n      if (stream.pos > stream.start) { return style }\n    }\n    throw new Error(\"Mode \" + mode.name + \" failed to advance stream.\")\n  }\n\n  var Token = function(stream, type, state) {\n    this.start = stream.start; this.end = stream.pos;\n    this.string = stream.current();\n    this.type = type || null;\n    this.state = state;\n  };\n\n  // Utility for getTokenAt and getLineTokens\n  function takeToken(cm, pos, precise, asArray) {\n    var doc = cm.doc, mode = doc.mode, style;\n    pos = clipPos(doc, pos);\n    var line = getLine(doc, pos.line), context = getContextBefore(cm, pos.line, precise);\n    var stream = new StringStream(line.text, cm.options.tabSize, context), tokens;\n    if (asArray) { tokens = []; }\n    while ((asArray || stream.pos < pos.ch) && !stream.eol()) {\n      stream.start = stream.pos;\n      style = readToken(mode, stream, context.state);\n      if (asArray) { tokens.push(new Token(stream, style, copyState(doc.mode, context.state))); }\n    }\n    return asArray ? tokens : new Token(stream, style, context.state)\n  }\n\n  function extractLineClasses(type, output) {\n    if (type) { for (;;) {\n      var lineClass = type.match(/(?:^|\\s+)line-(background-)?(\\S+)/);\n      if (!lineClass) { break }\n      type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length);\n      var prop = lineClass[1] ? \"bgClass\" : \"textClass\";\n      if (output[prop] == null)\n        { output[prop] = lineClass[2]; }\n      else if (!(new RegExp(\"(?:^|\\\\s)\" + lineClass[2] + \"(?:$|\\\\s)\")).test(output[prop]))\n        { output[prop] += \" \" + lineClass[2]; }\n    } }\n    return type\n  }\n\n  // Run the given mode's parser over a line, calling f for each token.\n  function runMode(cm, text, mode, context, f, lineClasses, forceToEnd) {\n    var flattenSpans = mode.flattenSpans;\n    if (flattenSpans == null) { flattenSpans = cm.options.flattenSpans; }\n    var curStart = 0, curStyle = null;\n    var stream = new StringStream(text, cm.options.tabSize, context), style;\n    var inner = cm.options.addModeClass && [null];\n    if (text == \"\") { extractLineClasses(callBlankLine(mode, context.state), lineClasses); }\n    while (!stream.eol()) {\n      if (stream.pos > cm.options.maxHighlightLength) {\n        flattenSpans = false;\n        if (forceToEnd) { processLine(cm, text, context, stream.pos); }\n        stream.pos = text.length;\n        style = null;\n      } else {\n        style = extractLineClasses(readToken(mode, stream, context.state, inner), lineClasses);\n      }\n      if (inner) {\n        var mName = inner[0].name;\n        if (mName) { style = \"m-\" + (style ? mName + \" \" + style : mName); }\n      }\n      if (!flattenSpans || curStyle != style) {\n        while (curStart < stream.start) {\n          curStart = Math.min(stream.start, curStart + 5000);\n          f(curStart, curStyle);\n        }\n        curStyle = style;\n      }\n      stream.start = stream.pos;\n    }\n    while (curStart < stream.pos) {\n      // Webkit seems to refuse to render text nodes longer than 57444\n      // characters, and returns inaccurate measurements in nodes\n      // starting around 5000 chars.\n      var pos = Math.min(stream.pos, curStart + 5000);\n      f(pos, curStyle);\n      curStart = pos;\n    }\n  }\n\n  // Finds the line to start with when starting a parse. Tries to\n  // find a line with a stateAfter, so that it can start with a\n  // valid state. If that fails, it returns the line with the\n  // smallest indentation, which tends to need the least context to\n  // parse correctly.\n  function findStartLine(cm, n, precise) {\n    var minindent, minline, doc = cm.doc;\n    var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100);\n    for (var search = n; search > lim; --search) {\n      if (search <= doc.first) { return doc.first }\n      var line = getLine(doc, search - 1), after = line.stateAfter;\n      if (after && (!precise || search + (after instanceof SavedContext ? after.lookAhead : 0) <= doc.modeFrontier))\n        { return search }\n      var indented = countColumn(line.text, null, cm.options.tabSize);\n      if (minline == null || minindent > indented) {\n        minline = search - 1;\n        minindent = indented;\n      }\n    }\n    return minline\n  }\n\n  function retreatFrontier(doc, n) {\n    doc.modeFrontier = Math.min(doc.modeFrontier, n);\n    if (doc.highlightFrontier < n - 10) { return }\n    var start = doc.first;\n    for (var line = n - 1; line > start; line--) {\n      var saved = getLine(doc, line).stateAfter;\n      // change is on 3\n      // state on line 1 looked ahead 2 -- so saw 3\n      // test 1 + 2 < 3 should cover this\n      if (saved && (!(saved instanceof SavedContext) || line + saved.lookAhead < n)) {\n        start = line + 1;\n        break\n      }\n    }\n    doc.highlightFrontier = Math.min(doc.highlightFrontier, start);\n  }\n\n  // Optimize some code when these features are not used.\n  var sawReadOnlySpans = false, sawCollapsedSpans = false;\n\n  function seeReadOnlySpans() {\n    sawReadOnlySpans = true;\n  }\n\n  function seeCollapsedSpans() {\n    sawCollapsedSpans = true;\n  }\n\n  // TEXTMARKER SPANS\n\n  function MarkedSpan(marker, from, to) {\n    this.marker = marker;\n    this.from = from; this.to = to;\n  }\n\n  // Search an array of spans for a span matching the given marker.\n  function getMarkedSpanFor(spans, marker) {\n    if (spans) { for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.marker == marker) { return span }\n    } }\n  }\n\n  // Remove a span from an array, returning undefined if no spans are\n  // left (we don't store arrays for lines without spans).\n  function removeMarkedSpan(spans, span) {\n    var r;\n    for (var i = 0; i < spans.length; ++i)\n      { if (spans[i] != span) { (r || (r = [])).push(spans[i]); } }\n    return r\n  }\n\n  // Add a span to a line.\n  function addMarkedSpan(line, span, op) {\n    var inThisOp = op && window.WeakSet && (op.markedSpans || (op.markedSpans = new WeakSet));\n    if (inThisOp && inThisOp.has(line.markedSpans)) {\n      line.markedSpans.push(span);\n    } else {\n      line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span];\n      if (inThisOp) { inThisOp.add(line.markedSpans); }\n    }\n    span.marker.attachLine(line);\n  }\n\n  // Used for the algorithm that adjusts markers for a change in the\n  // document. These functions cut an array of spans at a given\n  // character position, returning an array of remaining chunks (or\n  // undefined if nothing remains).\n  function markedSpansBefore(old, startCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh);\n      if (startsBefore || span.from == startCh && marker.type == \"bookmark\" && (!isInsert || !span.marker.insertLeft)) {\n        var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to));\n      }\n    } }\n    return nw\n  }\n  function markedSpansAfter(old, endCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh);\n      if (endsAfter || span.from == endCh && marker.type == \"bookmark\" && (!isInsert || span.marker.insertLeft)) {\n        var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh,\n                                              span.to == null ? null : span.to - endCh));\n      }\n    } }\n    return nw\n  }\n\n  // Given a change object, compute the new set of marker spans that\n  // cover the line in which the change took place. Removes spans\n  // entirely within the change, reconnects spans belonging to the\n  // same marker that appear on both sides of the change, and cuts off\n  // spans partially within the change. Returns an array of span\n  // arrays with one element for each line in (after) the change.\n  function stretchSpansOverChange(doc, change) {\n    if (change.full) { return null }\n    var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans;\n    var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans;\n    if (!oldFirst && !oldLast) { return null }\n\n    var startCh = change.from.ch, endCh = change.to.ch, isInsert = cmp(change.from, change.to) == 0;\n    // Get the spans that 'stick out' on both sides\n    var first = markedSpansBefore(oldFirst, startCh, isInsert);\n    var last = markedSpansAfter(oldLast, endCh, isInsert);\n\n    // Next, merge those two ends\n    var sameLine = change.text.length == 1, offset = lst(change.text).length + (sameLine ? startCh : 0);\n    if (first) {\n      // Fix up .to properties of first\n      for (var i = 0; i < first.length; ++i) {\n        var span = first[i];\n        if (span.to == null) {\n          var found = getMarkedSpanFor(last, span.marker);\n          if (!found) { span.to = startCh; }\n          else if (sameLine) { span.to = found.to == null ? null : found.to + offset; }\n        }\n      }\n    }\n    if (last) {\n      // Fix up .from in last (or move them into first in case of sameLine)\n      for (var i$1 = 0; i$1 < last.length; ++i$1) {\n        var span$1 = last[i$1];\n        if (span$1.to != null) { span$1.to += offset; }\n        if (span$1.from == null) {\n          var found$1 = getMarkedSpanFor(first, span$1.marker);\n          if (!found$1) {\n            span$1.from = offset;\n            if (sameLine) { (first || (first = [])).push(span$1); }\n          }\n        } else {\n          span$1.from += offset;\n          if (sameLine) { (first || (first = [])).push(span$1); }\n        }\n      }\n    }\n    // Make sure we didn't create any zero-length spans\n    if (first) { first = clearEmptySpans(first); }\n    if (last && last != first) { last = clearEmptySpans(last); }\n\n    var newMarkers = [first];\n    if (!sameLine) {\n      // Fill gap with whole-line-spans\n      var gap = change.text.length - 2, gapMarkers;\n      if (gap > 0 && first)\n        { for (var i$2 = 0; i$2 < first.length; ++i$2)\n          { if (first[i$2].to == null)\n            { (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i$2].marker, null, null)); } } }\n      for (var i$3 = 0; i$3 < gap; ++i$3)\n        { newMarkers.push(gapMarkers); }\n      newMarkers.push(last);\n    }\n    return newMarkers\n  }\n\n  // Remove spans that are empty and don't have a clearWhenEmpty\n  // option of false.\n  function clearEmptySpans(spans) {\n    for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false)\n        { spans.splice(i--, 1); }\n    }\n    if (!spans.length) { return null }\n    return spans\n  }\n\n  // Used to 'clip' out readOnly ranges when making a change.\n  function removeReadOnlyRanges(doc, from, to) {\n    var markers = null;\n    doc.iter(from.line, to.line + 1, function (line) {\n      if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n        var mark = line.markedSpans[i].marker;\n        if (mark.readOnly && (!markers || indexOf(markers, mark) == -1))\n          { (markers || (markers = [])).push(mark); }\n      } }\n    });\n    if (!markers) { return null }\n    var parts = [{from: from, to: to}];\n    for (var i = 0; i < markers.length; ++i) {\n      var mk = markers[i], m = mk.find(0);\n      for (var j = 0; j < parts.length; ++j) {\n        var p = parts[j];\n        if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) { continue }\n        var newParts = [j, 1], dfrom = cmp(p.from, m.from), dto = cmp(p.to, m.to);\n        if (dfrom < 0 || !mk.inclusiveLeft && !dfrom)\n          { newParts.push({from: p.from, to: m.from}); }\n        if (dto > 0 || !mk.inclusiveRight && !dto)\n          { newParts.push({from: m.to, to: p.to}); }\n        parts.splice.apply(parts, newParts);\n        j += newParts.length - 3;\n      }\n    }\n    return parts\n  }\n\n  // Connect or disconnect spans from a line.\n  function detachMarkedSpans(line) {\n    var spans = line.markedSpans;\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.detachLine(line); }\n    line.markedSpans = null;\n  }\n  function attachMarkedSpans(line, spans) {\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.attachLine(line); }\n    line.markedSpans = spans;\n  }\n\n  // Helpers used when computing which overlapping collapsed span\n  // counts as the larger one.\n  function extraLeft(marker) { return marker.inclusiveLeft ? -1 : 0 }\n  function extraRight(marker) { return marker.inclusiveRight ? 1 : 0 }\n\n  // Returns a number indicating which of two overlapping collapsed\n  // spans is larger (and thus includes the other). Falls back to\n  // comparing ids when the spans cover exactly the same range.\n  function compareCollapsedMarkers(a, b) {\n    var lenDiff = a.lines.length - b.lines.length;\n    if (lenDiff != 0) { return lenDiff }\n    var aPos = a.find(), bPos = b.find();\n    var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b);\n    if (fromCmp) { return -fromCmp }\n    var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b);\n    if (toCmp) { return toCmp }\n    return b.id - a.id\n  }\n\n  // Find out whether a line ends or starts in a collapsed span. If\n  // so, return the marker for that span.\n  function collapsedSpanAtSide(line, start) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (sp.marker.collapsed && (start ? sp.from : sp.to) == null &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0))\n        { found = sp.marker; }\n    } }\n    return found\n  }\n  function collapsedSpanAtStart(line) { return collapsedSpanAtSide(line, true) }\n  function collapsedSpanAtEnd(line) { return collapsedSpanAtSide(line, false) }\n\n  function collapsedSpanAround(line, ch) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (sp.marker.collapsed && (sp.from == null || sp.from < ch) && (sp.to == null || sp.to > ch) &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0)) { found = sp.marker; }\n    } }\n    return found\n  }\n\n  // Test whether there exists a collapsed span that partially\n  // overlaps (covers the start or end, but not both) of a new span.\n  // Such overlap is not allowed.\n  function conflictingCollapsedRange(doc, lineNo, from, to, marker) {\n    var line = getLine(doc, lineNo);\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      var found = sp.marker.find(0);\n      var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker);\n      var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker);\n      if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) { continue }\n      if (fromCmp <= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.to, from) >= 0 : cmp(found.to, from) > 0) ||\n          fromCmp >= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.from, to) <= 0 : cmp(found.from, to) < 0))\n        { return true }\n    } }\n  }\n\n  // A visual line is a line as drawn on the screen. Folding, for\n  // example, can cause multiple logical lines to appear on the same\n  // visual line. This finds the start of the visual line that the\n  // given line is part of (usually that is the line itself).\n  function visualLine(line) {\n    var merged;\n    while (merged = collapsedSpanAtStart(line))\n      { line = merged.find(-1, true).line; }\n    return line\n  }\n\n  function visualLineEnd(line) {\n    var merged;\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return line\n  }\n\n  // Returns an array of logical lines that continue the visual line\n  // started by the argument, or undefined if there are no such lines.\n  function visualLineContinued(line) {\n    var merged, lines;\n    while (merged = collapsedSpanAtEnd(line)) {\n      line = merged.find(1, true).line\n      ;(lines || (lines = [])).push(line);\n    }\n    return lines\n  }\n\n  // Get the line number of the start of the visual line that the\n  // given line number is part of.\n  function visualLineNo(doc, lineN) {\n    var line = getLine(doc, lineN), vis = visualLine(line);\n    if (line == vis) { return lineN }\n    return lineNo(vis)\n  }\n\n  // Get the line number of the start of the next visual line after\n  // the given line.\n  function visualLineEndNo(doc, lineN) {\n    if (lineN > doc.lastLine()) { return lineN }\n    var line = getLine(doc, lineN), merged;\n    if (!lineIsHidden(doc, line)) { return lineN }\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return lineNo(line) + 1\n  }\n\n  // Compute whether a line is hidden. Lines count as hidden when they\n  // are part of a visual line that starts with another line, or when\n  // they are entirely covered by collapsed, non-widget span.\n  function lineIsHidden(doc, line) {\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      if (sp.from == null) { return true }\n      if (sp.marker.widgetNode) { continue }\n      if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp))\n        { return true }\n    } }\n  }\n  function lineIsHiddenInner(doc, line, span) {\n    if (span.to == null) {\n      var end = span.marker.find(1, true);\n      return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker))\n    }\n    if (span.marker.inclusiveRight && span.to == line.text.length)\n      { return true }\n    for (var sp = (void 0), i = 0; i < line.markedSpans.length; ++i) {\n      sp = line.markedSpans[i];\n      if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to &&\n          (sp.to == null || sp.to != span.from) &&\n          (sp.marker.inclusiveLeft || span.marker.inclusiveRight) &&\n          lineIsHiddenInner(doc, line, sp)) { return true }\n    }\n  }\n\n  // Find the height above the given line.\n  function heightAtLine(lineObj) {\n    lineObj = visualLine(lineObj);\n\n    var h = 0, chunk = lineObj.parent;\n    for (var i = 0; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i];\n      if (line == lineObj) { break }\n      else { h += line.height; }\n    }\n    for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {\n      for (var i$1 = 0; i$1 < p.children.length; ++i$1) {\n        var cur = p.children[i$1];\n        if (cur == chunk) { break }\n        else { h += cur.height; }\n      }\n    }\n    return h\n  }\n\n  // Compute the character length of a line, taking into account\n  // collapsed ranges (see markText) that might hide parts, and join\n  // other lines onto it.\n  function lineLength(line) {\n    if (line.height == 0) { return 0 }\n    var len = line.text.length, merged, cur = line;\n    while (merged = collapsedSpanAtStart(cur)) {\n      var found = merged.find(0, true);\n      cur = found.from.line;\n      len += found.from.ch - found.to.ch;\n    }\n    cur = line;\n    while (merged = collapsedSpanAtEnd(cur)) {\n      var found$1 = merged.find(0, true);\n      len -= cur.text.length - found$1.from.ch;\n      cur = found$1.to.line;\n      len += cur.text.length - found$1.to.ch;\n    }\n    return len\n  }\n\n  // Find the longest line in the document.\n  function findMaxLine(cm) {\n    var d = cm.display, doc = cm.doc;\n    d.maxLine = getLine(doc, doc.first);\n    d.maxLineLength = lineLength(d.maxLine);\n    d.maxLineChanged = true;\n    doc.iter(function (line) {\n      var len = lineLength(line);\n      if (len > d.maxLineLength) {\n        d.maxLineLength = len;\n        d.maxLine = line;\n      }\n    });\n  }\n\n  // LINE DATA STRUCTURE\n\n  // Line objects. These hold state related to a line, including\n  // highlighting info (the styles array).\n  var Line = function(text, markedSpans, estimateHeight) {\n    this.text = text;\n    attachMarkedSpans(this, markedSpans);\n    this.height = estimateHeight ? estimateHeight(this) : 1;\n  };\n\n  Line.prototype.lineNo = function () { return lineNo(this) };\n  eventMixin(Line);\n\n  // Change the content (text, markers) of a line. Automatically\n  // invalidates cached information and tries to re-estimate the\n  // line's height.\n  function updateLine(line, text, markedSpans, estimateHeight) {\n    line.text = text;\n    if (line.stateAfter) { line.stateAfter = null; }\n    if (line.styles) { line.styles = null; }\n    if (line.order != null) { line.order = null; }\n    detachMarkedSpans(line);\n    attachMarkedSpans(line, markedSpans);\n    var estHeight = estimateHeight ? estimateHeight(line) : 1;\n    if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n  }\n\n  // Detach a line from the document tree and its markers.\n  function cleanUpLine(line) {\n    line.parent = null;\n    detachMarkedSpans(line);\n  }\n\n  // Convert a style as returned by a mode (either null, or a string\n  // containing one or more styles) to a CSS style. This is cached,\n  // and also looks for line-wide styles.\n  var styleToClassCache = {}, styleToClassCacheWithMode = {};\n  function interpretTokenStyle(style, options) {\n    if (!style || /^\\s*$/.test(style)) { return null }\n    var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache;\n    return cache[style] ||\n      (cache[style] = style.replace(/\\S+/g, \"cm-$&\"))\n  }\n\n  // Render the DOM representation of the text of a line. Also builds\n  // up a 'line map', which points at the DOM nodes that represent\n  // specific stretches of text, and is used by the measuring code.\n  // The returned object contains the DOM node, this map, and\n  // information about line-wide styles that were set by the mode.\n  function buildLineContent(cm, lineView) {\n    // The padding-right forces the element to have a 'border', which\n    // is needed on Webkit to be able to get line-level bounding\n    // rectangles for it (in measureChar).\n    var content = eltP(\"span\", null, null, webkit ? \"padding-right: .1px\" : null);\n    var builder = {pre: eltP(\"pre\", [content], \"CodeMirror-line\"), content: content,\n                   col: 0, pos: 0, cm: cm,\n                   trailingSpace: false,\n                   splitSpaces: cm.getOption(\"lineWrapping\")};\n    lineView.measure = {};\n\n    // Iterate over the logical lines that make up this visual line.\n    for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {\n      var line = i ? lineView.rest[i - 1] : lineView.line, order = (void 0);\n      builder.pos = 0;\n      builder.addToken = buildToken;\n      // Optionally wire in some hacks into the token-rendering\n      // algorithm, to deal with browser quirks.\n      if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line, cm.doc.direction)))\n        { builder.addToken = buildTokenBadBidi(builder.addToken, order); }\n      builder.map = [];\n      var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line);\n      insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate));\n      if (line.styleClasses) {\n        if (line.styleClasses.bgClass)\n          { builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || \"\"); }\n        if (line.styleClasses.textClass)\n          { builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || \"\"); }\n      }\n\n      // Ensure at least a single node is present, for measuring.\n      if (builder.map.length == 0)\n        { builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure))); }\n\n      // Store the map and a cache object for the current logical line\n      if (i == 0) {\n        lineView.measure.map = builder.map;\n        lineView.measure.cache = {};\n      } else {\n  (lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map)\n        ;(lineView.measure.caches || (lineView.measure.caches = [])).push({});\n      }\n    }\n\n    // See issue #2901\n    if (webkit) {\n      var last = builder.content.lastChild;\n      if (/\\bcm-tab\\b/.test(last.className) || (last.querySelector && last.querySelector(\".cm-tab\")))\n        { builder.content.className = \"cm-tab-wrap-hack\"; }\n    }\n\n    signal(cm, \"renderLine\", cm, lineView.line, builder.pre);\n    if (builder.pre.className)\n      { builder.textClass = joinClasses(builder.pre.className, builder.textClass || \"\"); }\n\n    return builder\n  }\n\n  function defaultSpecialCharPlaceholder(ch) {\n    var token = elt(\"span\", \"\\u2022\", \"cm-invalidchar\");\n    token.title = \"\\\\u\" + ch.charCodeAt(0).toString(16);\n    token.setAttribute(\"aria-label\", token.title);\n    return token\n  }\n\n  // Build up the DOM representation for a single token, and add it to\n  // the line map. Takes care to render special characters separately.\n  function buildToken(builder, text, style, startStyle, endStyle, css, attributes) {\n    if (!text) { return }\n    var displayText = builder.splitSpaces ? splitSpaces(text, builder.trailingSpace) : text;\n    var special = builder.cm.state.specialChars, mustWrap = false;\n    var content;\n    if (!special.test(text)) {\n      builder.col += text.length;\n      content = document.createTextNode(displayText);\n      builder.map.push(builder.pos, builder.pos + text.length, content);\n      if (ie && ie_version < 9) { mustWrap = true; }\n      builder.pos += text.length;\n    } else {\n      content = document.createDocumentFragment();\n      var pos = 0;\n      while (true) {\n        special.lastIndex = pos;\n        var m = special.exec(text);\n        var skipped = m ? m.index - pos : text.length - pos;\n        if (skipped) {\n          var txt = document.createTextNode(displayText.slice(pos, pos + skipped));\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt])); }\n          else { content.appendChild(txt); }\n          builder.map.push(builder.pos, builder.pos + skipped, txt);\n          builder.col += skipped;\n          builder.pos += skipped;\n        }\n        if (!m) { break }\n        pos += skipped + 1;\n        var txt$1 = (void 0);\n        if (m[0] == \"\\t\") {\n          var tabSize = builder.cm.options.tabSize, tabWidth = tabSize - builder.col % tabSize;\n          txt$1 = content.appendChild(elt(\"span\", spaceStr(tabWidth), \"cm-tab\"));\n          txt$1.setAttribute(\"role\", \"presentation\");\n          txt$1.setAttribute(\"cm-text\", \"\\t\");\n          builder.col += tabWidth;\n        } else if (m[0] == \"\\r\" || m[0] == \"\\n\") {\n          txt$1 = content.appendChild(elt(\"span\", m[0] == \"\\r\" ? \"\\u240d\" : \"\\u2424\", \"cm-invalidchar\"));\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          builder.col += 1;\n        } else {\n          txt$1 = builder.cm.options.specialCharPlaceholder(m[0]);\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt$1])); }\n          else { content.appendChild(txt$1); }\n          builder.col += 1;\n        }\n        builder.map.push(builder.pos, builder.pos + 1, txt$1);\n        builder.pos++;\n      }\n    }\n    builder.trailingSpace = displayText.charCodeAt(text.length - 1) == 32;\n    if (style || startStyle || endStyle || mustWrap || css || attributes) {\n      var fullStyle = style || \"\";\n      if (startStyle) { fullStyle += startStyle; }\n      if (endStyle) { fullStyle += endStyle; }\n      var token = elt(\"span\", [content], fullStyle, css);\n      if (attributes) {\n        for (var attr in attributes) { if (attributes.hasOwnProperty(attr) && attr != \"style\" && attr != \"class\")\n          { token.setAttribute(attr, attributes[attr]); } }\n      }\n      return builder.content.appendChild(token)\n    }\n    builder.content.appendChild(content);\n  }\n\n  // Change some spaces to NBSP to prevent the browser from collapsing\n  // trailing spaces at the end of a line when rendering text (issue #1362).\n  function splitSpaces(text, trailingBefore) {\n    if (text.length > 1 && !/  /.test(text)) { return text }\n    var spaceBefore = trailingBefore, result = \"\";\n    for (var i = 0; i < text.length; i++) {\n      var ch = text.charAt(i);\n      if (ch == \" \" && spaceBefore && (i == text.length - 1 || text.charCodeAt(i + 1) == 32))\n        { ch = \"\\u00a0\"; }\n      result += ch;\n      spaceBefore = ch == \" \";\n    }\n    return result\n  }\n\n  // Work around nonsense dimensions being reported for stretches of\n  // right-to-left text.\n  function buildTokenBadBidi(inner, order) {\n    return function (builder, text, style, startStyle, endStyle, css, attributes) {\n      style = style ? style + \" cm-force-border\" : \"cm-force-border\";\n      var start = builder.pos, end = start + text.length;\n      for (;;) {\n        // Find the part that overlaps with the start of this text\n        var part = (void 0);\n        for (var i = 0; i < order.length; i++) {\n          part = order[i];\n          if (part.to > start && part.from <= start) { break }\n        }\n        if (part.to >= end) { return inner(builder, text, style, startStyle, endStyle, css, attributes) }\n        inner(builder, text.slice(0, part.to - start), style, startStyle, null, css, attributes);\n        startStyle = null;\n        text = text.slice(part.to - start);\n        start = part.to;\n      }\n    }\n  }\n\n  function buildCollapsedSpan(builder, size, marker, ignoreWidget) {\n    var widget = !ignoreWidget && marker.widgetNode;\n    if (widget) { builder.map.push(builder.pos, builder.pos + size, widget); }\n    if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {\n      if (!widget)\n        { widget = builder.content.appendChild(document.createElement(\"span\")); }\n      widget.setAttribute(\"cm-marker\", marker.id);\n    }\n    if (widget) {\n      builder.cm.display.input.setUneditable(widget);\n      builder.content.appendChild(widget);\n    }\n    builder.pos += size;\n    builder.trailingSpace = false;\n  }\n\n  // Outputs a number of spans to make up a line, taking highlighting\n  // and marked text into account.\n  function insertLineContent(line, builder, styles) {\n    var spans = line.markedSpans, allText = line.text, at = 0;\n    if (!spans) {\n      for (var i$1 = 1; i$1 < styles.length; i$1+=2)\n        { builder.addToken(builder, allText.slice(at, at = styles[i$1]), interpretTokenStyle(styles[i$1+1], builder.cm.options)); }\n      return\n    }\n\n    var len = allText.length, pos = 0, i = 1, text = \"\", style, css;\n    var nextChange = 0, spanStyle, spanEndStyle, spanStartStyle, collapsed, attributes;\n    for (;;) {\n      if (nextChange == pos) { // Update current marker set\n        spanStyle = spanEndStyle = spanStartStyle = css = \"\";\n        attributes = null;\n        collapsed = null; nextChange = Infinity;\n        var foundBookmarks = [], endStyles = (void 0);\n        for (var j = 0; j < spans.length; ++j) {\n          var sp = spans[j], m = sp.marker;\n          if (m.type == \"bookmark\" && sp.from == pos && m.widgetNode) {\n            foundBookmarks.push(m);\n          } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {\n            if (sp.to != null && sp.to != pos && nextChange > sp.to) {\n              nextChange = sp.to;\n              spanEndStyle = \"\";\n            }\n            if (m.className) { spanStyle += \" \" + m.className; }\n            if (m.css) { css = (css ? css + \";\" : \"\") + m.css; }\n            if (m.startStyle && sp.from == pos) { spanStartStyle += \" \" + m.startStyle; }\n            if (m.endStyle && sp.to == nextChange) { (endStyles || (endStyles = [])).push(m.endStyle, sp.to); }\n            // support for the old title property\n            // https://github.com/codemirror/CodeMirror/pull/5673\n            if (m.title) { (attributes || (attributes = {})).title = m.title; }\n            if (m.attributes) {\n              for (var attr in m.attributes)\n                { (attributes || (attributes = {}))[attr] = m.attributes[attr]; }\n            }\n            if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0))\n              { collapsed = sp; }\n          } else if (sp.from > pos && nextChange > sp.from) {\n            nextChange = sp.from;\n          }\n        }\n        if (endStyles) { for (var j$1 = 0; j$1 < endStyles.length; j$1 += 2)\n          { if (endStyles[j$1 + 1] == nextChange) { spanEndStyle += \" \" + endStyles[j$1]; } } }\n\n        if (!collapsed || collapsed.from == pos) { for (var j$2 = 0; j$2 < foundBookmarks.length; ++j$2)\n          { buildCollapsedSpan(builder, 0, foundBookmarks[j$2]); } }\n        if (collapsed && (collapsed.from || 0) == pos) {\n          buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos,\n                             collapsed.marker, collapsed.from == null);\n          if (collapsed.to == null) { return }\n          if (collapsed.to == pos) { collapsed = false; }\n        }\n      }\n      if (pos >= len) { break }\n\n      var upto = Math.min(len, nextChange);\n      while (true) {\n        if (text) {\n          var end = pos + text.length;\n          if (!collapsed) {\n            var tokenText = end > upto ? text.slice(0, upto - pos) : text;\n            builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle,\n                             spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : \"\", css, attributes);\n          }\n          if (end >= upto) {text = text.slice(upto - pos); pos = upto; break}\n          pos = end;\n          spanStartStyle = \"\";\n        }\n        text = allText.slice(at, at = styles[i++]);\n        style = interpretTokenStyle(styles[i++], builder.cm.options);\n      }\n    }\n  }\n\n\n  // These objects are used to represent the visible (currently drawn)\n  // part of the document. A LineView may correspond to multiple\n  // logical lines, if those are connected by collapsed ranges.\n  function LineView(doc, line, lineN) {\n    // The starting line\n    this.line = line;\n    // Continuing lines, if any\n    this.rest = visualLineContinued(line);\n    // Number of logical lines in this visual line\n    this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1;\n    this.node = this.text = null;\n    this.hidden = lineIsHidden(doc, line);\n  }\n\n  // Create a range of LineView objects for the given lines.\n  function buildViewArray(cm, from, to) {\n    var array = [], nextPos;\n    for (var pos = from; pos < to; pos = nextPos) {\n      var view = new LineView(cm.doc, getLine(cm.doc, pos), pos);\n      nextPos = pos + view.size;\n      array.push(view);\n    }\n    return array\n  }\n\n  var operationGroup = null;\n\n  function pushOperation(op) {\n    if (operationGroup) {\n      operationGroup.ops.push(op);\n    } else {\n      op.ownsGroup = operationGroup = {\n        ops: [op],\n        delayedCallbacks: []\n      };\n    }\n  }\n\n  function fireCallbacksForOps(group) {\n    // Calls delayed callbacks and cursorActivity handlers until no\n    // new ones appear\n    var callbacks = group.delayedCallbacks, i = 0;\n    do {\n      for (; i < callbacks.length; i++)\n        { callbacks[i].call(null); }\n      for (var j = 0; j < group.ops.length; j++) {\n        var op = group.ops[j];\n        if (op.cursorActivityHandlers)\n          { while (op.cursorActivityCalled < op.cursorActivityHandlers.length)\n            { op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm); } }\n      }\n    } while (i < callbacks.length)\n  }\n\n  function finishOperation(op, endCb) {\n    var group = op.ownsGroup;\n    if (!group) { return }\n\n    try { fireCallbacksForOps(group); }\n    finally {\n      operationGroup = null;\n      endCb(group);\n    }\n  }\n\n  var orphanDelayedCallbacks = null;\n\n  // Often, we want to signal events at a point where we are in the\n  // middle of some work, but don't want the handler to start calling\n  // other methods on the editor, which might be in an inconsistent\n  // state or simply not expect any other events to happen.\n  // signalLater looks whether there are any handlers, and schedules\n  // them to be executed when the last operation ends, or, if no\n  // operation is active, when a timeout fires.\n  function signalLater(emitter, type /*, values...*/) {\n    var arr = getHandlers(emitter, type);\n    if (!arr.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2), list;\n    if (operationGroup) {\n      list = operationGroup.delayedCallbacks;\n    } else if (orphanDelayedCallbacks) {\n      list = orphanDelayedCallbacks;\n    } else {\n      list = orphanDelayedCallbacks = [];\n      setTimeout(fireOrphanDelayed, 0);\n    }\n    var loop = function ( i ) {\n      list.push(function () { return arr[i].apply(null, args); });\n    };\n\n    for (var i = 0; i < arr.length; ++i)\n      loop( i );\n  }\n\n  function fireOrphanDelayed() {\n    var delayed = orphanDelayedCallbacks;\n    orphanDelayedCallbacks = null;\n    for (var i = 0; i < delayed.length; ++i) { delayed[i](); }\n  }\n\n  // When an aspect of a line changes, a string is added to\n  // lineView.changes. This updates the relevant part of the line's\n  // DOM structure.\n  function updateLineForChanges(cm, lineView, lineN, dims) {\n    for (var j = 0; j < lineView.changes.length; j++) {\n      var type = lineView.changes[j];\n      if (type == \"text\") { updateLineText(cm, lineView); }\n      else if (type == \"gutter\") { updateLineGutter(cm, lineView, lineN, dims); }\n      else if (type == \"class\") { updateLineClasses(cm, lineView); }\n      else if (type == \"widget\") { updateLineWidgets(cm, lineView, dims); }\n    }\n    lineView.changes = null;\n  }\n\n  // Lines with gutter elements, widgets or a background class need to\n  // be wrapped, and have the extra elements added to the wrapper div\n  function ensureLineWrapped(lineView) {\n    if (lineView.node == lineView.text) {\n      lineView.node = elt(\"div\", null, null, \"position: relative\");\n      if (lineView.text.parentNode)\n        { lineView.text.parentNode.replaceChild(lineView.node, lineView.text); }\n      lineView.node.appendChild(lineView.text);\n      if (ie && ie_version < 8) { lineView.node.style.zIndex = 2; }\n    }\n    return lineView.node\n  }\n\n  function updateLineBackground(cm, lineView) {\n    var cls = lineView.bgClass ? lineView.bgClass + \" \" + (lineView.line.bgClass || \"\") : lineView.line.bgClass;\n    if (cls) { cls += \" CodeMirror-linebackground\"; }\n    if (lineView.background) {\n      if (cls) { lineView.background.className = cls; }\n      else { lineView.background.parentNode.removeChild(lineView.background); lineView.background = null; }\n    } else if (cls) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.background = wrap.insertBefore(elt(\"div\", null, cls), wrap.firstChild);\n      cm.display.input.setUneditable(lineView.background);\n    }\n  }\n\n  // Wrapper around buildLineContent which will reuse the structure\n  // in display.externalMeasured when possible.\n  function getLineContent(cm, lineView) {\n    var ext = cm.display.externalMeasured;\n    if (ext && ext.line == lineView.line) {\n      cm.display.externalMeasured = null;\n      lineView.measure = ext.measure;\n      return ext.built\n    }\n    return buildLineContent(cm, lineView)\n  }\n\n  // Redraw the line's text. Interacts with the background and text\n  // classes because the mode may output tokens that influence these\n  // classes.\n  function updateLineText(cm, lineView) {\n    var cls = lineView.text.className;\n    var built = getLineContent(cm, lineView);\n    if (lineView.text == lineView.node) { lineView.node = built.pre; }\n    lineView.text.parentNode.replaceChild(built.pre, lineView.text);\n    lineView.text = built.pre;\n    if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {\n      lineView.bgClass = built.bgClass;\n      lineView.textClass = built.textClass;\n      updateLineClasses(cm, lineView);\n    } else if (cls) {\n      lineView.text.className = cls;\n    }\n  }\n\n  function updateLineClasses(cm, lineView) {\n    updateLineBackground(cm, lineView);\n    if (lineView.line.wrapClass)\n      { ensureLineWrapped(lineView).className = lineView.line.wrapClass; }\n    else if (lineView.node != lineView.text)\n      { lineView.node.className = \"\"; }\n    var textClass = lineView.textClass ? lineView.textClass + \" \" + (lineView.line.textClass || \"\") : lineView.line.textClass;\n    lineView.text.className = textClass || \"\";\n  }\n\n  function updateLineGutter(cm, lineView, lineN, dims) {\n    if (lineView.gutter) {\n      lineView.node.removeChild(lineView.gutter);\n      lineView.gutter = null;\n    }\n    if (lineView.gutterBackground) {\n      lineView.node.removeChild(lineView.gutterBackground);\n      lineView.gutterBackground = null;\n    }\n    if (lineView.line.gutterClass) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.gutterBackground = elt(\"div\", null, \"CodeMirror-gutter-background \" + lineView.line.gutterClass,\n                                      (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px; width: \" + (dims.gutterTotalWidth) + \"px\"));\n      cm.display.input.setUneditable(lineView.gutterBackground);\n      wrap.insertBefore(lineView.gutterBackground, lineView.text);\n    }\n    var markers = lineView.line.gutterMarkers;\n    if (cm.options.lineNumbers || markers) {\n      var wrap$1 = ensureLineWrapped(lineView);\n      var gutterWrap = lineView.gutter = elt(\"div\", null, \"CodeMirror-gutter-wrapper\", (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px\"));\n      gutterWrap.setAttribute(\"aria-hidden\", \"true\");\n      cm.display.input.setUneditable(gutterWrap);\n      wrap$1.insertBefore(gutterWrap, lineView.text);\n      if (lineView.line.gutterClass)\n        { gutterWrap.className += \" \" + lineView.line.gutterClass; }\n      if (cm.options.lineNumbers && (!markers || !markers[\"CodeMirror-linenumbers\"]))\n        { lineView.lineNumber = gutterWrap.appendChild(\n          elt(\"div\", lineNumberFor(cm.options, lineN),\n              \"CodeMirror-linenumber CodeMirror-gutter-elt\",\n              (\"left: \" + (dims.gutterLeft[\"CodeMirror-linenumbers\"]) + \"px; width: \" + (cm.display.lineNumInnerWidth) + \"px\"))); }\n      if (markers) { for (var k = 0; k < cm.display.gutterSpecs.length; ++k) {\n        var id = cm.display.gutterSpecs[k].className, found = markers.hasOwnProperty(id) && markers[id];\n        if (found)\n          { gutterWrap.appendChild(elt(\"div\", [found], \"CodeMirror-gutter-elt\",\n                                     (\"left: \" + (dims.gutterLeft[id]) + \"px; width: \" + (dims.gutterWidth[id]) + \"px\"))); }\n      } }\n    }\n  }\n\n  function updateLineWidgets(cm, lineView, dims) {\n    if (lineView.alignable) { lineView.alignable = null; }\n    var isWidget = classTest(\"CodeMirror-linewidget\");\n    for (var node = lineView.node.firstChild, next = (void 0); node; node = next) {\n      next = node.nextSibling;\n      if (isWidget.test(node.className)) { lineView.node.removeChild(node); }\n    }\n    insertLineWidgets(cm, lineView, dims);\n  }\n\n  // Build a line's DOM representation from scratch\n  function buildLineElement(cm, lineView, lineN, dims) {\n    var built = getLineContent(cm, lineView);\n    lineView.text = lineView.node = built.pre;\n    if (built.bgClass) { lineView.bgClass = built.bgClass; }\n    if (built.textClass) { lineView.textClass = built.textClass; }\n\n    updateLineClasses(cm, lineView);\n    updateLineGutter(cm, lineView, lineN, dims);\n    insertLineWidgets(cm, lineView, dims);\n    return lineView.node\n  }\n\n  // A lineView may contain multiple logical lines (when merged by\n  // collapsed spans). The widgets for all of them need to be drawn.\n  function insertLineWidgets(cm, lineView, dims) {\n    insertLineWidgetsFor(cm, lineView.line, lineView, dims, true);\n    if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n      { insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false); } }\n  }\n\n  function insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {\n    if (!line.widgets) { return }\n    var wrap = ensureLineWrapped(lineView);\n    for (var i = 0, ws = line.widgets; i < ws.length; ++i) {\n      var widget = ws[i], node = elt(\"div\", [widget.node], \"CodeMirror-linewidget\" + (widget.className ? \" \" + widget.className : \"\"));\n      if (!widget.handleMouseEvents) { node.setAttribute(\"cm-ignore-events\", \"true\"); }\n      positionLineWidget(widget, node, lineView, dims);\n      cm.display.input.setUneditable(node);\n      if (allowAbove && widget.above)\n        { wrap.insertBefore(node, lineView.gutter || lineView.text); }\n      else\n        { wrap.appendChild(node); }\n      signalLater(widget, \"redraw\");\n    }\n  }\n\n  function positionLineWidget(widget, node, lineView, dims) {\n    if (widget.noHScroll) {\n  (lineView.alignable || (lineView.alignable = [])).push(node);\n      var width = dims.wrapperWidth;\n      node.style.left = dims.fixedPos + \"px\";\n      if (!widget.coverGutter) {\n        width -= dims.gutterTotalWidth;\n        node.style.paddingLeft = dims.gutterTotalWidth + \"px\";\n      }\n      node.style.width = width + \"px\";\n    }\n    if (widget.coverGutter) {\n      node.style.zIndex = 5;\n      node.style.position = \"relative\";\n      if (!widget.noHScroll) { node.style.marginLeft = -dims.gutterTotalWidth + \"px\"; }\n    }\n  }\n\n  function widgetHeight(widget) {\n    if (widget.height != null) { return widget.height }\n    var cm = widget.doc.cm;\n    if (!cm) { return 0 }\n    if (!contains(document.body, widget.node)) {\n      var parentStyle = \"position: relative;\";\n      if (widget.coverGutter)\n        { parentStyle += \"margin-left: -\" + cm.display.gutters.offsetWidth + \"px;\"; }\n      if (widget.noHScroll)\n        { parentStyle += \"width: \" + cm.display.wrapper.clientWidth + \"px;\"; }\n      removeChildrenAndAdd(cm.display.measure, elt(\"div\", [widget.node], null, parentStyle));\n    }\n    return widget.height = widget.node.parentNode.offsetHeight\n  }\n\n  // Return true when the given mouse event happened in a widget\n  function eventInWidget(display, e) {\n    for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {\n      if (!n || (n.nodeType == 1 && n.getAttribute(\"cm-ignore-events\") == \"true\") ||\n          (n.parentNode == display.sizer && n != display.mover))\n        { return true }\n    }\n  }\n\n  // POSITION MEASUREMENT\n\n  function paddingTop(display) {return display.lineSpace.offsetTop}\n  function paddingVert(display) {return display.mover.offsetHeight - display.lineSpace.offsetHeight}\n  function paddingH(display) {\n    if (display.cachedPaddingH) { return display.cachedPaddingH }\n    var e = removeChildrenAndAdd(display.measure, elt(\"pre\", \"x\", \"CodeMirror-line-like\"));\n    var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle;\n    var data = {left: parseInt(style.paddingLeft), right: parseInt(style.paddingRight)};\n    if (!isNaN(data.left) && !isNaN(data.right)) { display.cachedPaddingH = data; }\n    return data\n  }\n\n  function scrollGap(cm) { return scrollerGap - cm.display.nativeBarWidth }\n  function displayWidth(cm) {\n    return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth\n  }\n  function displayHeight(cm) {\n    return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight\n  }\n\n  // Ensure the lineView.wrapping.heights array is populated. This is\n  // an array of bottom offsets for the lines that make up a drawn\n  // line. When lineWrapping is on, there might be more than one\n  // height.\n  function ensureLineHeights(cm, lineView, rect) {\n    var wrapping = cm.options.lineWrapping;\n    var curWidth = wrapping && displayWidth(cm);\n    if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {\n      var heights = lineView.measure.heights = [];\n      if (wrapping) {\n        lineView.measure.width = curWidth;\n        var rects = lineView.text.firstChild.getClientRects();\n        for (var i = 0; i < rects.length - 1; i++) {\n          var cur = rects[i], next = rects[i + 1];\n          if (Math.abs(cur.bottom - next.bottom) > 2)\n            { heights.push((cur.bottom + next.top) / 2 - rect.top); }\n        }\n      }\n      heights.push(rect.bottom - rect.top);\n    }\n  }\n\n  // Find a line map (mapping character offsets to text nodes) and a\n  // measurement cache for the given line number. (A line view might\n  // contain multiple lines when collapsed ranges are present.)\n  function mapFromLineView(lineView, line, lineN) {\n    if (lineView.line == line)\n      { return {map: lineView.measure.map, cache: lineView.measure.cache} }\n    if (lineView.rest) {\n      for (var i = 0; i < lineView.rest.length; i++)\n        { if (lineView.rest[i] == line)\n          { return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i]} } }\n      for (var i$1 = 0; i$1 < lineView.rest.length; i$1++)\n        { if (lineNo(lineView.rest[i$1]) > lineN)\n          { return {map: lineView.measure.maps[i$1], cache: lineView.measure.caches[i$1], before: true} } }\n    }\n  }\n\n  // Render a line into the hidden node display.externalMeasured. Used\n  // when measurement is needed for a line that's not in the viewport.\n  function updateExternalMeasurement(cm, line) {\n    line = visualLine(line);\n    var lineN = lineNo(line);\n    var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN);\n    view.lineN = lineN;\n    var built = view.built = buildLineContent(cm, view);\n    view.text = built.pre;\n    removeChildrenAndAdd(cm.display.lineMeasure, built.pre);\n    return view\n  }\n\n  // Get a {top, bottom, left, right} box (in line-local coordinates)\n  // for a given character.\n  function measureChar(cm, line, ch, bias) {\n    return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias)\n  }\n\n  // Find a line view that corresponds to the given line number.\n  function findViewForLine(cm, lineN) {\n    if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo)\n      { return cm.display.view[findViewIndex(cm, lineN)] }\n    var ext = cm.display.externalMeasured;\n    if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size)\n      { return ext }\n  }\n\n  // Measurement can be split in two steps, the set-up work that\n  // applies to the whole line, and the measurement of the actual\n  // character. Functions like coordsChar, that need to do a lot of\n  // measurements in a row, can thus ensure that the set-up work is\n  // only done once.\n  function prepareMeasureForLine(cm, line) {\n    var lineN = lineNo(line);\n    var view = findViewForLine(cm, lineN);\n    if (view && !view.text) {\n      view = null;\n    } else if (view && view.changes) {\n      updateLineForChanges(cm, view, lineN, getDimensions(cm));\n      cm.curOp.forceUpdate = true;\n    }\n    if (!view)\n      { view = updateExternalMeasurement(cm, line); }\n\n    var info = mapFromLineView(view, line, lineN);\n    return {\n      line: line, view: view, rect: null,\n      map: info.map, cache: info.cache, before: info.before,\n      hasHeights: false\n    }\n  }\n\n  // Given a prepared measurement object, measures the position of an\n  // actual character (or fetches it from the cache).\n  function measureCharPrepared(cm, prepared, ch, bias, varHeight) {\n    if (prepared.before) { ch = -1; }\n    var key = ch + (bias || \"\"), found;\n    if (prepared.cache.hasOwnProperty(key)) {\n      found = prepared.cache[key];\n    } else {\n      if (!prepared.rect)\n        { prepared.rect = prepared.view.text.getBoundingClientRect(); }\n      if (!prepared.hasHeights) {\n        ensureLineHeights(cm, prepared.view, prepared.rect);\n        prepared.hasHeights = true;\n      }\n      found = measureCharInner(cm, prepared, ch, bias);\n      if (!found.bogus) { prepared.cache[key] = found; }\n    }\n    return {left: found.left, right: found.right,\n            top: varHeight ? found.rtop : found.top,\n            bottom: varHeight ? found.rbottom : found.bottom}\n  }\n\n  var nullRect = {left: 0, right: 0, top: 0, bottom: 0};\n\n  function nodeAndOffsetInLineMap(map, ch, bias) {\n    var node, start, end, collapse, mStart, mEnd;\n    // First, search the line map for the text node corresponding to,\n    // or closest to, the target character.\n    for (var i = 0; i < map.length; i += 3) {\n      mStart = map[i];\n      mEnd = map[i + 1];\n      if (ch < mStart) {\n        start = 0; end = 1;\n        collapse = \"left\";\n      } else if (ch < mEnd) {\n        start = ch - mStart;\n        end = start + 1;\n      } else if (i == map.length - 3 || ch == mEnd && map[i + 3] > ch) {\n        end = mEnd - mStart;\n        start = end - 1;\n        if (ch >= mEnd) { collapse = \"right\"; }\n      }\n      if (start != null) {\n        node = map[i + 2];\n        if (mStart == mEnd && bias == (node.insertLeft ? \"left\" : \"right\"))\n          { collapse = bias; }\n        if (bias == \"left\" && start == 0)\n          { while (i && map[i - 2] == map[i - 3] && map[i - 1].insertLeft) {\n            node = map[(i -= 3) + 2];\n            collapse = \"left\";\n          } }\n        if (bias == \"right\" && start == mEnd - mStart)\n          { while (i < map.length - 3 && map[i + 3] == map[i + 4] && !map[i + 5].insertLeft) {\n            node = map[(i += 3) + 2];\n            collapse = \"right\";\n          } }\n        break\n      }\n    }\n    return {node: node, start: start, end: end, collapse: collapse, coverStart: mStart, coverEnd: mEnd}\n  }\n\n  function getUsefulRect(rects, bias) {\n    var rect = nullRect;\n    if (bias == \"left\") { for (var i = 0; i < rects.length; i++) {\n      if ((rect = rects[i]).left != rect.right) { break }\n    } } else { for (var i$1 = rects.length - 1; i$1 >= 0; i$1--) {\n      if ((rect = rects[i$1]).left != rect.right) { break }\n    } }\n    return rect\n  }\n\n  function measureCharInner(cm, prepared, ch, bias) {\n    var place = nodeAndOffsetInLineMap(prepared.map, ch, bias);\n    var node = place.node, start = place.start, end = place.end, collapse = place.collapse;\n\n    var rect;\n    if (node.nodeType == 3) { // If it is a text node, use a range to retrieve the coordinates.\n      for (var i$1 = 0; i$1 < 4; i$1++) { // Retry a maximum of 4 times when nonsense rectangles are returned\n        while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) { --start; }\n        while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) { ++end; }\n        if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart)\n          { rect = node.parentNode.getBoundingClientRect(); }\n        else\n          { rect = getUsefulRect(range(node, start, end).getClientRects(), bias); }\n        if (rect.left || rect.right || start == 0) { break }\n        end = start;\n        start = start - 1;\n        collapse = \"right\";\n      }\n      if (ie && ie_version < 11) { rect = maybeUpdateRectForZooming(cm.display.measure, rect); }\n    } else { // If it is a widget, simply get the box for the whole widget.\n      if (start > 0) { collapse = bias = \"right\"; }\n      var rects;\n      if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1)\n        { rect = rects[bias == \"right\" ? rects.length - 1 : 0]; }\n      else\n        { rect = node.getBoundingClientRect(); }\n    }\n    if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {\n      var rSpan = node.parentNode.getClientRects()[0];\n      if (rSpan)\n        { rect = {left: rSpan.left, right: rSpan.left + charWidth(cm.display), top: rSpan.top, bottom: rSpan.bottom}; }\n      else\n        { rect = nullRect; }\n    }\n\n    var rtop = rect.top - prepared.rect.top, rbot = rect.bottom - prepared.rect.top;\n    var mid = (rtop + rbot) / 2;\n    var heights = prepared.view.measure.heights;\n    var i = 0;\n    for (; i < heights.length - 1; i++)\n      { if (mid < heights[i]) { break } }\n    var top = i ? heights[i - 1] : 0, bot = heights[i];\n    var result = {left: (collapse == \"right\" ? rect.right : rect.left) - prepared.rect.left,\n                  right: (collapse == \"left\" ? rect.left : rect.right) - prepared.rect.left,\n                  top: top, bottom: bot};\n    if (!rect.left && !rect.right) { result.bogus = true; }\n    if (!cm.options.singleCursorHeightPerLine) { result.rtop = rtop; result.rbottom = rbot; }\n\n    return result\n  }\n\n  // Work around problem with bounding client rects on ranges being\n  // returned incorrectly when zoomed on IE10 and below.\n  function maybeUpdateRectForZooming(measure, rect) {\n    if (!window.screen || screen.logicalXDPI == null ||\n        screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure))\n      { return rect }\n    var scaleX = screen.logicalXDPI / screen.deviceXDPI;\n    var scaleY = screen.logicalYDPI / screen.deviceYDPI;\n    return {left: rect.left * scaleX, right: rect.right * scaleX,\n            top: rect.top * scaleY, bottom: rect.bottom * scaleY}\n  }\n\n  function clearLineMeasurementCacheFor(lineView) {\n    if (lineView.measure) {\n      lineView.measure.cache = {};\n      lineView.measure.heights = null;\n      if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n        { lineView.measure.caches[i] = {}; } }\n    }\n  }\n\n  function clearLineMeasurementCache(cm) {\n    cm.display.externalMeasure = null;\n    removeChildren(cm.display.lineMeasure);\n    for (var i = 0; i < cm.display.view.length; i++)\n      { clearLineMeasurementCacheFor(cm.display.view[i]); }\n  }\n\n  function clearCaches(cm) {\n    clearLineMeasurementCache(cm);\n    cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null;\n    if (!cm.options.lineWrapping) { cm.display.maxLineChanged = true; }\n    cm.display.lineNumChars = null;\n  }\n\n  function pageScrollX() {\n    // Work around https://bugs.chromium.org/p/chromium/issues/detail?id=489206\n    // which causes page_Offset and bounding client rects to use\n    // different reference viewports and invalidate our calculations.\n    if (chrome && android) { return -(document.body.getBoundingClientRect().left - parseInt(getComputedStyle(document.body).marginLeft)) }\n    return window.pageXOffset || (document.documentElement || document.body).scrollLeft\n  }\n  function pageScrollY() {\n    if (chrome && android) { return -(document.body.getBoundingClientRect().top - parseInt(getComputedStyle(document.body).marginTop)) }\n    return window.pageYOffset || (document.documentElement || document.body).scrollTop\n  }\n\n  function widgetTopHeight(lineObj) {\n    var height = 0;\n    if (lineObj.widgets) { for (var i = 0; i < lineObj.widgets.length; ++i) { if (lineObj.widgets[i].above)\n      { height += widgetHeight(lineObj.widgets[i]); } } }\n    return height\n  }\n\n  // Converts a {top, bottom, left, right} box from line-local\n  // coordinates into another coordinate system. Context may be one of\n  // \"line\", \"div\" (display.lineDiv), \"local\"./null (editor), \"window\",\n  // or \"page\".\n  function intoCoordSystem(cm, lineObj, rect, context, includeWidgets) {\n    if (!includeWidgets) {\n      var height = widgetTopHeight(lineObj);\n      rect.top += height; rect.bottom += height;\n    }\n    if (context == \"line\") { return rect }\n    if (!context) { context = \"local\"; }\n    var yOff = heightAtLine(lineObj);\n    if (context == \"local\") { yOff += paddingTop(cm.display); }\n    else { yOff -= cm.display.viewOffset; }\n    if (context == \"page\" || context == \"window\") {\n      var lOff = cm.display.lineSpace.getBoundingClientRect();\n      yOff += lOff.top + (context == \"window\" ? 0 : pageScrollY());\n      var xOff = lOff.left + (context == \"window\" ? 0 : pageScrollX());\n      rect.left += xOff; rect.right += xOff;\n    }\n    rect.top += yOff; rect.bottom += yOff;\n    return rect\n  }\n\n  // Coverts a box from \"div\" coords to another coordinate system.\n  // Context may be \"window\", \"page\", \"div\", or \"local\"./null.\n  function fromCoordSystem(cm, coords, context) {\n    if (context == \"div\") { return coords }\n    var left = coords.left, top = coords.top;\n    // First move into \"page\" coordinate system\n    if (context == \"page\") {\n      left -= pageScrollX();\n      top -= pageScrollY();\n    } else if (context == \"local\" || !context) {\n      var localBox = cm.display.sizer.getBoundingClientRect();\n      left += localBox.left;\n      top += localBox.top;\n    }\n\n    var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect();\n    return {left: left - lineSpaceBox.left, top: top - lineSpaceBox.top}\n  }\n\n  function charCoords(cm, pos, context, lineObj, bias) {\n    if (!lineObj) { lineObj = getLine(cm.doc, pos.line); }\n    return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context)\n  }\n\n  // Returns a box for a given cursor position, which may have an\n  // 'other' property containing the position of the secondary cursor\n  // on a bidi boundary.\n  // A cursor Pos(line, char, \"before\") is on the same visual line as `char - 1`\n  // and after `char - 1` in writing order of `char - 1`\n  // A cursor Pos(line, char, \"after\") is on the same visual line as `char`\n  // and before `char` in writing order of `char`\n  // Examples (upper-case letters are RTL, lower-case are LTR):\n  //     Pos(0, 1, ...)\n  //     before   after\n  // ab     a|b     a|b\n  // aB     a|B     aB|\n  // Ab     |Ab     A|b\n  // AB     B|A     B|A\n  // Every position after the last character on a line is considered to stick\n  // to the last character on the line.\n  function cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {\n    lineObj = lineObj || getLine(cm.doc, pos.line);\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    function get(ch, right) {\n      var m = measureCharPrepared(cm, preparedMeasure, ch, right ? \"right\" : \"left\", varHeight);\n      if (right) { m.left = m.right; } else { m.right = m.left; }\n      return intoCoordSystem(cm, lineObj, m, context)\n    }\n    var order = getOrder(lineObj, cm.doc.direction), ch = pos.ch, sticky = pos.sticky;\n    if (ch >= lineObj.text.length) {\n      ch = lineObj.text.length;\n      sticky = \"before\";\n    } else if (ch <= 0) {\n      ch = 0;\n      sticky = \"after\";\n    }\n    if (!order) { return get(sticky == \"before\" ? ch - 1 : ch, sticky == \"before\") }\n\n    function getBidi(ch, partPos, invert) {\n      var part = order[partPos], right = part.level == 1;\n      return get(invert ? ch - 1 : ch, right != invert)\n    }\n    var partPos = getBidiPartAt(order, ch, sticky);\n    var other = bidiOther;\n    var val = getBidi(ch, partPos, sticky == \"before\");\n    if (other != null) { val.other = getBidi(ch, other, sticky != \"before\"); }\n    return val\n  }\n\n  // Used to cheaply estimate the coordinates for a position. Used for\n  // intermediate scroll updates.\n  function estimateCoords(cm, pos) {\n    var left = 0;\n    pos = clipPos(cm.doc, pos);\n    if (!cm.options.lineWrapping) { left = charWidth(cm.display) * pos.ch; }\n    var lineObj = getLine(cm.doc, pos.line);\n    var top = heightAtLine(lineObj) + paddingTop(cm.display);\n    return {left: left, right: left, top: top, bottom: top + lineObj.height}\n  }\n\n  // Positions returned by coordsChar contain some extra information.\n  // xRel is the relative x position of the input coordinates compared\n  // to the found position (so xRel > 0 means the coordinates are to\n  // the right of the character position, for example). When outside\n  // is true, that means the coordinates lie outside the line's\n  // vertical range.\n  function PosWithInfo(line, ch, sticky, outside, xRel) {\n    var pos = Pos(line, ch, sticky);\n    pos.xRel = xRel;\n    if (outside) { pos.outside = outside; }\n    return pos\n  }\n\n  // Compute the character position closest to the given coordinates.\n  // Input must be lineSpace-local (\"div\" coordinate system).\n  function coordsChar(cm, x, y) {\n    var doc = cm.doc;\n    y += cm.display.viewOffset;\n    if (y < 0) { return PosWithInfo(doc.first, 0, null, -1, -1) }\n    var lineN = lineAtHeight(doc, y), last = doc.first + doc.size - 1;\n    if (lineN > last)\n      { return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, null, 1, 1) }\n    if (x < 0) { x = 0; }\n\n    var lineObj = getLine(doc, lineN);\n    for (;;) {\n      var found = coordsCharInner(cm, lineObj, lineN, x, y);\n      var collapsed = collapsedSpanAround(lineObj, found.ch + (found.xRel > 0 || found.outside > 0 ? 1 : 0));\n      if (!collapsed) { return found }\n      var rangeEnd = collapsed.find(1);\n      if (rangeEnd.line == lineN) { return rangeEnd }\n      lineObj = getLine(doc, lineN = rangeEnd.line);\n    }\n  }\n\n  function wrappedLineExtent(cm, lineObj, preparedMeasure, y) {\n    y -= widgetTopHeight(lineObj);\n    var end = lineObj.text.length;\n    var begin = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch - 1).bottom <= y; }, end, 0);\n    end = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch).top > y; }, begin, end);\n    return {begin: begin, end: end}\n  }\n\n  function wrappedLineExtentChar(cm, lineObj, preparedMeasure, target) {\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    var targetTop = intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, target), \"line\").top;\n    return wrappedLineExtent(cm, lineObj, preparedMeasure, targetTop)\n  }\n\n  // Returns true if the given side of a box is after the given\n  // coordinates, in top-to-bottom, left-to-right order.\n  function boxIsAfter(box, x, y, left) {\n    return box.bottom <= y ? false : box.top > y ? true : (left ? box.left : box.right) > x\n  }\n\n  function coordsCharInner(cm, lineObj, lineNo, x, y) {\n    // Move y into line-local coordinate space\n    y -= heightAtLine(lineObj);\n    var preparedMeasure = prepareMeasureForLine(cm, lineObj);\n    // When directly calling `measureCharPrepared`, we have to adjust\n    // for the widgets at this line.\n    var widgetHeight = widgetTopHeight(lineObj);\n    var begin = 0, end = lineObj.text.length, ltr = true;\n\n    var order = getOrder(lineObj, cm.doc.direction);\n    // If the line isn't plain left-to-right text, first figure out\n    // which bidi section the coordinates fall into.\n    if (order) {\n      var part = (cm.options.lineWrapping ? coordsBidiPartWrapped : coordsBidiPart)\n                   (cm, lineObj, lineNo, preparedMeasure, order, x, y);\n      ltr = part.level != 1;\n      // The awkward -1 offsets are needed because findFirst (called\n      // on these below) will treat its first bound as inclusive,\n      // second as exclusive, but we want to actually address the\n      // characters in the part's range\n      begin = ltr ? part.from : part.to - 1;\n      end = ltr ? part.to : part.from - 1;\n    }\n\n    // A binary search to find the first character whose bounding box\n    // starts after the coordinates. If we run across any whose box wrap\n    // the coordinates, store that.\n    var chAround = null, boxAround = null;\n    var ch = findFirst(function (ch) {\n      var box = measureCharPrepared(cm, preparedMeasure, ch);\n      box.top += widgetHeight; box.bottom += widgetHeight;\n      if (!boxIsAfter(box, x, y, false)) { return false }\n      if (box.top <= y && box.left <= x) {\n        chAround = ch;\n        boxAround = box;\n      }\n      return true\n    }, begin, end);\n\n    var baseX, sticky, outside = false;\n    // If a box around the coordinates was found, use that\n    if (boxAround) {\n      // Distinguish coordinates nearer to the left or right side of the box\n      var atLeft = x - boxAround.left < boxAround.right - x, atStart = atLeft == ltr;\n      ch = chAround + (atStart ? 0 : 1);\n      sticky = atStart ? \"after\" : \"before\";\n      baseX = atLeft ? boxAround.left : boxAround.right;\n    } else {\n      // (Adjust for extended bound, if necessary.)\n      if (!ltr && (ch == end || ch == begin)) { ch++; }\n      // To determine which side to associate with, get the box to the\n      // left of the character and compare it's vertical position to the\n      // coordinates\n      sticky = ch == 0 ? \"after\" : ch == lineObj.text.length ? \"before\" :\n        (measureCharPrepared(cm, preparedMeasure, ch - (ltr ? 1 : 0)).bottom + widgetHeight <= y) == ltr ?\n        \"after\" : \"before\";\n      // Now get accurate coordinates for this place, in order to get a\n      // base X position\n      var coords = cursorCoords(cm, Pos(lineNo, ch, sticky), \"line\", lineObj, preparedMeasure);\n      baseX = coords.left;\n      outside = y < coords.top ? -1 : y >= coords.bottom ? 1 : 0;\n    }\n\n    ch = skipExtendingChars(lineObj.text, ch, 1);\n    return PosWithInfo(lineNo, ch, sticky, outside, x - baseX)\n  }\n\n  function coordsBidiPart(cm, lineObj, lineNo, preparedMeasure, order, x, y) {\n    // Bidi parts are sorted left-to-right, and in a non-line-wrapping\n    // situation, we can take this ordering to correspond to the visual\n    // ordering. This finds the first part whose end is after the given\n    // coordinates.\n    var index = findFirst(function (i) {\n      var part = order[i], ltr = part.level != 1;\n      return boxIsAfter(cursorCoords(cm, Pos(lineNo, ltr ? part.to : part.from, ltr ? \"before\" : \"after\"),\n                                     \"line\", lineObj, preparedMeasure), x, y, true)\n    }, 0, order.length - 1);\n    var part = order[index];\n    // If this isn't the first part, the part's start is also after\n    // the coordinates, and the coordinates aren't on the same line as\n    // that start, move one part back.\n    if (index > 0) {\n      var ltr = part.level != 1;\n      var start = cursorCoords(cm, Pos(lineNo, ltr ? part.from : part.to, ltr ? \"after\" : \"before\"),\n                               \"line\", lineObj, preparedMeasure);\n      if (boxIsAfter(start, x, y, true) && start.top > y)\n        { part = order[index - 1]; }\n    }\n    return part\n  }\n\n  function coordsBidiPartWrapped(cm, lineObj, _lineNo, preparedMeasure, order, x, y) {\n    // In a wrapped line, rtl text on wrapping boundaries can do things\n    // that don't correspond to the ordering in our `order` array at\n    // all, so a binary search doesn't work, and we want to return a\n    // part that only spans one line so that the binary search in\n    // coordsCharInner is safe. As such, we first find the extent of the\n    // wrapped line, and then do a flat search in which we discard any\n    // spans that aren't on the line.\n    var ref = wrappedLineExtent(cm, lineObj, preparedMeasure, y);\n    var begin = ref.begin;\n    var end = ref.end;\n    if (/\\s/.test(lineObj.text.charAt(end - 1))) { end--; }\n    var part = null, closestDist = null;\n    for (var i = 0; i < order.length; i++) {\n      var p = order[i];\n      if (p.from >= end || p.to <= begin) { continue }\n      var ltr = p.level != 1;\n      var endX = measureCharPrepared(cm, preparedMeasure, ltr ? Math.min(end, p.to) - 1 : Math.max(begin, p.from)).right;\n      // Weigh against spans ending before this, so that they are only\n      // picked if nothing ends after\n      var dist = endX < x ? x - endX + 1e9 : endX - x;\n      if (!part || closestDist > dist) {\n        part = p;\n        closestDist = dist;\n      }\n    }\n    if (!part) { part = order[order.length - 1]; }\n    // Clip the part to the wrapped line.\n    if (part.from < begin) { part = {from: begin, to: part.to, level: part.level}; }\n    if (part.to > end) { part = {from: part.from, to: end, level: part.level}; }\n    return part\n  }\n\n  var measureText;\n  // Compute the default text height.\n  function textHeight(display) {\n    if (display.cachedTextHeight != null) { return display.cachedTextHeight }\n    if (measureText == null) {\n      measureText = elt(\"pre\", null, \"CodeMirror-line-like\");\n      // Measure a bunch of lines, for browsers that compute\n      // fractional heights.\n      for (var i = 0; i < 49; ++i) {\n        measureText.appendChild(document.createTextNode(\"x\"));\n        measureText.appendChild(elt(\"br\"));\n      }\n      measureText.appendChild(document.createTextNode(\"x\"));\n    }\n    removeChildrenAndAdd(display.measure, measureText);\n    var height = measureText.offsetHeight / 50;\n    if (height > 3) { display.cachedTextHeight = height; }\n    removeChildren(display.measure);\n    return height || 1\n  }\n\n  // Compute the default character width.\n  function charWidth(display) {\n    if (display.cachedCharWidth != null) { return display.cachedCharWidth }\n    var anchor = elt(\"span\", \"xxxxxxxxxx\");\n    var pre = elt(\"pre\", [anchor], \"CodeMirror-line-like\");\n    removeChildrenAndAdd(display.measure, pre);\n    var rect = anchor.getBoundingClientRect(), width = (rect.right - rect.left) / 10;\n    if (width > 2) { display.cachedCharWidth = width; }\n    return width || 10\n  }\n\n  // Do a bulk-read of the DOM positions and sizes needed to draw the\n  // view, so that we don't interleave reading and writing to the DOM.\n  function getDimensions(cm) {\n    var d = cm.display, left = {}, width = {};\n    var gutterLeft = d.gutters.clientLeft;\n    for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {\n      var id = cm.display.gutterSpecs[i].className;\n      left[id] = n.offsetLeft + n.clientLeft + gutterLeft;\n      width[id] = n.clientWidth;\n    }\n    return {fixedPos: compensateForHScroll(d),\n            gutterTotalWidth: d.gutters.offsetWidth,\n            gutterLeft: left,\n            gutterWidth: width,\n            wrapperWidth: d.wrapper.clientWidth}\n  }\n\n  // Computes display.scroller.scrollLeft + display.gutters.offsetWidth,\n  // but using getBoundingClientRect to get a sub-pixel-accurate\n  // result.\n  function compensateForHScroll(display) {\n    return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left\n  }\n\n  // Returns a function that estimates the height of a line, to use as\n  // first approximation until the line becomes visible (and is thus\n  // properly measurable).\n  function estimateHeight(cm) {\n    var th = textHeight(cm.display), wrapping = cm.options.lineWrapping;\n    var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3);\n    return function (line) {\n      if (lineIsHidden(cm.doc, line)) { return 0 }\n\n      var widgetsHeight = 0;\n      if (line.widgets) { for (var i = 0; i < line.widgets.length; i++) {\n        if (line.widgets[i].height) { widgetsHeight += line.widgets[i].height; }\n      } }\n\n      if (wrapping)\n        { return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th }\n      else\n        { return widgetsHeight + th }\n    }\n  }\n\n  function estimateLineHeights(cm) {\n    var doc = cm.doc, est = estimateHeight(cm);\n    doc.iter(function (line) {\n      var estHeight = est(line);\n      if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n    });\n  }\n\n  // Given a mouse event, find the corresponding position. If liberal\n  // is false, it checks whether a gutter or scrollbar was clicked,\n  // and returns null if it was. forRect is used by rectangular\n  // selections, and tries to estimate a character position even for\n  // coordinates beyond the right of the text.\n  function posFromMouse(cm, e, liberal, forRect) {\n    var display = cm.display;\n    if (!liberal && e_target(e).getAttribute(\"cm-not-content\") == \"true\") { return null }\n\n    var x, y, space = display.lineSpace.getBoundingClientRect();\n    // Fails unpredictably on IE[67] when mouse is dragged around quickly.\n    try { x = e.clientX - space.left; y = e.clientY - space.top; }\n    catch (e$1) { return null }\n    var coords = coordsChar(cm, x, y), line;\n    if (forRect && coords.xRel > 0 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {\n      var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length;\n      coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff));\n    }\n    return coords\n  }\n\n  // Find the view element corresponding to a given line. Return null\n  // when the line isn't visible.\n  function findViewIndex(cm, n) {\n    if (n >= cm.display.viewTo) { return null }\n    n -= cm.display.viewFrom;\n    if (n < 0) { return null }\n    var view = cm.display.view;\n    for (var i = 0; i < view.length; i++) {\n      n -= view[i].size;\n      if (n < 0) { return i }\n    }\n  }\n\n  // Updates the display.view data structure for a given change to the\n  // document. From and to are in pre-change coordinates. Lendiff is\n  // the amount of lines added or subtracted by the change. This is\n  // used for changes that span multiple lines, or change the way\n  // lines are divided into visual lines. regLineChange (below)\n  // registers single-line changes.\n  function regChange(cm, from, to, lendiff) {\n    if (from == null) { from = cm.doc.first; }\n    if (to == null) { to = cm.doc.first + cm.doc.size; }\n    if (!lendiff) { lendiff = 0; }\n\n    var display = cm.display;\n    if (lendiff && to < display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers > from))\n      { display.updateLineNumbers = from; }\n\n    cm.curOp.viewChanged = true;\n\n    if (from >= display.viewTo) { // Change after\n      if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo)\n        { resetView(cm); }\n    } else if (to <= display.viewFrom) { // Change before\n      if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {\n        resetView(cm);\n      } else {\n        display.viewFrom += lendiff;\n        display.viewTo += lendiff;\n      }\n    } else if (from <= display.viewFrom && to >= display.viewTo) { // Full overlap\n      resetView(cm);\n    } else if (from <= display.viewFrom) { // Top overlap\n      var cut = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cut) {\n        display.view = display.view.slice(cut.index);\n        display.viewFrom = cut.lineN;\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    } else if (to >= display.viewTo) { // Bottom overlap\n      var cut$1 = viewCuttingPoint(cm, from, from, -1);\n      if (cut$1) {\n        display.view = display.view.slice(0, cut$1.index);\n        display.viewTo = cut$1.lineN;\n      } else {\n        resetView(cm);\n      }\n    } else { // Gap in the middle\n      var cutTop = viewCuttingPoint(cm, from, from, -1);\n      var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cutTop && cutBot) {\n        display.view = display.view.slice(0, cutTop.index)\n          .concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN))\n          .concat(display.view.slice(cutBot.index));\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    }\n\n    var ext = display.externalMeasured;\n    if (ext) {\n      if (to < ext.lineN)\n        { ext.lineN += lendiff; }\n      else if (from < ext.lineN + ext.size)\n        { display.externalMeasured = null; }\n    }\n  }\n\n  // Register a change to a single line. Type must be one of \"text\",\n  // \"gutter\", \"class\", \"widget\"\n  function regLineChange(cm, line, type) {\n    cm.curOp.viewChanged = true;\n    var display = cm.display, ext = cm.display.externalMeasured;\n    if (ext && line >= ext.lineN && line < ext.lineN + ext.size)\n      { display.externalMeasured = null; }\n\n    if (line < display.viewFrom || line >= display.viewTo) { return }\n    var lineView = display.view[findViewIndex(cm, line)];\n    if (lineView.node == null) { return }\n    var arr = lineView.changes || (lineView.changes = []);\n    if (indexOf(arr, type) == -1) { arr.push(type); }\n  }\n\n  // Clear the view.\n  function resetView(cm) {\n    cm.display.viewFrom = cm.display.viewTo = cm.doc.first;\n    cm.display.view = [];\n    cm.display.viewOffset = 0;\n  }\n\n  function viewCuttingPoint(cm, oldN, newN, dir) {\n    var index = findViewIndex(cm, oldN), diff, view = cm.display.view;\n    if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size)\n      { return {index: index, lineN: newN} }\n    var n = cm.display.viewFrom;\n    for (var i = 0; i < index; i++)\n      { n += view[i].size; }\n    if (n != oldN) {\n      if (dir > 0) {\n        if (index == view.length - 1) { return null }\n        diff = (n + view[index].size) - oldN;\n        index++;\n      } else {\n        diff = n - oldN;\n      }\n      oldN += diff; newN += diff;\n    }\n    while (visualLineNo(cm.doc, newN) != newN) {\n      if (index == (dir < 0 ? 0 : view.length - 1)) { return null }\n      newN += dir * view[index - (dir < 0 ? 1 : 0)].size;\n      index += dir;\n    }\n    return {index: index, lineN: newN}\n  }\n\n  // Force the view to cover a given range, adding empty view element\n  // or clipping off existing ones as needed.\n  function adjustView(cm, from, to) {\n    var display = cm.display, view = display.view;\n    if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {\n      display.view = buildViewArray(cm, from, to);\n      display.viewFrom = from;\n    } else {\n      if (display.viewFrom > from)\n        { display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view); }\n      else if (display.viewFrom < from)\n        { display.view = display.view.slice(findViewIndex(cm, from)); }\n      display.viewFrom = from;\n      if (display.viewTo < to)\n        { display.view = display.view.concat(buildViewArray(cm, display.viewTo, to)); }\n      else if (display.viewTo > to)\n        { display.view = display.view.slice(0, findViewIndex(cm, to)); }\n    }\n    display.viewTo = to;\n  }\n\n  // Count the number of lines in the view whose DOM representation is\n  // out of date (or nonexistent).\n  function countDirtyView(cm) {\n    var view = cm.display.view, dirty = 0;\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (!lineView.hidden && (!lineView.node || lineView.changes)) { ++dirty; }\n    }\n    return dirty\n  }\n\n  function updateSelection(cm) {\n    cm.display.input.showSelection(cm.display.input.prepareSelection());\n  }\n\n  function prepareSelection(cm, primary) {\n    if ( primary === void 0 ) primary = true;\n\n    var doc = cm.doc, result = {};\n    var curFragment = result.cursors = document.createDocumentFragment();\n    var selFragment = result.selection = document.createDocumentFragment();\n\n    var customCursor = cm.options.$customCursor;\n    if (customCursor) { primary = true; }\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      if (!primary && i == doc.sel.primIndex) { continue }\n      var range = doc.sel.ranges[i];\n      if (range.from().line >= cm.display.viewTo || range.to().line < cm.display.viewFrom) { continue }\n      var collapsed = range.empty();\n      if (customCursor) {\n        var head = customCursor(cm, range);\n        if (head) { drawSelectionCursor(cm, head, curFragment); }\n      } else if (collapsed || cm.options.showCursorWhenSelecting) {\n        drawSelectionCursor(cm, range.head, curFragment);\n      }\n      if (!collapsed)\n        { drawSelectionRange(cm, range, selFragment); }\n    }\n    return result\n  }\n\n  // Draws a cursor for the given range\n  function drawSelectionCursor(cm, head, output) {\n    var pos = cursorCoords(cm, head, \"div\", null, null, !cm.options.singleCursorHeightPerLine);\n\n    var cursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor\"));\n    cursor.style.left = pos.left + \"px\";\n    cursor.style.top = pos.top + \"px\";\n    cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + \"px\";\n\n    if (/\\bcm-fat-cursor\\b/.test(cm.getWrapperElement().className)) {\n      var charPos = charCoords(cm, head, \"div\", null, null);\n      var width = charPos.right - charPos.left;\n      cursor.style.width = (width > 0 ? width : cm.defaultCharWidth()) + \"px\";\n    }\n\n    if (pos.other) {\n      // Secondary cursor, shown when on a 'jump' in bi-directional text\n      var otherCursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor CodeMirror-secondarycursor\"));\n      otherCursor.style.display = \"\";\n      otherCursor.style.left = pos.other.left + \"px\";\n      otherCursor.style.top = pos.other.top + \"px\";\n      otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + \"px\";\n    }\n  }\n\n  function cmpCoords(a, b) { return a.top - b.top || a.left - b.left }\n\n  // Draws the given range as a highlighted selection\n  function drawSelectionRange(cm, range, output) {\n    var display = cm.display, doc = cm.doc;\n    var fragment = document.createDocumentFragment();\n    var padding = paddingH(cm.display), leftSide = padding.left;\n    var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right;\n    var docLTR = doc.direction == \"ltr\";\n\n    function add(left, top, width, bottom) {\n      if (top < 0) { top = 0; }\n      top = Math.round(top);\n      bottom = Math.round(bottom);\n      fragment.appendChild(elt(\"div\", null, \"CodeMirror-selected\", (\"position: absolute; left: \" + left + \"px;\\n                             top: \" + top + \"px; width: \" + (width == null ? rightSide - left : width) + \"px;\\n                             height: \" + (bottom - top) + \"px\")));\n    }\n\n    function drawForLine(line, fromArg, toArg) {\n      var lineObj = getLine(doc, line);\n      var lineLen = lineObj.text.length;\n      var start, end;\n      function coords(ch, bias) {\n        return charCoords(cm, Pos(line, ch), \"div\", lineObj, bias)\n      }\n\n      function wrapX(pos, dir, side) {\n        var extent = wrappedLineExtentChar(cm, lineObj, null, pos);\n        var prop = (dir == \"ltr\") == (side == \"after\") ? \"left\" : \"right\";\n        var ch = side == \"after\" ? extent.begin : extent.end - (/\\s/.test(lineObj.text.charAt(extent.end - 1)) ? 2 : 1);\n        return coords(ch, prop)[prop]\n      }\n\n      var order = getOrder(lineObj, doc.direction);\n      iterateBidiSections(order, fromArg || 0, toArg == null ? lineLen : toArg, function (from, to, dir, i) {\n        var ltr = dir == \"ltr\";\n        var fromPos = coords(from, ltr ? \"left\" : \"right\");\n        var toPos = coords(to - 1, ltr ? \"right\" : \"left\");\n\n        var openStart = fromArg == null && from == 0, openEnd = toArg == null && to == lineLen;\n        var first = i == 0, last = !order || i == order.length - 1;\n        if (toPos.top - fromPos.top <= 3) { // Single line\n          var openLeft = (docLTR ? openStart : openEnd) && first;\n          var openRight = (docLTR ? openEnd : openStart) && last;\n          var left = openLeft ? leftSide : (ltr ? fromPos : toPos).left;\n          var right = openRight ? rightSide : (ltr ? toPos : fromPos).right;\n          add(left, fromPos.top, right - left, fromPos.bottom);\n        } else { // Multiple lines\n          var topLeft, topRight, botLeft, botRight;\n          if (ltr) {\n            topLeft = docLTR && openStart && first ? leftSide : fromPos.left;\n            topRight = docLTR ? rightSide : wrapX(from, dir, \"before\");\n            botLeft = docLTR ? leftSide : wrapX(to, dir, \"after\");\n            botRight = docLTR && openEnd && last ? rightSide : toPos.right;\n          } else {\n            topLeft = !docLTR ? leftSide : wrapX(from, dir, \"before\");\n            topRight = !docLTR && openStart && first ? rightSide : fromPos.right;\n            botLeft = !docLTR && openEnd && last ? leftSide : toPos.left;\n            botRight = !docLTR ? rightSide : wrapX(to, dir, \"after\");\n          }\n          add(topLeft, fromPos.top, topRight - topLeft, fromPos.bottom);\n          if (fromPos.bottom < toPos.top) { add(leftSide, fromPos.bottom, null, toPos.top); }\n          add(botLeft, toPos.top, botRight - botLeft, toPos.bottom);\n        }\n\n        if (!start || cmpCoords(fromPos, start) < 0) { start = fromPos; }\n        if (cmpCoords(toPos, start) < 0) { start = toPos; }\n        if (!end || cmpCoords(fromPos, end) < 0) { end = fromPos; }\n        if (cmpCoords(toPos, end) < 0) { end = toPos; }\n      });\n      return {start: start, end: end}\n    }\n\n    var sFrom = range.from(), sTo = range.to();\n    if (sFrom.line == sTo.line) {\n      drawForLine(sFrom.line, sFrom.ch, sTo.ch);\n    } else {\n      var fromLine = getLine(doc, sFrom.line), toLine = getLine(doc, sTo.line);\n      var singleVLine = visualLine(fromLine) == visualLine(toLine);\n      var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end;\n      var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start;\n      if (singleVLine) {\n        if (leftEnd.top < rightStart.top - 2) {\n          add(leftEnd.right, leftEnd.top, null, leftEnd.bottom);\n          add(leftSide, rightStart.top, rightStart.left, rightStart.bottom);\n        } else {\n          add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom);\n        }\n      }\n      if (leftEnd.bottom < rightStart.top)\n        { add(leftSide, leftEnd.bottom, null, rightStart.top); }\n    }\n\n    output.appendChild(fragment);\n  }\n\n  // Cursor-blinking\n  function restartBlink(cm) {\n    if (!cm.state.focused) { return }\n    var display = cm.display;\n    clearInterval(display.blinker);\n    var on = true;\n    display.cursorDiv.style.visibility = \"\";\n    if (cm.options.cursorBlinkRate > 0)\n      { display.blinker = setInterval(function () {\n        if (!cm.hasFocus()) { onBlur(cm); }\n        display.cursorDiv.style.visibility = (on = !on) ? \"\" : \"hidden\";\n      }, cm.options.cursorBlinkRate); }\n    else if (cm.options.cursorBlinkRate < 0)\n      { display.cursorDiv.style.visibility = \"hidden\"; }\n  }\n\n  function ensureFocus(cm) {\n    if (!cm.hasFocus()) {\n      cm.display.input.focus();\n      if (!cm.state.focused) { onFocus(cm); }\n    }\n  }\n\n  function delayBlurEvent(cm) {\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () { if (cm.state.delayingBlurEvent) {\n      cm.state.delayingBlurEvent = false;\n      if (cm.state.focused) { onBlur(cm); }\n    } }, 100);\n  }\n\n  function onFocus(cm, e) {\n    if (cm.state.delayingBlurEvent && !cm.state.draggingText) { cm.state.delayingBlurEvent = false; }\n\n    if (cm.options.readOnly == \"nocursor\") { return }\n    if (!cm.state.focused) {\n      signal(cm, \"focus\", cm, e);\n      cm.state.focused = true;\n      addClass(cm.display.wrapper, \"CodeMirror-focused\");\n      // This test prevents this from firing when a context\n      // menu is closed (since the input reset would kill the\n      // select-all detection hack)\n      if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {\n        cm.display.input.reset();\n        if (webkit) { setTimeout(function () { return cm.display.input.reset(true); }, 20); } // Issue #1730\n      }\n      cm.display.input.receivedFocus();\n    }\n    restartBlink(cm);\n  }\n  function onBlur(cm, e) {\n    if (cm.state.delayingBlurEvent) { return }\n\n    if (cm.state.focused) {\n      signal(cm, \"blur\", cm, e);\n      cm.state.focused = false;\n      rmClass(cm.display.wrapper, \"CodeMirror-focused\");\n    }\n    clearInterval(cm.display.blinker);\n    setTimeout(function () { if (!cm.state.focused) { cm.display.shift = false; } }, 150);\n  }\n\n  // Read the actual heights of the rendered lines, and update their\n  // stored heights to match.\n  function updateHeightsInViewport(cm) {\n    var display = cm.display;\n    var prevBottom = display.lineDiv.offsetTop;\n    var viewTop = Math.max(0, display.scroller.getBoundingClientRect().top);\n    var oldHeight = display.lineDiv.getBoundingClientRect().top;\n    var mustScroll = 0;\n    for (var i = 0; i < display.view.length; i++) {\n      var cur = display.view[i], wrapping = cm.options.lineWrapping;\n      var height = (void 0), width = 0;\n      if (cur.hidden) { continue }\n      oldHeight += cur.line.height;\n      if (ie && ie_version < 8) {\n        var bot = cur.node.offsetTop + cur.node.offsetHeight;\n        height = bot - prevBottom;\n        prevBottom = bot;\n      } else {\n        var box = cur.node.getBoundingClientRect();\n        height = box.bottom - box.top;\n        // Check that lines don't extend past the right of the current\n        // editor width\n        if (!wrapping && cur.text.firstChild)\n          { width = cur.text.firstChild.getBoundingClientRect().right - box.left - 1; }\n      }\n      var diff = cur.line.height - height;\n      if (diff > .005 || diff < -.005) {\n        if (oldHeight < viewTop) { mustScroll -= diff; }\n        updateLineHeight(cur.line, height);\n        updateWidgetHeight(cur.line);\n        if (cur.rest) { for (var j = 0; j < cur.rest.length; j++)\n          { updateWidgetHeight(cur.rest[j]); } }\n      }\n      if (width > cm.display.sizerWidth) {\n        var chWidth = Math.ceil(width / charWidth(cm.display));\n        if (chWidth > cm.display.maxLineLength) {\n          cm.display.maxLineLength = chWidth;\n          cm.display.maxLine = cur.line;\n          cm.display.maxLineChanged = true;\n        }\n      }\n    }\n    if (Math.abs(mustScroll) > 2) { display.scroller.scrollTop += mustScroll; }\n  }\n\n  // Read and store the height of line widgets associated with the\n  // given line.\n  function updateWidgetHeight(line) {\n    if (line.widgets) { for (var i = 0; i < line.widgets.length; ++i) {\n      var w = line.widgets[i], parent = w.node.parentNode;\n      if (parent) { w.height = parent.offsetHeight; }\n    } }\n  }\n\n  // Compute the lines that are visible in a given viewport (defaults\n  // the the current scroll position). viewport may contain top,\n  // height, and ensure (see op.scrollToPos) properties.\n  function visibleLines(display, doc, viewport) {\n    var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop;\n    top = Math.floor(top - paddingTop(display));\n    var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight;\n\n    var from = lineAtHeight(doc, top), to = lineAtHeight(doc, bottom);\n    // Ensure is a {from: {line, ch}, to: {line, ch}} object, and\n    // forces those lines into the viewport (if possible).\n    if (viewport && viewport.ensure) {\n      var ensureFrom = viewport.ensure.from.line, ensureTo = viewport.ensure.to.line;\n      if (ensureFrom < from) {\n        from = ensureFrom;\n        to = lineAtHeight(doc, heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight);\n      } else if (Math.min(ensureTo, doc.lastLine()) >= to) {\n        from = lineAtHeight(doc, heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight);\n        to = ensureTo;\n      }\n    }\n    return {from: from, to: Math.max(to, from + 1)}\n  }\n\n  // SCROLLING THINGS INTO VIEW\n\n  // If an editor sits on the top or bottom of the window, partially\n  // scrolled out of view, this ensures that the cursor is visible.\n  function maybeScrollWindow(cm, rect) {\n    if (signalDOMEvent(cm, \"scrollCursorIntoView\")) { return }\n\n    var display = cm.display, box = display.sizer.getBoundingClientRect(), doScroll = null;\n    if (rect.top + box.top < 0) { doScroll = true; }\n    else if (rect.bottom + box.top > (window.innerHeight || document.documentElement.clientHeight)) { doScroll = false; }\n    if (doScroll != null && !phantom) {\n      var scrollNode = elt(\"div\", \"\\u200b\", null, (\"position: absolute;\\n                         top: \" + (rect.top - display.viewOffset - paddingTop(cm.display)) + \"px;\\n                         height: \" + (rect.bottom - rect.top + scrollGap(cm) + display.barHeight) + \"px;\\n                         left: \" + (rect.left) + \"px; width: \" + (Math.max(2, rect.right - rect.left)) + \"px;\"));\n      cm.display.lineSpace.appendChild(scrollNode);\n      scrollNode.scrollIntoView(doScroll);\n      cm.display.lineSpace.removeChild(scrollNode);\n    }\n  }\n\n  // Scroll a given position into view (immediately), verifying that\n  // it actually became visible (as line heights are accurately\n  // measured, the position of something may 'drift' during drawing).\n  function scrollPosIntoView(cm, pos, end, margin) {\n    if (margin == null) { margin = 0; }\n    var rect;\n    if (!cm.options.lineWrapping && pos == end) {\n      // Set pos and end to the cursor positions around the character pos sticks to\n      // If pos.sticky == \"before\", that is around pos.ch - 1, otherwise around pos.ch\n      // If pos == Pos(_, 0, \"before\"), pos and end are unchanged\n      end = pos.sticky == \"before\" ? Pos(pos.line, pos.ch + 1, \"before\") : pos;\n      pos = pos.ch ? Pos(pos.line, pos.sticky == \"before\" ? pos.ch - 1 : pos.ch, \"after\") : pos;\n    }\n    for (var limit = 0; limit < 5; limit++) {\n      var changed = false;\n      var coords = cursorCoords(cm, pos);\n      var endCoords = !end || end == pos ? coords : cursorCoords(cm, end);\n      rect = {left: Math.min(coords.left, endCoords.left),\n              top: Math.min(coords.top, endCoords.top) - margin,\n              right: Math.max(coords.left, endCoords.left),\n              bottom: Math.max(coords.bottom, endCoords.bottom) + margin};\n      var scrollPos = calculateScrollPos(cm, rect);\n      var startTop = cm.doc.scrollTop, startLeft = cm.doc.scrollLeft;\n      if (scrollPos.scrollTop != null) {\n        updateScrollTop(cm, scrollPos.scrollTop);\n        if (Math.abs(cm.doc.scrollTop - startTop) > 1) { changed = true; }\n      }\n      if (scrollPos.scrollLeft != null) {\n        setScrollLeft(cm, scrollPos.scrollLeft);\n        if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) { changed = true; }\n      }\n      if (!changed) { break }\n    }\n    return rect\n  }\n\n  // Scroll a given set of coordinates into view (immediately).\n  function scrollIntoView(cm, rect) {\n    var scrollPos = calculateScrollPos(cm, rect);\n    if (scrollPos.scrollTop != null) { updateScrollTop(cm, scrollPos.scrollTop); }\n    if (scrollPos.scrollLeft != null) { setScrollLeft(cm, scrollPos.scrollLeft); }\n  }\n\n  // Calculate a new scroll position needed to scroll the given\n  // rectangle into view. Returns an object with scrollTop and\n  // scrollLeft properties. When these are undefined, the\n  // vertical/horizontal position does not need to be adjusted.\n  function calculateScrollPos(cm, rect) {\n    var display = cm.display, snapMargin = textHeight(cm.display);\n    if (rect.top < 0) { rect.top = 0; }\n    var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop;\n    var screen = displayHeight(cm), result = {};\n    if (rect.bottom - rect.top > screen) { rect.bottom = rect.top + screen; }\n    var docBottom = cm.doc.height + paddingVert(display);\n    var atTop = rect.top < snapMargin, atBottom = rect.bottom > docBottom - snapMargin;\n    if (rect.top < screentop) {\n      result.scrollTop = atTop ? 0 : rect.top;\n    } else if (rect.bottom > screentop + screen) {\n      var newTop = Math.min(rect.top, (atBottom ? docBottom : rect.bottom) - screen);\n      if (newTop != screentop) { result.scrollTop = newTop; }\n    }\n\n    var gutterSpace = cm.options.fixedGutter ? 0 : display.gutters.offsetWidth;\n    var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft - gutterSpace;\n    var screenw = displayWidth(cm) - display.gutters.offsetWidth;\n    var tooWide = rect.right - rect.left > screenw;\n    if (tooWide) { rect.right = rect.left + screenw; }\n    if (rect.left < 10)\n      { result.scrollLeft = 0; }\n    else if (rect.left < screenleft)\n      { result.scrollLeft = Math.max(0, rect.left + gutterSpace - (tooWide ? 0 : 10)); }\n    else if (rect.right > screenw + screenleft - 3)\n      { result.scrollLeft = rect.right + (tooWide ? 0 : 10) - screenw; }\n    return result\n  }\n\n  // Store a relative adjustment to the scroll position in the current\n  // operation (to be applied when the operation finishes).\n  function addToScrollTop(cm, top) {\n    if (top == null) { return }\n    resolveScrollToPos(cm);\n    cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top;\n  }\n\n  // Make sure that at the end of the operation the current cursor is\n  // shown.\n  function ensureCursorVisible(cm) {\n    resolveScrollToPos(cm);\n    var cur = cm.getCursor();\n    cm.curOp.scrollToPos = {from: cur, to: cur, margin: cm.options.cursorScrollMargin};\n  }\n\n  function scrollToCoords(cm, x, y) {\n    if (x != null || y != null) { resolveScrollToPos(cm); }\n    if (x != null) { cm.curOp.scrollLeft = x; }\n    if (y != null) { cm.curOp.scrollTop = y; }\n  }\n\n  function scrollToRange(cm, range) {\n    resolveScrollToPos(cm);\n    cm.curOp.scrollToPos = range;\n  }\n\n  // When an operation has its scrollToPos property set, and another\n  // scroll action is applied before the end of the operation, this\n  // 'simulates' scrolling that position into view in a cheap way, so\n  // that the effect of intermediate scroll commands is not ignored.\n  function resolveScrollToPos(cm) {\n    var range = cm.curOp.scrollToPos;\n    if (range) {\n      cm.curOp.scrollToPos = null;\n      var from = estimateCoords(cm, range.from), to = estimateCoords(cm, range.to);\n      scrollToCoordsRange(cm, from, to, range.margin);\n    }\n  }\n\n  function scrollToCoordsRange(cm, from, to, margin) {\n    var sPos = calculateScrollPos(cm, {\n      left: Math.min(from.left, to.left),\n      top: Math.min(from.top, to.top) - margin,\n      right: Math.max(from.right, to.right),\n      bottom: Math.max(from.bottom, to.bottom) + margin\n    });\n    scrollToCoords(cm, sPos.scrollLeft, sPos.scrollTop);\n  }\n\n  // Sync the scrollable area and scrollbars, ensure the viewport\n  // covers the visible area.\n  function updateScrollTop(cm, val) {\n    if (Math.abs(cm.doc.scrollTop - val) < 2) { return }\n    if (!gecko) { updateDisplaySimple(cm, {top: val}); }\n    setScrollTop(cm, val, true);\n    if (gecko) { updateDisplaySimple(cm); }\n    startWorker(cm, 100);\n  }\n\n  function setScrollTop(cm, val, forceScroll) {\n    val = Math.max(0, Math.min(cm.display.scroller.scrollHeight - cm.display.scroller.clientHeight, val));\n    if (cm.display.scroller.scrollTop == val && !forceScroll) { return }\n    cm.doc.scrollTop = val;\n    cm.display.scrollbars.setScrollTop(val);\n    if (cm.display.scroller.scrollTop != val) { cm.display.scroller.scrollTop = val; }\n  }\n\n  // Sync scroller and scrollbar, ensure the gutter elements are\n  // aligned.\n  function setScrollLeft(cm, val, isScroller, forceScroll) {\n    val = Math.max(0, Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth));\n    if ((isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) && !forceScroll) { return }\n    cm.doc.scrollLeft = val;\n    alignHorizontally(cm);\n    if (cm.display.scroller.scrollLeft != val) { cm.display.scroller.scrollLeft = val; }\n    cm.display.scrollbars.setScrollLeft(val);\n  }\n\n  // SCROLLBARS\n\n  // Prepare DOM reads needed to update the scrollbars. Done in one\n  // shot to minimize update/measure roundtrips.\n  function measureForScrollbars(cm) {\n    var d = cm.display, gutterW = d.gutters.offsetWidth;\n    var docH = Math.round(cm.doc.height + paddingVert(cm.display));\n    return {\n      clientHeight: d.scroller.clientHeight,\n      viewHeight: d.wrapper.clientHeight,\n      scrollWidth: d.scroller.scrollWidth, clientWidth: d.scroller.clientWidth,\n      viewWidth: d.wrapper.clientWidth,\n      barLeft: cm.options.fixedGutter ? gutterW : 0,\n      docHeight: docH,\n      scrollHeight: docH + scrollGap(cm) + d.barHeight,\n      nativeBarWidth: d.nativeBarWidth,\n      gutterWidth: gutterW\n    }\n  }\n\n  var NativeScrollbars = function(place, scroll, cm) {\n    this.cm = cm;\n    var vert = this.vert = elt(\"div\", [elt(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\");\n    var horiz = this.horiz = elt(\"div\", [elt(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\");\n    vert.tabIndex = horiz.tabIndex = -1;\n    place(vert); place(horiz);\n\n    on(vert, \"scroll\", function () {\n      if (vert.clientHeight) { scroll(vert.scrollTop, \"vertical\"); }\n    });\n    on(horiz, \"scroll\", function () {\n      if (horiz.clientWidth) { scroll(horiz.scrollLeft, \"horizontal\"); }\n    });\n\n    this.checkedZeroWidth = false;\n    // Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).\n    if (ie && ie_version < 8) { this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\"; }\n  };\n\n  NativeScrollbars.prototype.update = function (measure) {\n    var needsH = measure.scrollWidth > measure.clientWidth + 1;\n    var needsV = measure.scrollHeight > measure.clientHeight + 1;\n    var sWidth = measure.nativeBarWidth;\n\n    if (needsV) {\n      this.vert.style.display = \"block\";\n      this.vert.style.bottom = needsH ? sWidth + \"px\" : \"0\";\n      var totalHeight = measure.viewHeight - (needsH ? sWidth : 0);\n      // A bug in IE8 can cause this value to be negative, so guard it.\n      this.vert.firstChild.style.height =\n        Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + \"px\";\n    } else {\n      this.vert.scrollTop = 0;\n      this.vert.style.display = \"\";\n      this.vert.firstChild.style.height = \"0\";\n    }\n\n    if (needsH) {\n      this.horiz.style.display = \"block\";\n      this.horiz.style.right = needsV ? sWidth + \"px\" : \"0\";\n      this.horiz.style.left = measure.barLeft + \"px\";\n      var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0);\n      this.horiz.firstChild.style.width =\n        Math.max(0, measure.scrollWidth - measure.clientWidth + totalWidth) + \"px\";\n    } else {\n      this.horiz.style.display = \"\";\n      this.horiz.firstChild.style.width = \"0\";\n    }\n\n    if (!this.checkedZeroWidth && measure.clientHeight > 0) {\n      if (sWidth == 0) { this.zeroWidthHack(); }\n      this.checkedZeroWidth = true;\n    }\n\n    return {right: needsV ? sWidth : 0, bottom: needsH ? sWidth : 0}\n  };\n\n  NativeScrollbars.prototype.setScrollLeft = function (pos) {\n    if (this.horiz.scrollLeft != pos) { this.horiz.scrollLeft = pos; }\n    if (this.disableHoriz) { this.enableZeroWidthBar(this.horiz, this.disableHoriz, \"horiz\"); }\n  };\n\n  NativeScrollbars.prototype.setScrollTop = function (pos) {\n    if (this.vert.scrollTop != pos) { this.vert.scrollTop = pos; }\n    if (this.disableVert) { this.enableZeroWidthBar(this.vert, this.disableVert, \"vert\"); }\n  };\n\n  NativeScrollbars.prototype.zeroWidthHack = function () {\n    var w = mac && !mac_geMountainLion ? \"12px\" : \"18px\";\n    this.horiz.style.height = this.vert.style.width = w;\n    this.horiz.style.pointerEvents = this.vert.style.pointerEvents = \"none\";\n    this.disableHoriz = new Delayed;\n    this.disableVert = new Delayed;\n  };\n\n  NativeScrollbars.prototype.enableZeroWidthBar = function (bar, delay, type) {\n    bar.style.pointerEvents = \"auto\";\n    function maybeDisable() {\n      // To find out whether the scrollbar is still visible, we\n      // check whether the element under the pixel in the bottom\n      // right corner of the scrollbar box is the scrollbar box\n      // itself (when the bar is still visible) or its filler child\n      // (when the bar is hidden). If it is still visible, we keep\n      // it enabled, if it's hidden, we disable pointer events.\n      var box = bar.getBoundingClientRect();\n      var elt = type == \"vert\" ? document.elementFromPoint(box.right - 1, (box.top + box.bottom) / 2)\n          : document.elementFromPoint((box.right + box.left) / 2, box.bottom - 1);\n      if (elt != bar) { bar.style.pointerEvents = \"none\"; }\n      else { delay.set(1000, maybeDisable); }\n    }\n    delay.set(1000, maybeDisable);\n  };\n\n  NativeScrollbars.prototype.clear = function () {\n    var parent = this.horiz.parentNode;\n    parent.removeChild(this.horiz);\n    parent.removeChild(this.vert);\n  };\n\n  var NullScrollbars = function () {};\n\n  NullScrollbars.prototype.update = function () { return {bottom: 0, right: 0} };\n  NullScrollbars.prototype.setScrollLeft = function () {};\n  NullScrollbars.prototype.setScrollTop = function () {};\n  NullScrollbars.prototype.clear = function () {};\n\n  function updateScrollbars(cm, measure) {\n    if (!measure) { measure = measureForScrollbars(cm); }\n    var startWidth = cm.display.barWidth, startHeight = cm.display.barHeight;\n    updateScrollbarsInner(cm, measure);\n    for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {\n      if (startWidth != cm.display.barWidth && cm.options.lineWrapping)\n        { updateHeightsInViewport(cm); }\n      updateScrollbarsInner(cm, measureForScrollbars(cm));\n      startWidth = cm.display.barWidth; startHeight = cm.display.barHeight;\n    }\n  }\n\n  // Re-synchronize the fake scrollbars with the actual size of the\n  // content.\n  function updateScrollbarsInner(cm, measure) {\n    var d = cm.display;\n    var sizes = d.scrollbars.update(measure);\n\n    d.sizer.style.paddingRight = (d.barWidth = sizes.right) + \"px\";\n    d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + \"px\";\n    d.heightForcer.style.borderBottom = sizes.bottom + \"px solid transparent\";\n\n    if (sizes.right && sizes.bottom) {\n      d.scrollbarFiller.style.display = \"block\";\n      d.scrollbarFiller.style.height = sizes.bottom + \"px\";\n      d.scrollbarFiller.style.width = sizes.right + \"px\";\n    } else { d.scrollbarFiller.style.display = \"\"; }\n    if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {\n      d.gutterFiller.style.display = \"block\";\n      d.gutterFiller.style.height = sizes.bottom + \"px\";\n      d.gutterFiller.style.width = measure.gutterWidth + \"px\";\n    } else { d.gutterFiller.style.display = \"\"; }\n  }\n\n  var scrollbarModel = {\"native\": NativeScrollbars, \"null\": NullScrollbars};\n\n  function initScrollbars(cm) {\n    if (cm.display.scrollbars) {\n      cm.display.scrollbars.clear();\n      if (cm.display.scrollbars.addClass)\n        { rmClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n    }\n\n    cm.display.scrollbars = new scrollbarModel[cm.options.scrollbarStyle](function (node) {\n      cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller);\n      // Prevent clicks in the scrollbars from killing focus\n      on(node, \"mousedown\", function () {\n        if (cm.state.focused) { setTimeout(function () { return cm.display.input.focus(); }, 0); }\n      });\n      node.setAttribute(\"cm-not-content\", \"true\");\n    }, function (pos, axis) {\n      if (axis == \"horizontal\") { setScrollLeft(cm, pos); }\n      else { updateScrollTop(cm, pos); }\n    }, cm);\n    if (cm.display.scrollbars.addClass)\n      { addClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n  }\n\n  // Operations are used to wrap a series of changes to the editor\n  // state in such a way that each change won't have to update the\n  // cursor and display (which would be awkward, slow, and\n  // error-prone). Instead, display updates are batched and then all\n  // combined and executed at once.\n\n  var nextOpId = 0;\n  // Start a new operation.\n  function startOperation(cm) {\n    cm.curOp = {\n      cm: cm,\n      viewChanged: false,      // Flag that indicates that lines might need to be redrawn\n      startHeight: cm.doc.height, // Used to detect need to update scrollbar\n      forceUpdate: false,      // Used to force a redraw\n      updateInput: 0,       // Whether to reset the input textarea\n      typing: false,           // Whether this reset should be careful to leave existing text (for compositing)\n      changeObjs: null,        // Accumulated changes, for firing change events\n      cursorActivityHandlers: null, // Set of handlers to fire cursorActivity on\n      cursorActivityCalled: 0, // Tracks which cursorActivity handlers have been called already\n      selectionChanged: false, // Whether the selection needs to be redrawn\n      updateMaxLine: false,    // Set when the widest line needs to be determined anew\n      scrollLeft: null, scrollTop: null, // Intermediate scroll position, not pushed to DOM yet\n      scrollToPos: null,       // Used to scroll to a specific position\n      focus: false,\n      id: ++nextOpId,          // Unique ID\n      markArrays: null         // Used by addMarkedSpan\n    };\n    pushOperation(cm.curOp);\n  }\n\n  // Finish an operation, updating the display and signalling delayed events\n  function endOperation(cm) {\n    var op = cm.curOp;\n    if (op) { finishOperation(op, function (group) {\n      for (var i = 0; i < group.ops.length; i++)\n        { group.ops[i].cm.curOp = null; }\n      endOperations(group);\n    }); }\n  }\n\n  // The DOM updates done when an operation finishes are batched so\n  // that the minimum number of relayouts are required.\n  function endOperations(group) {\n    var ops = group.ops;\n    for (var i = 0; i < ops.length; i++) // Read DOM\n      { endOperation_R1(ops[i]); }\n    for (var i$1 = 0; i$1 < ops.length; i$1++) // Write DOM (maybe)\n      { endOperation_W1(ops[i$1]); }\n    for (var i$2 = 0; i$2 < ops.length; i$2++) // Read DOM\n      { endOperation_R2(ops[i$2]); }\n    for (var i$3 = 0; i$3 < ops.length; i$3++) // Write DOM (maybe)\n      { endOperation_W2(ops[i$3]); }\n    for (var i$4 = 0; i$4 < ops.length; i$4++) // Read DOM\n      { endOperation_finish(ops[i$4]); }\n  }\n\n  function endOperation_R1(op) {\n    var cm = op.cm, display = cm.display;\n    maybeClipScrollbars(cm);\n    if (op.updateMaxLine) { findMaxLine(cm); }\n\n    op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null ||\n      op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom ||\n                         op.scrollToPos.to.line >= display.viewTo) ||\n      display.maxLineChanged && cm.options.lineWrapping;\n    op.update = op.mustUpdate &&\n      new DisplayUpdate(cm, op.mustUpdate && {top: op.scrollTop, ensure: op.scrollToPos}, op.forceUpdate);\n  }\n\n  function endOperation_W1(op) {\n    op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update);\n  }\n\n  function endOperation_R2(op) {\n    var cm = op.cm, display = cm.display;\n    if (op.updatedDisplay) { updateHeightsInViewport(cm); }\n\n    op.barMeasure = measureForScrollbars(cm);\n\n    // If the max line changed since it was last measured, measure it,\n    // and ensure the document's width matches it.\n    // updateDisplay_W2 will use these properties to do the actual resizing\n    if (display.maxLineChanged && !cm.options.lineWrapping) {\n      op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3;\n      cm.display.sizerWidth = op.adjustWidthTo;\n      op.barMeasure.scrollWidth =\n        Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth);\n      op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm));\n    }\n\n    if (op.updatedDisplay || op.selectionChanged)\n      { op.preparedSelection = display.input.prepareSelection(); }\n  }\n\n  function endOperation_W2(op) {\n    var cm = op.cm;\n\n    if (op.adjustWidthTo != null) {\n      cm.display.sizer.style.minWidth = op.adjustWidthTo + \"px\";\n      if (op.maxScrollLeft < cm.doc.scrollLeft)\n        { setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true); }\n      cm.display.maxLineChanged = false;\n    }\n\n    var takeFocus = op.focus && op.focus == activeElt();\n    if (op.preparedSelection)\n      { cm.display.input.showSelection(op.preparedSelection, takeFocus); }\n    if (op.updatedDisplay || op.startHeight != cm.doc.height)\n      { updateScrollbars(cm, op.barMeasure); }\n    if (op.updatedDisplay)\n      { setDocumentHeight(cm, op.barMeasure); }\n\n    if (op.selectionChanged) { restartBlink(cm); }\n\n    if (cm.state.focused && op.updateInput)\n      { cm.display.input.reset(op.typing); }\n    if (takeFocus) { ensureFocus(op.cm); }\n  }\n\n  function endOperation_finish(op) {\n    var cm = op.cm, display = cm.display, doc = cm.doc;\n\n    if (op.updatedDisplay) { postUpdateDisplay(cm, op.update); }\n\n    // Abort mouse wheel delta measurement, when scrolling explicitly\n    if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos))\n      { display.wheelStartX = display.wheelStartY = null; }\n\n    // Propagate the scroll position to the actual DOM scroller\n    if (op.scrollTop != null) { setScrollTop(cm, op.scrollTop, op.forceScroll); }\n\n    if (op.scrollLeft != null) { setScrollLeft(cm, op.scrollLeft, true, true); }\n    // If we need to scroll a specific position into view, do so.\n    if (op.scrollToPos) {\n      var rect = scrollPosIntoView(cm, clipPos(doc, op.scrollToPos.from),\n                                   clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin);\n      maybeScrollWindow(cm, rect);\n    }\n\n    // Fire events for markers that are hidden/unidden by editing or\n    // undoing\n    var hidden = op.maybeHiddenMarkers, unhidden = op.maybeUnhiddenMarkers;\n    if (hidden) { for (var i = 0; i < hidden.length; ++i)\n      { if (!hidden[i].lines.length) { signal(hidden[i], \"hide\"); } } }\n    if (unhidden) { for (var i$1 = 0; i$1 < unhidden.length; ++i$1)\n      { if (unhidden[i$1].lines.length) { signal(unhidden[i$1], \"unhide\"); } } }\n\n    if (display.wrapper.offsetHeight)\n      { doc.scrollTop = cm.display.scroller.scrollTop; }\n\n    // Fire change events, and delayed event handlers\n    if (op.changeObjs)\n      { signal(cm, \"changes\", cm, op.changeObjs); }\n    if (op.update)\n      { op.update.finish(); }\n  }\n\n  // Run the given function in an operation\n  function runInOp(cm, f) {\n    if (cm.curOp) { return f() }\n    startOperation(cm);\n    try { return f() }\n    finally { endOperation(cm); }\n  }\n  // Wraps a function in an operation. Returns the wrapped function.\n  function operation(cm, f) {\n    return function() {\n      if (cm.curOp) { return f.apply(cm, arguments) }\n      startOperation(cm);\n      try { return f.apply(cm, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n  // Used to add methods to editor and doc instances, wrapping them in\n  // operations.\n  function methodOp(f) {\n    return function() {\n      if (this.curOp) { return f.apply(this, arguments) }\n      startOperation(this);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(this); }\n    }\n  }\n  function docMethodOp(f) {\n    return function() {\n      var cm = this.cm;\n      if (!cm || cm.curOp) { return f.apply(this, arguments) }\n      startOperation(cm);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n\n  // HIGHLIGHT WORKER\n\n  function startWorker(cm, time) {\n    if (cm.doc.highlightFrontier < cm.display.viewTo)\n      { cm.state.highlight.set(time, bind(highlightWorker, cm)); }\n  }\n\n  function highlightWorker(cm) {\n    var doc = cm.doc;\n    if (doc.highlightFrontier >= cm.display.viewTo) { return }\n    var end = +new Date + cm.options.workTime;\n    var context = getContextBefore(cm, doc.highlightFrontier);\n    var changedLines = [];\n\n    doc.iter(context.line, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function (line) {\n      if (context.line >= cm.display.viewFrom) { // Visible\n        var oldStyles = line.styles;\n        var resetState = line.text.length > cm.options.maxHighlightLength ? copyState(doc.mode, context.state) : null;\n        var highlighted = highlightLine(cm, line, context, true);\n        if (resetState) { context.state = resetState; }\n        line.styles = highlighted.styles;\n        var oldCls = line.styleClasses, newCls = highlighted.classes;\n        if (newCls) { line.styleClasses = newCls; }\n        else if (oldCls) { line.styleClasses = null; }\n        var ischange = !oldStyles || oldStyles.length != line.styles.length ||\n          oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass);\n        for (var i = 0; !ischange && i < oldStyles.length; ++i) { ischange = oldStyles[i] != line.styles[i]; }\n        if (ischange) { changedLines.push(context.line); }\n        line.stateAfter = context.save();\n        context.nextLine();\n      } else {\n        if (line.text.length <= cm.options.maxHighlightLength)\n          { processLine(cm, line.text, context); }\n        line.stateAfter = context.line % 5 == 0 ? context.save() : null;\n        context.nextLine();\n      }\n      if (+new Date > end) {\n        startWorker(cm, cm.options.workDelay);\n        return true\n      }\n    });\n    doc.highlightFrontier = context.line;\n    doc.modeFrontier = Math.max(doc.modeFrontier, context.line);\n    if (changedLines.length) { runInOp(cm, function () {\n      for (var i = 0; i < changedLines.length; i++)\n        { regLineChange(cm, changedLines[i], \"text\"); }\n    }); }\n  }\n\n  // DISPLAY DRAWING\n\n  var DisplayUpdate = function(cm, viewport, force) {\n    var display = cm.display;\n\n    this.viewport = viewport;\n    // Store some values that we'll need later (but don't want to force a relayout for)\n    this.visible = visibleLines(display, cm.doc, viewport);\n    this.editorIsHidden = !display.wrapper.offsetWidth;\n    this.wrapperHeight = display.wrapper.clientHeight;\n    this.wrapperWidth = display.wrapper.clientWidth;\n    this.oldDisplayWidth = displayWidth(cm);\n    this.force = force;\n    this.dims = getDimensions(cm);\n    this.events = [];\n  };\n\n  DisplayUpdate.prototype.signal = function (emitter, type) {\n    if (hasHandler(emitter, type))\n      { this.events.push(arguments); }\n  };\n  DisplayUpdate.prototype.finish = function () {\n    for (var i = 0; i < this.events.length; i++)\n      { signal.apply(null, this.events[i]); }\n  };\n\n  function maybeClipScrollbars(cm) {\n    var display = cm.display;\n    if (!display.scrollbarsClipped && display.scroller.offsetWidth) {\n      display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth;\n      display.heightForcer.style.height = scrollGap(cm) + \"px\";\n      display.sizer.style.marginBottom = -display.nativeBarWidth + \"px\";\n      display.sizer.style.borderRightWidth = scrollGap(cm) + \"px\";\n      display.scrollbarsClipped = true;\n    }\n  }\n\n  function selectionSnapshot(cm) {\n    if (cm.hasFocus()) { return null }\n    var active = activeElt();\n    if (!active || !contains(cm.display.lineDiv, active)) { return null }\n    var result = {activeElt: active};\n    if (window.getSelection) {\n      var sel = window.getSelection();\n      if (sel.anchorNode && sel.extend && contains(cm.display.lineDiv, sel.anchorNode)) {\n        result.anchorNode = sel.anchorNode;\n        result.anchorOffset = sel.anchorOffset;\n        result.focusNode = sel.focusNode;\n        result.focusOffset = sel.focusOffset;\n      }\n    }\n    return result\n  }\n\n  function restoreSelection(snapshot) {\n    if (!snapshot || !snapshot.activeElt || snapshot.activeElt == activeElt()) { return }\n    snapshot.activeElt.focus();\n    if (!/^(INPUT|TEXTAREA)$/.test(snapshot.activeElt.nodeName) &&\n        snapshot.anchorNode && contains(document.body, snapshot.anchorNode) && contains(document.body, snapshot.focusNode)) {\n      var sel = window.getSelection(), range = document.createRange();\n      range.setEnd(snapshot.anchorNode, snapshot.anchorOffset);\n      range.collapse(false);\n      sel.removeAllRanges();\n      sel.addRange(range);\n      sel.extend(snapshot.focusNode, snapshot.focusOffset);\n    }\n  }\n\n  // Does the actual updating of the line display. Bails out\n  // (returning false) when there is nothing to be done and forced is\n  // false.\n  function updateDisplayIfNeeded(cm, update) {\n    var display = cm.display, doc = cm.doc;\n\n    if (update.editorIsHidden) {\n      resetView(cm);\n      return false\n    }\n\n    // Bail out if the visible area is already rendered and nothing changed.\n    if (!update.force &&\n        update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) &&\n        display.renderedView == display.view && countDirtyView(cm) == 0)\n      { return false }\n\n    if (maybeUpdateLineNumberWidth(cm)) {\n      resetView(cm);\n      update.dims = getDimensions(cm);\n    }\n\n    // Compute a suitable new viewport (from & to)\n    var end = doc.first + doc.size;\n    var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first);\n    var to = Math.min(end, update.visible.to + cm.options.viewportMargin);\n    if (display.viewFrom < from && from - display.viewFrom < 20) { from = Math.max(doc.first, display.viewFrom); }\n    if (display.viewTo > to && display.viewTo - to < 20) { to = Math.min(end, display.viewTo); }\n    if (sawCollapsedSpans) {\n      from = visualLineNo(cm.doc, from);\n      to = visualLineEndNo(cm.doc, to);\n    }\n\n    var different = from != display.viewFrom || to != display.viewTo ||\n      display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth;\n    adjustView(cm, from, to);\n\n    display.viewOffset = heightAtLine(getLine(cm.doc, display.viewFrom));\n    // Position the mover div to align with the current scroll position\n    cm.display.mover.style.top = display.viewOffset + \"px\";\n\n    var toUpdate = countDirtyView(cm);\n    if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo))\n      { return false }\n\n    // For big changes, we hide the enclosing element during the\n    // update, since that speeds up the operations on most browsers.\n    var selSnapshot = selectionSnapshot(cm);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"none\"; }\n    patchDisplay(cm, display.updateLineNumbers, update.dims);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"\"; }\n    display.renderedView = display.view;\n    // There might have been a widget with a focused element that got\n    // hidden or updated, if so re-focus it.\n    restoreSelection(selSnapshot);\n\n    // Prevent selection and cursors from interfering with the scroll\n    // width and height.\n    removeChildren(display.cursorDiv);\n    removeChildren(display.selectionDiv);\n    display.gutters.style.height = display.sizer.style.minHeight = 0;\n\n    if (different) {\n      display.lastWrapHeight = update.wrapperHeight;\n      display.lastWrapWidth = update.wrapperWidth;\n      startWorker(cm, 400);\n    }\n\n    display.updateLineNumbers = null;\n\n    return true\n  }\n\n  function postUpdateDisplay(cm, update) {\n    var viewport = update.viewport;\n\n    for (var first = true;; first = false) {\n      if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {\n        // Clip forced viewport to actual scrollable area.\n        if (viewport && viewport.top != null)\n          { viewport = {top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)}; }\n        // Updated line heights might result in the drawn area not\n        // actually covering the viewport. Keep looping until it does.\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n        if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo)\n          { break }\n      } else if (first) {\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n      }\n      if (!updateDisplayIfNeeded(cm, update)) { break }\n      updateHeightsInViewport(cm);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.force = false;\n    }\n\n    update.signal(cm, \"update\", cm);\n    if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {\n      update.signal(cm, \"viewportChange\", cm, cm.display.viewFrom, cm.display.viewTo);\n      cm.display.reportedViewFrom = cm.display.viewFrom; cm.display.reportedViewTo = cm.display.viewTo;\n    }\n  }\n\n  function updateDisplaySimple(cm, viewport) {\n    var update = new DisplayUpdate(cm, viewport);\n    if (updateDisplayIfNeeded(cm, update)) {\n      updateHeightsInViewport(cm);\n      postUpdateDisplay(cm, update);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.finish();\n    }\n  }\n\n  // Sync the actual display DOM structure with display.view, removing\n  // nodes for lines that are no longer in view, and creating the ones\n  // that are not there yet, and updating the ones that are out of\n  // date.\n  function patchDisplay(cm, updateNumbersFrom, dims) {\n    var display = cm.display, lineNumbers = cm.options.lineNumbers;\n    var container = display.lineDiv, cur = container.firstChild;\n\n    function rm(node) {\n      var next = node.nextSibling;\n      // Works around a throw-scroll bug in OS X Webkit\n      if (webkit && mac && cm.display.currentWheelTarget == node)\n        { node.style.display = \"none\"; }\n      else\n        { node.parentNode.removeChild(node); }\n      return next\n    }\n\n    var view = display.view, lineN = display.viewFrom;\n    // Loop over the elements in the view, syncing cur (the DOM nodes\n    // in display.lineDiv) with the view as we go.\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (lineView.hidden) ; else if (!lineView.node || lineView.node.parentNode != container) { // Not drawn yet\n        var node = buildLineElement(cm, lineView, lineN, dims);\n        container.insertBefore(node, cur);\n      } else { // Already drawn\n        while (cur != lineView.node) { cur = rm(cur); }\n        var updateNumber = lineNumbers && updateNumbersFrom != null &&\n          updateNumbersFrom <= lineN && lineView.lineNumber;\n        if (lineView.changes) {\n          if (indexOf(lineView.changes, \"gutter\") > -1) { updateNumber = false; }\n          updateLineForChanges(cm, lineView, lineN, dims);\n        }\n        if (updateNumber) {\n          removeChildren(lineView.lineNumber);\n          lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)));\n        }\n        cur = lineView.node.nextSibling;\n      }\n      lineN += lineView.size;\n    }\n    while (cur) { cur = rm(cur); }\n  }\n\n  function updateGutterSpace(display) {\n    var width = display.gutters.offsetWidth;\n    display.sizer.style.marginLeft = width + \"px\";\n    // Send an event to consumers responding to changes in gutter width.\n    signalLater(display, \"gutterChanged\", display);\n  }\n\n  function setDocumentHeight(cm, measure) {\n    cm.display.sizer.style.minHeight = measure.docHeight + \"px\";\n    cm.display.heightForcer.style.top = measure.docHeight + \"px\";\n    cm.display.gutters.style.height = (measure.docHeight + cm.display.barHeight + scrollGap(cm)) + \"px\";\n  }\n\n  // Re-align line numbers and gutter marks to compensate for\n  // horizontal scrolling.\n  function alignHorizontally(cm) {\n    var display = cm.display, view = display.view;\n    if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) { return }\n    var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft;\n    var gutterW = display.gutters.offsetWidth, left = comp + \"px\";\n    for (var i = 0; i < view.length; i++) { if (!view[i].hidden) {\n      if (cm.options.fixedGutter) {\n        if (view[i].gutter)\n          { view[i].gutter.style.left = left; }\n        if (view[i].gutterBackground)\n          { view[i].gutterBackground.style.left = left; }\n      }\n      var align = view[i].alignable;\n      if (align) { for (var j = 0; j < align.length; j++)\n        { align[j].style.left = left; } }\n    } }\n    if (cm.options.fixedGutter)\n      { display.gutters.style.left = (comp + gutterW) + \"px\"; }\n  }\n\n  // Used to ensure that the line number gutter is still the right\n  // size for the current document size. Returns true when an update\n  // is needed.\n  function maybeUpdateLineNumberWidth(cm) {\n    if (!cm.options.lineNumbers) { return false }\n    var doc = cm.doc, last = lineNumberFor(cm.options, doc.first + doc.size - 1), display = cm.display;\n    if (last.length != display.lineNumChars) {\n      var test = display.measure.appendChild(elt(\"div\", [elt(\"div\", last)],\n                                                 \"CodeMirror-linenumber CodeMirror-gutter-elt\"));\n      var innerW = test.firstChild.offsetWidth, padding = test.offsetWidth - innerW;\n      display.lineGutter.style.width = \"\";\n      display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1;\n      display.lineNumWidth = display.lineNumInnerWidth + padding;\n      display.lineNumChars = display.lineNumInnerWidth ? last.length : -1;\n      display.lineGutter.style.width = display.lineNumWidth + \"px\";\n      updateGutterSpace(cm.display);\n      return true\n    }\n    return false\n  }\n\n  function getGutters(gutters, lineNumbers) {\n    var result = [], sawLineNumbers = false;\n    for (var i = 0; i < gutters.length; i++) {\n      var name = gutters[i], style = null;\n      if (typeof name != \"string\") { style = name.style; name = name.className; }\n      if (name == \"CodeMirror-linenumbers\") {\n        if (!lineNumbers) { continue }\n        else { sawLineNumbers = true; }\n      }\n      result.push({className: name, style: style});\n    }\n    if (lineNumbers && !sawLineNumbers) { result.push({className: \"CodeMirror-linenumbers\", style: null}); }\n    return result\n  }\n\n  // Rebuild the gutter elements, ensure the margin to the left of the\n  // code matches their width.\n  function renderGutters(display) {\n    var gutters = display.gutters, specs = display.gutterSpecs;\n    removeChildren(gutters);\n    display.lineGutter = null;\n    for (var i = 0; i < specs.length; ++i) {\n      var ref = specs[i];\n      var className = ref.className;\n      var style = ref.style;\n      var gElt = gutters.appendChild(elt(\"div\", null, \"CodeMirror-gutter \" + className));\n      if (style) { gElt.style.cssText = style; }\n      if (className == \"CodeMirror-linenumbers\") {\n        display.lineGutter = gElt;\n        gElt.style.width = (display.lineNumWidth || 1) + \"px\";\n      }\n    }\n    gutters.style.display = specs.length ? \"\" : \"none\";\n    updateGutterSpace(display);\n  }\n\n  function updateGutters(cm) {\n    renderGutters(cm.display);\n    regChange(cm);\n    alignHorizontally(cm);\n  }\n\n  // The display handles the DOM integration, both for input reading\n  // and content drawing. It holds references to DOM nodes and\n  // display-related state.\n\n  function Display(place, doc, input, options) {\n    var d = this;\n    this.input = input;\n\n    // Covers bottom-right square when both scrollbars are present.\n    d.scrollbarFiller = elt(\"div\", null, \"CodeMirror-scrollbar-filler\");\n    d.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Covers bottom of gutter when coverGutterNextToScrollbar is on\n    // and h scrollbar is present.\n    d.gutterFiller = elt(\"div\", null, \"CodeMirror-gutter-filler\");\n    d.gutterFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Will contain the actual code, positioned to cover the viewport.\n    d.lineDiv = eltP(\"div\", null, \"CodeMirror-code\");\n    // Elements are added to these to represent selection and cursors.\n    d.selectionDiv = elt(\"div\", null, null, \"position: relative; z-index: 1\");\n    d.cursorDiv = elt(\"div\", null, \"CodeMirror-cursors\");\n    // A visibility: hidden element used to find the size of things.\n    d.measure = elt(\"div\", null, \"CodeMirror-measure\");\n    // When lines outside of the viewport are measured, they are drawn in this.\n    d.lineMeasure = elt(\"div\", null, \"CodeMirror-measure\");\n    // Wraps everything that needs to exist inside the vertically-padded coordinate system\n    d.lineSpace = eltP(\"div\", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv],\n                      null, \"position: relative; outline: none\");\n    var lines = eltP(\"div\", [d.lineSpace], \"CodeMirror-lines\");\n    // Moved around its parent to cover visible view.\n    d.mover = elt(\"div\", [lines], null, \"position: relative\");\n    // Set to the height of the document, allowing scrolling.\n    d.sizer = elt(\"div\", [d.mover], \"CodeMirror-sizer\");\n    d.sizerWidth = null;\n    // Behavior of elts with overflow: auto and padding is\n    // inconsistent across browsers. This is used to ensure the\n    // scrollable area is big enough.\n    d.heightForcer = elt(\"div\", null, null, \"position: absolute; height: \" + scrollerGap + \"px; width: 1px;\");\n    // Will contain the gutters, if any.\n    d.gutters = elt(\"div\", null, \"CodeMirror-gutters\");\n    d.lineGutter = null;\n    // Actual scrollable element.\n    d.scroller = elt(\"div\", [d.sizer, d.heightForcer, d.gutters], \"CodeMirror-scroll\");\n    d.scroller.setAttribute(\"tabIndex\", \"-1\");\n    // The element in which the editor lives.\n    d.wrapper = elt(\"div\", [d.scrollbarFiller, d.gutterFiller, d.scroller], \"CodeMirror\");\n\n    // This attribute is respected by automatic translation systems such as Google Translate,\n    // and may also be respected by tools used by human translators.\n    d.wrapper.setAttribute('translate', 'no');\n\n    // Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)\n    if (ie && ie_version < 8) { d.gutters.style.zIndex = -1; d.scroller.style.paddingRight = 0; }\n    if (!webkit && !(gecko && mobile)) { d.scroller.draggable = true; }\n\n    if (place) {\n      if (place.appendChild) { place.appendChild(d.wrapper); }\n      else { place(d.wrapper); }\n    }\n\n    // Current rendered range (may be bigger than the view window).\n    d.viewFrom = d.viewTo = doc.first;\n    d.reportedViewFrom = d.reportedViewTo = doc.first;\n    // Information about the rendered lines.\n    d.view = [];\n    d.renderedView = null;\n    // Holds info about a single rendered line when it was rendered\n    // for measurement, while not in view.\n    d.externalMeasured = null;\n    // Empty space (in pixels) above the view\n    d.viewOffset = 0;\n    d.lastWrapHeight = d.lastWrapWidth = 0;\n    d.updateLineNumbers = null;\n\n    d.nativeBarWidth = d.barHeight = d.barWidth = 0;\n    d.scrollbarsClipped = false;\n\n    // Used to only resize the line number gutter when necessary (when\n    // the amount of lines crosses a boundary that makes its width change)\n    d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null;\n    // Set to true when a non-horizontal-scrolling line widget is\n    // added. As an optimization, line widget aligning is skipped when\n    // this is false.\n    d.alignWidgets = false;\n\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n\n    // Tracks the maximum line length so that the horizontal scrollbar\n    // can be kept static when scrolling.\n    d.maxLine = null;\n    d.maxLineLength = 0;\n    d.maxLineChanged = false;\n\n    // Used for measuring wheel scrolling granularity\n    d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null;\n\n    // True when shift is held down.\n    d.shift = false;\n\n    // Used to track whether anything happened since the context menu\n    // was opened.\n    d.selForContextMenu = null;\n\n    d.activeTouch = null;\n\n    d.gutterSpecs = getGutters(options.gutters, options.lineNumbers);\n    renderGutters(d);\n\n    input.init(d);\n  }\n\n  // Since the delta values reported on mouse wheel events are\n  // unstandardized between browsers and even browser versions, and\n  // generally horribly unpredictable, this code starts by measuring\n  // the scroll effect that the first few mouse wheel events have,\n  // and, from that, detects the way it can convert deltas to pixel\n  // offsets afterwards.\n  //\n  // The reason we want to know the amount a wheel event will scroll\n  // is that it gives us a chance to update the display before the\n  // actual scrolling happens, reducing flickering.\n\n  var wheelSamples = 0, wheelPixelsPerUnit = null;\n  // Fill in a browser-detected starting value on browsers where we\n  // know one. These don't have to be accurate -- the result of them\n  // being wrong would just be a slight flicker on the first wheel\n  // scroll (if it is large enough).\n  if (ie) { wheelPixelsPerUnit = -.53; }\n  else if (gecko) { wheelPixelsPerUnit = 15; }\n  else if (chrome) { wheelPixelsPerUnit = -.7; }\n  else if (safari) { wheelPixelsPerUnit = -1/3; }\n\n  function wheelEventDelta(e) {\n    var dx = e.wheelDeltaX, dy = e.wheelDeltaY;\n    if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) { dx = e.detail; }\n    if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) { dy = e.detail; }\n    else if (dy == null) { dy = e.wheelDelta; }\n    return {x: dx, y: dy}\n  }\n  function wheelEventPixels(e) {\n    var delta = wheelEventDelta(e);\n    delta.x *= wheelPixelsPerUnit;\n    delta.y *= wheelPixelsPerUnit;\n    return delta\n  }\n\n  function onScrollWheel(cm, e) {\n    var delta = wheelEventDelta(e), dx = delta.x, dy = delta.y;\n    var pixelsPerUnit = wheelPixelsPerUnit;\n    if (e.deltaMode === 0) {\n      dx = e.deltaX;\n      dy = e.deltaY;\n      pixelsPerUnit = 1;\n    }\n\n    var display = cm.display, scroll = display.scroller;\n    // Quit if there's nothing to scroll here\n    var canScrollX = scroll.scrollWidth > scroll.clientWidth;\n    var canScrollY = scroll.scrollHeight > scroll.clientHeight;\n    if (!(dx && canScrollX || dy && canScrollY)) { return }\n\n    // Webkit browsers on OS X abort momentum scrolls when the target\n    // of the scroll event is removed from the scrollable element.\n    // This hack (see related code in patchDisplay) makes sure the\n    // element is kept around.\n    if (dy && mac && webkit) {\n      outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {\n        for (var i = 0; i < view.length; i++) {\n          if (view[i].node == cur) {\n            cm.display.currentWheelTarget = cur;\n            break outer\n          }\n        }\n      }\n    }\n\n    // On some browsers, horizontal scrolling will cause redraws to\n    // happen before the gutter has been realigned, causing it to\n    // wriggle around in a most unseemly way. When we have an\n    // estimated pixels/delta value, we just handle horizontal\n    // scrolling entirely here. It'll be slightly off from native, but\n    // better than glitching out.\n    if (dx && !gecko && !presto && pixelsPerUnit != null) {\n      if (dy && canScrollY)\n        { updateScrollTop(cm, Math.max(0, scroll.scrollTop + dy * pixelsPerUnit)); }\n      setScrollLeft(cm, Math.max(0, scroll.scrollLeft + dx * pixelsPerUnit));\n      // Only prevent default scrolling if vertical scrolling is\n      // actually possible. Otherwise, it causes vertical scroll\n      // jitter on OSX trackpads when deltaX is small and deltaY\n      // is large (issue #3579)\n      if (!dy || (dy && canScrollY))\n        { e_preventDefault(e); }\n      display.wheelStartX = null; // Abort measurement, if in progress\n      return\n    }\n\n    // 'Project' the visible viewport to cover the area that is being\n    // scrolled into view (if we know enough to estimate it).\n    if (dy && pixelsPerUnit != null) {\n      var pixels = dy * pixelsPerUnit;\n      var top = cm.doc.scrollTop, bot = top + display.wrapper.clientHeight;\n      if (pixels < 0) { top = Math.max(0, top + pixels - 50); }\n      else { bot = Math.min(cm.doc.height, bot + pixels + 50); }\n      updateDisplaySimple(cm, {top: top, bottom: bot});\n    }\n\n    if (wheelSamples < 20 && e.deltaMode !== 0) {\n      if (display.wheelStartX == null) {\n        display.wheelStartX = scroll.scrollLeft; display.wheelStartY = scroll.scrollTop;\n        display.wheelDX = dx; display.wheelDY = dy;\n        setTimeout(function () {\n          if (display.wheelStartX == null) { return }\n          var movedX = scroll.scrollLeft - display.wheelStartX;\n          var movedY = scroll.scrollTop - display.wheelStartY;\n          var sample = (movedY && display.wheelDY && movedY / display.wheelDY) ||\n            (movedX && display.wheelDX && movedX / display.wheelDX);\n          display.wheelStartX = display.wheelStartY = null;\n          if (!sample) { return }\n          wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1);\n          ++wheelSamples;\n        }, 200);\n      } else {\n        display.wheelDX += dx; display.wheelDY += dy;\n      }\n    }\n  }\n\n  // Selection objects are immutable. A new one is created every time\n  // the selection changes. A selection is one or more non-overlapping\n  // (and non-touching) ranges, sorted, and an integer that indicates\n  // which one is the primary selection (the one that's scrolled into\n  // view, that getCursor returns, etc).\n  var Selection = function(ranges, primIndex) {\n    this.ranges = ranges;\n    this.primIndex = primIndex;\n  };\n\n  Selection.prototype.primary = function () { return this.ranges[this.primIndex] };\n\n  Selection.prototype.equals = function (other) {\n    if (other == this) { return true }\n    if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) { return false }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var here = this.ranges[i], there = other.ranges[i];\n      if (!equalCursorPos(here.anchor, there.anchor) || !equalCursorPos(here.head, there.head)) { return false }\n    }\n    return true\n  };\n\n  Selection.prototype.deepCopy = function () {\n    var out = [];\n    for (var i = 0; i < this.ranges.length; i++)\n      { out[i] = new Range(copyPos(this.ranges[i].anchor), copyPos(this.ranges[i].head)); }\n    return new Selection(out, this.primIndex)\n  };\n\n  Selection.prototype.somethingSelected = function () {\n    for (var i = 0; i < this.ranges.length; i++)\n      { if (!this.ranges[i].empty()) { return true } }\n    return false\n  };\n\n  Selection.prototype.contains = function (pos, end) {\n    if (!end) { end = pos; }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var range = this.ranges[i];\n      if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0)\n        { return i }\n    }\n    return -1\n  };\n\n  var Range = function(anchor, head) {\n    this.anchor = anchor; this.head = head;\n  };\n\n  Range.prototype.from = function () { return minPos(this.anchor, this.head) };\n  Range.prototype.to = function () { return maxPos(this.anchor, this.head) };\n  Range.prototype.empty = function () { return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch };\n\n  // Take an unsorted, potentially overlapping set of ranges, and\n  // build a selection out of it. 'Consumes' ranges array (modifying\n  // it).\n  function normalizeSelection(cm, ranges, primIndex) {\n    var mayTouch = cm && cm.options.selectionsMayTouch;\n    var prim = ranges[primIndex];\n    ranges.sort(function (a, b) { return cmp(a.from(), b.from()); });\n    primIndex = indexOf(ranges, prim);\n    for (var i = 1; i < ranges.length; i++) {\n      var cur = ranges[i], prev = ranges[i - 1];\n      var diff = cmp(prev.to(), cur.from());\n      if (mayTouch && !cur.empty() ? diff > 0 : diff >= 0) {\n        var from = minPos(prev.from(), cur.from()), to = maxPos(prev.to(), cur.to());\n        var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head;\n        if (i <= primIndex) { --primIndex; }\n        ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to));\n      }\n    }\n    return new Selection(ranges, primIndex)\n  }\n\n  function simpleSelection(anchor, head) {\n    return new Selection([new Range(anchor, head || anchor)], 0)\n  }\n\n  // Compute the position of the end of a change (its 'to' property\n  // refers to the pre-change end).\n  function changeEnd(change) {\n    if (!change.text) { return change.to }\n    return Pos(change.from.line + change.text.length - 1,\n               lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0))\n  }\n\n  // Adjust a position to refer to the post-change position of the\n  // same text, or the end of the change if the change covers it.\n  function adjustForChange(pos, change) {\n    if (cmp(pos, change.from) < 0) { return pos }\n    if (cmp(pos, change.to) <= 0) { return changeEnd(change) }\n\n    var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1, ch = pos.ch;\n    if (pos.line == change.to.line) { ch += changeEnd(change).ch - change.to.ch; }\n    return Pos(line, ch)\n  }\n\n  function computeSelAfterChange(doc, change) {\n    var out = [];\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      var range = doc.sel.ranges[i];\n      out.push(new Range(adjustForChange(range.anchor, change),\n                         adjustForChange(range.head, change)));\n    }\n    return normalizeSelection(doc.cm, out, doc.sel.primIndex)\n  }\n\n  function offsetPos(pos, old, nw) {\n    if (pos.line == old.line)\n      { return Pos(nw.line, pos.ch - old.ch + nw.ch) }\n    else\n      { return Pos(nw.line + (pos.line - old.line), pos.ch) }\n  }\n\n  // Used by replaceSelections to allow moving the selection to the\n  // start or around the replaced test. Hint may be \"start\" or \"around\".\n  function computeReplacedSel(doc, changes, hint) {\n    var out = [];\n    var oldPrev = Pos(doc.first, 0), newPrev = oldPrev;\n    for (var i = 0; i < changes.length; i++) {\n      var change = changes[i];\n      var from = offsetPos(change.from, oldPrev, newPrev);\n      var to = offsetPos(changeEnd(change), oldPrev, newPrev);\n      oldPrev = change.to;\n      newPrev = to;\n      if (hint == \"around\") {\n        var range = doc.sel.ranges[i], inv = cmp(range.head, range.anchor) < 0;\n        out[i] = new Range(inv ? to : from, inv ? from : to);\n      } else {\n        out[i] = new Range(from, from);\n      }\n    }\n    return new Selection(out, doc.sel.primIndex)\n  }\n\n  // Used to get the editor into a consistent state again when options change.\n\n  function loadMode(cm) {\n    cm.doc.mode = getMode(cm.options, cm.doc.modeOption);\n    resetModeState(cm);\n  }\n\n  function resetModeState(cm) {\n    cm.doc.iter(function (line) {\n      if (line.stateAfter) { line.stateAfter = null; }\n      if (line.styles) { line.styles = null; }\n    });\n    cm.doc.modeFrontier = cm.doc.highlightFrontier = cm.doc.first;\n    startWorker(cm, 100);\n    cm.state.modeGen++;\n    if (cm.curOp) { regChange(cm); }\n  }\n\n  // DOCUMENT DATA STRUCTURE\n\n  // By default, updates that start and end at the beginning of a line\n  // are treated specially, in order to make the association of line\n  // widgets and marker elements with the text behave more intuitive.\n  function isWholeLineUpdate(doc, change) {\n    return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == \"\" &&\n      (!doc.cm || doc.cm.options.wholeLineUpdateBefore)\n  }\n\n  // Perform a change on the document data structure.\n  function updateDoc(doc, change, markedSpans, estimateHeight) {\n    function spansFor(n) {return markedSpans ? markedSpans[n] : null}\n    function update(line, text, spans) {\n      updateLine(line, text, spans, estimateHeight);\n      signalLater(line, \"change\", line, change);\n    }\n    function linesFor(start, end) {\n      var result = [];\n      for (var i = start; i < end; ++i)\n        { result.push(new Line(text[i], spansFor(i), estimateHeight)); }\n      return result\n    }\n\n    var from = change.from, to = change.to, text = change.text;\n    var firstLine = getLine(doc, from.line), lastLine = getLine(doc, to.line);\n    var lastText = lst(text), lastSpans = spansFor(text.length - 1), nlines = to.line - from.line;\n\n    // Adjust the line structure\n    if (change.full) {\n      doc.insert(0, linesFor(0, text.length));\n      doc.remove(text.length, doc.size - text.length);\n    } else if (isWholeLineUpdate(doc, change)) {\n      // This is a whole-line replace. Treated specially to make\n      // sure line objects move the way they are supposed to.\n      var added = linesFor(0, text.length - 1);\n      update(lastLine, lastLine.text, lastSpans);\n      if (nlines) { doc.remove(from.line, nlines); }\n      if (added.length) { doc.insert(from.line, added); }\n    } else if (firstLine == lastLine) {\n      if (text.length == 1) {\n        update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans);\n      } else {\n        var added$1 = linesFor(1, text.length - 1);\n        added$1.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight));\n        update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n        doc.insert(from.line + 1, added$1);\n      }\n    } else if (text.length == 1) {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0));\n      doc.remove(from.line + 1, nlines);\n    } else {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n      update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans);\n      var added$2 = linesFor(1, text.length - 1);\n      if (nlines > 1) { doc.remove(from.line + 1, nlines - 1); }\n      doc.insert(from.line + 1, added$2);\n    }\n\n    signalLater(doc, \"change\", doc, change);\n  }\n\n  // Call f for all linked documents.\n  function linkedDocs(doc, f, sharedHistOnly) {\n    function propagate(doc, skip, sharedHist) {\n      if (doc.linked) { for (var i = 0; i < doc.linked.length; ++i) {\n        var rel = doc.linked[i];\n        if (rel.doc == skip) { continue }\n        var shared = sharedHist && rel.sharedHist;\n        if (sharedHistOnly && !shared) { continue }\n        f(rel.doc, shared);\n        propagate(rel.doc, doc, shared);\n      } }\n    }\n    propagate(doc, null, true);\n  }\n\n  // Attach a document to an editor.\n  function attachDoc(cm, doc) {\n    if (doc.cm) { throw new Error(\"This document is already in use.\") }\n    cm.doc = doc;\n    doc.cm = cm;\n    estimateLineHeights(cm);\n    loadMode(cm);\n    setDirectionClass(cm);\n    cm.options.direction = doc.direction;\n    if (!cm.options.lineWrapping) { findMaxLine(cm); }\n    cm.options.mode = doc.modeOption;\n    regChange(cm);\n  }\n\n  function setDirectionClass(cm) {\n  (cm.doc.direction == \"rtl\" ? addClass : rmClass)(cm.display.lineDiv, \"CodeMirror-rtl\");\n  }\n\n  function directionChanged(cm) {\n    runInOp(cm, function () {\n      setDirectionClass(cm);\n      regChange(cm);\n    });\n  }\n\n  function History(prev) {\n    // Arrays of change events and selections. Doing something adds an\n    // event to done and clears undo. Undoing moves events from done\n    // to undone, redoing moves them in the other direction.\n    this.done = []; this.undone = [];\n    this.undoDepth = prev ? prev.undoDepth : Infinity;\n    // Used to track when changes can be merged into a single undo\n    // event\n    this.lastModTime = this.lastSelTime = 0;\n    this.lastOp = this.lastSelOp = null;\n    this.lastOrigin = this.lastSelOrigin = null;\n    // Used by the isClean() method\n    this.generation = this.maxGeneration = prev ? prev.maxGeneration : 1;\n  }\n\n  // Create a history change event from an updateDoc-style change\n  // object.\n  function historyChangeFromChange(doc, change) {\n    var histChange = {from: copyPos(change.from), to: changeEnd(change), text: getBetween(doc, change.from, change.to)};\n    attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);\n    linkedDocs(doc, function (doc) { return attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1); }, true);\n    return histChange\n  }\n\n  // Pop all selection events off the end of a history array. Stop at\n  // a change event.\n  function clearSelectionEvents(array) {\n    while (array.length) {\n      var last = lst(array);\n      if (last.ranges) { array.pop(); }\n      else { break }\n    }\n  }\n\n  // Find the top change event in the history. Pop off selection\n  // events that are in the way.\n  function lastChangeEvent(hist, force) {\n    if (force) {\n      clearSelectionEvents(hist.done);\n      return lst(hist.done)\n    } else if (hist.done.length && !lst(hist.done).ranges) {\n      return lst(hist.done)\n    } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {\n      hist.done.pop();\n      return lst(hist.done)\n    }\n  }\n\n  // Register a change in the history. Merges changes that are within\n  // a single operation, or are close together with an origin that\n  // allows merging (starting with \"+\") into a single event.\n  function addChangeToHistory(doc, change, selAfter, opId) {\n    var hist = doc.history;\n    hist.undone.length = 0;\n    var time = +new Date, cur;\n    var last;\n\n    if ((hist.lastOp == opId ||\n         hist.lastOrigin == change.origin && change.origin &&\n         ((change.origin.charAt(0) == \"+\" && hist.lastModTime > time - (doc.cm ? doc.cm.options.historyEventDelay : 500)) ||\n          change.origin.charAt(0) == \"*\")) &&\n        (cur = lastChangeEvent(hist, hist.lastOp == opId))) {\n      // Merge this change into the last event\n      last = lst(cur.changes);\n      if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {\n        // Optimized case for simple insertion -- don't want to add\n        // new changesets for every character typed\n        last.to = changeEnd(change);\n      } else {\n        // Add new sub-event\n        cur.changes.push(historyChangeFromChange(doc, change));\n      }\n    } else {\n      // Can not be merged, start a new event.\n      var before = lst(hist.done);\n      if (!before || !before.ranges)\n        { pushSelectionToHistory(doc.sel, hist.done); }\n      cur = {changes: [historyChangeFromChange(doc, change)],\n             generation: hist.generation};\n      hist.done.push(cur);\n      while (hist.done.length > hist.undoDepth) {\n        hist.done.shift();\n        if (!hist.done[0].ranges) { hist.done.shift(); }\n      }\n    }\n    hist.done.push(selAfter);\n    hist.generation = ++hist.maxGeneration;\n    hist.lastModTime = hist.lastSelTime = time;\n    hist.lastOp = hist.lastSelOp = opId;\n    hist.lastOrigin = hist.lastSelOrigin = change.origin;\n\n    if (!last) { signal(doc, \"historyAdded\"); }\n  }\n\n  function selectionEventCanBeMerged(doc, origin, prev, sel) {\n    var ch = origin.charAt(0);\n    return ch == \"*\" ||\n      ch == \"+\" &&\n      prev.ranges.length == sel.ranges.length &&\n      prev.somethingSelected() == sel.somethingSelected() &&\n      new Date - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500)\n  }\n\n  // Called whenever the selection changes, sets the new selection as\n  // the pending selection in the history, and pushes the old pending\n  // selection into the 'done' array when it was significantly\n  // different (in number of selected ranges, emptiness, or time).\n  function addSelectionToHistory(doc, sel, opId, options) {\n    var hist = doc.history, origin = options && options.origin;\n\n    // A new event is started when the previous origin does not match\n    // the current, or the origins don't allow matching. Origins\n    // starting with * are always merged, those starting with + are\n    // merged when similar and close together in time.\n    if (opId == hist.lastSelOp ||\n        (origin && hist.lastSelOrigin == origin &&\n         (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin ||\n          selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))))\n      { hist.done[hist.done.length - 1] = sel; }\n    else\n      { pushSelectionToHistory(sel, hist.done); }\n\n    hist.lastSelTime = +new Date;\n    hist.lastSelOrigin = origin;\n    hist.lastSelOp = opId;\n    if (options && options.clearRedo !== false)\n      { clearSelectionEvents(hist.undone); }\n  }\n\n  function pushSelectionToHistory(sel, dest) {\n    var top = lst(dest);\n    if (!(top && top.ranges && top.equals(sel)))\n      { dest.push(sel); }\n  }\n\n  // Used to store marked span information in the history.\n  function attachLocalSpans(doc, change, from, to) {\n    var existing = change[\"spans_\" + doc.id], n = 0;\n    doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function (line) {\n      if (line.markedSpans)\n        { (existing || (existing = change[\"spans_\" + doc.id] = {}))[n] = line.markedSpans; }\n      ++n;\n    });\n  }\n\n  // When un/re-doing restores text containing marked spans, those\n  // that have been explicitly cleared should not be restored.\n  function removeClearedSpans(spans) {\n    if (!spans) { return null }\n    var out;\n    for (var i = 0; i < spans.length; ++i) {\n      if (spans[i].marker.explicitlyCleared) { if (!out) { out = spans.slice(0, i); } }\n      else if (out) { out.push(spans[i]); }\n    }\n    return !out ? spans : out.length ? out : null\n  }\n\n  // Retrieve and filter the old marked spans stored in a change event.\n  function getOldSpans(doc, change) {\n    var found = change[\"spans_\" + doc.id];\n    if (!found) { return null }\n    var nw = [];\n    for (var i = 0; i < change.text.length; ++i)\n      { nw.push(removeClearedSpans(found[i])); }\n    return nw\n  }\n\n  // Used for un/re-doing changes from the history. Combines the\n  // result of computing the existing spans with the set of spans that\n  // existed in the history (so that deleting around a span and then\n  // undoing brings back the span).\n  function mergeOldSpans(doc, change) {\n    var old = getOldSpans(doc, change);\n    var stretched = stretchSpansOverChange(doc, change);\n    if (!old) { return stretched }\n    if (!stretched) { return old }\n\n    for (var i = 0; i < old.length; ++i) {\n      var oldCur = old[i], stretchCur = stretched[i];\n      if (oldCur && stretchCur) {\n        spans: for (var j = 0; j < stretchCur.length; ++j) {\n          var span = stretchCur[j];\n          for (var k = 0; k < oldCur.length; ++k)\n            { if (oldCur[k].marker == span.marker) { continue spans } }\n          oldCur.push(span);\n        }\n      } else if (stretchCur) {\n        old[i] = stretchCur;\n      }\n    }\n    return old\n  }\n\n  // Used both to provide a JSON-safe object in .getHistory, and, when\n  // detaching a document, to split the history in two\n  function copyHistoryArray(events, newGroup, instantiateSel) {\n    var copy = [];\n    for (var i = 0; i < events.length; ++i) {\n      var event = events[i];\n      if (event.ranges) {\n        copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event);\n        continue\n      }\n      var changes = event.changes, newChanges = [];\n      copy.push({changes: newChanges});\n      for (var j = 0; j < changes.length; ++j) {\n        var change = changes[j], m = (void 0);\n        newChanges.push({from: change.from, to: change.to, text: change.text});\n        if (newGroup) { for (var prop in change) { if (m = prop.match(/^spans_(\\d+)$/)) {\n          if (indexOf(newGroup, Number(m[1])) > -1) {\n            lst(newChanges)[prop] = change[prop];\n            delete change[prop];\n          }\n        } } }\n      }\n    }\n    return copy\n  }\n\n  // The 'scroll' parameter given to many of these indicated whether\n  // the new cursor position should be scrolled into view after\n  // modifying the selection.\n\n  // If shift is held or the extend flag is set, extends a range to\n  // include a given position (and optionally a second position).\n  // Otherwise, simply returns the range between the given positions.\n  // Used for cursor motion and such.\n  function extendRange(range, head, other, extend) {\n    if (extend) {\n      var anchor = range.anchor;\n      if (other) {\n        var posBefore = cmp(head, anchor) < 0;\n        if (posBefore != (cmp(other, anchor) < 0)) {\n          anchor = head;\n          head = other;\n        } else if (posBefore != (cmp(head, other) < 0)) {\n          head = other;\n        }\n      }\n      return new Range(anchor, head)\n    } else {\n      return new Range(other || head, head)\n    }\n  }\n\n  // Extend the primary selection range, discard the rest.\n  function extendSelection(doc, head, other, options, extend) {\n    if (extend == null) { extend = doc.cm && (doc.cm.display.shift || doc.extend); }\n    setSelection(doc, new Selection([extendRange(doc.sel.primary(), head, other, extend)], 0), options);\n  }\n\n  // Extend all selections (pos is an array of selections with length\n  // equal the number of selections)\n  function extendSelections(doc, heads, options) {\n    var out = [];\n    var extend = doc.cm && (doc.cm.display.shift || doc.extend);\n    for (var i = 0; i < doc.sel.ranges.length; i++)\n      { out[i] = extendRange(doc.sel.ranges[i], heads[i], null, extend); }\n    var newSel = normalizeSelection(doc.cm, out, doc.sel.primIndex);\n    setSelection(doc, newSel, options);\n  }\n\n  // Updates a single range in the selection.\n  function replaceOneSelection(doc, i, range, options) {\n    var ranges = doc.sel.ranges.slice(0);\n    ranges[i] = range;\n    setSelection(doc, normalizeSelection(doc.cm, ranges, doc.sel.primIndex), options);\n  }\n\n  // Reset the selection to a single range.\n  function setSimpleSelection(doc, anchor, head, options) {\n    setSelection(doc, simpleSelection(anchor, head), options);\n  }\n\n  // Give beforeSelectionChange handlers a change to influence a\n  // selection update.\n  function filterSelectionChange(doc, sel, options) {\n    var obj = {\n      ranges: sel.ranges,\n      update: function(ranges) {\n        this.ranges = [];\n        for (var i = 0; i < ranges.length; i++)\n          { this.ranges[i] = new Range(clipPos(doc, ranges[i].anchor),\n                                     clipPos(doc, ranges[i].head)); }\n      },\n      origin: options && options.origin\n    };\n    signal(doc, \"beforeSelectionChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeSelectionChange\", doc.cm, obj); }\n    if (obj.ranges != sel.ranges) { return normalizeSelection(doc.cm, obj.ranges, obj.ranges.length - 1) }\n    else { return sel }\n  }\n\n  function setSelectionReplaceHistory(doc, sel, options) {\n    var done = doc.history.done, last = lst(done);\n    if (last && last.ranges) {\n      done[done.length - 1] = sel;\n      setSelectionNoUndo(doc, sel, options);\n    } else {\n      setSelection(doc, sel, options);\n    }\n  }\n\n  // Set a new selection.\n  function setSelection(doc, sel, options) {\n    setSelectionNoUndo(doc, sel, options);\n    addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options);\n  }\n\n  function setSelectionNoUndo(doc, sel, options) {\n    if (hasHandler(doc, \"beforeSelectionChange\") || doc.cm && hasHandler(doc.cm, \"beforeSelectionChange\"))\n      { sel = filterSelectionChange(doc, sel, options); }\n\n    var bias = options && options.bias ||\n      (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1);\n    setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true));\n\n    if (!(options && options.scroll === false) && doc.cm && doc.cm.getOption(\"readOnly\") != \"nocursor\")\n      { ensureCursorVisible(doc.cm); }\n  }\n\n  function setSelectionInner(doc, sel) {\n    if (sel.equals(doc.sel)) { return }\n\n    doc.sel = sel;\n\n    if (doc.cm) {\n      doc.cm.curOp.updateInput = 1;\n      doc.cm.curOp.selectionChanged = true;\n      signalCursorActivity(doc.cm);\n    }\n    signalLater(doc, \"cursorActivity\", doc);\n  }\n\n  // Verify that the selection does not partially select any atomic\n  // marked ranges.\n  function reCheckSelection(doc) {\n    setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false));\n  }\n\n  // Return a selection that does not partially select any atomic\n  // ranges.\n  function skipAtomicInSelection(doc, sel, bias, mayClear) {\n    var out;\n    for (var i = 0; i < sel.ranges.length; i++) {\n      var range = sel.ranges[i];\n      var old = sel.ranges.length == doc.sel.ranges.length && doc.sel.ranges[i];\n      var newAnchor = skipAtomic(doc, range.anchor, old && old.anchor, bias, mayClear);\n      var newHead = skipAtomic(doc, range.head, old && old.head, bias, mayClear);\n      if (out || newAnchor != range.anchor || newHead != range.head) {\n        if (!out) { out = sel.ranges.slice(0, i); }\n        out[i] = new Range(newAnchor, newHead);\n      }\n    }\n    return out ? normalizeSelection(doc.cm, out, sel.primIndex) : sel\n  }\n\n  function skipAtomicInner(doc, pos, oldPos, dir, mayClear) {\n    var line = getLine(doc, pos.line);\n    if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n      var sp = line.markedSpans[i], m = sp.marker;\n\n      // Determine if we should prevent the cursor being placed to the left/right of an atomic marker\n      // Historically this was determined using the inclusiveLeft/Right option, but the new way to control it\n      // is with selectLeft/Right\n      var preventCursorLeft = (\"selectLeft\" in m) ? !m.selectLeft : m.inclusiveLeft;\n      var preventCursorRight = (\"selectRight\" in m) ? !m.selectRight : m.inclusiveRight;\n\n      if ((sp.from == null || (preventCursorLeft ? sp.from <= pos.ch : sp.from < pos.ch)) &&\n          (sp.to == null || (preventCursorRight ? sp.to >= pos.ch : sp.to > pos.ch))) {\n        if (mayClear) {\n          signal(m, \"beforeCursorEnter\");\n          if (m.explicitlyCleared) {\n            if (!line.markedSpans) { break }\n            else {--i; continue}\n          }\n        }\n        if (!m.atomic) { continue }\n\n        if (oldPos) {\n          var near = m.find(dir < 0 ? 1 : -1), diff = (void 0);\n          if (dir < 0 ? preventCursorRight : preventCursorLeft)\n            { near = movePos(doc, near, -dir, near && near.line == pos.line ? line : null); }\n          if (near && near.line == pos.line && (diff = cmp(near, oldPos)) && (dir < 0 ? diff < 0 : diff > 0))\n            { return skipAtomicInner(doc, near, pos, dir, mayClear) }\n        }\n\n        var far = m.find(dir < 0 ? -1 : 1);\n        if (dir < 0 ? preventCursorLeft : preventCursorRight)\n          { far = movePos(doc, far, dir, far.line == pos.line ? line : null); }\n        return far ? skipAtomicInner(doc, far, pos, dir, mayClear) : null\n      }\n    } }\n    return pos\n  }\n\n  // Ensure a given position is not inside an atomic range.\n  function skipAtomic(doc, pos, oldPos, bias, mayClear) {\n    var dir = bias || 1;\n    var found = skipAtomicInner(doc, pos, oldPos, dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, dir, true)) ||\n        skipAtomicInner(doc, pos, oldPos, -dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, -dir, true));\n    if (!found) {\n      doc.cantEdit = true;\n      return Pos(doc.first, 0)\n    }\n    return found\n  }\n\n  function movePos(doc, pos, dir, line) {\n    if (dir < 0 && pos.ch == 0) {\n      if (pos.line > doc.first) { return clipPos(doc, Pos(pos.line - 1)) }\n      else { return null }\n    } else if (dir > 0 && pos.ch == (line || getLine(doc, pos.line)).text.length) {\n      if (pos.line < doc.first + doc.size - 1) { return Pos(pos.line + 1, 0) }\n      else { return null }\n    } else {\n      return new Pos(pos.line, pos.ch + dir)\n    }\n  }\n\n  function selectAll(cm) {\n    cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll);\n  }\n\n  // UPDATING\n\n  // Allow \"beforeChange\" event handlers to influence a change\n  function filterChange(doc, change, update) {\n    var obj = {\n      canceled: false,\n      from: change.from,\n      to: change.to,\n      text: change.text,\n      origin: change.origin,\n      cancel: function () { return obj.canceled = true; }\n    };\n    if (update) { obj.update = function (from, to, text, origin) {\n      if (from) { obj.from = clipPos(doc, from); }\n      if (to) { obj.to = clipPos(doc, to); }\n      if (text) { obj.text = text; }\n      if (origin !== undefined) { obj.origin = origin; }\n    }; }\n    signal(doc, \"beforeChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeChange\", doc.cm, obj); }\n\n    if (obj.canceled) {\n      if (doc.cm) { doc.cm.curOp.updateInput = 2; }\n      return null\n    }\n    return {from: obj.from, to: obj.to, text: obj.text, origin: obj.origin}\n  }\n\n  // Apply a change to a document, and add it to the document's\n  // history, and propagating it to all linked documents.\n  function makeChange(doc, change, ignoreReadOnly) {\n    if (doc.cm) {\n      if (!doc.cm.curOp) { return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly) }\n      if (doc.cm.state.suppressEdits) { return }\n    }\n\n    if (hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")) {\n      change = filterChange(doc, change, true);\n      if (!change) { return }\n    }\n\n    // Possibly split or suppress the update based on the presence\n    // of read-only spans in its range.\n    var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to);\n    if (split) {\n      for (var i = split.length - 1; i >= 0; --i)\n        { makeChangeInner(doc, {from: split[i].from, to: split[i].to, text: i ? [\"\"] : change.text, origin: change.origin}); }\n    } else {\n      makeChangeInner(doc, change);\n    }\n  }\n\n  function makeChangeInner(doc, change) {\n    if (change.text.length == 1 && change.text[0] == \"\" && cmp(change.from, change.to) == 0) { return }\n    var selAfter = computeSelAfterChange(doc, change);\n    addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN);\n\n    makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change));\n    var rebased = [];\n\n    linkedDocs(doc, function (doc, sharedHist) {\n      if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n        rebaseHist(doc.history, change);\n        rebased.push(doc.history);\n      }\n      makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change));\n    });\n  }\n\n  // Revert a change stored in a document's history.\n  function makeChangeFromHistory(doc, type, allowSelectionOnly) {\n    var suppress = doc.cm && doc.cm.state.suppressEdits;\n    if (suppress && !allowSelectionOnly) { return }\n\n    var hist = doc.history, event, selAfter = doc.sel;\n    var source = type == \"undo\" ? hist.done : hist.undone, dest = type == \"undo\" ? hist.undone : hist.done;\n\n    // Verify that there is a useable event (so that ctrl-z won't\n    // needlessly clear selection events)\n    var i = 0;\n    for (; i < source.length; i++) {\n      event = source[i];\n      if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges)\n        { break }\n    }\n    if (i == source.length) { return }\n    hist.lastOrigin = hist.lastSelOrigin = null;\n\n    for (;;) {\n      event = source.pop();\n      if (event.ranges) {\n        pushSelectionToHistory(event, dest);\n        if (allowSelectionOnly && !event.equals(doc.sel)) {\n          setSelection(doc, event, {clearRedo: false});\n          return\n        }\n        selAfter = event;\n      } else if (suppress) {\n        source.push(event);\n        return\n      } else { break }\n    }\n\n    // Build up a reverse change object to add to the opposite history\n    // stack (redo when undoing, and vice versa).\n    var antiChanges = [];\n    pushSelectionToHistory(selAfter, dest);\n    dest.push({changes: antiChanges, generation: hist.generation});\n    hist.generation = event.generation || ++hist.maxGeneration;\n\n    var filter = hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\");\n\n    var loop = function ( i ) {\n      var change = event.changes[i];\n      change.origin = type;\n      if (filter && !filterChange(doc, change, false)) {\n        source.length = 0;\n        return {}\n      }\n\n      antiChanges.push(historyChangeFromChange(doc, change));\n\n      var after = i ? computeSelAfterChange(doc, change) : lst(source);\n      makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change));\n      if (!i && doc.cm) { doc.cm.scrollIntoView({from: change.from, to: changeEnd(change)}); }\n      var rebased = [];\n\n      // Propagate to the linked documents\n      linkedDocs(doc, function (doc, sharedHist) {\n        if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n          rebaseHist(doc.history, change);\n          rebased.push(doc.history);\n        }\n        makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change));\n      });\n    };\n\n    for (var i$1 = event.changes.length - 1; i$1 >= 0; --i$1) {\n      var returned = loop( i$1 );\n\n      if ( returned ) return returned.v;\n    }\n  }\n\n  // Sub-views need their line numbers shifted when text is added\n  // above or below them in the parent document.\n  function shiftDoc(doc, distance) {\n    if (distance == 0) { return }\n    doc.first += distance;\n    doc.sel = new Selection(map(doc.sel.ranges, function (range) { return new Range(\n      Pos(range.anchor.line + distance, range.anchor.ch),\n      Pos(range.head.line + distance, range.head.ch)\n    ); }), doc.sel.primIndex);\n    if (doc.cm) {\n      regChange(doc.cm, doc.first, doc.first - distance, distance);\n      for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++)\n        { regLineChange(doc.cm, l, \"gutter\"); }\n    }\n  }\n\n  // More lower-level change function, handling only a single document\n  // (not linked ones).\n  function makeChangeSingleDoc(doc, change, selAfter, spans) {\n    if (doc.cm && !doc.cm.curOp)\n      { return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans) }\n\n    if (change.to.line < doc.first) {\n      shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line));\n      return\n    }\n    if (change.from.line > doc.lastLine()) { return }\n\n    // Clip the change to the size of this doc\n    if (change.from.line < doc.first) {\n      var shift = change.text.length - 1 - (doc.first - change.from.line);\n      shiftDoc(doc, shift);\n      change = {from: Pos(doc.first, 0), to: Pos(change.to.line + shift, change.to.ch),\n                text: [lst(change.text)], origin: change.origin};\n    }\n    var last = doc.lastLine();\n    if (change.to.line > last) {\n      change = {from: change.from, to: Pos(last, getLine(doc, last).text.length),\n                text: [change.text[0]], origin: change.origin};\n    }\n\n    change.removed = getBetween(doc, change.from, change.to);\n\n    if (!selAfter) { selAfter = computeSelAfterChange(doc, change); }\n    if (doc.cm) { makeChangeSingleDocInEditor(doc.cm, change, spans); }\n    else { updateDoc(doc, change, spans); }\n    setSelectionNoUndo(doc, selAfter, sel_dontScroll);\n\n    if (doc.cantEdit && skipAtomic(doc, Pos(doc.firstLine(), 0)))\n      { doc.cantEdit = false; }\n  }\n\n  // Handle the interaction of a change to a document with the editor\n  // that this document is part of.\n  function makeChangeSingleDocInEditor(cm, change, spans) {\n    var doc = cm.doc, display = cm.display, from = change.from, to = change.to;\n\n    var recomputeMaxLength = false, checkWidthStart = from.line;\n    if (!cm.options.lineWrapping) {\n      checkWidthStart = lineNo(visualLine(getLine(doc, from.line)));\n      doc.iter(checkWidthStart, to.line + 1, function (line) {\n        if (line == display.maxLine) {\n          recomputeMaxLength = true;\n          return true\n        }\n      });\n    }\n\n    if (doc.sel.contains(change.from, change.to) > -1)\n      { signalCursorActivity(cm); }\n\n    updateDoc(doc, change, spans, estimateHeight(cm));\n\n    if (!cm.options.lineWrapping) {\n      doc.iter(checkWidthStart, from.line + change.text.length, function (line) {\n        var len = lineLength(line);\n        if (len > display.maxLineLength) {\n          display.maxLine = line;\n          display.maxLineLength = len;\n          display.maxLineChanged = true;\n          recomputeMaxLength = false;\n        }\n      });\n      if (recomputeMaxLength) { cm.curOp.updateMaxLine = true; }\n    }\n\n    retreatFrontier(doc, from.line);\n    startWorker(cm, 400);\n\n    var lendiff = change.text.length - (to.line - from.line) - 1;\n    // Remember that these lines changed, for updating the display\n    if (change.full)\n      { regChange(cm); }\n    else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change))\n      { regLineChange(cm, from.line, \"text\"); }\n    else\n      { regChange(cm, from.line, to.line + 1, lendiff); }\n\n    var changesHandler = hasHandler(cm, \"changes\"), changeHandler = hasHandler(cm, \"change\");\n    if (changeHandler || changesHandler) {\n      var obj = {\n        from: from, to: to,\n        text: change.text,\n        removed: change.removed,\n        origin: change.origin\n      };\n      if (changeHandler) { signalLater(cm, \"change\", cm, obj); }\n      if (changesHandler) { (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj); }\n    }\n    cm.display.selForContextMenu = null;\n  }\n\n  function replaceRange(doc, code, from, to, origin) {\n    var assign;\n\n    if (!to) { to = from; }\n    if (cmp(to, from) < 0) { (assign = [to, from], from = assign[0], to = assign[1]); }\n    if (typeof code == \"string\") { code = doc.splitLines(code); }\n    makeChange(doc, {from: from, to: to, text: code, origin: origin});\n  }\n\n  // Rebasing/resetting history to deal with externally-sourced changes\n\n  function rebaseHistSelSingle(pos, from, to, diff) {\n    if (to < pos.line) {\n      pos.line += diff;\n    } else if (from < pos.line) {\n      pos.line = from;\n      pos.ch = 0;\n    }\n  }\n\n  // Tries to rebase an array of history events given a change in the\n  // document. If the change touches the same lines as the event, the\n  // event, and everything 'behind' it, is discarded. If the change is\n  // before the event, the event's positions are updated. Uses a\n  // copy-on-write scheme for the positions, to avoid having to\n  // reallocate them all on every rebase, but also avoid problems with\n  // shared position objects being unsafely updated.\n  function rebaseHistArray(array, from, to, diff) {\n    for (var i = 0; i < array.length; ++i) {\n      var sub = array[i], ok = true;\n      if (sub.ranges) {\n        if (!sub.copied) { sub = array[i] = sub.deepCopy(); sub.copied = true; }\n        for (var j = 0; j < sub.ranges.length; j++) {\n          rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff);\n          rebaseHistSelSingle(sub.ranges[j].head, from, to, diff);\n        }\n        continue\n      }\n      for (var j$1 = 0; j$1 < sub.changes.length; ++j$1) {\n        var cur = sub.changes[j$1];\n        if (to < cur.from.line) {\n          cur.from = Pos(cur.from.line + diff, cur.from.ch);\n          cur.to = Pos(cur.to.line + diff, cur.to.ch);\n        } else if (from <= cur.to.line) {\n          ok = false;\n          break\n        }\n      }\n      if (!ok) {\n        array.splice(0, i + 1);\n        i = 0;\n      }\n    }\n  }\n\n  function rebaseHist(hist, change) {\n    var from = change.from.line, to = change.to.line, diff = change.text.length - (to - from) - 1;\n    rebaseHistArray(hist.done, from, to, diff);\n    rebaseHistArray(hist.undone, from, to, diff);\n  }\n\n  // Utility for applying a change to a line by handle or number,\n  // returning the number and optionally registering the line as\n  // changed.\n  function changeLine(doc, handle, changeType, op) {\n    var no = handle, line = handle;\n    if (typeof handle == \"number\") { line = getLine(doc, clipLine(doc, handle)); }\n    else { no = lineNo(handle); }\n    if (no == null) { return null }\n    if (op(line, no) && doc.cm) { regLineChange(doc.cm, no, changeType); }\n    return line\n  }\n\n  // The document is represented as a BTree consisting of leaves, with\n  // chunk of lines in them, and branches, with up to ten leaves or\n  // other branch nodes below them. The top node is always a branch\n  // node, and is the document object itself (meaning it has\n  // additional methods and properties).\n  //\n  // All nodes have parent links. The tree is used both to go from\n  // line numbers to line objects, and to go from objects to numbers.\n  // It also indexes by height, and is used to convert between height\n  // and line object, and to find the total height of the document.\n  //\n  // See also http://marijnhaverbeke.nl/blog/codemirror-line-tree.html\n\n  function LeafChunk(lines) {\n    this.lines = lines;\n    this.parent = null;\n    var height = 0;\n    for (var i = 0; i < lines.length; ++i) {\n      lines[i].parent = this;\n      height += lines[i].height;\n    }\n    this.height = height;\n  }\n\n  LeafChunk.prototype = {\n    chunkSize: function() { return this.lines.length },\n\n    // Remove the n lines at offset 'at'.\n    removeInner: function(at, n) {\n      for (var i = at, e = at + n; i < e; ++i) {\n        var line = this.lines[i];\n        this.height -= line.height;\n        cleanUpLine(line);\n        signalLater(line, \"delete\");\n      }\n      this.lines.splice(at, n);\n    },\n\n    // Helper used to collapse a small branch into a single leaf.\n    collapse: function(lines) {\n      lines.push.apply(lines, this.lines);\n    },\n\n    // Insert the given array of lines at offset 'at', count them as\n    // having the given height.\n    insertInner: function(at, lines, height) {\n      this.height += height;\n      this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at));\n      for (var i = 0; i < lines.length; ++i) { lines[i].parent = this; }\n    },\n\n    // Used to iterate over a part of the tree.\n    iterN: function(at, n, op) {\n      for (var e = at + n; at < e; ++at)\n        { if (op(this.lines[at])) { return true } }\n    }\n  };\n\n  function BranchChunk(children) {\n    this.children = children;\n    var size = 0, height = 0;\n    for (var i = 0; i < children.length; ++i) {\n      var ch = children[i];\n      size += ch.chunkSize(); height += ch.height;\n      ch.parent = this;\n    }\n    this.size = size;\n    this.height = height;\n    this.parent = null;\n  }\n\n  BranchChunk.prototype = {\n    chunkSize: function() { return this.size },\n\n    removeInner: function(at, n) {\n      this.size -= n;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var rm = Math.min(n, sz - at), oldHeight = child.height;\n          child.removeInner(at, rm);\n          this.height -= oldHeight - child.height;\n          if (sz == rm) { this.children.splice(i--, 1); child.parent = null; }\n          if ((n -= rm) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n      // If the result is smaller than 25 lines, ensure that it is a\n      // single leaf node.\n      if (this.size - n < 25 &&\n          (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {\n        var lines = [];\n        this.collapse(lines);\n        this.children = [new LeafChunk(lines)];\n        this.children[0].parent = this;\n      }\n    },\n\n    collapse: function(lines) {\n      for (var i = 0; i < this.children.length; ++i) { this.children[i].collapse(lines); }\n    },\n\n    insertInner: function(at, lines, height) {\n      this.size += lines.length;\n      this.height += height;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at <= sz) {\n          child.insertInner(at, lines, height);\n          if (child.lines && child.lines.length > 50) {\n            // To avoid memory thrashing when child.lines is huge (e.g. first view of a large file), it's never spliced.\n            // Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.\n            var remaining = child.lines.length % 25 + 25;\n            for (var pos = remaining; pos < child.lines.length;) {\n              var leaf = new LeafChunk(child.lines.slice(pos, pos += 25));\n              child.height -= leaf.height;\n              this.children.splice(++i, 0, leaf);\n              leaf.parent = this;\n            }\n            child.lines = child.lines.slice(0, remaining);\n            this.maybeSpill();\n          }\n          break\n        }\n        at -= sz;\n      }\n    },\n\n    // When a node has grown, check whether it should be split.\n    maybeSpill: function() {\n      if (this.children.length <= 10) { return }\n      var me = this;\n      do {\n        var spilled = me.children.splice(me.children.length - 5, 5);\n        var sibling = new BranchChunk(spilled);\n        if (!me.parent) { // Become the parent node\n          var copy = new BranchChunk(me.children);\n          copy.parent = me;\n          me.children = [copy, sibling];\n          me = copy;\n       } else {\n          me.size -= sibling.size;\n          me.height -= sibling.height;\n          var myIndex = indexOf(me.parent.children, me);\n          me.parent.children.splice(myIndex + 1, 0, sibling);\n        }\n        sibling.parent = me.parent;\n      } while (me.children.length > 10)\n      me.parent.maybeSpill();\n    },\n\n    iterN: function(at, n, op) {\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var used = Math.min(n, sz - at);\n          if (child.iterN(at, used, op)) { return true }\n          if ((n -= used) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n    }\n  };\n\n  // Line widgets are block elements displayed above or below a line.\n\n  var LineWidget = function(doc, node, options) {\n    if (options) { for (var opt in options) { if (options.hasOwnProperty(opt))\n      { this[opt] = options[opt]; } } }\n    this.doc = doc;\n    this.node = node;\n  };\n\n  LineWidget.prototype.clear = function () {\n    var cm = this.doc.cm, ws = this.line.widgets, line = this.line, no = lineNo(line);\n    if (no == null || !ws) { return }\n    for (var i = 0; i < ws.length; ++i) { if (ws[i] == this) { ws.splice(i--, 1); } }\n    if (!ws.length) { line.widgets = null; }\n    var height = widgetHeight(this);\n    updateLineHeight(line, Math.max(0, line.height - height));\n    if (cm) {\n      runInOp(cm, function () {\n        adjustScrollWhenAboveVisible(cm, line, -height);\n        regLineChange(cm, no, \"widget\");\n      });\n      signalLater(cm, \"lineWidgetCleared\", cm, this, no);\n    }\n  };\n\n  LineWidget.prototype.changed = function () {\n      var this$1 = this;\n\n    var oldH = this.height, cm = this.doc.cm, line = this.line;\n    this.height = null;\n    var diff = widgetHeight(this) - oldH;\n    if (!diff) { return }\n    if (!lineIsHidden(this.doc, line)) { updateLineHeight(line, line.height + diff); }\n    if (cm) {\n      runInOp(cm, function () {\n        cm.curOp.forceUpdate = true;\n        adjustScrollWhenAboveVisible(cm, line, diff);\n        signalLater(cm, \"lineWidgetChanged\", cm, this$1, lineNo(line));\n      });\n    }\n  };\n  eventMixin(LineWidget);\n\n  function adjustScrollWhenAboveVisible(cm, line, diff) {\n    if (heightAtLine(line) < ((cm.curOp && cm.curOp.scrollTop) || cm.doc.scrollTop))\n      { addToScrollTop(cm, diff); }\n  }\n\n  function addLineWidget(doc, handle, node, options) {\n    var widget = new LineWidget(doc, node, options);\n    var cm = doc.cm;\n    if (cm && widget.noHScroll) { cm.display.alignWidgets = true; }\n    changeLine(doc, handle, \"widget\", function (line) {\n      var widgets = line.widgets || (line.widgets = []);\n      if (widget.insertAt == null) { widgets.push(widget); }\n      else { widgets.splice(Math.min(widgets.length, Math.max(0, widget.insertAt)), 0, widget); }\n      widget.line = line;\n      if (cm && !lineIsHidden(doc, line)) {\n        var aboveVisible = heightAtLine(line) < doc.scrollTop;\n        updateLineHeight(line, line.height + widgetHeight(widget));\n        if (aboveVisible) { addToScrollTop(cm, widget.height); }\n        cm.curOp.forceUpdate = true;\n      }\n      return true\n    });\n    if (cm) { signalLater(cm, \"lineWidgetAdded\", cm, widget, typeof handle == \"number\" ? handle : lineNo(handle)); }\n    return widget\n  }\n\n  // TEXTMARKERS\n\n  // Created with markText and setBookmark methods. A TextMarker is a\n  // handle that can be used to clear or find a marked position in the\n  // document. Line objects hold arrays (markedSpans) containing\n  // {from, to, marker} object pointing to such marker objects, and\n  // indicating that such a marker is present on that line. Multiple\n  // lines may point to the same marker when it spans across lines.\n  // The spans will have null for their from/to properties when the\n  // marker continues beyond the start/end of the line. Markers have\n  // links back to the lines they currently touch.\n\n  // Collapsed markers have unique ids, in order to be able to order\n  // them, which is needed for uniquely determining an outer marker\n  // when they overlap (they may nest, but not partially overlap).\n  var nextMarkerId = 0;\n\n  var TextMarker = function(doc, type) {\n    this.lines = [];\n    this.type = type;\n    this.doc = doc;\n    this.id = ++nextMarkerId;\n  };\n\n  // Clear the marker.\n  TextMarker.prototype.clear = function () {\n    if (this.explicitlyCleared) { return }\n    var cm = this.doc.cm, withOp = cm && !cm.curOp;\n    if (withOp) { startOperation(cm); }\n    if (hasHandler(this, \"clear\")) {\n      var found = this.find();\n      if (found) { signalLater(this, \"clear\", found.from, found.to); }\n    }\n    var min = null, max = null;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n      if (cm && !this.collapsed) { regLineChange(cm, lineNo(line), \"text\"); }\n      else if (cm) {\n        if (span.to != null) { max = lineNo(line); }\n        if (span.from != null) { min = lineNo(line); }\n      }\n      line.markedSpans = removeMarkedSpan(line.markedSpans, span);\n      if (span.from == null && this.collapsed && !lineIsHidden(this.doc, line) && cm)\n        { updateLineHeight(line, textHeight(cm.display)); }\n    }\n    if (cm && this.collapsed && !cm.options.lineWrapping) { for (var i$1 = 0; i$1 < this.lines.length; ++i$1) {\n      var visual = visualLine(this.lines[i$1]), len = lineLength(visual);\n      if (len > cm.display.maxLineLength) {\n        cm.display.maxLine = visual;\n        cm.display.maxLineLength = len;\n        cm.display.maxLineChanged = true;\n      }\n    } }\n\n    if (min != null && cm && this.collapsed) { regChange(cm, min, max + 1); }\n    this.lines.length = 0;\n    this.explicitlyCleared = true;\n    if (this.atomic && this.doc.cantEdit) {\n      this.doc.cantEdit = false;\n      if (cm) { reCheckSelection(cm.doc); }\n    }\n    if (cm) { signalLater(cm, \"markerCleared\", cm, this, min, max); }\n    if (withOp) { endOperation(cm); }\n    if (this.parent) { this.parent.clear(); }\n  };\n\n  // Find the position of the marker in the document. Returns a {from,\n  // to} object by default. Side can be passed to get a specific side\n  // -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the\n  // Pos objects returned contain a line object, rather than a line\n  // number (used to prevent looking up the same line twice).\n  TextMarker.prototype.find = function (side, lineObj) {\n    if (side == null && this.type == \"bookmark\") { side = 1; }\n    var from, to;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n      if (span.from != null) {\n        from = Pos(lineObj ? line : lineNo(line), span.from);\n        if (side == -1) { return from }\n      }\n      if (span.to != null) {\n        to = Pos(lineObj ? line : lineNo(line), span.to);\n        if (side == 1) { return to }\n      }\n    }\n    return from && {from: from, to: to}\n  };\n\n  // Signals that the marker's widget changed, and surrounding layout\n  // should be recomputed.\n  TextMarker.prototype.changed = function () {\n      var this$1 = this;\n\n    var pos = this.find(-1, true), widget = this, cm = this.doc.cm;\n    if (!pos || !cm) { return }\n    runInOp(cm, function () {\n      var line = pos.line, lineN = lineNo(pos.line);\n      var view = findViewForLine(cm, lineN);\n      if (view) {\n        clearLineMeasurementCacheFor(view);\n        cm.curOp.selectionChanged = cm.curOp.forceUpdate = true;\n      }\n      cm.curOp.updateMaxLine = true;\n      if (!lineIsHidden(widget.doc, line) && widget.height != null) {\n        var oldHeight = widget.height;\n        widget.height = null;\n        var dHeight = widgetHeight(widget) - oldHeight;\n        if (dHeight)\n          { updateLineHeight(line, line.height + dHeight); }\n      }\n      signalLater(cm, \"markerChanged\", cm, this$1);\n    });\n  };\n\n  TextMarker.prototype.attachLine = function (line) {\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp;\n      if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1)\n        { (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this); }\n    }\n    this.lines.push(line);\n  };\n\n  TextMarker.prototype.detachLine = function (line) {\n    this.lines.splice(indexOf(this.lines, line), 1);\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp\n      ;(op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this);\n    }\n  };\n  eventMixin(TextMarker);\n\n  // Create a marker, wire it up to the right lines, and\n  function markText(doc, from, to, options, type) {\n    // Shared markers (across linked documents) are handled separately\n    // (markTextShared will call out to this again, once per\n    // document).\n    if (options && options.shared) { return markTextShared(doc, from, to, options, type) }\n    // Ensure we are in an operation.\n    if (doc.cm && !doc.cm.curOp) { return operation(doc.cm, markText)(doc, from, to, options, type) }\n\n    var marker = new TextMarker(doc, type), diff = cmp(from, to);\n    if (options) { copyObj(options, marker, false); }\n    // Don't connect empty markers unless clearWhenEmpty is false\n    if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false)\n      { return marker }\n    if (marker.replacedWith) {\n      // Showing up as a widget implies collapsed (widget replaces text)\n      marker.collapsed = true;\n      marker.widgetNode = eltP(\"span\", [marker.replacedWith], \"CodeMirror-widget\");\n      if (!options.handleMouseEvents) { marker.widgetNode.setAttribute(\"cm-ignore-events\", \"true\"); }\n      if (options.insertLeft) { marker.widgetNode.insertLeft = true; }\n    }\n    if (marker.collapsed) {\n      if (conflictingCollapsedRange(doc, from.line, from, to, marker) ||\n          from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker))\n        { throw new Error(\"Inserting collapsed marker partially overlapping an existing one\") }\n      seeCollapsedSpans();\n    }\n\n    if (marker.addToHistory)\n      { addChangeToHistory(doc, {from: from, to: to, origin: \"markText\"}, doc.sel, NaN); }\n\n    var curLine = from.line, cm = doc.cm, updateMaxLine;\n    doc.iter(curLine, to.line + 1, function (line) {\n      if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine)\n        { updateMaxLine = true; }\n      if (marker.collapsed && curLine != from.line) { updateLineHeight(line, 0); }\n      addMarkedSpan(line, new MarkedSpan(marker,\n                                         curLine == from.line ? from.ch : null,\n                                         curLine == to.line ? to.ch : null), doc.cm && doc.cm.curOp);\n      ++curLine;\n    });\n    // lineIsHidden depends on the presence of the spans, so needs a second pass\n    if (marker.collapsed) { doc.iter(from.line, to.line + 1, function (line) {\n      if (lineIsHidden(doc, line)) { updateLineHeight(line, 0); }\n    }); }\n\n    if (marker.clearOnEnter) { on(marker, \"beforeCursorEnter\", function () { return marker.clear(); }); }\n\n    if (marker.readOnly) {\n      seeReadOnlySpans();\n      if (doc.history.done.length || doc.history.undone.length)\n        { doc.clearHistory(); }\n    }\n    if (marker.collapsed) {\n      marker.id = ++nextMarkerId;\n      marker.atomic = true;\n    }\n    if (cm) {\n      // Sync editor state\n      if (updateMaxLine) { cm.curOp.updateMaxLine = true; }\n      if (marker.collapsed)\n        { regChange(cm, from.line, to.line + 1); }\n      else if (marker.className || marker.startStyle || marker.endStyle || marker.css ||\n               marker.attributes || marker.title)\n        { for (var i = from.line; i <= to.line; i++) { regLineChange(cm, i, \"text\"); } }\n      if (marker.atomic) { reCheckSelection(cm.doc); }\n      signalLater(cm, \"markerAdded\", cm, marker);\n    }\n    return marker\n  }\n\n  // SHARED TEXTMARKERS\n\n  // A shared marker spans multiple linked documents. It is\n  // implemented as a meta-marker-object controlling multiple normal\n  // markers.\n  var SharedTextMarker = function(markers, primary) {\n    this.markers = markers;\n    this.primary = primary;\n    for (var i = 0; i < markers.length; ++i)\n      { markers[i].parent = this; }\n  };\n\n  SharedTextMarker.prototype.clear = function () {\n    if (this.explicitlyCleared) { return }\n    this.explicitlyCleared = true;\n    for (var i = 0; i < this.markers.length; ++i)\n      { this.markers[i].clear(); }\n    signalLater(this, \"clear\");\n  };\n\n  SharedTextMarker.prototype.find = function (side, lineObj) {\n    return this.primary.find(side, lineObj)\n  };\n  eventMixin(SharedTextMarker);\n\n  function markTextShared(doc, from, to, options, type) {\n    options = copyObj(options);\n    options.shared = false;\n    var markers = [markText(doc, from, to, options, type)], primary = markers[0];\n    var widget = options.widgetNode;\n    linkedDocs(doc, function (doc) {\n      if (widget) { options.widgetNode = widget.cloneNode(true); }\n      markers.push(markText(doc, clipPos(doc, from), clipPos(doc, to), options, type));\n      for (var i = 0; i < doc.linked.length; ++i)\n        { if (doc.linked[i].isParent) { return } }\n      primary = lst(markers);\n    });\n    return new SharedTextMarker(markers, primary)\n  }\n\n  function findSharedMarkers(doc) {\n    return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())), function (m) { return m.parent; })\n  }\n\n  function copySharedMarkers(doc, markers) {\n    for (var i = 0; i < markers.length; i++) {\n      var marker = markers[i], pos = marker.find();\n      var mFrom = doc.clipPos(pos.from), mTo = doc.clipPos(pos.to);\n      if (cmp(mFrom, mTo)) {\n        var subMark = markText(doc, mFrom, mTo, marker.primary, marker.primary.type);\n        marker.markers.push(subMark);\n        subMark.parent = marker;\n      }\n    }\n  }\n\n  function detachSharedMarkers(markers) {\n    var loop = function ( i ) {\n      var marker = markers[i], linked = [marker.primary.doc];\n      linkedDocs(marker.primary.doc, function (d) { return linked.push(d); });\n      for (var j = 0; j < marker.markers.length; j++) {\n        var subMarker = marker.markers[j];\n        if (indexOf(linked, subMarker.doc) == -1) {\n          subMarker.parent = null;\n          marker.markers.splice(j--, 1);\n        }\n      }\n    };\n\n    for (var i = 0; i < markers.length; i++) loop( i );\n  }\n\n  var nextDocId = 0;\n  var Doc = function(text, mode, firstLine, lineSep, direction) {\n    if (!(this instanceof Doc)) { return new Doc(text, mode, firstLine, lineSep, direction) }\n    if (firstLine == null) { firstLine = 0; }\n\n    BranchChunk.call(this, [new LeafChunk([new Line(\"\", null)])]);\n    this.first = firstLine;\n    this.scrollTop = this.scrollLeft = 0;\n    this.cantEdit = false;\n    this.cleanGeneration = 1;\n    this.modeFrontier = this.highlightFrontier = firstLine;\n    var start = Pos(firstLine, 0);\n    this.sel = simpleSelection(start);\n    this.history = new History(null);\n    this.id = ++nextDocId;\n    this.modeOption = mode;\n    this.lineSep = lineSep;\n    this.direction = (direction == \"rtl\") ? \"rtl\" : \"ltr\";\n    this.extend = false;\n\n    if (typeof text == \"string\") { text = this.splitLines(text); }\n    updateDoc(this, {from: start, to: start, text: text});\n    setSelection(this, simpleSelection(start), sel_dontScroll);\n  };\n\n  Doc.prototype = createObj(BranchChunk.prototype, {\n    constructor: Doc,\n    // Iterate over the document. Supports two forms -- with only one\n    // argument, it calls that for each line in the document. With\n    // three, it iterates over the range given by the first two (with\n    // the second being non-inclusive).\n    iter: function(from, to, op) {\n      if (op) { this.iterN(from - this.first, to - from, op); }\n      else { this.iterN(this.first, this.first + this.size, from); }\n    },\n\n    // Non-public interface for adding and removing lines.\n    insert: function(at, lines) {\n      var height = 0;\n      for (var i = 0; i < lines.length; ++i) { height += lines[i].height; }\n      this.insertInner(at - this.first, lines, height);\n    },\n    remove: function(at, n) { this.removeInner(at - this.first, n); },\n\n    // From here, the methods are part of the public interface. Most\n    // are also available from CodeMirror (editor) instances.\n\n    getValue: function(lineSep) {\n      var lines = getLines(this, this.first, this.first + this.size);\n      if (lineSep === false) { return lines }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n    setValue: docMethodOp(function(code) {\n      var top = Pos(this.first, 0), last = this.first + this.size - 1;\n      makeChange(this, {from: top, to: Pos(last, getLine(this, last).text.length),\n                        text: this.splitLines(code), origin: \"setValue\", full: true}, true);\n      if (this.cm) { scrollToCoords(this.cm, 0, 0); }\n      setSelection(this, simpleSelection(top), sel_dontScroll);\n    }),\n    replaceRange: function(code, from, to, origin) {\n      from = clipPos(this, from);\n      to = to ? clipPos(this, to) : from;\n      replaceRange(this, code, from, to, origin);\n    },\n    getRange: function(from, to, lineSep) {\n      var lines = getBetween(this, clipPos(this, from), clipPos(this, to));\n      if (lineSep === false) { return lines }\n      if (lineSep === '') { return lines.join('') }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n\n    getLine: function(line) {var l = this.getLineHandle(line); return l && l.text},\n\n    getLineHandle: function(line) {if (isLine(this, line)) { return getLine(this, line) }},\n    getLineNumber: function(line) {return lineNo(line)},\n\n    getLineHandleVisualStart: function(line) {\n      if (typeof line == \"number\") { line = getLine(this, line); }\n      return visualLine(line)\n    },\n\n    lineCount: function() {return this.size},\n    firstLine: function() {return this.first},\n    lastLine: function() {return this.first + this.size - 1},\n\n    clipPos: function(pos) {return clipPos(this, pos)},\n\n    getCursor: function(start) {\n      var range = this.sel.primary(), pos;\n      if (start == null || start == \"head\") { pos = range.head; }\n      else if (start == \"anchor\") { pos = range.anchor; }\n      else if (start == \"end\" || start == \"to\" || start === false) { pos = range.to(); }\n      else { pos = range.from(); }\n      return pos\n    },\n    listSelections: function() { return this.sel.ranges },\n    somethingSelected: function() {return this.sel.somethingSelected()},\n\n    setCursor: docMethodOp(function(line, ch, options) {\n      setSimpleSelection(this, clipPos(this, typeof line == \"number\" ? Pos(line, ch || 0) : line), null, options);\n    }),\n    setSelection: docMethodOp(function(anchor, head, options) {\n      setSimpleSelection(this, clipPos(this, anchor), clipPos(this, head || anchor), options);\n    }),\n    extendSelection: docMethodOp(function(head, other, options) {\n      extendSelection(this, clipPos(this, head), other && clipPos(this, other), options);\n    }),\n    extendSelections: docMethodOp(function(heads, options) {\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    extendSelectionsBy: docMethodOp(function(f, options) {\n      var heads = map(this.sel.ranges, f);\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    setSelections: docMethodOp(function(ranges, primary, options) {\n      if (!ranges.length) { return }\n      var out = [];\n      for (var i = 0; i < ranges.length; i++)\n        { out[i] = new Range(clipPos(this, ranges[i].anchor),\n                           clipPos(this, ranges[i].head || ranges[i].anchor)); }\n      if (primary == null) { primary = Math.min(ranges.length - 1, this.sel.primIndex); }\n      setSelection(this, normalizeSelection(this.cm, out, primary), options);\n    }),\n    addSelection: docMethodOp(function(anchor, head, options) {\n      var ranges = this.sel.ranges.slice(0);\n      ranges.push(new Range(clipPos(this, anchor), clipPos(this, head || anchor)));\n      setSelection(this, normalizeSelection(this.cm, ranges, ranges.length - 1), options);\n    }),\n\n    getSelection: function(lineSep) {\n      var ranges = this.sel.ranges, lines;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        lines = lines ? lines.concat(sel) : sel;\n      }\n      if (lineSep === false) { return lines }\n      else { return lines.join(lineSep || this.lineSeparator()) }\n    },\n    getSelections: function(lineSep) {\n      var parts = [], ranges = this.sel.ranges;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        if (lineSep !== false) { sel = sel.join(lineSep || this.lineSeparator()); }\n        parts[i] = sel;\n      }\n      return parts\n    },\n    replaceSelection: function(code, collapse, origin) {\n      var dup = [];\n      for (var i = 0; i < this.sel.ranges.length; i++)\n        { dup[i] = code; }\n      this.replaceSelections(dup, collapse, origin || \"+input\");\n    },\n    replaceSelections: docMethodOp(function(code, collapse, origin) {\n      var changes = [], sel = this.sel;\n      for (var i = 0; i < sel.ranges.length; i++) {\n        var range = sel.ranges[i];\n        changes[i] = {from: range.from(), to: range.to(), text: this.splitLines(code[i]), origin: origin};\n      }\n      var newSel = collapse && collapse != \"end\" && computeReplacedSel(this, changes, collapse);\n      for (var i$1 = changes.length - 1; i$1 >= 0; i$1--)\n        { makeChange(this, changes[i$1]); }\n      if (newSel) { setSelectionReplaceHistory(this, newSel); }\n      else if (this.cm) { ensureCursorVisible(this.cm); }\n    }),\n    undo: docMethodOp(function() {makeChangeFromHistory(this, \"undo\");}),\n    redo: docMethodOp(function() {makeChangeFromHistory(this, \"redo\");}),\n    undoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"undo\", true);}),\n    redoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"redo\", true);}),\n\n    setExtending: function(val) {this.extend = val;},\n    getExtending: function() {return this.extend},\n\n    historySize: function() {\n      var hist = this.history, done = 0, undone = 0;\n      for (var i = 0; i < hist.done.length; i++) { if (!hist.done[i].ranges) { ++done; } }\n      for (var i$1 = 0; i$1 < hist.undone.length; i$1++) { if (!hist.undone[i$1].ranges) { ++undone; } }\n      return {undo: done, redo: undone}\n    },\n    clearHistory: function() {\n      var this$1 = this;\n\n      this.history = new History(this.history);\n      linkedDocs(this, function (doc) { return doc.history = this$1.history; }, true);\n    },\n\n    markClean: function() {\n      this.cleanGeneration = this.changeGeneration(true);\n    },\n    changeGeneration: function(forceSplit) {\n      if (forceSplit)\n        { this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null; }\n      return this.history.generation\n    },\n    isClean: function (gen) {\n      return this.history.generation == (gen || this.cleanGeneration)\n    },\n\n    getHistory: function() {\n      return {done: copyHistoryArray(this.history.done),\n              undone: copyHistoryArray(this.history.undone)}\n    },\n    setHistory: function(histData) {\n      var hist = this.history = new History(this.history);\n      hist.done = copyHistoryArray(histData.done.slice(0), null, true);\n      hist.undone = copyHistoryArray(histData.undone.slice(0), null, true);\n    },\n\n    setGutterMarker: docMethodOp(function(line, gutterID, value) {\n      return changeLine(this, line, \"gutter\", function (line) {\n        var markers = line.gutterMarkers || (line.gutterMarkers = {});\n        markers[gutterID] = value;\n        if (!value && isEmpty(markers)) { line.gutterMarkers = null; }\n        return true\n      })\n    }),\n\n    clearGutter: docMethodOp(function(gutterID) {\n      var this$1 = this;\n\n      this.iter(function (line) {\n        if (line.gutterMarkers && line.gutterMarkers[gutterID]) {\n          changeLine(this$1, line, \"gutter\", function () {\n            line.gutterMarkers[gutterID] = null;\n            if (isEmpty(line.gutterMarkers)) { line.gutterMarkers = null; }\n            return true\n          });\n        }\n      });\n    }),\n\n    lineInfo: function(line) {\n      var n;\n      if (typeof line == \"number\") {\n        if (!isLine(this, line)) { return null }\n        n = line;\n        line = getLine(this, line);\n        if (!line) { return null }\n      } else {\n        n = lineNo(line);\n        if (n == null) { return null }\n      }\n      return {line: n, handle: line, text: line.text, gutterMarkers: line.gutterMarkers,\n              textClass: line.textClass, bgClass: line.bgClass, wrapClass: line.wrapClass,\n              widgets: line.widgets}\n    },\n\n    addLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        if (!line[prop]) { line[prop] = cls; }\n        else if (classTest(cls).test(line[prop])) { return false }\n        else { line[prop] += \" \" + cls; }\n        return true\n      })\n    }),\n    removeLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        var cur = line[prop];\n        if (!cur) { return false }\n        else if (cls == null) { line[prop] = null; }\n        else {\n          var found = cur.match(classTest(cls));\n          if (!found) { return false }\n          var end = found.index + found[0].length;\n          line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? \"\" : \" \") + cur.slice(end) || null;\n        }\n        return true\n      })\n    }),\n\n    addLineWidget: docMethodOp(function(handle, node, options) {\n      return addLineWidget(this, handle, node, options)\n    }),\n    removeLineWidget: function(widget) { widget.clear(); },\n\n    markText: function(from, to, options) {\n      return markText(this, clipPos(this, from), clipPos(this, to), options, options && options.type || \"range\")\n    },\n    setBookmark: function(pos, options) {\n      var realOpts = {replacedWith: options && (options.nodeType == null ? options.widget : options),\n                      insertLeft: options && options.insertLeft,\n                      clearWhenEmpty: false, shared: options && options.shared,\n                      handleMouseEvents: options && options.handleMouseEvents};\n      pos = clipPos(this, pos);\n      return markText(this, pos, pos, realOpts, \"bookmark\")\n    },\n    findMarksAt: function(pos) {\n      pos = clipPos(this, pos);\n      var markers = [], spans = getLine(this, pos.line).markedSpans;\n      if (spans) { for (var i = 0; i < spans.length; ++i) {\n        var span = spans[i];\n        if ((span.from == null || span.from <= pos.ch) &&\n            (span.to == null || span.to >= pos.ch))\n          { markers.push(span.marker.parent || span.marker); }\n      } }\n      return markers\n    },\n    findMarks: function(from, to, filter) {\n      from = clipPos(this, from); to = clipPos(this, to);\n      var found = [], lineNo = from.line;\n      this.iter(from.line, to.line + 1, function (line) {\n        var spans = line.markedSpans;\n        if (spans) { for (var i = 0; i < spans.length; i++) {\n          var span = spans[i];\n          if (!(span.to != null && lineNo == from.line && from.ch >= span.to ||\n                span.from == null && lineNo != from.line ||\n                span.from != null && lineNo == to.line && span.from >= to.ch) &&\n              (!filter || filter(span.marker)))\n            { found.push(span.marker.parent || span.marker); }\n        } }\n        ++lineNo;\n      });\n      return found\n    },\n    getAllMarks: function() {\n      var markers = [];\n      this.iter(function (line) {\n        var sps = line.markedSpans;\n        if (sps) { for (var i = 0; i < sps.length; ++i)\n          { if (sps[i].from != null) { markers.push(sps[i].marker); } } }\n      });\n      return markers\n    },\n\n    posFromIndex: function(off) {\n      var ch, lineNo = this.first, sepSize = this.lineSeparator().length;\n      this.iter(function (line) {\n        var sz = line.text.length + sepSize;\n        if (sz > off) { ch = off; return true }\n        off -= sz;\n        ++lineNo;\n      });\n      return clipPos(this, Pos(lineNo, ch))\n    },\n    indexFromPos: function (coords) {\n      coords = clipPos(this, coords);\n      var index = coords.ch;\n      if (coords.line < this.first || coords.ch < 0) { return 0 }\n      var sepSize = this.lineSeparator().length;\n      this.iter(this.first, coords.line, function (line) { // iter aborts when callback returns a truthy value\n        index += line.text.length + sepSize;\n      });\n      return index\n    },\n\n    copy: function(copyHistory) {\n      var doc = new Doc(getLines(this, this.first, this.first + this.size),\n                        this.modeOption, this.first, this.lineSep, this.direction);\n      doc.scrollTop = this.scrollTop; doc.scrollLeft = this.scrollLeft;\n      doc.sel = this.sel;\n      doc.extend = false;\n      if (copyHistory) {\n        doc.history.undoDepth = this.history.undoDepth;\n        doc.setHistory(this.getHistory());\n      }\n      return doc\n    },\n\n    linkedDoc: function(options) {\n      if (!options) { options = {}; }\n      var from = this.first, to = this.first + this.size;\n      if (options.from != null && options.from > from) { from = options.from; }\n      if (options.to != null && options.to < to) { to = options.to; }\n      var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep, this.direction);\n      if (options.sharedHist) { copy.history = this.history\n      ; }(this.linked || (this.linked = [])).push({doc: copy, sharedHist: options.sharedHist});\n      copy.linked = [{doc: this, isParent: true, sharedHist: options.sharedHist}];\n      copySharedMarkers(copy, findSharedMarkers(this));\n      return copy\n    },\n    unlinkDoc: function(other) {\n      if (other instanceof CodeMirror) { other = other.doc; }\n      if (this.linked) { for (var i = 0; i < this.linked.length; ++i) {\n        var link = this.linked[i];\n        if (link.doc != other) { continue }\n        this.linked.splice(i, 1);\n        other.unlinkDoc(this);\n        detachSharedMarkers(findSharedMarkers(this));\n        break\n      } }\n      // If the histories were shared, split them again\n      if (other.history == this.history) {\n        var splitIds = [other.id];\n        linkedDocs(other, function (doc) { return splitIds.push(doc.id); }, true);\n        other.history = new History(null);\n        other.history.done = copyHistoryArray(this.history.done, splitIds);\n        other.history.undone = copyHistoryArray(this.history.undone, splitIds);\n      }\n    },\n    iterLinkedDocs: function(f) {linkedDocs(this, f);},\n\n    getMode: function() {return this.mode},\n    getEditor: function() {return this.cm},\n\n    splitLines: function(str) {\n      if (this.lineSep) { return str.split(this.lineSep) }\n      return splitLinesAuto(str)\n    },\n    lineSeparator: function() { return this.lineSep || \"\\n\" },\n\n    setDirection: docMethodOp(function (dir) {\n      if (dir != \"rtl\") { dir = \"ltr\"; }\n      if (dir == this.direction) { return }\n      this.direction = dir;\n      this.iter(function (line) { return line.order = null; });\n      if (this.cm) { directionChanged(this.cm); }\n    })\n  });\n\n  // Public alias.\n  Doc.prototype.eachLine = Doc.prototype.iter;\n\n  // Kludge to work around strange IE behavior where it'll sometimes\n  // re-fire a series of drag-related events right after the drop (#1551)\n  var lastDrop = 0;\n\n  function onDrop(e) {\n    var cm = this;\n    clearDragCursor(cm);\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e))\n      { return }\n    e_preventDefault(e);\n    if (ie) { lastDrop = +new Date; }\n    var pos = posFromMouse(cm, e, true), files = e.dataTransfer.files;\n    if (!pos || cm.isReadOnly()) { return }\n    // Might be a file drop, in which case we simply extract the text\n    // and insert it.\n    if (files && files.length && window.FileReader && window.File) {\n      var n = files.length, text = Array(n), read = 0;\n      var markAsReadAndPasteIfAllFilesAreRead = function () {\n        if (++read == n) {\n          operation(cm, function () {\n            pos = clipPos(cm.doc, pos);\n            var change = {from: pos, to: pos,\n                          text: cm.doc.splitLines(\n                              text.filter(function (t) { return t != null; }).join(cm.doc.lineSeparator())),\n                          origin: \"paste\"};\n            makeChange(cm.doc, change);\n            setSelectionReplaceHistory(cm.doc, simpleSelection(clipPos(cm.doc, pos), clipPos(cm.doc, changeEnd(change))));\n          })();\n        }\n      };\n      var readTextFromFile = function (file, i) {\n        if (cm.options.allowDropFileTypes &&\n            indexOf(cm.options.allowDropFileTypes, file.type) == -1) {\n          markAsReadAndPasteIfAllFilesAreRead();\n          return\n        }\n        var reader = new FileReader;\n        reader.onerror = function () { return markAsReadAndPasteIfAllFilesAreRead(); };\n        reader.onload = function () {\n          var content = reader.result;\n          if (/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(content)) {\n            markAsReadAndPasteIfAllFilesAreRead();\n            return\n          }\n          text[i] = content;\n          markAsReadAndPasteIfAllFilesAreRead();\n        };\n        reader.readAsText(file);\n      };\n      for (var i = 0; i < files.length; i++) { readTextFromFile(files[i], i); }\n    } else { // Normal drop\n      // Don't do a replace if the drop happened inside of the selected text.\n      if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {\n        cm.state.draggingText(e);\n        // Ensure the editor is re-focused\n        setTimeout(function () { return cm.display.input.focus(); }, 20);\n        return\n      }\n      try {\n        var text$1 = e.dataTransfer.getData(\"Text\");\n        if (text$1) {\n          var selected;\n          if (cm.state.draggingText && !cm.state.draggingText.copy)\n            { selected = cm.listSelections(); }\n          setSelectionNoUndo(cm.doc, simpleSelection(pos, pos));\n          if (selected) { for (var i$1 = 0; i$1 < selected.length; ++i$1)\n            { replaceRange(cm.doc, \"\", selected[i$1].anchor, selected[i$1].head, \"drag\"); } }\n          cm.replaceSelection(text$1, \"around\", \"paste\");\n          cm.display.input.focus();\n        }\n      }\n      catch(e$1){}\n    }\n  }\n\n  function onDragStart(cm, e) {\n    if (ie && (!cm.state.draggingText || +new Date - lastDrop < 100)) { e_stop(e); return }\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) { return }\n\n    e.dataTransfer.setData(\"Text\", cm.getSelection());\n    e.dataTransfer.effectAllowed = \"copyMove\";\n\n    // Use dummy image instead of default browsers image.\n    // Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.\n    if (e.dataTransfer.setDragImage && !safari) {\n      var img = elt(\"img\", null, null, \"position: fixed; left: 0; top: 0;\");\n      img.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n      if (presto) {\n        img.width = img.height = 1;\n        cm.display.wrapper.appendChild(img);\n        // Force a relayout, or Opera won't use our image for some obscure reason\n        img._top = img.offsetTop;\n      }\n      e.dataTransfer.setDragImage(img, 0, 0);\n      if (presto) { img.parentNode.removeChild(img); }\n    }\n  }\n\n  function onDragOver(cm, e) {\n    var pos = posFromMouse(cm, e);\n    if (!pos) { return }\n    var frag = document.createDocumentFragment();\n    drawSelectionCursor(cm, pos, frag);\n    if (!cm.display.dragCursor) {\n      cm.display.dragCursor = elt(\"div\", null, \"CodeMirror-cursors CodeMirror-dragcursors\");\n      cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv);\n    }\n    removeChildrenAndAdd(cm.display.dragCursor, frag);\n  }\n\n  function clearDragCursor(cm) {\n    if (cm.display.dragCursor) {\n      cm.display.lineSpace.removeChild(cm.display.dragCursor);\n      cm.display.dragCursor = null;\n    }\n  }\n\n  // These must be handled carefully, because naively registering a\n  // handler for each editor will cause the editors to never be\n  // garbage collected.\n\n  function forEachCodeMirror(f) {\n    if (!document.getElementsByClassName) { return }\n    var byClass = document.getElementsByClassName(\"CodeMirror\"), editors = [];\n    for (var i = 0; i < byClass.length; i++) {\n      var cm = byClass[i].CodeMirror;\n      if (cm) { editors.push(cm); }\n    }\n    if (editors.length) { editors[0].operation(function () {\n      for (var i = 0; i < editors.length; i++) { f(editors[i]); }\n    }); }\n  }\n\n  var globalsRegistered = false;\n  function ensureGlobalHandlers() {\n    if (globalsRegistered) { return }\n    registerGlobalHandlers();\n    globalsRegistered = true;\n  }\n  function registerGlobalHandlers() {\n    // When the window resizes, we need to refresh active editors.\n    var resizeTimer;\n    on(window, \"resize\", function () {\n      if (resizeTimer == null) { resizeTimer = setTimeout(function () {\n        resizeTimer = null;\n        forEachCodeMirror(onResize);\n      }, 100); }\n    });\n    // When the window loses focus, we want to show the editor as blurred\n    on(window, \"blur\", function () { return forEachCodeMirror(onBlur); });\n  }\n  // Called when the window resizes\n  function onResize(cm) {\n    var d = cm.display;\n    // Might be a text scaling operation, clear size caches.\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n    d.scrollbarsClipped = false;\n    cm.setSize();\n  }\n\n  var keyNames = {\n    3: \"Pause\", 8: \"Backspace\", 9: \"Tab\", 13: \"Enter\", 16: \"Shift\", 17: \"Ctrl\", 18: \"Alt\",\n    19: \"Pause\", 20: \"CapsLock\", 27: \"Esc\", 32: \"Space\", 33: \"PageUp\", 34: \"PageDown\", 35: \"End\",\n    36: \"Home\", 37: \"Left\", 38: \"Up\", 39: \"Right\", 40: \"Down\", 44: \"PrintScrn\", 45: \"Insert\",\n    46: \"Delete\", 59: \";\", 61: \"=\", 91: \"Mod\", 92: \"Mod\", 93: \"Mod\",\n    106: \"*\", 107: \"=\", 109: \"-\", 110: \".\", 111: \"/\", 145: \"ScrollLock\",\n    173: \"-\", 186: \";\", 187: \"=\", 188: \",\", 189: \"-\", 190: \".\", 191: \"/\", 192: \"`\", 219: \"[\", 220: \"\\\\\",\n    221: \"]\", 222: \"'\", 224: \"Mod\", 63232: \"Up\", 63233: \"Down\", 63234: \"Left\", 63235: \"Right\", 63272: \"Delete\",\n    63273: \"Home\", 63275: \"End\", 63276: \"PageUp\", 63277: \"PageDown\", 63302: \"Insert\"\n  };\n\n  // Number keys\n  for (var i = 0; i < 10; i++) { keyNames[i + 48] = keyNames[i + 96] = String(i); }\n  // Alphabetic keys\n  for (var i$1 = 65; i$1 <= 90; i$1++) { keyNames[i$1] = String.fromCharCode(i$1); }\n  // Function keys\n  for (var i$2 = 1; i$2 <= 12; i$2++) { keyNames[i$2 + 111] = keyNames[i$2 + 63235] = \"F\" + i$2; }\n\n  var keyMap = {};\n\n  keyMap.basic = {\n    \"Left\": \"goCharLeft\", \"Right\": \"goCharRight\", \"Up\": \"goLineUp\", \"Down\": \"goLineDown\",\n    \"End\": \"goLineEnd\", \"Home\": \"goLineStartSmart\", \"PageUp\": \"goPageUp\", \"PageDown\": \"goPageDown\",\n    \"Delete\": \"delCharAfter\", \"Backspace\": \"delCharBefore\", \"Shift-Backspace\": \"delCharBefore\",\n    \"Tab\": \"defaultTab\", \"Shift-Tab\": \"indentAuto\",\n    \"Enter\": \"newlineAndIndent\", \"Insert\": \"toggleOverwrite\",\n    \"Esc\": \"singleSelection\"\n  };\n  // Note that the save and find-related commands aren't defined by\n  // default. User code or addons can define them. Unknown commands\n  // are simply ignored.\n  keyMap.pcDefault = {\n    \"Ctrl-A\": \"selectAll\", \"Ctrl-D\": \"deleteLine\", \"Ctrl-Z\": \"undo\", \"Shift-Ctrl-Z\": \"redo\", \"Ctrl-Y\": \"redo\",\n    \"Ctrl-Home\": \"goDocStart\", \"Ctrl-End\": \"goDocEnd\", \"Ctrl-Up\": \"goLineUp\", \"Ctrl-Down\": \"goLineDown\",\n    \"Ctrl-Left\": \"goGroupLeft\", \"Ctrl-Right\": \"goGroupRight\", \"Alt-Left\": \"goLineStart\", \"Alt-Right\": \"goLineEnd\",\n    \"Ctrl-Backspace\": \"delGroupBefore\", \"Ctrl-Delete\": \"delGroupAfter\", \"Ctrl-S\": \"save\", \"Ctrl-F\": \"find\",\n    \"Ctrl-G\": \"findNext\", \"Shift-Ctrl-G\": \"findPrev\", \"Shift-Ctrl-F\": \"replace\", \"Shift-Ctrl-R\": \"replaceAll\",\n    \"Ctrl-[\": \"indentLess\", \"Ctrl-]\": \"indentMore\",\n    \"Ctrl-U\": \"undoSelection\", \"Shift-Ctrl-U\": \"redoSelection\", \"Alt-U\": \"redoSelection\",\n    \"fallthrough\": \"basic\"\n  };\n  // Very basic readline/emacs-style bindings, which are standard on Mac.\n  keyMap.emacsy = {\n    \"Ctrl-F\": \"goCharRight\", \"Ctrl-B\": \"goCharLeft\", \"Ctrl-P\": \"goLineUp\", \"Ctrl-N\": \"goLineDown\",\n    \"Ctrl-A\": \"goLineStart\", \"Ctrl-E\": \"goLineEnd\", \"Ctrl-V\": \"goPageDown\", \"Shift-Ctrl-V\": \"goPageUp\",\n    \"Ctrl-D\": \"delCharAfter\", \"Ctrl-H\": \"delCharBefore\", \"Alt-Backspace\": \"delWordBefore\", \"Ctrl-K\": \"killLine\",\n    \"Ctrl-T\": \"transposeChars\", \"Ctrl-O\": \"openLine\"\n  };\n  keyMap.macDefault = {\n    \"Cmd-A\": \"selectAll\", \"Cmd-D\": \"deleteLine\", \"Cmd-Z\": \"undo\", \"Shift-Cmd-Z\": \"redo\", \"Cmd-Y\": \"redo\",\n    \"Cmd-Home\": \"goDocStart\", \"Cmd-Up\": \"goDocStart\", \"Cmd-End\": \"goDocEnd\", \"Cmd-Down\": \"goDocEnd\", \"Alt-Left\": \"goGroupLeft\",\n    \"Alt-Right\": \"goGroupRight\", \"Cmd-Left\": \"goLineLeft\", \"Cmd-Right\": \"goLineRight\", \"Alt-Backspace\": \"delGroupBefore\",\n    \"Ctrl-Alt-Backspace\": \"delGroupAfter\", \"Alt-Delete\": \"delGroupAfter\", \"Cmd-S\": \"save\", \"Cmd-F\": \"find\",\n    \"Cmd-G\": \"findNext\", \"Shift-Cmd-G\": \"findPrev\", \"Cmd-Alt-F\": \"replace\", \"Shift-Cmd-Alt-F\": \"replaceAll\",\n    \"Cmd-[\": \"indentLess\", \"Cmd-]\": \"indentMore\", \"Cmd-Backspace\": \"delWrappedLineLeft\", \"Cmd-Delete\": \"delWrappedLineRight\",\n    \"Cmd-U\": \"undoSelection\", \"Shift-Cmd-U\": \"redoSelection\", \"Ctrl-Up\": \"goDocStart\", \"Ctrl-Down\": \"goDocEnd\",\n    \"fallthrough\": [\"basic\", \"emacsy\"]\n  };\n  keyMap[\"default\"] = mac ? keyMap.macDefault : keyMap.pcDefault;\n\n  // KEYMAP DISPATCH\n\n  function normalizeKeyName(name) {\n    var parts = name.split(/-(?!$)/);\n    name = parts[parts.length - 1];\n    var alt, ctrl, shift, cmd;\n    for (var i = 0; i < parts.length - 1; i++) {\n      var mod = parts[i];\n      if (/^(cmd|meta|m)$/i.test(mod)) { cmd = true; }\n      else if (/^a(lt)?$/i.test(mod)) { alt = true; }\n      else if (/^(c|ctrl|control)$/i.test(mod)) { ctrl = true; }\n      else if (/^s(hift)?$/i.test(mod)) { shift = true; }\n      else { throw new Error(\"Unrecognized modifier name: \" + mod) }\n    }\n    if (alt) { name = \"Alt-\" + name; }\n    if (ctrl) { name = \"Ctrl-\" + name; }\n    if (cmd) { name = \"Cmd-\" + name; }\n    if (shift) { name = \"Shift-\" + name; }\n    return name\n  }\n\n  // This is a kludge to keep keymaps mostly working as raw objects\n  // (backwards compatibility) while at the same time support features\n  // like normalization and multi-stroke key bindings. It compiles a\n  // new normalized keymap, and then updates the old object to reflect\n  // this.\n  function normalizeKeyMap(keymap) {\n    var copy = {};\n    for (var keyname in keymap) { if (keymap.hasOwnProperty(keyname)) {\n      var value = keymap[keyname];\n      if (/^(name|fallthrough|(de|at)tach)$/.test(keyname)) { continue }\n      if (value == \"...\") { delete keymap[keyname]; continue }\n\n      var keys = map(keyname.split(\" \"), normalizeKeyName);\n      for (var i = 0; i < keys.length; i++) {\n        var val = (void 0), name = (void 0);\n        if (i == keys.length - 1) {\n          name = keys.join(\" \");\n          val = value;\n        } else {\n          name = keys.slice(0, i + 1).join(\" \");\n          val = \"...\";\n        }\n        var prev = copy[name];\n        if (!prev) { copy[name] = val; }\n        else if (prev != val) { throw new Error(\"Inconsistent bindings for \" + name) }\n      }\n      delete keymap[keyname];\n    } }\n    for (var prop in copy) { keymap[prop] = copy[prop]; }\n    return keymap\n  }\n\n  function lookupKey(key, map, handle, context) {\n    map = getKeyMap(map);\n    var found = map.call ? map.call(key, context) : map[key];\n    if (found === false) { return \"nothing\" }\n    if (found === \"...\") { return \"multi\" }\n    if (found != null && handle(found)) { return \"handled\" }\n\n    if (map.fallthrough) {\n      if (Object.prototype.toString.call(map.fallthrough) != \"[object Array]\")\n        { return lookupKey(key, map.fallthrough, handle, context) }\n      for (var i = 0; i < map.fallthrough.length; i++) {\n        var result = lookupKey(key, map.fallthrough[i], handle, context);\n        if (result) { return result }\n      }\n    }\n  }\n\n  // Modifier key presses don't count as 'real' key presses for the\n  // purpose of keymap fallthrough.\n  function isModifierKey(value) {\n    var name = typeof value == \"string\" ? value : keyNames[value.keyCode];\n    return name == \"Ctrl\" || name == \"Alt\" || name == \"Shift\" || name == \"Mod\"\n  }\n\n  function addModifierNames(name, event, noShift) {\n    var base = name;\n    if (event.altKey && base != \"Alt\") { name = \"Alt-\" + name; }\n    if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != \"Ctrl\") { name = \"Ctrl-\" + name; }\n    if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != \"Mod\") { name = \"Cmd-\" + name; }\n    if (!noShift && event.shiftKey && base != \"Shift\") { name = \"Shift-\" + name; }\n    return name\n  }\n\n  // Look up the name of a key as indicated by an event object.\n  function keyName(event, noShift) {\n    if (presto && event.keyCode == 34 && event[\"char\"]) { return false }\n    var name = keyNames[event.keyCode];\n    if (name == null || event.altGraphKey) { return false }\n    // Ctrl-ScrollLock has keyCode 3, same as Ctrl-Pause,\n    // so we'll use event.code when available (Chrome 48+, FF 38+, Safari 10.1+)\n    if (event.keyCode == 3 && event.code) { name = event.code; }\n    return addModifierNames(name, event, noShift)\n  }\n\n  function getKeyMap(val) {\n    return typeof val == \"string\" ? keyMap[val] : val\n  }\n\n  // Helper for deleting text near the selection(s), used to implement\n  // backspace, delete, and similar functionality.\n  function deleteNearSelection(cm, compute) {\n    var ranges = cm.doc.sel.ranges, kill = [];\n    // Build up a set of ranges to kill first, merging overlapping\n    // ranges.\n    for (var i = 0; i < ranges.length; i++) {\n      var toKill = compute(ranges[i]);\n      while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {\n        var replaced = kill.pop();\n        if (cmp(replaced.from, toKill.from) < 0) {\n          toKill.from = replaced.from;\n          break\n        }\n      }\n      kill.push(toKill);\n    }\n    // Next, remove those actual ranges.\n    runInOp(cm, function () {\n      for (var i = kill.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, \"\", kill[i].from, kill[i].to, \"+delete\"); }\n      ensureCursorVisible(cm);\n    });\n  }\n\n  function moveCharLogically(line, ch, dir) {\n    var target = skipExtendingChars(line.text, ch + dir, dir);\n    return target < 0 || target > line.text.length ? null : target\n  }\n\n  function moveLogically(line, start, dir) {\n    var ch = moveCharLogically(line, start.ch, dir);\n    return ch == null ? null : new Pos(start.line, ch, dir < 0 ? \"after\" : \"before\")\n  }\n\n  function endOfLine(visually, cm, lineObj, lineNo, dir) {\n    if (visually) {\n      if (cm.doc.direction == \"rtl\") { dir = -dir; }\n      var order = getOrder(lineObj, cm.doc.direction);\n      if (order) {\n        var part = dir < 0 ? lst(order) : order[0];\n        var moveInStorageOrder = (dir < 0) == (part.level == 1);\n        var sticky = moveInStorageOrder ? \"after\" : \"before\";\n        var ch;\n        // With a wrapped rtl chunk (possibly spanning multiple bidi parts),\n        // it could be that the last bidi part is not on the last visual line,\n        // since visual lines contain content order-consecutive chunks.\n        // Thus, in rtl, we are looking for the first (content-order) character\n        // in the rtl chunk that is on the last line (that is, the same line\n        // as the last (content-order) character).\n        if (part.level > 0 || cm.doc.direction == \"rtl\") {\n          var prep = prepareMeasureForLine(cm, lineObj);\n          ch = dir < 0 ? lineObj.text.length - 1 : 0;\n          var targetTop = measureCharPrepared(cm, prep, ch).top;\n          ch = findFirst(function (ch) { return measureCharPrepared(cm, prep, ch).top == targetTop; }, (dir < 0) == (part.level == 1) ? part.from : part.to - 1, ch);\n          if (sticky == \"before\") { ch = moveCharLogically(lineObj, ch, 1); }\n        } else { ch = dir < 0 ? part.to : part.from; }\n        return new Pos(lineNo, ch, sticky)\n      }\n    }\n    return new Pos(lineNo, dir < 0 ? lineObj.text.length : 0, dir < 0 ? \"before\" : \"after\")\n  }\n\n  function moveVisually(cm, line, start, dir) {\n    var bidi = getOrder(line, cm.doc.direction);\n    if (!bidi) { return moveLogically(line, start, dir) }\n    if (start.ch >= line.text.length) {\n      start.ch = line.text.length;\n      start.sticky = \"before\";\n    } else if (start.ch <= 0) {\n      start.ch = 0;\n      start.sticky = \"after\";\n    }\n    var partPos = getBidiPartAt(bidi, start.ch, start.sticky), part = bidi[partPos];\n    if (cm.doc.direction == \"ltr\" && part.level % 2 == 0 && (dir > 0 ? part.to > start.ch : part.from < start.ch)) {\n      // Case 1: We move within an ltr part in an ltr editor. Even with wrapped lines,\n      // nothing interesting happens.\n      return moveLogically(line, start, dir)\n    }\n\n    var mv = function (pos, dir) { return moveCharLogically(line, pos instanceof Pos ? pos.ch : pos, dir); };\n    var prep;\n    var getWrappedLineExtent = function (ch) {\n      if (!cm.options.lineWrapping) { return {begin: 0, end: line.text.length} }\n      prep = prep || prepareMeasureForLine(cm, line);\n      return wrappedLineExtentChar(cm, line, prep, ch)\n    };\n    var wrappedLineExtent = getWrappedLineExtent(start.sticky == \"before\" ? mv(start, -1) : start.ch);\n\n    if (cm.doc.direction == \"rtl\" || part.level == 1) {\n      var moveInStorageOrder = (part.level == 1) == (dir < 0);\n      var ch = mv(start, moveInStorageOrder ? 1 : -1);\n      if (ch != null && (!moveInStorageOrder ? ch >= part.from && ch >= wrappedLineExtent.begin : ch <= part.to && ch <= wrappedLineExtent.end)) {\n        // Case 2: We move within an rtl part or in an rtl editor on the same visual line\n        var sticky = moveInStorageOrder ? \"before\" : \"after\";\n        return new Pos(start.line, ch, sticky)\n      }\n    }\n\n    // Case 3: Could not move within this bidi part in this visual line, so leave\n    // the current bidi part\n\n    var searchInVisualLine = function (partPos, dir, wrappedLineExtent) {\n      var getRes = function (ch, moveInStorageOrder) { return moveInStorageOrder\n        ? new Pos(start.line, mv(ch, 1), \"before\")\n        : new Pos(start.line, ch, \"after\"); };\n\n      for (; partPos >= 0 && partPos < bidi.length; partPos += dir) {\n        var part = bidi[partPos];\n        var moveInStorageOrder = (dir > 0) == (part.level != 1);\n        var ch = moveInStorageOrder ? wrappedLineExtent.begin : mv(wrappedLineExtent.end, -1);\n        if (part.from <= ch && ch < part.to) { return getRes(ch, moveInStorageOrder) }\n        ch = moveInStorageOrder ? part.from : mv(part.to, -1);\n        if (wrappedLineExtent.begin <= ch && ch < wrappedLineExtent.end) { return getRes(ch, moveInStorageOrder) }\n      }\n    };\n\n    // Case 3a: Look for other bidi parts on the same visual line\n    var res = searchInVisualLine(partPos + dir, dir, wrappedLineExtent);\n    if (res) { return res }\n\n    // Case 3b: Look for other bidi parts on the next visual line\n    var nextCh = dir > 0 ? wrappedLineExtent.end : mv(wrappedLineExtent.begin, -1);\n    if (nextCh != null && !(dir > 0 && nextCh == line.text.length)) {\n      res = searchInVisualLine(dir > 0 ? 0 : bidi.length - 1, dir, getWrappedLineExtent(nextCh));\n      if (res) { return res }\n    }\n\n    // Case 4: Nowhere to move\n    return null\n  }\n\n  // Commands are parameter-less actions that can be performed on an\n  // editor, mostly used for keybindings.\n  var commands = {\n    selectAll: selectAll,\n    singleSelection: function (cm) { return cm.setSelection(cm.getCursor(\"anchor\"), cm.getCursor(\"head\"), sel_dontScroll); },\n    killLine: function (cm) { return deleteNearSelection(cm, function (range) {\n      if (range.empty()) {\n        var len = getLine(cm.doc, range.head.line).text.length;\n        if (range.head.ch == len && range.head.line < cm.lastLine())\n          { return {from: range.head, to: Pos(range.head.line + 1, 0)} }\n        else\n          { return {from: range.head, to: Pos(range.head.line, len)} }\n      } else {\n        return {from: range.from(), to: range.to()}\n      }\n    }); },\n    deleteLine: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0),\n      to: clipPos(cm.doc, Pos(range.to().line + 1, 0))\n    }); }); },\n    delLineLeft: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0), to: range.from()\n    }); }); },\n    delWrappedLineLeft: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var leftPos = cm.coordsChar({left: 0, top: top}, \"div\");\n      return {from: leftPos, to: range.from()}\n    }); },\n    delWrappedLineRight: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var rightPos = cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\");\n      return {from: range.from(), to: rightPos }\n    }); },\n    undo: function (cm) { return cm.undo(); },\n    redo: function (cm) { return cm.redo(); },\n    undoSelection: function (cm) { return cm.undoSelection(); },\n    redoSelection: function (cm) { return cm.redoSelection(); },\n    goDocStart: function (cm) { return cm.extendSelection(Pos(cm.firstLine(), 0)); },\n    goDocEnd: function (cm) { return cm.extendSelection(Pos(cm.lastLine())); },\n    goLineStart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStart(cm, range.head.line); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineStartSmart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStartSmart(cm, range.head); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineEnd: function (cm) { return cm.extendSelectionsBy(function (range) { return lineEnd(cm, range.head.line); },\n      {origin: \"+move\", bias: -1}\n    ); },\n    goLineRight: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeft: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: 0, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeftSmart: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      var pos = cm.coordsChar({left: 0, top: top}, \"div\");\n      if (pos.ch < cm.getLine(pos.line).search(/\\S/)) { return lineStartSmart(cm, range.head) }\n      return pos\n    }, sel_move); },\n    goLineUp: function (cm) { return cm.moveV(-1, \"line\"); },\n    goLineDown: function (cm) { return cm.moveV(1, \"line\"); },\n    goPageUp: function (cm) { return cm.moveV(-1, \"page\"); },\n    goPageDown: function (cm) { return cm.moveV(1, \"page\"); },\n    goCharLeft: function (cm) { return cm.moveH(-1, \"char\"); },\n    goCharRight: function (cm) { return cm.moveH(1, \"char\"); },\n    goColumnLeft: function (cm) { return cm.moveH(-1, \"column\"); },\n    goColumnRight: function (cm) { return cm.moveH(1, \"column\"); },\n    goWordLeft: function (cm) { return cm.moveH(-1, \"word\"); },\n    goGroupRight: function (cm) { return cm.moveH(1, \"group\"); },\n    goGroupLeft: function (cm) { return cm.moveH(-1, \"group\"); },\n    goWordRight: function (cm) { return cm.moveH(1, \"word\"); },\n    delCharBefore: function (cm) { return cm.deleteH(-1, \"codepoint\"); },\n    delCharAfter: function (cm) { return cm.deleteH(1, \"char\"); },\n    delWordBefore: function (cm) { return cm.deleteH(-1, \"word\"); },\n    delWordAfter: function (cm) { return cm.deleteH(1, \"word\"); },\n    delGroupBefore: function (cm) { return cm.deleteH(-1, \"group\"); },\n    delGroupAfter: function (cm) { return cm.deleteH(1, \"group\"); },\n    indentAuto: function (cm) { return cm.indentSelection(\"smart\"); },\n    indentMore: function (cm) { return cm.indentSelection(\"add\"); },\n    indentLess: function (cm) { return cm.indentSelection(\"subtract\"); },\n    insertTab: function (cm) { return cm.replaceSelection(\"\\t\"); },\n    insertSoftTab: function (cm) {\n      var spaces = [], ranges = cm.listSelections(), tabSize = cm.options.tabSize;\n      for (var i = 0; i < ranges.length; i++) {\n        var pos = ranges[i].from();\n        var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize);\n        spaces.push(spaceStr(tabSize - col % tabSize));\n      }\n      cm.replaceSelections(spaces);\n    },\n    defaultTab: function (cm) {\n      if (cm.somethingSelected()) { cm.indentSelection(\"add\"); }\n      else { cm.execCommand(\"insertTab\"); }\n    },\n    // Swap the two chars left and right of each selection's head.\n    // Move cursor behind the two swapped characters afterwards.\n    //\n    // Doesn't consider line feeds a character.\n    // Doesn't scan more than one line above to find a character.\n    // Doesn't do anything on an empty line.\n    // Doesn't do anything with non-empty selections.\n    transposeChars: function (cm) { return runInOp(cm, function () {\n      var ranges = cm.listSelections(), newSel = [];\n      for (var i = 0; i < ranges.length; i++) {\n        if (!ranges[i].empty()) { continue }\n        var cur = ranges[i].head, line = getLine(cm.doc, cur.line).text;\n        if (line) {\n          if (cur.ch == line.length) { cur = new Pos(cur.line, cur.ch - 1); }\n          if (cur.ch > 0) {\n            cur = new Pos(cur.line, cur.ch + 1);\n            cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2),\n                            Pos(cur.line, cur.ch - 2), cur, \"+transpose\");\n          } else if (cur.line > cm.doc.first) {\n            var prev = getLine(cm.doc, cur.line - 1).text;\n            if (prev) {\n              cur = new Pos(cur.line, 1);\n              cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() +\n                              prev.charAt(prev.length - 1),\n                              Pos(cur.line - 1, prev.length - 1), cur, \"+transpose\");\n            }\n          }\n        }\n        newSel.push(new Range(cur, cur));\n      }\n      cm.setSelections(newSel);\n    }); },\n    newlineAndIndent: function (cm) { return runInOp(cm, function () {\n      var sels = cm.listSelections();\n      for (var i = sels.length - 1; i >= 0; i--)\n        { cm.replaceRange(cm.doc.lineSeparator(), sels[i].anchor, sels[i].head, \"+input\"); }\n      sels = cm.listSelections();\n      for (var i$1 = 0; i$1 < sels.length; i$1++)\n        { cm.indentLine(sels[i$1].from().line, null, true); }\n      ensureCursorVisible(cm);\n    }); },\n    openLine: function (cm) { return cm.replaceSelection(\"\\n\", \"start\"); },\n    toggleOverwrite: function (cm) { return cm.toggleOverwrite(); }\n  };\n\n\n  function lineStart(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLine(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, visual, lineN, 1)\n  }\n  function lineEnd(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLineEnd(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, line, lineN, -1)\n  }\n  function lineStartSmart(cm, pos) {\n    var start = lineStart(cm, pos.line);\n    var line = getLine(cm.doc, start.line);\n    var order = getOrder(line, cm.doc.direction);\n    if (!order || order[0].level == 0) {\n      var firstNonWS = Math.max(start.ch, line.text.search(/\\S/));\n      var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch;\n      return Pos(start.line, inWS ? 0 : firstNonWS, start.sticky)\n    }\n    return start\n  }\n\n  // Run a handler that was bound to a key.\n  function doHandleBinding(cm, bound, dropShift) {\n    if (typeof bound == \"string\") {\n      bound = commands[bound];\n      if (!bound) { return false }\n    }\n    // Ensure previous input has been read, so that the handler sees a\n    // consistent view of the document\n    cm.display.input.ensurePolled();\n    var prevShift = cm.display.shift, done = false;\n    try {\n      if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n      if (dropShift) { cm.display.shift = false; }\n      done = bound(cm) != Pass;\n    } finally {\n      cm.display.shift = prevShift;\n      cm.state.suppressEdits = false;\n    }\n    return done\n  }\n\n  function lookupKeyForEditor(cm, name, handle) {\n    for (var i = 0; i < cm.state.keyMaps.length; i++) {\n      var result = lookupKey(name, cm.state.keyMaps[i], handle, cm);\n      if (result) { return result }\n    }\n    return (cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm))\n      || lookupKey(name, cm.options.keyMap, handle, cm)\n  }\n\n  // Note that, despite the name, this function is also used to check\n  // for bound mouse clicks.\n\n  var stopSeq = new Delayed;\n\n  function dispatchKey(cm, name, e, handle) {\n    var seq = cm.state.keySeq;\n    if (seq) {\n      if (isModifierKey(name)) { return \"handled\" }\n      if (/\\'$/.test(name))\n        { cm.state.keySeq = null; }\n      else\n        { stopSeq.set(50, function () {\n          if (cm.state.keySeq == seq) {\n            cm.state.keySeq = null;\n            cm.display.input.reset();\n          }\n        }); }\n      if (dispatchKeyInner(cm, seq + \" \" + name, e, handle)) { return true }\n    }\n    return dispatchKeyInner(cm, name, e, handle)\n  }\n\n  function dispatchKeyInner(cm, name, e, handle) {\n    var result = lookupKeyForEditor(cm, name, handle);\n\n    if (result == \"multi\")\n      { cm.state.keySeq = name; }\n    if (result == \"handled\")\n      { signalLater(cm, \"keyHandled\", cm, name, e); }\n\n    if (result == \"handled\" || result == \"multi\") {\n      e_preventDefault(e);\n      restartBlink(cm);\n    }\n\n    return !!result\n  }\n\n  // Handle a key from the keydown event.\n  function handleKeyBinding(cm, e) {\n    var name = keyName(e, true);\n    if (!name) { return false }\n\n    if (e.shiftKey && !cm.state.keySeq) {\n      // First try to resolve full name (including 'Shift-'). Failing\n      // that, see if there is a cursor-motion command (starting with\n      // 'go') bound to the keyname without 'Shift-'.\n      return dispatchKey(cm, \"Shift-\" + name, e, function (b) { return doHandleBinding(cm, b, true); })\n          || dispatchKey(cm, name, e, function (b) {\n               if (typeof b == \"string\" ? /^go[A-Z]/.test(b) : b.motion)\n                 { return doHandleBinding(cm, b) }\n             })\n    } else {\n      return dispatchKey(cm, name, e, function (b) { return doHandleBinding(cm, b); })\n    }\n  }\n\n  // Handle a key from the keypress event\n  function handleCharBinding(cm, e, ch) {\n    return dispatchKey(cm, \"'\" + ch + \"'\", e, function (b) { return doHandleBinding(cm, b, true); })\n  }\n\n  var lastStoppedKey = null;\n  function onKeyDown(e) {\n    var cm = this;\n    if (e.target && e.target != cm.display.input.getField()) { return }\n    cm.curOp.focus = activeElt();\n    if (signalDOMEvent(cm, e)) { return }\n    // IE does strange things with escape.\n    if (ie && ie_version < 11 && e.keyCode == 27) { e.returnValue = false; }\n    var code = e.keyCode;\n    cm.display.shift = code == 16 || e.shiftKey;\n    var handled = handleKeyBinding(cm, e);\n    if (presto) {\n      lastStoppedKey = handled ? code : null;\n      // Opera has no cut event... we try to at least catch the key combo\n      if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey))\n        { cm.replaceSelection(\"\", null, \"cut\"); }\n    }\n    if (gecko && !mac && !handled && code == 46 && e.shiftKey && !e.ctrlKey && document.execCommand)\n      { document.execCommand(\"cut\"); }\n\n    // Turn mouse into crosshair when Alt is held on Mac.\n    if (code == 18 && !/\\bCodeMirror-crosshair\\b/.test(cm.display.lineDiv.className))\n      { showCrossHair(cm); }\n  }\n\n  function showCrossHair(cm) {\n    var lineDiv = cm.display.lineDiv;\n    addClass(lineDiv, \"CodeMirror-crosshair\");\n\n    function up(e) {\n      if (e.keyCode == 18 || !e.altKey) {\n        rmClass(lineDiv, \"CodeMirror-crosshair\");\n        off(document, \"keyup\", up);\n        off(document, \"mouseover\", up);\n      }\n    }\n    on(document, \"keyup\", up);\n    on(document, \"mouseover\", up);\n  }\n\n  function onKeyUp(e) {\n    if (e.keyCode == 16) { this.doc.sel.shift = false; }\n    signalDOMEvent(this, e);\n  }\n\n  function onKeyPress(e) {\n    var cm = this;\n    if (e.target && e.target != cm.display.input.getField()) { return }\n    if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) { return }\n    var keyCode = e.keyCode, charCode = e.charCode;\n    if (presto && keyCode == lastStoppedKey) {lastStoppedKey = null; e_preventDefault(e); return}\n    if ((presto && (!e.which || e.which < 10)) && handleKeyBinding(cm, e)) { return }\n    var ch = String.fromCharCode(charCode == null ? keyCode : charCode);\n    // Some browsers fire keypress events for backspace\n    if (ch == \"\\x08\") { return }\n    if (handleCharBinding(cm, e, ch)) { return }\n    cm.display.input.onKeyPress(e);\n  }\n\n  var DOUBLECLICK_DELAY = 400;\n\n  var PastClick = function(time, pos, button) {\n    this.time = time;\n    this.pos = pos;\n    this.button = button;\n  };\n\n  PastClick.prototype.compare = function (time, pos, button) {\n    return this.time + DOUBLECLICK_DELAY > time &&\n      cmp(pos, this.pos) == 0 && button == this.button\n  };\n\n  var lastClick, lastDoubleClick;\n  function clickRepeat(pos, button) {\n    var now = +new Date;\n    if (lastDoubleClick && lastDoubleClick.compare(now, pos, button)) {\n      lastClick = lastDoubleClick = null;\n      return \"triple\"\n    } else if (lastClick && lastClick.compare(now, pos, button)) {\n      lastDoubleClick = new PastClick(now, pos, button);\n      lastClick = null;\n      return \"double\"\n    } else {\n      lastClick = new PastClick(now, pos, button);\n      lastDoubleClick = null;\n      return \"single\"\n    }\n  }\n\n  // A mouse down can be a single click, double click, triple click,\n  // start of selection drag, start of text drag, new cursor\n  // (ctrl-click), rectangle drag (alt-drag), or xwin\n  // middle-click-paste. Or it might be a click on something we should\n  // not interfere with, such as a scrollbar or widget.\n  function onMouseDown(e) {\n    var cm = this, display = cm.display;\n    if (signalDOMEvent(cm, e) || display.activeTouch && display.input.supportsTouch()) { return }\n    display.input.ensurePolled();\n    display.shift = e.shiftKey;\n\n    if (eventInWidget(display, e)) {\n      if (!webkit) {\n        // Briefly turn off draggability, to allow widgets to do\n        // normal dragging things.\n        display.scroller.draggable = false;\n        setTimeout(function () { return display.scroller.draggable = true; }, 100);\n      }\n      return\n    }\n    if (clickInGutter(cm, e)) { return }\n    var pos = posFromMouse(cm, e), button = e_button(e), repeat = pos ? clickRepeat(pos, button) : \"single\";\n    window.focus();\n\n    // #3261: make sure, that we're not starting a second selection\n    if (button == 1 && cm.state.selectingText)\n      { cm.state.selectingText(e); }\n\n    if (pos && handleMappedButton(cm, button, pos, repeat, e)) { return }\n\n    if (button == 1) {\n      if (pos) { leftButtonDown(cm, pos, repeat, e); }\n      else if (e_target(e) == display.scroller) { e_preventDefault(e); }\n    } else if (button == 2) {\n      if (pos) { extendSelection(cm.doc, pos); }\n      setTimeout(function () { return display.input.focus(); }, 20);\n    } else if (button == 3) {\n      if (captureRightClick) { cm.display.input.onContextMenu(e); }\n      else { delayBlurEvent(cm); }\n    }\n  }\n\n  function handleMappedButton(cm, button, pos, repeat, event) {\n    var name = \"Click\";\n    if (repeat == \"double\") { name = \"Double\" + name; }\n    else if (repeat == \"triple\") { name = \"Triple\" + name; }\n    name = (button == 1 ? \"Left\" : button == 2 ? \"Middle\" : \"Right\") + name;\n\n    return dispatchKey(cm,  addModifierNames(name, event), event, function (bound) {\n      if (typeof bound == \"string\") { bound = commands[bound]; }\n      if (!bound) { return false }\n      var done = false;\n      try {\n        if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n        done = bound(cm, pos) != Pass;\n      } finally {\n        cm.state.suppressEdits = false;\n      }\n      return done\n    })\n  }\n\n  function configureMouse(cm, repeat, event) {\n    var option = cm.getOption(\"configureMouse\");\n    var value = option ? option(cm, repeat, event) : {};\n    if (value.unit == null) {\n      var rect = chromeOS ? event.shiftKey && event.metaKey : event.altKey;\n      value.unit = rect ? \"rectangle\" : repeat == \"single\" ? \"char\" : repeat == \"double\" ? \"word\" : \"line\";\n    }\n    if (value.extend == null || cm.doc.extend) { value.extend = cm.doc.extend || event.shiftKey; }\n    if (value.addNew == null) { value.addNew = mac ? event.metaKey : event.ctrlKey; }\n    if (value.moveOnDrag == null) { value.moveOnDrag = !(mac ? event.altKey : event.ctrlKey); }\n    return value\n  }\n\n  function leftButtonDown(cm, pos, repeat, event) {\n    if (ie) { setTimeout(bind(ensureFocus, cm), 0); }\n    else { cm.curOp.focus = activeElt(); }\n\n    var behavior = configureMouse(cm, repeat, event);\n\n    var sel = cm.doc.sel, contained;\n    if (cm.options.dragDrop && dragAndDrop && !cm.isReadOnly() &&\n        repeat == \"single\" && (contained = sel.contains(pos)) > -1 &&\n        (cmp((contained = sel.ranges[contained]).from(), pos) < 0 || pos.xRel > 0) &&\n        (cmp(contained.to(), pos) > 0 || pos.xRel < 0))\n      { leftButtonStartDrag(cm, event, pos, behavior); }\n    else\n      { leftButtonSelect(cm, event, pos, behavior); }\n  }\n\n  // Start a text drag. When it ends, see if any dragging actually\n  // happen, and treat as a click if it didn't.\n  function leftButtonStartDrag(cm, event, pos, behavior) {\n    var display = cm.display, moved = false;\n    var dragEnd = operation(cm, function (e) {\n      if (webkit) { display.scroller.draggable = false; }\n      cm.state.draggingText = false;\n      if (cm.state.delayingBlurEvent) {\n        if (cm.hasFocus()) { cm.state.delayingBlurEvent = false; }\n        else { delayBlurEvent(cm); }\n      }\n      off(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n      off(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n      off(display.scroller, \"dragstart\", dragStart);\n      off(display.scroller, \"drop\", dragEnd);\n      if (!moved) {\n        e_preventDefault(e);\n        if (!behavior.addNew)\n          { extendSelection(cm.doc, pos, null, null, behavior.extend); }\n        // Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)\n        if ((webkit && !safari) || ie && ie_version == 9)\n          { setTimeout(function () {display.wrapper.ownerDocument.body.focus({preventScroll: true}); display.input.focus();}, 20); }\n        else\n          { display.input.focus(); }\n      }\n    });\n    var mouseMove = function(e2) {\n      moved = moved || Math.abs(event.clientX - e2.clientX) + Math.abs(event.clientY - e2.clientY) >= 10;\n    };\n    var dragStart = function () { return moved = true; };\n    // Let the drag handler handle this.\n    if (webkit) { display.scroller.draggable = true; }\n    cm.state.draggingText = dragEnd;\n    dragEnd.copy = !behavior.moveOnDrag;\n    on(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n    on(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n    on(display.scroller, \"dragstart\", dragStart);\n    on(display.scroller, \"drop\", dragEnd);\n\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () { return display.input.focus(); }, 20);\n    // IE's approach to draggable\n    if (display.scroller.dragDrop) { display.scroller.dragDrop(); }\n  }\n\n  function rangeForUnit(cm, pos, unit) {\n    if (unit == \"char\") { return new Range(pos, pos) }\n    if (unit == \"word\") { return cm.findWordAt(pos) }\n    if (unit == \"line\") { return new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))) }\n    var result = unit(cm, pos);\n    return new Range(result.from, result.to)\n  }\n\n  // Normal selection, as opposed to text dragging.\n  function leftButtonSelect(cm, event, start, behavior) {\n    if (ie) { delayBlurEvent(cm); }\n    var display = cm.display, doc = cm.doc;\n    e_preventDefault(event);\n\n    var ourRange, ourIndex, startSel = doc.sel, ranges = startSel.ranges;\n    if (behavior.addNew && !behavior.extend) {\n      ourIndex = doc.sel.contains(start);\n      if (ourIndex > -1)\n        { ourRange = ranges[ourIndex]; }\n      else\n        { ourRange = new Range(start, start); }\n    } else {\n      ourRange = doc.sel.primary();\n      ourIndex = doc.sel.primIndex;\n    }\n\n    if (behavior.unit == \"rectangle\") {\n      if (!behavior.addNew) { ourRange = new Range(start, start); }\n      start = posFromMouse(cm, event, true, true);\n      ourIndex = -1;\n    } else {\n      var range = rangeForUnit(cm, start, behavior.unit);\n      if (behavior.extend)\n        { ourRange = extendRange(ourRange, range.anchor, range.head, behavior.extend); }\n      else\n        { ourRange = range; }\n    }\n\n    if (!behavior.addNew) {\n      ourIndex = 0;\n      setSelection(doc, new Selection([ourRange], 0), sel_mouse);\n      startSel = doc.sel;\n    } else if (ourIndex == -1) {\n      ourIndex = ranges.length;\n      setSelection(doc, normalizeSelection(cm, ranges.concat([ourRange]), ourIndex),\n                   {scroll: false, origin: \"*mouse\"});\n    } else if (ranges.length > 1 && ranges[ourIndex].empty() && behavior.unit == \"char\" && !behavior.extend) {\n      setSelection(doc, normalizeSelection(cm, ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0),\n                   {scroll: false, origin: \"*mouse\"});\n      startSel = doc.sel;\n    } else {\n      replaceOneSelection(doc, ourIndex, ourRange, sel_mouse);\n    }\n\n    var lastPos = start;\n    function extendTo(pos) {\n      if (cmp(lastPos, pos) == 0) { return }\n      lastPos = pos;\n\n      if (behavior.unit == \"rectangle\") {\n        var ranges = [], tabSize = cm.options.tabSize;\n        var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize);\n        var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize);\n        var left = Math.min(startCol, posCol), right = Math.max(startCol, posCol);\n        for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line));\n             line <= end; line++) {\n          var text = getLine(doc, line).text, leftPos = findColumn(text, left, tabSize);\n          if (left == right)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos))); }\n          else if (text.length > leftPos)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize)))); }\n        }\n        if (!ranges.length) { ranges.push(new Range(start, start)); }\n        setSelection(doc, normalizeSelection(cm, startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex),\n                     {origin: \"*mouse\", scroll: false});\n        cm.scrollIntoView(pos);\n      } else {\n        var oldRange = ourRange;\n        var range = rangeForUnit(cm, pos, behavior.unit);\n        var anchor = oldRange.anchor, head;\n        if (cmp(range.anchor, anchor) > 0) {\n          head = range.head;\n          anchor = minPos(oldRange.from(), range.anchor);\n        } else {\n          head = range.anchor;\n          anchor = maxPos(oldRange.to(), range.head);\n        }\n        var ranges$1 = startSel.ranges.slice(0);\n        ranges$1[ourIndex] = bidiSimplify(cm, new Range(clipPos(doc, anchor), head));\n        setSelection(doc, normalizeSelection(cm, ranges$1, ourIndex), sel_mouse);\n      }\n    }\n\n    var editorSize = display.wrapper.getBoundingClientRect();\n    // Used to ensure timeout re-tries don't fire when another extend\n    // happened in the meantime (clearTimeout isn't reliable -- at\n    // least on Chrome, the timeouts still happen even when cleared,\n    // if the clear happens after their scheduled firing time).\n    var counter = 0;\n\n    function extend(e) {\n      var curCount = ++counter;\n      var cur = posFromMouse(cm, e, true, behavior.unit == \"rectangle\");\n      if (!cur) { return }\n      if (cmp(cur, lastPos) != 0) {\n        cm.curOp.focus = activeElt();\n        extendTo(cur);\n        var visible = visibleLines(display, doc);\n        if (cur.line >= visible.to || cur.line < visible.from)\n          { setTimeout(operation(cm, function () {if (counter == curCount) { extend(e); }}), 150); }\n      } else {\n        var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0;\n        if (outside) { setTimeout(operation(cm, function () {\n          if (counter != curCount) { return }\n          display.scroller.scrollTop += outside;\n          extend(e);\n        }), 50); }\n      }\n    }\n\n    function done(e) {\n      cm.state.selectingText = false;\n      counter = Infinity;\n      // If e is null or undefined we interpret this as someone trying\n      // to explicitly cancel the selection rather than the user\n      // letting go of the mouse button.\n      if (e) {\n        e_preventDefault(e);\n        display.input.focus();\n      }\n      off(display.wrapper.ownerDocument, \"mousemove\", move);\n      off(display.wrapper.ownerDocument, \"mouseup\", up);\n      doc.history.lastSelOrigin = null;\n    }\n\n    var move = operation(cm, function (e) {\n      if (e.buttons === 0 || !e_button(e)) { done(e); }\n      else { extend(e); }\n    });\n    var up = operation(cm, done);\n    cm.state.selectingText = up;\n    on(display.wrapper.ownerDocument, \"mousemove\", move);\n    on(display.wrapper.ownerDocument, \"mouseup\", up);\n  }\n\n  // Used when mouse-selecting to adjust the anchor to the proper side\n  // of a bidi jump depending on the visual position of the head.\n  function bidiSimplify(cm, range) {\n    var anchor = range.anchor;\n    var head = range.head;\n    var anchorLine = getLine(cm.doc, anchor.line);\n    if (cmp(anchor, head) == 0 && anchor.sticky == head.sticky) { return range }\n    var order = getOrder(anchorLine);\n    if (!order) { return range }\n    var index = getBidiPartAt(order, anchor.ch, anchor.sticky), part = order[index];\n    if (part.from != anchor.ch && part.to != anchor.ch) { return range }\n    var boundary = index + ((part.from == anchor.ch) == (part.level != 1) ? 0 : 1);\n    if (boundary == 0 || boundary == order.length) { return range }\n\n    // Compute the relative visual position of the head compared to the\n    // anchor (<0 is to the left, >0 to the right)\n    var leftSide;\n    if (head.line != anchor.line) {\n      leftSide = (head.line - anchor.line) * (cm.doc.direction == \"ltr\" ? 1 : -1) > 0;\n    } else {\n      var headIndex = getBidiPartAt(order, head.ch, head.sticky);\n      var dir = headIndex - index || (head.ch - anchor.ch) * (part.level == 1 ? -1 : 1);\n      if (headIndex == boundary - 1 || headIndex == boundary)\n        { leftSide = dir < 0; }\n      else\n        { leftSide = dir > 0; }\n    }\n\n    var usePart = order[boundary + (leftSide ? -1 : 0)];\n    var from = leftSide == (usePart.level == 1);\n    var ch = from ? usePart.from : usePart.to, sticky = from ? \"after\" : \"before\";\n    return anchor.ch == ch && anchor.sticky == sticky ? range : new Range(new Pos(anchor.line, ch, sticky), head)\n  }\n\n\n  // Determines whether an event happened in the gutter, and fires the\n  // handlers for the corresponding event.\n  function gutterEvent(cm, e, type, prevent) {\n    var mX, mY;\n    if (e.touches) {\n      mX = e.touches[0].clientX;\n      mY = e.touches[0].clientY;\n    } else {\n      try { mX = e.clientX; mY = e.clientY; }\n      catch(e$1) { return false }\n    }\n    if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) { return false }\n    if (prevent) { e_preventDefault(e); }\n\n    var display = cm.display;\n    var lineBox = display.lineDiv.getBoundingClientRect();\n\n    if (mY > lineBox.bottom || !hasHandler(cm, type)) { return e_defaultPrevented(e) }\n    mY -= lineBox.top - display.viewOffset;\n\n    for (var i = 0; i < cm.display.gutterSpecs.length; ++i) {\n      var g = display.gutters.childNodes[i];\n      if (g && g.getBoundingClientRect().right >= mX) {\n        var line = lineAtHeight(cm.doc, mY);\n        var gutter = cm.display.gutterSpecs[i];\n        signal(cm, type, cm, line, gutter.className, e);\n        return e_defaultPrevented(e)\n      }\n    }\n  }\n\n  function clickInGutter(cm, e) {\n    return gutterEvent(cm, e, \"gutterClick\", true)\n  }\n\n  // CONTEXT MENU HANDLING\n\n  // To make the context menu work, we need to briefly unhide the\n  // textarea (making it as unobtrusive as possible) to let the\n  // right-click take effect on it.\n  function onContextMenu(cm, e) {\n    if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) { return }\n    if (signalDOMEvent(cm, e, \"contextmenu\")) { return }\n    if (!captureRightClick) { cm.display.input.onContextMenu(e); }\n  }\n\n  function contextMenuInGutter(cm, e) {\n    if (!hasHandler(cm, \"gutterContextMenu\")) { return false }\n    return gutterEvent(cm, e, \"gutterContextMenu\", false)\n  }\n\n  function themeChanged(cm) {\n    cm.display.wrapper.className = cm.display.wrapper.className.replace(/\\s*cm-s-\\S+/g, \"\") +\n      cm.options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\");\n    clearCaches(cm);\n  }\n\n  var Init = {toString: function(){return \"CodeMirror.Init\"}};\n\n  var defaults = {};\n  var optionHandlers = {};\n\n  function defineOptions(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    function option(name, deflt, handle, notOnInit) {\n      CodeMirror.defaults[name] = deflt;\n      if (handle) { optionHandlers[name] =\n        notOnInit ? function (cm, val, old) {if (old != Init) { handle(cm, val, old); }} : handle; }\n    }\n\n    CodeMirror.defineOption = option;\n\n    // Passed to option handlers when there is no old value.\n    CodeMirror.Init = Init;\n\n    // These two are, on init, called from the constructor because they\n    // have to be initialized before the editor can start at all.\n    option(\"value\", \"\", function (cm, val) { return cm.setValue(val); }, true);\n    option(\"mode\", null, function (cm, val) {\n      cm.doc.modeOption = val;\n      loadMode(cm);\n    }, true);\n\n    option(\"indentUnit\", 2, loadMode, true);\n    option(\"indentWithTabs\", false);\n    option(\"smartIndent\", true);\n    option(\"tabSize\", 4, function (cm) {\n      resetModeState(cm);\n      clearCaches(cm);\n      regChange(cm);\n    }, true);\n\n    option(\"lineSeparator\", null, function (cm, val) {\n      cm.doc.lineSep = val;\n      if (!val) { return }\n      var newBreaks = [], lineNo = cm.doc.first;\n      cm.doc.iter(function (line) {\n        for (var pos = 0;;) {\n          var found = line.text.indexOf(val, pos);\n          if (found == -1) { break }\n          pos = found + val.length;\n          newBreaks.push(Pos(lineNo, found));\n        }\n        lineNo++;\n      });\n      for (var i = newBreaks.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length)); }\n    });\n    option(\"specialChars\", /[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b\\u200e\\u200f\\u2028\\u2029\\ufeff\\ufff9-\\ufffc]/g, function (cm, val, old) {\n      cm.state.specialChars = new RegExp(val.source + (val.test(\"\\t\") ? \"\" : \"|\\t\"), \"g\");\n      if (old != Init) { cm.refresh(); }\n    });\n    option(\"specialCharPlaceholder\", defaultSpecialCharPlaceholder, function (cm) { return cm.refresh(); }, true);\n    option(\"electricChars\", true);\n    option(\"inputStyle\", mobile ? \"contenteditable\" : \"textarea\", function () {\n      throw new Error(\"inputStyle can not (yet) be changed in a running editor\") // FIXME\n    }, true);\n    option(\"spellcheck\", false, function (cm, val) { return cm.getInputField().spellcheck = val; }, true);\n    option(\"autocorrect\", false, function (cm, val) { return cm.getInputField().autocorrect = val; }, true);\n    option(\"autocapitalize\", false, function (cm, val) { return cm.getInputField().autocapitalize = val; }, true);\n    option(\"rtlMoveVisually\", !windows);\n    option(\"wholeLineUpdateBefore\", true);\n\n    option(\"theme\", \"default\", function (cm) {\n      themeChanged(cm);\n      updateGutters(cm);\n    }, true);\n    option(\"keyMap\", \"default\", function (cm, val, old) {\n      var next = getKeyMap(val);\n      var prev = old != Init && getKeyMap(old);\n      if (prev && prev.detach) { prev.detach(cm, next); }\n      if (next.attach) { next.attach(cm, prev || null); }\n    });\n    option(\"extraKeys\", null);\n    option(\"configureMouse\", null);\n\n    option(\"lineWrapping\", false, wrappingChanged, true);\n    option(\"gutters\", [], function (cm, val) {\n      cm.display.gutterSpecs = getGutters(val, cm.options.lineNumbers);\n      updateGutters(cm);\n    }, true);\n    option(\"fixedGutter\", true, function (cm, val) {\n      cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + \"px\" : \"0\";\n      cm.refresh();\n    }, true);\n    option(\"coverGutterNextToScrollbar\", false, function (cm) { return updateScrollbars(cm); }, true);\n    option(\"scrollbarStyle\", \"native\", function (cm) {\n      initScrollbars(cm);\n      updateScrollbars(cm);\n      cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);\n      cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft);\n    }, true);\n    option(\"lineNumbers\", false, function (cm, val) {\n      cm.display.gutterSpecs = getGutters(cm.options.gutters, val);\n      updateGutters(cm);\n    }, true);\n    option(\"firstLineNumber\", 1, updateGutters, true);\n    option(\"lineNumberFormatter\", function (integer) { return integer; }, updateGutters, true);\n    option(\"showCursorWhenSelecting\", false, updateSelection, true);\n\n    option(\"resetSelectionOnContextMenu\", true);\n    option(\"lineWiseCopyCut\", true);\n    option(\"pasteLinesPerSelection\", true);\n    option(\"selectionsMayTouch\", false);\n\n    option(\"readOnly\", false, function (cm, val) {\n      if (val == \"nocursor\") {\n        onBlur(cm);\n        cm.display.input.blur();\n      }\n      cm.display.input.readOnlyChanged(val);\n    });\n\n    option(\"screenReaderLabel\", null, function (cm, val) {\n      val = (val === '') ? null : val;\n      cm.display.input.screenReaderLabelChanged(val);\n    });\n\n    option(\"disableInput\", false, function (cm, val) {if (!val) { cm.display.input.reset(); }}, true);\n    option(\"dragDrop\", true, dragDropChanged);\n    option(\"allowDropFileTypes\", null);\n\n    option(\"cursorBlinkRate\", 530);\n    option(\"cursorScrollMargin\", 0);\n    option(\"cursorHeight\", 1, updateSelection, true);\n    option(\"singleCursorHeightPerLine\", true, updateSelection, true);\n    option(\"workTime\", 100);\n    option(\"workDelay\", 100);\n    option(\"flattenSpans\", true, resetModeState, true);\n    option(\"addModeClass\", false, resetModeState, true);\n    option(\"pollInterval\", 100);\n    option(\"undoDepth\", 200, function (cm, val) { return cm.doc.history.undoDepth = val; });\n    option(\"historyEventDelay\", 1250);\n    option(\"viewportMargin\", 10, function (cm) { return cm.refresh(); }, true);\n    option(\"maxHighlightLength\", 10000, resetModeState, true);\n    option(\"moveInputWithCursor\", true, function (cm, val) {\n      if (!val) { cm.display.input.resetPosition(); }\n    });\n\n    option(\"tabindex\", null, function (cm, val) { return cm.display.input.getField().tabIndex = val || \"\"; });\n    option(\"autofocus\", null);\n    option(\"direction\", \"ltr\", function (cm, val) { return cm.doc.setDirection(val); }, true);\n    option(\"phrases\", null);\n  }\n\n  function dragDropChanged(cm, value, old) {\n    var wasOn = old && old != Init;\n    if (!value != !wasOn) {\n      var funcs = cm.display.dragFunctions;\n      var toggle = value ? on : off;\n      toggle(cm.display.scroller, \"dragstart\", funcs.start);\n      toggle(cm.display.scroller, \"dragenter\", funcs.enter);\n      toggle(cm.display.scroller, \"dragover\", funcs.over);\n      toggle(cm.display.scroller, \"dragleave\", funcs.leave);\n      toggle(cm.display.scroller, \"drop\", funcs.drop);\n    }\n  }\n\n  function wrappingChanged(cm) {\n    if (cm.options.lineWrapping) {\n      addClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      cm.display.sizer.style.minWidth = \"\";\n      cm.display.sizerWidth = null;\n    } else {\n      rmClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      findMaxLine(cm);\n    }\n    estimateLineHeights(cm);\n    regChange(cm);\n    clearCaches(cm);\n    setTimeout(function () { return updateScrollbars(cm); }, 100);\n  }\n\n  // A CodeMirror instance represents an editor. This is the object\n  // that user code is usually dealing with.\n\n  function CodeMirror(place, options) {\n    var this$1 = this;\n\n    if (!(this instanceof CodeMirror)) { return new CodeMirror(place, options) }\n\n    this.options = options = options ? copyObj(options) : {};\n    // Determine effective options based on given values and defaults.\n    copyObj(defaults, options, false);\n\n    var doc = options.value;\n    if (typeof doc == \"string\") { doc = new Doc(doc, options.mode, null, options.lineSeparator, options.direction); }\n    else if (options.mode) { doc.modeOption = options.mode; }\n    this.doc = doc;\n\n    var input = new CodeMirror.inputStyles[options.inputStyle](this);\n    var display = this.display = new Display(place, doc, input, options);\n    display.wrapper.CodeMirror = this;\n    themeChanged(this);\n    if (options.lineWrapping)\n      { this.display.wrapper.className += \" CodeMirror-wrap\"; }\n    initScrollbars(this);\n\n    this.state = {\n      keyMaps: [],  // stores maps added by addKeyMap\n      overlays: [], // highlighting overlays, as added by addOverlay\n      modeGen: 0,   // bumped when mode/overlay changes, used to invalidate highlighting info\n      overwrite: false,\n      delayingBlurEvent: false,\n      focused: false,\n      suppressEdits: false, // used to disable editing during key handlers when in readOnly mode\n      pasteIncoming: -1, cutIncoming: -1, // help recognize paste/cut edits in input.poll\n      selectingText: false,\n      draggingText: false,\n      highlight: new Delayed(), // stores highlight worker timeout\n      keySeq: null,  // Unfinished key sequence\n      specialChars: null\n    };\n\n    if (options.autofocus && !mobile) { display.input.focus(); }\n\n    // Override magic textarea content restore that IE sometimes does\n    // on our hidden textarea on reload\n    if (ie && ie_version < 11) { setTimeout(function () { return this$1.display.input.reset(true); }, 20); }\n\n    registerEventHandlers(this);\n    ensureGlobalHandlers();\n\n    startOperation(this);\n    this.curOp.forceUpdate = true;\n    attachDoc(this, doc);\n\n    if ((options.autofocus && !mobile) || this.hasFocus())\n      { setTimeout(function () {\n        if (this$1.hasFocus() && !this$1.state.focused) { onFocus(this$1); }\n      }, 20); }\n    else\n      { onBlur(this); }\n\n    for (var opt in optionHandlers) { if (optionHandlers.hasOwnProperty(opt))\n      { optionHandlers[opt](this, options[opt], Init); } }\n    maybeUpdateLineNumberWidth(this);\n    if (options.finishInit) { options.finishInit(this); }\n    for (var i = 0; i < initHooks.length; ++i) { initHooks[i](this); }\n    endOperation(this);\n    // Suppress optimizelegibility in Webkit, since it breaks text\n    // measuring on line wrapping boundaries.\n    if (webkit && options.lineWrapping &&\n        getComputedStyle(display.lineDiv).textRendering == \"optimizelegibility\")\n      { display.lineDiv.style.textRendering = \"auto\"; }\n  }\n\n  // The default configuration options.\n  CodeMirror.defaults = defaults;\n  // Functions to run when options are changed.\n  CodeMirror.optionHandlers = optionHandlers;\n\n  // Attach the necessary event handlers when initializing the editor\n  function registerEventHandlers(cm) {\n    var d = cm.display;\n    on(d.scroller, \"mousedown\", operation(cm, onMouseDown));\n    // Older IE's will not fire a second mousedown for a double click\n    if (ie && ie_version < 11)\n      { on(d.scroller, \"dblclick\", operation(cm, function (e) {\n        if (signalDOMEvent(cm, e)) { return }\n        var pos = posFromMouse(cm, e);\n        if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) { return }\n        e_preventDefault(e);\n        var word = cm.findWordAt(pos);\n        extendSelection(cm.doc, word.anchor, word.head);\n      })); }\n    else\n      { on(d.scroller, \"dblclick\", function (e) { return signalDOMEvent(cm, e) || e_preventDefault(e); }); }\n    // Some browsers fire contextmenu *after* opening the menu, at\n    // which point we can't mess with it anymore. Context menu is\n    // handled in onMouseDown for these browsers.\n    on(d.scroller, \"contextmenu\", function (e) { return onContextMenu(cm, e); });\n    on(d.input.getField(), \"contextmenu\", function (e) {\n      if (!d.scroller.contains(e.target)) { onContextMenu(cm, e); }\n    });\n\n    // Used to suppress mouse event handling when a touch happens\n    var touchFinished, prevTouch = {end: 0};\n    function finishTouch() {\n      if (d.activeTouch) {\n        touchFinished = setTimeout(function () { return d.activeTouch = null; }, 1000);\n        prevTouch = d.activeTouch;\n        prevTouch.end = +new Date;\n      }\n    }\n    function isMouseLikeTouchEvent(e) {\n      if (e.touches.length != 1) { return false }\n      var touch = e.touches[0];\n      return touch.radiusX <= 1 && touch.radiusY <= 1\n    }\n    function farAway(touch, other) {\n      if (other.left == null) { return true }\n      var dx = other.left - touch.left, dy = other.top - touch.top;\n      return dx * dx + dy * dy > 20 * 20\n    }\n    on(d.scroller, \"touchstart\", function (e) {\n      if (!signalDOMEvent(cm, e) && !isMouseLikeTouchEvent(e) && !clickInGutter(cm, e)) {\n        d.input.ensurePolled();\n        clearTimeout(touchFinished);\n        var now = +new Date;\n        d.activeTouch = {start: now, moved: false,\n                         prev: now - prevTouch.end <= 300 ? prevTouch : null};\n        if (e.touches.length == 1) {\n          d.activeTouch.left = e.touches[0].pageX;\n          d.activeTouch.top = e.touches[0].pageY;\n        }\n      }\n    });\n    on(d.scroller, \"touchmove\", function () {\n      if (d.activeTouch) { d.activeTouch.moved = true; }\n    });\n    on(d.scroller, \"touchend\", function (e) {\n      var touch = d.activeTouch;\n      if (touch && !eventInWidget(d, e) && touch.left != null &&\n          !touch.moved && new Date - touch.start < 300) {\n        var pos = cm.coordsChar(d.activeTouch, \"page\"), range;\n        if (!touch.prev || farAway(touch, touch.prev)) // Single tap\n          { range = new Range(pos, pos); }\n        else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) // Double tap\n          { range = cm.findWordAt(pos); }\n        else // Triple tap\n          { range = new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))); }\n        cm.setSelection(range.anchor, range.head);\n        cm.focus();\n        e_preventDefault(e);\n      }\n      finishTouch();\n    });\n    on(d.scroller, \"touchcancel\", finishTouch);\n\n    // Sync scrolling between fake scrollbars and real scrollable\n    // area, ensure viewport is updated when scrolling.\n    on(d.scroller, \"scroll\", function () {\n      if (d.scroller.clientHeight) {\n        updateScrollTop(cm, d.scroller.scrollTop);\n        setScrollLeft(cm, d.scroller.scrollLeft, true);\n        signal(cm, \"scroll\", cm);\n      }\n    });\n\n    // Listen to wheel events in order to try and update the viewport on time.\n    on(d.scroller, \"mousewheel\", function (e) { return onScrollWheel(cm, e); });\n    on(d.scroller, \"DOMMouseScroll\", function (e) { return onScrollWheel(cm, e); });\n\n    // Prevent wrapper from ever scrolling\n    on(d.wrapper, \"scroll\", function () { return d.wrapper.scrollTop = d.wrapper.scrollLeft = 0; });\n\n    d.dragFunctions = {\n      enter: function (e) {if (!signalDOMEvent(cm, e)) { e_stop(e); }},\n      over: function (e) {if (!signalDOMEvent(cm, e)) { onDragOver(cm, e); e_stop(e); }},\n      start: function (e) { return onDragStart(cm, e); },\n      drop: operation(cm, onDrop),\n      leave: function (e) {if (!signalDOMEvent(cm, e)) { clearDragCursor(cm); }}\n    };\n\n    var inp = d.input.getField();\n    on(inp, \"keyup\", function (e) { return onKeyUp.call(cm, e); });\n    on(inp, \"keydown\", operation(cm, onKeyDown));\n    on(inp, \"keypress\", operation(cm, onKeyPress));\n    on(inp, \"focus\", function (e) { return onFocus(cm, e); });\n    on(inp, \"blur\", function (e) { return onBlur(cm, e); });\n  }\n\n  var initHooks = [];\n  CodeMirror.defineInitHook = function (f) { return initHooks.push(f); };\n\n  // Indent the given line. The how parameter can be \"smart\",\n  // \"add\"/null, \"subtract\", or \"prev\". When aggressive is false\n  // (typically set to true for forced single-line indents), empty\n  // lines are not indented, and places where the mode returns Pass\n  // are left alone.\n  function indentLine(cm, n, how, aggressive) {\n    var doc = cm.doc, state;\n    if (how == null) { how = \"add\"; }\n    if (how == \"smart\") {\n      // Fall back to \"prev\" when the mode doesn't have an indentation\n      // method.\n      if (!doc.mode.indent) { how = \"prev\"; }\n      else { state = getContextBefore(cm, n).state; }\n    }\n\n    var tabSize = cm.options.tabSize;\n    var line = getLine(doc, n), curSpace = countColumn(line.text, null, tabSize);\n    if (line.stateAfter) { line.stateAfter = null; }\n    var curSpaceString = line.text.match(/^\\s*/)[0], indentation;\n    if (!aggressive && !/\\S/.test(line.text)) {\n      indentation = 0;\n      how = \"not\";\n    } else if (how == \"smart\") {\n      indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text);\n      if (indentation == Pass || indentation > 150) {\n        if (!aggressive) { return }\n        how = \"prev\";\n      }\n    }\n    if (how == \"prev\") {\n      if (n > doc.first) { indentation = countColumn(getLine(doc, n-1).text, null, tabSize); }\n      else { indentation = 0; }\n    } else if (how == \"add\") {\n      indentation = curSpace + cm.options.indentUnit;\n    } else if (how == \"subtract\") {\n      indentation = curSpace - cm.options.indentUnit;\n    } else if (typeof how == \"number\") {\n      indentation = curSpace + how;\n    }\n    indentation = Math.max(0, indentation);\n\n    var indentString = \"\", pos = 0;\n    if (cm.options.indentWithTabs)\n      { for (var i = Math.floor(indentation / tabSize); i; --i) {pos += tabSize; indentString += \"\\t\";} }\n    if (pos < indentation) { indentString += spaceStr(indentation - pos); }\n\n    if (indentString != curSpaceString) {\n      replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), \"+input\");\n      line.stateAfter = null;\n      return true\n    } else {\n      // Ensure that, if the cursor was in the whitespace at the start\n      // of the line, it is moved to the end of that space.\n      for (var i$1 = 0; i$1 < doc.sel.ranges.length; i$1++) {\n        var range = doc.sel.ranges[i$1];\n        if (range.head.line == n && range.head.ch < curSpaceString.length) {\n          var pos$1 = Pos(n, curSpaceString.length);\n          replaceOneSelection(doc, i$1, new Range(pos$1, pos$1));\n          break\n        }\n      }\n    }\n  }\n\n  // This will be set to a {lineWise: bool, text: [string]} object, so\n  // that, when pasting, we know what kind of selections the copied\n  // text was made out of.\n  var lastCopied = null;\n\n  function setLastCopied(newLastCopied) {\n    lastCopied = newLastCopied;\n  }\n\n  function applyTextInput(cm, inserted, deleted, sel, origin) {\n    var doc = cm.doc;\n    cm.display.shift = false;\n    if (!sel) { sel = doc.sel; }\n\n    var recent = +new Date - 200;\n    var paste = origin == \"paste\" || cm.state.pasteIncoming > recent;\n    var textLines = splitLinesAuto(inserted), multiPaste = null;\n    // When pasting N lines into N selections, insert one line per selection\n    if (paste && sel.ranges.length > 1) {\n      if (lastCopied && lastCopied.text.join(\"\\n\") == inserted) {\n        if (sel.ranges.length % lastCopied.text.length == 0) {\n          multiPaste = [];\n          for (var i = 0; i < lastCopied.text.length; i++)\n            { multiPaste.push(doc.splitLines(lastCopied.text[i])); }\n        }\n      } else if (textLines.length == sel.ranges.length && cm.options.pasteLinesPerSelection) {\n        multiPaste = map(textLines, function (l) { return [l]; });\n      }\n    }\n\n    var updateInput = cm.curOp.updateInput;\n    // Normal behavior is to insert the new text into every selection\n    for (var i$1 = sel.ranges.length - 1; i$1 >= 0; i$1--) {\n      var range = sel.ranges[i$1];\n      var from = range.from(), to = range.to();\n      if (range.empty()) {\n        if (deleted && deleted > 0) // Handle deletion\n          { from = Pos(from.line, from.ch - deleted); }\n        else if (cm.state.overwrite && !paste) // Handle overwrite\n          { to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length)); }\n        else if (paste && lastCopied && lastCopied.lineWise && lastCopied.text.join(\"\\n\") == textLines.join(\"\\n\"))\n          { from = to = Pos(from.line, 0); }\n      }\n      var changeEvent = {from: from, to: to, text: multiPaste ? multiPaste[i$1 % multiPaste.length] : textLines,\n                         origin: origin || (paste ? \"paste\" : cm.state.cutIncoming > recent ? \"cut\" : \"+input\")};\n      makeChange(cm.doc, changeEvent);\n      signalLater(cm, \"inputRead\", cm, changeEvent);\n    }\n    if (inserted && !paste)\n      { triggerElectric(cm, inserted); }\n\n    ensureCursorVisible(cm);\n    if (cm.curOp.updateInput < 2) { cm.curOp.updateInput = updateInput; }\n    cm.curOp.typing = true;\n    cm.state.pasteIncoming = cm.state.cutIncoming = -1;\n  }\n\n  function handlePaste(e, cm) {\n    var pasted = e.clipboardData && e.clipboardData.getData(\"Text\");\n    if (pasted) {\n      e.preventDefault();\n      if (!cm.isReadOnly() && !cm.options.disableInput)\n        { runInOp(cm, function () { return applyTextInput(cm, pasted, 0, null, \"paste\"); }); }\n      return true\n    }\n  }\n\n  function triggerElectric(cm, inserted) {\n    // When an 'electric' character is inserted, immediately trigger a reindent\n    if (!cm.options.electricChars || !cm.options.smartIndent) { return }\n    var sel = cm.doc.sel;\n\n    for (var i = sel.ranges.length - 1; i >= 0; i--) {\n      var range = sel.ranges[i];\n      if (range.head.ch > 100 || (i && sel.ranges[i - 1].head.line == range.head.line)) { continue }\n      var mode = cm.getModeAt(range.head);\n      var indented = false;\n      if (mode.electricChars) {\n        for (var j = 0; j < mode.electricChars.length; j++)\n          { if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {\n            indented = indentLine(cm, range.head.line, \"smart\");\n            break\n          } }\n      } else if (mode.electricInput) {\n        if (mode.electricInput.test(getLine(cm.doc, range.head.line).text.slice(0, range.head.ch)))\n          { indented = indentLine(cm, range.head.line, \"smart\"); }\n      }\n      if (indented) { signalLater(cm, \"electricInput\", cm, range.head.line); }\n    }\n  }\n\n  function copyableRanges(cm) {\n    var text = [], ranges = [];\n    for (var i = 0; i < cm.doc.sel.ranges.length; i++) {\n      var line = cm.doc.sel.ranges[i].head.line;\n      var lineRange = {anchor: Pos(line, 0), head: Pos(line + 1, 0)};\n      ranges.push(lineRange);\n      text.push(cm.getRange(lineRange.anchor, lineRange.head));\n    }\n    return {text: text, ranges: ranges}\n  }\n\n  function disableBrowserMagic(field, spellcheck, autocorrect, autocapitalize) {\n    field.setAttribute(\"autocorrect\", autocorrect ? \"\" : \"off\");\n    field.setAttribute(\"autocapitalize\", autocapitalize ? \"\" : \"off\");\n    field.setAttribute(\"spellcheck\", !!spellcheck);\n  }\n\n  function hiddenTextarea() {\n    var te = elt(\"textarea\", null, null, \"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none\");\n    var div = elt(\"div\", [te], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\");\n    // The textarea is kept positioned near the cursor to prevent the\n    // fact that it'll be scrolled into view on input from scrolling\n    // our fake cursor out of view. On webkit, when wrap=off, paste is\n    // very slow. So make the area wide instead.\n    if (webkit) { te.style.width = \"1000px\"; }\n    else { te.setAttribute(\"wrap\", \"off\"); }\n    // If border: 0; -- iOS fails to open keyboard (issue #1287)\n    if (ios) { te.style.border = \"1px solid black\"; }\n    disableBrowserMagic(te);\n    return div\n  }\n\n  // The publicly visible API. Note that methodOp(f) means\n  // 'wrap f in an operation, performed on its `this` parameter'.\n\n  // This is not the complete set of editor methods. Most of the\n  // methods defined on the Doc type are also injected into\n  // CodeMirror.prototype, for backwards compatibility and\n  // convenience.\n\n  function addEditorMethods(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    var helpers = CodeMirror.helpers = {};\n\n    CodeMirror.prototype = {\n      constructor: CodeMirror,\n      focus: function(){window.focus(); this.display.input.focus();},\n\n      setOption: function(option, value) {\n        var options = this.options, old = options[option];\n        if (options[option] == value && option != \"mode\") { return }\n        options[option] = value;\n        if (optionHandlers.hasOwnProperty(option))\n          { operation(this, optionHandlers[option])(this, value, old); }\n        signal(this, \"optionChange\", this, option);\n      },\n\n      getOption: function(option) {return this.options[option]},\n      getDoc: function() {return this.doc},\n\n      addKeyMap: function(map, bottom) {\n        this.state.keyMaps[bottom ? \"push\" : \"unshift\"](getKeyMap(map));\n      },\n      removeKeyMap: function(map) {\n        var maps = this.state.keyMaps;\n        for (var i = 0; i < maps.length; ++i)\n          { if (maps[i] == map || maps[i].name == map) {\n            maps.splice(i, 1);\n            return true\n          } }\n      },\n\n      addOverlay: methodOp(function(spec, options) {\n        var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec);\n        if (mode.startState) { throw new Error(\"Overlays may not be stateful.\") }\n        insertSorted(this.state.overlays,\n                     {mode: mode, modeSpec: spec, opaque: options && options.opaque,\n                      priority: (options && options.priority) || 0},\n                     function (overlay) { return overlay.priority; });\n        this.state.modeGen++;\n        regChange(this);\n      }),\n      removeOverlay: methodOp(function(spec) {\n        var overlays = this.state.overlays;\n        for (var i = 0; i < overlays.length; ++i) {\n          var cur = overlays[i].modeSpec;\n          if (cur == spec || typeof spec == \"string\" && cur.name == spec) {\n            overlays.splice(i, 1);\n            this.state.modeGen++;\n            regChange(this);\n            return\n          }\n        }\n      }),\n\n      indentLine: methodOp(function(n, dir, aggressive) {\n        if (typeof dir != \"string\" && typeof dir != \"number\") {\n          if (dir == null) { dir = this.options.smartIndent ? \"smart\" : \"prev\"; }\n          else { dir = dir ? \"add\" : \"subtract\"; }\n        }\n        if (isLine(this.doc, n)) { indentLine(this, n, dir, aggressive); }\n      }),\n      indentSelection: methodOp(function(how) {\n        var ranges = this.doc.sel.ranges, end = -1;\n        for (var i = 0; i < ranges.length; i++) {\n          var range = ranges[i];\n          if (!range.empty()) {\n            var from = range.from(), to = range.to();\n            var start = Math.max(end, from.line);\n            end = Math.min(this.lastLine(), to.line - (to.ch ? 0 : 1)) + 1;\n            for (var j = start; j < end; ++j)\n              { indentLine(this, j, how); }\n            var newRanges = this.doc.sel.ranges;\n            if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0)\n              { replaceOneSelection(this.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll); }\n          } else if (range.head.line > end) {\n            indentLine(this, range.head.line, how, true);\n            end = range.head.line;\n            if (i == this.doc.sel.primIndex) { ensureCursorVisible(this); }\n          }\n        }\n      }),\n\n      // Fetch the parser token for a given character. Useful for hacks\n      // that want to inspect the mode state (say, for completion).\n      getTokenAt: function(pos, precise) {\n        return takeToken(this, pos, precise)\n      },\n\n      getLineTokens: function(line, precise) {\n        return takeToken(this, Pos(line), precise, true)\n      },\n\n      getTokenTypeAt: function(pos) {\n        pos = clipPos(this.doc, pos);\n        var styles = getLineStyles(this, getLine(this.doc, pos.line));\n        var before = 0, after = (styles.length - 1) / 2, ch = pos.ch;\n        var type;\n        if (ch == 0) { type = styles[2]; }\n        else { for (;;) {\n          var mid = (before + after) >> 1;\n          if ((mid ? styles[mid * 2 - 1] : 0) >= ch) { after = mid; }\n          else if (styles[mid * 2 + 1] < ch) { before = mid + 1; }\n          else { type = styles[mid * 2 + 2]; break }\n        } }\n        var cut = type ? type.indexOf(\"overlay \") : -1;\n        return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1)\n      },\n\n      getModeAt: function(pos) {\n        var mode = this.doc.mode;\n        if (!mode.innerMode) { return mode }\n        return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode\n      },\n\n      getHelper: function(pos, type) {\n        return this.getHelpers(pos, type)[0]\n      },\n\n      getHelpers: function(pos, type) {\n        var found = [];\n        if (!helpers.hasOwnProperty(type)) { return found }\n        var help = helpers[type], mode = this.getModeAt(pos);\n        if (typeof mode[type] == \"string\") {\n          if (help[mode[type]]) { found.push(help[mode[type]]); }\n        } else if (mode[type]) {\n          for (var i = 0; i < mode[type].length; i++) {\n            var val = help[mode[type][i]];\n            if (val) { found.push(val); }\n          }\n        } else if (mode.helperType && help[mode.helperType]) {\n          found.push(help[mode.helperType]);\n        } else if (help[mode.name]) {\n          found.push(help[mode.name]);\n        }\n        for (var i$1 = 0; i$1 < help._global.length; i$1++) {\n          var cur = help._global[i$1];\n          if (cur.pred(mode, this) && indexOf(found, cur.val) == -1)\n            { found.push(cur.val); }\n        }\n        return found\n      },\n\n      getStateAfter: function(line, precise) {\n        var doc = this.doc;\n        line = clipLine(doc, line == null ? doc.first + doc.size - 1: line);\n        return getContextBefore(this, line + 1, precise).state\n      },\n\n      cursorCoords: function(start, mode) {\n        var pos, range = this.doc.sel.primary();\n        if (start == null) { pos = range.head; }\n        else if (typeof start == \"object\") { pos = clipPos(this.doc, start); }\n        else { pos = start ? range.from() : range.to(); }\n        return cursorCoords(this, pos, mode || \"page\")\n      },\n\n      charCoords: function(pos, mode) {\n        return charCoords(this, clipPos(this.doc, pos), mode || \"page\")\n      },\n\n      coordsChar: function(coords, mode) {\n        coords = fromCoordSystem(this, coords, mode || \"page\");\n        return coordsChar(this, coords.left, coords.top)\n      },\n\n      lineAtHeight: function(height, mode) {\n        height = fromCoordSystem(this, {top: height, left: 0}, mode || \"page\").top;\n        return lineAtHeight(this.doc, height + this.display.viewOffset)\n      },\n      heightAtLine: function(line, mode, includeWidgets) {\n        var end = false, lineObj;\n        if (typeof line == \"number\") {\n          var last = this.doc.first + this.doc.size - 1;\n          if (line < this.doc.first) { line = this.doc.first; }\n          else if (line > last) { line = last; end = true; }\n          lineObj = getLine(this.doc, line);\n        } else {\n          lineObj = line;\n        }\n        return intoCoordSystem(this, lineObj, {top: 0, left: 0}, mode || \"page\", includeWidgets || end).top +\n          (end ? this.doc.height - heightAtLine(lineObj) : 0)\n      },\n\n      defaultTextHeight: function() { return textHeight(this.display) },\n      defaultCharWidth: function() { return charWidth(this.display) },\n\n      getViewport: function() { return {from: this.display.viewFrom, to: this.display.viewTo}},\n\n      addWidget: function(pos, node, scroll, vert, horiz) {\n        var display = this.display;\n        pos = cursorCoords(this, clipPos(this.doc, pos));\n        var top = pos.bottom, left = pos.left;\n        node.style.position = \"absolute\";\n        node.setAttribute(\"cm-ignore-events\", \"true\");\n        this.display.input.setUneditable(node);\n        display.sizer.appendChild(node);\n        if (vert == \"over\") {\n          top = pos.top;\n        } else if (vert == \"above\" || vert == \"near\") {\n          var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),\n          hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth);\n          // Default to positioning above (if specified and possible); otherwise default to positioning below\n          if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight)\n            { top = pos.top - node.offsetHeight; }\n          else if (pos.bottom + node.offsetHeight <= vspace)\n            { top = pos.bottom; }\n          if (left + node.offsetWidth > hspace)\n            { left = hspace - node.offsetWidth; }\n        }\n        node.style.top = top + \"px\";\n        node.style.left = node.style.right = \"\";\n        if (horiz == \"right\") {\n          left = display.sizer.clientWidth - node.offsetWidth;\n          node.style.right = \"0px\";\n        } else {\n          if (horiz == \"left\") { left = 0; }\n          else if (horiz == \"middle\") { left = (display.sizer.clientWidth - node.offsetWidth) / 2; }\n          node.style.left = left + \"px\";\n        }\n        if (scroll)\n          { scrollIntoView(this, {left: left, top: top, right: left + node.offsetWidth, bottom: top + node.offsetHeight}); }\n      },\n\n      triggerOnKeyDown: methodOp(onKeyDown),\n      triggerOnKeyPress: methodOp(onKeyPress),\n      triggerOnKeyUp: onKeyUp,\n      triggerOnMouseDown: methodOp(onMouseDown),\n\n      execCommand: function(cmd) {\n        if (commands.hasOwnProperty(cmd))\n          { return commands[cmd].call(null, this) }\n      },\n\n      triggerElectric: methodOp(function(text) { triggerElectric(this, text); }),\n\n      findPosH: function(from, amount, unit, visually) {\n        var dir = 1;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          cur = findPosH(this.doc, cur, dir, unit, visually);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveH: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        this.extendSelectionsBy(function (range) {\n          if (this$1.display.shift || this$1.doc.extend || range.empty())\n            { return findPosH(this$1.doc, range.head, dir, unit, this$1.options.rtlMoveVisually) }\n          else\n            { return dir < 0 ? range.from() : range.to() }\n        }, sel_move);\n      }),\n\n      deleteH: methodOp(function(dir, unit) {\n        var sel = this.doc.sel, doc = this.doc;\n        if (sel.somethingSelected())\n          { doc.replaceSelection(\"\", null, \"+delete\"); }\n        else\n          { deleteNearSelection(this, function (range) {\n            var other = findPosH(doc, range.head, dir, unit, false);\n            return dir < 0 ? {from: other, to: range.head} : {from: range.head, to: other}\n          }); }\n      }),\n\n      findPosV: function(from, amount, unit, goalColumn) {\n        var dir = 1, x = goalColumn;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          var coords = cursorCoords(this, cur, \"div\");\n          if (x == null) { x = coords.left; }\n          else { coords.left = x; }\n          cur = findPosV(this, coords, dir, unit);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveV: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        var doc = this.doc, goals = [];\n        var collapse = !this.display.shift && !doc.extend && doc.sel.somethingSelected();\n        doc.extendSelectionsBy(function (range) {\n          if (collapse)\n            { return dir < 0 ? range.from() : range.to() }\n          var headPos = cursorCoords(this$1, range.head, \"div\");\n          if (range.goalColumn != null) { headPos.left = range.goalColumn; }\n          goals.push(headPos.left);\n          var pos = findPosV(this$1, headPos, dir, unit);\n          if (unit == \"page\" && range == doc.sel.primary())\n            { addToScrollTop(this$1, charCoords(this$1, pos, \"div\").top - headPos.top); }\n          return pos\n        }, sel_move);\n        if (goals.length) { for (var i = 0; i < doc.sel.ranges.length; i++)\n          { doc.sel.ranges[i].goalColumn = goals[i]; } }\n      }),\n\n      // Find the word at the given position (as returned by coordsChar).\n      findWordAt: function(pos) {\n        var doc = this.doc, line = getLine(doc, pos.line).text;\n        var start = pos.ch, end = pos.ch;\n        if (line) {\n          var helper = this.getHelper(pos, \"wordChars\");\n          if ((pos.sticky == \"before\" || end == line.length) && start) { --start; } else { ++end; }\n          var startChar = line.charAt(start);\n          var check = isWordChar(startChar, helper)\n            ? function (ch) { return isWordChar(ch, helper); }\n            : /\\s/.test(startChar) ? function (ch) { return /\\s/.test(ch); }\n            : function (ch) { return (!/\\s/.test(ch) && !isWordChar(ch)); };\n          while (start > 0 && check(line.charAt(start - 1))) { --start; }\n          while (end < line.length && check(line.charAt(end))) { ++end; }\n        }\n        return new Range(Pos(pos.line, start), Pos(pos.line, end))\n      },\n\n      toggleOverwrite: function(value) {\n        if (value != null && value == this.state.overwrite) { return }\n        if (this.state.overwrite = !this.state.overwrite)\n          { addClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n        else\n          { rmClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n\n        signal(this, \"overwriteToggle\", this, this.state.overwrite);\n      },\n      hasFocus: function() { return this.display.input.getField() == activeElt() },\n      isReadOnly: function() { return !!(this.options.readOnly || this.doc.cantEdit) },\n\n      scrollTo: methodOp(function (x, y) { scrollToCoords(this, x, y); }),\n      getScrollInfo: function() {\n        var scroller = this.display.scroller;\n        return {left: scroller.scrollLeft, top: scroller.scrollTop,\n                height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,\n                width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,\n                clientHeight: displayHeight(this), clientWidth: displayWidth(this)}\n      },\n\n      scrollIntoView: methodOp(function(range, margin) {\n        if (range == null) {\n          range = {from: this.doc.sel.primary().head, to: null};\n          if (margin == null) { margin = this.options.cursorScrollMargin; }\n        } else if (typeof range == \"number\") {\n          range = {from: Pos(range, 0), to: null};\n        } else if (range.from == null) {\n          range = {from: range, to: null};\n        }\n        if (!range.to) { range.to = range.from; }\n        range.margin = margin || 0;\n\n        if (range.from.line != null) {\n          scrollToRange(this, range);\n        } else {\n          scrollToCoordsRange(this, range.from, range.to, range.margin);\n        }\n      }),\n\n      setSize: methodOp(function(width, height) {\n        var this$1 = this;\n\n        var interpret = function (val) { return typeof val == \"number\" || /^\\d+$/.test(String(val)) ? val + \"px\" : val; };\n        if (width != null) { this.display.wrapper.style.width = interpret(width); }\n        if (height != null) { this.display.wrapper.style.height = interpret(height); }\n        if (this.options.lineWrapping) { clearLineMeasurementCache(this); }\n        var lineNo = this.display.viewFrom;\n        this.doc.iter(lineNo, this.display.viewTo, function (line) {\n          if (line.widgets) { for (var i = 0; i < line.widgets.length; i++)\n            { if (line.widgets[i].noHScroll) { regLineChange(this$1, lineNo, \"widget\"); break } } }\n          ++lineNo;\n        });\n        this.curOp.forceUpdate = true;\n        signal(this, \"refresh\", this);\n      }),\n\n      operation: function(f){return runInOp(this, f)},\n      startOperation: function(){return startOperation(this)},\n      endOperation: function(){return endOperation(this)},\n\n      refresh: methodOp(function() {\n        var oldHeight = this.display.cachedTextHeight;\n        regChange(this);\n        this.curOp.forceUpdate = true;\n        clearCaches(this);\n        scrollToCoords(this, this.doc.scrollLeft, this.doc.scrollTop);\n        updateGutterSpace(this.display);\n        if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5 || this.options.lineWrapping)\n          { estimateLineHeights(this); }\n        signal(this, \"refresh\", this);\n      }),\n\n      swapDoc: methodOp(function(doc) {\n        var old = this.doc;\n        old.cm = null;\n        // Cancel the current text selection if any (#5821)\n        if (this.state.selectingText) { this.state.selectingText(); }\n        attachDoc(this, doc);\n        clearCaches(this);\n        this.display.input.reset();\n        scrollToCoords(this, doc.scrollLeft, doc.scrollTop);\n        this.curOp.forceScroll = true;\n        signalLater(this, \"swapDoc\", this, old);\n        return old\n      }),\n\n      phrase: function(phraseText) {\n        var phrases = this.options.phrases;\n        return phrases && Object.prototype.hasOwnProperty.call(phrases, phraseText) ? phrases[phraseText] : phraseText\n      },\n\n      getInputField: function(){return this.display.input.getField()},\n      getWrapperElement: function(){return this.display.wrapper},\n      getScrollerElement: function(){return this.display.scroller},\n      getGutterElement: function(){return this.display.gutters}\n    };\n    eventMixin(CodeMirror);\n\n    CodeMirror.registerHelper = function(type, name, value) {\n      if (!helpers.hasOwnProperty(type)) { helpers[type] = CodeMirror[type] = {_global: []}; }\n      helpers[type][name] = value;\n    };\n    CodeMirror.registerGlobalHelper = function(type, name, predicate, value) {\n      CodeMirror.registerHelper(type, name, value);\n      helpers[type]._global.push({pred: predicate, val: value});\n    };\n  }\n\n  // Used for horizontal relative motion. Dir is -1 or 1 (left or\n  // right), unit can be \"codepoint\", \"char\", \"column\" (like char, but\n  // doesn't cross line boundaries), \"word\" (across next word), or\n  // \"group\" (to the start of next group of word or\n  // non-word-non-whitespace chars). The visually param controls\n  // whether, in right-to-left text, direction 1 means to move towards\n  // the next index in the string, or towards the character to the right\n  // of the current position. The resulting position will have a\n  // hitSide=true property if it reached the end of the document.\n  function findPosH(doc, pos, dir, unit, visually) {\n    var oldPos = pos;\n    var origDir = dir;\n    var lineObj = getLine(doc, pos.line);\n    var lineDir = visually && doc.direction == \"rtl\" ? -dir : dir;\n    function findNextLine() {\n      var l = pos.line + lineDir;\n      if (l < doc.first || l >= doc.first + doc.size) { return false }\n      pos = new Pos(l, pos.ch, pos.sticky);\n      return lineObj = getLine(doc, l)\n    }\n    function moveOnce(boundToLine) {\n      var next;\n      if (unit == \"codepoint\") {\n        var ch = lineObj.text.charCodeAt(pos.ch + (dir > 0 ? 0 : -1));\n        if (isNaN(ch)) {\n          next = null;\n        } else {\n          var astral = dir > 0 ? ch >= 0xD800 && ch < 0xDC00 : ch >= 0xDC00 && ch < 0xDFFF;\n          next = new Pos(pos.line, Math.max(0, Math.min(lineObj.text.length, pos.ch + dir * (astral ? 2 : 1))), -dir);\n        }\n      } else if (visually) {\n        next = moveVisually(doc.cm, lineObj, pos, dir);\n      } else {\n        next = moveLogically(lineObj, pos, dir);\n      }\n      if (next == null) {\n        if (!boundToLine && findNextLine())\n          { pos = endOfLine(visually, doc.cm, lineObj, pos.line, lineDir); }\n        else\n          { return false }\n      } else {\n        pos = next;\n      }\n      return true\n    }\n\n    if (unit == \"char\" || unit == \"codepoint\") {\n      moveOnce();\n    } else if (unit == \"column\") {\n      moveOnce(true);\n    } else if (unit == \"word\" || unit == \"group\") {\n      var sawType = null, group = unit == \"group\";\n      var helper = doc.cm && doc.cm.getHelper(pos, \"wordChars\");\n      for (var first = true;; first = false) {\n        if (dir < 0 && !moveOnce(!first)) { break }\n        var cur = lineObj.text.charAt(pos.ch) || \"\\n\";\n        var type = isWordChar(cur, helper) ? \"w\"\n          : group && cur == \"\\n\" ? \"n\"\n          : !group || /\\s/.test(cur) ? null\n          : \"p\";\n        if (group && !first && !type) { type = \"s\"; }\n        if (sawType && sawType != type) {\n          if (dir < 0) {dir = 1; moveOnce(); pos.sticky = \"after\";}\n          break\n        }\n\n        if (type) { sawType = type; }\n        if (dir > 0 && !moveOnce(!first)) { break }\n      }\n    }\n    var result = skipAtomic(doc, pos, oldPos, origDir, true);\n    if (equalCursorPos(oldPos, result)) { result.hitSide = true; }\n    return result\n  }\n\n  // For relative vertical movement. Dir may be -1 or 1. Unit can be\n  // \"page\" or \"line\". The resulting position will have a hitSide=true\n  // property if it reached the end of the document.\n  function findPosV(cm, pos, dir, unit) {\n    var doc = cm.doc, x = pos.left, y;\n    if (unit == \"page\") {\n      var pageSize = Math.min(cm.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight);\n      var moveAmount = Math.max(pageSize - .5 * textHeight(cm.display), 3);\n      y = (dir > 0 ? pos.bottom : pos.top) + dir * moveAmount;\n\n    } else if (unit == \"line\") {\n      y = dir > 0 ? pos.bottom + 3 : pos.top - 3;\n    }\n    var target;\n    for (;;) {\n      target = coordsChar(cm, x, y);\n      if (!target.outside) { break }\n      if (dir < 0 ? y <= 0 : y >= doc.height) { target.hitSide = true; break }\n      y += dir * 5;\n    }\n    return target\n  }\n\n  // CONTENTEDITABLE INPUT STYLE\n\n  var ContentEditableInput = function(cm) {\n    this.cm = cm;\n    this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null;\n    this.polling = new Delayed();\n    this.composing = null;\n    this.gracePeriod = false;\n    this.readDOMTimeout = null;\n  };\n\n  ContentEditableInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = input.cm;\n    var div = input.div = display.lineDiv;\n    div.contentEditable = true;\n    disableBrowserMagic(div, cm.options.spellcheck, cm.options.autocorrect, cm.options.autocapitalize);\n\n    function belongsToInput(e) {\n      for (var t = e.target; t; t = t.parentNode) {\n        if (t == div) { return true }\n        if (/\\bCodeMirror-(?:line)?widget\\b/.test(t.className)) { break }\n      }\n      return false\n    }\n\n    on(div, \"paste\", function (e) {\n      if (!belongsToInput(e) || signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n      // IE doesn't fire input events, so we schedule a read for the pasted content in this way\n      if (ie_version <= 11) { setTimeout(operation(cm, function () { return this$1.updateFromDOM(); }), 20); }\n    });\n\n    on(div, \"compositionstart\", function (e) {\n      this$1.composing = {data: e.data, done: false};\n    });\n    on(div, \"compositionupdate\", function (e) {\n      if (!this$1.composing) { this$1.composing = {data: e.data, done: false}; }\n    });\n    on(div, \"compositionend\", function (e) {\n      if (this$1.composing) {\n        if (e.data != this$1.composing.data) { this$1.readFromDOMSoon(); }\n        this$1.composing.done = true;\n      }\n    });\n\n    on(div, \"touchstart\", function () { return input.forceCompositionEnd(); });\n\n    on(div, \"input\", function () {\n      if (!this$1.composing) { this$1.readFromDOMSoon(); }\n    });\n\n    function onCopyCut(e) {\n      if (!belongsToInput(e) || signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n        if (e.type == \"cut\") { cm.replaceSelection(\"\", null, \"cut\"); }\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.operation(function () {\n            cm.setSelections(ranges.ranges, 0, sel_dontScroll);\n            cm.replaceSelection(\"\", null, \"cut\");\n          });\n        }\n      }\n      if (e.clipboardData) {\n        e.clipboardData.clearData();\n        var content = lastCopied.text.join(\"\\n\");\n        // iOS exposes the clipboard API, but seems to discard content inserted into it\n        e.clipboardData.setData(\"Text\", content);\n        if (e.clipboardData.getData(\"Text\") == content) {\n          e.preventDefault();\n          return\n        }\n      }\n      // Old-fashioned briefly-focus-a-textarea hack\n      var kludge = hiddenTextarea(), te = kludge.firstChild;\n      cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild);\n      te.value = lastCopied.text.join(\"\\n\");\n      var hadFocus = activeElt();\n      selectInput(te);\n      setTimeout(function () {\n        cm.display.lineSpace.removeChild(kludge);\n        hadFocus.focus();\n        if (hadFocus == div) { input.showPrimarySelection(); }\n      }, 50);\n    }\n    on(div, \"copy\", onCopyCut);\n    on(div, \"cut\", onCopyCut);\n  };\n\n  ContentEditableInput.prototype.screenReaderLabelChanged = function (label) {\n    // Label for screenreaders, accessibility\n    if(label) {\n      this.div.setAttribute('aria-label', label);\n    } else {\n      this.div.removeAttribute('aria-label');\n    }\n  };\n\n  ContentEditableInput.prototype.prepareSelection = function () {\n    var result = prepareSelection(this.cm, false);\n    result.focus = activeElt() == this.div;\n    return result\n  };\n\n  ContentEditableInput.prototype.showSelection = function (info, takeFocus) {\n    if (!info || !this.cm.display.view.length) { return }\n    if (info.focus || takeFocus) { this.showPrimarySelection(); }\n    this.showMultipleSelections(info);\n  };\n\n  ContentEditableInput.prototype.getSelection = function () {\n    return this.cm.display.wrapper.ownerDocument.getSelection()\n  };\n\n  ContentEditableInput.prototype.showPrimarySelection = function () {\n    var sel = this.getSelection(), cm = this.cm, prim = cm.doc.sel.primary();\n    var from = prim.from(), to = prim.to();\n\n    if (cm.display.viewTo == cm.display.viewFrom || from.line >= cm.display.viewTo || to.line < cm.display.viewFrom) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var curAnchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var curFocus = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad &&\n        cmp(minPos(curAnchor, curFocus), from) == 0 &&\n        cmp(maxPos(curAnchor, curFocus), to) == 0)\n      { return }\n\n    var view = cm.display.view;\n    var start = (from.line >= cm.display.viewFrom && posToDOM(cm, from)) ||\n        {node: view[0].measure.map[2], offset: 0};\n    var end = to.line < cm.display.viewTo && posToDOM(cm, to);\n    if (!end) {\n      var measure = view[view.length - 1].measure;\n      var map = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map;\n      end = {node: map[map.length - 1], offset: map[map.length - 2] - map[map.length - 3]};\n    }\n\n    if (!start || !end) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var old = sel.rangeCount && sel.getRangeAt(0), rng;\n    try { rng = range(start.node, start.offset, end.offset, end.node); }\n    catch(e) {} // Our model of the DOM might be outdated, in which case the range we try to set can be impossible\n    if (rng) {\n      if (!gecko && cm.state.focused) {\n        sel.collapse(start.node, start.offset);\n        if (!rng.collapsed) {\n          sel.removeAllRanges();\n          sel.addRange(rng);\n        }\n      } else {\n        sel.removeAllRanges();\n        sel.addRange(rng);\n      }\n      if (old && sel.anchorNode == null) { sel.addRange(old); }\n      else if (gecko) { this.startGracePeriod(); }\n    }\n    this.rememberSelection();\n  };\n\n  ContentEditableInput.prototype.startGracePeriod = function () {\n      var this$1 = this;\n\n    clearTimeout(this.gracePeriod);\n    this.gracePeriod = setTimeout(function () {\n      this$1.gracePeriod = false;\n      if (this$1.selectionChanged())\n        { this$1.cm.operation(function () { return this$1.cm.curOp.selectionChanged = true; }); }\n    }, 20);\n  };\n\n  ContentEditableInput.prototype.showMultipleSelections = function (info) {\n    removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors);\n    removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection);\n  };\n\n  ContentEditableInput.prototype.rememberSelection = function () {\n    var sel = this.getSelection();\n    this.lastAnchorNode = sel.anchorNode; this.lastAnchorOffset = sel.anchorOffset;\n    this.lastFocusNode = sel.focusNode; this.lastFocusOffset = sel.focusOffset;\n  };\n\n  ContentEditableInput.prototype.selectionInEditor = function () {\n    var sel = this.getSelection();\n    if (!sel.rangeCount) { return false }\n    var node = sel.getRangeAt(0).commonAncestorContainer;\n    return contains(this.div, node)\n  };\n\n  ContentEditableInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\") {\n      if (!this.selectionInEditor() || activeElt() != this.div)\n        { this.showSelection(this.prepareSelection(), true); }\n      this.div.focus();\n    }\n  };\n  ContentEditableInput.prototype.blur = function () { this.div.blur(); };\n  ContentEditableInput.prototype.getField = function () { return this.div };\n\n  ContentEditableInput.prototype.supportsTouch = function () { return true };\n\n  ContentEditableInput.prototype.receivedFocus = function () {\n      var this$1 = this;\n\n    var input = this;\n    if (this.selectionInEditor())\n      { setTimeout(function () { return this$1.pollSelection(); }, 20); }\n    else\n      { runInOp(this.cm, function () { return input.cm.curOp.selectionChanged = true; }); }\n\n    function poll() {\n      if (input.cm.state.focused) {\n        input.pollSelection();\n        input.polling.set(input.cm.options.pollInterval, poll);\n      }\n    }\n    this.polling.set(this.cm.options.pollInterval, poll);\n  };\n\n  ContentEditableInput.prototype.selectionChanged = function () {\n    var sel = this.getSelection();\n    return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset ||\n      sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset\n  };\n\n  ContentEditableInput.prototype.pollSelection = function () {\n    if (this.readDOMTimeout != null || this.gracePeriod || !this.selectionChanged()) { return }\n    var sel = this.getSelection(), cm = this.cm;\n    // On Android Chrome (version 56, at least), backspacing into an\n    // uneditable block element will put the cursor in that element,\n    // and then, because it's not editable, hide the virtual keyboard.\n    // Because Android doesn't allow us to actually detect backspace\n    // presses in a sane way, this code checks for when that happens\n    // and simulates a backspace press in this case.\n    if (android && chrome && this.cm.display.gutterSpecs.length && isInGutter(sel.anchorNode)) {\n      this.cm.triggerOnKeyDown({type: \"keydown\", keyCode: 8, preventDefault: Math.abs});\n      this.blur();\n      this.focus();\n      return\n    }\n    if (this.composing) { return }\n    this.rememberSelection();\n    var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var head = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (anchor && head) { runInOp(cm, function () {\n      setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll);\n      if (anchor.bad || head.bad) { cm.curOp.selectionChanged = true; }\n    }); }\n  };\n\n  ContentEditableInput.prototype.pollContent = function () {\n    if (this.readDOMTimeout != null) {\n      clearTimeout(this.readDOMTimeout);\n      this.readDOMTimeout = null;\n    }\n\n    var cm = this.cm, display = cm.display, sel = cm.doc.sel.primary();\n    var from = sel.from(), to = sel.to();\n    if (from.ch == 0 && from.line > cm.firstLine())\n      { from = Pos(from.line - 1, getLine(cm.doc, from.line - 1).length); }\n    if (to.ch == getLine(cm.doc, to.line).text.length && to.line < cm.lastLine())\n      { to = Pos(to.line + 1, 0); }\n    if (from.line < display.viewFrom || to.line > display.viewTo - 1) { return false }\n\n    var fromIndex, fromLine, fromNode;\n    if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {\n      fromLine = lineNo(display.view[0].line);\n      fromNode = display.view[0].node;\n    } else {\n      fromLine = lineNo(display.view[fromIndex].line);\n      fromNode = display.view[fromIndex - 1].node.nextSibling;\n    }\n    var toIndex = findViewIndex(cm, to.line);\n    var toLine, toNode;\n    if (toIndex == display.view.length - 1) {\n      toLine = display.viewTo - 1;\n      toNode = display.lineDiv.lastChild;\n    } else {\n      toLine = lineNo(display.view[toIndex + 1].line) - 1;\n      toNode = display.view[toIndex + 1].node.previousSibling;\n    }\n\n    if (!fromNode) { return false }\n    var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine));\n    var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length));\n    while (newText.length > 1 && oldText.length > 1) {\n      if (lst(newText) == lst(oldText)) { newText.pop(); oldText.pop(); toLine--; }\n      else if (newText[0] == oldText[0]) { newText.shift(); oldText.shift(); fromLine++; }\n      else { break }\n    }\n\n    var cutFront = 0, cutEnd = 0;\n    var newTop = newText[0], oldTop = oldText[0], maxCutFront = Math.min(newTop.length, oldTop.length);\n    while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront))\n      { ++cutFront; }\n    var newBot = lst(newText), oldBot = lst(oldText);\n    var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0),\n                             oldBot.length - (oldText.length == 1 ? cutFront : 0));\n    while (cutEnd < maxCutEnd &&\n           newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1))\n      { ++cutEnd; }\n    // Try to move start of change to start of selection if ambiguous\n    if (newText.length == 1 && oldText.length == 1 && fromLine == from.line) {\n      while (cutFront && cutFront > from.ch &&\n             newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1)) {\n        cutFront--;\n        cutEnd++;\n      }\n    }\n\n    newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd).replace(/^\\u200b+/, \"\");\n    newText[0] = newText[0].slice(cutFront).replace(/\\u200b+$/, \"\");\n\n    var chFrom = Pos(fromLine, cutFront);\n    var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0);\n    if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {\n      replaceRange(cm.doc, newText, chFrom, chTo, \"+input\");\n      return true\n    }\n  };\n\n  ContentEditableInput.prototype.ensurePolled = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.reset = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.forceCompositionEnd = function () {\n    if (!this.composing) { return }\n    clearTimeout(this.readDOMTimeout);\n    this.composing = null;\n    this.updateFromDOM();\n    this.div.blur();\n    this.div.focus();\n  };\n  ContentEditableInput.prototype.readFromDOMSoon = function () {\n      var this$1 = this;\n\n    if (this.readDOMTimeout != null) { return }\n    this.readDOMTimeout = setTimeout(function () {\n      this$1.readDOMTimeout = null;\n      if (this$1.composing) {\n        if (this$1.composing.done) { this$1.composing = null; }\n        else { return }\n      }\n      this$1.updateFromDOM();\n    }, 80);\n  };\n\n  ContentEditableInput.prototype.updateFromDOM = function () {\n      var this$1 = this;\n\n    if (this.cm.isReadOnly() || !this.pollContent())\n      { runInOp(this.cm, function () { return regChange(this$1.cm); }); }\n  };\n\n  ContentEditableInput.prototype.setUneditable = function (node) {\n    node.contentEditable = \"false\";\n  };\n\n  ContentEditableInput.prototype.onKeyPress = function (e) {\n    if (e.charCode == 0 || this.composing) { return }\n    e.preventDefault();\n    if (!this.cm.isReadOnly())\n      { operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0); }\n  };\n\n  ContentEditableInput.prototype.readOnlyChanged = function (val) {\n    this.div.contentEditable = String(val != \"nocursor\");\n  };\n\n  ContentEditableInput.prototype.onContextMenu = function () {};\n  ContentEditableInput.prototype.resetPosition = function () {};\n\n  ContentEditableInput.prototype.needsContentAttribute = true;\n\n  function posToDOM(cm, pos) {\n    var view = findViewForLine(cm, pos.line);\n    if (!view || view.hidden) { return null }\n    var line = getLine(cm.doc, pos.line);\n    var info = mapFromLineView(view, line, pos.line);\n\n    var order = getOrder(line, cm.doc.direction), side = \"left\";\n    if (order) {\n      var partPos = getBidiPartAt(order, pos.ch);\n      side = partPos % 2 ? \"right\" : \"left\";\n    }\n    var result = nodeAndOffsetInLineMap(info.map, pos.ch, side);\n    result.offset = result.collapse == \"right\" ? result.end : result.start;\n    return result\n  }\n\n  function isInGutter(node) {\n    for (var scan = node; scan; scan = scan.parentNode)\n      { if (/CodeMirror-gutter-wrapper/.test(scan.className)) { return true } }\n    return false\n  }\n\n  function badPos(pos, bad) { if (bad) { pos.bad = true; } return pos }\n\n  function domTextBetween(cm, from, to, fromLine, toLine) {\n    var text = \"\", closing = false, lineSep = cm.doc.lineSeparator(), extraLinebreak = false;\n    function recognizeMarker(id) { return function (marker) { return marker.id == id; } }\n    function close() {\n      if (closing) {\n        text += lineSep;\n        if (extraLinebreak) { text += lineSep; }\n        closing = extraLinebreak = false;\n      }\n    }\n    function addText(str) {\n      if (str) {\n        close();\n        text += str;\n      }\n    }\n    function walk(node) {\n      if (node.nodeType == 1) {\n        var cmText = node.getAttribute(\"cm-text\");\n        if (cmText) {\n          addText(cmText);\n          return\n        }\n        var markerID = node.getAttribute(\"cm-marker\"), range;\n        if (markerID) {\n          var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID));\n          if (found.length && (range = found[0].find(0)))\n            { addText(getBetween(cm.doc, range.from, range.to).join(lineSep)); }\n          return\n        }\n        if (node.getAttribute(\"contenteditable\") == \"false\") { return }\n        var isBlock = /^(pre|div|p|li|table|br)$/i.test(node.nodeName);\n        if (!/^br$/i.test(node.nodeName) && node.textContent.length == 0) { return }\n\n        if (isBlock) { close(); }\n        for (var i = 0; i < node.childNodes.length; i++)\n          { walk(node.childNodes[i]); }\n\n        if (/^(pre|p)$/i.test(node.nodeName)) { extraLinebreak = true; }\n        if (isBlock) { closing = true; }\n      } else if (node.nodeType == 3) {\n        addText(node.nodeValue.replace(/\\u200b/g, \"\").replace(/\\u00a0/g, \" \"));\n      }\n    }\n    for (;;) {\n      walk(from);\n      if (from == to) { break }\n      from = from.nextSibling;\n      extraLinebreak = false;\n    }\n    return text\n  }\n\n  function domToPos(cm, node, offset) {\n    var lineNode;\n    if (node == cm.display.lineDiv) {\n      lineNode = cm.display.lineDiv.childNodes[offset];\n      if (!lineNode) { return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true) }\n      node = null; offset = 0;\n    } else {\n      for (lineNode = node;; lineNode = lineNode.parentNode) {\n        if (!lineNode || lineNode == cm.display.lineDiv) { return null }\n        if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) { break }\n      }\n    }\n    for (var i = 0; i < cm.display.view.length; i++) {\n      var lineView = cm.display.view[i];\n      if (lineView.node == lineNode)\n        { return locateNodeInLineView(lineView, node, offset) }\n    }\n  }\n\n  function locateNodeInLineView(lineView, node, offset) {\n    var wrapper = lineView.text.firstChild, bad = false;\n    if (!node || !contains(wrapper, node)) { return badPos(Pos(lineNo(lineView.line), 0), true) }\n    if (node == wrapper) {\n      bad = true;\n      node = wrapper.childNodes[offset];\n      offset = 0;\n      if (!node) {\n        var line = lineView.rest ? lst(lineView.rest) : lineView.line;\n        return badPos(Pos(lineNo(line), line.text.length), bad)\n      }\n    }\n\n    var textNode = node.nodeType == 3 ? node : null, topNode = node;\n    if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {\n      textNode = node.firstChild;\n      if (offset) { offset = textNode.nodeValue.length; }\n    }\n    while (topNode.parentNode != wrapper) { topNode = topNode.parentNode; }\n    var measure = lineView.measure, maps = measure.maps;\n\n    function find(textNode, topNode, offset) {\n      for (var i = -1; i < (maps ? maps.length : 0); i++) {\n        var map = i < 0 ? measure.map : maps[i];\n        for (var j = 0; j < map.length; j += 3) {\n          var curNode = map[j + 2];\n          if (curNode == textNode || curNode == topNode) {\n            var line = lineNo(i < 0 ? lineView.line : lineView.rest[i]);\n            var ch = map[j] + offset;\n            if (offset < 0 || curNode != textNode) { ch = map[j + (offset ? 1 : 0)]; }\n            return Pos(line, ch)\n          }\n        }\n      }\n    }\n    var found = find(textNode, topNode, offset);\n    if (found) { return badPos(found, bad) }\n\n    // FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems\n    for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {\n      found = find(after, after.firstChild, 0);\n      if (found)\n        { return badPos(Pos(found.line, found.ch - dist), bad) }\n      else\n        { dist += after.textContent.length; }\n    }\n    for (var before = topNode.previousSibling, dist$1 = offset; before; before = before.previousSibling) {\n      found = find(before, before.firstChild, -1);\n      if (found)\n        { return badPos(Pos(found.line, found.ch + dist$1), bad) }\n      else\n        { dist$1 += before.textContent.length; }\n    }\n  }\n\n  // TEXTAREA INPUT STYLE\n\n  var TextareaInput = function(cm) {\n    this.cm = cm;\n    // See input.poll and input.reset\n    this.prevInput = \"\";\n\n    // Flag that indicates whether we expect input to appear real soon\n    // now (after some event like 'keypress' or 'input') and are\n    // polling intensively.\n    this.pollingFast = false;\n    // Self-resetting timeout for the poller\n    this.polling = new Delayed();\n    // Used to work around IE issue with selection being forgotten when focus moves away from textarea\n    this.hasSelection = false;\n    this.composing = null;\n  };\n\n  TextareaInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = this.cm;\n    this.createField(display);\n    var te = this.textarea;\n\n    display.wrapper.insertBefore(this.wrapper, display.wrapper.firstChild);\n\n    // Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)\n    if (ios) { te.style.width = \"0px\"; }\n\n    on(te, \"input\", function () {\n      if (ie && ie_version >= 9 && this$1.hasSelection) { this$1.hasSelection = null; }\n      input.poll();\n    });\n\n    on(te, \"paste\", function (e) {\n      if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n\n      cm.state.pasteIncoming = +new Date;\n      input.fastPoll();\n    });\n\n    function prepareCopyCut(e) {\n      if (signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.setSelections(ranges.ranges, null, sel_dontScroll);\n        } else {\n          input.prevInput = \"\";\n          te.value = ranges.text.join(\"\\n\");\n          selectInput(te);\n        }\n      }\n      if (e.type == \"cut\") { cm.state.cutIncoming = +new Date; }\n    }\n    on(te, \"cut\", prepareCopyCut);\n    on(te, \"copy\", prepareCopyCut);\n\n    on(display.scroller, \"paste\", function (e) {\n      if (eventInWidget(display, e) || signalDOMEvent(cm, e)) { return }\n      if (!te.dispatchEvent) {\n        cm.state.pasteIncoming = +new Date;\n        input.focus();\n        return\n      }\n\n      // Pass the `paste` event to the textarea so it's handled by its event listener.\n      var event = new Event(\"paste\");\n      event.clipboardData = e.clipboardData;\n      te.dispatchEvent(event);\n    });\n\n    // Prevent normal selection in the editor (we handle our own)\n    on(display.lineSpace, \"selectstart\", function (e) {\n      if (!eventInWidget(display, e)) { e_preventDefault(e); }\n    });\n\n    on(te, \"compositionstart\", function () {\n      var start = cm.getCursor(\"from\");\n      if (input.composing) { input.composing.range.clear(); }\n      input.composing = {\n        start: start,\n        range: cm.markText(start, cm.getCursor(\"to\"), {className: \"CodeMirror-composing\"})\n      };\n    });\n    on(te, \"compositionend\", function () {\n      if (input.composing) {\n        input.poll();\n        input.composing.range.clear();\n        input.composing = null;\n      }\n    });\n  };\n\n  TextareaInput.prototype.createField = function (_display) {\n    // Wraps and hides input textarea\n    this.wrapper = hiddenTextarea();\n    // The semihidden textarea that is focused when the editor is\n    // focused, and receives input.\n    this.textarea = this.wrapper.firstChild;\n  };\n\n  TextareaInput.prototype.screenReaderLabelChanged = function (label) {\n    // Label for screenreaders, accessibility\n    if(label) {\n      this.textarea.setAttribute('aria-label', label);\n    } else {\n      this.textarea.removeAttribute('aria-label');\n    }\n  };\n\n  TextareaInput.prototype.prepareSelection = function () {\n    // Redraw the selection and/or cursor\n    var cm = this.cm, display = cm.display, doc = cm.doc;\n    var result = prepareSelection(cm);\n\n    // Move the hidden textarea near the cursor to prevent scrolling artifacts\n    if (cm.options.moveInputWithCursor) {\n      var headPos = cursorCoords(cm, doc.sel.primary().head, \"div\");\n      var wrapOff = display.wrapper.getBoundingClientRect(), lineOff = display.lineDiv.getBoundingClientRect();\n      result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10,\n                                          headPos.top + lineOff.top - wrapOff.top));\n      result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10,\n                                           headPos.left + lineOff.left - wrapOff.left));\n    }\n\n    return result\n  };\n\n  TextareaInput.prototype.showSelection = function (drawn) {\n    var cm = this.cm, display = cm.display;\n    removeChildrenAndAdd(display.cursorDiv, drawn.cursors);\n    removeChildrenAndAdd(display.selectionDiv, drawn.selection);\n    if (drawn.teTop != null) {\n      this.wrapper.style.top = drawn.teTop + \"px\";\n      this.wrapper.style.left = drawn.teLeft + \"px\";\n    }\n  };\n\n  // Reset the input to correspond to the selection (or to be empty,\n  // when not typing and nothing is selected)\n  TextareaInput.prototype.reset = function (typing) {\n    if (this.contextMenuPending || this.composing) { return }\n    var cm = this.cm;\n    if (cm.somethingSelected()) {\n      this.prevInput = \"\";\n      var content = cm.getSelection();\n      this.textarea.value = content;\n      if (cm.state.focused) { selectInput(this.textarea); }\n      if (ie && ie_version >= 9) { this.hasSelection = content; }\n    } else if (!typing) {\n      this.prevInput = this.textarea.value = \"\";\n      if (ie && ie_version >= 9) { this.hasSelection = null; }\n    }\n  };\n\n  TextareaInput.prototype.getField = function () { return this.textarea };\n\n  TextareaInput.prototype.supportsTouch = function () { return false };\n\n  TextareaInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\" && (!mobile || activeElt() != this.textarea)) {\n      try { this.textarea.focus(); }\n      catch (e) {} // IE8 will throw if the textarea is display: none or not in DOM\n    }\n  };\n\n  TextareaInput.prototype.blur = function () { this.textarea.blur(); };\n\n  TextareaInput.prototype.resetPosition = function () {\n    this.wrapper.style.top = this.wrapper.style.left = 0;\n  };\n\n  TextareaInput.prototype.receivedFocus = function () { this.slowPoll(); };\n\n  // Poll for input changes, using the normal rate of polling. This\n  // runs as long as the editor is focused.\n  TextareaInput.prototype.slowPoll = function () {\n      var this$1 = this;\n\n    if (this.pollingFast) { return }\n    this.polling.set(this.cm.options.pollInterval, function () {\n      this$1.poll();\n      if (this$1.cm.state.focused) { this$1.slowPoll(); }\n    });\n  };\n\n  // When an event has just come in that is likely to add or change\n  // something in the input textarea, we poll faster, to ensure that\n  // the change appears on the screen quickly.\n  TextareaInput.prototype.fastPoll = function () {\n    var missed = false, input = this;\n    input.pollingFast = true;\n    function p() {\n      var changed = input.poll();\n      if (!changed && !missed) {missed = true; input.polling.set(60, p);}\n      else {input.pollingFast = false; input.slowPoll();}\n    }\n    input.polling.set(20, p);\n  };\n\n  // Read input from the textarea, and update the document to match.\n  // When something is selected, it is present in the textarea, and\n  // selected (unless it is huge, in which case a placeholder is\n  // used). When nothing is selected, the cursor sits after previously\n  // seen text (can be empty), which is stored in prevInput (we must\n  // not reset the textarea when typing, because that breaks IME).\n  TextareaInput.prototype.poll = function () {\n      var this$1 = this;\n\n    var cm = this.cm, input = this.textarea, prevInput = this.prevInput;\n    // Since this is called a *lot*, try to bail out as cheaply as\n    // possible when it is clear that nothing happened. hasSelection\n    // will be the case when there is a lot of text in the textarea,\n    // in which case reading its value would be expensive.\n    if (this.contextMenuPending || !cm.state.focused ||\n        (hasSelection(input) && !prevInput && !this.composing) ||\n        cm.isReadOnly() || cm.options.disableInput || cm.state.keySeq)\n      { return false }\n\n    var text = input.value;\n    // If nothing changed, bail.\n    if (text == prevInput && !cm.somethingSelected()) { return false }\n    // Work around nonsensical selection resetting in IE9/10, and\n    // inexplicable appearance of private area unicode characters on\n    // some key combos in Mac (#2689).\n    if (ie && ie_version >= 9 && this.hasSelection === text ||\n        mac && /[\\uf700-\\uf7ff]/.test(text)) {\n      cm.display.input.reset();\n      return false\n    }\n\n    if (cm.doc.sel == cm.display.selForContextMenu) {\n      var first = text.charCodeAt(0);\n      if (first == 0x200b && !prevInput) { prevInput = \"\\u200b\"; }\n      if (first == 0x21da) { this.reset(); return this.cm.execCommand(\"undo\") }\n    }\n    // Find the part of the input that is actually new\n    var same = 0, l = Math.min(prevInput.length, text.length);\n    while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) { ++same; }\n\n    runInOp(cm, function () {\n      applyTextInput(cm, text.slice(same), prevInput.length - same,\n                     null, this$1.composing ? \"*compose\" : null);\n\n      // Don't leave long text in the textarea, since it makes further polling slow\n      if (text.length > 1000 || text.indexOf(\"\\n\") > -1) { input.value = this$1.prevInput = \"\"; }\n      else { this$1.prevInput = text; }\n\n      if (this$1.composing) {\n        this$1.composing.range.clear();\n        this$1.composing.range = cm.markText(this$1.composing.start, cm.getCursor(\"to\"),\n                                           {className: \"CodeMirror-composing\"});\n      }\n    });\n    return true\n  };\n\n  TextareaInput.prototype.ensurePolled = function () {\n    if (this.pollingFast && this.poll()) { this.pollingFast = false; }\n  };\n\n  TextareaInput.prototype.onKeyPress = function () {\n    if (ie && ie_version >= 9) { this.hasSelection = null; }\n    this.fastPoll();\n  };\n\n  TextareaInput.prototype.onContextMenu = function (e) {\n    var input = this, cm = input.cm, display = cm.display, te = input.textarea;\n    if (input.contextMenuPending) { input.contextMenuPending(); }\n    var pos = posFromMouse(cm, e), scrollPos = display.scroller.scrollTop;\n    if (!pos || presto) { return } // Opera is difficult.\n\n    // Reset the current text selection only if the click is done outside of the selection\n    // and 'resetSelectionOnContextMenu' option is true.\n    var reset = cm.options.resetSelectionOnContextMenu;\n    if (reset && cm.doc.sel.contains(pos) == -1)\n      { operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll); }\n\n    var oldCSS = te.style.cssText, oldWrapperCSS = input.wrapper.style.cssText;\n    var wrapperBox = input.wrapper.offsetParent.getBoundingClientRect();\n    input.wrapper.style.cssText = \"position: static\";\n    te.style.cssText = \"position: absolute; width: 30px; height: 30px;\\n      top: \" + (e.clientY - wrapperBox.top - 5) + \"px; left: \" + (e.clientX - wrapperBox.left - 5) + \"px;\\n      z-index: 1000; background: \" + (ie ? \"rgba(255, 255, 255, .05)\" : \"transparent\") + \";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\";\n    var oldScrollY;\n    if (webkit) { oldScrollY = window.scrollY; } // Work around Chrome issue (#2712)\n    display.input.focus();\n    if (webkit) { window.scrollTo(null, oldScrollY); }\n    display.input.reset();\n    // Adds \"Select all\" to context menu in FF\n    if (!cm.somethingSelected()) { te.value = input.prevInput = \" \"; }\n    input.contextMenuPending = rehide;\n    display.selForContextMenu = cm.doc.sel;\n    clearTimeout(display.detectingSelectAll);\n\n    // Select-all will be greyed out if there's nothing to select, so\n    // this adds a zero-width space so that we can later check whether\n    // it got selected.\n    function prepareSelectAllHack() {\n      if (te.selectionStart != null) {\n        var selected = cm.somethingSelected();\n        var extval = \"\\u200b\" + (selected ? te.value : \"\");\n        te.value = \"\\u21da\"; // Used to catch context-menu undo\n        te.value = extval;\n        input.prevInput = selected ? \"\" : \"\\u200b\";\n        te.selectionStart = 1; te.selectionEnd = extval.length;\n        // Re-set this, in case some other handler touched the\n        // selection in the meantime.\n        display.selForContextMenu = cm.doc.sel;\n      }\n    }\n    function rehide() {\n      if (input.contextMenuPending != rehide) { return }\n      input.contextMenuPending = false;\n      input.wrapper.style.cssText = oldWrapperCSS;\n      te.style.cssText = oldCSS;\n      if (ie && ie_version < 9) { display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos); }\n\n      // Try to detect the user choosing select-all\n      if (te.selectionStart != null) {\n        if (!ie || (ie && ie_version < 9)) { prepareSelectAllHack(); }\n        var i = 0, poll = function () {\n          if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 &&\n              te.selectionEnd > 0 && input.prevInput == \"\\u200b\") {\n            operation(cm, selectAll)(cm);\n          } else if (i++ < 10) {\n            display.detectingSelectAll = setTimeout(poll, 500);\n          } else {\n            display.selForContextMenu = null;\n            display.input.reset();\n          }\n        };\n        display.detectingSelectAll = setTimeout(poll, 200);\n      }\n    }\n\n    if (ie && ie_version >= 9) { prepareSelectAllHack(); }\n    if (captureRightClick) {\n      e_stop(e);\n      var mouseup = function () {\n        off(window, \"mouseup\", mouseup);\n        setTimeout(rehide, 20);\n      };\n      on(window, \"mouseup\", mouseup);\n    } else {\n      setTimeout(rehide, 50);\n    }\n  };\n\n  TextareaInput.prototype.readOnlyChanged = function (val) {\n    if (!val) { this.reset(); }\n    this.textarea.disabled = val == \"nocursor\";\n    this.textarea.readOnly = !!val;\n  };\n\n  TextareaInput.prototype.setUneditable = function () {};\n\n  TextareaInput.prototype.needsContentAttribute = false;\n\n  function fromTextArea(textarea, options) {\n    options = options ? copyObj(options) : {};\n    options.value = textarea.value;\n    if (!options.tabindex && textarea.tabIndex)\n      { options.tabindex = textarea.tabIndex; }\n    if (!options.placeholder && textarea.placeholder)\n      { options.placeholder = textarea.placeholder; }\n    // Set autofocus to true if this textarea is focused, or if it has\n    // autofocus and no other element is focused.\n    if (options.autofocus == null) {\n      var hasFocus = activeElt();\n      options.autofocus = hasFocus == textarea ||\n        textarea.getAttribute(\"autofocus\") != null && hasFocus == document.body;\n    }\n\n    function save() {textarea.value = cm.getValue();}\n\n    var realSubmit;\n    if (textarea.form) {\n      on(textarea.form, \"submit\", save);\n      // Deplorable hack to make the submit method do the right thing.\n      if (!options.leaveSubmitMethodAlone) {\n        var form = textarea.form;\n        realSubmit = form.submit;\n        try {\n          var wrappedSubmit = form.submit = function () {\n            save();\n            form.submit = realSubmit;\n            form.submit();\n            form.submit = wrappedSubmit;\n          };\n        } catch(e) {}\n      }\n    }\n\n    options.finishInit = function (cm) {\n      cm.save = save;\n      cm.getTextArea = function () { return textarea; };\n      cm.toTextArea = function () {\n        cm.toTextArea = isNaN; // Prevent this from being ran twice\n        save();\n        textarea.parentNode.removeChild(cm.getWrapperElement());\n        textarea.style.display = \"\";\n        if (textarea.form) {\n          off(textarea.form, \"submit\", save);\n          if (!options.leaveSubmitMethodAlone && typeof textarea.form.submit == \"function\")\n            { textarea.form.submit = realSubmit; }\n        }\n      };\n    };\n\n    textarea.style.display = \"none\";\n    var cm = CodeMirror(function (node) { return textarea.parentNode.insertBefore(node, textarea.nextSibling); },\n      options);\n    return cm\n  }\n\n  function addLegacyProps(CodeMirror) {\n    CodeMirror.off = off;\n    CodeMirror.on = on;\n    CodeMirror.wheelEventPixels = wheelEventPixels;\n    CodeMirror.Doc = Doc;\n    CodeMirror.splitLines = splitLinesAuto;\n    CodeMirror.countColumn = countColumn;\n    CodeMirror.findColumn = findColumn;\n    CodeMirror.isWordChar = isWordCharBasic;\n    CodeMirror.Pass = Pass;\n    CodeMirror.signal = signal;\n    CodeMirror.Line = Line;\n    CodeMirror.changeEnd = changeEnd;\n    CodeMirror.scrollbarModel = scrollbarModel;\n    CodeMirror.Pos = Pos;\n    CodeMirror.cmpPos = cmp;\n    CodeMirror.modes = modes;\n    CodeMirror.mimeModes = mimeModes;\n    CodeMirror.resolveMode = resolveMode;\n    CodeMirror.getMode = getMode;\n    CodeMirror.modeExtensions = modeExtensions;\n    CodeMirror.extendMode = extendMode;\n    CodeMirror.copyState = copyState;\n    CodeMirror.startState = startState;\n    CodeMirror.innerMode = innerMode;\n    CodeMirror.commands = commands;\n    CodeMirror.keyMap = keyMap;\n    CodeMirror.keyName = keyName;\n    CodeMirror.isModifierKey = isModifierKey;\n    CodeMirror.lookupKey = lookupKey;\n    CodeMirror.normalizeKeyMap = normalizeKeyMap;\n    CodeMirror.StringStream = StringStream;\n    CodeMirror.SharedTextMarker = SharedTextMarker;\n    CodeMirror.TextMarker = TextMarker;\n    CodeMirror.LineWidget = LineWidget;\n    CodeMirror.e_preventDefault = e_preventDefault;\n    CodeMirror.e_stopPropagation = e_stopPropagation;\n    CodeMirror.e_stop = e_stop;\n    CodeMirror.addClass = addClass;\n    CodeMirror.contains = contains;\n    CodeMirror.rmClass = rmClass;\n    CodeMirror.keyNames = keyNames;\n  }\n\n  // EDITOR CONSTRUCTOR\n\n  defineOptions(CodeMirror);\n\n  addEditorMethods(CodeMirror);\n\n  // Set up methods on CodeMirror's prototype to redirect to the editor's document.\n  var dontDelegate = \"iter insert remove copy getEditor constructor\".split(\" \");\n  for (var prop in Doc.prototype) { if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0)\n    { CodeMirror.prototype[prop] = (function(method) {\n      return function() {return method.apply(this.doc, arguments)}\n    })(Doc.prototype[prop]); } }\n\n  eventMixin(Doc);\n  CodeMirror.inputStyles = {\"textarea\": TextareaInput, \"contenteditable\": ContentEditableInput};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  CodeMirror.defineMode = function(name/*, mode, */) {\n    if (!CodeMirror.defaults.mode && name != \"null\") { CodeMirror.defaults.mode = name; }\n    defineMode.apply(this, arguments);\n  };\n\n  CodeMirror.defineMIME = defineMIME;\n\n  // Minimal default mode.\n  CodeMirror.defineMode(\"null\", function () { return ({token: function (stream) { return stream.skipToEnd(); }}); });\n  CodeMirror.defineMIME(\"text/plain\", \"null\");\n\n  // EXTENSIONS\n\n  CodeMirror.defineExtension = function (name, func) {\n    CodeMirror.prototype[name] = func;\n  };\n  CodeMirror.defineDocExtension = function (name, func) {\n    Doc.prototype[name] = func;\n  };\n\n  CodeMirror.fromTextArea = fromTextArea;\n\n  addLegacyProps(CodeMirror);\n\n  CodeMirror.version = \"5.65.0\";\n\n  return CodeMirror;\n\n})));\n","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","/**\n * Diff Match and Patch\n * Copyright 2018 The diff-match-patch Authors.\n * https://github.com/google/diff-match-patch\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Computes the difference between two texts to create a patch.\n * Applies the patch onto another text, allowing for errors.\n * @author fraser@google.com (Neil Fraser)\n */\n\n/**\n * Class containing the diff, match and patch methods.\n * @constructor\n */\nvar diff_match_patch = function() {\n\n  // Defaults.\n  // Redefine these in your program to override the defaults.\n\n  // Number of seconds to map a diff before giving up (0 for infinity).\n  this.Diff_Timeout = 1.0;\n  // Cost of an empty edit operation in terms of edit characters.\n  this.Diff_EditCost = 4;\n  // At what point is no match declared (0.0 = perfection, 1.0 = very loose).\n  this.Match_Threshold = 0.5;\n  // How far to search for a match (0 = exact location, 1000+ = broad match).\n  // A match this many characters away from the expected location will add\n  // 1.0 to the score (0.0 is a perfect match).\n  this.Match_Distance = 1000;\n  // When deleting a large block of text (over ~64 characters), how close do\n  // the contents have to be to match the expected contents. (0.0 = perfection,\n  // 1.0 = very loose).  Note that Match_Threshold controls how closely the\n  // end points of a delete need to match.\n  this.Patch_DeleteThreshold = 0.5;\n  // Chunk size for context length.\n  this.Patch_Margin = 4;\n\n  // The number of bits in an int.\n  this.Match_MaxBits = 32;\n};\n\n\n//  DIFF FUNCTIONS\n\n\n/**\n * The data structure representing a diff is an array of tuples:\n * [[DIFF_DELETE, 'Hello'], [DIFF_INSERT, 'Goodbye'], [DIFF_EQUAL, ' world.']]\n * which means: delete 'Hello', add 'Goodbye' and keep ' world.'\n */\nvar DIFF_DELETE = -1;\nvar DIFF_INSERT = 1;\nvar DIFF_EQUAL = 0;\n\n/**\n * Class representing one diff tuple.\n * ~Attempts to look like a two-element array (which is what this used to be).~\n * Constructor returns an actual two-element array, to allow destructing @JackuB\n * See https://github.com/JackuB/diff-match-patch/issues/14 for details\n * @param {number} op Operation, one of: DIFF_DELETE, DIFF_INSERT, DIFF_EQUAL.\n * @param {string} text Text to be deleted, inserted, or retained.\n * @constructor\n */\ndiff_match_patch.Diff = function(op, text) {\n  return [op, text];\n};\n\n/**\n * Find the differences between two texts.  Simplifies the problem by stripping\n * any common prefix or suffix off the texts before diffing.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {boolean=} opt_checklines Optional speedup flag. If present and false,\n *     then don't run a line-level diff first to identify the changed areas.\n *     Defaults to true, which does a faster, slightly less optimal diff.\n * @param {number=} opt_deadline Optional time when the diff should be complete\n *     by.  Used internally for recursive calls.  Users should set DiffTimeout\n *     instead.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_main = function(text1, text2, opt_checklines,\n    opt_deadline) {\n  // Set a deadline by which time the diff must be complete.\n  if (typeof opt_deadline == 'undefined') {\n    if (this.Diff_Timeout <= 0) {\n      opt_deadline = Number.MAX_VALUE;\n    } else {\n      opt_deadline = (new Date).getTime() + this.Diff_Timeout * 1000;\n    }\n  }\n  var deadline = opt_deadline;\n\n  // Check for null inputs.\n  if (text1 == null || text2 == null) {\n    throw new Error('Null input. (diff_main)');\n  }\n\n  // Check for equality (speedup).\n  if (text1 == text2) {\n    if (text1) {\n      return [new diff_match_patch.Diff(DIFF_EQUAL, text1)];\n    }\n    return [];\n  }\n\n  if (typeof opt_checklines == 'undefined') {\n    opt_checklines = true;\n  }\n  var checklines = opt_checklines;\n\n  // Trim off common prefix (speedup).\n  var commonlength = this.diff_commonPrefix(text1, text2);\n  var commonprefix = text1.substring(0, commonlength);\n  text1 = text1.substring(commonlength);\n  text2 = text2.substring(commonlength);\n\n  // Trim off common suffix (speedup).\n  commonlength = this.diff_commonSuffix(text1, text2);\n  var commonsuffix = text1.substring(text1.length - commonlength);\n  text1 = text1.substring(0, text1.length - commonlength);\n  text2 = text2.substring(0, text2.length - commonlength);\n\n  // Compute the diff on the middle block.\n  var diffs = this.diff_compute_(text1, text2, checklines, deadline);\n\n  // Restore the prefix and suffix.\n  if (commonprefix) {\n    diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, commonprefix));\n  }\n  if (commonsuffix) {\n    diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, commonsuffix));\n  }\n  this.diff_cleanupMerge(diffs);\n  return diffs;\n};\n\n\n/**\n * Find the differences between two texts.  Assumes that the texts do not\n * have any common prefix or suffix.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {boolean} checklines Speedup flag.  If false, then don't run a\n *     line-level diff first to identify the changed areas.\n *     If true, then run a faster, slightly less optimal diff.\n * @param {number} deadline Time when the diff should be complete by.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_compute_ = function(text1, text2, checklines,\n    deadline) {\n  var diffs;\n\n  if (!text1) {\n    // Just add some text (speedup).\n    return [new diff_match_patch.Diff(DIFF_INSERT, text2)];\n  }\n\n  if (!text2) {\n    // Just delete some text (speedup).\n    return [new diff_match_patch.Diff(DIFF_DELETE, text1)];\n  }\n\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  var i = longtext.indexOf(shorttext);\n  if (i != -1) {\n    // Shorter text is inside the longer text (speedup).\n    diffs = [new diff_match_patch.Diff(DIFF_INSERT, longtext.substring(0, i)),\n             new diff_match_patch.Diff(DIFF_EQUAL, shorttext),\n             new diff_match_patch.Diff(DIFF_INSERT,\n                 longtext.substring(i + shorttext.length))];\n    // Swap insertions for deletions if diff is reversed.\n    if (text1.length > text2.length) {\n      diffs[0][0] = diffs[2][0] = DIFF_DELETE;\n    }\n    return diffs;\n  }\n\n  if (shorttext.length == 1) {\n    // Single character string.\n    // After the previous speedup, the character can't be an equality.\n    return [new diff_match_patch.Diff(DIFF_DELETE, text1),\n            new diff_match_patch.Diff(DIFF_INSERT, text2)];\n  }\n\n  // Check to see if the problem can be split in two.\n  var hm = this.diff_halfMatch_(text1, text2);\n  if (hm) {\n    // A half-match was found, sort out the return data.\n    var text1_a = hm[0];\n    var text1_b = hm[1];\n    var text2_a = hm[2];\n    var text2_b = hm[3];\n    var mid_common = hm[4];\n    // Send both pairs off for separate processing.\n    var diffs_a = this.diff_main(text1_a, text2_a, checklines, deadline);\n    var diffs_b = this.diff_main(text1_b, text2_b, checklines, deadline);\n    // Merge the results.\n    return diffs_a.concat([new diff_match_patch.Diff(DIFF_EQUAL, mid_common)],\n                          diffs_b);\n  }\n\n  if (checklines && text1.length > 100 && text2.length > 100) {\n    return this.diff_lineMode_(text1, text2, deadline);\n  }\n\n  return this.diff_bisect_(text1, text2, deadline);\n};\n\n\n/**\n * Do a quick line-level diff on both strings, then rediff the parts for\n * greater accuracy.\n * This speedup can produce non-minimal diffs.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} deadline Time when the diff should be complete by.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_lineMode_ = function(text1, text2, deadline) {\n  // Scan the text on a line-by-line basis first.\n  var a = this.diff_linesToChars_(text1, text2);\n  text1 = a.chars1;\n  text2 = a.chars2;\n  var linearray = a.lineArray;\n\n  var diffs = this.diff_main(text1, text2, false, deadline);\n\n  // Convert the diff back to original text.\n  this.diff_charsToLines_(diffs, linearray);\n  // Eliminate freak matches (e.g. blank lines)\n  this.diff_cleanupSemantic(diffs);\n\n  // Rediff any replacement blocks, this time character-by-character.\n  // Add a dummy entry at the end.\n  diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, ''));\n  var pointer = 0;\n  var count_delete = 0;\n  var count_insert = 0;\n  var text_delete = '';\n  var text_insert = '';\n  while (pointer < diffs.length) {\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        count_insert++;\n        text_insert += diffs[pointer][1];\n        break;\n      case DIFF_DELETE:\n        count_delete++;\n        text_delete += diffs[pointer][1];\n        break;\n      case DIFF_EQUAL:\n        // Upon reaching an equality, check for prior redundancies.\n        if (count_delete >= 1 && count_insert >= 1) {\n          // Delete the offending records and add the merged ones.\n          diffs.splice(pointer - count_delete - count_insert,\n                       count_delete + count_insert);\n          pointer = pointer - count_delete - count_insert;\n          var subDiff =\n              this.diff_main(text_delete, text_insert, false, deadline);\n          for (var j = subDiff.length - 1; j >= 0; j--) {\n            diffs.splice(pointer, 0, subDiff[j]);\n          }\n          pointer = pointer + subDiff.length;\n        }\n        count_insert = 0;\n        count_delete = 0;\n        text_delete = '';\n        text_insert = '';\n        break;\n    }\n    pointer++;\n  }\n  diffs.pop();  // Remove the dummy entry at the end.\n\n  return diffs;\n};\n\n\n/**\n * Find the 'middle snake' of a diff, split the problem in two\n * and return the recursively constructed diff.\n * See Myers 1986 paper: An O(ND) Difference Algorithm and Its Variations.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} deadline Time at which to bail if not yet complete.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_bisect_ = function(text1, text2, deadline) {\n  // Cache the text lengths to prevent multiple calls.\n  var text1_length = text1.length;\n  var text2_length = text2.length;\n  var max_d = Math.ceil((text1_length + text2_length) / 2);\n  var v_offset = max_d;\n  var v_length = 2 * max_d;\n  var v1 = new Array(v_length);\n  var v2 = new Array(v_length);\n  // Setting all elements to -1 is faster in Chrome & Firefox than mixing\n  // integers and undefined.\n  for (var x = 0; x < v_length; x++) {\n    v1[x] = -1;\n    v2[x] = -1;\n  }\n  v1[v_offset + 1] = 0;\n  v2[v_offset + 1] = 0;\n  var delta = text1_length - text2_length;\n  // If the total number of characters is odd, then the front path will collide\n  // with the reverse path.\n  var front = (delta % 2 != 0);\n  // Offsets for start and end of k loop.\n  // Prevents mapping of space beyond the grid.\n  var k1start = 0;\n  var k1end = 0;\n  var k2start = 0;\n  var k2end = 0;\n  for (var d = 0; d < max_d; d++) {\n    // Bail out if deadline is reached.\n    if ((new Date()).getTime() > deadline) {\n      break;\n    }\n\n    // Walk the front path one step.\n    for (var k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {\n      var k1_offset = v_offset + k1;\n      var x1;\n      if (k1 == -d || (k1 != d && v1[k1_offset - 1] < v1[k1_offset + 1])) {\n        x1 = v1[k1_offset + 1];\n      } else {\n        x1 = v1[k1_offset - 1] + 1;\n      }\n      var y1 = x1 - k1;\n      while (x1 < text1_length && y1 < text2_length &&\n             text1.charAt(x1) == text2.charAt(y1)) {\n        x1++;\n        y1++;\n      }\n      v1[k1_offset] = x1;\n      if (x1 > text1_length) {\n        // Ran off the right of the graph.\n        k1end += 2;\n      } else if (y1 > text2_length) {\n        // Ran off the bottom of the graph.\n        k1start += 2;\n      } else if (front) {\n        var k2_offset = v_offset + delta - k1;\n        if (k2_offset >= 0 && k2_offset < v_length && v2[k2_offset] != -1) {\n          // Mirror x2 onto top-left coordinate system.\n          var x2 = text1_length - v2[k2_offset];\n          if (x1 >= x2) {\n            // Overlap detected.\n            return this.diff_bisectSplit_(text1, text2, x1, y1, deadline);\n          }\n        }\n      }\n    }\n\n    // Walk the reverse path one step.\n    for (var k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {\n      var k2_offset = v_offset + k2;\n      var x2;\n      if (k2 == -d || (k2 != d && v2[k2_offset - 1] < v2[k2_offset + 1])) {\n        x2 = v2[k2_offset + 1];\n      } else {\n        x2 = v2[k2_offset - 1] + 1;\n      }\n      var y2 = x2 - k2;\n      while (x2 < text1_length && y2 < text2_length &&\n             text1.charAt(text1_length - x2 - 1) ==\n             text2.charAt(text2_length - y2 - 1)) {\n        x2++;\n        y2++;\n      }\n      v2[k2_offset] = x2;\n      if (x2 > text1_length) {\n        // Ran off the left of the graph.\n        k2end += 2;\n      } else if (y2 > text2_length) {\n        // Ran off the top of the graph.\n        k2start += 2;\n      } else if (!front) {\n        var k1_offset = v_offset + delta - k2;\n        if (k1_offset >= 0 && k1_offset < v_length && v1[k1_offset] != -1) {\n          var x1 = v1[k1_offset];\n          var y1 = v_offset + x1 - k1_offset;\n          // Mirror x2 onto top-left coordinate system.\n          x2 = text1_length - x2;\n          if (x1 >= x2) {\n            // Overlap detected.\n            return this.diff_bisectSplit_(text1, text2, x1, y1, deadline);\n          }\n        }\n      }\n    }\n  }\n  // Diff took too long and hit the deadline or\n  // number of diffs equals number of characters, no commonality at all.\n  return [new diff_match_patch.Diff(DIFF_DELETE, text1),\n          new diff_match_patch.Diff(DIFF_INSERT, text2)];\n};\n\n\n/**\n * Given the location of the 'middle snake', split the diff in two parts\n * and recurse.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} x Index of split point in text1.\n * @param {number} y Index of split point in text2.\n * @param {number} deadline Time at which to bail if not yet complete.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_bisectSplit_ = function(text1, text2, x, y,\n    deadline) {\n  var text1a = text1.substring(0, x);\n  var text2a = text2.substring(0, y);\n  var text1b = text1.substring(x);\n  var text2b = text2.substring(y);\n\n  // Compute both diffs serially.\n  var diffs = this.diff_main(text1a, text2a, false, deadline);\n  var diffsb = this.diff_main(text1b, text2b, false, deadline);\n\n  return diffs.concat(diffsb);\n};\n\n\n/**\n * Split two texts into an array of strings.  Reduce the texts to a string of\n * hashes where each Unicode character represents one line.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {{chars1: string, chars2: string, lineArray: !Array.<string>}}\n *     An object containing the encoded text1, the encoded text2 and\n *     the array of unique strings.\n *     The zeroth element of the array of unique strings is intentionally blank.\n * @private\n */\ndiff_match_patch.prototype.diff_linesToChars_ = function(text1, text2) {\n  var lineArray = [];  // e.g. lineArray[4] == 'Hello\\n'\n  var lineHash = {};   // e.g. lineHash['Hello\\n'] == 4\n\n  // '\\x00' is a valid character, but various debuggers don't like it.\n  // So we'll insert a junk entry to avoid generating a null character.\n  lineArray[0] = '';\n\n  /**\n   * Split a text into an array of strings.  Reduce the texts to a string of\n   * hashes where each Unicode character represents one line.\n   * Modifies linearray and linehash through being a closure.\n   * @param {string} text String to encode.\n   * @return {string} Encoded string.\n   * @private\n   */\n  function diff_linesToCharsMunge_(text) {\n    var chars = '';\n    // Walk the text, pulling out a substring for each line.\n    // text.split('\\n') would would temporarily double our memory footprint.\n    // Modifying text would create many large strings to garbage collect.\n    var lineStart = 0;\n    var lineEnd = -1;\n    // Keeping our own length variable is faster than looking it up.\n    var lineArrayLength = lineArray.length;\n    while (lineEnd < text.length - 1) {\n      lineEnd = text.indexOf('\\n', lineStart);\n      if (lineEnd == -1) {\n        lineEnd = text.length - 1;\n      }\n      var line = text.substring(lineStart, lineEnd + 1);\n\n      if (lineHash.hasOwnProperty ? lineHash.hasOwnProperty(line) :\n          (lineHash[line] !== undefined)) {\n        chars += String.fromCharCode(lineHash[line]);\n      } else {\n        if (lineArrayLength == maxLines) {\n          // Bail out at 65535 because\n          // String.fromCharCode(65536) == String.fromCharCode(0)\n          line = text.substring(lineStart);\n          lineEnd = text.length;\n        }\n        chars += String.fromCharCode(lineArrayLength);\n        lineHash[line] = lineArrayLength;\n        lineArray[lineArrayLength++] = line;\n      }\n      lineStart = lineEnd + 1;\n    }\n    return chars;\n  }\n  // Allocate 2/3rds of the space for text1, the rest for text2.\n  var maxLines = 40000;\n  var chars1 = diff_linesToCharsMunge_(text1);\n  maxLines = 65535;\n  var chars2 = diff_linesToCharsMunge_(text2);\n  return {chars1: chars1, chars2: chars2, lineArray: lineArray};\n};\n\n\n/**\n * Rehydrate the text in a diff from a string of line hashes to real lines of\n * text.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @param {!Array.<string>} lineArray Array of unique strings.\n * @private\n */\ndiff_match_patch.prototype.diff_charsToLines_ = function(diffs, lineArray) {\n  for (var i = 0; i < diffs.length; i++) {\n    var chars = diffs[i][1];\n    var text = [];\n    for (var j = 0; j < chars.length; j++) {\n      text[j] = lineArray[chars.charCodeAt(j)];\n    }\n    diffs[i][1] = text.join('');\n  }\n};\n\n\n/**\n * Determine the common prefix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the start of each\n *     string.\n */\ndiff_match_patch.prototype.diff_commonPrefix = function(text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 || text1.charAt(0) != text2.charAt(0)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: https://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerstart = 0;\n  while (pointermin < pointermid) {\n    if (text1.substring(pointerstart, pointermid) ==\n        text2.substring(pointerstart, pointermid)) {\n      pointermin = pointermid;\n      pointerstart = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n  return pointermid;\n};\n\n\n/**\n * Determine the common suffix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the end of each string.\n */\ndiff_match_patch.prototype.diff_commonSuffix = function(text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 ||\n      text1.charAt(text1.length - 1) != text2.charAt(text2.length - 1)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: https://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerend = 0;\n  while (pointermin < pointermid) {\n    if (text1.substring(text1.length - pointermid, text1.length - pointerend) ==\n        text2.substring(text2.length - pointermid, text2.length - pointerend)) {\n      pointermin = pointermid;\n      pointerend = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n  return pointermid;\n};\n\n\n/**\n * Determine if the suffix of one string is the prefix of another.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the end of the first\n *     string and the start of the second string.\n * @private\n */\ndiff_match_patch.prototype.diff_commonOverlap_ = function(text1, text2) {\n  // Cache the text lengths to prevent multiple calls.\n  var text1_length = text1.length;\n  var text2_length = text2.length;\n  // Eliminate the null case.\n  if (text1_length == 0 || text2_length == 0) {\n    return 0;\n  }\n  // Truncate the longer string.\n  if (text1_length > text2_length) {\n    text1 = text1.substring(text1_length - text2_length);\n  } else if (text1_length < text2_length) {\n    text2 = text2.substring(0, text1_length);\n  }\n  var text_length = Math.min(text1_length, text2_length);\n  // Quick check for the worst case.\n  if (text1 == text2) {\n    return text_length;\n  }\n\n  // Start by looking for a single character match\n  // and increase length until no match is found.\n  // Performance analysis: https://neil.fraser.name/news/2010/11/04/\n  var best = 0;\n  var length = 1;\n  while (true) {\n    var pattern = text1.substring(text_length - length);\n    var found = text2.indexOf(pattern);\n    if (found == -1) {\n      return best;\n    }\n    length += found;\n    if (found == 0 || text1.substring(text_length - length) ==\n        text2.substring(0, length)) {\n      best = length;\n      length++;\n    }\n  }\n};\n\n\n/**\n * Do the two texts share a substring which is at least half the length of the\n * longer text?\n * This speedup can produce non-minimal diffs.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {Array.<string>} Five element Array, containing the prefix of\n *     text1, the suffix of text1, the prefix of text2, the suffix of\n *     text2 and the common middle.  Or null if there was no match.\n * @private\n */\ndiff_match_patch.prototype.diff_halfMatch_ = function(text1, text2) {\n  if (this.Diff_Timeout <= 0) {\n    // Don't risk returning a non-optimal diff if we have unlimited time.\n    return null;\n  }\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  if (longtext.length < 4 || shorttext.length * 2 < longtext.length) {\n    return null;  // Pointless.\n  }\n  var dmp = this;  // 'this' becomes 'window' in a closure.\n\n  /**\n   * Does a substring of shorttext exist within longtext such that the substring\n   * is at least half the length of longtext?\n   * Closure, but does not reference any external variables.\n   * @param {string} longtext Longer string.\n   * @param {string} shorttext Shorter string.\n   * @param {number} i Start index of quarter length substring within longtext.\n   * @return {Array.<string>} Five element Array, containing the prefix of\n   *     longtext, the suffix of longtext, the prefix of shorttext, the suffix\n   *     of shorttext and the common middle.  Or null if there was no match.\n   * @private\n   */\n  function diff_halfMatchI_(longtext, shorttext, i) {\n    // Start with a 1/4 length substring at position i as a seed.\n    var seed = longtext.substring(i, i + Math.floor(longtext.length / 4));\n    var j = -1;\n    var best_common = '';\n    var best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b;\n    while ((j = shorttext.indexOf(seed, j + 1)) != -1) {\n      var prefixLength = dmp.diff_commonPrefix(longtext.substring(i),\n                                               shorttext.substring(j));\n      var suffixLength = dmp.diff_commonSuffix(longtext.substring(0, i),\n                                               shorttext.substring(0, j));\n      if (best_common.length < suffixLength + prefixLength) {\n        best_common = shorttext.substring(j - suffixLength, j) +\n            shorttext.substring(j, j + prefixLength);\n        best_longtext_a = longtext.substring(0, i - suffixLength);\n        best_longtext_b = longtext.substring(i + prefixLength);\n        best_shorttext_a = shorttext.substring(0, j - suffixLength);\n        best_shorttext_b = shorttext.substring(j + prefixLength);\n      }\n    }\n    if (best_common.length * 2 >= longtext.length) {\n      return [best_longtext_a, best_longtext_b,\n              best_shorttext_a, best_shorttext_b, best_common];\n    } else {\n      return null;\n    }\n  }\n\n  // First check if the second quarter is the seed for a half-match.\n  var hm1 = diff_halfMatchI_(longtext, shorttext,\n                             Math.ceil(longtext.length / 4));\n  // Check again based on the third quarter.\n  var hm2 = diff_halfMatchI_(longtext, shorttext,\n                             Math.ceil(longtext.length / 2));\n  var hm;\n  if (!hm1 && !hm2) {\n    return null;\n  } else if (!hm2) {\n    hm = hm1;\n  } else if (!hm1) {\n    hm = hm2;\n  } else {\n    // Both matched.  Select the longest.\n    hm = hm1[4].length > hm2[4].length ? hm1 : hm2;\n  }\n\n  // A half-match was found, sort out the return data.\n  var text1_a, text1_b, text2_a, text2_b;\n  if (text1.length > text2.length) {\n    text1_a = hm[0];\n    text1_b = hm[1];\n    text2_a = hm[2];\n    text2_b = hm[3];\n  } else {\n    text2_a = hm[0];\n    text2_b = hm[1];\n    text1_a = hm[2];\n    text1_b = hm[3];\n  }\n  var mid_common = hm[4];\n  return [text1_a, text1_b, text2_a, text2_b, mid_common];\n};\n\n\n/**\n * Reduce the number of edits by eliminating semantically trivial equalities.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupSemantic = function(diffs) {\n  var changes = false;\n  var equalities = [];  // Stack of indices where equalities are found.\n  var equalitiesLength = 0;  // Keeping our own length var is faster in JS.\n  /** @type {?string} */\n  var lastEquality = null;\n  // Always equal to diffs[equalities[equalitiesLength - 1]][1]\n  var pointer = 0;  // Index of current position.\n  // Number of characters that changed prior to the equality.\n  var length_insertions1 = 0;\n  var length_deletions1 = 0;\n  // Number of characters that changed after the equality.\n  var length_insertions2 = 0;\n  var length_deletions2 = 0;\n  while (pointer < diffs.length) {\n    if (diffs[pointer][0] == DIFF_EQUAL) {  // Equality found.\n      equalities[equalitiesLength++] = pointer;\n      length_insertions1 = length_insertions2;\n      length_deletions1 = length_deletions2;\n      length_insertions2 = 0;\n      length_deletions2 = 0;\n      lastEquality = diffs[pointer][1];\n    } else {  // An insertion or deletion.\n      if (diffs[pointer][0] == DIFF_INSERT) {\n        length_insertions2 += diffs[pointer][1].length;\n      } else {\n        length_deletions2 += diffs[pointer][1].length;\n      }\n      // Eliminate an equality that is smaller or equal to the edits on both\n      // sides of it.\n      if (lastEquality && (lastEquality.length <=\n          Math.max(length_insertions1, length_deletions1)) &&\n          (lastEquality.length <= Math.max(length_insertions2,\n                                           length_deletions2))) {\n        // Duplicate record.\n        diffs.splice(equalities[equalitiesLength - 1], 0,\n                     new diff_match_patch.Diff(DIFF_DELETE, lastEquality));\n        // Change second copy to insert.\n        diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT;\n        // Throw away the equality we just deleted.\n        equalitiesLength--;\n        // Throw away the previous equality (it needs to be reevaluated).\n        equalitiesLength--;\n        pointer = equalitiesLength > 0 ? equalities[equalitiesLength - 1] : -1;\n        length_insertions1 = 0;  // Reset the counters.\n        length_deletions1 = 0;\n        length_insertions2 = 0;\n        length_deletions2 = 0;\n        lastEquality = null;\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n\n  // Normalize the diff.\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n  this.diff_cleanupSemanticLossless(diffs);\n\n  // Find any overlaps between deletions and insertions.\n  // e.g: <del>abcxxx</del><ins>xxxdef</ins>\n  //   -> <del>abc</del>xxx<ins>def</ins>\n  // e.g: <del>xxxabc</del><ins>defxxx</ins>\n  //   -> <ins>def</ins>xxx<del>abc</del>\n  // Only extract an overlap if it is as big as the edit ahead or behind it.\n  pointer = 1;\n  while (pointer < diffs.length) {\n    if (diffs[pointer - 1][0] == DIFF_DELETE &&\n        diffs[pointer][0] == DIFF_INSERT) {\n      var deletion = diffs[pointer - 1][1];\n      var insertion = diffs[pointer][1];\n      var overlap_length1 = this.diff_commonOverlap_(deletion, insertion);\n      var overlap_length2 = this.diff_commonOverlap_(insertion, deletion);\n      if (overlap_length1 >= overlap_length2) {\n        if (overlap_length1 >= deletion.length / 2 ||\n            overlap_length1 >= insertion.length / 2) {\n          // Overlap found.  Insert an equality and trim the surrounding edits.\n          diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_EQUAL,\n              insertion.substring(0, overlap_length1)));\n          diffs[pointer - 1][1] =\n              deletion.substring(0, deletion.length - overlap_length1);\n          diffs[pointer + 1][1] = insertion.substring(overlap_length1);\n          pointer++;\n        }\n      } else {\n        if (overlap_length2 >= deletion.length / 2 ||\n            overlap_length2 >= insertion.length / 2) {\n          // Reverse overlap found.\n          // Insert an equality and swap and trim the surrounding edits.\n          diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_EQUAL,\n              deletion.substring(0, overlap_length2)));\n          diffs[pointer - 1][0] = DIFF_INSERT;\n          diffs[pointer - 1][1] =\n              insertion.substring(0, insertion.length - overlap_length2);\n          diffs[pointer + 1][0] = DIFF_DELETE;\n          diffs[pointer + 1][1] =\n              deletion.substring(overlap_length2);\n          pointer++;\n        }\n      }\n      pointer++;\n    }\n    pointer++;\n  }\n};\n\n\n/**\n * Look for single edits surrounded on both sides by equalities\n * which can be shifted sideways to align the edit to a word boundary.\n * e.g: The c<ins>at c</ins>ame. -> The <ins>cat </ins>came.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupSemanticLossless = function(diffs) {\n  /**\n   * Given two strings, compute a score representing whether the internal\n   * boundary falls on logical boundaries.\n   * Scores range from 6 (best) to 0 (worst).\n   * Closure, but does not reference any external variables.\n   * @param {string} one First string.\n   * @param {string} two Second string.\n   * @return {number} The score.\n   * @private\n   */\n  function diff_cleanupSemanticScore_(one, two) {\n    if (!one || !two) {\n      // Edges are the best.\n      return 6;\n    }\n\n    // Each port of this function behaves slightly differently due to\n    // subtle differences in each language's definition of things like\n    // 'whitespace'.  Since this function's purpose is largely cosmetic,\n    // the choice has been made to use each language's native features\n    // rather than force total conformity.\n    var char1 = one.charAt(one.length - 1);\n    var char2 = two.charAt(0);\n    var nonAlphaNumeric1 = char1.match(diff_match_patch.nonAlphaNumericRegex_);\n    var nonAlphaNumeric2 = char2.match(diff_match_patch.nonAlphaNumericRegex_);\n    var whitespace1 = nonAlphaNumeric1 &&\n        char1.match(diff_match_patch.whitespaceRegex_);\n    var whitespace2 = nonAlphaNumeric2 &&\n        char2.match(diff_match_patch.whitespaceRegex_);\n    var lineBreak1 = whitespace1 &&\n        char1.match(diff_match_patch.linebreakRegex_);\n    var lineBreak2 = whitespace2 &&\n        char2.match(diff_match_patch.linebreakRegex_);\n    var blankLine1 = lineBreak1 &&\n        one.match(diff_match_patch.blanklineEndRegex_);\n    var blankLine2 = lineBreak2 &&\n        two.match(diff_match_patch.blanklineStartRegex_);\n\n    if (blankLine1 || blankLine2) {\n      // Five points for blank lines.\n      return 5;\n    } else if (lineBreak1 || lineBreak2) {\n      // Four points for line breaks.\n      return 4;\n    } else if (nonAlphaNumeric1 && !whitespace1 && whitespace2) {\n      // Three points for end of sentences.\n      return 3;\n    } else if (whitespace1 || whitespace2) {\n      // Two points for whitespace.\n      return 2;\n    } else if (nonAlphaNumeric1 || nonAlphaNumeric2) {\n      // One point for non-alphanumeric.\n      return 1;\n    }\n    return 0;\n  }\n\n  var pointer = 1;\n  // Intentionally ignore the first and last element (don't need checking).\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] == DIFF_EQUAL &&\n        diffs[pointer + 1][0] == DIFF_EQUAL) {\n      // This is a single edit surrounded by equalities.\n      var equality1 = diffs[pointer - 1][1];\n      var edit = diffs[pointer][1];\n      var equality2 = diffs[pointer + 1][1];\n\n      // First, shift the edit as far left as possible.\n      var commonOffset = this.diff_commonSuffix(equality1, edit);\n      if (commonOffset) {\n        var commonString = edit.substring(edit.length - commonOffset);\n        equality1 = equality1.substring(0, equality1.length - commonOffset);\n        edit = commonString + edit.substring(0, edit.length - commonOffset);\n        equality2 = commonString + equality2;\n      }\n\n      // Second, step character by character right, looking for the best fit.\n      var bestEquality1 = equality1;\n      var bestEdit = edit;\n      var bestEquality2 = equality2;\n      var bestScore = diff_cleanupSemanticScore_(equality1, edit) +\n          diff_cleanupSemanticScore_(edit, equality2);\n      while (edit.charAt(0) === equality2.charAt(0)) {\n        equality1 += edit.charAt(0);\n        edit = edit.substring(1) + equality2.charAt(0);\n        equality2 = equality2.substring(1);\n        var score = diff_cleanupSemanticScore_(equality1, edit) +\n            diff_cleanupSemanticScore_(edit, equality2);\n        // The >= encourages trailing rather than leading whitespace on edits.\n        if (score >= bestScore) {\n          bestScore = score;\n          bestEquality1 = equality1;\n          bestEdit = edit;\n          bestEquality2 = equality2;\n        }\n      }\n\n      if (diffs[pointer - 1][1] != bestEquality1) {\n        // We have an improvement, save it back to the diff.\n        if (bestEquality1) {\n          diffs[pointer - 1][1] = bestEquality1;\n        } else {\n          diffs.splice(pointer - 1, 1);\n          pointer--;\n        }\n        diffs[pointer][1] = bestEdit;\n        if (bestEquality2) {\n          diffs[pointer + 1][1] = bestEquality2;\n        } else {\n          diffs.splice(pointer + 1, 1);\n          pointer--;\n        }\n      }\n    }\n    pointer++;\n  }\n};\n\n// Define some regex patterns for matching boundaries.\ndiff_match_patch.nonAlphaNumericRegex_ = /[^a-zA-Z0-9]/;\ndiff_match_patch.whitespaceRegex_ = /\\s/;\ndiff_match_patch.linebreakRegex_ = /[\\r\\n]/;\ndiff_match_patch.blanklineEndRegex_ = /\\n\\r?\\n$/;\ndiff_match_patch.blanklineStartRegex_ = /^\\r?\\n\\r?\\n/;\n\n/**\n * Reduce the number of edits by eliminating operationally trivial equalities.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupEfficiency = function(diffs) {\n  var changes = false;\n  var equalities = [];  // Stack of indices where equalities are found.\n  var equalitiesLength = 0;  // Keeping our own length var is faster in JS.\n  /** @type {?string} */\n  var lastEquality = null;\n  // Always equal to diffs[equalities[equalitiesLength - 1]][1]\n  var pointer = 0;  // Index of current position.\n  // Is there an insertion operation before the last equality.\n  var pre_ins = false;\n  // Is there a deletion operation before the last equality.\n  var pre_del = false;\n  // Is there an insertion operation after the last equality.\n  var post_ins = false;\n  // Is there a deletion operation after the last equality.\n  var post_del = false;\n  while (pointer < diffs.length) {\n    if (diffs[pointer][0] == DIFF_EQUAL) {  // Equality found.\n      if (diffs[pointer][1].length < this.Diff_EditCost &&\n          (post_ins || post_del)) {\n        // Candidate found.\n        equalities[equalitiesLength++] = pointer;\n        pre_ins = post_ins;\n        pre_del = post_del;\n        lastEquality = diffs[pointer][1];\n      } else {\n        // Not a candidate, and can never become one.\n        equalitiesLength = 0;\n        lastEquality = null;\n      }\n      post_ins = post_del = false;\n    } else {  // An insertion or deletion.\n      if (diffs[pointer][0] == DIFF_DELETE) {\n        post_del = true;\n      } else {\n        post_ins = true;\n      }\n      /*\n       * Five types to be split:\n       * <ins>A</ins><del>B</del>XY<ins>C</ins><del>D</del>\n       * <ins>A</ins>X<ins>C</ins><del>D</del>\n       * <ins>A</ins><del>B</del>X<ins>C</ins>\n       * <ins>A</del>X<ins>C</ins><del>D</del>\n       * <ins>A</ins><del>B</del>X<del>C</del>\n       */\n      if (lastEquality && ((pre_ins && pre_del && post_ins && post_del) ||\n                           ((lastEquality.length < this.Diff_EditCost / 2) &&\n                            (pre_ins + pre_del + post_ins + post_del) == 3))) {\n        // Duplicate record.\n        diffs.splice(equalities[equalitiesLength - 1], 0,\n                     new diff_match_patch.Diff(DIFF_DELETE, lastEquality));\n        // Change second copy to insert.\n        diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT;\n        equalitiesLength--;  // Throw away the equality we just deleted;\n        lastEquality = null;\n        if (pre_ins && pre_del) {\n          // No changes made which could affect previous entry, keep going.\n          post_ins = post_del = true;\n          equalitiesLength = 0;\n        } else {\n          equalitiesLength--;  // Throw away the previous equality.\n          pointer = equalitiesLength > 0 ?\n              equalities[equalitiesLength - 1] : -1;\n          post_ins = post_del = false;\n        }\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n};\n\n\n/**\n * Reorder and merge like edit sections.  Merge equalities.\n * Any edit section can move as long as it doesn't cross an equality.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupMerge = function(diffs) {\n  // Add a dummy entry at the end.\n  diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, ''));\n  var pointer = 0;\n  var count_delete = 0;\n  var count_insert = 0;\n  var text_delete = '';\n  var text_insert = '';\n  var commonlength;\n  while (pointer < diffs.length) {\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        count_insert++;\n        text_insert += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_DELETE:\n        count_delete++;\n        text_delete += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_EQUAL:\n        // Upon reaching an equality, check for prior redundancies.\n        if (count_delete + count_insert > 1) {\n          if (count_delete !== 0 && count_insert !== 0) {\n            // Factor out any common prefixies.\n            commonlength = this.diff_commonPrefix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              if ((pointer - count_delete - count_insert) > 0 &&\n                  diffs[pointer - count_delete - count_insert - 1][0] ==\n                  DIFF_EQUAL) {\n                diffs[pointer - count_delete - count_insert - 1][1] +=\n                    text_insert.substring(0, commonlength);\n              } else {\n                diffs.splice(0, 0, new diff_match_patch.Diff(DIFF_EQUAL,\n                    text_insert.substring(0, commonlength)));\n                pointer++;\n              }\n              text_insert = text_insert.substring(commonlength);\n              text_delete = text_delete.substring(commonlength);\n            }\n            // Factor out any common suffixies.\n            commonlength = this.diff_commonSuffix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              diffs[pointer][1] = text_insert.substring(text_insert.length -\n                  commonlength) + diffs[pointer][1];\n              text_insert = text_insert.substring(0, text_insert.length -\n                  commonlength);\n              text_delete = text_delete.substring(0, text_delete.length -\n                  commonlength);\n            }\n          }\n          // Delete the offending records and add the merged ones.\n          pointer -= count_delete + count_insert;\n          diffs.splice(pointer, count_delete + count_insert);\n          if (text_delete.length) {\n            diffs.splice(pointer, 0,\n                new diff_match_patch.Diff(DIFF_DELETE, text_delete));\n            pointer++;\n          }\n          if (text_insert.length) {\n            diffs.splice(pointer, 0,\n                new diff_match_patch.Diff(DIFF_INSERT, text_insert));\n            pointer++;\n          }\n          pointer++;\n        } else if (pointer !== 0 && diffs[pointer - 1][0] == DIFF_EQUAL) {\n          // Merge this equality with the previous one.\n          diffs[pointer - 1][1] += diffs[pointer][1];\n          diffs.splice(pointer, 1);\n        } else {\n          pointer++;\n        }\n        count_insert = 0;\n        count_delete = 0;\n        text_delete = '';\n        text_insert = '';\n        break;\n    }\n  }\n  if (diffs[diffs.length - 1][1] === '') {\n    diffs.pop();  // Remove the dummy entry at the end.\n  }\n\n  // Second pass: look for single edits surrounded on both sides by equalities\n  // which can be shifted sideways to eliminate an equality.\n  // e.g: A<ins>BA</ins>C -> <ins>AB</ins>AC\n  var changes = false;\n  pointer = 1;\n  // Intentionally ignore the first and last element (don't need checking).\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] == DIFF_EQUAL &&\n        diffs[pointer + 1][0] == DIFF_EQUAL) {\n      // This is a single edit surrounded by equalities.\n      if (diffs[pointer][1].substring(diffs[pointer][1].length -\n          diffs[pointer - 1][1].length) == diffs[pointer - 1][1]) {\n        // Shift the edit over the previous equality.\n        diffs[pointer][1] = diffs[pointer - 1][1] +\n            diffs[pointer][1].substring(0, diffs[pointer][1].length -\n                                        diffs[pointer - 1][1].length);\n        diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];\n        diffs.splice(pointer - 1, 1);\n        changes = true;\n      } else if (diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) ==\n          diffs[pointer + 1][1]) {\n        // Shift the edit over the next equality.\n        diffs[pointer - 1][1] += diffs[pointer + 1][1];\n        diffs[pointer][1] =\n            diffs[pointer][1].substring(diffs[pointer + 1][1].length) +\n            diffs[pointer + 1][1];\n        diffs.splice(pointer + 1, 1);\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n  // If shifts were made, the diff needs reordering and another shift sweep.\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n};\n\n\n/**\n * loc is a location in text1, compute and return the equivalent location in\n * text2.\n * e.g. 'The cat' vs 'The big cat', 1->1, 5->8\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @param {number} loc Location within text1.\n * @return {number} Location within text2.\n */\ndiff_match_patch.prototype.diff_xIndex = function(diffs, loc) {\n  var chars1 = 0;\n  var chars2 = 0;\n  var last_chars1 = 0;\n  var last_chars2 = 0;\n  var x;\n  for (x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_INSERT) {  // Equality or deletion.\n      chars1 += diffs[x][1].length;\n    }\n    if (diffs[x][0] !== DIFF_DELETE) {  // Equality or insertion.\n      chars2 += diffs[x][1].length;\n    }\n    if (chars1 > loc) {  // Overshot the location.\n      break;\n    }\n    last_chars1 = chars1;\n    last_chars2 = chars2;\n  }\n  // Was the location was deleted?\n  if (diffs.length != x && diffs[x][0] === DIFF_DELETE) {\n    return last_chars2;\n  }\n  // Add the remaining character length.\n  return last_chars2 + (loc - last_chars1);\n};\n\n\n/**\n * Convert a diff array into a pretty HTML report.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} HTML representation.\n */\ndiff_match_patch.prototype.diff_prettyHtml = function(diffs) {\n  var html = [];\n  var pattern_amp = /&/g;\n  var pattern_lt = /</g;\n  var pattern_gt = />/g;\n  var pattern_para = /\\n/g;\n  for (var x = 0; x < diffs.length; x++) {\n    var op = diffs[x][0];    // Operation (insert, delete, equal)\n    var data = diffs[x][1];  // Text of change.\n    var text = data.replace(pattern_amp, '&amp;').replace(pattern_lt, '&lt;')\n        .replace(pattern_gt, '&gt;').replace(pattern_para, '&para;<br>');\n    switch (op) {\n      case DIFF_INSERT:\n        html[x] = '<ins style=\"background:#e6ffe6;\">' + text + '</ins>';\n        break;\n      case DIFF_DELETE:\n        html[x] = '<del style=\"background:#ffe6e6;\">' + text + '</del>';\n        break;\n      case DIFF_EQUAL:\n        html[x] = '<span>' + text + '</span>';\n        break;\n    }\n  }\n  return html.join('');\n};\n\n\n/**\n * Compute and return the source text (all equalities and deletions).\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Source text.\n */\ndiff_match_patch.prototype.diff_text1 = function(diffs) {\n  var text = [];\n  for (var x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_INSERT) {\n      text[x] = diffs[x][1];\n    }\n  }\n  return text.join('');\n};\n\n\n/**\n * Compute and return the destination text (all equalities and insertions).\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Destination text.\n */\ndiff_match_patch.prototype.diff_text2 = function(diffs) {\n  var text = [];\n  for (var x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_DELETE) {\n      text[x] = diffs[x][1];\n    }\n  }\n  return text.join('');\n};\n\n\n/**\n * Compute the Levenshtein distance; the number of inserted, deleted or\n * substituted characters.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {number} Number of changes.\n */\ndiff_match_patch.prototype.diff_levenshtein = function(diffs) {\n  var levenshtein = 0;\n  var insertions = 0;\n  var deletions = 0;\n  for (var x = 0; x < diffs.length; x++) {\n    var op = diffs[x][0];\n    var data = diffs[x][1];\n    switch (op) {\n      case DIFF_INSERT:\n        insertions += data.length;\n        break;\n      case DIFF_DELETE:\n        deletions += data.length;\n        break;\n      case DIFF_EQUAL:\n        // A deletion and an insertion is one substitution.\n        levenshtein += Math.max(insertions, deletions);\n        insertions = 0;\n        deletions = 0;\n        break;\n    }\n  }\n  levenshtein += Math.max(insertions, deletions);\n  return levenshtein;\n};\n\n\n/**\n * Crush the diff into an encoded string which describes the operations\n * required to transform text1 into text2.\n * E.g. =3\\t-2\\t+ing  -> Keep 3 chars, delete 2 chars, insert 'ing'.\n * Operations are tab-separated.  Inserted text is escaped using %xx notation.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Delta text.\n */\ndiff_match_patch.prototype.diff_toDelta = function(diffs) {\n  var text = [];\n  for (var x = 0; x < diffs.length; x++) {\n    switch (diffs[x][0]) {\n      case DIFF_INSERT:\n        text[x] = '+' + encodeURI(diffs[x][1]);\n        break;\n      case DIFF_DELETE:\n        text[x] = '-' + diffs[x][1].length;\n        break;\n      case DIFF_EQUAL:\n        text[x] = '=' + diffs[x][1].length;\n        break;\n    }\n  }\n  return text.join('\\t').replace(/%20/g, ' ');\n};\n\n\n/**\n * Given the original text1, and an encoded string which describes the\n * operations required to transform text1 into text2, compute the full diff.\n * @param {string} text1 Source string for the diff.\n * @param {string} delta Delta text.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @throws {!Error} If invalid input.\n */\ndiff_match_patch.prototype.diff_fromDelta = function(text1, delta) {\n  var diffs = [];\n  var diffsLength = 0;  // Keeping our own length var is faster in JS.\n  var pointer = 0;  // Cursor in text1\n  var tokens = delta.split(/\\t/g);\n  for (var x = 0; x < tokens.length; x++) {\n    // Each token begins with a one character parameter which specifies the\n    // operation of this token (delete, insert, equality).\n    var param = tokens[x].substring(1);\n    switch (tokens[x].charAt(0)) {\n      case '+':\n        try {\n          diffs[diffsLength++] =\n              new diff_match_patch.Diff(DIFF_INSERT, decodeURI(param));\n        } catch (ex) {\n          // Malformed URI sequence.\n          throw new Error('Illegal escape in diff_fromDelta: ' + param);\n        }\n        break;\n      case '-':\n        // Fall through.\n      case '=':\n        var n = parseInt(param, 10);\n        if (isNaN(n) || n < 0) {\n          throw new Error('Invalid number in diff_fromDelta: ' + param);\n        }\n        var text = text1.substring(pointer, pointer += n);\n        if (tokens[x].charAt(0) == '=') {\n          diffs[diffsLength++] = new diff_match_patch.Diff(DIFF_EQUAL, text);\n        } else {\n          diffs[diffsLength++] = new diff_match_patch.Diff(DIFF_DELETE, text);\n        }\n        break;\n      default:\n        // Blank tokens are ok (from a trailing \\t).\n        // Anything else is an error.\n        if (tokens[x]) {\n          throw new Error('Invalid diff operation in diff_fromDelta: ' +\n                          tokens[x]);\n        }\n    }\n  }\n  if (pointer != text1.length) {\n    throw new Error('Delta length (' + pointer +\n        ') does not equal source text length (' + text1.length + ').');\n  }\n  return diffs;\n};\n\n\n//  MATCH FUNCTIONS\n\n\n/**\n * Locate the best instance of 'pattern' in 'text' near 'loc'.\n * @param {string} text The text to search.\n * @param {string} pattern The pattern to search for.\n * @param {number} loc The location to search around.\n * @return {number} Best match index or -1.\n */\ndiff_match_patch.prototype.match_main = function(text, pattern, loc) {\n  // Check for null inputs.\n  if (text == null || pattern == null || loc == null) {\n    throw new Error('Null input. (match_main)');\n  }\n\n  loc = Math.max(0, Math.min(loc, text.length));\n  if (text == pattern) {\n    // Shortcut (potentially not guaranteed by the algorithm)\n    return 0;\n  } else if (!text.length) {\n    // Nothing to match.\n    return -1;\n  } else if (text.substring(loc, loc + pattern.length) == pattern) {\n    // Perfect match at the perfect spot!  (Includes case of null pattern)\n    return loc;\n  } else {\n    // Do a fuzzy compare.\n    return this.match_bitap_(text, pattern, loc);\n  }\n};\n\n\n/**\n * Locate the best instance of 'pattern' in 'text' near 'loc' using the\n * Bitap algorithm.\n * @param {string} text The text to search.\n * @param {string} pattern The pattern to search for.\n * @param {number} loc The location to search around.\n * @return {number} Best match index or -1.\n * @private\n */\ndiff_match_patch.prototype.match_bitap_ = function(text, pattern, loc) {\n  if (pattern.length > this.Match_MaxBits) {\n    throw new Error('Pattern too long for this browser.');\n  }\n\n  // Initialise the alphabet.\n  var s = this.match_alphabet_(pattern);\n\n  var dmp = this;  // 'this' becomes 'window' in a closure.\n\n  /**\n   * Compute and return the score for a match with e errors and x location.\n   * Accesses loc and pattern through being a closure.\n   * @param {number} e Number of errors in match.\n   * @param {number} x Location of match.\n   * @return {number} Overall score for match (0.0 = good, 1.0 = bad).\n   * @private\n   */\n  function match_bitapScore_(e, x) {\n    var accuracy = e / pattern.length;\n    var proximity = Math.abs(loc - x);\n    if (!dmp.Match_Distance) {\n      // Dodge divide by zero error.\n      return proximity ? 1.0 : accuracy;\n    }\n    return accuracy + (proximity / dmp.Match_Distance);\n  }\n\n  // Highest score beyond which we give up.\n  var score_threshold = this.Match_Threshold;\n  // Is there a nearby exact match? (speedup)\n  var best_loc = text.indexOf(pattern, loc);\n  if (best_loc != -1) {\n    score_threshold = Math.min(match_bitapScore_(0, best_loc), score_threshold);\n    // What about in the other direction? (speedup)\n    best_loc = text.lastIndexOf(pattern, loc + pattern.length);\n    if (best_loc != -1) {\n      score_threshold =\n          Math.min(match_bitapScore_(0, best_loc), score_threshold);\n    }\n  }\n\n  // Initialise the bit arrays.\n  var matchmask = 1 << (pattern.length - 1);\n  best_loc = -1;\n\n  var bin_min, bin_mid;\n  var bin_max = pattern.length + text.length;\n  var last_rd;\n  for (var d = 0; d < pattern.length; d++) {\n    // Scan for the best match; each iteration allows for one more error.\n    // Run a binary search to determine how far from 'loc' we can stray at this\n    // error level.\n    bin_min = 0;\n    bin_mid = bin_max;\n    while (bin_min < bin_mid) {\n      if (match_bitapScore_(d, loc + bin_mid) <= score_threshold) {\n        bin_min = bin_mid;\n      } else {\n        bin_max = bin_mid;\n      }\n      bin_mid = Math.floor((bin_max - bin_min) / 2 + bin_min);\n    }\n    // Use the result from this iteration as the maximum for the next.\n    bin_max = bin_mid;\n    var start = Math.max(1, loc - bin_mid + 1);\n    var finish = Math.min(loc + bin_mid, text.length) + pattern.length;\n\n    var rd = Array(finish + 2);\n    rd[finish + 1] = (1 << d) - 1;\n    for (var j = finish; j >= start; j--) {\n      // The alphabet (s) is a sparse hash, so the following line generates\n      // warnings.\n      var charMatch = s[text.charAt(j - 1)];\n      if (d === 0) {  // First pass: exact match.\n        rd[j] = ((rd[j + 1] << 1) | 1) & charMatch;\n      } else {  // Subsequent passes: fuzzy match.\n        rd[j] = (((rd[j + 1] << 1) | 1) & charMatch) |\n                (((last_rd[j + 1] | last_rd[j]) << 1) | 1) |\n                last_rd[j + 1];\n      }\n      if (rd[j] & matchmask) {\n        var score = match_bitapScore_(d, j - 1);\n        // This match will almost certainly be better than any existing match.\n        // But check anyway.\n        if (score <= score_threshold) {\n          // Told you so.\n          score_threshold = score;\n          best_loc = j - 1;\n          if (best_loc > loc) {\n            // When passing loc, don't exceed our current distance from loc.\n            start = Math.max(1, 2 * loc - best_loc);\n          } else {\n            // Already passed loc, downhill from here on in.\n            break;\n          }\n        }\n      }\n    }\n    // No hope for a (better) match at greater error levels.\n    if (match_bitapScore_(d + 1, loc) > score_threshold) {\n      break;\n    }\n    last_rd = rd;\n  }\n  return best_loc;\n};\n\n\n/**\n * Initialise the alphabet for the Bitap algorithm.\n * @param {string} pattern The text to encode.\n * @return {!Object} Hash of character locations.\n * @private\n */\ndiff_match_patch.prototype.match_alphabet_ = function(pattern) {\n  var s = {};\n  for (var i = 0; i < pattern.length; i++) {\n    s[pattern.charAt(i)] = 0;\n  }\n  for (var i = 0; i < pattern.length; i++) {\n    s[pattern.charAt(i)] |= 1 << (pattern.length - i - 1);\n  }\n  return s;\n};\n\n\n//  PATCH FUNCTIONS\n\n\n/**\n * Increase the context until it is unique,\n * but don't let the pattern expand beyond Match_MaxBits.\n * @param {!diff_match_patch.patch_obj} patch The patch to grow.\n * @param {string} text Source text.\n * @private\n */\ndiff_match_patch.prototype.patch_addContext_ = function(patch, text) {\n  if (text.length == 0) {\n    return;\n  }\n  if (patch.start2 === null) {\n    throw Error('patch not initialized');\n  }\n  var pattern = text.substring(patch.start2, patch.start2 + patch.length1);\n  var padding = 0;\n\n  // Look for the first and last matches of pattern in text.  If two different\n  // matches are found, increase the pattern length.\n  while (text.indexOf(pattern) != text.lastIndexOf(pattern) &&\n         pattern.length < this.Match_MaxBits - this.Patch_Margin -\n         this.Patch_Margin) {\n    padding += this.Patch_Margin;\n    pattern = text.substring(patch.start2 - padding,\n                             patch.start2 + patch.length1 + padding);\n  }\n  // Add one chunk for good luck.\n  padding += this.Patch_Margin;\n\n  // Add the prefix.\n  var prefix = text.substring(patch.start2 - padding, patch.start2);\n  if (prefix) {\n    patch.diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, prefix));\n  }\n  // Add the suffix.\n  var suffix = text.substring(patch.start2 + patch.length1,\n                              patch.start2 + patch.length1 + padding);\n  if (suffix) {\n    patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, suffix));\n  }\n\n  // Roll back the start points.\n  patch.start1 -= prefix.length;\n  patch.start2 -= prefix.length;\n  // Extend the lengths.\n  patch.length1 += prefix.length + suffix.length;\n  patch.length2 += prefix.length + suffix.length;\n};\n\n\n/**\n * Compute a list of patches to turn text1 into text2.\n * Use diffs if provided, otherwise compute it ourselves.\n * There are four ways to call this function, depending on what data is\n * available to the caller:\n * Method 1:\n * a = text1, b = text2\n * Method 2:\n * a = diffs\n * Method 3 (optimal):\n * a = text1, b = diffs\n * Method 4 (deprecated, use method 3):\n * a = text1, b = text2, c = diffs\n *\n * @param {string|!Array.<!diff_match_patch.Diff>} a text1 (methods 1,3,4) or\n * Array of diff tuples for text1 to text2 (method 2).\n * @param {string|!Array.<!diff_match_patch.Diff>=} opt_b text2 (methods 1,4) or\n * Array of diff tuples for text1 to text2 (method 3) or undefined (method 2).\n * @param {string|!Array.<!diff_match_patch.Diff>=} opt_c Array of diff tuples\n * for text1 to text2 (method 4) or undefined (methods 1,2,3).\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n */\ndiff_match_patch.prototype.patch_make = function(a, opt_b, opt_c) {\n  var text1, diffs;\n  if (typeof a == 'string' && typeof opt_b == 'string' &&\n      typeof opt_c == 'undefined') {\n    // Method 1: text1, text2\n    // Compute diffs from text1 and text2.\n    text1 = /** @type {string} */(a);\n    diffs = this.diff_main(text1, /** @type {string} */(opt_b), true);\n    if (diffs.length > 2) {\n      this.diff_cleanupSemantic(diffs);\n      this.diff_cleanupEfficiency(diffs);\n    }\n  } else if (a && typeof a == 'object' && typeof opt_b == 'undefined' &&\n      typeof opt_c == 'undefined') {\n    // Method 2: diffs\n    // Compute text1 from diffs.\n    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */(a);\n    text1 = this.diff_text1(diffs);\n  } else if (typeof a == 'string' && opt_b && typeof opt_b == 'object' &&\n      typeof opt_c == 'undefined') {\n    // Method 3: text1, diffs\n    text1 = /** @type {string} */(a);\n    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */(opt_b);\n  } else if (typeof a == 'string' && typeof opt_b == 'string' &&\n      opt_c && typeof opt_c == 'object') {\n    // Method 4: text1, text2, diffs\n    // text2 is not used.\n    text1 = /** @type {string} */(a);\n    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */(opt_c);\n  } else {\n    throw new Error('Unknown call format to patch_make.');\n  }\n\n  if (diffs.length === 0) {\n    return [];  // Get rid of the null case.\n  }\n  var patches = [];\n  var patch = new diff_match_patch.patch_obj();\n  var patchDiffLength = 0;  // Keeping our own length var is faster in JS.\n  var char_count1 = 0;  // Number of characters into the text1 string.\n  var char_count2 = 0;  // Number of characters into the text2 string.\n  // Start with text1 (prepatch_text) and apply the diffs until we arrive at\n  // text2 (postpatch_text).  We recreate the patches one by one to determine\n  // context info.\n  var prepatch_text = text1;\n  var postpatch_text = text1;\n  for (var x = 0; x < diffs.length; x++) {\n    var diff_type = diffs[x][0];\n    var diff_text = diffs[x][1];\n\n    if (!patchDiffLength && diff_type !== DIFF_EQUAL) {\n      // A new patch starts here.\n      patch.start1 = char_count1;\n      patch.start2 = char_count2;\n    }\n\n    switch (diff_type) {\n      case DIFF_INSERT:\n        patch.diffs[patchDiffLength++] = diffs[x];\n        patch.length2 += diff_text.length;\n        postpatch_text = postpatch_text.substring(0, char_count2) + diff_text +\n                         postpatch_text.substring(char_count2);\n        break;\n      case DIFF_DELETE:\n        patch.length1 += diff_text.length;\n        patch.diffs[patchDiffLength++] = diffs[x];\n        postpatch_text = postpatch_text.substring(0, char_count2) +\n                         postpatch_text.substring(char_count2 +\n                             diff_text.length);\n        break;\n      case DIFF_EQUAL:\n        if (diff_text.length <= 2 * this.Patch_Margin &&\n            patchDiffLength && diffs.length != x + 1) {\n          // Small equality inside a patch.\n          patch.diffs[patchDiffLength++] = diffs[x];\n          patch.length1 += diff_text.length;\n          patch.length2 += diff_text.length;\n        } else if (diff_text.length >= 2 * this.Patch_Margin) {\n          // Time for a new patch.\n          if (patchDiffLength) {\n            this.patch_addContext_(patch, prepatch_text);\n            patches.push(patch);\n            patch = new diff_match_patch.patch_obj();\n            patchDiffLength = 0;\n            // Unlike Unidiff, our patch lists have a rolling context.\n            // https://github.com/google/diff-match-patch/wiki/Unidiff\n            // Update prepatch text & pos to reflect the application of the\n            // just completed patch.\n            prepatch_text = postpatch_text;\n            char_count1 = char_count2;\n          }\n        }\n        break;\n    }\n\n    // Update the current character count.\n    if (diff_type !== DIFF_INSERT) {\n      char_count1 += diff_text.length;\n    }\n    if (diff_type !== DIFF_DELETE) {\n      char_count2 += diff_text.length;\n    }\n  }\n  // Pick up the leftover patch if not empty.\n  if (patchDiffLength) {\n    this.patch_addContext_(patch, prepatch_text);\n    patches.push(patch);\n  }\n\n  return patches;\n};\n\n\n/**\n * Given an array of patches, return another array that is identical.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n */\ndiff_match_patch.prototype.patch_deepCopy = function(patches) {\n  // Making deep copies is hard in JavaScript.\n  var patchesCopy = [];\n  for (var x = 0; x < patches.length; x++) {\n    var patch = patches[x];\n    var patchCopy = new diff_match_patch.patch_obj();\n    patchCopy.diffs = [];\n    for (var y = 0; y < patch.diffs.length; y++) {\n      patchCopy.diffs[y] =\n          new diff_match_patch.Diff(patch.diffs[y][0], patch.diffs[y][1]);\n    }\n    patchCopy.start1 = patch.start1;\n    patchCopy.start2 = patch.start2;\n    patchCopy.length1 = patch.length1;\n    patchCopy.length2 = patch.length2;\n    patchesCopy[x] = patchCopy;\n  }\n  return patchesCopy;\n};\n\n\n/**\n * Merge a set of patches onto the text.  Return a patched text, as well\n * as a list of true/false values indicating which patches were applied.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @param {string} text Old text.\n * @return {!Array.<string|!Array.<boolean>>} Two element Array, containing the\n *      new text and an array of boolean values.\n */\ndiff_match_patch.prototype.patch_apply = function(patches, text) {\n  if (patches.length == 0) {\n    return [text, []];\n  }\n\n  // Deep copy the patches so that no changes are made to originals.\n  patches = this.patch_deepCopy(patches);\n\n  var nullPadding = this.patch_addPadding(patches);\n  text = nullPadding + text + nullPadding;\n\n  this.patch_splitMax(patches);\n  // delta keeps track of the offset between the expected and actual location\n  // of the previous patch.  If there are patches expected at positions 10 and\n  // 20, but the first patch was found at 12, delta is 2 and the second patch\n  // has an effective expected position of 22.\n  var delta = 0;\n  var results = [];\n  for (var x = 0; x < patches.length; x++) {\n    var expected_loc = patches[x].start2 + delta;\n    var text1 = this.diff_text1(patches[x].diffs);\n    var start_loc;\n    var end_loc = -1;\n    if (text1.length > this.Match_MaxBits) {\n      // patch_splitMax will only provide an oversized pattern in the case of\n      // a monster delete.\n      start_loc = this.match_main(text, text1.substring(0, this.Match_MaxBits),\n                                  expected_loc);\n      if (start_loc != -1) {\n        end_loc = this.match_main(text,\n            text1.substring(text1.length - this.Match_MaxBits),\n            expected_loc + text1.length - this.Match_MaxBits);\n        if (end_loc == -1 || start_loc >= end_loc) {\n          // Can't find valid trailing context.  Drop this patch.\n          start_loc = -1;\n        }\n      }\n    } else {\n      start_loc = this.match_main(text, text1, expected_loc);\n    }\n    if (start_loc == -1) {\n      // No match found.  :(\n      results[x] = false;\n      // Subtract the delta for this failed patch from subsequent patches.\n      delta -= patches[x].length2 - patches[x].length1;\n    } else {\n      // Found a match.  :)\n      results[x] = true;\n      delta = start_loc - expected_loc;\n      var text2;\n      if (end_loc == -1) {\n        text2 = text.substring(start_loc, start_loc + text1.length);\n      } else {\n        text2 = text.substring(start_loc, end_loc + this.Match_MaxBits);\n      }\n      if (text1 == text2) {\n        // Perfect match, just shove the replacement text in.\n        text = text.substring(0, start_loc) +\n               this.diff_text2(patches[x].diffs) +\n               text.substring(start_loc + text1.length);\n      } else {\n        // Imperfect match.  Run a diff to get a framework of equivalent\n        // indices.\n        var diffs = this.diff_main(text1, text2, false);\n        if (text1.length > this.Match_MaxBits &&\n            this.diff_levenshtein(diffs) / text1.length >\n            this.Patch_DeleteThreshold) {\n          // The end points match, but the content is unacceptably bad.\n          results[x] = false;\n        } else {\n          this.diff_cleanupSemanticLossless(diffs);\n          var index1 = 0;\n          var index2;\n          for (var y = 0; y < patches[x].diffs.length; y++) {\n            var mod = patches[x].diffs[y];\n            if (mod[0] !== DIFF_EQUAL) {\n              index2 = this.diff_xIndex(diffs, index1);\n            }\n            if (mod[0] === DIFF_INSERT) {  // Insertion\n              text = text.substring(0, start_loc + index2) + mod[1] +\n                     text.substring(start_loc + index2);\n            } else if (mod[0] === DIFF_DELETE) {  // Deletion\n              text = text.substring(0, start_loc + index2) +\n                     text.substring(start_loc + this.diff_xIndex(diffs,\n                         index1 + mod[1].length));\n            }\n            if (mod[0] !== DIFF_DELETE) {\n              index1 += mod[1].length;\n            }\n          }\n        }\n      }\n    }\n  }\n  // Strip the padding off.\n  text = text.substring(nullPadding.length, text.length - nullPadding.length);\n  return [text, results];\n};\n\n\n/**\n * Add some padding on text start and end so that edges can match something.\n * Intended to be called only from within patch_apply.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {string} The padding string added to each side.\n */\ndiff_match_patch.prototype.patch_addPadding = function(patches) {\n  var paddingLength = this.Patch_Margin;\n  var nullPadding = '';\n  for (var x = 1; x <= paddingLength; x++) {\n    nullPadding += String.fromCharCode(x);\n  }\n\n  // Bump all the patches forward.\n  for (var x = 0; x < patches.length; x++) {\n    patches[x].start1 += paddingLength;\n    patches[x].start2 += paddingLength;\n  }\n\n  // Add some padding on start of first diff.\n  var patch = patches[0];\n  var diffs = patch.diffs;\n  if (diffs.length == 0 || diffs[0][0] != DIFF_EQUAL) {\n    // Add nullPadding equality.\n    diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, nullPadding));\n    patch.start1 -= paddingLength;  // Should be 0.\n    patch.start2 -= paddingLength;  // Should be 0.\n    patch.length1 += paddingLength;\n    patch.length2 += paddingLength;\n  } else if (paddingLength > diffs[0][1].length) {\n    // Grow first equality.\n    var extraLength = paddingLength - diffs[0][1].length;\n    diffs[0][1] = nullPadding.substring(diffs[0][1].length) + diffs[0][1];\n    patch.start1 -= extraLength;\n    patch.start2 -= extraLength;\n    patch.length1 += extraLength;\n    patch.length2 += extraLength;\n  }\n\n  // Add some padding on end of last diff.\n  patch = patches[patches.length - 1];\n  diffs = patch.diffs;\n  if (diffs.length == 0 || diffs[diffs.length - 1][0] != DIFF_EQUAL) {\n    // Add nullPadding equality.\n    diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, nullPadding));\n    patch.length1 += paddingLength;\n    patch.length2 += paddingLength;\n  } else if (paddingLength > diffs[diffs.length - 1][1].length) {\n    // Grow last equality.\n    var extraLength = paddingLength - diffs[diffs.length - 1][1].length;\n    diffs[diffs.length - 1][1] += nullPadding.substring(0, extraLength);\n    patch.length1 += extraLength;\n    patch.length2 += extraLength;\n  }\n\n  return nullPadding;\n};\n\n\n/**\n * Look through the patches and break up any which are longer than the maximum\n * limit of the match algorithm.\n * Intended to be called only from within patch_apply.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n */\ndiff_match_patch.prototype.patch_splitMax = function(patches) {\n  var patch_size = this.Match_MaxBits;\n  for (var x = 0; x < patches.length; x++) {\n    if (patches[x].length1 <= patch_size) {\n      continue;\n    }\n    var bigpatch = patches[x];\n    // Remove the big old patch.\n    patches.splice(x--, 1);\n    var start1 = bigpatch.start1;\n    var start2 = bigpatch.start2;\n    var precontext = '';\n    while (bigpatch.diffs.length !== 0) {\n      // Create one of several smaller patches.\n      var patch = new diff_match_patch.patch_obj();\n      var empty = true;\n      patch.start1 = start1 - precontext.length;\n      patch.start2 = start2 - precontext.length;\n      if (precontext !== '') {\n        patch.length1 = patch.length2 = precontext.length;\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, precontext));\n      }\n      while (bigpatch.diffs.length !== 0 &&\n             patch.length1 < patch_size - this.Patch_Margin) {\n        var diff_type = bigpatch.diffs[0][0];\n        var diff_text = bigpatch.diffs[0][1];\n        if (diff_type === DIFF_INSERT) {\n          // Insertions are harmless.\n          patch.length2 += diff_text.length;\n          start2 += diff_text.length;\n          patch.diffs.push(bigpatch.diffs.shift());\n          empty = false;\n        } else if (diff_type === DIFF_DELETE && patch.diffs.length == 1 &&\n                   patch.diffs[0][0] == DIFF_EQUAL &&\n                   diff_text.length > 2 * patch_size) {\n          // This is a large deletion.  Let it pass in one chunk.\n          patch.length1 += diff_text.length;\n          start1 += diff_text.length;\n          empty = false;\n          patch.diffs.push(new diff_match_patch.Diff(diff_type, diff_text));\n          bigpatch.diffs.shift();\n        } else {\n          // Deletion or equality.  Only take as much as we can stomach.\n          diff_text = diff_text.substring(0,\n              patch_size - patch.length1 - this.Patch_Margin);\n          patch.length1 += diff_text.length;\n          start1 += diff_text.length;\n          if (diff_type === DIFF_EQUAL) {\n            patch.length2 += diff_text.length;\n            start2 += diff_text.length;\n          } else {\n            empty = false;\n          }\n          patch.diffs.push(new diff_match_patch.Diff(diff_type, diff_text));\n          if (diff_text == bigpatch.diffs[0][1]) {\n            bigpatch.diffs.shift();\n          } else {\n            bigpatch.diffs[0][1] =\n                bigpatch.diffs[0][1].substring(diff_text.length);\n          }\n        }\n      }\n      // Compute the head context for the next patch.\n      precontext = this.diff_text2(patch.diffs);\n      precontext =\n          precontext.substring(precontext.length - this.Patch_Margin);\n      // Append the end context for this patch.\n      var postcontext = this.diff_text1(bigpatch.diffs)\n                            .substring(0, this.Patch_Margin);\n      if (postcontext !== '') {\n        patch.length1 += postcontext.length;\n        patch.length2 += postcontext.length;\n        if (patch.diffs.length !== 0 &&\n            patch.diffs[patch.diffs.length - 1][0] === DIFF_EQUAL) {\n          patch.diffs[patch.diffs.length - 1][1] += postcontext;\n        } else {\n          patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, postcontext));\n        }\n      }\n      if (!empty) {\n        patches.splice(++x, 0, patch);\n      }\n    }\n  }\n};\n\n\n/**\n * Take a list of patches and return a textual representation.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {string} Text representation of patches.\n */\ndiff_match_patch.prototype.patch_toText = function(patches) {\n  var text = [];\n  for (var x = 0; x < patches.length; x++) {\n    text[x] = patches[x];\n  }\n  return text.join('');\n};\n\n\n/**\n * Parse a textual representation of patches and return a list of Patch objects.\n * @param {string} textline Text representation of patches.\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n * @throws {!Error} If invalid input.\n */\ndiff_match_patch.prototype.patch_fromText = function(textline) {\n  var patches = [];\n  if (!textline) {\n    return patches;\n  }\n  var text = textline.split('\\n');\n  var textPointer = 0;\n  var patchHeader = /^@@ -(\\d+),?(\\d*) \\+(\\d+),?(\\d*) @@$/;\n  while (textPointer < text.length) {\n    var m = text[textPointer].match(patchHeader);\n    if (!m) {\n      throw new Error('Invalid patch string: ' + text[textPointer]);\n    }\n    var patch = new diff_match_patch.patch_obj();\n    patches.push(patch);\n    patch.start1 = parseInt(m[1], 10);\n    if (m[2] === '') {\n      patch.start1--;\n      patch.length1 = 1;\n    } else if (m[2] == '0') {\n      patch.length1 = 0;\n    } else {\n      patch.start1--;\n      patch.length1 = parseInt(m[2], 10);\n    }\n\n    patch.start2 = parseInt(m[3], 10);\n    if (m[4] === '') {\n      patch.start2--;\n      patch.length2 = 1;\n    } else if (m[4] == '0') {\n      patch.length2 = 0;\n    } else {\n      patch.start2--;\n      patch.length2 = parseInt(m[4], 10);\n    }\n    textPointer++;\n\n    while (textPointer < text.length) {\n      var sign = text[textPointer].charAt(0);\n      try {\n        var line = decodeURI(text[textPointer].substring(1));\n      } catch (ex) {\n        // Malformed URI sequence.\n        throw new Error('Illegal escape in patch_fromText: ' + line);\n      }\n      if (sign == '-') {\n        // Deletion.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_DELETE, line));\n      } else if (sign == '+') {\n        // Insertion.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_INSERT, line));\n      } else if (sign == ' ') {\n        // Minor equality.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, line));\n      } else if (sign == '@') {\n        // Start of next patch.\n        break;\n      } else if (sign === '') {\n        // Blank line?  Whatever.\n      } else {\n        // WTF?\n        throw new Error('Invalid patch mode \"' + sign + '\" in: ' + line);\n      }\n      textPointer++;\n    }\n  }\n  return patches;\n};\n\n\n/**\n * Class representing one patch operation.\n * @constructor\n */\ndiff_match_patch.patch_obj = function() {\n  /** @type {!Array.<!diff_match_patch.Diff>} */\n  this.diffs = [];\n  /** @type {?number} */\n  this.start1 = null;\n  /** @type {?number} */\n  this.start2 = null;\n  /** @type {number} */\n  this.length1 = 0;\n  /** @type {number} */\n  this.length2 = 0;\n};\n\n\n/**\n * Emulate GNU diff's format.\n * Header: @@ -382,8 +481,9 @@\n * Indices are printed as 1-based, not 0-based.\n * @return {string} The GNU diff string.\n */\ndiff_match_patch.patch_obj.prototype.toString = function() {\n  var coords1, coords2;\n  if (this.length1 === 0) {\n    coords1 = this.start1 + ',0';\n  } else if (this.length1 == 1) {\n    coords1 = this.start1 + 1;\n  } else {\n    coords1 = (this.start1 + 1) + ',' + this.length1;\n  }\n  if (this.length2 === 0) {\n    coords2 = this.start2 + ',0';\n  } else if (this.length2 == 1) {\n    coords2 = this.start2 + 1;\n  } else {\n    coords2 = (this.start2 + 1) + ',' + this.length2;\n  }\n  var text = ['@@ -' + coords1 + ' +' + coords2 + ' @@\\n'];\n  var op;\n  // Escape the body of the patch with %xx notation.\n  for (var x = 0; x < this.diffs.length; x++) {\n    switch (this.diffs[x][0]) {\n      case DIFF_INSERT:\n        op = '+';\n        break;\n      case DIFF_DELETE:\n        op = '-';\n        break;\n      case DIFF_EQUAL:\n        op = ' ';\n        break;\n    }\n    text[x + 1] = op + encodeURI(this.diffs[x][1]) + '\\n';\n  }\n  return text.join('').replace(/%20/g, ' ');\n};\n\n\n// The following export code was added by @ForbesLindesay\nmodule.exports = diff_match_patch;\nmodule.exports['diff_match_patch'] = diff_match_patch;\nmodule.exports['DIFF_DELETE'] = DIFF_DELETE;\nmodule.exports['DIFF_INSERT'] = DIFF_INSERT;\nmodule.exports['DIFF_EQUAL'] = DIFF_EQUAL;","'use strict';\nvar defineProperty = require('../internals/object-define-property').f;\nvar create = require('../internals/object-create');\nvar redefineAll = require('../internals/redefine-all');\nvar bind = require('../internals/function-bind-context');\nvar anInstance = require('../internals/an-instance');\nvar iterate = require('../internals/iterate');\nvar defineIterator = require('../internals/define-iterator');\nvar setSpecies = require('../internals/set-species');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fastKey = require('../internals/internal-metadata').fastKey;\nvar InternalStateModule = require('../internals/internal-state');\n\nvar setInternalState = InternalStateModule.set;\nvar internalStateGetterFor = InternalStateModule.getterFor;\n\nmodule.exports = {\n  getConstructor: function (wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {\n    var Constructor = wrapper(function (that, iterable) {\n      anInstance(that, Prototype);\n      setInternalState(that, {\n        type: CONSTRUCTOR_NAME,\n        index: create(null),\n        first: undefined,\n        last: undefined,\n        size: 0\n      });\n      if (!DESCRIPTORS) that.size = 0;\n      if (iterable != undefined) iterate(iterable, that[ADDER], { that: that, AS_ENTRIES: IS_MAP });\n    });\n\n    var Prototype = Constructor.prototype;\n\n    var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);\n\n    var define = function (that, key, value) {\n      var state = getInternalState(that);\n      var entry = getEntry(that, key);\n      var previous, index;\n      // change existing entry\n      if (entry) {\n        entry.value = value;\n      // create new entry\n      } else {\n        state.last = entry = {\n          index: index = fastKey(key, true),\n          key: key,\n          value: value,\n          previous: previous = state.last,\n          next: undefined,\n          removed: false\n        };\n        if (!state.first) state.first = entry;\n        if (previous) previous.next = entry;\n        if (DESCRIPTORS) state.size++;\n        else that.size++;\n        // add to index\n        if (index !== 'F') state.index[index] = entry;\n      } return that;\n    };\n\n    var getEntry = function (that, key) {\n      var state = getInternalState(that);\n      // fast case\n      var index = fastKey(key);\n      var entry;\n      if (index !== 'F') return state.index[index];\n      // frozen object case\n      for (entry = state.first; entry; entry = entry.next) {\n        if (entry.key == key) return entry;\n      }\n    };\n\n    redefineAll(Prototype, {\n      // `{ Map, Set }.prototype.clear()` methods\n      // https://tc39.es/ecma262/#sec-map.prototype.clear\n      // https://tc39.es/ecma262/#sec-set.prototype.clear\n      clear: function clear() {\n        var that = this;\n        var state = getInternalState(that);\n        var data = state.index;\n        var entry = state.first;\n        while (entry) {\n          entry.removed = true;\n          if (entry.previous) entry.previous = entry.previous.next = undefined;\n          delete data[entry.index];\n          entry = entry.next;\n        }\n        state.first = state.last = undefined;\n        if (DESCRIPTORS) state.size = 0;\n        else that.size = 0;\n      },\n      // `{ Map, Set }.prototype.delete(key)` methods\n      // https://tc39.es/ecma262/#sec-map.prototype.delete\n      // https://tc39.es/ecma262/#sec-set.prototype.delete\n      'delete': function (key) {\n        var that = this;\n        var state = getInternalState(that);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.next;\n          var prev = entry.previous;\n          delete state.index[entry.index];\n          entry.removed = true;\n          if (prev) prev.next = next;\n          if (next) next.previous = prev;\n          if (state.first == entry) state.first = next;\n          if (state.last == entry) state.last = prev;\n          if (DESCRIPTORS) state.size--;\n          else that.size--;\n        } return !!entry;\n      },\n      // `{ Map, Set }.prototype.forEach(callbackfn, thisArg = undefined)` methods\n      // https://tc39.es/ecma262/#sec-map.prototype.foreach\n      // https://tc39.es/ecma262/#sec-set.prototype.foreach\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        var state = getInternalState(this);\n        var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n        var entry;\n        while (entry = entry ? entry.next : state.first) {\n          boundFunction(entry.value, entry.key, this);\n          // revert to the last existing entry\n          while (entry && entry.removed) entry = entry.previous;\n        }\n      },\n      // `{ Map, Set}.prototype.has(key)` methods\n      // https://tc39.es/ecma262/#sec-map.prototype.has\n      // https://tc39.es/ecma262/#sec-set.prototype.has\n      has: function has(key) {\n        return !!getEntry(this, key);\n      }\n    });\n\n    redefineAll(Prototype, IS_MAP ? {\n      // `Map.prototype.get(key)` method\n      // https://tc39.es/ecma262/#sec-map.prototype.get\n      get: function get(key) {\n        var entry = getEntry(this, key);\n        return entry && entry.value;\n      },\n      // `Map.prototype.set(key, value)` method\n      // https://tc39.es/ecma262/#sec-map.prototype.set\n      set: function set(key, value) {\n        return define(this, key === 0 ? 0 : key, value);\n      }\n    } : {\n      // `Set.prototype.add(value)` method\n      // https://tc39.es/ecma262/#sec-set.prototype.add\n      add: function add(value) {\n        return define(this, value = value === 0 ? 0 : value, value);\n      }\n    });\n    if (DESCRIPTORS) defineProperty(Prototype, 'size', {\n      get: function () {\n        return getInternalState(this).size;\n      }\n    });\n    return Constructor;\n  },\n  setStrong: function (Constructor, CONSTRUCTOR_NAME, IS_MAP) {\n    var ITERATOR_NAME = CONSTRUCTOR_NAME + ' Iterator';\n    var getInternalCollectionState = internalStateGetterFor(CONSTRUCTOR_NAME);\n    var getInternalIteratorState = internalStateGetterFor(ITERATOR_NAME);\n    // `{ Map, Set }.prototype.{ keys, values, entries, @@iterator }()` methods\n    // https://tc39.es/ecma262/#sec-map.prototype.entries\n    // https://tc39.es/ecma262/#sec-map.prototype.keys\n    // https://tc39.es/ecma262/#sec-map.prototype.values\n    // https://tc39.es/ecma262/#sec-map.prototype-@@iterator\n    // https://tc39.es/ecma262/#sec-set.prototype.entries\n    // https://tc39.es/ecma262/#sec-set.prototype.keys\n    // https://tc39.es/ecma262/#sec-set.prototype.values\n    // https://tc39.es/ecma262/#sec-set.prototype-@@iterator\n    defineIterator(Constructor, CONSTRUCTOR_NAME, function (iterated, kind) {\n      setInternalState(this, {\n        type: ITERATOR_NAME,\n        target: iterated,\n        state: getInternalCollectionState(iterated),\n        kind: kind,\n        last: undefined\n      });\n    }, function () {\n      var state = getInternalIteratorState(this);\n      var kind = state.kind;\n      var entry = state.last;\n      // revert to the last existing entry\n      while (entry && entry.removed) entry = entry.previous;\n      // get next entry\n      if (!state.target || !(state.last = entry = entry ? entry.next : state.state.first)) {\n        // or finish the iteration\n        state.target = undefined;\n        return { value: undefined, done: true };\n      }\n      // return step by kind\n      if (kind == 'keys') return { value: entry.key, done: false };\n      if (kind == 'values') return { value: entry.value, done: false };\n      return { value: [entry.key, entry.value], done: false };\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // `{ Map, Set }.prototype[@@species]` accessors\n    // https://tc39.es/ecma262/#sec-get-map-@@species\n    // https://tc39.es/ecma262/#sec-get-set-@@species\n    setSpecies(CONSTRUCTOR_NAME);\n  }\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar InternalMetadataModule = require('../internals/internal-metadata');\nvar iterate = require('../internals/iterate');\nvar anInstance = require('../internals/an-instance');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar fails = require('../internals/fails');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar inheritIfRequired = require('../internals/inherit-if-required');\n\nmodule.exports = function (CONSTRUCTOR_NAME, wrapper, common) {\n  var IS_MAP = CONSTRUCTOR_NAME.indexOf('Map') !== -1;\n  var IS_WEAK = CONSTRUCTOR_NAME.indexOf('Weak') !== -1;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var NativeConstructor = global[CONSTRUCTOR_NAME];\n  var NativePrototype = NativeConstructor && NativeConstructor.prototype;\n  var Constructor = NativeConstructor;\n  var exported = {};\n\n  var fixMethod = function (KEY) {\n    var uncurriedNativeMethod = uncurryThis(NativePrototype[KEY]);\n    redefine(NativePrototype, KEY,\n      KEY == 'add' ? function add(value) {\n        uncurriedNativeMethod(this, value === 0 ? 0 : value);\n        return this;\n      } : KEY == 'delete' ? function (key) {\n        return IS_WEAK && !isObject(key) ? false : uncurriedNativeMethod(this, key === 0 ? 0 : key);\n      } : KEY == 'get' ? function get(key) {\n        return IS_WEAK && !isObject(key) ? undefined : uncurriedNativeMethod(this, key === 0 ? 0 : key);\n      } : KEY == 'has' ? function has(key) {\n        return IS_WEAK && !isObject(key) ? false : uncurriedNativeMethod(this, key === 0 ? 0 : key);\n      } : function set(key, value) {\n        uncurriedNativeMethod(this, key === 0 ? 0 : key, value);\n        return this;\n      }\n    );\n  };\n\n  var REPLACE = isForced(\n    CONSTRUCTOR_NAME,\n    !isCallable(NativeConstructor) || !(IS_WEAK || NativePrototype.forEach && !fails(function () {\n      new NativeConstructor().entries().next();\n    }))\n  );\n\n  if (REPLACE) {\n    // create collection constructor\n    Constructor = common.getConstructor(wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER);\n    InternalMetadataModule.enable();\n  } else if (isForced(CONSTRUCTOR_NAME, true)) {\n    var instance = new Constructor();\n    // early implementations not supports chaining\n    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;\n    // V8 ~ Chromium 40- weak-collections throws on primitives, but should return false\n    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n    // most early implementations doesn't supports iterables, most modern - not close it correctly\n    // eslint-disable-next-line no-new -- required for testing\n    var ACCEPT_ITERABLES = checkCorrectnessOfIteration(function (iterable) { new NativeConstructor(iterable); });\n    // for early implementations -0 and +0 not the same\n    var BUGGY_ZERO = !IS_WEAK && fails(function () {\n      // V8 ~ Chromium 42- fails only with 5+ elements\n      var $instance = new NativeConstructor();\n      var index = 5;\n      while (index--) $instance[ADDER](index, index);\n      return !$instance.has(-0);\n    });\n\n    if (!ACCEPT_ITERABLES) {\n      Constructor = wrapper(function (dummy, iterable) {\n        anInstance(dummy, NativePrototype);\n        var that = inheritIfRequired(new NativeConstructor(), dummy, Constructor);\n        if (iterable != undefined) iterate(iterable, that[ADDER], { that: that, AS_ENTRIES: IS_MAP });\n        return that;\n      });\n      Constructor.prototype = NativePrototype;\n      NativePrototype.constructor = Constructor;\n    }\n\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n\n    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n\n    // weak collections should not contains .clear method\n    if (IS_WEAK && NativePrototype.clear) delete NativePrototype.clear;\n  }\n\n  exported[CONSTRUCTOR_NAME] = Constructor;\n  $({ global: true, forced: Constructor != NativeConstructor }, exported);\n\n  setToStringTag(Constructor, CONSTRUCTOR_NAME);\n\n  if (!IS_WEAK) common.setStrong(Constructor, CONSTRUCTOR_NAME, IS_MAP);\n\n  return Constructor;\n};\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var noOptions = {};\n  var nonWS = /[^\\s\\u00a0]/;\n  var Pos = CodeMirror.Pos, cmp = CodeMirror.cmpPos;\n\n  function firstNonWS(str) {\n    var found = str.search(nonWS);\n    return found == -1 ? 0 : found;\n  }\n\n  CodeMirror.commands.toggleComment = function(cm) {\n    cm.toggleComment();\n  };\n\n  CodeMirror.defineExtension(\"toggleComment\", function(options) {\n    if (!options) options = noOptions;\n    var cm = this;\n    var minLine = Infinity, ranges = this.listSelections(), mode = null;\n    for (var i = ranges.length - 1; i >= 0; i--) {\n      var from = ranges[i].from(), to = ranges[i].to();\n      if (from.line >= minLine) continue;\n      if (to.line >= minLine) to = Pos(minLine, 0);\n      minLine = from.line;\n      if (mode == null) {\n        if (cm.uncomment(from, to, options)) mode = \"un\";\n        else { cm.lineComment(from, to, options); mode = \"line\"; }\n      } else if (mode == \"un\") {\n        cm.uncomment(from, to, options);\n      } else {\n        cm.lineComment(from, to, options);\n      }\n    }\n  });\n\n  // Rough heuristic to try and detect lines that are part of multi-line string\n  function probablyInsideString(cm, pos, line) {\n    return /\\bstring\\b/.test(cm.getTokenTypeAt(Pos(pos.line, 0))) && !/^[\\'\\\"\\`]/.test(line)\n  }\n\n  function getMode(cm, pos) {\n    var mode = cm.getMode()\n    return mode.useInnerComments === false || !mode.innerMode ? mode : cm.getModeAt(pos)\n  }\n\n  CodeMirror.defineExtension(\"lineComment\", function(from, to, options) {\n    if (!options) options = noOptions;\n    var self = this, mode = getMode(self, from);\n    var firstLine = self.getLine(from.line);\n    if (firstLine == null || probablyInsideString(self, from, firstLine)) return;\n\n    var commentString = options.lineComment || mode.lineComment;\n    if (!commentString) {\n      if (options.blockCommentStart || mode.blockCommentStart) {\n        options.fullLines = true;\n        self.blockComment(from, to, options);\n      }\n      return;\n    }\n\n    var end = Math.min(to.ch != 0 || to.line == from.line ? to.line + 1 : to.line, self.lastLine() + 1);\n    var pad = options.padding == null ? \" \" : options.padding;\n    var blankLines = options.commentBlankLines || from.line == to.line;\n\n    self.operation(function() {\n      if (options.indent) {\n        var baseString = null;\n        for (var i = from.line; i < end; ++i) {\n          var line = self.getLine(i);\n          var whitespace = line.slice(0, firstNonWS(line));\n          if (baseString == null || baseString.length > whitespace.length) {\n            baseString = whitespace;\n          }\n        }\n        for (var i = from.line; i < end; ++i) {\n          var line = self.getLine(i), cut = baseString.length;\n          if (!blankLines && !nonWS.test(line)) continue;\n          if (line.slice(0, cut) != baseString) cut = firstNonWS(line);\n          self.replaceRange(baseString + commentString + pad, Pos(i, 0), Pos(i, cut));\n        }\n      } else {\n        for (var i = from.line; i < end; ++i) {\n          if (blankLines || nonWS.test(self.getLine(i)))\n            self.replaceRange(commentString + pad, Pos(i, 0));\n        }\n      }\n    });\n  });\n\n  CodeMirror.defineExtension(\"blockComment\", function(from, to, options) {\n    if (!options) options = noOptions;\n    var self = this, mode = getMode(self, from);\n    var startString = options.blockCommentStart || mode.blockCommentStart;\n    var endString = options.blockCommentEnd || mode.blockCommentEnd;\n    if (!startString || !endString) {\n      if ((options.lineComment || mode.lineComment) && options.fullLines != false)\n        self.lineComment(from, to, options);\n      return;\n    }\n    if (/\\bcomment\\b/.test(self.getTokenTypeAt(Pos(from.line, 0)))) return\n\n    var end = Math.min(to.line, self.lastLine());\n    if (end != from.line && to.ch == 0 && nonWS.test(self.getLine(end))) --end;\n\n    var pad = options.padding == null ? \" \" : options.padding;\n    if (from.line > end) return;\n\n    self.operation(function() {\n      if (options.fullLines != false) {\n        var lastLineHasText = nonWS.test(self.getLine(end));\n        self.replaceRange(pad + endString, Pos(end));\n        self.replaceRange(startString + pad, Pos(from.line, 0));\n        var lead = options.blockCommentLead || mode.blockCommentLead;\n        if (lead != null) for (var i = from.line + 1; i <= end; ++i)\n          if (i != end || lastLineHasText)\n            self.replaceRange(lead + pad, Pos(i, 0));\n      } else {\n        var atCursor = cmp(self.getCursor(\"to\"), to) == 0, empty = !self.somethingSelected()\n        self.replaceRange(endString, to);\n        if (atCursor) self.setSelection(empty ? to : self.getCursor(\"from\"), to)\n        self.replaceRange(startString, from);\n      }\n    });\n  });\n\n  CodeMirror.defineExtension(\"uncomment\", function(from, to, options) {\n    if (!options) options = noOptions;\n    var self = this, mode = getMode(self, from);\n    var end = Math.min(to.ch != 0 || to.line == from.line ? to.line : to.line - 1, self.lastLine()), start = Math.min(from.line, end);\n\n    // Try finding line comments\n    var lineString = options.lineComment || mode.lineComment, lines = [];\n    var pad = options.padding == null ? \" \" : options.padding, didSomething;\n    lineComment: {\n      if (!lineString) break lineComment;\n      for (var i = start; i <= end; ++i) {\n        var line = self.getLine(i);\n        var found = line.indexOf(lineString);\n        if (found > -1 && !/comment/.test(self.getTokenTypeAt(Pos(i, found + 1)))) found = -1;\n        if (found == -1 && nonWS.test(line)) break lineComment;\n        if (found > -1 && nonWS.test(line.slice(0, found))) break lineComment;\n        lines.push(line);\n      }\n      self.operation(function() {\n        for (var i = start; i <= end; ++i) {\n          var line = lines[i - start];\n          var pos = line.indexOf(lineString), endPos = pos + lineString.length;\n          if (pos < 0) continue;\n          if (line.slice(endPos, endPos + pad.length) == pad) endPos += pad.length;\n          didSomething = true;\n          self.replaceRange(\"\", Pos(i, pos), Pos(i, endPos));\n        }\n      });\n      if (didSomething) return true;\n    }\n\n    // Try block comments\n    var startString = options.blockCommentStart || mode.blockCommentStart;\n    var endString = options.blockCommentEnd || mode.blockCommentEnd;\n    if (!startString || !endString) return false;\n    var lead = options.blockCommentLead || mode.blockCommentLead;\n    var startLine = self.getLine(start), open = startLine.indexOf(startString)\n    if (open == -1) return false\n    var endLine = end == start ? startLine : self.getLine(end)\n    var close = endLine.indexOf(endString, end == start ? open + startString.length : 0);\n    var insideStart = Pos(start, open + 1), insideEnd = Pos(end, close + 1)\n    if (close == -1 ||\n        !/comment/.test(self.getTokenTypeAt(insideStart)) ||\n        !/comment/.test(self.getTokenTypeAt(insideEnd)) ||\n        self.getRange(insideStart, insideEnd, \"\\n\").indexOf(endString) > -1)\n      return false;\n\n    // Avoid killing block comments completely outside the selection.\n    // Positions of the last startString before the start of the selection, and the first endString after it.\n    var lastStart = startLine.lastIndexOf(startString, from.ch);\n    var firstEnd = lastStart == -1 ? -1 : startLine.slice(0, from.ch).indexOf(endString, lastStart + startString.length);\n    if (lastStart != -1 && firstEnd != -1 && firstEnd + endString.length != from.ch) return false;\n    // Positions of the first endString after the end of the selection, and the last startString before it.\n    firstEnd = endLine.indexOf(endString, to.ch);\n    var almostLastStart = endLine.slice(to.ch).lastIndexOf(startString, firstEnd - to.ch);\n    lastStart = (firstEnd == -1 || almostLastStart == -1) ? -1 : to.ch + almostLastStart;\n    if (firstEnd != -1 && lastStart != -1 && lastStart != to.ch) return false;\n\n    self.operation(function() {\n      self.replaceRange(\"\", Pos(end, close - (pad && endLine.slice(close - pad.length, close) == pad ? pad.length : 0)),\n                        Pos(end, close + endString.length));\n      var openEnd = open + startString.length;\n      if (pad && startLine.slice(openEnd, openEnd + pad.length) == pad) openEnd += pad.length;\n      self.replaceRange(\"\", Pos(start, open), Pos(start, openEnd));\n      if (lead) for (var i = start + 1; i <= end; ++i) {\n        var line = self.getLine(i), found = line.indexOf(lead);\n        if (found == -1 || nonWS.test(line.slice(0, found))) continue;\n        var foundEnd = found + lead.length;\n        if (pad && line.slice(foundEnd, foundEnd + pad.length) == pad) foundEnd += pad.length;\n        self.replaceRange(\"\", Pos(i, found), Pos(i, foundEnd));\n      }\n    });\n    return true;\n  });\n});\n","import globalThis from \"../globalThis.js\";\nexport const nextTick = (() => {\n    const isPromiseAvailable = typeof Promise === \"function\" && typeof Promise.resolve === \"function\";\n    if (isPromiseAvailable) {\n        return cb => Promise.resolve().then(cb);\n    }\n    else {\n        return (cb, setTimeoutFn) => setTimeoutFn(cb, 0);\n    }\n})();\nexport const WebSocket = globalThis.WebSocket || globalThis.MozWebSocket;\nexport const usingBrowserWebSocket = true;\nexport const defaultBinaryType = \"arraybuffer\";\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"fill-height\",attrs:{\"fluid\":\"\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":12}},[(!_vm.logged)?_c('v-container',[_c('v-row',{attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"8\",\"md\":\"4\"}},[_c('v-form',[_c('v-text-field',{attrs:{\"counter\":10,\"label\":\"Name\",\"required\":\"\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_c('v-text-field',{attrs:{\"counter\":10,\"label\":\"Room\",\"required\":\"\"},model:{value:(_vm.room),callback:function ($$v) {_vm.room=$$v},expression:\"room\"}}),_c('v-btn',{staticClass:\"mr-4\",attrs:{\"color\":\"green\"},on:{\"click\":_vm.createUser}},[_vm._v(\" Go \")])],1)],1)],1)],1):_c('v-container',[_c('v-row',{staticClass:\"px-2\"},[_c('v-col',[(!_vm.users.length)?_c('p',[_vm._v(\"Please wait while the website is trying to access to the server\")]):_vm._e(),_c('p',[_vm._v(\"Current users: \"+_vm._s(_vm.users.length)+\" users\")]),_vm._l((_vm.users),function(user){return _c('v-card-text',{key:user.id},[_c('div',[_vm._v(\"Name\")]),_c('p',{staticClass:\"text-h4 text--primary\"},[_vm._v(\" \"+_vm._s(user.name)+\" \"),(user.id == _vm.socket.id)?_c('span',{staticClass:\"text-center\"},[_vm._v(\" (You) \"),_c('v-btn',{attrs:{\"align\":\"right\"},on:{\"click\":_vm.exitRoom}},[_vm._v(\" Exit \")])],1):_vm._e()])])}),_c('div',{staticClass:\"d-flex\"},[_c('v-text-field',{attrs:{\"label\":\"Loss chance (0 to 1.0)\",\"outlined\":\"\",\"type\":\"number\"},model:{value:(_vm.numberValue),callback:function ($$v) {_vm.numberValue=$$v},expression:\"numberValue\"}}),_c('v-btn',{attrs:{\"x-large\":\"\"},on:{\"click\":_vm.setLoss}},[_vm._v(\" Set \")])],1)],2)],1),_c('v-row',{staticClass:\"px-2\"},[_c('v-col',[_c('Editor',{ref:\"editor\",on:{\"input\":_vm.socketUpdateText,\"newCursor\":_vm.socketUpdateCursor},model:{value:(_vm.code),callback:function ($$v) {_vm.code=$$v},expression:\"code\"}})],1)],1)],1),_c('v-snackbar',{attrs:{\"timeout\":_vm.timeout},model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_vm._v(\" \"+_vm._s(_vm.notiContent)+\" \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import parseuri from \"parseuri\";\n/**\n * URL parser.\n *\n * @param uri - url\n * @param path - the request path of the connection\n * @param loc - An object meant to mimic window.location.\n *        Defaults to window.location.\n * @public\n */\nexport function url(uri, path = \"\", loc) {\n    let obj = uri;\n    // default to window.location\n    loc = loc || (typeof location !== \"undefined\" && location);\n    if (null == uri)\n        uri = loc.protocol + \"//\" + loc.host;\n    // relative path support\n    if (typeof uri === \"string\") {\n        if (\"/\" === uri.charAt(0)) {\n            if (\"/\" === uri.charAt(1)) {\n                uri = loc.protocol + uri;\n            }\n            else {\n                uri = loc.host + uri;\n            }\n        }\n        if (!/^(https?|wss?):\\/\\//.test(uri)) {\n            if (\"undefined\" !== typeof loc) {\n                uri = loc.protocol + \"//\" + uri;\n            }\n            else {\n                uri = \"https://\" + uri;\n            }\n        }\n        // parse\n        obj = parseuri(uri);\n    }\n    // make sure we treat `localhost:80` and `localhost` equally\n    if (!obj.port) {\n        if (/^(http|ws)$/.test(obj.protocol)) {\n            obj.port = \"80\";\n        }\n        else if (/^(http|ws)s$/.test(obj.protocol)) {\n            obj.port = \"443\";\n        }\n    }\n    obj.path = obj.path || \"/\";\n    const ipv6 = obj.host.indexOf(\":\") !== -1;\n    const host = ipv6 ? \"[\" + obj.host + \"]\" : obj.host;\n    // define unique id\n    obj.id = obj.protocol + \"://\" + host + \":\" + obj.port + path;\n    // define href\n    obj.href =\n        obj.protocol +\n            \"://\" +\n            host +\n            (loc && loc.port === obj.port ? \"\" : \":\" + obj.port);\n    return obj;\n}\n","// browser shim for xmlhttprequest module\nimport hasCORS from \"has-cors\";\nimport globalThis from \"../globalThis.js\";\nexport default function (opts) {\n    const xdomain = opts.xdomain;\n    // XMLHttpRequest can be disabled on IE\n    try {\n        if (\"undefined\" !== typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n            return new XMLHttpRequest();\n        }\n    }\n    catch (e) { }\n    if (!xdomain) {\n        try {\n            return new globalThis[[\"Active\"].concat(\"Object\").join(\"X\")](\"Microsoft.XMLHTTP\");\n        }\n        catch (e) { }\n    }\n}\n","import { Transport } from \"../transport.js\";\nimport yeast from \"yeast\";\nimport parseqs from \"parseqs\";\nimport { encodePayload, decodePayload } from \"engine.io-parser\";\nexport class Polling extends Transport {\n    constructor() {\n        super(...arguments);\n        this.polling = false;\n    }\n    /**\n     * Transport name.\n     */\n    get name() {\n        return \"polling\";\n    }\n    /**\n     * Opens the socket (triggers polling). We write a PING message to determine\n     * when the transport is open.\n     *\n     * @api private\n     */\n    doOpen() {\n        this.poll();\n    }\n    /**\n     * Pauses polling.\n     *\n     * @param {Function} callback upon buffers are flushed and transport is paused\n     * @api private\n     */\n    pause(onPause) {\n        this.readyState = \"pausing\";\n        const pause = () => {\n            this.readyState = \"paused\";\n            onPause();\n        };\n        if (this.polling || !this.writable) {\n            let total = 0;\n            if (this.polling) {\n                total++;\n                this.once(\"pollComplete\", function () {\n                    --total || pause();\n                });\n            }\n            if (!this.writable) {\n                total++;\n                this.once(\"drain\", function () {\n                    --total || pause();\n                });\n            }\n        }\n        else {\n            pause();\n        }\n    }\n    /**\n     * Starts polling cycle.\n     *\n     * @api public\n     */\n    poll() {\n        this.polling = true;\n        this.doPoll();\n        this.emit(\"poll\");\n    }\n    /**\n     * Overloads onData to detect payloads.\n     *\n     * @api private\n     */\n    onData(data) {\n        const callback = packet => {\n            // if its the first message we consider the transport open\n            if (\"opening\" === this.readyState && packet.type === \"open\") {\n                this.onOpen();\n            }\n            // if its a close packet, we close the ongoing requests\n            if (\"close\" === packet.type) {\n                this.onClose();\n                return false;\n            }\n            // otherwise bypass onData and handle the message\n            this.onPacket(packet);\n        };\n        // decode payload\n        decodePayload(data, this.socket.binaryType).forEach(callback);\n        // if an event did not trigger closing\n        if (\"closed\" !== this.readyState) {\n            // if we got data we're not polling\n            this.polling = false;\n            this.emit(\"pollComplete\");\n            if (\"open\" === this.readyState) {\n                this.poll();\n            }\n            else {\n            }\n        }\n    }\n    /**\n     * For polling, send a close packet.\n     *\n     * @api private\n     */\n    doClose() {\n        const close = () => {\n            this.write([{ type: \"close\" }]);\n        };\n        if (\"open\" === this.readyState) {\n            close();\n        }\n        else {\n            // in case we're trying to close while\n            // handshaking is in progress (GH-164)\n            this.once(\"open\", close);\n        }\n    }\n    /**\n     * Writes a packets payload.\n     *\n     * @param {Array} data packets\n     * @param {Function} drain callback\n     * @api private\n     */\n    write(packets) {\n        this.writable = false;\n        encodePayload(packets, data => {\n            this.doWrite(data, () => {\n                this.writable = true;\n                this.emit(\"drain\");\n            });\n        });\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @api private\n     */\n    uri() {\n        let query = this.query || {};\n        const schema = this.opts.secure ? \"https\" : \"http\";\n        let port = \"\";\n        // cache busting is forced\n        if (false !== this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = yeast();\n        }\n        if (!this.supportsBinary && !query.sid) {\n            query.b64 = 1;\n        }\n        // avoid port if default for schema\n        if (this.opts.port &&\n            ((\"https\" === schema && Number(this.opts.port) !== 443) ||\n                (\"http\" === schema && Number(this.opts.port) !== 80))) {\n            port = \":\" + this.opts.port;\n        }\n        const encodedQuery = parseqs.encode(query);\n        const ipv6 = this.opts.hostname.indexOf(\":\") !== -1;\n        return (schema +\n            \"://\" +\n            (ipv6 ? \"[\" + this.opts.hostname + \"]\" : this.opts.hostname) +\n            port +\n            this.opts.path +\n            (encodedQuery.length ? \"?\" + encodedQuery : \"\"));\n    }\n}\n","/* global attachEvent */\nimport XMLHttpRequest from \"./xmlhttprequest.js\";\nimport globalThis from \"../globalThis.js\";\nimport { installTimerFunctions, pick } from \"../util.js\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { Polling } from \"./polling.js\";\n/**\n * Empty function\n */\nfunction empty() { }\nconst hasXHR2 = (function () {\n    const xhr = new XMLHttpRequest({\n        xdomain: false\n    });\n    return null != xhr.responseType;\n})();\nexport class XHR extends Polling {\n    /**\n     * XHR Polling constructor.\n     *\n     * @param {Object} opts\n     * @api public\n     */\n    constructor(opts) {\n        super(opts);\n        if (typeof location !== \"undefined\") {\n            const isSSL = \"https:\" === location.protocol;\n            let port = location.port;\n            // some user agents have empty `location.port`\n            if (!port) {\n                port = isSSL ? \"443\" : \"80\";\n            }\n            this.xd =\n                (typeof location !== \"undefined\" &&\n                    opts.hostname !== location.hostname) ||\n                    port !== opts.port;\n            this.xs = opts.secure !== isSSL;\n        }\n        /**\n         * XHR supports binary\n         */\n        const forceBase64 = opts && opts.forceBase64;\n        this.supportsBinary = hasXHR2 && !forceBase64;\n    }\n    /**\n     * Creates a request.\n     *\n     * @param {String} method\n     * @api private\n     */\n    request(opts = {}) {\n        Object.assign(opts, { xd: this.xd, xs: this.xs }, this.opts);\n        return new Request(this.uri(), opts);\n    }\n    /**\n     * Sends data.\n     *\n     * @param {String} data to send.\n     * @param {Function} called upon flush.\n     * @api private\n     */\n    doWrite(data, fn) {\n        const req = this.request({\n            method: \"POST\",\n            data: data\n        });\n        req.on(\"success\", fn);\n        req.on(\"error\", err => {\n            this.onError(\"xhr post error\", err);\n        });\n    }\n    /**\n     * Starts a poll cycle.\n     *\n     * @api private\n     */\n    doPoll() {\n        const req = this.request();\n        req.on(\"data\", this.onData.bind(this));\n        req.on(\"error\", err => {\n            this.onError(\"xhr poll error\", err);\n        });\n        this.pollXhr = req;\n    }\n}\nexport class Request extends Emitter {\n    /**\n     * Request constructor\n     *\n     * @param {Object} options\n     * @api public\n     */\n    constructor(uri, opts) {\n        super();\n        installTimerFunctions(this, opts);\n        this.opts = opts;\n        this.method = opts.method || \"GET\";\n        this.uri = uri;\n        this.async = false !== opts.async;\n        this.data = undefined !== opts.data ? opts.data : null;\n        this.create();\n    }\n    /**\n     * Creates the XHR object and sends the request.\n     *\n     * @api private\n     */\n    create() {\n        const opts = pick(this.opts, \"agent\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"autoUnref\");\n        opts.xdomain = !!this.opts.xd;\n        opts.xscheme = !!this.opts.xs;\n        const xhr = (this.xhr = new XMLHttpRequest(opts));\n        try {\n            xhr.open(this.method, this.uri, this.async);\n            try {\n                if (this.opts.extraHeaders) {\n                    xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n                    for (let i in this.opts.extraHeaders) {\n                        if (this.opts.extraHeaders.hasOwnProperty(i)) {\n                            xhr.setRequestHeader(i, this.opts.extraHeaders[i]);\n                        }\n                    }\n                }\n            }\n            catch (e) { }\n            if (\"POST\" === this.method) {\n                try {\n                    xhr.setRequestHeader(\"Content-type\", \"text/plain;charset=UTF-8\");\n                }\n                catch (e) { }\n            }\n            try {\n                xhr.setRequestHeader(\"Accept\", \"*/*\");\n            }\n            catch (e) { }\n            // ie6 check\n            if (\"withCredentials\" in xhr) {\n                xhr.withCredentials = this.opts.withCredentials;\n            }\n            if (this.opts.requestTimeout) {\n                xhr.timeout = this.opts.requestTimeout;\n            }\n            xhr.onreadystatechange = () => {\n                if (4 !== xhr.readyState)\n                    return;\n                if (200 === xhr.status || 1223 === xhr.status) {\n                    this.onLoad();\n                }\n                else {\n                    // make sure the `error` event handler that's user-set\n                    // does not throw in the same tick and gets caught here\n                    this.setTimeoutFn(() => {\n                        this.onError(typeof xhr.status === \"number\" ? xhr.status : 0);\n                    }, 0);\n                }\n            };\n            xhr.send(this.data);\n        }\n        catch (e) {\n            // Need to defer since .create() is called directly from the constructor\n            // and thus the 'error' event can only be only bound *after* this exception\n            // occurs.  Therefore, also, we cannot throw here at all.\n            this.setTimeoutFn(() => {\n                this.onError(e);\n            }, 0);\n            return;\n        }\n        if (typeof document !== \"undefined\") {\n            this.index = Request.requestsCount++;\n            Request.requests[this.index] = this;\n        }\n    }\n    /**\n     * Called upon successful response.\n     *\n     * @api private\n     */\n    onSuccess() {\n        this.emit(\"success\");\n        this.cleanup();\n    }\n    /**\n     * Called if we have data.\n     *\n     * @api private\n     */\n    onData(data) {\n        this.emit(\"data\", data);\n        this.onSuccess();\n    }\n    /**\n     * Called upon error.\n     *\n     * @api private\n     */\n    onError(err) {\n        this.emit(\"error\", err);\n        this.cleanup(true);\n    }\n    /**\n     * Cleans up house.\n     *\n     * @api private\n     */\n    cleanup(fromError) {\n        if (\"undefined\" === typeof this.xhr || null === this.xhr) {\n            return;\n        }\n        this.xhr.onreadystatechange = empty;\n        if (fromError) {\n            try {\n                this.xhr.abort();\n            }\n            catch (e) { }\n        }\n        if (typeof document !== \"undefined\") {\n            delete Request.requests[this.index];\n        }\n        this.xhr = null;\n    }\n    /**\n     * Called upon load.\n     *\n     * @api private\n     */\n    onLoad() {\n        const data = this.xhr.responseText;\n        if (data !== null) {\n            this.onData(data);\n        }\n    }\n    /**\n     * Aborts the request.\n     *\n     * @api public\n     */\n    abort() {\n        this.cleanup();\n    }\n}\nRequest.requestsCount = 0;\nRequest.requests = {};\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\nif (typeof document !== \"undefined\") {\n    // @ts-ignore\n    if (typeof attachEvent === \"function\") {\n        // @ts-ignore\n        attachEvent(\"onunload\", unloadHandler);\n    }\n    else if (typeof addEventListener === \"function\") {\n        const terminationEvent = \"onpagehide\" in globalThis ? \"pagehide\" : \"unload\";\n        addEventListener(terminationEvent, unloadHandler, false);\n    }\n}\nfunction unloadHandler() {\n    for (let i in Request.requests) {\n        if (Request.requests.hasOwnProperty(i)) {\n            Request.requests[i].abort();\n        }\n    }\n}\n","import { XHR } from \"./polling-xhr.js\";\nimport { WS } from \"./websocket.js\";\nexport const transports = {\n    websocket: WS,\n    polling: XHR\n};\n","import { transports } from \"./transports/index.js\";\nimport { installTimerFunctions } from \"./util.js\";\nimport parseqs from \"parseqs\";\nimport parseuri from \"parseuri\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { protocol } from \"engine.io-parser\";\nexport class Socket extends Emitter {\n    /**\n     * Socket constructor.\n     *\n     * @param {String|Object} uri or options\n     * @param {Object} opts - options\n     * @api public\n     */\n    constructor(uri, opts = {}) {\n        super();\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = null;\n        }\n        if (uri) {\n            uri = parseuri(uri);\n            opts.hostname = uri.host;\n            opts.secure = uri.protocol === \"https\" || uri.protocol === \"wss\";\n            opts.port = uri.port;\n            if (uri.query)\n                opts.query = uri.query;\n        }\n        else if (opts.host) {\n            opts.hostname = parseuri(opts.host).host;\n        }\n        installTimerFunctions(this, opts);\n        this.secure =\n            null != opts.secure\n                ? opts.secure\n                : typeof location !== \"undefined\" && \"https:\" === location.protocol;\n        if (opts.hostname && !opts.port) {\n            // if no port is specified manually, use the protocol default\n            opts.port = this.secure ? \"443\" : \"80\";\n        }\n        this.hostname =\n            opts.hostname ||\n                (typeof location !== \"undefined\" ? location.hostname : \"localhost\");\n        this.port =\n            opts.port ||\n                (typeof location !== \"undefined\" && location.port\n                    ? location.port\n                    : this.secure\n                        ? \"443\"\n                        : \"80\");\n        this.transports = opts.transports || [\"polling\", \"websocket\"];\n        this.readyState = \"\";\n        this.writeBuffer = [];\n        this.prevBufferLen = 0;\n        this.opts = Object.assign({\n            path: \"/engine.io\",\n            agent: false,\n            withCredentials: false,\n            upgrade: true,\n            timestampParam: \"t\",\n            rememberUpgrade: false,\n            rejectUnauthorized: true,\n            perMessageDeflate: {\n                threshold: 1024\n            },\n            transportOptions: {},\n            closeOnBeforeunload: true\n        }, opts);\n        this.opts.path = this.opts.path.replace(/\\/$/, \"\") + \"/\";\n        if (typeof this.opts.query === \"string\") {\n            this.opts.query = parseqs.decode(this.opts.query);\n        }\n        // set on handshake\n        this.id = null;\n        this.upgrades = null;\n        this.pingInterval = null;\n        this.pingTimeout = null;\n        // set on heartbeat\n        this.pingTimeoutTimer = null;\n        if (typeof addEventListener === \"function\") {\n            if (this.opts.closeOnBeforeunload) {\n                // Firefox closes the connection when the \"beforeunload\" event is emitted but not Chrome. This event listener\n                // ensures every browser behaves the same (no \"disconnect\" event at the Socket.IO level when the page is\n                // closed/reloaded)\n                addEventListener(\"beforeunload\", () => {\n                    if (this.transport) {\n                        // silently close the transport\n                        this.transport.removeAllListeners();\n                        this.transport.close();\n                    }\n                }, false);\n            }\n            if (this.hostname !== \"localhost\") {\n                this.offlineEventListener = () => {\n                    this.onClose(\"transport close\");\n                };\n                addEventListener(\"offline\", this.offlineEventListener, false);\n            }\n        }\n        this.open();\n    }\n    /**\n     * Creates transport of the given type.\n     *\n     * @param {String} transport name\n     * @return {Transport}\n     * @api private\n     */\n    createTransport(name) {\n        const query = clone(this.opts.query);\n        // append engine.io protocol identifier\n        query.EIO = protocol;\n        // transport name\n        query.transport = name;\n        // session id if we already have one\n        if (this.id)\n            query.sid = this.id;\n        const opts = Object.assign({}, this.opts.transportOptions[name], this.opts, {\n            query,\n            socket: this,\n            hostname: this.hostname,\n            secure: this.secure,\n            port: this.port\n        });\n        return new transports[name](opts);\n    }\n    /**\n     * Initializes transport to use and starts probe.\n     *\n     * @api private\n     */\n    open() {\n        let transport;\n        if (this.opts.rememberUpgrade &&\n            Socket.priorWebsocketSuccess &&\n            this.transports.indexOf(\"websocket\") !== -1) {\n            transport = \"websocket\";\n        }\n        else if (0 === this.transports.length) {\n            // Emit error on next tick so it can be listened to\n            this.setTimeoutFn(() => {\n                this.emitReserved(\"error\", \"No transports available\");\n            }, 0);\n            return;\n        }\n        else {\n            transport = this.transports[0];\n        }\n        this.readyState = \"opening\";\n        // Retry with the next transport if the transport is disabled (jsonp: false)\n        try {\n            transport = this.createTransport(transport);\n        }\n        catch (e) {\n            this.transports.shift();\n            this.open();\n            return;\n        }\n        transport.open();\n        this.setTransport(transport);\n    }\n    /**\n     * Sets the current transport. Disables the existing one (if any).\n     *\n     * @api private\n     */\n    setTransport(transport) {\n        if (this.transport) {\n            this.transport.removeAllListeners();\n        }\n        // set up transport\n        this.transport = transport;\n        // set up transport listeners\n        transport\n            .on(\"drain\", this.onDrain.bind(this))\n            .on(\"packet\", this.onPacket.bind(this))\n            .on(\"error\", this.onError.bind(this))\n            .on(\"close\", () => {\n            this.onClose(\"transport close\");\n        });\n    }\n    /**\n     * Probes a transport.\n     *\n     * @param {String} transport name\n     * @api private\n     */\n    probe(name) {\n        let transport = this.createTransport(name);\n        let failed = false;\n        Socket.priorWebsocketSuccess = false;\n        const onTransportOpen = () => {\n            if (failed)\n                return;\n            transport.send([{ type: \"ping\", data: \"probe\" }]);\n            transport.once(\"packet\", msg => {\n                if (failed)\n                    return;\n                if (\"pong\" === msg.type && \"probe\" === msg.data) {\n                    this.upgrading = true;\n                    this.emitReserved(\"upgrading\", transport);\n                    if (!transport)\n                        return;\n                    Socket.priorWebsocketSuccess = \"websocket\" === transport.name;\n                    this.transport.pause(() => {\n                        if (failed)\n                            return;\n                        if (\"closed\" === this.readyState)\n                            return;\n                        cleanup();\n                        this.setTransport(transport);\n                        transport.send([{ type: \"upgrade\" }]);\n                        this.emitReserved(\"upgrade\", transport);\n                        transport = null;\n                        this.upgrading = false;\n                        this.flush();\n                    });\n                }\n                else {\n                    const err = new Error(\"probe error\");\n                    // @ts-ignore\n                    err.transport = transport.name;\n                    this.emitReserved(\"upgradeError\", err);\n                }\n            });\n        };\n        function freezeTransport() {\n            if (failed)\n                return;\n            // Any callback called by transport should be ignored since now\n            failed = true;\n            cleanup();\n            transport.close();\n            transport = null;\n        }\n        // Handle any error that happens while probing\n        const onerror = err => {\n            const error = new Error(\"probe error: \" + err);\n            // @ts-ignore\n            error.transport = transport.name;\n            freezeTransport();\n            this.emitReserved(\"upgradeError\", error);\n        };\n        function onTransportClose() {\n            onerror(\"transport closed\");\n        }\n        // When the socket is closed while we're probing\n        function onclose() {\n            onerror(\"socket closed\");\n        }\n        // When the socket is upgraded while we're probing\n        function onupgrade(to) {\n            if (transport && to.name !== transport.name) {\n                freezeTransport();\n            }\n        }\n        // Remove all listeners on the transport and on self\n        const cleanup = () => {\n            transport.removeListener(\"open\", onTransportOpen);\n            transport.removeListener(\"error\", onerror);\n            transport.removeListener(\"close\", onTransportClose);\n            this.off(\"close\", onclose);\n            this.off(\"upgrading\", onupgrade);\n        };\n        transport.once(\"open\", onTransportOpen);\n        transport.once(\"error\", onerror);\n        transport.once(\"close\", onTransportClose);\n        this.once(\"close\", onclose);\n        this.once(\"upgrading\", onupgrade);\n        transport.open();\n    }\n    /**\n     * Called when connection is deemed open.\n     *\n     * @api private\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        Socket.priorWebsocketSuccess = \"websocket\" === this.transport.name;\n        this.emitReserved(\"open\");\n        this.flush();\n        // we check for `readyState` in case an `open`\n        // listener already closed the socket\n        if (\"open\" === this.readyState &&\n            this.opts.upgrade &&\n            this.transport.pause) {\n            let i = 0;\n            const l = this.upgrades.length;\n            for (; i < l; i++) {\n                this.probe(this.upgrades[i]);\n            }\n        }\n    }\n    /**\n     * Handles a packet.\n     *\n     * @api private\n     */\n    onPacket(packet) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            this.emitReserved(\"packet\", packet);\n            // Socket is live - any packet counts\n            this.emitReserved(\"heartbeat\");\n            switch (packet.type) {\n                case \"open\":\n                    this.onHandshake(JSON.parse(packet.data));\n                    break;\n                case \"ping\":\n                    this.resetPingTimeout();\n                    this.sendPacket(\"pong\");\n                    this.emitReserved(\"ping\");\n                    this.emitReserved(\"pong\");\n                    break;\n                case \"error\":\n                    const err = new Error(\"server error\");\n                    // @ts-ignore\n                    err.code = packet.data;\n                    this.onError(err);\n                    break;\n                case \"message\":\n                    this.emitReserved(\"data\", packet.data);\n                    this.emitReserved(\"message\", packet.data);\n                    break;\n            }\n        }\n        else {\n        }\n    }\n    /**\n     * Called upon handshake completion.\n     *\n     * @param {Object} data - handshake obj\n     * @api private\n     */\n    onHandshake(data) {\n        this.emitReserved(\"handshake\", data);\n        this.id = data.sid;\n        this.transport.query.sid = data.sid;\n        this.upgrades = this.filterUpgrades(data.upgrades);\n        this.pingInterval = data.pingInterval;\n        this.pingTimeout = data.pingTimeout;\n        this.onOpen();\n        // In case open handler closes socket\n        if (\"closed\" === this.readyState)\n            return;\n        this.resetPingTimeout();\n    }\n    /**\n     * Sets and resets ping timeout timer based on server pings.\n     *\n     * @api private\n     */\n    resetPingTimeout() {\n        this.clearTimeoutFn(this.pingTimeoutTimer);\n        this.pingTimeoutTimer = this.setTimeoutFn(() => {\n            this.onClose(\"ping timeout\");\n        }, this.pingInterval + this.pingTimeout);\n        if (this.opts.autoUnref) {\n            this.pingTimeoutTimer.unref();\n        }\n    }\n    /**\n     * Called on `drain` event\n     *\n     * @api private\n     */\n    onDrain() {\n        this.writeBuffer.splice(0, this.prevBufferLen);\n        // setting prevBufferLen = 0 is very important\n        // for example, when upgrading, upgrade packet is sent over,\n        // and a nonzero prevBufferLen could cause problems on `drain`\n        this.prevBufferLen = 0;\n        if (0 === this.writeBuffer.length) {\n            this.emitReserved(\"drain\");\n        }\n        else {\n            this.flush();\n        }\n    }\n    /**\n     * Flush write buffers.\n     *\n     * @api private\n     */\n    flush() {\n        if (\"closed\" !== this.readyState &&\n            this.transport.writable &&\n            !this.upgrading &&\n            this.writeBuffer.length) {\n            this.transport.send(this.writeBuffer);\n            // keep track of current length of writeBuffer\n            // splice writeBuffer and callbackBuffer on `drain`\n            this.prevBufferLen = this.writeBuffer.length;\n            this.emitReserved(\"flush\");\n        }\n    }\n    /**\n     * Sends a message.\n     *\n     * @param {String} message.\n     * @param {Function} callback function.\n     * @param {Object} options.\n     * @return {Socket} for chaining.\n     * @api public\n     */\n    write(msg, options, fn) {\n        this.sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    send(msg, options, fn) {\n        this.sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param {String} packet type.\n     * @param {String} data.\n     * @param {Object} options.\n     * @param {Function} callback function.\n     * @api private\n     */\n    sendPacket(type, data, options, fn) {\n        if (\"function\" === typeof data) {\n            fn = data;\n            data = undefined;\n        }\n        if (\"function\" === typeof options) {\n            fn = options;\n            options = null;\n        }\n        if (\"closing\" === this.readyState || \"closed\" === this.readyState) {\n            return;\n        }\n        options = options || {};\n        options.compress = false !== options.compress;\n        const packet = {\n            type: type,\n            data: data,\n            options: options\n        };\n        this.emitReserved(\"packetCreate\", packet);\n        this.writeBuffer.push(packet);\n        if (fn)\n            this.once(\"flush\", fn);\n        this.flush();\n    }\n    /**\n     * Closes the connection.\n     *\n     * @api public\n     */\n    close() {\n        const close = () => {\n            this.onClose(\"forced close\");\n            this.transport.close();\n        };\n        const cleanupAndClose = () => {\n            this.off(\"upgrade\", cleanupAndClose);\n            this.off(\"upgradeError\", cleanupAndClose);\n            close();\n        };\n        const waitForUpgrade = () => {\n            // wait for upgrade to finish since we can't send packets while pausing a transport\n            this.once(\"upgrade\", cleanupAndClose);\n            this.once(\"upgradeError\", cleanupAndClose);\n        };\n        if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n            this.readyState = \"closing\";\n            if (this.writeBuffer.length) {\n                this.once(\"drain\", () => {\n                    if (this.upgrading) {\n                        waitForUpgrade();\n                    }\n                    else {\n                        close();\n                    }\n                });\n            }\n            else if (this.upgrading) {\n                waitForUpgrade();\n            }\n            else {\n                close();\n            }\n        }\n        return this;\n    }\n    /**\n     * Called upon transport error\n     *\n     * @api private\n     */\n    onError(err) {\n        Socket.priorWebsocketSuccess = false;\n        this.emitReserved(\"error\", err);\n        this.onClose(\"transport error\", err);\n    }\n    /**\n     * Called upon transport close.\n     *\n     * @api private\n     */\n    onClose(reason, desc) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            // clear timers\n            this.clearTimeoutFn(this.pingTimeoutTimer);\n            // stop event from firing again for transport\n            this.transport.removeAllListeners(\"close\");\n            // ensure transport won't stay open\n            this.transport.close();\n            // ignore further transport communication\n            this.transport.removeAllListeners();\n            if (typeof removeEventListener === \"function\") {\n                removeEventListener(\"offline\", this.offlineEventListener, false);\n            }\n            // set ready state\n            this.readyState = \"closed\";\n            // clear session id\n            this.id = null;\n            // emit close event\n            this.emitReserved(\"close\", reason, desc);\n            // clean buffers after, so users can still\n            // grab the buffers on `close` event\n            this.writeBuffer = [];\n            this.prevBufferLen = 0;\n        }\n    }\n    /**\n     * Filters upgrades, returning only those matching client transports.\n     *\n     * @param {Array} server upgrades\n     * @api private\n     *\n     */\n    filterUpgrades(upgrades) {\n        const filteredUpgrades = [];\n        let i = 0;\n        const j = upgrades.length;\n        for (; i < j; i++) {\n            if (~this.transports.indexOf(upgrades[i]))\n                filteredUpgrades.push(upgrades[i]);\n        }\n        return filteredUpgrades;\n    }\n}\nSocket.protocol = protocol;\nfunction clone(obj) {\n    const o = {};\n    for (let i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            o[i] = obj[i];\n        }\n    }\n    return o;\n}\n","import { Socket } from \"./socket.js\";\nexport { Socket };\nexport const protocol = Socket.protocol;\nexport { Transport } from \"./transport.js\";\nexport { transports } from \"./transports/index.js\";\nexport { installTimerFunctions } from \"./util.js\";\n","const withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj.buffer instanceof ArrayBuffer;\n};\nconst toString = Object.prototype.toString;\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeFile = typeof File === \"function\" ||\n    (typeof File !== \"undefined\" &&\n        toString.call(File) === \"[object FileConstructor]\");\n/**\n * Returns true if obj is a Buffer, an ArrayBuffer, a Blob or a File.\n *\n * @private\n */\nexport function isBinary(obj) {\n    return ((withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj))) ||\n        (withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File));\n}\nexport function hasBinary(obj, toJSON) {\n    if (!obj || typeof obj !== \"object\") {\n        return false;\n    }\n    if (Array.isArray(obj)) {\n        for (let i = 0, l = obj.length; i < l; i++) {\n            if (hasBinary(obj[i])) {\n                return true;\n            }\n        }\n        return false;\n    }\n    if (isBinary(obj)) {\n        return true;\n    }\n    if (obj.toJSON &&\n        typeof obj.toJSON === \"function\" &&\n        arguments.length === 1) {\n        return hasBinary(obj.toJSON(), true);\n    }\n    for (const key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n            return true;\n        }\n    }\n    return false;\n}\n","import { isBinary } from \"./is-binary.js\";\n/**\n * Replaces every Buffer | ArrayBuffer | Blob | File in packet with a numbered placeholder.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @public\n */\nexport function deconstructPacket(packet) {\n    const buffers = [];\n    const packetData = packet.data;\n    const pack = packet;\n    pack.data = _deconstructPacket(packetData, buffers);\n    pack.attachments = buffers.length; // number of binary 'attachments'\n    return { packet: pack, buffers: buffers };\n}\nfunction _deconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (isBinary(data)) {\n        const placeholder = { _placeholder: true, num: buffers.length };\n        buffers.push(data);\n        return placeholder;\n    }\n    else if (Array.isArray(data)) {\n        const newData = new Array(data.length);\n        for (let i = 0; i < data.length; i++) {\n            newData[i] = _deconstructPacket(data[i], buffers);\n        }\n        return newData;\n    }\n    else if (typeof data === \"object\" && !(data instanceof Date)) {\n        const newData = {};\n        for (const key in data) {\n            if (data.hasOwnProperty(key)) {\n                newData[key] = _deconstructPacket(data[key], buffers);\n            }\n        }\n        return newData;\n    }\n    return data;\n}\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @public\n */\nexport function reconstructPacket(packet, buffers) {\n    packet.data = _reconstructPacket(packet.data, buffers);\n    packet.attachments = undefined; // no longer useful\n    return packet;\n}\nfunction _reconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (data && data._placeholder) {\n        return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n    }\n    else if (Array.isArray(data)) {\n        for (let i = 0; i < data.length; i++) {\n            data[i] = _reconstructPacket(data[i], buffers);\n        }\n    }\n    else if (typeof data === \"object\") {\n        for (const key in data) {\n            if (data.hasOwnProperty(key)) {\n                data[key] = _reconstructPacket(data[key], buffers);\n            }\n        }\n    }\n    return data;\n}\n","import { Emitter } from \"@socket.io/component-emitter\";\nimport { deconstructPacket, reconstructPacket } from \"./binary.js\";\nimport { isBinary, hasBinary } from \"./is-binary.js\";\n/**\n * Protocol version.\n *\n * @public\n */\nexport const protocol = 5;\nexport var PacketType;\n(function (PacketType) {\n    PacketType[PacketType[\"CONNECT\"] = 0] = \"CONNECT\";\n    PacketType[PacketType[\"DISCONNECT\"] = 1] = \"DISCONNECT\";\n    PacketType[PacketType[\"EVENT\"] = 2] = \"EVENT\";\n    PacketType[PacketType[\"ACK\"] = 3] = \"ACK\";\n    PacketType[PacketType[\"CONNECT_ERROR\"] = 4] = \"CONNECT_ERROR\";\n    PacketType[PacketType[\"BINARY_EVENT\"] = 5] = \"BINARY_EVENT\";\n    PacketType[PacketType[\"BINARY_ACK\"] = 6] = \"BINARY_ACK\";\n})(PacketType || (PacketType = {}));\n/**\n * A socket.io Encoder instance\n */\nexport class Encoder {\n    /**\n     * Encode a packet as a single string if non-binary, or as a\n     * buffer sequence, depending on packet type.\n     *\n     * @param {Object} obj - packet object\n     */\n    encode(obj) {\n        if (obj.type === PacketType.EVENT || obj.type === PacketType.ACK) {\n            if (hasBinary(obj)) {\n                obj.type =\n                    obj.type === PacketType.EVENT\n                        ? PacketType.BINARY_EVENT\n                        : PacketType.BINARY_ACK;\n                return this.encodeAsBinary(obj);\n            }\n        }\n        return [this.encodeAsString(obj)];\n    }\n    /**\n     * Encode packet as string.\n     */\n    encodeAsString(obj) {\n        // first is type\n        let str = \"\" + obj.type;\n        // attachments if we have them\n        if (obj.type === PacketType.BINARY_EVENT ||\n            obj.type === PacketType.BINARY_ACK) {\n            str += obj.attachments + \"-\";\n        }\n        // if we have a namespace other than `/`\n        // we append it followed by a comma `,`\n        if (obj.nsp && \"/\" !== obj.nsp) {\n            str += obj.nsp + \",\";\n        }\n        // immediately followed by the id\n        if (null != obj.id) {\n            str += obj.id;\n        }\n        // json data\n        if (null != obj.data) {\n            str += JSON.stringify(obj.data);\n        }\n        return str;\n    }\n    /**\n     * Encode packet as 'buffer sequence' by removing blobs, and\n     * deconstructing packet into object with placeholders and\n     * a list of buffers.\n     */\n    encodeAsBinary(obj) {\n        const deconstruction = deconstructPacket(obj);\n        const pack = this.encodeAsString(deconstruction.packet);\n        const buffers = deconstruction.buffers;\n        buffers.unshift(pack); // add packet info to beginning of data list\n        return buffers; // write all the buffers\n    }\n}\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n */\nexport class Decoder extends Emitter {\n    constructor() {\n        super();\n    }\n    /**\n     * Decodes an encoded packet string into packet JSON.\n     *\n     * @param {String} obj - encoded packet\n     */\n    add(obj) {\n        let packet;\n        if (typeof obj === \"string\") {\n            packet = this.decodeString(obj);\n            if (packet.type === PacketType.BINARY_EVENT ||\n                packet.type === PacketType.BINARY_ACK) {\n                // binary packet's json\n                this.reconstructor = new BinaryReconstructor(packet);\n                // no attachments, labeled binary but no binary data to follow\n                if (packet.attachments === 0) {\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n            else {\n                // non-binary full packet\n                super.emitReserved(\"decoded\", packet);\n            }\n        }\n        else if (isBinary(obj) || obj.base64) {\n            // raw binary data\n            if (!this.reconstructor) {\n                throw new Error(\"got binary data when not reconstructing a packet\");\n            }\n            else {\n                packet = this.reconstructor.takeBinaryData(obj);\n                if (packet) {\n                    // received final buffer\n                    this.reconstructor = null;\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n        }\n        else {\n            throw new Error(\"Unknown type: \" + obj);\n        }\n    }\n    /**\n     * Decode a packet String (JSON data)\n     *\n     * @param {String} str\n     * @return {Object} packet\n     */\n    decodeString(str) {\n        let i = 0;\n        // look up type\n        const p = {\n            type: Number(str.charAt(0)),\n        };\n        if (PacketType[p.type] === undefined) {\n            throw new Error(\"unknown packet type \" + p.type);\n        }\n        // look up attachments if type binary\n        if (p.type === PacketType.BINARY_EVENT ||\n            p.type === PacketType.BINARY_ACK) {\n            const start = i + 1;\n            while (str.charAt(++i) !== \"-\" && i != str.length) { }\n            const buf = str.substring(start, i);\n            if (buf != Number(buf) || str.charAt(i) !== \"-\") {\n                throw new Error(\"Illegal attachments\");\n            }\n            p.attachments = Number(buf);\n        }\n        // look up namespace (if any)\n        if (\"/\" === str.charAt(i + 1)) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (\",\" === c)\n                    break;\n                if (i === str.length)\n                    break;\n            }\n            p.nsp = str.substring(start, i);\n        }\n        else {\n            p.nsp = \"/\";\n        }\n        // look up id\n        const next = str.charAt(i + 1);\n        if (\"\" !== next && Number(next) == next) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (null == c || Number(c) != c) {\n                    --i;\n                    break;\n                }\n                if (i === str.length)\n                    break;\n            }\n            p.id = Number(str.substring(start, i + 1));\n        }\n        // look up json data\n        if (str.charAt(++i)) {\n            const payload = tryParse(str.substr(i));\n            if (Decoder.isPayloadValid(p.type, payload)) {\n                p.data = payload;\n            }\n            else {\n                throw new Error(\"invalid payload\");\n            }\n        }\n        return p;\n    }\n    static isPayloadValid(type, payload) {\n        switch (type) {\n            case PacketType.CONNECT:\n                return typeof payload === \"object\";\n            case PacketType.DISCONNECT:\n                return payload === undefined;\n            case PacketType.CONNECT_ERROR:\n                return typeof payload === \"string\" || typeof payload === \"object\";\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                return Array.isArray(payload) && payload.length > 0;\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                return Array.isArray(payload);\n        }\n    }\n    /**\n     * Deallocates a parser's resources\n     */\n    destroy() {\n        if (this.reconstructor) {\n            this.reconstructor.finishedReconstruction();\n        }\n    }\n}\nfunction tryParse(str) {\n    try {\n        return JSON.parse(str);\n    }\n    catch (e) {\n        return false;\n    }\n}\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n */\nclass BinaryReconstructor {\n    constructor(packet) {\n        this.packet = packet;\n        this.buffers = [];\n        this.reconPack = packet;\n    }\n    /**\n     * Method to be called when binary data received from connection\n     * after a BINARY_EVENT packet.\n     *\n     * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n     * @return {null | Object} returns null if more binary data is expected or\n     *   a reconstructed packet object if all buffers have been received.\n     */\n    takeBinaryData(binData) {\n        this.buffers.push(binData);\n        if (this.buffers.length === this.reconPack.attachments) {\n            // done with buffer list\n            const packet = reconstructPacket(this.reconPack, this.buffers);\n            this.finishedReconstruction();\n            return packet;\n        }\n        return null;\n    }\n    /**\n     * Cleans up binary packet reconstruction variables.\n     */\n    finishedReconstruction() {\n        this.reconPack = null;\n        this.buffers = [];\n    }\n}\n","export function on(obj, ev, fn) {\n    obj.on(ev, fn);\n    return function subDestroy() {\n        obj.off(ev, fn);\n    };\n}\n","import { PacketType } from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\n/**\n * Internal events.\n * These events can't be emitted by the user.\n */\nconst RESERVED_EVENTS = Object.freeze({\n    connect: 1,\n    connect_error: 1,\n    disconnect: 1,\n    disconnecting: 1,\n    // EventEmitter reserved events: https://nodejs.org/api/events.html#events_event_newlistener\n    newListener: 1,\n    removeListener: 1,\n});\nexport class Socket extends Emitter {\n    /**\n     * `Socket` constructor.\n     *\n     * @public\n     */\n    constructor(io, nsp, opts) {\n        super();\n        this.connected = false;\n        this.disconnected = true;\n        this.receiveBuffer = [];\n        this.sendBuffer = [];\n        this.ids = 0;\n        this.acks = {};\n        this.flags = {};\n        this.io = io;\n        this.nsp = nsp;\n        if (opts && opts.auth) {\n            this.auth = opts.auth;\n        }\n        if (this.io._autoConnect)\n            this.open();\n    }\n    /**\n     * Subscribe to open, close and packet events\n     *\n     * @private\n     */\n    subEvents() {\n        if (this.subs)\n            return;\n        const io = this.io;\n        this.subs = [\n            on(io, \"open\", this.onopen.bind(this)),\n            on(io, \"packet\", this.onpacket.bind(this)),\n            on(io, \"error\", this.onerror.bind(this)),\n            on(io, \"close\", this.onclose.bind(this)),\n        ];\n    }\n    /**\n     * Whether the Socket will try to reconnect when its Manager connects or reconnects\n     */\n    get active() {\n        return !!this.subs;\n    }\n    /**\n     * \"Opens\" the socket.\n     *\n     * @public\n     */\n    connect() {\n        if (this.connected)\n            return this;\n        this.subEvents();\n        if (!this.io[\"_reconnecting\"])\n            this.io.open(); // ensure open\n        if (\"open\" === this.io._readyState)\n            this.onopen();\n        return this;\n    }\n    /**\n     * Alias for connect()\n     */\n    open() {\n        return this.connect();\n    }\n    /**\n     * Sends a `message` event.\n     *\n     * @return self\n     * @public\n     */\n    send(...args) {\n        args.unshift(\"message\");\n        this.emit.apply(this, args);\n        return this;\n    }\n    /**\n     * Override `emit`.\n     * If the event is in `events`, it's emitted normally.\n     *\n     * @return self\n     * @public\n     */\n    emit(ev, ...args) {\n        if (RESERVED_EVENTS.hasOwnProperty(ev)) {\n            throw new Error('\"' + ev + '\" is a reserved event name');\n        }\n        args.unshift(ev);\n        const packet = {\n            type: PacketType.EVENT,\n            data: args,\n        };\n        packet.options = {};\n        packet.options.compress = this.flags.compress !== false;\n        // event ack callback\n        if (\"function\" === typeof args[args.length - 1]) {\n            const id = this.ids++;\n            const ack = args.pop();\n            this._registerAckCallback(id, ack);\n            packet.id = id;\n        }\n        const isTransportWritable = this.io.engine &&\n            this.io.engine.transport &&\n            this.io.engine.transport.writable;\n        const discardPacket = this.flags.volatile && (!isTransportWritable || !this.connected);\n        if (discardPacket) {\n        }\n        else if (this.connected) {\n            this.packet(packet);\n        }\n        else {\n            this.sendBuffer.push(packet);\n        }\n        this.flags = {};\n        return this;\n    }\n    /**\n     * @private\n     */\n    _registerAckCallback(id, ack) {\n        const timeout = this.flags.timeout;\n        if (timeout === undefined) {\n            this.acks[id] = ack;\n            return;\n        }\n        // @ts-ignore\n        const timer = this.io.setTimeoutFn(() => {\n            delete this.acks[id];\n            for (let i = 0; i < this.sendBuffer.length; i++) {\n                if (this.sendBuffer[i].id === id) {\n                    this.sendBuffer.splice(i, 1);\n                }\n            }\n            ack.call(this, new Error(\"operation has timed out\"));\n        }, timeout);\n        this.acks[id] = (...args) => {\n            // @ts-ignore\n            this.io.clearTimeoutFn(timer);\n            ack.apply(this, [null, ...args]);\n        };\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param packet\n     * @private\n     */\n    packet(packet) {\n        packet.nsp = this.nsp;\n        this.io._packet(packet);\n    }\n    /**\n     * Called upon engine `open`.\n     *\n     * @private\n     */\n    onopen() {\n        if (typeof this.auth == \"function\") {\n            this.auth((data) => {\n                this.packet({ type: PacketType.CONNECT, data });\n            });\n        }\n        else {\n            this.packet({ type: PacketType.CONNECT, data: this.auth });\n        }\n    }\n    /**\n     * Called upon engine or manager `error`.\n     *\n     * @param err\n     * @private\n     */\n    onerror(err) {\n        if (!this.connected) {\n            this.emitReserved(\"connect_error\", err);\n        }\n    }\n    /**\n     * Called upon engine `close`.\n     *\n     * @param reason\n     * @private\n     */\n    onclose(reason) {\n        this.connected = false;\n        this.disconnected = true;\n        delete this.id;\n        this.emitReserved(\"disconnect\", reason);\n    }\n    /**\n     * Called with socket packet.\n     *\n     * @param packet\n     * @private\n     */\n    onpacket(packet) {\n        const sameNamespace = packet.nsp === this.nsp;\n        if (!sameNamespace)\n            return;\n        switch (packet.type) {\n            case PacketType.CONNECT:\n                if (packet.data && packet.data.sid) {\n                    const id = packet.data.sid;\n                    this.onconnect(id);\n                }\n                else {\n                    this.emitReserved(\"connect_error\", new Error(\"It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)\"));\n                }\n                break;\n            case PacketType.EVENT:\n                this.onevent(packet);\n                break;\n            case PacketType.BINARY_EVENT:\n                this.onevent(packet);\n                break;\n            case PacketType.ACK:\n                this.onack(packet);\n                break;\n            case PacketType.BINARY_ACK:\n                this.onack(packet);\n                break;\n            case PacketType.DISCONNECT:\n                this.ondisconnect();\n                break;\n            case PacketType.CONNECT_ERROR:\n                this.destroy();\n                const err = new Error(packet.data.message);\n                // @ts-ignore\n                err.data = packet.data.data;\n                this.emitReserved(\"connect_error\", err);\n                break;\n        }\n    }\n    /**\n     * Called upon a server event.\n     *\n     * @param packet\n     * @private\n     */\n    onevent(packet) {\n        const args = packet.data || [];\n        if (null != packet.id) {\n            args.push(this.ack(packet.id));\n        }\n        if (this.connected) {\n            this.emitEvent(args);\n        }\n        else {\n            this.receiveBuffer.push(Object.freeze(args));\n        }\n    }\n    emitEvent(args) {\n        if (this._anyListeners && this._anyListeners.length) {\n            const listeners = this._anyListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, args);\n            }\n        }\n        super.emit.apply(this, args);\n    }\n    /**\n     * Produces an ack callback to emit with an event.\n     *\n     * @private\n     */\n    ack(id) {\n        const self = this;\n        let sent = false;\n        return function (...args) {\n            // prevent double callbacks\n            if (sent)\n                return;\n            sent = true;\n            self.packet({\n                type: PacketType.ACK,\n                id: id,\n                data: args,\n            });\n        };\n    }\n    /**\n     * Called upon a server acknowlegement.\n     *\n     * @param packet\n     * @private\n     */\n    onack(packet) {\n        const ack = this.acks[packet.id];\n        if (\"function\" === typeof ack) {\n            ack.apply(this, packet.data);\n            delete this.acks[packet.id];\n        }\n        else {\n        }\n    }\n    /**\n     * Called upon server connect.\n     *\n     * @private\n     */\n    onconnect(id) {\n        this.id = id;\n        this.connected = true;\n        this.disconnected = false;\n        this.emitBuffered();\n        this.emitReserved(\"connect\");\n    }\n    /**\n     * Emit buffered events (received and emitted).\n     *\n     * @private\n     */\n    emitBuffered() {\n        this.receiveBuffer.forEach((args) => this.emitEvent(args));\n        this.receiveBuffer = [];\n        this.sendBuffer.forEach((packet) => this.packet(packet));\n        this.sendBuffer = [];\n    }\n    /**\n     * Called upon server disconnect.\n     *\n     * @private\n     */\n    ondisconnect() {\n        this.destroy();\n        this.onclose(\"io server disconnect\");\n    }\n    /**\n     * Called upon forced client/server side disconnections,\n     * this method ensures the manager stops tracking us and\n     * that reconnections don't get triggered for this.\n     *\n     * @private\n     */\n    destroy() {\n        if (this.subs) {\n            // clean subscriptions to avoid reconnections\n            this.subs.forEach((subDestroy) => subDestroy());\n            this.subs = undefined;\n        }\n        this.io[\"_destroy\"](this);\n    }\n    /**\n     * Disconnects the socket manually.\n     *\n     * @return self\n     * @public\n     */\n    disconnect() {\n        if (this.connected) {\n            this.packet({ type: PacketType.DISCONNECT });\n        }\n        // remove socket from pool\n        this.destroy();\n        if (this.connected) {\n            // fire events\n            this.onclose(\"io client disconnect\");\n        }\n        return this;\n    }\n    /**\n     * Alias for disconnect()\n     *\n     * @return self\n     * @public\n     */\n    close() {\n        return this.disconnect();\n    }\n    /**\n     * Sets the compress flag.\n     *\n     * @param compress - if `true`, compresses the sending data\n     * @return self\n     * @public\n     */\n    compress(compress) {\n        this.flags.compress = compress;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the event message will be dropped when this socket is not\n     * ready to send messages.\n     *\n     * @returns self\n     * @public\n     */\n    get volatile() {\n        this.flags.volatile = true;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the callback will be called with an error when the\n     * given number of milliseconds have elapsed without an acknowledgement from the server:\n     *\n     * ```\n     * socket.timeout(5000).emit(\"my-event\", (err) => {\n     *   if (err) {\n     *     // the server did not acknowledge the event in the given delay\n     *   }\n     * });\n     * ```\n     *\n     * @returns self\n     * @public\n     */\n    timeout(timeout) {\n        this.flags.timeout = timeout;\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * @param listener\n     * @public\n     */\n    onAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * @param listener\n     * @public\n     */\n    prependAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @param listener\n     * @public\n     */\n    offAny(listener) {\n        if (!this._anyListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     *\n     * @public\n     */\n    listenersAny() {\n        return this._anyListeners || [];\n    }\n}\n","import { Socket as Engine, installTimerFunctions, } from \"engine.io-client\";\nimport { Socket } from \"./socket.js\";\nimport * as parser from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport Backoff from \"backo2\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\nexport class Manager extends Emitter {\n    constructor(uri, opts) {\n        var _a;\n        super();\n        this.nsps = {};\n        this.subs = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = undefined;\n        }\n        opts = opts || {};\n        opts.path = opts.path || \"/socket.io\";\n        this.opts = opts;\n        installTimerFunctions(this, opts);\n        this.reconnection(opts.reconnection !== false);\n        this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n        this.reconnectionDelay(opts.reconnectionDelay || 1000);\n        this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n        this.randomizationFactor((_a = opts.randomizationFactor) !== null && _a !== void 0 ? _a : 0.5);\n        this.backoff = new Backoff({\n            min: this.reconnectionDelay(),\n            max: this.reconnectionDelayMax(),\n            jitter: this.randomizationFactor(),\n        });\n        this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n        this._readyState = \"closed\";\n        this.uri = uri;\n        const _parser = opts.parser || parser;\n        this.encoder = new _parser.Encoder();\n        this.decoder = new _parser.Decoder();\n        this._autoConnect = opts.autoConnect !== false;\n        if (this._autoConnect)\n            this.open();\n    }\n    reconnection(v) {\n        if (!arguments.length)\n            return this._reconnection;\n        this._reconnection = !!v;\n        return this;\n    }\n    reconnectionAttempts(v) {\n        if (v === undefined)\n            return this._reconnectionAttempts;\n        this._reconnectionAttempts = v;\n        return this;\n    }\n    reconnectionDelay(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelay;\n        this._reconnectionDelay = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMin(v);\n        return this;\n    }\n    randomizationFactor(v) {\n        var _a;\n        if (v === undefined)\n            return this._randomizationFactor;\n        this._randomizationFactor = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setJitter(v);\n        return this;\n    }\n    reconnectionDelayMax(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelayMax;\n        this._reconnectionDelayMax = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMax(v);\n        return this;\n    }\n    timeout(v) {\n        if (!arguments.length)\n            return this._timeout;\n        this._timeout = v;\n        return this;\n    }\n    /**\n     * Starts trying to reconnect if reconnection is enabled and we have not\n     * started reconnecting yet\n     *\n     * @private\n     */\n    maybeReconnectOnOpen() {\n        // Only try to reconnect if it's the first time we're connecting\n        if (!this._reconnecting &&\n            this._reconnection &&\n            this.backoff.attempts === 0) {\n            // keeps reconnection from firing twice for the same reconnection loop\n            this.reconnect();\n        }\n    }\n    /**\n     * Sets the current transport `socket`.\n     *\n     * @param {Function} fn - optional, callback\n     * @return self\n     * @public\n     */\n    open(fn) {\n        if (~this._readyState.indexOf(\"open\"))\n            return this;\n        this.engine = new Engine(this.uri, this.opts);\n        const socket = this.engine;\n        const self = this;\n        this._readyState = \"opening\";\n        this.skipReconnect = false;\n        // emit `open`\n        const openSubDestroy = on(socket, \"open\", function () {\n            self.onopen();\n            fn && fn();\n        });\n        // emit `error`\n        const errorSub = on(socket, \"error\", (err) => {\n            self.cleanup();\n            self._readyState = \"closed\";\n            this.emitReserved(\"error\", err);\n            if (fn) {\n                fn(err);\n            }\n            else {\n                // Only do this if there is no fn to handle the error\n                self.maybeReconnectOnOpen();\n            }\n        });\n        if (false !== this._timeout) {\n            const timeout = this._timeout;\n            if (timeout === 0) {\n                openSubDestroy(); // prevents a race condition with the 'open' event\n            }\n            // set timer\n            const timer = this.setTimeoutFn(() => {\n                openSubDestroy();\n                socket.close();\n                // @ts-ignore\n                socket.emit(\"error\", new Error(\"timeout\"));\n            }, timeout);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(function subDestroy() {\n                clearTimeout(timer);\n            });\n        }\n        this.subs.push(openSubDestroy);\n        this.subs.push(errorSub);\n        return this;\n    }\n    /**\n     * Alias for open()\n     *\n     * @return self\n     * @public\n     */\n    connect(fn) {\n        return this.open(fn);\n    }\n    /**\n     * Called upon transport open.\n     *\n     * @private\n     */\n    onopen() {\n        // clear old subs\n        this.cleanup();\n        // mark as open\n        this._readyState = \"open\";\n        this.emitReserved(\"open\");\n        // add new subs\n        const socket = this.engine;\n        this.subs.push(on(socket, \"ping\", this.onping.bind(this)), on(socket, \"data\", this.ondata.bind(this)), on(socket, \"error\", this.onerror.bind(this)), on(socket, \"close\", this.onclose.bind(this)), on(this.decoder, \"decoded\", this.ondecoded.bind(this)));\n    }\n    /**\n     * Called upon a ping.\n     *\n     * @private\n     */\n    onping() {\n        this.emitReserved(\"ping\");\n    }\n    /**\n     * Called with data.\n     *\n     * @private\n     */\n    ondata(data) {\n        this.decoder.add(data);\n    }\n    /**\n     * Called when parser fully decodes a packet.\n     *\n     * @private\n     */\n    ondecoded(packet) {\n        this.emitReserved(\"packet\", packet);\n    }\n    /**\n     * Called upon socket error.\n     *\n     * @private\n     */\n    onerror(err) {\n        this.emitReserved(\"error\", err);\n    }\n    /**\n     * Creates a new socket for the given `nsp`.\n     *\n     * @return {Socket}\n     * @public\n     */\n    socket(nsp, opts) {\n        let socket = this.nsps[nsp];\n        if (!socket) {\n            socket = new Socket(this, nsp, opts);\n            this.nsps[nsp] = socket;\n        }\n        return socket;\n    }\n    /**\n     * Called upon a socket close.\n     *\n     * @param socket\n     * @private\n     */\n    _destroy(socket) {\n        const nsps = Object.keys(this.nsps);\n        for (const nsp of nsps) {\n            const socket = this.nsps[nsp];\n            if (socket.active) {\n                return;\n            }\n        }\n        this._close();\n    }\n    /**\n     * Writes a packet.\n     *\n     * @param packet\n     * @private\n     */\n    _packet(packet) {\n        const encodedPackets = this.encoder.encode(packet);\n        for (let i = 0; i < encodedPackets.length; i++) {\n            this.engine.write(encodedPackets[i], packet.options);\n        }\n    }\n    /**\n     * Clean up transport subscriptions and packet buffer.\n     *\n     * @private\n     */\n    cleanup() {\n        this.subs.forEach((subDestroy) => subDestroy());\n        this.subs.length = 0;\n        this.decoder.destroy();\n    }\n    /**\n     * Close the current socket.\n     *\n     * @private\n     */\n    _close() {\n        this.skipReconnect = true;\n        this._reconnecting = false;\n        this.onclose(\"forced close\");\n        if (this.engine)\n            this.engine.close();\n    }\n    /**\n     * Alias for close()\n     *\n     * @private\n     */\n    disconnect() {\n        return this._close();\n    }\n    /**\n     * Called upon engine close.\n     *\n     * @private\n     */\n    onclose(reason) {\n        this.cleanup();\n        this.backoff.reset();\n        this._readyState = \"closed\";\n        this.emitReserved(\"close\", reason);\n        if (this._reconnection && !this.skipReconnect) {\n            this.reconnect();\n        }\n    }\n    /**\n     * Attempt a reconnection.\n     *\n     * @private\n     */\n    reconnect() {\n        if (this._reconnecting || this.skipReconnect)\n            return this;\n        const self = this;\n        if (this.backoff.attempts >= this._reconnectionAttempts) {\n            this.backoff.reset();\n            this.emitReserved(\"reconnect_failed\");\n            this._reconnecting = false;\n        }\n        else {\n            const delay = this.backoff.duration();\n            this._reconnecting = true;\n            const timer = this.setTimeoutFn(() => {\n                if (self.skipReconnect)\n                    return;\n                this.emitReserved(\"reconnect_attempt\", self.backoff.attempts);\n                // check again for the case socket closed in above events\n                if (self.skipReconnect)\n                    return;\n                self.open((err) => {\n                    if (err) {\n                        self._reconnecting = false;\n                        self.reconnect();\n                        this.emitReserved(\"reconnect_error\", err);\n                    }\n                    else {\n                        self.onreconnect();\n                    }\n                });\n            }, delay);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(function subDestroy() {\n                clearTimeout(timer);\n            });\n        }\n    }\n    /**\n     * Called upon successful reconnect.\n     *\n     * @private\n     */\n    onreconnect() {\n        const attempt = this.backoff.attempts;\n        this._reconnecting = false;\n        this.backoff.reset();\n        this.emitReserved(\"reconnect\", attempt);\n    }\n}\n","import { url } from \"./url.js\";\nimport { Manager } from \"./manager.js\";\nimport { Socket } from \"./socket.js\";\n/**\n * Managers cache.\n */\nconst cache = {};\nfunction lookup(uri, opts) {\n    if (typeof uri === \"object\") {\n        opts = uri;\n        uri = undefined;\n    }\n    opts = opts || {};\n    const parsed = url(uri, opts.path || \"/socket.io\");\n    const source = parsed.source;\n    const id = parsed.id;\n    const path = parsed.path;\n    const sameNamespace = cache[id] && path in cache[id][\"nsps\"];\n    const newConnection = opts.forceNew ||\n        opts[\"force new connection\"] ||\n        false === opts.multiplex ||\n        sameNamespace;\n    let io;\n    if (newConnection) {\n        io = new Manager(source, opts);\n    }\n    else {\n        if (!cache[id]) {\n            cache[id] = new Manager(source, opts);\n        }\n        io = cache[id];\n    }\n    if (parsed.query && !opts.query) {\n        opts.query = parsed.queryKey;\n    }\n    return io.socket(parsed.path, opts);\n}\n// so that \"lookup\" can be used both as a function (e.g. `io(...)`) and as a\n// namespace (e.g. `io.connect(...)`), for backward compatibility\nObject.assign(lookup, {\n    Manager,\n    Socket,\n    io: lookup,\n    connect: lookup,\n});\n/**\n * Protocol version.\n *\n * @public\n */\nexport { protocol } from \"socket.io-parser\";\n/**\n * Expose constructors for standalone build.\n *\n * @public\n */\nexport { Manager, Socket, lookup as io, lookup as connect, lookup as default, };\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-row',[_c('v-col',{staticClass:\"px-0\"},[_c('v-card',{attrs:{\"outlined\":\"\"}},[_c('v-row',[_c('v-col',{staticClass:\"py-0 mt-1\"},[_c('codemirror',{ref:\"myCm\",class:_vm.fontSize,attrs:{\"value\":_vm.value,\"options\":_vm.cmOptions},on:{\"ready\":_vm.onCmReady,\"input\":_vm.onCodeChange}})],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-row>\r\n    <v-col class=\"px-0\">\r\n      <v-card outlined>\r\n        <v-row>\r\n          <v-col class=\"py-0 mt-1\" >\r\n            <codemirror\r\n              ref=\"myCm\"\r\n              :value=\"value\"\r\n              @ready=\"onCmReady\"\r\n              @input=\"onCodeChange\"\r\n              :options=\"cmOptions\"\r\n              :class=\"fontSize\"\r\n            ></codemirror>\r\n          </v-col>\r\n        </v-row>\r\n      </v-card>\r\n    </v-col>\r\n  </v-row>\r\n</template>\r\n\r\n<script>\r\nimport { codemirror, CodeMirror } from \"vue-codemirror\";\r\nimport \"codemirror/lib/codemirror\";\r\n\r\nimport \"codemirror/addon/comment/comment.js\";\r\nimport 'codemirror/addon/hint/show-hint';\r\nimport 'codemirror/addon/search/searchcursor';\r\nimport 'codemirror/addon/search/search';\r\nimport 'codemirror/addon/display/placeholder';\r\nimport 'codemirror/addon/hint/show-hint.css';\r\nimport 'codemirror/addon/edit/closebrackets';\r\n\r\nimport 'codemirror/lib/codemirror.css'\r\n\r\n// import theme style\r\nimport '../assets/css/codemirror.css'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      autoCloseBrackets: true,\r\n      tabSize: 4,\r\n      theme: \"default\",\r\n      language: \"default\",\r\n      keyMap: \"default\",\r\n      fontSize: \"normal\",\r\n    };\r\n  },\r\n  props: {\r\n    value: {\r\n      type: String,\r\n      required: false\r\n    },\r\n  },\r\n  components: {\r\n    codemirror\r\n  },\r\n  computed: {\r\n    codemirror() {\r\n      return this.$refs.myCm.codemirror;\r\n    },\r\n    cmOptions() {\r\n      return {\r\n        tabSize: this.tabSize,\r\n        indentUnit: this.tabSize,\r\n        indentWithTabs: true,\r\n\t\t\t\tsmartIndent: true,\r\n        autoCloseBrackets: this.autoCloseBrackets,\r\n        lineNumbers: true,\r\n        line: true,\r\n        styleActiveLine: true,\r\n        matchBrackets: true,\r\n        lineWrapping: true,\r\n        theme: this.theme,\r\n        foldGutter: true,\r\n        keyMap: this.keyMap,\r\n        extraKeys: {\r\n          'Ctrl-/': 'toggleComment',\r\n          'Cmd-/' : 'toggleComment',\r\n          // 'Enter': this.onNewLine,\r\n        }\r\n      };\r\n    },\r\n  },\r\n  methods: {\r\n    onCmReady(cm) {\r\n      console.log(\"Codemirror is ready !\");\r\n      cm.on('cursorActivity', (cm) => {\r\n        let data = cm.getCursor();\r\n        this.$emit('newCursor', {\r\n          line: data.line,\r\n          ch: data.ch\r\n        });\r\n      });\r\n    },\r\n    onCodeChange(newValue) {\r\n      this.$emit('input', newValue);\r\n    },\r\n    modifyCursor: function(data) {\r\n      this.codemirror.setCursor(data);\r\n    },\r\n    onNewLine(cm) {\r\n      var doc = cm.getDoc();\r\n      var cursor = doc.getCursor(); // gets the line number in the cursor position\r\n      var line = doc.getLine(cursor.line); // get the line contents\r\n      var pos = { // create a new object to avoid mutation of the original selection\r\n        line: cursor.line,\r\n        ch: line.length // set the character position to the end of the line\r\n      }\r\n      doc.replaceRange('\\n', pos); // adds a new line\r\n      return CodeMirror.pass;\r\n    }\r\n  },\r\n};\r\n\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=js&\"","import './VGrid.sass'\n\nimport Vue, { VNode, PropOptions } from 'vue'\nimport mergeData from '../../util/mergeData'\nimport { upperFirst } from '../../util/helpers'\n\n// no xs\nconst breakpoints = ['sm', 'md', 'lg', 'xl']\n\nconst breakpointProps = (() => {\n  return breakpoints.reduce((props, val) => {\n    props[val] = {\n      type: [Boolean, String, Number],\n      default: false,\n    }\n    return props\n  }, {} as Dictionary<PropOptions>)\n})()\n\nconst offsetProps = (() => {\n  return breakpoints.reduce((props, val) => {\n    props['offset' + upperFirst(val)] = {\n      type: [String, Number],\n      default: null,\n    }\n    return props\n  }, {} as Dictionary<PropOptions>)\n})()\n\nconst orderProps = (() => {\n  return breakpoints.reduce((props, val) => {\n    props['order' + upperFirst(val)] = {\n      type: [String, Number],\n      default: null,\n    }\n    return props\n  }, {} as Dictionary<PropOptions>)\n})()\n\nconst propMap = {\n  col: Object.keys(breakpointProps),\n  offset: Object.keys(offsetProps),\n  order: Object.keys(orderProps),\n}\n\nfunction breakpointClass (type: keyof typeof propMap, prop: string, val: boolean | string | number) {\n  let className = type\n  if (val == null || val === false) {\n    return undefined\n  }\n  if (prop) {\n    const breakpoint = prop.replace(type, '')\n    className += `-${breakpoint}`\n  }\n  // Handling the boolean style prop when accepting [Boolean, String, Number]\n  // means Vue will not convert <v-col sm></v-col> to sm: true for us.\n  // Since the default is false, an empty string indicates the prop's presence.\n  if (type === 'col' && (val === '' || val === true)) {\n    // .col-md\n    return className.toLowerCase()\n  }\n  // .order-md-6\n  className += `-${val}`\n  return className.toLowerCase()\n}\n\nconst cache = new Map<string, any[]>()\n\nexport default Vue.extend({\n  name: 'v-col',\n  functional: true,\n  props: {\n    cols: {\n      type: [Boolean, String, Number],\n      default: false,\n    },\n    ...breakpointProps,\n    offset: {\n      type: [String, Number],\n      default: null,\n    },\n    ...offsetProps,\n    order: {\n      type: [String, Number],\n      default: null,\n    },\n    ...orderProps,\n    alignSelf: {\n      type: String,\n      default: null,\n      validator: (str: any) => ['auto', 'start', 'end', 'center', 'baseline', 'stretch'].includes(str),\n    },\n    tag: {\n      type: String,\n      default: 'div',\n    },\n  },\n  render (h, { props, data, children, parent }): VNode {\n    // Super-fast memoization based on props, 5x faster than JSON.stringify\n    let cacheKey = ''\n    for (const prop in props) {\n      cacheKey += String((props as any)[prop])\n    }\n    let classList = cache.get(cacheKey)\n\n    if (!classList) {\n      classList = []\n      // Loop through `col`, `offset`, `order` breakpoint props\n      let type: keyof typeof propMap\n      for (type in propMap) {\n        propMap[type].forEach(prop => {\n          const value: string | number | boolean = (props as any)[prop]\n          const className = breakpointClass(type, prop, value)\n          if (className) classList!.push(className)\n        })\n      }\n\n      const hasColClasses = classList.some(className => className.startsWith('col-'))\n\n      classList.push({\n        // Default to .col if no other col-{bp}-* classes generated nor `cols` specified.\n        col: !hasColClasses || !props.cols,\n        [`col-${props.cols}`]: props.cols,\n        [`offset-${props.offset}`]: props.offset,\n        [`order-${props.order}`]: props.order,\n        [`align-self-${props.alignSelf}`]: props.alignSelf,\n      })\n\n      cache.set(cacheKey, classList)\n    }\n\n    return h(props.tag, mergeData(data, { class: classList }), children)\n  },\n})\n","import './VGrid.sass'\n\nimport Vue, { PropOptions } from 'vue'\nimport mergeData from '../../util/mergeData'\nimport { upperFirst } from '../../util/helpers'\n\n// no xs\nconst breakpoints = ['sm', 'md', 'lg', 'xl']\n\nconst ALIGNMENT = ['start', 'end', 'center']\n\nfunction makeProps (prefix: string, def: () => PropOptions) {\n  return breakpoints.reduce((props, val) => {\n    props[prefix + upperFirst(val)] = def()\n    return props\n  }, {} as Dictionary<PropOptions>)\n}\n\nconst alignValidator = (str: any) => [...ALIGNMENT, 'baseline', 'stretch'].includes(str)\nconst alignProps = makeProps('align', () => ({\n  type: String,\n  default: null,\n  validator: alignValidator,\n}))\n\nconst justifyValidator = (str: any) => [...ALIGNMENT, 'space-between', 'space-around'].includes(str)\nconst justifyProps = makeProps('justify', () => ({\n  type: String,\n  default: null,\n  validator: justifyValidator,\n}))\n\nconst alignContentValidator = (str: any) => [...ALIGNMENT, 'space-between', 'space-around', 'stretch'].includes(str)\nconst alignContentProps = makeProps('alignContent', () => ({\n  type: String,\n  default: null,\n  validator: alignContentValidator,\n}))\n\nconst propMap = {\n  align: Object.keys(alignProps),\n  justify: Object.keys(justifyProps),\n  alignContent: Object.keys(alignContentProps),\n}\n\nconst classMap = {\n  align: 'align',\n  justify: 'justify',\n  alignContent: 'align-content',\n}\n\nfunction breakpointClass (type: keyof typeof propMap, prop: string, val: string) {\n  let className = classMap[type]\n  if (val == null) {\n    return undefined\n  }\n  if (prop) {\n    // alignSm -> Sm\n    const breakpoint = prop.replace(type, '')\n    className += `-${breakpoint}`\n  }\n  // .align-items-sm-center\n  className += `-${val}`\n  return className.toLowerCase()\n}\n\nconst cache = new Map<string, any[]>()\n\nexport default Vue.extend({\n  name: 'v-row',\n  functional: true,\n  props: {\n    tag: {\n      type: String,\n      default: 'div',\n    },\n    dense: Boolean,\n    noGutters: Boolean,\n    align: {\n      type: String,\n      default: null,\n      validator: alignValidator,\n    },\n    ...alignProps,\n    justify: {\n      type: String,\n      default: null,\n      validator: justifyValidator,\n    },\n    ...justifyProps,\n    alignContent: {\n      type: String,\n      default: null,\n      validator: alignContentValidator,\n    },\n    ...alignContentProps,\n  },\n  render (h, { props, data, children }) {\n    // Super-fast memoization based on props, 5x faster than JSON.stringify\n    let cacheKey = ''\n    for (const prop in props) {\n      cacheKey += String((props as any)[prop])\n    }\n    let classList = cache.get(cacheKey)\n\n    if (!classList) {\n      classList = []\n      // Loop through `align`, `justify`, `alignContent` breakpoint props\n      let type: keyof typeof propMap\n      for (type in propMap) {\n        propMap[type].forEach(prop => {\n          const value: string = (props as any)[prop]\n          const className = breakpointClass(type, prop, value)\n          if (className) classList!.push(className)\n        })\n      }\n\n      classList.push({\n        'no-gutters': props.noGutters,\n        'row--dense': props.dense,\n        [`align-${props.align}`]: props.align,\n        [`justify-${props.justify}`]: props.justify,\n        [`align-content-${props.alignContent}`]: props.alignContent,\n      })\n\n      cache.set(cacheKey, classList)\n    }\n\n    return h(\n      props.tag,\n      mergeData(data, {\n        staticClass: 'row',\n        class: classList,\n      }),\n      children\n    )\n  },\n})\n","import { render, staticRenderFns } from \"./Editor.vue?vue&type=template&id=711971d8&\"\nimport script from \"./Editor.vue?vue&type=script&lang=js&\"\nexport * from \"./Editor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VCard,VCol,VRow})\n","<template>\r\n  <v-container class=\"fill-height\" fluid>\r\n    <v-row>\r\n      <v-col :cols=\"12\">\r\n        <v-container v-if=\"!logged\">\r\n          <v-row align=\"center\" justify=\"center\">\r\n            <v-col cols=\"12\" sm=\"8\" md=\"4\">\r\n              <v-form>\r\n                <v-text-field\r\n                  v-model=\"name\"\r\n                  :counter=\"10\"\r\n                  label=\"Name\"\r\n                  required\r\n                ></v-text-field>\r\n                <v-text-field\r\n                  v-model=\"room\"\r\n                  :counter=\"10\"\r\n                  label=\"Room\"\r\n                  required\r\n                ></v-text-field>\r\n                <v-btn color=\"green\" class=\"mr-4\" @click=\"createUser\">\r\n                  Go\r\n                </v-btn>\r\n              </v-form>\r\n            </v-col>\r\n          </v-row>\r\n        </v-container>\r\n        <v-container v-else>\r\n          <v-row class=\"px-2\">\r\n            <v-col>\r\n              <p v-if=\"!users.length\">Please wait while the website is trying to access to the server</p>\r\n              <p>Current users: {{ users.length }} users</p>\r\n              <v-card-text v-for=\"user in users\" :key=\"user.id\">\r\n                <div>Name</div>\r\n                <p class=\"text-h4 text--primary\">\r\n                  {{ user.name }}\r\n                  <span v-if=\"user.id == socket.id\" class=\"text-center\">\r\n                    (You)\r\n                    <v-btn align=\"right\" @click=\"exitRoom\"> Exit </v-btn>\r\n                  </span>\r\n                </p>\r\n              </v-card-text>\r\n              <div class=\"d-flex\">\r\n              <v-text-field\r\n                v-model=\"numberValue\"\r\n                label=\"Loss chance (0 to 1.0)\"\r\n                outlined\r\n                type=\"number\"\r\n              />\r\n              <v-btn @click=\"setLoss\" x-large> Set </v-btn>\r\n              </div>\r\n            </v-col>\r\n          </v-row>\r\n          <v-row class=\"px-2\">\r\n            <v-col>\r\n              <Editor\r\n                ref=\"editor\"\r\n                v-model=\"code\"\r\n                @input=\"socketUpdateText\"\r\n                @newCursor=\"socketUpdateCursor\"\r\n              />\r\n            </v-col>\r\n          </v-row>\r\n        </v-container>\r\n        <v-snackbar v-model=\"snackbar\" :timeout=\"timeout\">\r\n          {{ notiContent }}\r\n        </v-snackbar>\r\n      </v-col>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nconst TextController = require(\"../util/textController\");\r\nconst XMLHttpRequest = require('xhr2');\r\nimport io from \"socket.io-client\";\r\nimport Editor from \"../components/Editor\";\r\nconst ENDPOINT = \"https://diffsyncalter-server.herokuapp.com/\";\r\n// const ENDPOINT = \"http://localhost:3017\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      logged: false,\r\n      value: {\r\n        type: String,\r\n        required: false,\r\n      },\r\n      connected: false,\r\n      socket: {},\r\n      intel: 1,\r\n      name: \"\",\r\n      room: \"\",\r\n      snackbar: false,\r\n      timeout: 3000,\r\n      notiContent: \"\",\r\n      users: [],\r\n      code: \"\",\r\n      clp: \"\",\r\n      tc: undefined,\r\n      resetPass: 0,\r\n      resetTextPass: 0,\r\n      numberValue: 0,\r\n      lossChance: 0,\r\n    };\r\n  },\r\n  components: {\r\n    Editor,\r\n  },\r\n  mounted() {},\r\n  methods: {\r\n    setLoss() {\r\n      this.numberValue = Math.max(this.numberValue, 0.0);\r\n      this.numberValue = Math.min(this.numberValue, 1.0);\r\n      this.lossChance = this.numberValue;\r\n    },\r\n    createUser() {\r\n      if (this.name === \"\" || this.room === \"\") {\r\n        return;\r\n      }\r\n      this.initializeSocket();\r\n      this.logged = true;\r\n      console.log(this.name, this.room);\r\n      let name = this.name;\r\n      let room = this.room;\r\n      this.socket.emit(\"join\", {\r\n        name,\r\n        room,\r\n      });\r\n    },\r\n    exitRoom() {\r\n      this.logged = false;\r\n      this.code = \"\";\r\n      this.socket.close();\r\n    },\r\n    initializeSocket() {\r\n      this.socket = io(ENDPOINT, {\r\n        transports: [\"websocket\", \"polling\", \"flashsocket\"],\r\n        enabledTransports: ['ws', 'wss'],\r\n      });\r\n      this.socket.on(\"notification\", (data) => {\r\n        this.notiContent = data.text;\r\n        this.snackbar = true;\r\n      });\r\n      this.socket.on(\"init\", (data) => {\r\n        this.tc = new TextController(data);\r\n        this.code = this.tc.code\r\n      }); \r\n      this.socket.on(\"roomData\", (data) => {\r\n        this.users = data.users;\r\n      });\r\n      this.socket.on(\"text\", (data) => {\r\n        this.tc.receivePackage(data);\r\n        this.code = this.tc.code;\r\n        this.resetPass ++;\r\n        this.resetTextPass ++;\r\n      });\r\n      setInterval(() => {\r\n        if (this.logged) {\r\n          this.socket.emit(\"sendText\", this.tc.pushPackage());\r\n        }\r\n      }, 1000);\r\n    },\r\n    socketUpdateCursor(data) {\r\n      if (data.line == 0 && data.ch == 0 && this.resetPass) {\r\n        this.resetPass--;\r\n        this.$refs.editor.modifyCursor(this.tc.setCursor());\r\n      } else {\r\n        this.tc.updateCursor(data.line, data.ch);\r\n      }\r\n    },\r\n    socketUpdateText(data) {\r\n      if (this.tc.code === data) { // Avoid echoing\r\n        return;\r\n      }\r\n      this.tc.code = data;\r\n      if (Math.random() >= this.lossChance) {\r\n        this.socket.emit(\"sendText\", this.tc.pushPackage());\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    // wake the heroku server\r\n    var xhr = new XMLHttpRequest();\r\n    xhr.open('GET', ENDPOINT, true);\r\n    xhr.send();\r\n  }\r\n};\r\n</script>\r\n\r\n<style></style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodePair.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodePair.vue?vue&type=script&lang=js&\"","// Types\nimport Vue, { VNode } from 'vue'\n\nexport default function VGrid (name: string) {\n  /* @vue/component */\n  return Vue.extend({\n    name: `v-${name}`,\n\n    functional: true,\n\n    props: {\n      id: String,\n      tag: {\n        type: String,\n        default: 'div',\n      },\n    },\n\n    render (h, { props, data, children }): VNode {\n      data.staticClass = (`${name} ${data.staticClass || ''}`).trim()\n\n      const { attrs } = data\n      if (attrs) {\n        // reset attrs to extract utility clases like pa-3\n        data.attrs = {}\n        const classes = Object.keys(attrs).filter(key => {\n          // TODO: Remove once resolved\n          // https://github.com/vuejs/vue/issues/7841\n          if (key === 'slot') return false\n\n          const value = attrs[key]\n\n          // add back data attributes like data-test=\"foo\" but do not\n          // add them as classes\n          if (key.startsWith('data-')) {\n            data.attrs![key] = value\n            return false\n          }\n\n          return value || typeof value === 'string'\n        })\n\n        if (classes.length) data.staticClass += ` ${classes.join(' ')}`\n      }\n\n      if (props.id) {\n        data.domProps = data.domProps || {}\n        data.domProps.id = props.id\n      }\n\n      return h(props.tag, data, children)\n    },\n  })\n}\n","import './_grid.sass'\nimport './VGrid.sass'\n\nimport Grid from './grid'\n\nimport mergeData from '../../util/mergeData'\n\n/* @vue/component */\nexport default Grid('container').extend({\n  name: 'v-container',\n  functional: true,\n  props: {\n    id: String,\n    tag: {\n      type: String,\n      default: 'div',\n    },\n    fluid: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  render (h, { props, data, children }) {\n    let classes\n    const { attrs } = data\n    if (attrs) {\n      // reset attrs to extract utility clases like pa-3\n      data.attrs = {}\n      classes = Object.keys(attrs).filter(key => {\n        // TODO: Remove once resolved\n        // https://github.com/vuejs/vue/issues/7841\n        if (key === 'slot') return false\n\n        const value = attrs[key]\n\n        // add back data attributes like data-test=\"foo\" but do not\n        // add them as classes\n        if (key.startsWith('data-')) {\n          data.attrs![key] = value\n          return false\n        }\n\n        return value || typeof value === 'string'\n      })\n    }\n\n    if (props.id) {\n      data.domProps = data.domProps || {}\n      data.domProps.id = props.id\n    }\n\n    return h(\n      props.tag,\n      mergeData(data, {\n        staticClass: 'container',\n        class: Array<any>({\n          'container--fluid': props.fluid,\n        }).concat(classes || []),\n      }),\n      children\n    )\n  },\n})\n","// Components\nimport VInput from '../VInput/VInput'\n\n// Mixins\nimport mixins from '../../util/mixins'\nimport BindsAttrs from '../../mixins/binds-attrs'\nimport { provide as RegistrableProvide } from '../../mixins/registrable'\n\n// Helpers\nimport { VNode } from 'vue'\n\ntype ErrorBag = Record<number, boolean>\ntype VInputInstance = InstanceType<typeof VInput>\ntype Watchers = {\n  _uid: number\n  valid: () => void\n  shouldValidate: () => void\n}\n\n/* @vue/component */\nexport default mixins(\n  BindsAttrs,\n  RegistrableProvide('form')\n  /* @vue/component */\n).extend({\n  name: 'v-form',\n\n  provide (): object {\n    return { form: this }\n  },\n\n  inheritAttrs: false,\n\n  props: {\n    disabled: Boolean,\n    lazyValidation: Boolean,\n    readonly: Boolean,\n    value: Boolean,\n  },\n\n  data: () => ({\n    inputs: [] as VInputInstance[],\n    watchers: [] as Watchers[],\n    errorBag: {} as ErrorBag,\n  }),\n\n  watch: {\n    errorBag: {\n      handler (val) {\n        const errors = Object.values(val).includes(true)\n\n        this.$emit('input', !errors)\n      },\n      deep: true,\n      immediate: true,\n    },\n  },\n\n  methods: {\n    watchInput (input: any): Watchers {\n      const watcher = (input: any): (() => void) => {\n        return input.$watch('hasError', (val: boolean) => {\n          this.$set(this.errorBag, input._uid, val)\n        }, { immediate: true })\n      }\n\n      const watchers: Watchers = {\n        _uid: input._uid,\n        valid: () => {},\n        shouldValidate: () => {},\n      }\n\n      if (this.lazyValidation) {\n        // Only start watching inputs if we need to\n        watchers.shouldValidate = input.$watch('shouldValidate', (val: boolean) => {\n          if (!val) return\n\n          // Only watch if we're not already doing it\n          if (this.errorBag.hasOwnProperty(input._uid)) return\n\n          watchers.valid = watcher(input)\n        })\n      } else {\n        watchers.valid = watcher(input)\n      }\n\n      return watchers\n    },\n    /** @public */\n    validate (): boolean {\n      return this.inputs.filter(input => !input.validate(true)).length === 0\n    },\n    /** @public */\n    reset (): void {\n      this.inputs.forEach(input => input.reset())\n      this.resetErrorBag()\n    },\n    resetErrorBag () {\n      if (this.lazyValidation) {\n        // Account for timeout in validatable\n        setTimeout(() => {\n          this.errorBag = {}\n        }, 0)\n      }\n    },\n    /** @public */\n    resetValidation () {\n      this.inputs.forEach(input => input.resetValidation())\n      this.resetErrorBag()\n    },\n    register (input: VInputInstance) {\n      this.inputs.push(input)\n      this.watchers.push(this.watchInput(input))\n    },\n    unregister (input: VInputInstance) {\n      const found = this.inputs.find(i => i._uid === input._uid)\n\n      if (!found) return\n\n      const unwatch = this.watchers.find(i => i._uid === found._uid)\n      if (unwatch) {\n        unwatch.valid()\n        unwatch.shouldValidate()\n      }\n\n      this.watchers = this.watchers.filter(i => i._uid !== found._uid)\n      this.inputs = this.inputs.filter(i => i._uid !== found._uid)\n      this.$delete(this.errorBag, found._uid)\n    },\n  },\n\n  render (h): VNode {\n    return h('form', {\n      staticClass: 'v-form',\n      attrs: {\n        novalidate: true,\n        ...this.attrs$,\n      },\n      on: {\n        submit: (e: Event) => this.$emit('submit', e),\n      },\n    }, this.$slots.default)\n  },\n})\n","// Styles\nimport './VSnackbar.sass'\n\n// Components\nimport VSheet from '../VSheet/VSheet'\n\n// Mixins\nimport Colorable from '../../mixins/colorable'\nimport Themeable from '../../mixins/themeable'\nimport Toggleable from '../../mixins/toggleable'\nimport { factory as PositionableFactory } from '../../mixins/positionable'\n\n// Utilities\nimport mixins from '../../util/mixins'\nimport { convertToUnit, getSlot } from '../../util/helpers'\nimport { deprecate, removed } from '../../util/console'\n\n// Types\nimport { PropType, VNode } from 'vue'\n\nexport default mixins(\n  VSheet,\n  Colorable,\n  Toggleable,\n  PositionableFactory([\n    'absolute',\n    'bottom',\n    'left',\n    'right',\n    'top',\n  ])\n/* @vue/component */\n).extend({\n  name: 'v-snackbar',\n\n  props: {\n    app: Boolean,\n    centered: Boolean,\n    contentClass: {\n      type: String,\n      default: '',\n    },\n    multiLine: Boolean,\n    text: Boolean,\n    timeout: {\n      type: [Number, String],\n      default: 5000,\n    },\n    transition: {\n      type: [Boolean, String] as PropType<false | string>,\n      default: 'v-snack-transition',\n      validator: v => typeof v === 'string' || v === false,\n    },\n    vertical: Boolean,\n  },\n\n  data: () => ({\n    activeTimeout: -1,\n  }),\n\n  computed: {\n    classes (): object {\n      return {\n        'v-snack--absolute': this.absolute,\n        'v-snack--active': this.isActive,\n        'v-snack--bottom': this.bottom || !this.top,\n        'v-snack--centered': this.centered,\n        'v-snack--has-background': this.hasBackground,\n        'v-snack--left': this.left,\n        'v-snack--multi-line': this.multiLine && !this.vertical,\n        'v-snack--right': this.right,\n        'v-snack--text': this.text,\n        'v-snack--top': this.top,\n        'v-snack--vertical': this.vertical,\n      }\n    },\n    // Text and outlined styles both\n    // use transparent backgrounds\n    hasBackground (): boolean {\n      return (\n        !this.text &&\n        !this.outlined\n      )\n    },\n    // Snackbar is dark by default\n    // override themeable logic.\n    isDark (): boolean {\n      return this.hasBackground\n        ? !this.light\n        : Themeable.options.computed.isDark.call(this)\n    },\n    styles (): object {\n      if (this.absolute || !this.app) return {}\n\n      const {\n        bar,\n        bottom,\n        footer,\n        insetFooter,\n        left,\n        right,\n        top,\n      } = this.$vuetify.application\n\n      return {\n        paddingBottom: convertToUnit(bottom + footer + insetFooter),\n        paddingLeft: convertToUnit(left),\n        paddingRight: convertToUnit(right),\n        paddingTop: convertToUnit(bar + top),\n      }\n    },\n  },\n\n  watch: {\n    isActive: 'setTimeout',\n    timeout: 'setTimeout',\n  },\n\n  mounted () {\n    if (this.isActive) this.setTimeout()\n  },\n\n  created () {\n    /* istanbul ignore next */\n    if (this.$attrs.hasOwnProperty('auto-height')) {\n      removed('auto-height', this)\n    }\n\n    /* istanbul ignore next */\n    // eslint-disable-next-line eqeqeq\n    if (this.timeout == 0) {\n      deprecate('timeout=\"0\"', '-1', this)\n    }\n  },\n\n  methods: {\n    genActions () {\n      return this.$createElement('div', {\n        staticClass: 'v-snack__action ',\n      }, [\n        getSlot(this, 'action', {\n          attrs: { class: 'v-snack__btn' },\n        }),\n      ])\n    },\n    genContent () {\n      return this.$createElement('div', {\n        staticClass: 'v-snack__content',\n        class: {\n          [this.contentClass]: true,\n        },\n        attrs: {\n          role: 'status',\n          'aria-live': 'polite',\n        },\n      }, [getSlot(this)])\n    },\n    genWrapper () {\n      const setColor = this.hasBackground\n        ? this.setBackgroundColor\n        : this.setTextColor\n\n      const data = setColor(this.color, {\n        staticClass: 'v-snack__wrapper',\n        class: VSheet.options.computed.classes.call(this),\n        style: VSheet.options.computed.styles.call(this),\n        directives: [{\n          name: 'show',\n          value: this.isActive,\n        }],\n        on: {\n          pointerenter: () => window.clearTimeout(this.activeTimeout),\n          pointerleave: this.setTimeout,\n        },\n      })\n\n      return this.$createElement('div', data, [\n        this.genContent(),\n        this.genActions(),\n      ])\n    },\n    genTransition () {\n      return this.$createElement('transition', {\n        props: { name: this.transition },\n      }, [this.genWrapper()])\n    },\n    setTimeout () {\n      window.clearTimeout(this.activeTimeout)\n\n      const timeout = Number(this.timeout)\n\n      if (\n        !this.isActive ||\n        // TODO: remove 0 in v3\n        [0, -1].includes(timeout)\n      ) {\n        return\n      }\n\n      this.activeTimeout = window.setTimeout(() => {\n        this.isActive = false\n      }, timeout)\n    },\n  },\n\n  render (h): VNode {\n    return h('div', {\n      staticClass: 'v-snack',\n      class: this.classes,\n      style: this.styles,\n    }, [\n      this.transition !== false\n        ? this.genTransition()\n        : this.genWrapper(),\n    ])\n  },\n})\n","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import './VIcon.sass'\n\n// Mixins\nimport BindsAttrs from '../../mixins/binds-attrs'\nimport Colorable from '../../mixins/colorable'\nimport Sizeable from '../../mixins/sizeable'\nimport Themeable from '../../mixins/themeable'\n\n// Util\nimport { convertToUnit, keys, remapInternalIcon } from '../../util/helpers'\n\n// Types\nimport Vue, { CreateElement, VNode, VNodeChildren, VNodeData } from 'vue'\nimport mixins from '../../util/mixins'\nimport { VuetifyIcon, VuetifyIconComponent } from 'vuetify/types/services/icons'\n\nenum SIZE_MAP {\n  xSmall = '12px',\n  small = '16px',\n  default = '24px',\n  medium = '28px',\n  large = '36px',\n  xLarge = '40px'\n}\n\nfunction isFontAwesome5 (iconType: string): boolean {\n  return ['fas', 'far', 'fal', 'fab', 'fad', 'fak'].some(val => iconType.includes(val))\n}\n\nfunction isSvgPath (icon: string): boolean {\n  return (/^[mzlhvcsqta]\\s*[-+.0-9][^mlhvzcsqta]+/i.test(icon) && /[\\dz]$/i.test(icon) && icon.length > 4)\n}\n\nconst VIcon = mixins(\n  BindsAttrs,\n  Colorable,\n  Sizeable,\n  Themeable\n  /* @vue/component */\n).extend({\n  name: 'v-icon',\n\n  props: {\n    dense: Boolean,\n    disabled: Boolean,\n    left: Boolean,\n    right: Boolean,\n    size: [Number, String],\n    tag: {\n      type: String,\n      required: false,\n      default: 'i',\n    },\n  },\n\n  computed: {\n    medium () {\n      return false\n    },\n    hasClickListener (): boolean {\n      return Boolean(\n        this.listeners$.click || this.listeners$['!click']\n      )\n    },\n  },\n\n  methods: {\n    getIcon (): VuetifyIcon {\n      let iconName = ''\n      if (this.$slots.default) iconName = this.$slots.default[0].text!.trim()\n\n      return remapInternalIcon(this, iconName)\n    },\n    getSize (): string | undefined {\n      const sizes = {\n        xSmall: this.xSmall,\n        small: this.small,\n        medium: this.medium,\n        large: this.large,\n        xLarge: this.xLarge,\n      }\n\n      const explicitSize = keys(sizes).find(key => sizes[key])\n\n      return (\n        (explicitSize && SIZE_MAP[explicitSize]) || convertToUnit(this.size)\n      )\n    },\n    // Component data for both font icon and SVG wrapper span\n    getDefaultData (): VNodeData {\n      return {\n        staticClass: 'v-icon notranslate',\n        class: {\n          'v-icon--disabled': this.disabled,\n          'v-icon--left': this.left,\n          'v-icon--link': this.hasClickListener,\n          'v-icon--right': this.right,\n          'v-icon--dense': this.dense,\n        },\n        attrs: {\n          'aria-hidden': !this.hasClickListener,\n          disabled: this.hasClickListener && this.disabled,\n          type: this.hasClickListener ? 'button' : undefined,\n          ...this.attrs$,\n        },\n        on: this.listeners$,\n      }\n    },\n    getSvgWrapperData () {\n      const fontSize = this.getSize()\n      const wrapperData = {\n        ...this.getDefaultData(),\n        style: fontSize ? {\n          fontSize,\n          height: fontSize,\n          width: fontSize,\n        } : undefined,\n      }\n      this.applyColors(wrapperData)\n\n      return wrapperData\n    },\n    applyColors (data: VNodeData): void {\n      data.class = { ...data.class, ...this.themeClasses }\n      this.setTextColor(this.color, data)\n    },\n    renderFontIcon (icon: string, h: CreateElement): VNode {\n      const newChildren: VNodeChildren = []\n      const data = this.getDefaultData()\n\n      let iconType = 'material-icons'\n      // Material Icon delimiter is _\n      // https://material.io/icons/\n      const delimiterIndex = icon.indexOf('-')\n      const isMaterialIcon = delimiterIndex <= -1\n\n      if (isMaterialIcon) {\n        // Material icon uses ligatures.\n        newChildren.push(icon)\n      } else {\n        iconType = icon.slice(0, delimiterIndex)\n        if (isFontAwesome5(iconType)) iconType = ''\n      }\n\n      data.class[iconType] = true\n      data.class[icon] = !isMaterialIcon\n\n      const fontSize = this.getSize()\n      if (fontSize) data.style = { fontSize }\n\n      this.applyColors(data)\n\n      return h(this.hasClickListener ? 'button' : this.tag, data, newChildren)\n    },\n    renderSvgIcon (icon: string, h: CreateElement): VNode {\n      const svgData: VNodeData = {\n        class: 'v-icon__svg',\n        attrs: {\n          xmlns: 'http://www.w3.org/2000/svg',\n          viewBox: '0 0 24 24',\n          role: 'img',\n          'aria-hidden': true,\n        },\n      }\n\n      const size = this.getSize()\n      if (size) {\n        svgData.style = {\n          fontSize: size,\n          height: size,\n          width: size,\n        }\n      }\n\n      return h(this.hasClickListener ? 'button' : 'span', this.getSvgWrapperData(), [\n        h('svg', svgData, [\n          h('path', {\n            attrs: {\n              d: icon,\n            },\n          }),\n        ]),\n      ])\n    },\n    renderSvgIconComponent (\n      icon: VuetifyIconComponent,\n      h: CreateElement\n    ): VNode {\n      const data: VNodeData = {\n        class: {\n          'v-icon__component': true,\n        },\n      }\n\n      const size = this.getSize()\n      if (size) {\n        data.style = {\n          fontSize: size,\n          height: size,\n          width: size,\n        }\n      }\n\n      this.applyColors(data)\n\n      const component = icon.component\n      data.props = icon.props\n      data.nativeOn = data.on\n\n      return h(this.hasClickListener ? 'button' : 'span', this.getSvgWrapperData(), [\n        h(component, data),\n      ])\n    },\n  },\n\n  render (h: CreateElement): VNode {\n    const icon = this.getIcon()\n\n    if (typeof icon === 'string') {\n      if (isSvgPath(icon)) {\n        return this.renderSvgIcon(icon, h)\n      }\n      return this.renderFontIcon(icon, h)\n    }\n\n    return this.renderSvgIconComponent(icon, h)\n  },\n})\n\nexport default Vue.extend({\n  name: 'v-icon',\n\n  $_wrapperFor: VIcon,\n\n  functional: true,\n\n  render (h, { data, children }): VNode {\n    let iconName = ''\n\n    // Support usage of v-text and v-html\n    if (data.domProps) {\n      iconName = data.domProps.textContent ||\n        data.domProps.innerHTML ||\n        iconName\n\n      // Remove nodes so it doesn't\n      // overwrite our changes\n      delete data.domProps.textContent\n      delete data.domProps.innerHTML\n    }\n\n    return h(VIcon, data, iconName ? [iconName] : children)\n  },\n})\n","import VIcon from './VIcon'\n\nexport { VIcon }\nexport default VIcon\n","// Styles\nimport './VLabel.sass'\n\n// Mixins\nimport Colorable from '../../mixins/colorable'\nimport Themeable, { functionalThemeClasses } from '../../mixins/themeable'\n\n// Types\nimport { VNode } from 'vue'\nimport mixins from '../../util/mixins'\n\n// Helpers\nimport { convertToUnit } from '../../util/helpers'\n\n/* @vue/component */\nexport default mixins(Themeable).extend({\n  name: 'v-label',\n\n  functional: true,\n\n  props: {\n    absolute: Boolean,\n    color: {\n      type: String,\n      default: 'primary',\n    },\n    disabled: Boolean,\n    focused: Boolean,\n    for: String,\n    left: {\n      type: [Number, String],\n      default: 0,\n    },\n    right: {\n      type: [Number, String],\n      default: 'auto',\n    },\n    value: Boolean,\n  },\n\n  render (h, ctx): VNode {\n    const { children, listeners, props } = ctx\n    const data = {\n      staticClass: 'v-label',\n      class: {\n        'v-label--active': props.value,\n        'v-label--is-disabled': props.disabled,\n        ...functionalThemeClasses(ctx),\n      },\n      attrs: {\n        for: props.for,\n        'aria-hidden': !props.for,\n      },\n      on: listeners,\n      style: {\n        left: convertToUnit(props.left),\n        right: convertToUnit(props.right),\n        position: props.absolute ? 'absolute' : 'relative',\n      },\n      ref: 'label',\n    }\n\n    return h('label', Colorable.options.methods.setTextColor(props.focused && props.color, data), children)\n  },\n})\n","import VLabel from './VLabel'\n\nexport { VLabel }\nexport default VLabel\n","// Styles\nimport './VMessages.sass'\n\n// Mixins\nimport Colorable from '../../mixins/colorable'\nimport Themeable from '../../mixins/themeable'\n\n// Types\nimport { VNode } from 'vue'\nimport { PropValidator } from 'vue/types/options'\nimport mixins from '../../util/mixins'\n\n// Utilities\nimport { getSlot } from '../../util/helpers'\n\n/* @vue/component */\nexport default mixins(Colorable, Themeable).extend({\n  name: 'v-messages',\n\n  props: {\n    value: {\n      type: Array,\n      default: () => ([]),\n    } as PropValidator<string[]>,\n  },\n\n  methods: {\n    genChildren () {\n      return this.$createElement('transition-group', {\n        staticClass: 'v-messages__wrapper',\n        attrs: {\n          name: 'message-transition',\n          tag: 'div',\n        },\n      }, this.value.map(this.genMessage))\n    },\n    genMessage (message: string, key: number) {\n      return this.$createElement('div', {\n        staticClass: 'v-messages__message',\n        key,\n      }, getSlot(this, 'default', { message, key }) || [message])\n    },\n  },\n\n  render (h): VNode {\n    return h('div', this.setTextColor(this.color, {\n      staticClass: 'v-messages',\n      class: this.themeClasses,\n    }), [this.genChildren()])\n  },\n})\n","import VMessages from './VMessages'\n\nexport { VMessages }\nexport default VMessages\n","// Mixins\nimport Colorable from '../colorable'\nimport Themeable from '../themeable'\nimport { inject as RegistrableInject } from '../registrable'\n\n// Utilities\nimport { deepEqual } from '../../util/helpers'\nimport { consoleError } from '../../util/console'\nimport mixins from '../../util/mixins'\n\n// Types\nimport { PropValidator } from 'vue/types/options'\nimport { InputMessage, InputValidationRules } from 'vuetify/types'\n\nconst baseMixins = mixins(\n  Colorable,\n  RegistrableInject<'form', any>('form'),\n  Themeable,\n)\n\n/* @vue/component */\nexport default baseMixins.extend({\n  name: 'validatable',\n\n  props: {\n    disabled: Boolean,\n    error: Boolean,\n    errorCount: {\n      type: [Number, String],\n      default: 1,\n    },\n    errorMessages: {\n      type: [String, Array],\n      default: () => [],\n    } as PropValidator<InputMessage | null>,\n    messages: {\n      type: [String, Array],\n      default: () => [],\n    } as PropValidator<InputMessage | null>,\n    readonly: Boolean,\n    rules: {\n      type: Array,\n      default: () => [],\n    } as PropValidator<InputValidationRules>,\n    success: Boolean,\n    successMessages: {\n      type: [String, Array],\n      default: () => [],\n    } as PropValidator<InputMessage | null>,\n    validateOnBlur: Boolean,\n    value: { required: false },\n  },\n\n  data () {\n    return {\n      errorBucket: [] as string[],\n      hasColor: false,\n      hasFocused: false,\n      hasInput: false,\n      isFocused: false,\n      isResetting: false,\n      lazyValue: this.value,\n      valid: false,\n    }\n  },\n\n  computed: {\n    computedColor (): string | undefined {\n      if (this.isDisabled) return undefined\n      if (this.color) return this.color\n      // It's assumed that if the input is on a\n      // dark background, the user will want to\n      // have a white color. If the entire app\n      // is setup to be dark, then they will\n      // like want to use their primary color\n      if (this.isDark && !this.appIsDark) return 'white'\n      else return 'primary'\n    },\n    hasError (): boolean {\n      return (\n        this.internalErrorMessages.length > 0 ||\n        this.errorBucket.length > 0 ||\n        this.error\n      )\n    },\n    // TODO: Add logic that allows the user to enable based\n    // upon a good validation\n    hasSuccess (): boolean {\n      return (\n        this.internalSuccessMessages.length > 0 ||\n        this.success\n      )\n    },\n    externalError (): boolean {\n      return this.internalErrorMessages.length > 0 || this.error\n    },\n    hasMessages (): boolean {\n      return this.validationTarget.length > 0\n    },\n    hasState (): boolean {\n      if (this.isDisabled) return false\n\n      return (\n        this.hasSuccess ||\n        (this.shouldValidate && this.hasError)\n      )\n    },\n    internalErrorMessages (): InputValidationRules {\n      return this.genInternalMessages(this.errorMessages)\n    },\n    internalMessages (): InputValidationRules {\n      return this.genInternalMessages(this.messages)\n    },\n    internalSuccessMessages (): InputValidationRules {\n      return this.genInternalMessages(this.successMessages)\n    },\n    internalValue: {\n      get (): unknown {\n        return this.lazyValue\n      },\n      set (val: any) {\n        this.lazyValue = val\n\n        this.$emit('input', val)\n      },\n    },\n    isDisabled (): boolean {\n      return this.disabled || (\n        !!this.form &&\n        this.form.disabled\n      )\n    },\n    isInteractive (): boolean {\n      return !this.isDisabled && !this.isReadonly\n    },\n    isReadonly (): boolean {\n      return this.readonly || (\n        !!this.form &&\n        this.form.readonly\n      )\n    },\n    shouldValidate (): boolean {\n      if (this.externalError) return true\n      if (this.isResetting) return false\n\n      return this.validateOnBlur\n        ? this.hasFocused && !this.isFocused\n        : (this.hasInput || this.hasFocused)\n    },\n    validations (): InputValidationRules {\n      return this.validationTarget.slice(0, Number(this.errorCount))\n    },\n    validationState (): string | undefined {\n      if (this.isDisabled) return undefined\n      if (this.hasError && this.shouldValidate) return 'error'\n      if (this.hasSuccess) return 'success'\n      if (this.hasColor) return this.computedColor\n      return undefined\n    },\n    validationTarget (): InputValidationRules {\n      if (this.internalErrorMessages.length > 0) {\n        return this.internalErrorMessages\n      } else if (this.successMessages && this.successMessages.length > 0) {\n        return this.internalSuccessMessages\n      } else if (this.messages && this.messages.length > 0) {\n        return this.internalMessages\n      } else if (this.shouldValidate) {\n        return this.errorBucket\n      } else return []\n    },\n  },\n\n  watch: {\n    rules: {\n      handler (newVal, oldVal) {\n        if (deepEqual(newVal, oldVal)) return\n        this.validate()\n      },\n      deep: true,\n    },\n    internalValue () {\n      // If it's the first time we're setting input,\n      // mark it with hasInput\n      this.hasInput = true\n      this.validateOnBlur || this.$nextTick(this.validate)\n    },\n    isFocused (val) {\n      // Should not check validation\n      // if disabled\n      if (\n        !val &&\n        !this.isDisabled\n      ) {\n        this.hasFocused = true\n        this.validateOnBlur && this.$nextTick(this.validate)\n      }\n    },\n    isResetting () {\n      setTimeout(() => {\n        this.hasInput = false\n        this.hasFocused = false\n        this.isResetting = false\n        this.validate()\n      }, 0)\n    },\n    hasError (val) {\n      if (this.shouldValidate) {\n        this.$emit('update:error', val)\n      }\n    },\n    value (val) {\n      this.lazyValue = val\n    },\n  },\n\n  beforeMount () {\n    this.validate()\n  },\n\n  created () {\n    this.form && this.form.register(this)\n  },\n\n  beforeDestroy () {\n    this.form && this.form.unregister(this)\n  },\n\n  methods: {\n    genInternalMessages (messages: InputMessage | null): InputValidationRules {\n      if (!messages) return []\n      else if (Array.isArray(messages)) return messages\n      else return [messages]\n    },\n    /** @public */\n    reset () {\n      this.isResetting = true\n      this.internalValue = Array.isArray(this.internalValue)\n        ? []\n        : null\n    },\n    /** @public */\n    resetValidation () {\n      this.isResetting = true\n    },\n    /** @public */\n    validate (force = false, value?: any): boolean {\n      const errorBucket = []\n      value = value || this.internalValue\n\n      if (force) this.hasInput = this.hasFocused = true\n\n      for (let index = 0; index < this.rules.length; index++) {\n        const rule = this.rules[index]\n        const valid = typeof rule === 'function' ? rule(value) : rule\n\n        if (valid === false || typeof valid === 'string') {\n          errorBucket.push(valid || '')\n        } else if (typeof valid !== 'boolean') {\n          consoleError(`Rules should return a string or boolean, received '${typeof valid}' instead`, this)\n        }\n      }\n\n      this.errorBucket = errorBucket\n      this.valid = errorBucket.length === 0\n\n      return this.valid\n    },\n  },\n})\n","// Styles\nimport './VInput.sass'\n\n// Components\nimport VIcon from '../VIcon'\nimport VLabel from '../VLabel'\nimport VMessages from '../VMessages'\n\n// Mixins\nimport BindsAttrs from '../../mixins/binds-attrs'\nimport Validatable from '../../mixins/validatable'\n\n// Utilities\nimport {\n  convertToUnit,\n  getSlot,\n  kebabCase,\n} from '../../util/helpers'\nimport mergeData from '../../util/mergeData'\n\n// Types\nimport { VNode, VNodeData, PropType } from 'vue'\nimport mixins from '../../util/mixins'\nimport { InputValidationRule } from 'vuetify/types'\n\nconst baseMixins = mixins(\n  BindsAttrs,\n  Validatable,\n)\n\ninterface options extends InstanceType<typeof baseMixins> {\n  /* eslint-disable-next-line camelcase */\n  $_modelEvent: string\n}\n\n/* @vue/component */\nexport default baseMixins.extend<options>().extend({\n  name: 'v-input',\n\n  inheritAttrs: false,\n\n  props: {\n    appendIcon: String,\n    backgroundColor: {\n      type: String,\n      default: '',\n    },\n    dense: Boolean,\n    height: [Number, String],\n    hideDetails: [Boolean, String] as PropType<boolean | 'auto'>,\n    hideSpinButtons: Boolean,\n    hint: String,\n    id: String,\n    label: String,\n    loading: Boolean,\n    persistentHint: Boolean,\n    prependIcon: String,\n    value: null as any as PropType<any>,\n  },\n\n  data () {\n    return {\n      lazyValue: this.value,\n      hasMouseDown: false,\n    }\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-input--has-state': this.hasState,\n        'v-input--hide-details': !this.showDetails,\n        'v-input--is-label-active': this.isLabelActive,\n        'v-input--is-dirty': this.isDirty,\n        'v-input--is-disabled': this.isDisabled,\n        'v-input--is-focused': this.isFocused,\n        // <v-switch loading>.loading === '' so we can't just cast to boolean\n        'v-input--is-loading': this.loading !== false && this.loading != null,\n        'v-input--is-readonly': this.isReadonly,\n        'v-input--dense': this.dense,\n        'v-input--hide-spin-buttons': this.hideSpinButtons,\n        ...this.themeClasses,\n      }\n    },\n    computedId (): string {\n      return this.id || `input-${this._uid}`\n    },\n    hasDetails (): boolean {\n      return this.messagesToDisplay.length > 0\n    },\n    hasHint (): boolean {\n      return !this.hasMessages &&\n        !!this.hint &&\n        (this.persistentHint || this.isFocused)\n    },\n    hasLabel (): boolean {\n      return !!(this.$slots.label || this.label)\n    },\n    // Proxy for `lazyValue`\n    // This allows an input\n    // to function without\n    // a provided model\n    internalValue: {\n      get (): any {\n        return this.lazyValue\n      },\n      set (val: any) {\n        this.lazyValue = val\n        this.$emit(this.$_modelEvent, val)\n      },\n    },\n    isDirty (): boolean {\n      return !!this.lazyValue\n    },\n    isLabelActive (): boolean {\n      return this.isDirty\n    },\n    messagesToDisplay (): string[] {\n      if (this.hasHint) return [this.hint]\n\n      if (!this.hasMessages) return []\n\n      return this.validations.map((validation: string | InputValidationRule) => {\n        if (typeof validation === 'string') return validation\n\n        const validationResult = validation(this.internalValue)\n\n        return typeof validationResult === 'string' ? validationResult : ''\n      }).filter(message => message !== '')\n    },\n    showDetails (): boolean {\n      return this.hideDetails === false || (this.hideDetails === 'auto' && this.hasDetails)\n    },\n  },\n\n  watch: {\n    value (val) {\n      this.lazyValue = val\n    },\n  },\n\n  beforeCreate () {\n    // v-radio-group needs to emit a different event\n    // https://github.com/vuetifyjs/vuetify/issues/4752\n    this.$_modelEvent = (this.$options.model && this.$options.model.event) || 'input'\n  },\n\n  methods: {\n    genContent () {\n      return [\n        this.genPrependSlot(),\n        this.genControl(),\n        this.genAppendSlot(),\n      ]\n    },\n    genControl () {\n      return this.$createElement('div', {\n        staticClass: 'v-input__control',\n        attrs: { title: this.attrs$.title },\n      }, [\n        this.genInputSlot(),\n        this.genMessages(),\n      ])\n    },\n    genDefaultSlot () {\n      return [\n        this.genLabel(),\n        this.$slots.default,\n      ]\n    },\n    genIcon (\n      type: string,\n      cb?: (e: Event) => void,\n      extraData: VNodeData = {}\n    ) {\n      const icon = (this as any)[`${type}Icon`]\n      const eventName = `click:${kebabCase(type)}`\n      const hasListener = !!(this.listeners$[eventName] || cb)\n\n      const data = mergeData({\n        attrs: {\n          'aria-label': hasListener ? kebabCase(type).split('-')[0] + ' icon' : undefined,\n          color: this.validationState,\n          dark: this.dark,\n          disabled: this.isDisabled,\n          light: this.light,\n        },\n        on: !hasListener\n          ? undefined\n          : {\n            click: (e: Event) => {\n              e.preventDefault()\n              e.stopPropagation()\n\n              this.$emit(eventName, e)\n              cb && cb(e)\n            },\n            // Container has g event that will\n            // trigger menu open if enclosed\n            mouseup: (e: Event) => {\n              e.preventDefault()\n              e.stopPropagation()\n            },\n          },\n      }, extraData)\n\n      return this.$createElement('div', {\n        staticClass: `v-input__icon`,\n        class: type ? `v-input__icon--${kebabCase(type)}` : undefined,\n      }, [\n        this.$createElement(\n          VIcon,\n          data,\n          icon\n        ),\n      ])\n    },\n    genInputSlot () {\n      return this.$createElement('div', this.setBackgroundColor(this.backgroundColor, {\n        staticClass: 'v-input__slot',\n        style: { height: convertToUnit(this.height) },\n        on: {\n          click: this.onClick,\n          mousedown: this.onMouseDown,\n          mouseup: this.onMouseUp,\n        },\n        ref: 'input-slot',\n      }), [this.genDefaultSlot()])\n    },\n    genLabel () {\n      if (!this.hasLabel) return null\n\n      return this.$createElement(VLabel, {\n        props: {\n          color: this.validationState,\n          dark: this.dark,\n          disabled: this.isDisabled,\n          focused: this.hasState,\n          for: this.computedId,\n          light: this.light,\n        },\n      }, this.$slots.label || this.label)\n    },\n    genMessages () {\n      if (!this.showDetails) return null\n\n      return this.$createElement(VMessages, {\n        props: {\n          color: this.hasHint ? '' : this.validationState,\n          dark: this.dark,\n          light: this.light,\n          value: this.messagesToDisplay,\n        },\n        attrs: {\n          role: this.hasMessages ? 'alert' : null,\n        },\n        scopedSlots: {\n          default: props => getSlot(this, 'message', props),\n        },\n      })\n    },\n    genSlot (\n      type: string,\n      location: string,\n      slot: (VNode | VNode[])[]\n    ) {\n      if (!slot.length) return null\n\n      const ref = `${type}-${location}`\n\n      return this.$createElement('div', {\n        staticClass: `v-input__${ref}`,\n        ref,\n      }, slot)\n    },\n    genPrependSlot () {\n      const slot = []\n\n      if (this.$slots.prepend) {\n        slot.push(this.$slots.prepend)\n      } else if (this.prependIcon) {\n        slot.push(this.genIcon('prepend'))\n      }\n\n      return this.genSlot('prepend', 'outer', slot)\n    },\n    genAppendSlot () {\n      const slot = []\n\n      // Append icon for text field was really\n      // an appended inner icon, v-text-field\n      // will overwrite this method in order to obtain\n      // backwards compat\n      if (this.$slots.append) {\n        slot.push(this.$slots.append)\n      } else if (this.appendIcon) {\n        slot.push(this.genIcon('append'))\n      }\n\n      return this.genSlot('append', 'outer', slot)\n    },\n    onClick (e: Event) {\n      this.$emit('click', e)\n    },\n    onMouseDown (e: Event) {\n      this.hasMouseDown = true\n      this.$emit('mousedown', e)\n    },\n    onMouseUp (e: Event) {\n      this.hasMouseDown = false\n      this.$emit('mouseup', e)\n    },\n  },\n\n  render (h): VNode {\n    return h('div', this.setTextColor(this.validationState, {\n      staticClass: 'v-input',\n      class: this.classes,\n    }), this.genContent())\n  },\n})\n","import VInput from './VInput'\n\nexport { VInput }\nexport default VInput\n","// Styles\nimport './VCounter.sass'\n\n// Mixins\nimport Themeable, { functionalThemeClasses } from '../../mixins/themeable'\n\n// Types\nimport { VNode } from 'vue'\nimport mixins from '../../util/mixins'\n\n/* @vue/component */\nexport default mixins(Themeable).extend({\n  name: 'v-counter',\n\n  functional: true,\n\n  props: {\n    value: {\n      type: [Number, String],\n      default: '',\n    },\n    max: [Number, String],\n  },\n\n  render (h, ctx): VNode {\n    const { props } = ctx\n    const max = parseInt(props.max, 10)\n    const value = parseInt(props.value, 10)\n    const content = max ? `${value} / ${max}` : String(props.value)\n    const isGreater = max && (value > max)\n\n    return h('div', {\n      staticClass: 'v-counter',\n      class: {\n        'error--text': isGreater,\n        ...functionalThemeClasses(ctx),\n      },\n    }, content)\n  },\n})\n","import VCounter from './VCounter'\n\nexport { VCounter }\nexport default VCounter\n","// Directives\nimport Intersect from '../../directives/intersect'\n\n// Utilities\nimport { consoleWarn } from '../../util/console'\n\n// Types\nimport Vue from 'vue'\n\nexport default function intersectable (options: { onVisible: string[] }) {\n  return Vue.extend({\n    name: 'intersectable',\n\n    data: () => ({\n      isIntersecting: false,\n    }),\n\n    mounted () {\n      Intersect.inserted(this.$el as HTMLElement, {\n        name: 'intersect',\n        value: this.onObserve,\n      }, this.$vnode)\n    },\n\n    destroyed () {\n      Intersect.unbind(this.$el as HTMLElement, {\n        name: 'intersect',\n        value: this.onObserve,\n      }, this.$vnode)\n    },\n\n    methods: {\n      onObserve (entries: IntersectionObserverEntry[], observer: IntersectionObserver, isIntersecting: boolean) {\n        this.isIntersecting = isIntersecting\n\n        if (!isIntersecting) return\n\n        for (let i = 0, length = options.onVisible.length; i < length; i++) {\n          const callback = (this as any)[options.onVisible[i]]\n\n          if (typeof callback === 'function') {\n            callback()\n            continue\n          }\n\n          consoleWarn(options.onVisible[i] + ' method is not available on the instance but referenced in intersectable mixin options')\n        }\n      },\n    },\n  })\n}\n","import { VNodeDirective } from 'vue/types/vnode'\nimport { VNode } from 'vue'\n\ninterface ResizeVNodeDirective extends VNodeDirective {\n  value?: () => void\n  options?: boolean | AddEventListenerOptions\n}\n\nfunction inserted (el: HTMLElement, binding: ResizeVNodeDirective, vnode: VNode) {\n  const callback = binding.value!\n  const options = binding.options || { passive: true }\n\n  window.addEventListener('resize', callback, options)\n\n  el._onResize = Object(el._onResize)\n  el._onResize![vnode.context!._uid] = {\n    callback,\n    options,\n  }\n\n  if (!binding.modifiers || !binding.modifiers.quiet) {\n    callback()\n  }\n}\n\nfunction unbind (el: HTMLElement, binding: ResizeVNodeDirective, vnode: VNode) {\n  if (!el._onResize?.[vnode.context!._uid]) return\n\n  const { callback, options } = el._onResize[vnode.context!._uid]!\n\n  window.removeEventListener('resize', callback, options)\n\n  delete el._onResize[vnode.context!._uid]\n}\n\nexport const Resize = {\n  inserted,\n  unbind,\n}\n\nexport default Resize\n","/**\n * Returns:\n *  - 'null' if the node is not attached to the DOM\n *  - the root node (HTMLDocument | ShadowRoot) otherwise\n */\nexport function attachedRoot (node: Node): null | HTMLDocument | ShadowRoot {\n  /* istanbul ignore next */\n  if (typeof node.getRootNode !== 'function') {\n    // Shadow DOM not supported (IE11), lets find the root of this node\n    while (node.parentNode) node = node.parentNode\n\n    // The root parent is the document if the node is attached to the DOM\n    if (node !== document) return null\n\n    return document\n  }\n\n  const root = node.getRootNode()\n\n  // The composed root node is the document if the node is attached to the DOM\n  if (root !== document && root.getRootNode({ composed: true }) !== document) return null\n\n  return root as HTMLDocument | ShadowRoot\n}\n","// Styles\nimport './VTextField.sass'\n\n// Extensions\nimport VInput from '../VInput'\n\n// Components\nimport VCounter from '../VCounter'\nimport VLabel from '../VLabel'\n\n// Mixins\nimport Intersectable from '../../mixins/intersectable'\nimport Loadable from '../../mixins/loadable'\nimport Validatable from '../../mixins/validatable'\n\n// Directives\nimport resize from '../../directives/resize'\nimport ripple from '../../directives/ripple'\n\n// Utilities\nimport { attachedRoot } from '../../util/dom'\nimport { convertToUnit, keyCodes } from '../../util/helpers'\nimport { breaking, consoleWarn } from '../../util/console'\n\n// Types\nimport mixins from '../../util/mixins'\nimport { VNode, PropType } from 'vue/types'\n\nconst baseMixins = mixins(\n  VInput,\n  Intersectable({\n    onVisible: [\n      'onResize',\n      'tryAutofocus',\n    ],\n  }),\n  Loadable,\n)\ninterface options extends InstanceType<typeof baseMixins> {\n  $refs: {\n    label: HTMLElement\n    input: HTMLInputElement\n    'prepend-inner': HTMLElement\n    prefix: HTMLElement\n    suffix: HTMLElement\n  }\n}\n\nconst dirtyTypes = ['color', 'file', 'time', 'date', 'datetime-local', 'week', 'month']\n\n/* @vue/component */\nexport default baseMixins.extend<options>().extend({\n  name: 'v-text-field',\n\n  directives: {\n    resize,\n    ripple,\n  },\n\n  inheritAttrs: false,\n\n  props: {\n    appendOuterIcon: String,\n    autofocus: Boolean,\n    clearable: Boolean,\n    clearIcon: {\n      type: String,\n      default: '$clear',\n    },\n    counter: [Boolean, Number, String],\n    counterValue: Function as PropType<(value: any) => number>,\n    filled: Boolean,\n    flat: Boolean,\n    fullWidth: Boolean,\n    label: String,\n    outlined: Boolean,\n    placeholder: String,\n    prefix: String,\n    prependInnerIcon: String,\n    persistentPlaceholder: Boolean,\n    reverse: Boolean,\n    rounded: Boolean,\n    shaped: Boolean,\n    singleLine: Boolean,\n    solo: Boolean,\n    soloInverted: Boolean,\n    suffix: String,\n    type: {\n      type: String,\n      default: 'text',\n    },\n  },\n\n  data: () => ({\n    badInput: false,\n    labelWidth: 0,\n    prefixWidth: 0,\n    prependWidth: 0,\n    initialValue: null,\n    isBooted: false,\n    isClearing: false,\n  }),\n\n  computed: {\n    classes (): object {\n      return {\n        ...VInput.options.computed.classes.call(this),\n        'v-text-field': true,\n        'v-text-field--full-width': this.fullWidth,\n        'v-text-field--prefix': this.prefix,\n        'v-text-field--single-line': this.isSingle,\n        'v-text-field--solo': this.isSolo,\n        'v-text-field--solo-inverted': this.soloInverted,\n        'v-text-field--solo-flat': this.flat,\n        'v-text-field--filled': this.filled,\n        'v-text-field--is-booted': this.isBooted,\n        'v-text-field--enclosed': this.isEnclosed,\n        'v-text-field--reverse': this.reverse,\n        'v-text-field--outlined': this.outlined,\n        'v-text-field--placeholder': this.placeholder,\n        'v-text-field--rounded': this.rounded,\n        'v-text-field--shaped': this.shaped,\n      }\n    },\n    computedColor (): string | undefined {\n      const computedColor = Validatable.options.computed.computedColor.call(this)\n\n      if (!this.soloInverted || !this.isFocused) return computedColor\n\n      return this.color || 'primary'\n    },\n    computedCounterValue (): number {\n      if (typeof this.counterValue === 'function') {\n        return this.counterValue(this.internalValue)\n      }\n      return [...(this.internalValue || '').toString()].length\n    },\n    hasCounter (): boolean {\n      return this.counter !== false && this.counter != null\n    },\n    hasDetails (): boolean {\n      return VInput.options.computed.hasDetails.call(this) || this.hasCounter\n    },\n    internalValue: {\n      get (): any {\n        return this.lazyValue\n      },\n      set (val: any) {\n        this.lazyValue = val\n        this.$emit('input', this.lazyValue)\n      },\n    },\n    isDirty (): boolean {\n      return this.lazyValue?.toString().length > 0 || this.badInput\n    },\n    isEnclosed (): boolean {\n      return (\n        this.filled ||\n        this.isSolo ||\n        this.outlined\n      )\n    },\n    isLabelActive (): boolean {\n      return this.isDirty || dirtyTypes.includes(this.type)\n    },\n    isSingle (): boolean {\n      return (\n        this.isSolo ||\n        this.singleLine ||\n        this.fullWidth ||\n        // https://material.io/components/text-fields/#filled-text-field\n        (this.filled && !this.hasLabel)\n      )\n    },\n    isSolo (): boolean {\n      return this.solo || this.soloInverted\n    },\n    labelPosition (): Record<'left' | 'right', string | number | undefined> {\n      let offset = (this.prefix && !this.labelValue) ? this.prefixWidth : 0\n\n      if (this.labelValue && this.prependWidth) offset -= this.prependWidth\n\n      return (this.$vuetify.rtl === this.reverse) ? {\n        left: offset,\n        right: 'auto',\n      } : {\n        left: 'auto',\n        right: offset,\n      }\n    },\n    showLabel (): boolean {\n      return this.hasLabel && !(this.isSingle && this.labelValue)\n    },\n    labelValue (): boolean {\n      return this.isFocused || this.isLabelActive || this.persistentPlaceholder\n    },\n  },\n\n  watch: {\n    // labelValue: 'setLabelWidth', // moved to mounted, see #11533\n    outlined: 'setLabelWidth',\n    label () {\n      this.$nextTick(this.setLabelWidth)\n    },\n    prefix () {\n      this.$nextTick(this.setPrefixWidth)\n    },\n    isFocused: 'updateValue',\n    value (val) {\n      this.lazyValue = val\n    },\n  },\n\n  created () {\n    /* istanbul ignore next */\n    if (this.$attrs.hasOwnProperty('box')) {\n      breaking('box', 'filled', this)\n    }\n\n    /* istanbul ignore next */\n    if (this.$attrs.hasOwnProperty('browser-autocomplete')) {\n      breaking('browser-autocomplete', 'autocomplete', this)\n    }\n\n    /* istanbul ignore if */\n    if (this.shaped && !(this.filled || this.outlined || this.isSolo)) {\n      consoleWarn('shaped should be used with either filled or outlined', this)\n    }\n  },\n\n  mounted () {\n    // #11533\n    this.$watch(() => this.labelValue, this.setLabelWidth)\n    this.autofocus && this.tryAutofocus()\n    requestAnimationFrame(() => {\n      this.isBooted = true\n      requestAnimationFrame(() => {\n        if (!this.isIntersecting) {\n          this.onResize()\n        }\n      })\n    })\n  },\n\n  methods: {\n    /** @public */\n    focus () {\n      this.onFocus()\n    },\n    /** @public */\n    blur (e?: Event) {\n      // https://github.com/vuetifyjs/vuetify/issues/5913\n      // Safari tab order gets broken if called synchronous\n      window.requestAnimationFrame(() => {\n        this.$refs.input && this.$refs.input.blur()\n      })\n    },\n    clearableCallback () {\n      this.$refs.input && this.$refs.input.focus()\n      this.$nextTick(() => this.internalValue = null)\n    },\n    genAppendSlot () {\n      const slot = []\n\n      if (this.$slots['append-outer']) {\n        slot.push(this.$slots['append-outer'] as VNode[])\n      } else if (this.appendOuterIcon) {\n        slot.push(this.genIcon('appendOuter'))\n      }\n\n      return this.genSlot('append', 'outer', slot)\n    },\n    genPrependInnerSlot () {\n      const slot = []\n\n      if (this.$slots['prepend-inner']) {\n        slot.push(this.$slots['prepend-inner'] as VNode[])\n      } else if (this.prependInnerIcon) {\n        slot.push(this.genIcon('prependInner'))\n      }\n\n      return this.genSlot('prepend', 'inner', slot)\n    },\n    genIconSlot () {\n      const slot = []\n\n      if (this.$slots.append) {\n        slot.push(this.$slots.append as VNode[])\n      } else if (this.appendIcon) {\n        slot.push(this.genIcon('append'))\n      }\n\n      return this.genSlot('append', 'inner', slot)\n    },\n    genInputSlot () {\n      const input = VInput.options.methods.genInputSlot.call(this)\n\n      const prepend = this.genPrependInnerSlot()\n\n      if (prepend) {\n        input.children = input.children || []\n        input.children.unshift(prepend)\n      }\n\n      return input\n    },\n    genClearIcon () {\n      if (!this.clearable) return null\n\n      // if the text field has no content then don't display the clear icon.\n      // We add an empty div because other controls depend on a ref to append inner\n      if (!this.isDirty) {\n        return this.genSlot('append', 'inner', [\n          this.$createElement('div'),\n        ])\n      }\n\n      return this.genSlot('append', 'inner', [\n        this.genIcon('clear', this.clearableCallback),\n      ])\n    },\n    genCounter () {\n      if (!this.hasCounter) return null\n\n      const max = this.counter === true ? this.attrs$.maxlength : this.counter\n\n      const props = {\n        dark: this.dark,\n        light: this.light,\n        max,\n        value: this.computedCounterValue,\n      }\n\n      return this.$scopedSlots.counter?.({ props }) ?? this.$createElement(VCounter, { props })\n    },\n    genControl () {\n      return VInput.options.methods.genControl.call(this)\n    },\n    genDefaultSlot () {\n      return [\n        this.genFieldset(),\n        this.genTextFieldSlot(),\n        this.genClearIcon(),\n        this.genIconSlot(),\n        this.genProgress(),\n      ]\n    },\n    genFieldset () {\n      if (!this.outlined) return null\n\n      return this.$createElement('fieldset', {\n        attrs: {\n          'aria-hidden': true,\n        },\n      }, [this.genLegend()])\n    },\n    genLabel () {\n      if (!this.showLabel) return null\n\n      const data = {\n        props: {\n          absolute: true,\n          color: this.validationState,\n          dark: this.dark,\n          disabled: this.isDisabled,\n          focused: !this.isSingle && (this.isFocused || !!this.validationState),\n          for: this.computedId,\n          left: this.labelPosition.left,\n          light: this.light,\n          right: this.labelPosition.right,\n          value: this.labelValue,\n        },\n      }\n\n      return this.$createElement(VLabel, data, this.$slots.label || this.label)\n    },\n    genLegend () {\n      const width = !this.singleLine && (this.labelValue || this.isDirty) ? this.labelWidth : 0\n      const span = this.$createElement('span', {\n        domProps: { innerHTML: '&#8203;' },\n        staticClass: 'notranslate',\n      })\n\n      return this.$createElement('legend', {\n        style: {\n          width: !this.isSingle ? convertToUnit(width) : undefined,\n        },\n      }, [span])\n    },\n    genInput () {\n      const listeners = Object.assign({}, this.listeners$)\n      delete listeners.change // Change should not be bound externally\n      const { title, ...inputAttrs } = this.attrs$\n\n      return this.$createElement('input', {\n        style: {},\n        domProps: {\n          value: (this.type === 'number' && Object.is(this.lazyValue, -0)) ? '-0' : this.lazyValue,\n        },\n        attrs: {\n          ...inputAttrs,\n          autofocus: this.autofocus,\n          disabled: this.isDisabled,\n          id: this.computedId,\n          placeholder: this.persistentPlaceholder || this.isFocused || !this.hasLabel ? this.placeholder : undefined,\n          readonly: this.isReadonly,\n          type: this.type,\n        },\n        on: Object.assign(listeners, {\n          blur: this.onBlur,\n          input: this.onInput,\n          focus: this.onFocus,\n          keydown: this.onKeyDown,\n        }),\n        ref: 'input',\n        directives: [{\n          name: 'resize',\n          modifiers: { quiet: true },\n          value: this.onResize,\n        }],\n      })\n    },\n    genMessages () {\n      if (!this.showDetails) return null\n\n      const messagesNode = VInput.options.methods.genMessages.call(this)\n      const counterNode = this.genCounter()\n\n      return this.$createElement('div', {\n        staticClass: 'v-text-field__details',\n      }, [\n        messagesNode,\n        counterNode,\n      ])\n    },\n    genTextFieldSlot () {\n      return this.$createElement('div', {\n        staticClass: 'v-text-field__slot',\n      }, [\n        this.genLabel(),\n        this.prefix ? this.genAffix('prefix') : null,\n        this.genInput(),\n        this.suffix ? this.genAffix('suffix') : null,\n      ])\n    },\n    genAffix (type: 'prefix' | 'suffix') {\n      return this.$createElement('div', {\n        class: `v-text-field__${type}`,\n        ref: type,\n      }, this[type])\n    },\n    onBlur (e?: Event) {\n      this.isFocused = false\n      e && this.$nextTick(() => this.$emit('blur', e))\n    },\n    onClick () {\n      if (this.isFocused || this.isDisabled || !this.$refs.input) return\n\n      this.$refs.input.focus()\n    },\n    onFocus (e?: Event) {\n      if (!this.$refs.input) return\n\n      const root = attachedRoot(this.$el)\n      if (!root) return\n\n      if (root.activeElement !== this.$refs.input) {\n        return this.$refs.input.focus()\n      }\n\n      if (!this.isFocused) {\n        this.isFocused = true\n        e && this.$emit('focus', e)\n      }\n    },\n    onInput (e: Event) {\n      const target = e.target as HTMLInputElement\n      this.internalValue = target.value\n      this.badInput = target.validity && target.validity.badInput\n    },\n    onKeyDown (e: KeyboardEvent) {\n      if (\n        e.keyCode === keyCodes.enter &&\n        this.lazyValue !== this.initialValue\n      ) {\n        this.initialValue = this.lazyValue\n        this.$emit('change', this.initialValue)\n      }\n\n      this.$emit('keydown', e)\n    },\n    onMouseDown (e: Event) {\n      // Prevent input from being blurred\n      if (e.target !== this.$refs.input) {\n        e.preventDefault()\n        e.stopPropagation()\n      }\n\n      VInput.options.methods.onMouseDown.call(this, e)\n    },\n    onMouseUp (e: Event) {\n      if (this.hasMouseDown) this.focus()\n\n      VInput.options.methods.onMouseUp.call(this, e)\n    },\n    setLabelWidth () {\n      if (!this.outlined) return\n\n      this.labelWidth = this.$refs.label\n        ? Math.min(this.$refs.label.scrollWidth * 0.75 + 6, (this.$el as HTMLElement).offsetWidth - 24)\n        : 0\n    },\n    setPrefixWidth () {\n      if (!this.$refs.prefix) return\n\n      this.prefixWidth = this.$refs.prefix.offsetWidth\n    },\n    setPrependWidth () {\n      if (!this.outlined || !this.$refs['prepend-inner']) return\n\n      this.prependWidth = this.$refs['prepend-inner'].offsetWidth\n    },\n    tryAutofocus () {\n      if (\n        !this.autofocus ||\n        typeof document === 'undefined' ||\n        !this.$refs.input) return false\n\n      const root = attachedRoot(this.$el)\n      if (!root || root.activeElement === this.$refs.input) return false\n\n      this.$refs.input.focus()\n\n      return true\n    },\n    updateValue (val: boolean) {\n      // Sets validationState from validatable\n      this.hasColor = val\n\n      if (val) {\n        this.initialValue = this.lazyValue\n      } else if (this.initialValue !== this.lazyValue) {\n        this.$emit('change', this.lazyValue)\n      }\n    },\n    onResize () {\n      this.setLabelWidth()\n      this.setPrefixWidth()\n      this.setPrependWidth()\n    },\n  },\n})\n","import { render, staticRenderFns } from \"./CodePair.vue?vue&type=template&id=2feadfa2&\"\nimport script from \"./CodePair.vue?vue&type=script&lang=js&\"\nexport * from \"./CodePair.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCardText,VCol,VContainer,VForm,VRow,VSnackbar,VTextField})\n","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t(require(\"codemirror\")):\"function\"==typeof define&&define.amd?define([\"codemirror\"],t):\"object\"==typeof exports?exports.VueCodemirror=t(require(\"codemirror\")):e.VueCodemirror=t(e.codemirror)}(this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"/\",t(t.s=3)}([function(t,n){t.exports=e},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=window.CodeMirror||o.default;\"function\"!=typeof Object.assign&&Object.defineProperty(Object,\"assign\",{value:function(e,t){if(null==e)throw new TypeError(\"Cannot convert undefined or null to object\");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n},writable:!0,configurable:!0}),t.default={name:\"codemirror\",data:function(){return{content:\"\",codemirror:null,cminstance:null}},props:{code:String,value:String,marker:Function,unseenLines:Array,name:{type:String,default:\"codemirror\"},placeholder:{type:String,default:\"\"},merge:{type:Boolean,default:!1},options:{type:Object,default:function(){return{}}},events:{type:Array,default:function(){return[]}},globalOptions:{type:Object,default:function(){return{}}},globalEvents:{type:Array,default:function(){return[]}}},watch:{options:{deep:!0,handler:function(e){for(var t in e)this.cminstance.setOption(t,e[t])}},merge:function(){this.$nextTick(this.switchMerge)},code:function(e){this.handerCodeChange(e)},value:function(e){this.handerCodeChange(e)}},methods:{initialize:function(){var e=this,t=Object.assign({},this.globalOptions,this.options);this.merge?(this.codemirror=i.MergeView(this.$refs.mergeview,t),this.cminstance=this.codemirror.edit):(this.codemirror=i.fromTextArea(this.$refs.textarea,t),this.cminstance=this.codemirror,this.cminstance.setValue(this.code||this.value||this.content)),this.cminstance.on(\"change\",function(t){e.content=t.getValue(),e.$emit&&e.$emit(\"input\",e.content)});var n={};[\"scroll\",\"changes\",\"beforeChange\",\"cursorActivity\",\"keyHandled\",\"inputRead\",\"electricInput\",\"beforeSelectionChange\",\"viewportChange\",\"swapDoc\",\"gutterClick\",\"gutterContextMenu\",\"focus\",\"blur\",\"refresh\",\"optionChange\",\"scrollCursorIntoView\",\"update\"].concat(this.events).concat(this.globalEvents).filter(function(e){return!n[e]&&(n[e]=!0)}).forEach(function(t){e.cminstance.on(t,function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];e.$emit.apply(e,[t].concat(r));var i=t.replace(/([A-Z])/g,\"-$1\").toLowerCase();i!==t&&e.$emit.apply(e,[i].concat(r))})});this.$emit(\"ready\",this.codemirror),this.unseenLineMarkers(),this.refresh()},refresh:function(){var e=this;this.$nextTick(function(){e.cminstance.refresh()})},destroy:function(){var e=this.cminstance.doc.cm.getWrapperElement();e&&e.remove&&e.remove()},handerCodeChange:function(e){if(e!==this.cminstance.getValue()){var t=this.cminstance.getScrollInfo();this.cminstance.setValue(e),this.content=e,this.cminstance.scrollTo(t.left,t.top)}this.unseenLineMarkers()},unseenLineMarkers:function(){var e=this;void 0!==this.unseenLines&&void 0!==this.marker&&this.unseenLines.forEach(function(t){var n=e.cminstance.lineInfo(t);e.cminstance.setGutterMarker(t,\"breakpoints\",n.gutterMarkers?null:e.marker())})},switchMerge:function(){var e=this.cminstance.doc.history,t=this.cminstance.doc.cleanGeneration;this.options.value=this.cminstance.getValue(),this.destroy(),this.initialize(),this.cminstance.doc.history=e,this.cminstance.doc.cleanGeneration=t}},mounted:function(){this.initialize()},beforeDestroy:function(){this.destroy()}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(1),o=n.n(r);for(var i in r)[\"default\",\"default\"].indexOf(i)<0&&function(e){n.d(t,e,function(){return r[e]})}(i);var s=n(5),c=n(4),a=c(o.a,s.a,!1,null,null,null);t.default=a.exports},function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.install=t.codemirror=t.CodeMirror=void 0;var o=n(0),i=r(o),s=n(2),c=r(s),a=window.CodeMirror||i.default,u=function(e,t){t&&(t.options&&(c.default.props.globalOptions.default=function(){return t.options}),t.events&&(c.default.props.globalEvents.default=function(){return t.events})),e.component(c.default.name,c.default)},l={CodeMirror:a,codemirror:c.default,install:u};t.default=l,t.CodeMirror=a,t.codemirror=c.default,t.install=u},function(e,t){e.exports=function(e,t,n,r,o,i){var s,c=e=e||{},a=typeof e.default;\"object\"!==a&&\"function\"!==a||(s=e,c=e.default);var u=\"function\"==typeof c?c.options:c;t&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0),n&&(u.functional=!0),o&&(u._scopeId=o);var l;if(i?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},u._ssrRegister=l):r&&(l=r),l){var f=u.functional,d=f?u.render:u.beforeCreate;f?(u._injectStyles=l,u.render=function(e,t){return l.call(t),d(e,t)}):u.beforeCreate=d?[].concat(d,l):[l]}return{esModule:s,exports:c,options:u}}},function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"vue-codemirror\",class:{merge:e.merge}},[e.merge?n(\"div\",{ref:\"mergeview\"}):n(\"textarea\",{ref:\"textarea\",attrs:{name:e.name,placeholder:e.placeholder}})])},o=[],i={render:r,staticRenderFns:o};t.a=i}])});","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// declare global: DOMRect\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var HINT_ELEMENT_CLASS        = \"CodeMirror-hint\";\n  var ACTIVE_HINT_ELEMENT_CLASS = \"CodeMirror-hint-active\";\n\n  // This is the old interface, kept around for now to stay\n  // backwards-compatible.\n  CodeMirror.showHint = function(cm, getHints, options) {\n    if (!getHints) return cm.showHint(options);\n    if (options && options.async) getHints.async = true;\n    var newOpts = {hint: getHints};\n    if (options) for (var prop in options) newOpts[prop] = options[prop];\n    return cm.showHint(newOpts);\n  };\n\n  CodeMirror.defineExtension(\"showHint\", function(options) {\n    options = parseOptions(this, this.getCursor(\"start\"), options);\n    var selections = this.listSelections()\n    if (selections.length > 1) return;\n    // By default, don't allow completion when something is selected.\n    // A hint function can have a `supportsSelection` property to\n    // indicate that it can handle selections.\n    if (this.somethingSelected()) {\n      if (!options.hint.supportsSelection) return;\n      // Don't try with cross-line selections\n      for (var i = 0; i < selections.length; i++)\n        if (selections[i].head.line != selections[i].anchor.line) return;\n    }\n\n    if (this.state.completionActive) this.state.completionActive.close();\n    var completion = this.state.completionActive = new Completion(this, options);\n    if (!completion.options.hint) return;\n\n    CodeMirror.signal(this, \"startCompletion\", this);\n    completion.update(true);\n  });\n\n  CodeMirror.defineExtension(\"closeHint\", function() {\n    if (this.state.completionActive) this.state.completionActive.close()\n  })\n\n  function Completion(cm, options) {\n    this.cm = cm;\n    this.options = options;\n    this.widget = null;\n    this.debounce = 0;\n    this.tick = 0;\n    this.startPos = this.cm.getCursor(\"start\");\n    this.startLen = this.cm.getLine(this.startPos.line).length - this.cm.getSelection().length;\n\n    if (this.options.updateOnCursorActivity) {\n      var self = this;\n      cm.on(\"cursorActivity\", this.activityFunc = function() { self.cursorActivity(); });\n    }\n  }\n\n  var requestAnimationFrame = window.requestAnimationFrame || function(fn) {\n    return setTimeout(fn, 1000/60);\n  };\n  var cancelAnimationFrame = window.cancelAnimationFrame || clearTimeout;\n\n  Completion.prototype = {\n    close: function() {\n      if (!this.active()) return;\n      this.cm.state.completionActive = null;\n      this.tick = null;\n      if (this.options.updateOnCursorActivity) {\n        this.cm.off(\"cursorActivity\", this.activityFunc);\n      }\n\n      if (this.widget && this.data) CodeMirror.signal(this.data, \"close\");\n      if (this.widget) this.widget.close();\n      CodeMirror.signal(this.cm, \"endCompletion\", this.cm);\n    },\n\n    active: function() {\n      return this.cm.state.completionActive == this;\n    },\n\n    pick: function(data, i) {\n      var completion = data.list[i], self = this;\n      this.cm.operation(function() {\n        if (completion.hint)\n          completion.hint(self.cm, data, completion);\n        else\n          self.cm.replaceRange(getText(completion), completion.from || data.from,\n                               completion.to || data.to, \"complete\");\n        CodeMirror.signal(data, \"pick\", completion);\n        self.cm.scrollIntoView();\n      });\n      if (this.options.closeOnPick) {\n        this.close();\n      }\n    },\n\n    cursorActivity: function() {\n      if (this.debounce) {\n        cancelAnimationFrame(this.debounce);\n        this.debounce = 0;\n      }\n\n      var identStart = this.startPos;\n      if(this.data) {\n        identStart = this.data.from;\n      }\n\n      var pos = this.cm.getCursor(), line = this.cm.getLine(pos.line);\n      if (pos.line != this.startPos.line || line.length - pos.ch != this.startLen - this.startPos.ch ||\n          pos.ch < identStart.ch || this.cm.somethingSelected() ||\n          (!pos.ch || this.options.closeCharacters.test(line.charAt(pos.ch - 1)))) {\n        this.close();\n      } else {\n        var self = this;\n        this.debounce = requestAnimationFrame(function() {self.update();});\n        if (this.widget) this.widget.disable();\n      }\n    },\n\n    update: function(first) {\n      if (this.tick == null) return\n      var self = this, myTick = ++this.tick\n      fetchHints(this.options.hint, this.cm, this.options, function(data) {\n        if (self.tick == myTick) self.finishUpdate(data, first)\n      })\n    },\n\n    finishUpdate: function(data, first) {\n      if (this.data) CodeMirror.signal(this.data, \"update\");\n\n      var picked = (this.widget && this.widget.picked) || (first && this.options.completeSingle);\n      if (this.widget) this.widget.close();\n\n      this.data = data;\n\n      if (data && data.list.length) {\n        if (picked && data.list.length == 1) {\n          this.pick(data, 0);\n        } else {\n          this.widget = new Widget(this, data);\n          CodeMirror.signal(data, \"shown\");\n        }\n      }\n    }\n  };\n\n  function parseOptions(cm, pos, options) {\n    var editor = cm.options.hintOptions;\n    var out = {};\n    for (var prop in defaultOptions) out[prop] = defaultOptions[prop];\n    if (editor) for (var prop in editor)\n      if (editor[prop] !== undefined) out[prop] = editor[prop];\n    if (options) for (var prop in options)\n      if (options[prop] !== undefined) out[prop] = options[prop];\n    if (out.hint.resolve) out.hint = out.hint.resolve(cm, pos)\n    return out;\n  }\n\n  function getText(completion) {\n    if (typeof completion == \"string\") return completion;\n    else return completion.text;\n  }\n\n  function buildKeyMap(completion, handle) {\n    var baseMap = {\n      Up: function() {handle.moveFocus(-1);},\n      Down: function() {handle.moveFocus(1);},\n      PageUp: function() {handle.moveFocus(-handle.menuSize() + 1, true);},\n      PageDown: function() {handle.moveFocus(handle.menuSize() - 1, true);},\n      Home: function() {handle.setFocus(0);},\n      End: function() {handle.setFocus(handle.length - 1);},\n      Enter: handle.pick,\n      Tab: handle.pick,\n      Esc: handle.close\n    };\n\n    var mac = /Mac/.test(navigator.platform);\n\n    if (mac) {\n      baseMap[\"Ctrl-P\"] = function() {handle.moveFocus(-1);};\n      baseMap[\"Ctrl-N\"] = function() {handle.moveFocus(1);};\n    }\n\n    var custom = completion.options.customKeys;\n    var ourMap = custom ? {} : baseMap;\n    function addBinding(key, val) {\n      var bound;\n      if (typeof val != \"string\")\n        bound = function(cm) { return val(cm, handle); };\n      // This mechanism is deprecated\n      else if (baseMap.hasOwnProperty(val))\n        bound = baseMap[val];\n      else\n        bound = val;\n      ourMap[key] = bound;\n    }\n    if (custom)\n      for (var key in custom) if (custom.hasOwnProperty(key))\n        addBinding(key, custom[key]);\n    var extra = completion.options.extraKeys;\n    if (extra)\n      for (var key in extra) if (extra.hasOwnProperty(key))\n        addBinding(key, extra[key]);\n    return ourMap;\n  }\n\n  function getHintElement(hintsElement, el) {\n    while (el && el != hintsElement) {\n      if (el.nodeName.toUpperCase() === \"LI\" && el.parentNode == hintsElement) return el;\n      el = el.parentNode;\n    }\n  }\n\n  function Widget(completion, data) {\n    this.id = \"cm-complete-\" + Math.floor(Math.random(1e6))\n    this.completion = completion;\n    this.data = data;\n    this.picked = false;\n    var widget = this, cm = completion.cm;\n    var ownerDocument = cm.getInputField().ownerDocument;\n    var parentWindow = ownerDocument.defaultView || ownerDocument.parentWindow;\n\n    var hints = this.hints = ownerDocument.createElement(\"ul\");\n    hints.setAttribute(\"role\", \"listbox\")\n    hints.setAttribute(\"aria-expanded\", \"true\")\n    hints.id = this.id\n    var theme = completion.cm.options.theme;\n    hints.className = \"CodeMirror-hints \" + theme;\n    this.selectedHint = data.selectedHint || 0;\n\n    var completions = data.list;\n    for (var i = 0; i < completions.length; ++i) {\n      var elt = hints.appendChild(ownerDocument.createElement(\"li\")), cur = completions[i];\n      var className = HINT_ELEMENT_CLASS + (i != this.selectedHint ? \"\" : \" \" + ACTIVE_HINT_ELEMENT_CLASS);\n      if (cur.className != null) className = cur.className + \" \" + className;\n      elt.className = className;\n      if (i == this.selectedHint) elt.setAttribute(\"aria-selected\", \"true\")\n      elt.id = this.id + \"-\" + i\n      elt.setAttribute(\"role\", \"option\")\n      if (cur.render) cur.render(elt, data, cur);\n      else elt.appendChild(ownerDocument.createTextNode(cur.displayText || getText(cur)));\n      elt.hintId = i;\n    }\n\n    var container = completion.options.container || ownerDocument.body;\n    var pos = cm.cursorCoords(completion.options.alignWithWord ? data.from : null);\n    var left = pos.left, top = pos.bottom, below = true;\n    var offsetLeft = 0, offsetTop = 0;\n    if (container !== ownerDocument.body) {\n      // We offset the cursor position because left and top are relative to the offsetParent's top left corner.\n      var isContainerPositioned = ['absolute', 'relative', 'fixed'].indexOf(parentWindow.getComputedStyle(container).position) !== -1;\n      var offsetParent = isContainerPositioned ? container : container.offsetParent;\n      var offsetParentPosition = offsetParent.getBoundingClientRect();\n      var bodyPosition = ownerDocument.body.getBoundingClientRect();\n      offsetLeft = (offsetParentPosition.left - bodyPosition.left - offsetParent.scrollLeft);\n      offsetTop = (offsetParentPosition.top - bodyPosition.top - offsetParent.scrollTop);\n    }\n    hints.style.left = (left - offsetLeft) + \"px\";\n    hints.style.top = (top - offsetTop) + \"px\";\n\n    // If we're at the edge of the screen, then we want the menu to appear on the left of the cursor.\n    var winW = parentWindow.innerWidth || Math.max(ownerDocument.body.offsetWidth, ownerDocument.documentElement.offsetWidth);\n    var winH = parentWindow.innerHeight || Math.max(ownerDocument.body.offsetHeight, ownerDocument.documentElement.offsetHeight);\n    container.appendChild(hints);\n    cm.getInputField().setAttribute(\"aria-autocomplete\", \"list\")\n    cm.getInputField().setAttribute(\"aria-owns\", this.id)\n    cm.getInputField().setAttribute(\"aria-activedescendant\", this.id + \"-\" + this.selectedHint)\n\n    var box = completion.options.moveOnOverlap ? hints.getBoundingClientRect() : new DOMRect();\n    var scrolls = completion.options.paddingForScrollbar ? hints.scrollHeight > hints.clientHeight + 1 : false;\n\n    // Compute in the timeout to avoid reflow on init\n    var startScroll;\n    setTimeout(function() { startScroll = cm.getScrollInfo(); });\n\n    var overlapY = box.bottom - winH;\n    if (overlapY > 0) {\n      var height = box.bottom - box.top, curTop = pos.top - (pos.bottom - box.top);\n      if (curTop - height > 0) { // Fits above cursor\n        hints.style.top = (top = pos.top - height - offsetTop) + \"px\";\n        below = false;\n      } else if (height > winH) {\n        hints.style.height = (winH - 5) + \"px\";\n        hints.style.top = (top = pos.bottom - box.top - offsetTop) + \"px\";\n        var cursor = cm.getCursor();\n        if (data.from.ch != cursor.ch) {\n          pos = cm.cursorCoords(cursor);\n          hints.style.left = (left = pos.left - offsetLeft) + \"px\";\n          box = hints.getBoundingClientRect();\n        }\n      }\n    }\n    var overlapX = box.right - winW;\n    if (scrolls) overlapX += cm.display.nativeBarWidth;\n    if (overlapX > 0) {\n      if (box.right - box.left > winW) {\n        hints.style.width = (winW - 5) + \"px\";\n        overlapX -= (box.right - box.left) - winW;\n      }\n      hints.style.left = (left = pos.left - overlapX - offsetLeft) + \"px\";\n    }\n    if (scrolls) for (var node = hints.firstChild; node; node = node.nextSibling)\n      node.style.paddingRight = cm.display.nativeBarWidth + \"px\"\n\n    cm.addKeyMap(this.keyMap = buildKeyMap(completion, {\n      moveFocus: function(n, avoidWrap) { widget.changeActive(widget.selectedHint + n, avoidWrap); },\n      setFocus: function(n) { widget.changeActive(n); },\n      menuSize: function() { return widget.screenAmount(); },\n      length: completions.length,\n      close: function() { completion.close(); },\n      pick: function() { widget.pick(); },\n      data: data\n    }));\n\n    if (completion.options.closeOnUnfocus) {\n      var closingOnBlur;\n      cm.on(\"blur\", this.onBlur = function() { closingOnBlur = setTimeout(function() { completion.close(); }, 100); });\n      cm.on(\"focus\", this.onFocus = function() { clearTimeout(closingOnBlur); });\n    }\n\n    cm.on(\"scroll\", this.onScroll = function() {\n      var curScroll = cm.getScrollInfo(), editor = cm.getWrapperElement().getBoundingClientRect();\n      if (!startScroll) startScroll = cm.getScrollInfo();\n      var newTop = top + startScroll.top - curScroll.top;\n      var point = newTop - (parentWindow.pageYOffset || (ownerDocument.documentElement || ownerDocument.body).scrollTop);\n      if (!below) point += hints.offsetHeight;\n      if (point <= editor.top || point >= editor.bottom) return completion.close();\n      hints.style.top = newTop + \"px\";\n      hints.style.left = (left + startScroll.left - curScroll.left) + \"px\";\n    });\n\n    CodeMirror.on(hints, \"dblclick\", function(e) {\n      var t = getHintElement(hints, e.target || e.srcElement);\n      if (t && t.hintId != null) {widget.changeActive(t.hintId); widget.pick();}\n    });\n\n    CodeMirror.on(hints, \"click\", function(e) {\n      var t = getHintElement(hints, e.target || e.srcElement);\n      if (t && t.hintId != null) {\n        widget.changeActive(t.hintId);\n        if (completion.options.completeOnSingleClick) widget.pick();\n      }\n    });\n\n    CodeMirror.on(hints, \"mousedown\", function() {\n      setTimeout(function(){cm.focus();}, 20);\n    });\n\n    // The first hint doesn't need to be scrolled to on init\n    var selectedHintRange = this.getSelectedHintRange();\n    if (selectedHintRange.from !== 0 || selectedHintRange.to !== 0) {\n      this.scrollToActive();\n    }\n\n    CodeMirror.signal(data, \"select\", completions[this.selectedHint], hints.childNodes[this.selectedHint]);\n    return true;\n  }\n\n  Widget.prototype = {\n    close: function() {\n      if (this.completion.widget != this) return;\n      this.completion.widget = null;\n      if (this.hints.parentNode) this.hints.parentNode.removeChild(this.hints);\n      this.completion.cm.removeKeyMap(this.keyMap);\n      var input = this.completion.cm.getInputField()\n      input.removeAttribute(\"aria-activedescendant\")\n      input.removeAttribute(\"aria-owns\")\n\n      var cm = this.completion.cm;\n      if (this.completion.options.closeOnUnfocus) {\n        cm.off(\"blur\", this.onBlur);\n        cm.off(\"focus\", this.onFocus);\n      }\n      cm.off(\"scroll\", this.onScroll);\n    },\n\n    disable: function() {\n      this.completion.cm.removeKeyMap(this.keyMap);\n      var widget = this;\n      this.keyMap = {Enter: function() { widget.picked = true; }};\n      this.completion.cm.addKeyMap(this.keyMap);\n    },\n\n    pick: function() {\n      this.completion.pick(this.data, this.selectedHint);\n    },\n\n    changeActive: function(i, avoidWrap) {\n      if (i >= this.data.list.length)\n        i = avoidWrap ? this.data.list.length - 1 : 0;\n      else if (i < 0)\n        i = avoidWrap ? 0  : this.data.list.length - 1;\n      if (this.selectedHint == i) return;\n      var node = this.hints.childNodes[this.selectedHint];\n      if (node) {\n        node.className = node.className.replace(\" \" + ACTIVE_HINT_ELEMENT_CLASS, \"\");\n        node.removeAttribute(\"aria-selected\")\n      }\n      node = this.hints.childNodes[this.selectedHint = i];\n      node.className += \" \" + ACTIVE_HINT_ELEMENT_CLASS;\n      node.setAttribute(\"aria-selected\", \"true\")\n      this.completion.cm.getInputField().setAttribute(\"aria-activedescendant\", node.id)\n      this.scrollToActive()\n      CodeMirror.signal(this.data, \"select\", this.data.list[this.selectedHint], node);\n    },\n\n    scrollToActive: function() {\n      var selectedHintRange = this.getSelectedHintRange();\n      var node1 = this.hints.childNodes[selectedHintRange.from];\n      var node2 = this.hints.childNodes[selectedHintRange.to];\n      var firstNode = this.hints.firstChild;\n      if (node1.offsetTop < this.hints.scrollTop)\n        this.hints.scrollTop = node1.offsetTop - firstNode.offsetTop;\n      else if (node2.offsetTop + node2.offsetHeight > this.hints.scrollTop + this.hints.clientHeight)\n        this.hints.scrollTop = node2.offsetTop + node2.offsetHeight - this.hints.clientHeight + firstNode.offsetTop;\n    },\n\n    screenAmount: function() {\n      return Math.floor(this.hints.clientHeight / this.hints.firstChild.offsetHeight) || 1;\n    },\n\n    getSelectedHintRange: function() {\n      var margin = this.completion.options.scrollMargin || 0;\n      return {\n        from: Math.max(0, this.selectedHint - margin),\n        to: Math.min(this.data.list.length - 1, this.selectedHint + margin),\n      };\n    }\n  };\n\n  function applicableHelpers(cm, helpers) {\n    if (!cm.somethingSelected()) return helpers\n    var result = []\n    for (var i = 0; i < helpers.length; i++)\n      if (helpers[i].supportsSelection) result.push(helpers[i])\n    return result\n  }\n\n  function fetchHints(hint, cm, options, callback) {\n    if (hint.async) {\n      hint(cm, callback, options)\n    } else {\n      var result = hint(cm, options)\n      if (result && result.then) result.then(callback)\n      else callback(result)\n    }\n  }\n\n  function resolveAutoHints(cm, pos) {\n    var helpers = cm.getHelpers(pos, \"hint\"), words\n    if (helpers.length) {\n      var resolved = function(cm, callback, options) {\n        var app = applicableHelpers(cm, helpers);\n        function run(i) {\n          if (i == app.length) return callback(null)\n          fetchHints(app[i], cm, options, function(result) {\n            if (result && result.list.length > 0) callback(result)\n            else run(i + 1)\n          })\n        }\n        run(0)\n      }\n      resolved.async = true\n      resolved.supportsSelection = true\n      return resolved\n    } else if (words = cm.getHelper(cm.getCursor(), \"hintWords\")) {\n      return function(cm) { return CodeMirror.hint.fromList(cm, {words: words}) }\n    } else if (CodeMirror.hint.anyword) {\n      return function(cm, options) { return CodeMirror.hint.anyword(cm, options) }\n    } else {\n      return function() {}\n    }\n  }\n\n  CodeMirror.registerHelper(\"hint\", \"auto\", {\n    resolve: resolveAutoHints\n  });\n\n  CodeMirror.registerHelper(\"hint\", \"fromList\", function(cm, options) {\n    var cur = cm.getCursor(), token = cm.getTokenAt(cur)\n    var term, from = CodeMirror.Pos(cur.line, token.start), to = cur\n    if (token.start < cur.ch && /\\w/.test(token.string.charAt(cur.ch - token.start - 1))) {\n      term = token.string.substr(0, cur.ch - token.start)\n    } else {\n      term = \"\"\n      from = cur\n    }\n    var found = [];\n    for (var i = 0; i < options.words.length; i++) {\n      var word = options.words[i];\n      if (word.slice(0, term.length) == term)\n        found.push(word);\n    }\n\n    if (found.length) return {list: found, from: from, to: to};\n  });\n\n  CodeMirror.commands.autocomplete = CodeMirror.showHint;\n\n  var defaultOptions = {\n    hint: CodeMirror.hint.auto,\n    completeSingle: true,\n    alignWithWord: true,\n    closeCharacters: /[\\s()\\[\\]{};:>,]/,\n    closeOnPick: true,\n    closeOnUnfocus: true,\n    updateOnCursorActivity: true,\n    completeOnSingleClick: true,\n    container: null,\n    customKeys: null,\n    extraKeys: null,\n    paddingForScrollbar: true,\n    moveOnOverlap: true,\n  };\n\n  CodeMirror.defineOption(\"hintOptions\", null);\n});\n","module.exports = XMLHttpRequest;\n","import globalThis from \"./globalThis.js\";\nexport function pick(obj, ...attr) {\n    return attr.reduce((acc, k) => {\n        if (obj.hasOwnProperty(k)) {\n            acc[k] = obj[k];\n        }\n        return acc;\n    }, {});\n}\n// Keep a reference to the real timeout functions so they can be used when overridden\nconst NATIVE_SET_TIMEOUT = setTimeout;\nconst NATIVE_CLEAR_TIMEOUT = clearTimeout;\nexport function installTimerFunctions(obj, opts) {\n    if (opts.useNativeTimers) {\n        obj.setTimeoutFn = NATIVE_SET_TIMEOUT.bind(globalThis);\n        obj.clearTimeoutFn = NATIVE_CLEAR_TIMEOUT.bind(globalThis);\n    }\n    else {\n        obj.setTimeoutFn = setTimeout.bind(globalThis);\n        obj.clearTimeoutFn = clearTimeout.bind(globalThis);\n    }\n}\n","\n/**\n * Expose `Emitter`.\n */\n\nexports.Emitter = Emitter;\n\n/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nfunction Emitter(obj) {\n  if (obj) return mixin(obj);\n}\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  function on() {\n    this.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks['$' + event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks['$' + event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n\n  // Remove event specific arrays for event types that no\n  // one is subscribed for to avoid memory leak.\n  if (callbacks.length === 0) {\n    delete this._callbacks['$' + event];\n  }\n\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n\n  var args = new Array(arguments.length - 1)\n    , callbacks = this._callbacks['$' + event];\n\n  for (var i = 1; i < arguments.length; i++) {\n    args[i - 1] = arguments[i];\n  }\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n// alias used for reserved events (protected method)\nEmitter.prototype.emitReserved = Emitter.prototype.emit;\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks['$' + event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"))\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod)\n  else // Plain browser env\n    mod(CodeMirror)\n})(function(CodeMirror) {\n  \"use strict\"\n  var Pos = CodeMirror.Pos\n\n  function regexpFlags(regexp) {\n    var flags = regexp.flags\n    return flags != null ? flags : (regexp.ignoreCase ? \"i\" : \"\")\n      + (regexp.global ? \"g\" : \"\")\n      + (regexp.multiline ? \"m\" : \"\")\n  }\n\n  function ensureFlags(regexp, flags) {\n    var current = regexpFlags(regexp), target = current\n    for (var i = 0; i < flags.length; i++) if (target.indexOf(flags.charAt(i)) == -1)\n      target += flags.charAt(i)\n    return current == target ? regexp : new RegExp(regexp.source, target)\n  }\n\n  function maybeMultiline(regexp) {\n    return /\\\\s|\\\\n|\\n|\\\\W|\\\\D|\\[\\^/.test(regexp.source)\n  }\n\n  function searchRegexpForward(doc, regexp, start) {\n    regexp = ensureFlags(regexp, \"g\")\n    for (var line = start.line, ch = start.ch, last = doc.lastLine(); line <= last; line++, ch = 0) {\n      regexp.lastIndex = ch\n      var string = doc.getLine(line), match = regexp.exec(string)\n      if (match)\n        return {from: Pos(line, match.index),\n                to: Pos(line, match.index + match[0].length),\n                match: match}\n    }\n  }\n\n  function searchRegexpForwardMultiline(doc, regexp, start) {\n    if (!maybeMultiline(regexp)) return searchRegexpForward(doc, regexp, start)\n\n    regexp = ensureFlags(regexp, \"gm\")\n    var string, chunk = 1\n    for (var line = start.line, last = doc.lastLine(); line <= last;) {\n      // This grows the search buffer in exponentially-sized chunks\n      // between matches, so that nearby matches are fast and don't\n      // require concatenating the whole document (in case we're\n      // searching for something that has tons of matches), but at the\n      // same time, the amount of retries is limited.\n      for (var i = 0; i < chunk; i++) {\n        if (line > last) break\n        var curLine = doc.getLine(line++)\n        string = string == null ? curLine : string + \"\\n\" + curLine\n      }\n      chunk = chunk * 2\n      regexp.lastIndex = start.ch\n      var match = regexp.exec(string)\n      if (match) {\n        var before = string.slice(0, match.index).split(\"\\n\"), inside = match[0].split(\"\\n\")\n        var startLine = start.line + before.length - 1, startCh = before[before.length - 1].length\n        return {from: Pos(startLine, startCh),\n                to: Pos(startLine + inside.length - 1,\n                        inside.length == 1 ? startCh + inside[0].length : inside[inside.length - 1].length),\n                match: match}\n      }\n    }\n  }\n\n  function lastMatchIn(string, regexp, endMargin) {\n    var match, from = 0\n    while (from <= string.length) {\n      regexp.lastIndex = from\n      var newMatch = regexp.exec(string)\n      if (!newMatch) break\n      var end = newMatch.index + newMatch[0].length\n      if (end > string.length - endMargin) break\n      if (!match || end > match.index + match[0].length)\n        match = newMatch\n      from = newMatch.index + 1\n    }\n    return match\n  }\n\n  function searchRegexpBackward(doc, regexp, start) {\n    regexp = ensureFlags(regexp, \"g\")\n    for (var line = start.line, ch = start.ch, first = doc.firstLine(); line >= first; line--, ch = -1) {\n      var string = doc.getLine(line)\n      var match = lastMatchIn(string, regexp, ch < 0 ? 0 : string.length - ch)\n      if (match)\n        return {from: Pos(line, match.index),\n                to: Pos(line, match.index + match[0].length),\n                match: match}\n    }\n  }\n\n  function searchRegexpBackwardMultiline(doc, regexp, start) {\n    if (!maybeMultiline(regexp)) return searchRegexpBackward(doc, regexp, start)\n    regexp = ensureFlags(regexp, \"gm\")\n    var string, chunkSize = 1, endMargin = doc.getLine(start.line).length - start.ch\n    for (var line = start.line, first = doc.firstLine(); line >= first;) {\n      for (var i = 0; i < chunkSize && line >= first; i++) {\n        var curLine = doc.getLine(line--)\n        string = string == null ? curLine : curLine + \"\\n\" + string\n      }\n      chunkSize *= 2\n\n      var match = lastMatchIn(string, regexp, endMargin)\n      if (match) {\n        var before = string.slice(0, match.index).split(\"\\n\"), inside = match[0].split(\"\\n\")\n        var startLine = line + before.length, startCh = before[before.length - 1].length\n        return {from: Pos(startLine, startCh),\n                to: Pos(startLine + inside.length - 1,\n                        inside.length == 1 ? startCh + inside[0].length : inside[inside.length - 1].length),\n                match: match}\n      }\n    }\n  }\n\n  var doFold, noFold\n  if (String.prototype.normalize) {\n    doFold = function(str) { return str.normalize(\"NFD\").toLowerCase() }\n    noFold = function(str) { return str.normalize(\"NFD\") }\n  } else {\n    doFold = function(str) { return str.toLowerCase() }\n    noFold = function(str) { return str }\n  }\n\n  // Maps a position in a case-folded line back to a position in the original line\n  // (compensating for codepoints increasing in number during folding)\n  function adjustPos(orig, folded, pos, foldFunc) {\n    if (orig.length == folded.length) return pos\n    for (var min = 0, max = pos + Math.max(0, orig.length - folded.length);;) {\n      if (min == max) return min\n      var mid = (min + max) >> 1\n      var len = foldFunc(orig.slice(0, mid)).length\n      if (len == pos) return mid\n      else if (len > pos) max = mid\n      else min = mid + 1\n    }\n  }\n\n  function searchStringForward(doc, query, start, caseFold) {\n    // Empty string would match anything and never progress, so we\n    // define it to match nothing instead.\n    if (!query.length) return null\n    var fold = caseFold ? doFold : noFold\n    var lines = fold(query).split(/\\r|\\n\\r?/)\n\n    search: for (var line = start.line, ch = start.ch, last = doc.lastLine() + 1 - lines.length; line <= last; line++, ch = 0) {\n      var orig = doc.getLine(line).slice(ch), string = fold(orig)\n      if (lines.length == 1) {\n        var found = string.indexOf(lines[0])\n        if (found == -1) continue search\n        var start = adjustPos(orig, string, found, fold) + ch\n        return {from: Pos(line, adjustPos(orig, string, found, fold) + ch),\n                to: Pos(line, adjustPos(orig, string, found + lines[0].length, fold) + ch)}\n      } else {\n        var cutFrom = string.length - lines[0].length\n        if (string.slice(cutFrom) != lines[0]) continue search\n        for (var i = 1; i < lines.length - 1; i++)\n          if (fold(doc.getLine(line + i)) != lines[i]) continue search\n        var end = doc.getLine(line + lines.length - 1), endString = fold(end), lastLine = lines[lines.length - 1]\n        if (endString.slice(0, lastLine.length) != lastLine) continue search\n        return {from: Pos(line, adjustPos(orig, string, cutFrom, fold) + ch),\n                to: Pos(line + lines.length - 1, adjustPos(end, endString, lastLine.length, fold))}\n      }\n    }\n  }\n\n  function searchStringBackward(doc, query, start, caseFold) {\n    if (!query.length) return null\n    var fold = caseFold ? doFold : noFold\n    var lines = fold(query).split(/\\r|\\n\\r?/)\n\n    search: for (var line = start.line, ch = start.ch, first = doc.firstLine() - 1 + lines.length; line >= first; line--, ch = -1) {\n      var orig = doc.getLine(line)\n      if (ch > -1) orig = orig.slice(0, ch)\n      var string = fold(orig)\n      if (lines.length == 1) {\n        var found = string.lastIndexOf(lines[0])\n        if (found == -1) continue search\n        return {from: Pos(line, adjustPos(orig, string, found, fold)),\n                to: Pos(line, adjustPos(orig, string, found + lines[0].length, fold))}\n      } else {\n        var lastLine = lines[lines.length - 1]\n        if (string.slice(0, lastLine.length) != lastLine) continue search\n        for (var i = 1, start = line - lines.length + 1; i < lines.length - 1; i++)\n          if (fold(doc.getLine(start + i)) != lines[i]) continue search\n        var top = doc.getLine(line + 1 - lines.length), topString = fold(top)\n        if (topString.slice(topString.length - lines[0].length) != lines[0]) continue search\n        return {from: Pos(line + 1 - lines.length, adjustPos(top, topString, top.length - lines[0].length, fold)),\n                to: Pos(line, adjustPos(orig, string, lastLine.length, fold))}\n      }\n    }\n  }\n\n  function SearchCursor(doc, query, pos, options) {\n    this.atOccurrence = false\n    this.afterEmptyMatch = false\n    this.doc = doc\n    pos = pos ? doc.clipPos(pos) : Pos(0, 0)\n    this.pos = {from: pos, to: pos}\n\n    var caseFold\n    if (typeof options == \"object\") {\n      caseFold = options.caseFold\n    } else { // Backwards compat for when caseFold was the 4th argument\n      caseFold = options\n      options = null\n    }\n\n    if (typeof query == \"string\") {\n      if (caseFold == null) caseFold = false\n      this.matches = function(reverse, pos) {\n        return (reverse ? searchStringBackward : searchStringForward)(doc, query, pos, caseFold)\n      }\n    } else {\n      query = ensureFlags(query, \"gm\")\n      if (!options || options.multiline !== false)\n        this.matches = function(reverse, pos) {\n          return (reverse ? searchRegexpBackwardMultiline : searchRegexpForwardMultiline)(doc, query, pos)\n        }\n      else\n        this.matches = function(reverse, pos) {\n          return (reverse ? searchRegexpBackward : searchRegexpForward)(doc, query, pos)\n        }\n    }\n  }\n\n  SearchCursor.prototype = {\n    findNext: function() {return this.find(false)},\n    findPrevious: function() {return this.find(true)},\n\n    find: function(reverse) {\n      var head = this.doc.clipPos(reverse ? this.pos.from : this.pos.to);\n      if (this.afterEmptyMatch && this.atOccurrence) {\n        // do not return the same 0 width match twice\n        head = Pos(head.line, head.ch)\n        if (reverse) {\n          head.ch--;\n          if (head.ch < 0) {\n            head.line--;\n            head.ch = (this.doc.getLine(head.line) || \"\").length;\n          }\n        } else {\n          head.ch++;\n          if (head.ch > (this.doc.getLine(head.line) || \"\").length) {\n            head.ch = 0;\n            head.line++;\n          }\n        }\n        if (CodeMirror.cmpPos(head, this.doc.clipPos(head)) != 0) {\n           return this.atOccurrence = false\n        }\n      }\n      var result = this.matches(reverse, head)\n      this.afterEmptyMatch = result && CodeMirror.cmpPos(result.from, result.to) == 0\n\n      if (result) {\n        this.pos = result\n        this.atOccurrence = true\n        return this.pos.match || true\n      } else {\n        var end = Pos(reverse ? this.doc.firstLine() : this.doc.lastLine() + 1, 0)\n        this.pos = {from: end, to: end}\n        return this.atOccurrence = false\n      }\n    },\n\n    from: function() {if (this.atOccurrence) return this.pos.from},\n    to: function() {if (this.atOccurrence) return this.pos.to},\n\n    replace: function(newText, origin) {\n      if (!this.atOccurrence) return\n      var lines = CodeMirror.splitLines(newText)\n      this.doc.replaceRange(lines, this.pos.from, this.pos.to, origin)\n      this.pos.to = Pos(this.pos.from.line + lines.length - 1,\n                        lines[lines.length - 1].length + (lines.length == 1 ? this.pos.from.ch : 0))\n    }\n  }\n\n  CodeMirror.defineExtension(\"getSearchCursor\", function(query, pos, caseFold) {\n    return new SearchCursor(this.doc, query, pos, caseFold)\n  })\n  CodeMirror.defineDocExtension(\"getSearchCursor\", function(query, pos, caseFold) {\n    return new SearchCursor(this, query, pos, caseFold)\n  })\n\n  CodeMirror.defineExtension(\"selectMatches\", function(query, caseFold) {\n    var ranges = []\n    var cur = this.getSearchCursor(query, this.getCursor(\"from\"), caseFold)\n    while (cur.findNext()) {\n      if (CodeMirror.cmpPos(cur.to(), this.getCursor(\"to\")) > 0) break\n      ranges.push({anchor: cur.from(), head: cur.to()})\n    }\n    if (ranges.length)\n      this.setSelections(ranges, 0)\n  })\n});\n","\n/**\n * Module exports.\n *\n * Logic borrowed from Modernizr:\n *\n *   - https://github.com/Modernizr/Modernizr/blob/master/feature-detects/cors.js\n */\n\ntry {\n  module.exports = typeof XMLHttpRequest !== 'undefined' &&\n    'withCredentials' in new XMLHttpRequest();\n} catch (err) {\n  // if XMLHttp support is disabled in IE then it will throw\n  // when trying to create\n  module.exports = false;\n}\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  CodeMirror.defineOption(\"placeholder\", \"\", function(cm, val, old) {\n    var prev = old && old != CodeMirror.Init;\n    if (val && !prev) {\n      cm.on(\"blur\", onBlur);\n      cm.on(\"change\", onChange);\n      cm.on(\"swapDoc\", onChange);\n      CodeMirror.on(cm.getInputField(), \"compositionupdate\", cm.state.placeholderCompose = function() { onComposition(cm) })\n      onChange(cm);\n    } else if (!val && prev) {\n      cm.off(\"blur\", onBlur);\n      cm.off(\"change\", onChange);\n      cm.off(\"swapDoc\", onChange);\n      CodeMirror.off(cm.getInputField(), \"compositionupdate\", cm.state.placeholderCompose)\n      clearPlaceholder(cm);\n      var wrapper = cm.getWrapperElement();\n      wrapper.className = wrapper.className.replace(\" CodeMirror-empty\", \"\");\n    }\n\n    if (val && !cm.hasFocus()) onBlur(cm);\n  });\n\n  function clearPlaceholder(cm) {\n    if (cm.state.placeholder) {\n      cm.state.placeholder.parentNode.removeChild(cm.state.placeholder);\n      cm.state.placeholder = null;\n    }\n  }\n  function setPlaceholder(cm) {\n    clearPlaceholder(cm);\n    var elt = cm.state.placeholder = document.createElement(\"pre\");\n    elt.style.cssText = \"height: 0; overflow: visible\";\n    elt.style.direction = cm.getOption(\"direction\");\n    elt.className = \"CodeMirror-placeholder CodeMirror-line-like\";\n    var placeHolder = cm.getOption(\"placeholder\")\n    if (typeof placeHolder == \"string\") placeHolder = document.createTextNode(placeHolder)\n    elt.appendChild(placeHolder)\n    cm.display.lineSpace.insertBefore(elt, cm.display.lineSpace.firstChild);\n  }\n\n  function onComposition(cm) {\n    setTimeout(function() {\n      var empty = false\n      if (cm.lineCount() == 1) {\n        var input = cm.getInputField()\n        empty = input.nodeName == \"TEXTAREA\" ? !cm.getLine(0).length\n          : !/[^\\u200b]/.test(input.querySelector(\".CodeMirror-line\").textContent)\n      }\n      if (empty) setPlaceholder(cm)\n      else clearPlaceholder(cm)\n    }, 20)\n  }\n\n  function onBlur(cm) {\n    if (isEmpty(cm)) setPlaceholder(cm);\n  }\n  function onChange(cm) {\n    var wrapper = cm.getWrapperElement(), empty = isEmpty(cm);\n    wrapper.className = wrapper.className.replace(\" CodeMirror-empty\", \"\") + (empty ? \" CodeMirror-empty\" : \"\");\n\n    if (empty) setPlaceholder(cm);\n    else clearPlaceholder(cm);\n  }\n\n  function isEmpty(cm) {\n    return (cm.lineCount() === 1) && (cm.getLine(0) === \"\");\n  }\n});\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n"],"sourceRoot":""}